!function(a,b){"use strict";"object"==typeof exports?module.exports=b(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"==typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],b):a.URI=b(a.punycode,a.IPv6,a.SecondLevelDomains,a)}(this,function(a,b,c,d){"use strict";function e(a,b){return this instanceof e?(void 0===a&&(a="undefined"!=typeof location?location.href+"":""),this.href(a),void 0!==b?this.absoluteTo(b):this):new e(a,b)}function f(a){return a.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function g(a){return void 0===a?"Undefined":String(Object.prototype.toString.call(a)).slice(8,-1)}function h(a){return"Array"===g(a)}function i(a,b){var c,d,e={};if(h(b))for(c=0,d=b.length;d>c;c++)e[b[c]]=!0;else e[b]=!0;for(c=0,d=a.length;d>c;c++)void 0!==e[a[c]]&&(a.splice(c,1),d--,c--);return a}function j(a,b){var c,d;if(h(b)){for(c=0,d=b.length;d>c;c++)if(!j(a,b[c]))return!1;return!0}var e=g(b);for(c=0,d=a.length;d>c;c++)if("RegExp"===e){if("string"==typeof a[c]&&a[c].match(b))return!0}else if(a[c]===b)return!0;return!1}function k(a,b){if(!h(a)||!h(b))return!1;if(a.length!==b.length)return!1;a.sort(),b.sort();for(var c=0,d=a.length;d>c;c++)if(a[c]!==b[c])return!1;return!0}function l(a){return escape(a)}function m(a){return encodeURIComponent(a).replace(/[!'()*]/g,l).replace(/\*/g,"%2A")}function n(a){return function(b,c){return void 0===b?this._parts[a]||"":(this._parts[a]=b||null,this.build(!c),this)}}function o(a,b){return function(c,d){return void 0===c?this._parts[a]||"":(null!==c&&(c+="",c.charAt(0)===b&&(c=c.substring(1))),this._parts[a]=c,this.build(!d),this)}}var p=d&&d.URI;e.version="1.14.2";var q=e.prototype,r=Object.prototype.hasOwnProperty;e._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:e.duplicateQueryParameters,escapeQuerySpace:e.escapeQuerySpace}},e.duplicateQueryParameters=!1,e.escapeQuerySpace=!0,e.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,e.idn_expression=/[^a-z0-9\.-]/i,e.punycode_expression=/(xn--)/i,e.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,e.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,e.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/},e.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},e.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,e.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},e.getDomAttribute=function(a){if(!a||!a.nodeName)return void 0;var b=a.nodeName.toLowerCase();return"input"===b&&"image"!==a.type?void 0:e.domAttributes[b]},e.encode=m,e.decode=decodeURIComponent,e.iso8859=function(){e.encode=escape,e.decode=unescape},e.unicode=function(){e.encode=m,e.decode=decodeURIComponent},e.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}},e.encodeQuery=function(a,b){var c=e.encode(a+"");return void 0===b&&(b=e.escapeQuerySpace),b?c.replace(/%20/g,"+"):c},e.decodeQuery=function(a,b){a+="",void 0===b&&(b=e.escapeQuerySpace);try{return e.decode(b?a.replace(/\+/g,"%20"):a)}catch(c){return a}},e.recodePath=function(a){for(var b=(a+"").split("/"),c=0,d=b.length;d>c;c++)b[c]=e.encodePathSegment(e.decode(b[c]));return b.join("/")},e.decodePath=function(a){for(var b=(a+"").split("/"),c=0,d=b.length;d>c;c++)b[c]=e.decodePathSegment(b[c]);return b.join("/")};var s,t={encode:"encode",decode:"decode"},u=function(a,b){return function(c){try{return e[b](c+"").replace(e.characters[a][b].expression,function(c){return e.characters[a][b].map[c]})}catch(d){return c}}};for(s in t)e[s+"PathSegment"]=u("pathname",t[s]);e.encodeReserved=u("reserved","encode"),e.parse=function(a,b){var c;return b||(b={}),c=a.indexOf("#"),c>-1&&(b.fragment=a.substring(c+1)||null,a=a.substring(0,c)),c=a.indexOf("?"),c>-1&&(b.query=a.substring(c+1)||null,a=a.substring(0,c)),"//"===a.substring(0,2)?(b.protocol=null,a=a.substring(2),a=e.parseAuthority(a,b)):(c=a.indexOf(":"),c>-1&&(b.protocol=a.substring(0,c)||null,b.protocol&&!b.protocol.match(e.protocol_expression)?b.protocol=void 0:"//"===a.substring(c+1,c+3)?(a=a.substring(c+3),a=e.parseAuthority(a,b)):(a=a.substring(c+1),b.urn=!0))),b.path=a,b},e.parseHost=function(a,b){var c,d,e=a.indexOf("/");if(-1===e&&(e=a.length),"["===a.charAt(0))c=a.indexOf("]"),b.hostname=a.substring(1,c)||null,b.port=a.substring(c+2,e)||null,"/"===b.port&&(b.port=null);else{var f=a.indexOf(":"),g=a.indexOf("/"),h=a.indexOf(":",f+1);-1!==h&&(-1===g||g>h)?(b.hostname=a.substring(0,e)||null,b.port=null):(d=a.substring(0,e).split(":"),b.hostname=d[0]||null,b.port=d[1]||null)}return b.hostname&&"/"!==a.substring(e).charAt(0)&&(e++,a="/"+a),a.substring(e)||"/"},e.parseAuthority=function(a,b){return a=e.parseUserinfo(a,b),e.parseHost(a,b)},e.parseUserinfo=function(a,b){var c,d=a.indexOf("/"),f=a.lastIndexOf("@",d>-1?d:a.length-1);return f>-1&&(-1===d||d>f)?(c=a.substring(0,f).split(":"),b.username=c[0]?e.decode(c[0]):null,c.shift(),b.password=c[0]?e.decode(c.join(":")):null,a=a.substring(f+1)):(b.username=null,b.password=null),a},e.parseQuery=function(a,b){if(!a)return{};if(a=a.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,""),!a)return{};for(var c,d,f,g={},h=a.split("&"),i=h.length,j=0;i>j;j++)c=h[j].split("="),d=e.decodeQuery(c.shift(),b),f=c.length?e.decodeQuery(c.join("="),b):null,r.call(g,d)?("string"==typeof g[d]&&(g[d]=[g[d]]),g[d].push(f)):g[d]=f;return g},e.build=function(a){var b="";return a.protocol&&(b+=a.protocol+":"),a.urn||!b&&!a.hostname||(b+="//"),b+=e.buildAuthority(a)||"","string"==typeof a.path&&("/"!==a.path.charAt(0)&&"string"==typeof a.hostname&&(b+="/"),b+=a.path),"string"==typeof a.query&&a.query&&(b+="?"+a.query),"string"==typeof a.fragment&&a.fragment&&(b+="#"+a.fragment),b},e.buildHost=function(a){var b="";return a.hostname?(b+=e.ip6_expression.test(a.hostname)?"["+a.hostname+"]":a.hostname,a.port&&(b+=":"+a.port),b):""},e.buildAuthority=function(a){return e.buildUserinfo(a)+e.buildHost(a)},e.buildUserinfo=function(a){var b="";return a.username&&(b+=e.encode(a.username),a.password&&(b+=":"+e.encode(a.password)),b+="@"),b},e.buildQuery=function(a,b,c){var d,f,g,i,j="";for(f in a)if(r.call(a,f)&&f)if(h(a[f]))for(d={},g=0,i=a[f].length;i>g;g++)void 0!==a[f][g]&&void 0===d[a[f][g]+""]&&(j+="&"+e.buildQueryParameter(f,a[f][g],c),b!==!0&&(d[a[f][g]+""]=!0));else void 0!==a[f]&&(j+="&"+e.buildQueryParameter(f,a[f],c));return j.substring(1)},e.buildQueryParameter=function(a,b,c){return e.encodeQuery(a,c)+(null!==b?"="+e.encodeQuery(b,c):"")},e.addQuery=function(a,b,c){if("object"==typeof b)for(var d in b)r.call(b,d)&&e.addQuery(a,d,b[d]);else{if("string"!=typeof b)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===a[b])return void(a[b]=c);"string"==typeof a[b]&&(a[b]=[a[b]]),h(c)||(c=[c]),a[b]=(a[b]||[]).concat(c)}},e.removeQuery=function(a,b,c){var d,f,g;if(h(b))for(d=0,f=b.length;f>d;d++)a[b[d]]=void 0;else if("object"==typeof b)for(g in b)r.call(b,g)&&e.removeQuery(a,g,b[g]);else{if("string"!=typeof b)throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");void 0!==c?a[b]===c?a[b]=void 0:h(a[b])&&(a[b]=i(a[b],c)):a[b]=void 0}},e.hasQuery=function(a,b,c,d){if("object"==typeof b){for(var f in b)if(r.call(b,f)&&!e.hasQuery(a,f,b[f]))return!1;return!0}if("string"!=typeof b)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(g(c)){case"Undefined":return b in a;case"Boolean":var i=Boolean(h(a[b])?a[b].length:a[b]);return c===i;case"Function":return!!c(a[b],b,a);case"Array":if(!h(a[b]))return!1;var l=d?j:k;return l(a[b],c);case"RegExp":return h(a[b])?d?j(a[b],c):!1:Boolean(a[b]&&a[b].match(c));case"Number":c=String(c);case"String":return h(a[b])?d?j(a[b],c):!1:a[b]===c;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},e.commonPath=function(a,b){var c,d=Math.min(a.length,b.length);for(c=0;d>c;c++)if(a.charAt(c)!==b.charAt(c)){c--;break}return 1>c?a.charAt(0)===b.charAt(0)&&"/"===a.charAt(0)?"/":"":(("/"!==a.charAt(c)||"/"!==b.charAt(c))&&(c=a.substring(0,c).lastIndexOf("/")),a.substring(0,c+1))},e.withinString=function(a,b,c){c||(c={});var d=c.start||e.findUri.start,f=c.end||e.findUri.end,g=c.trim||e.findUri.trim,h=/[a-z0-9-]=["']?$/i;for(d.lastIndex=0;;){var i=d.exec(a);if(!i)break;var j=i.index;if(c.ignoreHtml){var k=a.slice(Math.max(j-3,0),j);if(k&&h.test(k))continue}var l=j+a.slice(j).search(f),m=a.slice(j,l).replace(g,"");if(!c.ignore||!c.ignore.test(m)){l=j+m.length;var n=b(m,j,l,a);a=a.slice(0,j)+n+a.slice(l),d.lastIndex=j+n.length}}return d.lastIndex=0,a},e.ensureValidHostname=function(b){if(b.match(e.invalid_hostname_characters)){if(!a)throw new TypeError('Hostname "'+b+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(a.toASCII(b).match(e.invalid_hostname_characters))throw new TypeError('Hostname "'+b+'" contains characters other than [A-Z0-9.-]')}},e.noConflict=function(a){if(a){var b={URI:this.noConflict()};return d.URITemplate&&"function"==typeof d.URITemplate.noConflict&&(b.URITemplate=d.URITemplate.noConflict()),d.IPv6&&"function"==typeof d.IPv6.noConflict&&(b.IPv6=d.IPv6.noConflict()),d.SecondLevelDomains&&"function"==typeof d.SecondLevelDomains.noConflict&&(b.SecondLevelDomains=d.SecondLevelDomains.noConflict()),b}return d.URI===this&&(d.URI=p),this},q.build=function(a){return a===!0?this._deferred_build=!0:(void 0===a||this._deferred_build)&&(this._string=e.build(this._parts),this._deferred_build=!1),this},q.clone=function(){return new e(this)},q.valueOf=q.toString=function(){return this.build(!1)._string},q.protocol=n("protocol"),q.username=n("username"),q.password=n("password"),q.hostname=n("hostname"),q.port=n("port"),q.query=o("query","?"),q.fragment=o("fragment","#"),q.search=function(a,b){var c=this.query(a,b);return"string"==typeof c&&c.length?"?"+c:c},q.hash=function(a,b){var c=this.fragment(a,b);return"string"==typeof c&&c.length?"#"+c:c},q.pathname=function(a,b){if(void 0===a||a===!0){var c=this._parts.path||(this._parts.hostname?"/":"");return a?e.decodePath(c):c}return this._parts.path=a?e.recodePath(a):"/",this.build(!b),this},q.path=q.pathname,q.href=function(a,b){var c;if(void 0===a)return this.toString();this._string="",this._parts=e._parts();var d=a instanceof e,f="object"==typeof a&&(a.hostname||a.path||a.pathname);if(a.nodeName){var g=e.getDomAttribute(a);a=a[g]||"",f=!1}if(!d&&f&&void 0!==a.pathname&&(a=a.toString()),"string"==typeof a||a instanceof String)this._parts=e.parse(String(a),this._parts);else{if(!d&&!f)throw new TypeError("invalid input");var h=d?a._parts:a;for(c in h)r.call(this._parts,c)&&(this._parts[c]=h[c])}return this.build(!b),this},q.is=function(a){var b=!1,d=!1,f=!1,g=!1,h=!1,i=!1,j=!1,k=!this._parts.urn;switch(this._parts.hostname&&(k=!1,d=e.ip4_expression.test(this._parts.hostname),f=e.ip6_expression.test(this._parts.hostname),b=d||f,g=!b,h=g&&c&&c.has(this._parts.hostname),i=g&&e.idn_expression.test(this._parts.hostname),j=g&&e.punycode_expression.test(this._parts.hostname)),a.toLowerCase()){case"relative":return k;case"absolute":return!k;case"domain":case"name":return g;case"sld":return h;case"ip":return b;case"ip4":case"ipv4":case"inet4":return d;case"ip6":case"ipv6":case"inet6":return f;case"idn":return i;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return j}return null};var v=q.protocol,w=q.port,x=q.hostname;q.protocol=function(a,b){if(void 0!==a&&a&&(a=a.replace(/:(\/\/)?$/,""),!a.match(e.protocol_expression)))throw new TypeError('Protocol "'+a+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return v.call(this,a,b)},q.scheme=q.protocol,q.port=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0!==a&&(0===a&&(a=null),a&&(a+="",":"===a.charAt(0)&&(a=a.substring(1)),a.match(/[^0-9]/))))throw new TypeError('Port "'+a+'" contains characters other than [0-9]');return w.call(this,a,b)},q.hostname=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0!==a){var c={};e.parseHost(a,c),a=c.hostname}return x.call(this,a,b)},q.host=function(a,b){return this._parts.urn?void 0===a?"":this:void 0===a?this._parts.hostname?e.buildHost(this._parts):"":(e.parseHost(a,this._parts),this.build(!b),this)},q.authority=function(a,b){return this._parts.urn?void 0===a?"":this:void 0===a?this._parts.hostname?e.buildAuthority(this._parts):"":(e.parseAuthority(a,this._parts),this.build(!b),this)},q.userinfo=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a){if(!this._parts.username)return"";var c=e.buildUserinfo(this._parts);return c.substring(0,c.length-1)}return"@"!==a[a.length-1]&&(a+="@"),e.parseUserinfo(a,this._parts),this.build(!b),this},q.resource=function(a,b){var c;return void 0===a?this.path()+this.search()+this.hash():(c=e.parse(a),this._parts.path=c.path,this._parts.query=c.query,this._parts.fragment=c.fragment,this.build(!b),this)},q.subdomain=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a){if(!this._parts.hostname||this.is("IP"))return"";var c=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,c)||""}var d=this._parts.hostname.length-this.domain().length,g=this._parts.hostname.substring(0,d),h=new RegExp("^"+f(g));return a&&"."!==a.charAt(a.length-1)&&(a+="."),a&&e.ensureValidHostname(a),this._parts.hostname=this._parts.hostname.replace(h,a),this.build(!b),this},q.domain=function(a,b){if(this._parts.urn)return void 0===a?"":this;if("boolean"==typeof a&&(b=a,a=void 0),void 0===a){if(!this._parts.hostname||this.is("IP"))return"";var c=this._parts.hostname.match(/\./g);if(c&&c.length<2)return this._parts.hostname;var d=this._parts.hostname.length-this.tld(b).length-1;return d=this._parts.hostname.lastIndexOf(".",d-1)+1,this._parts.hostname.substring(d)||""}if(!a)throw new TypeError("cannot set domain empty");if(e.ensureValidHostname(a),!this._parts.hostname||this.is("IP"))this._parts.hostname=a;else{var g=new RegExp(f(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(g,a)}return this.build(!b),this},q.tld=function(a,b){if(this._parts.urn)return void 0===a?"":this;if("boolean"==typeof a&&(b=a,a=void 0),void 0===a){if(!this._parts.hostname||this.is("IP"))return"";var d=this._parts.hostname.lastIndexOf("."),e=this._parts.hostname.substring(d+1);return b!==!0&&c&&c.list[e.toLowerCase()]?c.get(this._parts.hostname)||e:e}var g;if(!a)throw new TypeError("cannot set TLD empty");if(a.match(/[^a-zA-Z0-9-]/)){if(!c||!c.is(a))throw new TypeError('TLD "'+a+'" contains characters other than [A-Z0-9]');g=new RegExp(f(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(g,a)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");g=new RegExp(f(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(g,a)}return this.build(!b),this},q.directory=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||a===!0){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var c=this._parts.path.length-this.filename().length-1,d=this._parts.path.substring(0,c)||(this._parts.hostname?"/":"");return a?e.decodePath(d):d}var g=this._parts.path.length-this.filename().length,h=this._parts.path.substring(0,g),i=new RegExp("^"+f(h));return this.is("relative")||(a||(a="/"),"/"!==a.charAt(0)&&(a="/"+a)),a&&"/"!==a.charAt(a.length-1)&&(a+="/"),a=e.recodePath(a),this._parts.path=this._parts.path.replace(i,a),this.build(!b),this},q.filename=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||a===!0){if(!this._parts.path||"/"===this._parts.path)return"";var c=this._parts.path.lastIndexOf("/"),d=this._parts.path.substring(c+1);return a?e.decodePathSegment(d):d}var g=!1;"/"===a.charAt(0)&&(a=a.substring(1)),a.match(/\.?\//)&&(g=!0);var h=new RegExp(f(this.filename())+"$");return a=e.recodePath(a),this._parts.path=this._parts.path.replace(h,a),g?this.normalizePath(b):this.build(!b),this},q.suffix=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||a===!0){if(!this._parts.path||"/"===this._parts.path)return"";var c,d,g=this.filename(),h=g.lastIndexOf(".");return-1===h?"":(c=g.substring(h+1),d=/^[a-z0-9%]+$/i.test(c)?c:"",a?e.decodePathSegment(d):d)}"."===a.charAt(0)&&(a=a.substring(1));var i,j=this.suffix();if(j)i=a?new RegExp(f(j)+"$"):new RegExp(f("."+j)+"$");else{if(!a)return this;this._parts.path+="."+e.recodePath(a)}return i&&(a=e.recodePath(a),this._parts.path=this._parts.path.replace(i,a)),this.build(!b),this},q.segment=function(a,b,c){var d=this._parts.urn?":":"/",e=this.path(),f="/"===e.substring(0,1),g=e.split(d);if(void 0!==a&&"number"!=typeof a&&(c=b,b=a,a=void 0),void 0!==a&&"number"!=typeof a)throw new Error('Bad segment "'+a+'", must be 0-based integer');if(f&&g.shift(),0>a&&(a=Math.max(g.length+a,0)),void 0===b)return void 0===a?g:g[a];if(null===a||void 0===g[a])if(h(b)){g=[];for(var i=0,j=b.length;j>i;i++)(b[i].length||g.length&&g[g.length-1].length)&&(g.length&&!g[g.length-1].length&&g.pop(),g.push(b[i]))}else(b||"string"==typeof b)&&(""===g[g.length-1]?g[g.length-1]=b:g.push(b));else b?g[a]=b:g.splice(a,1);return f&&g.unshift(""),this.path(g.join(d),c)},q.segmentCoded=function(a,b,c){var d,f,g;if("number"!=typeof a&&(c=b,b=a,a=void 0),void 0===b){if(d=this.segment(a,b,c),h(d))for(f=0,g=d.length;g>f;f++)d[f]=e.decode(d[f]);else d=void 0!==d?e.decode(d):void 0;return d}if(h(b))for(f=0,g=b.length;g>f;f++)b[f]=e.decode(b[f]);else b="string"==typeof b||b instanceof String?e.encode(b):b;return this.segment(a,b,c)};var y=q.query;return q.query=function(a,b){if(a===!0)return e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof a){var c=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace),d=a.call(this,c);return this._parts.query=e.buildQuery(d||c,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!b),this}return void 0!==a&&"string"!=typeof a?(this._parts.query=e.buildQuery(a,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!b),this):y.call(this,a,b)},q.setQuery=function(a,b,c){var d=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof a||a instanceof String)d[a]=void 0!==b?b:null;else{if("object"!=typeof a)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var f in a)r.call(a,f)&&(d[f]=a[f])}return this._parts.query=e.buildQuery(d,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof a&&(c=b),this.build(!c),this},q.addQuery=function(a,b,c){var d=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return e.addQuery(d,a,void 0===b?null:b),this._parts.query=e.buildQuery(d,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof a&&(c=b),this.build(!c),this},q.removeQuery=function(a,b,c){var d=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return e.removeQuery(d,a,b),this._parts.query=e.buildQuery(d,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof a&&(c=b),this.build(!c),this},q.hasQuery=function(a,b,c){var d=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return e.hasQuery(d,a,b,c)},q.setSearch=q.setQuery,q.addSearch=q.addQuery,q.removeSearch=q.removeQuery,q.hasSearch=q.hasQuery,q.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},q.normalizeProtocol=function(a){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!a)),this},q.normalizeHostname=function(c){return this._parts.hostname&&(this.is("IDN")&&a?this._parts.hostname=a.toASCII(this._parts.hostname):this.is("IPv6")&&b&&(this._parts.hostname=b.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!c)),this},q.normalizePort=function(a){return"string"==typeof this._parts.protocol&&this._parts.port===e.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!a)),this},q.normalizePath=function(a){if(this._parts.urn)return this;if(!this._parts.path||"/"===this._parts.path)return this;var b,c,d,f=this._parts.path,g="";for("/"!==f.charAt(0)&&(b=!0,f="/"+f),f=f.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),b&&(g=f.substring(1).match(/^(\.\.\/)+/)||"",g&&(g=g[0]));;){if(c=f.indexOf("/.."),-1===c)break;0!==c?(d=f.substring(0,c).lastIndexOf("/"),-1===d&&(d=c),f=f.substring(0,d)+f.substring(c+3)):f=f.substring(3)}return b&&this.is("relative")&&(f=g+f.substring(1)),f=e.recodePath(f),this._parts.path=f,this.build(!a),this},q.normalizePathname=q.normalizePath,q.normalizeQuery=function(a){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(e.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!a)),this},q.normalizeFragment=function(a){return this._parts.fragment||(this._parts.fragment=null,this.build(!a)),this},q.normalizeSearch=q.normalizeQuery,q.normalizeHash=q.normalizeFragment,q.iso8859=function(){var a=e.encode,b=e.decode;return e.encode=escape,e.decode=decodeURIComponent,this.normalize(),e.encode=a,e.decode=b,this},q.unicode=function(){var a=e.encode,b=e.decode;return e.encode=m,e.decode=unescape,this.normalize(),e.encode=a,e.decode=b,this},q.readable=function(){var b=this.clone();b.username("").password("").normalize();var c="";if(b._parts.protocol&&(c+=b._parts.protocol+"://"),b._parts.hostname&&(b.is("punycode")&&a?(c+=a.toUnicode(b._parts.hostname),b._parts.port&&(c+=":"+b._parts.port)):c+=b.host()),b._parts.hostname&&b._parts.path&&"/"!==b._parts.path.charAt(0)&&(c+="/"),c+=b.path(!0),b._parts.query){for(var d="",f=0,g=b._parts.query.split("&"),h=g.length;h>f;f++){var i=(g[f]||"").split("=");d+="&"+e.decodeQuery(i[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==i[1]&&(d+="="+e.decodeQuery(i[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}c+="?"+d.substring(1)}return c+=e.decodeQuery(b.hash(),!0)},q.absoluteTo=function(a){var b,c,d,f=this.clone(),g=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(a instanceof e||(a=new e(a)),f._parts.protocol||(f._parts.protocol=a._parts.protocol),this._parts.hostname)return f;for(c=0;d=g[c];c++)f._parts[d]=a._parts[d];return f._parts.path?".."===f._parts.path.substring(-2)&&(f._parts.path+="/"):(f._parts.path=a._parts.path,f._parts.query||(f._parts.query=a._parts.query)),"/"!==f.path().charAt(0)&&(b=a.directory(),f._parts.path=(b?b+"/":"")+f._parts.path,f.normalizePath()),f.build(),f},q.relativeTo=function(a){var b,c,d,f,g,h=this.clone().normalize();if(h._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(a=new e(a).normalize(),b=h._parts,c=a._parts,f=h.path(),g=a.path(),"/"!==f.charAt(0))throw new Error("URI is already relative");if("/"!==g.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(b.protocol===c.protocol&&(b.protocol=null),b.username!==c.username||b.password!==c.password)return h.build();if(null!==b.protocol||null!==b.username||null!==b.password)return h.build();if(b.hostname!==c.hostname||b.port!==c.port)return h.build();if(b.hostname=null,b.port=null,f===g)return b.path="",h.build();if(d=e.commonPath(h.path(),a.path()),!d)return h.build();var i=c.path.substring(d.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return b.path=i+b.path.substring(d.length),h.build()},q.equals=function(a){var b,c,d,f=this.clone(),g=new e(a),i={},j={},l={};if(f.normalize(),g.normalize(),f.toString()===g.toString())return!0;if(b=f.query(),c=g.query(),f.query(""),g.query(""),f.toString()!==g.toString())return!1;if(b.length!==c.length)return!1;i=e.parseQuery(b,this._parts.escapeQuerySpace),j=e.parseQuery(c,this._parts.escapeQuerySpace);for(d in i)if(r.call(i,d)){if(h(i[d])){if(!k(i[d],j[d]))return!1}else if(i[d]!==j[d])return!1;l[d]=!0}for(d in j)if(r.call(j,d)&&!l[d])return!1;return!0},q.duplicateQueryParameters=function(a){return this._parts.duplicateQueryParameters=!!a,this},q.escapeQuerySpace=function(a){return this._parts.escapeQuerySpace=!!a,this},e}),function(a){"use strict";function b(a,b){return b=b||Error,function(){var c,d,e=2,f=arguments,g=f[0],h="["+(a?a+":":"")+g+"] ",i=f[1];for(h+=i.replace(/\{\d+\}/g,function(a){var b=+a.slice(1,-1),c=b+e;return c<f.length?sa(f[c]):a}),h+="\nhttp://errors.angularjs.org/1.5.5/"+(a?a+"/":"")+g,d=e,c="?";d<f.length;d++,c="&")h+=c+"p"+(d-e)+"="+encodeURIComponent(sa(f[d]));return new b(h)}}function c(a){if(null==a||A(a))return!1;if(Td(a)||v(a)||Id&&a instanceof Id)return!0;var b="length"in Object(a)&&a.length;return w(b)&&(b>=0&&(b-1 in a||a instanceof Array)||"function"==typeof a.item)}function d(a,b,e){var f,g;if(a)if(y(a))for(f in a)"prototype"==f||"length"==f||"name"==f||a.hasOwnProperty&&!a.hasOwnProperty(f)||b.call(e,a[f],f,a);else if(Td(a)||c(a)){var h="object"!=typeof a;for(f=0,g=a.length;g>f;f++)(h||f in a)&&b.call(e,a[f],f,a)}else if(a.forEach&&a.forEach!==d)a.forEach(b,e,a);else if(u(a))for(f in a)b.call(e,a[f],f,a);else if("function"==typeof a.hasOwnProperty)for(f in a)a.hasOwnProperty(f)&&b.call(e,a[f],f,a);else for(f in a)Cd.call(a,f)&&b.call(e,a[f],f,a);return a}function e(a,b,c){for(var d=Object.keys(a).sort(),e=0;e<d.length;e++)b.call(c,a[d[e]],d[e]);return d}function f(a){return function(b,c){a(c,b)}}function g(){return++Sd}function h(a,b){b?a.$$hashKey=b:delete a.$$hashKey}function i(a,b,c){for(var d=a.$$hashKey,e=0,f=b.length;f>e;++e){var g=b[e];if(t(g)||y(g))for(var j=Object.keys(g),k=0,l=j.length;l>k;k++){var m=j[k],n=g[m];c&&t(n)?x(n)?a[m]=new Date(n.valueOf()):z(n)?a[m]=new RegExp(n):n.nodeName?a[m]=n.cloneNode(!0):J(n)?a[m]=n.clone():(t(a[m])||(a[m]=Td(n)?[]:{}),i(a[m],[n],!0)):a[m]=n}}return h(a,d),a}function j(a){return i(a,Ld.call(arguments,1),!1)}function k(a){return i(a,Ld.call(arguments,1),!0)}function l(a){return parseInt(a,10)}function m(a,b){return j(Object.create(a),b)}function n(){}function o(a){return a}function p(a){return function(){return a}}function q(a){return y(a.toString)&&a.toString!==Od}function r(a){return"undefined"==typeof a}function s(a){return"undefined"!=typeof a}function t(a){return null!==a&&"object"==typeof a}function u(a){return null!==a&&"object"==typeof a&&!Pd(a)}function v(a){return"string"==typeof a}function w(a){return"number"==typeof a}function x(a){return"[object Date]"===Od.call(a)}function y(a){return"function"==typeof a}function z(a){return"[object RegExp]"===Od.call(a)}function A(a){return a&&a.window===a}function B(a){return a&&a.$evalAsync&&a.$watch}function C(a){return"[object File]"===Od.call(a)}function D(a){return"[object FormData]"===Od.call(a)}function E(a){return"[object Blob]"===Od.call(a)}function F(a){return"boolean"==typeof a}function G(a){return a&&y(a.then)}function H(a){return a&&w(a.length)&&Ud.test(Od.call(a))}function I(a){return"[object ArrayBuffer]"===Od.call(a)}function J(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function K(a){var b,c={},d=a.split(",");for(b=0;b<d.length;b++)c[d[b]]=!0;return c}function L(a){return Dd(a.nodeName||a[0]&&a[0].nodeName)}function M(a,b){var c=a.indexOf(b);return c>=0&&a.splice(c,1),c}function N(a,b){function c(a,b){var c,d=b.$$hashKey;if(Td(a))for(var f=0,g=a.length;g>f;f++)b.push(e(a[f]));else if(u(a))for(c in a)b[c]=e(a[c]);else if(a&&"function"==typeof a.hasOwnProperty)for(c in a)a.hasOwnProperty(c)&&(b[c]=e(a[c]));else for(c in a)Cd.call(a,c)&&(b[c]=e(a[c]));return h(b,d),b}function e(a){if(!t(a))return a;var b=g.indexOf(a);if(-1!==b)return i[b];if(A(a)||B(a))throw Qd("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var d=!1,e=f(a);return void 0===e&&(e=Td(a)?[]:Object.create(Pd(a)),d=!0),g.push(a),i.push(e),d?c(a,e):e}function f(a){switch(Od.call(a)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new a.constructor(e(a.buffer));case"[object ArrayBuffer]":if(!a.slice){var b=new ArrayBuffer(a.byteLength);return new Uint8Array(b).set(new Uint8Array(a)),b}return a.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new a.constructor(a.valueOf());case"[object RegExp]":var c=new RegExp(a.source,a.toString().match(/[^\/]*$/)[0]);return c.lastIndex=a.lastIndex,c;case"[object Blob]":return new a.constructor([a],{type:a.type})}return y(a.cloneNode)?a.cloneNode(!0):void 0}var g=[],i=[];if(b){if(H(b)||I(b))throw Qd("cpta","Can't copy! TypedArray destination cannot be mutated.");if(a===b)throw Qd("cpi","Can't copy! Source and destination are identical.");return Td(b)?b.length=0:d(b,function(a,c){"$$hashKey"!==c&&delete b[c]}),g.push(a),i.push(b),c(a,b)}return e(a)}function O(a,b){if(Td(a)){b=b||[];for(var c=0,d=a.length;d>c;c++)b[c]=a[c]}else if(t(a)){b=b||{};for(var e in a)("$"!==e.charAt(0)||"$"!==e.charAt(1))&&(b[e]=a[e])}return b||a}function P(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var c,d,e,f=typeof a,g=typeof b;if(f==g&&"object"==f){if(!Td(a)){if(x(a))return x(b)?P(a.getTime(),b.getTime()):!1;if(z(a))return z(b)?a.toString()==b.toString():!1;if(B(a)||B(b)||A(a)||A(b)||Td(b)||x(b)||z(b))return!1;e=pa();for(d in a)if("$"!==d.charAt(0)&&!y(a[d])){if(!P(a[d],b[d]))return!1;e[d]=!0}for(d in b)if(!(d in e)&&"$"!==d.charAt(0)&&s(b[d])&&!y(b[d]))return!1;return!0}if(!Td(b))return!1;if((c=a.length)==b.length){for(d=0;c>d;d++)if(!P(a[d],b[d]))return!1;return!0}}return!1}function Q(a,b,c){return a.concat(Ld.call(b,c));
}function R(a,b){return Ld.call(a,b||0)}function S(a,b){var c=arguments.length>2?R(arguments,2):[];return!y(b)||b instanceof RegExp?b:c.length?function(){return arguments.length?b.apply(a,Q(c,arguments,0)):b.apply(a,c)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function T(b,c){var d=c;return"string"==typeof b&&"$"===b.charAt(0)&&"$"===b.charAt(1)?d=void 0:A(c)?d="$WINDOW":c&&a.document===c?d="$DOCUMENT":B(c)&&(d="$SCOPE"),d}function U(a,b){return r(a)?void 0:(w(b)||(b=b?2:null),JSON.stringify(a,T,b))}function V(a){return v(a)?JSON.parse(a):a}function W(a,b){a=a.replace(Zd,"");var c=Date.parse("Jan 01, 1970 00:00:00 "+a)/6e4;return isNaN(c)?b:c}function X(a,b){return a=new Date(a.getTime()),a.setMinutes(a.getMinutes()+b),a}function Y(a,b,c){c=c?-1:1;var d=a.getTimezoneOffset(),e=W(b,d);return X(a,c*(e-d))}function Z(a){a=Id(a).clone();try{a.empty()}catch(b){}var c=Id("<div>").append(a).html();try{return a[0].nodeType===de?Dd(c):c.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+Dd(b)})}catch(b){return Dd(c)}}function $(a){try{return decodeURIComponent(a)}catch(b){}}function _(a){var b={};return d((a||"").split("&"),function(a){var c,d,e;a&&(d=a=a.replace(/\+/g,"%20"),c=a.indexOf("="),-1!==c&&(d=a.substring(0,c),e=a.substring(c+1)),d=$(d),s(d)&&(e=s(e)?$(e):!0,Cd.call(b,d)?Td(b[d])?b[d].push(e):b[d]=[b[d],e]:b[d]=e))}),b}function aa(a){var b=[];return d(a,function(a,c){Td(a)?d(a,function(a){b.push(ca(c,!0)+(a===!0?"":"="+ca(a,!0)))}):b.push(ca(c,!0)+(a===!0?"":"="+ca(a,!0)))}),b.length?b.join("&"):""}function ba(a){return ca(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ca(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":"+")}function da(a,b){var c,d,e=$d.length;for(d=0;e>d;++d)if(c=$d[d]+b,v(c=a.getAttribute(c)))return c;return null}function ea(a,b){var c,e,f={};d($d,function(b){var d=b+"app";!c&&a.hasAttribute&&a.hasAttribute(d)&&(c=a,e=a.getAttribute(d))}),d($d,function(b){var d,f=b+"app";!c&&(d=a.querySelector("["+f.replace(":","\\:")+"]"))&&(c=d,e=d.getAttribute(f))}),c&&(f.strictDi=null!==da(c,"strict-di"),b(c,e?[e]:[],f))}function fa(b,c,e){t(e)||(e={});var f={strictDi:!1};e=j(f,e);var g=function(){if(b=Id(b),b.injector()){var d=b[0]===a.document?"document":Z(b);throw Qd("btstrpd","App already bootstrapped with this element '{0}'",d.replace(/</,"&lt;").replace(/>/,"&gt;"))}c=c||[],c.unshift(["$provide",function(a){a.value("$rootElement",b)}]),e.debugInfoEnabled&&c.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]),c.unshift("ng");var f=cb(c,e.strictDi);return f.invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",d),c(b)(a)})}]),f},h=/^NG_ENABLE_DEBUG_INFO!/,i=/^NG_DEFER_BOOTSTRAP!/;return a&&h.test(a.name)&&(e.debugInfoEnabled=!0,a.name=a.name.replace(h,"")),a&&!i.test(a.name)?g():(a.name=a.name.replace(i,""),Rd.resumeBootstrap=function(a){return d(a,function(a){c.push(a)}),g()},void(y(Rd.resumeDeferredBootstrap)&&Rd.resumeDeferredBootstrap()))}function ga(){a.name="NG_ENABLE_DEBUG_INFO!"+a.name,a.location.reload()}function ha(a){var b=Rd.element(a).injector();if(!b)throw Qd("test","no injector found for element argument to getTestability");return b.get("$$testability")}function ia(a,b){return b=b||"_",a.replace(_d,function(a,c){return(c?b:"")+a.toLowerCase()})}function ja(){var b;if(!ae){var c=Yd();Jd=r(c)?a.jQuery:c?a[c]:void 0,Jd&&Jd.fn.on?(Id=Jd,j(Jd.fn,{scope:we.scope,isolateScope:we.isolateScope,controller:we.controller,injector:we.injector,inheritedData:we.inheritedData}),b=Jd.cleanData,Jd.cleanData=function(a){for(var c,d,e=0;null!=(d=a[e]);e++)c=Jd._data(d,"events"),c&&c.$destroy&&Jd(d).triggerHandler("$destroy");b(a)}):Id=Da,Rd.element=Id,ae=!0}}function ka(a,b,c){if(!a)throw Qd("areq","Argument '{0}' is {1}",b||"?",c||"required");return a}function la(a,b,c){return c&&Td(a)&&(a=a[a.length-1]),ka(y(a),b,"not a function, got "+(a&&"object"==typeof a?a.constructor.name||"Object":typeof a)),a}function ma(a,b){if("hasOwnProperty"===a)throw Qd("badname","hasOwnProperty is not a valid {0} name",b)}function na(a,b,c){if(!b)return a;for(var d,e=b.split("."),f=a,g=e.length,h=0;g>h;h++)d=e[h],a&&(a=(f=a)[d]);return!c&&y(a)?S(f,a):a}function oa(a){for(var b,c=a[0],d=a[a.length-1],e=1;c!==d&&(c=c.nextSibling);e++)(b||a[e]!==c)&&(b||(b=Id(Ld.call(a,0,e))),b.push(c));return b||a}function pa(){return Object.create(null)}function qa(a){function c(a,b,c){return a[b]||(a[b]=c())}var d=b("$injector"),e=b("ng"),f=c(a,"angular",Object);return f.$$minErr=f.$$minErr||b,c(f,"module",function(){var a={};return function(b,f,g){var h=function(a,b){if("hasOwnProperty"===a)throw e("badname","hasOwnProperty is not a valid {0} name",b)};return h(b,"module"),f&&a.hasOwnProperty(b)&&(a[b]=null),c(a,b,function(){function a(a,b,c,d){return d||(d=e),function(){return d[c||"push"]([a,b,arguments]),k}}function c(a,c){return function(d,f){return f&&y(f)&&(f.$$moduleName=b),e.push([a,c,arguments]),k}}if(!f)throw d("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",b);var e=[],h=[],i=[],j=a("$injector","invoke","push",h),k={_invokeQueue:e,_configBlocks:h,_runBlocks:i,requires:f,name:b,provider:c("$provide","provider"),factory:c("$provide","factory"),service:c("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),decorator:c("$provide","decorator"),animation:c("$animateProvider","register"),filter:c("$filterProvider","register"),controller:c("$controllerProvider","register"),directive:c("$compileProvider","directive"),component:c("$compileProvider","component"),config:j,run:function(a){return i.push(a),this}};return g&&j(g),k})}})}function ra(a){var b=[];return JSON.stringify(a,function(a,c){if(c=T(a,c),t(c)){if(b.indexOf(c)>=0)return"...";b.push(c)}return c})}function sa(a){return"function"==typeof a?a.toString().replace(/ \{[\s\S]*$/,""):r(a)?"undefined":"string"!=typeof a?ra(a):a}function ta(c){j(c,{bootstrap:fa,copy:N,extend:j,merge:k,equals:P,element:Id,forEach:d,injector:cb,noop:n,bind:S,toJson:U,fromJson:V,identity:o,isUndefined:r,isDefined:s,isString:v,isFunction:y,isObject:t,isNumber:w,isElement:J,isArray:Td,version:he,isDate:x,lowercase:Dd,uppercase:Ed,callbacks:{counter:0},getTestability:ha,$$minErr:b,$$csp:Xd,reloadWithDebugInfo:ga}),(Kd=qa(a))("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:wc}),a.provider("$compile",nb).directive({a:Ef,input:Xf,textarea:Xf,form:Jf,script:Sg,select:Vg,style:Xg,option:Wg,ngBind:$f,ngBindHtml:ag,ngBindTemplate:_f,ngClass:cg,ngClassEven:eg,ngClassOdd:dg,ngCloak:fg,ngController:gg,ngForm:Kf,ngHide:Lg,ngIf:jg,ngInclude:kg,ngInit:mg,ngNonBindable:Cg,ngPluralize:Gg,ngRepeat:Hg,ngShow:Kg,ngStyle:Mg,ngSwitch:Ng,ngSwitchWhen:Og,ngSwitchDefault:Pg,ngOptions:Fg,ngTransclude:Rg,ngModel:zg,ngList:ng,ngChange:bg,pattern:Zg,ngPattern:Zg,required:Yg,ngRequired:Yg,minlength:_g,ngMinlength:_g,maxlength:$g,ngMaxlength:$g,ngValue:Zf,ngModelOptions:Bg}).directive({ngInclude:lg}).directive(Ff).directive(hg),a.provider({$anchorScroll:db,$animate:Me,$animateCss:Pe,$$animateJs:Ke,$$animateQueue:Le,$$AnimateRunner:Oe,$$animateAsyncRun:Ne,$browser:jb,$cacheFactory:kb,$controller:tb,$document:ub,$exceptionHandler:vb,$filter:Kc,$$forceReflow:Ve,$interpolate:Jb,$interval:Kb,$http:Fb,$httpParamSerializer:xb,$httpParamSerializerJQLike:yb,$httpBackend:Hb,$xhrFactory:Gb,$location:Yb,$log:Zb,$parse:qc,$rootScope:vc,$q:rc,$$q:sc,$sce:Ac,$sceDelegate:zc,$sniffer:Bc,$templateCache:lb,$templateRequest:Cc,$$testability:Dc,$timeout:Ec,$window:Hc,$$rAF:uc,$$jqLite:Ya,$$HashMap:Ae,$$cookieReader:Jc})}])}function ua(){return++je}function va(a){return a.replace(me,function(a,b,c,d){return d?c.toUpperCase():c}).replace(ne,"Moz$1")}function wa(a){return!re.test(a)}function xa(a){var b=a.nodeType;return b===be||!b||b===fe}function ya(a){for(var b in ie[a.ng339])return!0;return!1}function za(a){for(var b=0,c=a.length;c>b;b++)Ha(a[b])}function Aa(a,b){var c,e,f,g,h=b.createDocumentFragment(),i=[];if(wa(a))i.push(b.createTextNode(a));else{for(c=c||h.appendChild(b.createElement("div")),e=(se.exec(a)||["",""])[1].toLowerCase(),f=ue[e]||ue._default,c.innerHTML=f[1]+a.replace(te,"<$1></$2>")+f[2],g=f[0];g--;)c=c.lastChild;i=Q(i,c.childNodes),c=h.firstChild,c.textContent=""}return h.textContent="",h.innerHTML="",d(i,function(a){h.appendChild(a)}),h}function Ba(b,c){c=c||a.document;var d;return(d=qe.exec(b))?[c.createElement(d[1])]:(d=Aa(b,c))?d.childNodes:[]}function Ca(a,b){var c=a.parentNode;c&&c.replaceChild(b,a),b.appendChild(a)}function Da(a){if(a instanceof Da)return a;var b;if(v(a)&&(a=Vd(a),b=!0),!(this instanceof Da)){if(b&&"<"!=a.charAt(0))throw pe("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Da(a)}b?Na(this,Ba(a)):Na(this,a)}function Ea(a){return a.cloneNode(!0)}function Fa(a,b){if(b||Ha(a),a.querySelectorAll)for(var c=a.querySelectorAll("*"),d=0,e=c.length;e>d;d++)Ha(c[d])}function Ga(a,b,c,e){if(s(e))throw pe("offargs","jqLite#off() does not support the `selector` argument");var f=Ia(a),g=f&&f.events,h=f&&f.handle;if(h)if(b){var i=function(b){var d=g[b];s(c)&&M(d||[],c),s(c)&&d&&d.length>0||(le(a,b,h),delete g[b])};d(b.split(" "),function(a){i(a),oe[a]&&i(oe[a])})}else for(b in g)"$destroy"!==b&&le(a,b,h),delete g[b]}function Ha(a,b){var c=a.ng339,d=c&&ie[c];if(d){if(b)return void delete d.data[b];d.handle&&(d.events.$destroy&&d.handle({},"$destroy"),Ga(a)),delete ie[c],a.ng339=void 0}}function Ia(a,b){var c=a.ng339,d=c&&ie[c];return b&&!d&&(a.ng339=c=ua(),d=ie[c]={events:{},data:{},handle:void 0}),d}function Ja(a,b,c){if(xa(a)){var d=s(c),e=!d&&b&&!t(b),f=!b,g=Ia(a,!e),h=g&&g.data;if(d)h[b]=c;else{if(f)return h;if(e)return h&&h[b];j(h,b)}}}function Ka(a,b){return a.getAttribute?(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" ")>-1:!1}function La(a,b){b&&a.setAttribute&&d(b.split(" "),function(b){a.setAttribute("class",Vd((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Vd(b)+" "," ")))})}function Ma(a,b){if(b&&a.setAttribute){var c=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");d(b.split(" "),function(a){a=Vd(a),-1===c.indexOf(" "+a+" ")&&(c+=a+" ")}),a.setAttribute("class",Vd(c))}}function Na(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var c=b.length;if("number"==typeof c&&b.window!==b){if(c)for(var d=0;c>d;d++)a[a.length++]=b[d]}else a[a.length++]=b}}function Oa(a,b){return Pa(a,"$"+(b||"ngController")+"Controller")}function Pa(a,b,c){a.nodeType==fe&&(a=a.documentElement);for(var d=Td(b)?b:[b];a;){for(var e=0,f=d.length;f>e;e++)if(s(c=Id.data(a,d[e])))return c;a=a.parentNode||a.nodeType===ge&&a.host}}function Qa(a){for(Fa(a,!0);a.firstChild;)a.removeChild(a.firstChild)}function Ra(a,b){b||Fa(a);var c=a.parentNode;c&&c.removeChild(a)}function Sa(b,c){c=c||a,"complete"===c.document.readyState?c.setTimeout(b):Id(c).on("load",b)}function Ta(a,b){var c=xe[b.toLowerCase()];return c&&ye[L(a)]&&c}function Ua(a){return ze[a]}function Va(a,b){var c=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};var e=b[d||c.type],f=e?e.length:0;if(f){if(r(c.immediatePropagationStopped)){var g=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0,c.stopPropagation&&c.stopPropagation(),g&&g.call(c)}}c.isImmediatePropagationStopped=function(){return c.immediatePropagationStopped===!0};var h=e.specialHandlerWrapper||Wa;f>1&&(e=O(e));for(var i=0;f>i;i++)c.isImmediatePropagationStopped()||h(a,c,e[i])}};return c.elem=a,c}function Wa(a,b,c){c.call(a,b)}function Xa(a,b,c){var d=b.relatedTarget;(!d||d!==a&&!ve.call(a,d))&&c.call(a,b)}function Ya(){this.$get=function(){return j(Da,{hasClass:function(a,b){return a.attr&&(a=a[0]),Ka(a,b)},addClass:function(a,b){return a.attr&&(a=a[0]),Ma(a,b)},removeClass:function(a,b){return a.attr&&(a=a[0]),La(a,b)}})}}function Za(a,b){var c=a&&a.$$hashKey;if(c)return"function"==typeof c&&(c=a.$$hashKey()),c;var d=typeof a;return c="function"==d||"object"==d&&null!==a?a.$$hashKey=d+":"+(b||g)():d+":"+a}function $a(a,b){if(b){var c=0;this.nextUid=function(){return++c}}d(a,this.put,this)}function _a(a){var b=Function.prototype.toString.call(a).replace(Fe,""),c=b.match(Be)||b.match(Ce);return c}function ab(a){var b=_a(a);return b?"function("+(b[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function bb(a,b,c){var e,f,g;if("function"==typeof a){if(!(e=a.$inject)){if(e=[],a.length){if(b)throw v(c)&&c||(c=a.name||ab(a)),Ge("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",c);f=_a(a),d(f[1].split(De),function(a){a.replace(Ee,function(a,b,c){e.push(c)})})}a.$inject=e}}else Td(a)?(g=a.length-1,la(a[g],"fn"),e=a.slice(0,g)):la(a,"fn",!0);return e}function cb(a,b){function c(a){return function(b,c){return t(b)?void d(b,f(a)):a(b,c)}}function e(a,b){if(ma(a,"service"),(y(b)||Td(b))&&(b=x.instantiate(b)),!b.$get)throw Ge("pget","Provider '{0}' must define $get factory method.",a);return w[a+q]=b}function g(a,b){return function(){var c=B.invoke(b,this);if(r(c))throw Ge("undef","Provider '{0}' must return a value from $get factory method.",a);return c}}function h(a,b,c){return e(a,{$get:c!==!1?g(a,b):b})}function i(a,b){return h(a,["$injector",function(a){return a.instantiate(b)}])}function j(a,b){return h(a,p(b),!1)}function k(a,b){ma(a,"constant"),w[a]=b,z[a]=b}function l(a,b){var c=x.get(a+q),d=c.$get;c.$get=function(){var a=B.invoke(d,c);return B.invoke(b,null,{$delegate:a})}}function m(a){ka(r(a)||Td(a),"modulesToLoad","not an array");var b,c=[];return d(a,function(a){function d(a){var b,c;for(b=0,c=a.length;c>b;b++){var d=a[b],e=x.get(d[0]);e[d[1]].apply(e,d[2])}}if(!u.get(a)){u.put(a,!0);try{v(a)?(b=Kd(a),c=c.concat(m(b.requires)).concat(b._runBlocks),d(b._invokeQueue),d(b._configBlocks)):y(a)?c.push(x.invoke(a)):Td(a)?c.push(x.invoke(a)):la(a,"module")}catch(e){throw Td(a)&&(a=a[a.length-1]),e.message&&e.stack&&-1==e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Ge("modulerr","Failed to instantiate module {0} due to:\n{1}",a,e.stack||e.message||e)}}}),c}function n(a,c){function d(b,d){if(a.hasOwnProperty(b)){if(a[b]===o)throw Ge("cdep","Circular dependency found: {0}",b+" <- "+s.join(" <- "));return a[b]}try{return s.unshift(b),a[b]=o,a[b]=c(b,d)}catch(e){throw a[b]===o&&delete a[b],e}finally{s.shift()}}function e(a,c,e){for(var f=[],g=cb.$$annotate(a,b,e),h=0,i=g.length;i>h;h++){var j=g[h];if("string"!=typeof j)throw Ge("itkn","Incorrect injection token! Expected service name as string, got {0}",j);f.push(c&&c.hasOwnProperty(j)?c[j]:d(j,e))}return f}function f(a){return 11>=Hd?!1:"function"==typeof a&&/^(?:class\s|constructor\()/.test(Function.prototype.toString.call(a))}function g(a,b,c,d){"string"==typeof c&&(d=c,c=null);var g=e(a,c,d);return Td(a)&&(a=a[a.length-1]),f(a)?(g.unshift(null),new(Function.prototype.bind.apply(a,g))):a.apply(b,g)}function h(a,b,c){var d=Td(a)?a[a.length-1]:a,f=e(a,b,c);return f.unshift(null),new(Function.prototype.bind.apply(d,f))}return{invoke:g,instantiate:h,get:d,annotate:cb.$$annotate,has:function(b){return w.hasOwnProperty(b+q)||a.hasOwnProperty(b)}}}b=b===!0;var o={},q="Provider",s=[],u=new $a([],!0),w={$provide:{provider:c(e),factory:c(h),service:c(i),value:c(j),constant:c(k),decorator:l}},x=w.$injector=n(w,function(a,b){throw Rd.isString(b)&&s.push(b),Ge("unpr","Unknown provider: {0}",s.join(" <- "))}),z={},A=n(z,function(a,b){var c=x.get(a+q,b);return B.invoke(c.$get,c,void 0,a)}),B=A;w["$injector"+q]={$get:p(A)};var C=m(a);return B=A.get("$injector"),B.strictDi=b,d(C,function(a){a&&B.invoke(a)}),B}function db(){var a=!0;this.disableAutoScrolling=function(){a=!1},this.$get=["$window","$location","$rootScope",function(b,c,d){function e(a){var b=null;return Array.prototype.some.call(a,function(a){return"a"===L(a)?(b=a,!0):void 0}),b}function f(){var a=h.yOffset;if(y(a))a=a();else if(J(a)){var c=a[0],d=b.getComputedStyle(c);a="fixed"!==d.position?0:c.getBoundingClientRect().bottom}else w(a)||(a=0);return a}function g(a){if(a){a.scrollIntoView();var c=f();if(c){var d=a.getBoundingClientRect().top;b.scrollBy(0,d-c)}}else b.scrollTo(0,0)}function h(a){a=v(a)?a:c.hash();var b;a?(b=i.getElementById(a))?g(b):(b=e(i.getElementsByName(a)))?g(b):"top"===a&&g(null):g(null)}var i=b.document;return a&&d.$watch(function(){return c.hash()},function(a,b){(a!==b||""!==a)&&Sa(function(){d.$evalAsync(h)})}),h}]}function eb(a,b){return a||b?a?b?(Td(a)&&(a=a.join(" ")),Td(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function fb(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.nodeType===Ie)return c}}function gb(a){v(a)&&(a=a.split(" "));var b=pa();return d(a,function(a){a.length&&(b[a]=!0)}),b}function hb(a){return t(a)?a:{}}function ib(a,b,c,e){function f(a){try{a.apply(null,R(arguments,1))}finally{if(s--,0===s)for(;t.length;)try{t.pop()()}catch(b){c.error(b)}}}function g(a){var b=a.indexOf("#");return-1===b?"":a.substr(b)}function h(){y=null,i(),j()}function i(){u=z(),u=r(u)?null:u,P(u,C)&&(u=C),C=u}function j(){(w!==k.url()||v!==u)&&(w=k.url(),v=u,d(A,function(a){a(k.url(),u)}))}var k=this,l=a.location,m=a.history,o=a.setTimeout,p=a.clearTimeout,q={};k.isMock=!1;var s=0,t=[];k.$$completeOutstandingRequest=f,k.$$incOutstandingRequestCount=function(){s++},k.notifyWhenNoOutstandingRequests=function(a){0===s?a():t.push(a)};var u,v,w=l.href,x=b.find("base"),y=null,z=e.history?function(){try{return m.state}catch(a){}}:n;i(),v=u,k.url=function(b,c,d){if(r(d)&&(d=null),l!==a.location&&(l=a.location),m!==a.history&&(m=a.history),b){var f=v===d;if(w===b&&(!e.history||f))return k;var h=w&&Pb(w)===Pb(b);return w=b,v=d,!e.history||h&&f?((!h||y)&&(y=b),c?l.replace(b):h?l.hash=g(b):l.href=b,l.href!==b&&(y=b)):(m[c?"replaceState":"pushState"](d,"",b),i(),v=u),k}return y||l.href.replace(/%27/g,"'")},k.state=function(){return u};var A=[],B=!1,C=null;k.onUrlChange=function(b){return B||(e.history&&Id(a).on("popstate",h),Id(a).on("hashchange",h),B=!0),A.push(b),b},k.$$applicationDestroyed=function(){Id(a).off("hashchange popstate",h)},k.$$checkUrlChange=j,k.baseHref=function(){var a=x.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""},k.defer=function(a,b){var c;return s++,c=o(function(){delete q[c],f(a)},b||0),q[c]=!0,c},k.defer.cancel=function(a){return q[a]?(delete q[a],p(a),f(n),!0):!1}}function jb(){this.$get=["$window","$log","$sniffer","$document",function(a,b,c,d){return new ib(a,d,b,c)}]}function kb(){this.$get=function(){function a(a,d){function e(a){a!=m&&(n?n==a&&(n=a.n):n=a,f(a.n,a.p),f(a,m),m=a,m.n=null)}function f(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(a in c)throw b("$cacheFactory")("iid","CacheId '{0}' is already taken!",a);var g=0,h=j({},d,{id:a}),i=pa(),k=d&&d.capacity||Number.MAX_VALUE,l=pa(),m=null,n=null;return c[a]={put:function(a,b){if(!r(b)){if(k<Number.MAX_VALUE){var c=l[a]||(l[a]={key:a});e(c)}return a in i||g++,i[a]=b,g>k&&this.remove(n.key),b}},get:function(a){if(k<Number.MAX_VALUE){var b=l[a];if(!b)return;e(b)}return i[a]},remove:function(a){if(k<Number.MAX_VALUE){var b=l[a];if(!b)return;b==m&&(m=b.p),b==n&&(n=b.n),f(b.n,b.p),delete l[a]}a in i&&(delete i[a],g--)},removeAll:function(){i=pa(),g=0,l=pa(),m=n=null},destroy:function(){i=null,h=null,l=null,delete c[a]},info:function(){return j({},h,{size:g})}}}var c={};return a.info=function(){var a={};return d(c,function(b,c){a[c]=b.info()}),a},a.get=function(a){return c[a]},a}}function lb(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function mb(){}function nb(b,c){function e(a,b,c){var e=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,f=pa();return d(a,function(a,d){if(a in z)return void(f[d]=z[a]);var g=a.match(e);if(!g)throw Qe("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",b,d,a,c?"controller bindings definition":"isolate scope definition");f[d]={mode:g[1][0],collection:"*"===g[2],optional:"?"===g[3],attrName:g[4]||d},g[4]&&(z[a]=f[d])}),f}function g(a,b){var c={isolateScope:null,bindToController:null};if(t(a.scope)&&(a.bindToController===!0?(c.bindToController=e(a.scope,b,!0),c.isolateScope={}):c.isolateScope=e(a.scope,b,!1)),t(a.bindToController)&&(c.bindToController=e(a.bindToController,b,!0)),t(c.bindToController)){var d=a.controller,f=a.controllerAs;if(!d)throw Qe("noctrl","Cannot bind to controller without directive '{0}'s controller.",b);if(!sb(d,f))throw Qe("noident","Cannot bind to controller without identifier for directive '{0}'.",b)}return c}function h(a){var b=a.charAt(0);if(!b||b!==Dd(b))throw Qe("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",a);if(a!==a.trim())throw Qe("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",a)}var i={},k="Directive",l=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,q=/(([\w\-]+)(?:\:([^;]+))?;?)/,u=K("ngSrc,ngSrcset,src,srcset"),w=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,x=/^(on[a-z]+|formaction)$/,z=pa();this.directive=function D(a,c){return ma(a,"directive"),v(a)?(h(a),ka(c,"directiveFactory"),i.hasOwnProperty(a)||(i[a]=[],b.factory(a+k,["$injector","$exceptionHandler",function(b,c){var e=[];return d(i[a],function(d,f){try{var g=b.invoke(d);y(g)?g={compile:p(g)}:!g.compile&&g.link&&(g.compile=p(g.link)),g.priority=g.priority||0,g.index=f,g.name=g.name||a,g.require=g.require||g.controller&&g.name,g.restrict=g.restrict||"EA",g.$$moduleName=d.$$moduleName,e.push(g)}catch(h){c(h)}}),e}])),i[a].push(c)):d(a,f(D)),this},this.component=function(a,b){function c(a){function c(b){return y(b)||Td(b)?function(c,d){return a.invoke(b,this,{$element:c,$attrs:d})}:b}var f=b.template||b.templateUrl?b.template:"",g={controller:e,controllerAs:sb(b.controller)||b.controllerAs||"$ctrl",template:c(f),templateUrl:c(b.templateUrl),transclude:b.transclude,scope:{},bindToController:b.bindings||{},restrict:"E",require:b.require};return d(b,function(a,b){"$"===b.charAt(0)&&(g[b]=a)}),g}var e=b.controller||function(){};return d(b,function(a,b){"$"===b.charAt(0)&&(c[b]=a,y(e)&&(e[b]=a))}),c.$inject=["$injector"],this.directive(a,c)},this.aHrefSanitizationWhitelist=function(a){return s(a)?(c.aHrefSanitizationWhitelist(a),this):c.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(a){return s(a)?(c.imgSrcSanitizationWhitelist(a),this):c.imgSrcSanitizationWhitelist()};var A=!0;this.debugInfoEnabled=function(a){return s(a)?(A=a,this):A};var C=10;this.onChangesTtl=function(a){return arguments.length?(C=a,this):C},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(b,c,e,f,h,p,s,z,D,E){function G(){try{if(!--ta)throw qa=void 0,Qe("infchng","{0} $onChanges() iterations reached. Aborting!\n",C);s.$apply(function(){for(var a=0,b=qa.length;b>a;++a)qa[a]();qa=void 0})}finally{ta++}}function H(a,b){if(b){var c,d,e,f=Object.keys(b);for(c=0,d=f.length;d>c;c++)e=f[c],this[e]=b[e]}else this.$attr={};this.$$element=a}function I(a,b,c){sa.innerHTML="<span "+b+">";var d=sa.firstChild.attributes,e=d[0];d.removeNamedItem(e.name),e.value=c,a.attributes.setNamedItem(e)}function J(a,b){try{a.addClass(b)}catch(c){}}function K(b,c,d,e,f){b instanceof Id||(b=Id(b));for(var g=/\S+/,h=0,i=b.length;i>h;h++){var j=b[h];j.nodeType===de&&j.nodeValue.match(g)&&Ca(j,b[h]=a.document.createElement("span"))}var k=O(b,c,b,d,e,f);K.$$addScopeClass(b);var l=null;return function(a,c,d){ka(a,"scope"),f&&f.needsNewScope&&(a=a.$parent.$new()),d=d||{};var e=d.parentBoundTranscludeFn,g=d.transcludeControllers,h=d.futureParentElement;e&&e.$$boundTransclude&&(e=e.$$boundTransclude),l||(l=N(h));var i;if(i="html"!==l?Id(ga(l,Id("<div>").append(b).html())):c?we.clone.call(b):b,g)for(var j in g)i.data("$"+j+"Controller",g[j].instance);return K.$$addScopeInfo(i,a),c&&c(i,a),k&&k(a,i,i,e),i}}function N(a){var b=a&&a[0];return b&&"foreignobject"!==L(b)&&Od.call(b).match(/SVG/)?"svg":"html"}function O(a,b,c,d,e,f){function g(a,c,d,e){var f,g,h,i,j,k,l,m,p;if(n){var q=c.length;for(p=new Array(q),j=0;j<o.length;j+=3)l=o[j],p[l]=c[l]}else p=c;for(j=0,k=o.length;k>j;)h=p[o[j++]],f=o[j++],g=o[j++],f?(f.scope?(i=a.$new(),K.$$addScopeInfo(Id(h),i)):i=a,m=f.transcludeOnThisElement?Q(a,f.transclude,e):!f.templateOnThisElement&&e?e:!e&&b?Q(a,b):null,f(g,i,h,d,m)):g&&g(a,h.childNodes,void 0,e)}for(var h,i,j,k,l,m,n,o=[],p=0;p<a.length;p++)h=new H,i=S(a[p],[],h,0===p?d:void 0,e),j=i.length?W(i,a[p],h,b,c,null,[],[],f):null,j&&j.scope&&K.$$addScopeClass(h.$$element),l=j&&j.terminal||!(k=a[p].childNodes)||!k.length?null:O(k,j?(j.transcludeOnThisElement||!j.templateOnThisElement)&&j.transclude:b),(j||l)&&(o.push(p,j,l),m=!0,n=n||j),f=null;return m?g:null}function Q(a,b,c){function d(d,e,f,g,h){return d||(d=a.$new(!1,h),d.$$transcluded=!0),b(d,e,{parentBoundTranscludeFn:c,transcludeControllers:f,futureParentElement:g})}var e=d.$$slots=pa();for(var f in b.$$slots)b.$$slots[f]?e[f]=Q(a,b.$$slots[f],c):e[f]=null;return d}function S(a,b,c,d,e){var f,g,h=a.nodeType,i=c.$attr;switch(h){case be:_(b,pb(L(a)),"E",d,e);for(var j,k,m,n,o,p,r=a.attributes,s=0,u=r&&r.length;u>s;s++){var w=!1,x=!1;j=r[s],k=j.name,o=Vd(j.value),n=pb(k),(p=ya.test(n))&&(k=k.replace(Se,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()}));var y=n.match(za);y&&aa(y[1])&&(w=k,x=k.substr(0,k.length-5)+"end",k=k.substr(0,k.length-6)),m=pb(k.toLowerCase()),i[m]=k,(p||!c.hasOwnProperty(m))&&(c[m]=o,Ta(a,m)&&(c[m]=!0)),ja(a,b,o,m,p),_(b,m,"A",d,e,w,x)}if(g=a.className,t(g)&&(g=g.animVal),v(g)&&""!==g)for(;f=q.exec(g);)m=pb(f[2]),_(b,m,"C",d,e)&&(c[m]=Vd(f[3])),g=g.substr(f.index+f[0].length);break;case de:if(11===Hd)for(;a.parentNode&&a.nextSibling&&a.nextSibling.nodeType===de;)a.nodeValue=a.nodeValue+a.nextSibling.nodeValue,a.parentNode.removeChild(a.nextSibling);fa(b,a.nodeValue);break;case ee:try{f=l.exec(a.nodeValue),f&&(m=pb(f[1]),_(b,m,"M",d,e)&&(c[m]=Vd(f[2])))}catch(z){}}return b.sort(da),b}function T(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw Qe("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",b,c);a.nodeType==be&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--),d.push(a),a=a.nextSibling}while(e>0)}else d.push(a);return Id(d)}function U(a,b,c){return function(d,e,f,g,h){return e=T(e[0],b,c),a(d,e,f,g,h)}}function V(a,b,c,d,e,f){var g;return a?K(b,c,d,e,f):function(){return g||(g=K(b,c,d,e,f),b=c=f=null),g.apply(this,arguments)}}function W(a,b,c,f,g,h,i,k,l){function m(a,b,c,d){a&&(c&&(a=U(a,c,d)),a.require=o.require,a.directiveName=p,(z===o||o.$$isolateScope)&&(a=ma(a,{isolateScope:!0})),i.push(a)),b&&(c&&(b=U(b,c,d)),b.require=o.require,b.directiveName=p,(z===o||o.$$isolateScope)&&(b=ma(b,{isolateScope:!0})),k.push(b))}function n(a,e,f,g,h){function l(a,b,c,d){var e;if(B(a)||(d=c,c=b,b=a,a=void 0),F&&(e=s),c||(c=F?v.parent():v),!d)return h(a,b,e,c,M);var f=h.$$slots[d];if(f)return f(a,b,e,c,M);if(r(f))throw Qe("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',d,Z(v))}var m,n,o,p,q,s,u,v,C,D;b===f?(C=c,v=c.$$element):(v=Id(f),C=new H(v,c)),q=e,z?p=e.$new(!0):w&&(q=e.$parent),h&&(u=l,u.$$boundTransclude=h,u.isSlotFilled=function(a){return!!h.$$slots[a]}),x&&(s=Y(v,C,u,x,p,e,z)),z&&(K.$$addScopeInfo(v,p,!0,!(A&&(A===z||A===z.$$originalDirective))),K.$$addScopeClass(v,!0),p.$$isolateBindings=z.$$isolateBindings,D=oa(e,C,p,p.$$isolateBindings,z),D.removeWatches&&p.$on("$destroy",D.removeWatches));for(var E in s){var G=x[E],I=s[E],J=G.$$bindings.bindToController;I.identifier&&J?I.bindingInfo=oa(q,C,I.instance,J,G):I.bindingInfo={};var L=I();L!==I.instance&&(I.instance=L,v.data("$"+G.name+"Controller",L),I.bindingInfo.removeWatches&&I.bindingInfo.removeWatches(),I.bindingInfo=oa(q,C,I.instance,J,G))}for(d(x,function(a,b){var c=a.require;a.bindToController&&!Td(c)&&t(c)&&j(s[b].instance,X(b,c,v,s))}),d(s,function(a){var b=a.instance;y(b.$onChanges)&&b.$onChanges(a.bindingInfo.initialChanges),y(b.$onInit)&&b.$onInit(),y(b.$onDestroy)&&q.$on("$destroy",function(){b.$onDestroy()})}),m=0,n=i.length;n>m;m++)o=i[m],na(o,o.isolateScope?p:e,v,C,o.require&&X(o.directiveName,o.require,v,s),u);var M=e;for(z&&(z.template||null===z.templateUrl)&&(M=p),a&&a(M,f.childNodes,void 0,h),m=k.length-1;m>=0;m--)o=k[m],na(o,o.isolateScope?p:e,v,C,o.require&&X(o.directiveName,o.require,v,s),u);d(s,function(a){var b=a.instance;y(b.$postLink)&&b.$postLink()})}l=l||{};for(var o,p,q,s,u,v=-Number.MAX_VALUE,w=l.newScopeDirective,x=l.controllerDirectives,z=l.newIsolateScopeDirective,A=l.templateDirective,C=l.nonTlbTranscludeDirective,D=!1,E=!1,F=l.hasElementTranscludeDirective,G=c.$$element=Id(b),I=h,J=f,M=!1,N=!1,O=0,P=a.length;P>O;O++){o=a[O];var Q=o.$$start,W=o.$$end;if(Q&&(G=T(b,Q,W)),q=void 0,v>o.priority)break;if((u=o.scope)&&(o.templateUrl||(t(u)?(ea("new/isolated scope",z||w,o,G),z=o):ea("new/isolated scope",z,o,G)),w=w||o),p=o.name,!M&&(o.replace&&(o.templateUrl||o.template)||o.transclude&&!o.$$tlb)){for(var _,aa=O+1;_=a[aa++];)if(_.transclude&&!_.$$tlb||_.replace&&(_.templateUrl||_.template)){N=!0;break}M=!0}if(!o.templateUrl&&o.controller&&(u=o.controller,x=x||pa(),ea("'"+p+"' controller",x[p],o,G),x[p]=o),u=o.transclude)if(D=!0,o.$$tlb||(ea("transclusion",C,o,G),C=o),"element"==u)F=!0,v=o.priority,q=G,G=c.$$element=Id(K.$$createComment(p,c[p])),b=G[0],la(g,R(q),b),q[0].$$parentNode=q[0].parentNode,J=V(N,q,f,v,I&&I.name,{nonTlbTranscludeDirective:C});else{var da=pa();if(q=Id(Ea(b)).contents(),t(u)){q=[];var fa=pa(),ha=pa();d(u,function(a,b){var c="?"===a.charAt(0);a=c?a.substring(1):a,fa[a]=b,da[b]=null,ha[b]=c}),d(G.contents(),function(a){var b=fa[pb(L(a))];b?(ha[b]=!0,da[b]=da[b]||[],da[b].push(a)):q.push(a)}),d(ha,function(a,b){if(!a)throw Qe("reqslot","Required transclusion slot `{0}` was not filled.",b)});for(var ia in da)da[ia]&&(da[ia]=V(N,da[ia],f))}G.empty(),J=V(N,q,f,void 0,void 0,{needsNewScope:o.$$isolateScope||o.$$newScope}),J.$$slots=da}if(o.template)if(E=!0,ea("template",A,o,G),A=o,u=y(o.template)?o.template(G,c):o.template,u=xa(u),o.replace){if(I=o,q=wa(u)?[]:rb(ga(o.templateNamespace,Vd(u))),b=q[0],1!=q.length||b.nodeType!==be)throw Qe("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p,"");la(g,G,b);var ja={$attr:{}},ka=S(b,[],ja),qa=a.splice(O+1,a.length-(O+1));(z||w)&&$(ka,z,w),a=a.concat(ka).concat(qa),ba(c,ja),P=a.length}else G.html(u);if(o.templateUrl)E=!0,ea("template",A,o,G),A=o,o.replace&&(I=o),n=ca(a.splice(O,a.length-O),G,c,g,D&&J,i,k,{controllerDirectives:x,newScopeDirective:w!==o&&w,newIsolateScopeDirective:z,templateDirective:A,nonTlbTranscludeDirective:C}),P=a.length;else if(o.compile)try{s=o.compile(G,c,J),y(s)?m(null,s,Q,W):s&&m(s.pre,s.post,Q,W)}catch(ra){e(ra,Z(G))}o.terminal&&(n.terminal=!0,v=Math.max(v,o.priority))}return n.scope=w&&w.scope===!0,n.transcludeOnThisElement=D,n.templateOnThisElement=E,n.transclude=J,l.hasElementTranscludeDirective=F,n}function X(a,b,c,e){var f;if(v(b)){var g=b.match(w),h=b.substring(g[0].length),i=g[1]||g[3],j="?"===g[2];if("^^"===i?c=c.parent():(f=e&&e[h],f=f&&f.instance),!f){var k="$"+h+"Controller";f=i?c.inheritedData(k):c.data(k)}if(!f&&!j)throw Qe("ctreq","Controller '{0}', required by directive '{1}', can't be found!",h,a)}else if(Td(b)){f=[];for(var l=0,m=b.length;m>l;l++)f[l]=X(a,b[l],c,e)}else t(b)&&(f={},d(b,function(b,d){f[d]=X(a,b,c,e)}));return f||null}function Y(a,b,c,d,e,f,g){var h=pa();for(var i in d){var j=d[i],k={$scope:j===g||j.$$isolateScope?e:f,$element:a,$attrs:b,$transclude:c},l=j.controller;"@"==l&&(l=b[j.name]);var m=p(l,k,!0,j.controllerAs);h[j.name]=m,a.data("$"+j.name+"Controller",m.instance)}return h}function $(a,b,c){for(var d=0,e=a.length;e>d;d++)a[d]=m(a[d],{
$$isolateScope:b,$$newScope:c})}function _(a,c,d,f,h,j,l){if(c===h)return null;var n=null;if(i.hasOwnProperty(c))for(var o,p=b.get(c+k),q=0,s=p.length;s>q;q++)try{if(o=p[q],(r(f)||f>o.priority)&&-1!=o.restrict.indexOf(d)){if(j&&(o=m(o,{$$start:j,$$end:l})),!o.$$bindings){var u=o.$$bindings=g(o,o.name);t(u.isolateScope)&&(o.$$isolateBindings=u.isolateScope)}a.push(o),n=o}}catch(v){e(v)}return n}function aa(a){if(i.hasOwnProperty(a))for(var c,d=b.get(a+k),e=0,f=d.length;f>e;e++)if(c=d[e],c.multiElement)return!0;return!1}function ba(a,b){var c=b.$attr,e=a.$attr,f=a.$$element;d(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))}),d(b,function(b,d){"class"==d?(J(f,b),a["class"]=(a["class"]?a["class"]+" ":"")+b):"style"==d?(f.attr("style",f.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"==d.charAt(0)||a.hasOwnProperty(d)||(a[d]=b,e[d]=c[d])})}function ca(a,b,c,e,g,h,i,j){var k,l,n=[],o=b[0],p=a.shift(),q=m(p,{templateUrl:null,transclude:null,replace:null,$$originalDirective:p}),r=y(p.templateUrl)?p.templateUrl(b,c):p.templateUrl,s=p.templateNamespace;return b.empty(),f(r).then(function(f){var m,u,v,w;if(f=xa(f),p.replace){if(v=wa(f)?[]:rb(ga(s,Vd(f))),m=v[0],1!=v.length||m.nodeType!==be)throw Qe("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p.name,r);u={$attr:{}},la(e,b,m);var x=S(m,[],u);t(p.scope)&&$(x,!0),a=x.concat(a),ba(c,u)}else m=o,b.html(f);for(a.unshift(q),k=W(a,m,c,g,b,p,h,i,j),d(e,function(a,c){a==m&&(e[c]=b[0])}),l=O(b[0].childNodes,g);n.length;){var y=n.shift(),z=n.shift(),A=n.shift(),B=n.shift(),C=b[0];if(!y.$$destroyed){if(z!==o){var D=z.className;j.hasElementTranscludeDirective&&p.replace||(C=Ea(m)),la(A,Id(z),C),J(Id(C),D)}w=k.transcludeOnThisElement?Q(y,k.transclude,B):B,k(l,y,C,e,w)}}n=null}),function(a,b,c,d,e){var f=e;b.$$destroyed||(n?n.push(b,c,d,f):(k.transcludeOnThisElement&&(f=Q(b,k.transclude,e)),k(l,b,c,d,f)))}}function da(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function ea(a,b,c,d){function e(a){return a?" (module: "+a+")":""}if(b)throw Qe("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",b.name,e(b.$$moduleName),c.name,e(c.$$moduleName),a,Z(d))}function fa(a,b){var d=c(b,!0);d&&a.push({priority:0,compile:function(a){var b=a.parent(),c=!!b.length;return c&&K.$$addBindingClass(b),function(a,b){var e=b.parent();c||K.$$addBindingClass(e),K.$$addBindingInfo(e,d.expressions),a.$watch(d,function(a){b[0].nodeValue=a})}}})}function ga(b,c){switch(b=Dd(b||"html")){case"svg":case"math":var d=a.document.createElement("div");return d.innerHTML="<"+b+">"+c+"</"+b+">",d.childNodes[0].childNodes;default:return c}}function ha(a,b){if("srcdoc"==b)return z.HTML;var c=L(a);return"xlinkHref"==b||"form"==c&&"action"==b||"img"!=c&&("src"==b||"ngSrc"==b)?z.RESOURCE_URL:void 0}function ja(a,b,d,e,f){var g=ha(a,e);f=u[e]||f;var h=c(d,!0,g,f);if(h){if("multiple"===e&&"select"===L(a))throw Qe("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",Z(a));b.push({priority:100,compile:function(){return{pre:function(a,b,i){var j=i.$$observers||(i.$$observers=pa());if(x.test(e))throw Qe("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var k=i[e];k!==d&&(h=k&&c(k,!0,g,f),d=k),h&&(i[e]=h(a),(j[e]||(j[e]=[])).$$inter=!0,(i.$$observers&&i.$$observers[e].$$scope||a).$watch(h,function(a,b){"class"===e&&a!=b?i.$updateClass(a,b):i.$set(e,a)}))}}}})}}function la(b,c,d){var e,f,g=c[0],h=c.length,i=g.parentNode;if(b)for(e=0,f=b.length;f>e;e++)if(b[e]==g){b[e++]=d;for(var j=e,k=j+h-1,l=b.length;l>j;j++,k++)l>k?b[j]=b[k]:delete b[j];b.length-=h-1,b.context===g&&(b.context=d);break}i&&i.replaceChild(d,g);var m=a.document.createDocumentFragment();for(e=0;h>e;e++)m.appendChild(c[e]);for(Id.hasData(g)&&(Id.data(d,Id.data(g)),Id(g).off("$destroy")),Id.cleanData(m.querySelectorAll("*")),e=1;h>e;e++)delete c[e];c[0]=d,c.length=1}function ma(a,b){return j(function(){return a.apply(null,arguments)},a,b)}function na(a,b,c,d,f,g){try{a(b,c,d,f,g)}catch(h){e(h,Z(c))}}function oa(a,b,e,f,g){function i(b,c,d){y(e.$onChanges)&&c!==d&&(qa||(a.$$postDigest(G),qa=[]),k||(k={},qa.push(j)),k[b]&&(d=k[b].previousValue),k[b]=new ob(d,c))}function j(){e.$onChanges(k),k=void 0}var k,l=[],m={};return d(f,function(d,f){var j,k,o,p,q,r=d.attrName,s=d.optional,t=d.mode;switch(t){case"@":s||Cd.call(b,r)||(e[f]=b[r]=void 0),b.$observe(r,function(a){if(v(a)||F(a)){var b=e[f];i(f,a,b),e[f]=a}}),b.$$observers[r].$$scope=a,j=b[r],v(j)?e[f]=c(j)(a):F(j)&&(e[f]=j),m[f]=new ob(Re,e[f]);break;case"=":if(!Cd.call(b,r)){if(s)break;b[r]=void 0}if(s&&!b[r])break;k=h(b[r]),p=k.literal?P:function(a,b){return a===b||a!==a&&b!==b},o=k.assign||function(){throw j=e[f]=k(a),Qe("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",b[r],r,g.name)},j=e[f]=k(a);var u=function(b){return p(b,e[f])||(p(b,j)?o(a,b=e[f]):e[f]=b),j=b};u.$stateful=!0,q=d.collection?a.$watchCollection(b[r],u):a.$watch(h(b[r],u),null,k.literal),l.push(q);break;case"<":if(!Cd.call(b,r)){if(s)break;b[r]=void 0}if(s&&!b[r])break;k=h(b[r]),e[f]=k(a),m[f]=new ob(Re,e[f]),q=a.$watch(k,function(a,b){a===b&&(b=e[f]),i(f,a,b),e[f]=a},k.literal),l.push(q);break;case"&":if(k=b.hasOwnProperty(r)?h(b[r]):n,k===n&&s)break;e[f]=function(b){return k(a,b)}}}),{initialChanges:m,removeWatches:l.length&&function(){for(var a=0,b=l.length;b>a;++a)l[a]()}}}var qa,ra=/^\w/,sa=a.document.createElement("div"),ta=C;H.prototype={$normalize:pb,$addClass:function(a){a&&a.length>0&&D.addClass(this.$$element,a)},$removeClass:function(a){a&&a.length>0&&D.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=qb(a,b);c&&c.length&&D.addClass(this.$$element,c);var d=qb(b,a);d&&d.length&&D.removeClass(this.$$element,d)},$set:function(a,b,c,f){var g,h=this.$$element[0],i=Ta(h,a),j=Ua(a),k=a;if(i?(this.$$element.prop(a,b),f=i):j&&(this[j]=b,k=j),this[a]=b,f?this.$attr[a]=f:(f=this.$attr[a],f||(this.$attr[a]=f=ia(a,"-"))),g=L(this.$$element),"a"===g&&("href"===a||"xlinkHref"===a)||"img"===g&&"src"===a)this[a]=b=E(b,"src"===a);else if("img"===g&&"srcset"===a){for(var l="",m=Vd(b),n=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,o=/\s/.test(m)?n:/(,)/,p=m.split(o),q=Math.floor(p.length/2),s=0;q>s;s++){var t=2*s;l+=E(Vd(p[t]),!0),l+=" "+Vd(p[t+1])}var u=Vd(p[2*s]).split(/\s/);l+=E(Vd(u[0]),!0),2===u.length&&(l+=" "+Vd(u[1])),this[a]=b=l}c!==!1&&(null===b||r(b)?this.$$element.removeAttr(f):ra.test(f)?this.$$element.attr(f,b):I(this.$$element[0],f,b));var v=this.$$observers;v&&d(v[k],function(a){try{a(b)}catch(c){e(c)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=pa()),e=d[a]||(d[a]=[]);return e.push(b),s.$evalAsync(function(){e.$$inter||!c.hasOwnProperty(a)||r(c[a])||b(c[a])}),function(){M(e,b)}}};var ua=c.startSymbol(),va=c.endSymbol(),xa="{{"==ua&&"}}"==va?o:function(a){return a.replace(/\{\{/g,ua).replace(/}}/g,va)},ya=/^ngAttr[A-Z]/,za=/^(.+)Start$/;return K.$$addBindingInfo=A?function(a,b){var c=a.data("$binding")||[];Td(b)?c=c.concat(b):c.push(b),a.data("$binding",c)}:n,K.$$addBindingClass=A?function(a){J(a,"ng-binding")}:n,K.$$addScopeInfo=A?function(a,b,c,d){var e=c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope";a.data(e,b)}:n,K.$$addScopeClass=A?function(a,b){J(a,b?"ng-isolate-scope":"ng-scope")}:n,K.$$createComment=function(b,c){var d="";return A&&(d=" "+(b||"")+": "+(c||"")+" "),a.document.createComment(d)},K}]}function ob(a,b){this.previousValue=a,this.currentValue=b}function pb(a){return va(a.replace(Se,""))}function qb(a,b){var c="",d=a.split(/\s+/),e=b.split(/\s+/);a:for(var f=0;f<d.length;f++){for(var g=d[f],h=0;h<e.length;h++)if(g==e[h])continue a;c+=(c.length>0?" ":"")+g}return c}function rb(a){a=Id(a);var b=a.length;if(1>=b)return a;for(;b--;){var c=a[b];c.nodeType===ee&&Md.call(a,b,1)}return a}function sb(a,b){if(b&&v(b))return b;if(v(a)){var c=Ue.exec(a);if(c)return c[3]}}function tb(){var a={},c=!1;this.has=function(b){return a.hasOwnProperty(b)},this.register=function(b,c){ma(b,"controller"),t(b)?j(a,b):a[b]=c},this.allowGlobals=function(){c=!0},this.$get=["$injector","$window",function(d,e){function f(a,c,d,e){if(!a||!t(a.$scope))throw b("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",e,c);a.$scope[c]=d}return function(b,g,h,i){var k,l,m,n;if(h=h===!0,i&&v(i)&&(n=i),v(b)){if(l=b.match(Ue),!l)throw Te("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",b);m=l[1],n=n||l[3],b=a.hasOwnProperty(m)?a[m]:na(g.$scope,m,!0)||(c?na(e,m,!0):void 0),la(b,m,!0)}if(h){var o=(Td(b)?b[b.length-1]:b).prototype;k=Object.create(o||null),n&&f(g,n,k,m||b.name);var p;return p=j(function(){var a=d.invoke(b,k,g,m);return a!==k&&(t(a)||y(a))&&(k=a,n&&f(g,n,k,m||b.name)),k},{instance:k,identifier:n})}return k=d.instantiate(b,g,m),n&&f(g,n,k,m||b.name),k}}]}function ub(){this.$get=["$window",function(a){return Id(a.document)}]}function vb(){this.$get=["$log",function(a){return function(b,c){a.error.apply(a,arguments)}}]}function wb(a){return t(a)?x(a)?a.toISOString():U(a):a}function xb(){this.$get=function(){return function(a){if(!a)return"";var b=[];return e(a,function(a,c){null===a||r(a)||(Td(a)?d(a,function(a){b.push(ca(c)+"="+ca(wb(a)))}):b.push(ca(c)+"="+ca(wb(a))))}),b.join("&")}}}function yb(){this.$get=function(){return function(a){function b(a,f,g){null===a||r(a)||(Td(a)?d(a,function(a,c){b(a,f+"["+(t(a)?c:"")+"]")}):t(a)&&!x(a)?e(a,function(a,c){b(a,f+(g?"":"[")+c+(g?"":"]"))}):c.push(ca(f)+"="+ca(wb(a))))}if(!a)return"";var c=[];return b(a,"",!0),c.join("&")}}}function zb(a,b){if(v(a)){var c=a.replace($e,"").trim();if(c){var d=b("Content-Type");(d&&0===d.indexOf(We)||Ab(c))&&(a=V(c))}}return a}function Ab(a){var b=a.match(Ye);return b&&Ze[b[0]].test(a)}function Bb(a){function b(a,b){a&&(e[a]=e[a]?e[a]+", "+b:b)}var c,e=pa();return v(a)?d(a.split("\n"),function(a){c=a.indexOf(":"),b(Dd(Vd(a.substr(0,c))),Vd(a.substr(c+1)))}):t(a)&&d(a,function(a,c){b(Dd(c),Vd(a))}),e}function Cb(a){var b;return function(c){if(b||(b=Bb(a)),c){var d=b[Dd(c)];return void 0===d&&(d=null),d}return b}}function Db(a,b,c,e){return y(e)?e(a,b,c):(d(e,function(d){a=d(a,b,c)}),a)}function Eb(a){return a>=200&&300>a}function Fb(){var a=this.defaults={transformResponse:[zb],transformRequest:[function(a){return!t(a)||C(a)||E(a)||D(a)?a:U(a)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:O(Xe),put:O(Xe),patch:O(Xe)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},c=!1;this.useApplyAsync=function(a){return s(a)?(c=!!a,this):c};var e=!0;this.useLegacyPromiseExtensions=function(a){return s(a)?(e=!!a,this):e};var f=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(g,h,i,k,l,m){function n(c){function f(a){var b=j({},a);return b.data=Db(a.data,a.headers,a.status,i.transformResponse),Eb(a.status)?b:l.reject(b)}function g(a,b){var c,e={};return d(a,function(a,d){y(a)?(c=a(b),null!=c&&(e[d]=c)):e[d]=a}),e}function h(b){var c,d,e,f=a.headers,h=j({},b.headers);f=j({},f.common,f[Dd(b.method)]);a:for(c in f){d=Dd(c);for(e in h)if(Dd(e)===d)continue a;h[c]=f[c]}return g(h,O(b))}if(!t(c))throw b("$http")("badreq","Http request configuration must be an object.  Received: {0}",c);if(!v(c.url))throw b("$http")("badreq","Http request configuration url must be a string.  Received: {0}",c.url);var i=j({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse,paramSerializer:a.paramSerializer},c);i.headers=h(c),i.method=Ed(i.method),i.paramSerializer=v(i.paramSerializer)?m.get(i.paramSerializer):i.paramSerializer;var k=function(b){var c=b.headers,e=Db(b.data,Cb(c),void 0,b.transformRequest);return r(e)&&d(c,function(a,b){"content-type"===Dd(b)&&delete c[b]}),r(b.withCredentials)&&!r(a.withCredentials)&&(b.withCredentials=a.withCredentials),q(b,e).then(f,f)},n=[k,void 0],o=l.when(i);for(d(x,function(a){(a.request||a.requestError)&&n.unshift(a.request,a.requestError),(a.response||a.responseError)&&n.push(a.response,a.responseError)});n.length;){var p=n.shift(),s=n.shift();o=o.then(p,s)}return e?(o.success=function(a){return la(a,"fn"),o.then(function(b){a(b.data,b.status,b.headers,i)}),o},o.error=function(a){return la(a,"fn"),o.then(null,function(b){a(b.data,b.status,b.headers,i)}),o}):(o.success=af("success"),o.error=af("error")),o}function o(a){d(arguments,function(a){n[a]=function(b,c){return n(j({},c||{},{method:a,url:b}))}})}function p(a){d(arguments,function(a){n[a]=function(b,c,d){return n(j({},d||{},{method:a,url:b,data:c}))}})}function q(b,e){function f(a){if(a){var b={};return d(a,function(a,d){b[d]=function(b){function d(){a(b)}c?k.$applyAsync(d):k.$$phase?d():k.$apply(d)}}),b}}function i(a,b,d,e){function f(){j(b,a,d,e)}p&&(Eb(a)?p.put(z,[a,b,Bb(d),e]):p.remove(z)),c?k.$applyAsync(f):(f(),k.$$phase||k.$apply())}function j(a,c,d,e){c=c>=-1?c:0,(Eb(c)?v.resolve:v.reject)({data:a,status:c,headers:Cb(d),config:b,statusText:e})}function m(a){j(a.data,a.status,O(a.headers()),a.statusText)}function o(){var a=n.pendingRequests.indexOf(b);-1!==a&&n.pendingRequests.splice(a,1)}var p,q,v=l.defer(),x=v.promise,y=b.headers,z=u(b.url,b.paramSerializer(b.params));if(n.pendingRequests.push(b),x.then(o,o),!b.cache&&!a.cache||b.cache===!1||"GET"!==b.method&&"JSONP"!==b.method||(p=t(b.cache)?b.cache:t(a.cache)?a.cache:w),p&&(q=p.get(z),s(q)?G(q)?q.then(m,m):Td(q)?j(q[1],q[0],O(q[2]),q[3]):j(q,200,{},"OK"):p.put(z,x)),r(q)){var A=Gc(b.url)?h()[b.xsrfCookieName||a.xsrfCookieName]:void 0;A&&(y[b.xsrfHeaderName||a.xsrfHeaderName]=A),g(b.method,z,e,i,y,b.timeout,b.withCredentials,b.responseType,f(b.eventHandlers),f(b.uploadEventHandlers))}return x}function u(a,b){return b.length>0&&(a+=(-1==a.indexOf("?")?"?":"&")+b),a}var w=i("$http");a.paramSerializer=v(a.paramSerializer)?m.get(a.paramSerializer):a.paramSerializer;var x=[];return d(f,function(a){x.unshift(v(a)?m.get(a):m.invoke(a))}),n.pendingRequests=[],o("get","delete","head","jsonp"),p("post","put","patch"),n.defaults=a,n}]}function Gb(){this.$get=function(){return function(){return new a.XMLHttpRequest}}}function Hb(){this.$get=["$browser","$window","$document","$xhrFactory",function(a,b,c,d){return Ib(a,d,a.defer,b.angular.callbacks,c[0])}]}function Ib(a,b,c,e,f){function g(a,b,c){var d=f.createElement("script"),g=null;return d.type="text/javascript",d.src=a,d.async=!0,g=function(a){le(d,"load",g),le(d,"error",g),f.body.removeChild(d),d=null;var h=-1,i="unknown";a&&("load"!==a.type||e[b].called||(a={type:"error"}),i=a.type,h="error"===a.type?404:200),c&&c(h,i)},ke(d,"load",g),ke(d,"error",g),f.body.appendChild(d),g}return function(f,h,i,j,k,l,m,o,p,q){function t(){w&&w(),x&&x.abort()}function u(b,d,e,f,g){s(A)&&c.cancel(A),w=x=null,b(d,e,f,g),a.$$completeOutstandingRequest(n)}if(a.$$incOutstandingRequestCount(),h=h||a.url(),"jsonp"==Dd(f)){var v="_"+(e.counter++).toString(36);e[v]=function(a){e[v].data=a,e[v].called=!0};var w=g(h.replace("JSON_CALLBACK","angular.callbacks."+v),v,function(a,b){u(j,a,e[v].data,"",b),e[v]=n})}else{var x=b(f,h);x.open(f,h,!0),d(k,function(a,b){s(a)&&x.setRequestHeader(b,a)}),x.onload=function(){var a=x.statusText||"",b="response"in x?x.response:x.responseText,c=1223===x.status?204:x.status;0===c&&(c=b?200:"file"==Fc(h).protocol?404:0),u(j,c,b,x.getAllResponseHeaders(),a)};var y=function(){u(j,-1,null,null,"")};if(x.onerror=y,x.onabort=y,d(p,function(a,b){x.addEventListener(b,a)}),d(q,function(a,b){x.upload.addEventListener(b,a)}),m&&(x.withCredentials=!0),o)try{x.responseType=o}catch(z){if("json"!==o)throw z}x.send(r(i)?null:i)}if(l>0)var A=c(t,l);else G(l)&&l.then(t)}}function Jb(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a},this.endSymbol=function(a){return a?(b=a,this):b},this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function f(a){return"\\\\\\"+a}function g(c){return c.replace(n,a).replace(o,b)}function h(a){if(null==a)return"";switch(typeof a){case"string":break;case"number":a=""+a;break;default:a=U(a)}return a}function i(a,b,c,d){var e;return e=a.$watch(function(a){return e(),d(a)},b,c)}function k(f,k,n,o){function q(a){try{return a=G(a),o&&!s(a)?a:h(a)}catch(b){d(bf.interr(f,b))}}if(!f.length||-1===f.indexOf(a)){var t;if(!k){var u=g(f);t=p(u),t.exp=f,t.expressions=[],t.$$watchDelegate=i}return t}o=!!o;for(var v,w,x,z=0,A=[],B=[],C=f.length,D=[],E=[];C>z;){if(-1==(v=f.indexOf(a,z))||-1==(w=f.indexOf(b,v+l))){z!==C&&D.push(g(f.substring(z)));break}z!==v&&D.push(g(f.substring(z,v))),x=f.substring(v+l,w),A.push(x),B.push(c(x,q)),z=w+m,E.push(D.length),D.push("")}if(n&&D.length>1&&bf.throwNoconcat(f),!k||A.length){var F=function(a){for(var b=0,c=A.length;c>b;b++){if(o&&r(a[b]))return;D[E[b]]=a[b]}return D.join("")},G=function(a){return n?e.getTrusted(n,a):e.valueOf(a)};return j(function(a){var b=0,c=A.length,e=new Array(c);try{for(;c>b;b++)e[b]=B[b](a);return F(e)}catch(g){d(bf.interr(f,g))}},{exp:f,expressions:A,$$watchDelegate:function(a,b){var c;return a.$watchGroup(B,function(d,e){var f=F(d);y(b)&&b.call(this,f,d!==e?c:f,a),c=f})}})}}var l=a.length,m=b.length,n=new RegExp(a.replace(/./g,f),"g"),o=new RegExp(b.replace(/./g,f),"g");return k.startSymbol=function(){return a},k.endSymbol=function(){return b},k}]}function Kb(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(a,b,c,d,e){function f(f,h,i,j){function k(){l?f.apply(null,m):f(p)}var l=arguments.length>4,m=l?R(arguments,4):[],n=b.setInterval,o=b.clearInterval,p=0,q=s(j)&&!j,r=(q?d:c).defer(),t=r.promise;return i=s(i)?i:0,t.$$intervalId=n(function(){q?e.defer(k):a.$evalAsync(k),r.notify(p++),i>0&&p>=i&&(r.resolve(p),o(t.$$intervalId),delete g[t.$$intervalId]),q||a.$apply()},h),g[t.$$intervalId]=r,t}var g={};return f.cancel=function(a){return a&&a.$$intervalId in g?(g[a.$$intervalId].reject("canceled"),b.clearInterval(a.$$intervalId),delete g[a.$$intervalId],!0):!1},f}]}function Lb(a){for(var b=a.split("/"),c=b.length;c--;)b[c]=ba(b[c]);return b.join("/")}function Mb(a,b){var c=Fc(a);b.$$protocol=c.protocol,b.$$host=c.hostname,b.$$port=l(c.port)||df[c.protocol]||null}function Nb(a,b){var c="/"!==a.charAt(0);c&&(a="/"+a);var d=Fc(a);b.$$path=decodeURIComponent(c&&"/"===d.pathname.charAt(0)?d.pathname.substring(1):d.pathname),b.$$search=_(d.search),b.$$hash=decodeURIComponent(d.hash),b.$$path&&"/"!=b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function Ob(a,b){return 0===b.indexOf(a)?b.substr(a.length):void 0}function Pb(a){var b=a.indexOf("#");return-1==b?a:a.substr(0,b)}function Qb(a){return a.replace(/(#.+)|#$/,"$1")}function Rb(a){return a.substr(0,Pb(a).lastIndexOf("/")+1)}function Sb(a){return a.substring(0,a.indexOf("/",a.indexOf("//")+2))}function Tb(a,b,c){this.$$html5=!0,c=c||"",Mb(a,this),this.$$parse=function(a){var c=Ob(b,a);if(!v(c))throw ef("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',a,b);Nb(c,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var a=aa(this.$$search),c=this.$$hash?"#"+ba(this.$$hash):"";this.$$url=Lb(this.$$path)+(a?"?"+a:"")+c,this.$$absUrl=b+this.$$url.substr(1)},this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g,h;return s(f=Ob(a,d))?(g=f,h=s(f=Ob(c,f))?b+(Ob("/",f)||f):a+g):s(f=Ob(b,d))?h=b+f:b==d+"/"&&(h=b),h&&this.$$parse(h),!!h}}function Ub(a,b,c){Mb(a,this),this.$$parse=function(d){function e(a,b,c){var d,e=/^\/[A-Z]:(\/.*)/;return 0===b.indexOf(c)&&(b=b.replace(c,"")),e.exec(b)?a:(d=e.exec(a),d?d[1]:a)}var f,g=Ob(a,d)||Ob(b,d);r(g)||"#"!==g.charAt(0)?this.$$html5?f=g:(f="",r(g)&&(a=d,this.replace())):(f=Ob(c,g),r(f)&&(f=g)),Nb(f,this),this.$$path=e(this.$$path,f,a),this.$$compose()},this.$$compose=function(){var b=aa(this.$$search),d=this.$$hash?"#"+ba(this.$$hash):"";this.$$url=Lb(this.$$path)+(b?"?"+b:"")+d,this.$$absUrl=a+(this.$$url?c+this.$$url:"")},this.$$parseLinkUrl=function(b,c){return Pb(a)==Pb(b)?(this.$$parse(b),!0):!1}}function Vb(a,b,c){this.$$html5=!0,Ub.apply(this,arguments),this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;return a==Pb(d)?f=d:(g=Ob(b,d))?f=a+c+g:b===d+"/"&&(f=b),f&&this.$$parse(f),!!f},this.$$compose=function(){var b=aa(this.$$search),d=this.$$hash?"#"+ba(this.$$hash):"";this.$$url=Lb(this.$$path)+(b?"?"+b:"")+d,this.$$absUrl=a+c+this.$$url}}function Wb(a){return function(){return this[a]}}function Xb(a,b){return function(c){return r(c)?this[a]:(this[a]=b(c),this.$$compose(),this)}}function Yb(){var a="",b={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(b){return s(b)?(a=b,this):a},this.html5Mode=function(a){return F(a)?(b.enabled=a,this):t(a)?(F(a.enabled)&&(b.enabled=a.enabled),F(a.requireBase)&&(b.requireBase=a.requireBase),F(a.rewriteLinks)&&(b.rewriteLinks=a.rewriteLinks),this):b},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(c,d,e,f,g){function h(a,b,c){var e=j.url(),f=j.$$state;try{d.url(a,b,c),j.$$state=d.state()}catch(g){throw j.url(e),j.$$state=f,g}}function i(a,b){c.$broadcast("$locationChangeSuccess",j.absUrl(),a,j.$$state,b)}var j,k,l,m=d.baseHref(),n=d.url();if(b.enabled){if(!m&&b.requireBase)throw ef("nobase","$location in HTML5 mode requires a <base> tag to be present!");l=Sb(n)+(m||"/"),k=e.history?Tb:Vb}else l=Pb(n),k=Ub;var o=Rb(l);j=new k(l,o,"#"+a),j.$$parseLinkUrl(n,n),j.$$state=d.state();var p=/^\s*(javascript|mailto):/i;f.on("click",function(a){if(b.rewriteLinks&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&2!=a.which&&2!=a.button){for(var e=Id(a.target);"a"!==L(e[0]);)if(e[0]===f[0]||!(e=e.parent())[0])return;var h=e.prop("href"),i=e.attr("href")||e.attr("xlink:href");t(h)&&"[object SVGAnimatedString]"===h.toString()&&(h=Fc(h.animVal).href),p.test(h)||!h||e.attr("target")||a.isDefaultPrevented()||j.$$parseLinkUrl(h,i)&&(a.preventDefault(),j.absUrl()!=d.url()&&(c.$apply(),g.angular["ff-684208-preventDefault"]=!0))}}),Qb(j.absUrl())!=Qb(n)&&d.url(j.absUrl(),!0);var q=!0;return d.onUrlChange(function(a,b){return r(Ob(o,a))?void(g.location.href=a):(c.$evalAsync(function(){var d,e=j.absUrl(),f=j.$$state;a=Qb(a),j.$$parse(a),j.$$state=b,d=c.$broadcast("$locationChangeStart",a,e,b,f).defaultPrevented,j.absUrl()===a&&(d?(j.$$parse(e),j.$$state=f,h(e,!1,f)):(q=!1,i(e,f)))}),void(c.$$phase||c.$digest()))}),c.$watch(function(){var a=Qb(d.url()),b=Qb(j.absUrl()),f=d.state(),g=j.$$replace,k=a!==b||j.$$html5&&e.history&&f!==j.$$state;(q||k)&&(q=!1,c.$evalAsync(function(){var b=j.absUrl(),d=c.$broadcast("$locationChangeStart",b,a,j.$$state,f).defaultPrevented;j.absUrl()===b&&(d?(j.$$parse(a),j.$$state=f):(k&&h(b,g,f===j.$$state?null:j.$$state),i(a,f)))})),j.$$replace=!1}),j}]}function Zb(){var a=!0,b=this;this.debugEnabled=function(b){return s(b)?(a=b,this):a},this.$get=["$window",function(c){function e(a){return a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line)),a}function f(a){var b=c.console||{},f=b[a]||b.log||n,g=!1;try{g=!!f.apply}catch(h){}return g?function(){var a=[];return d(arguments,function(b){a.push(e(b))}),f.apply(b,a)}:function(a,b){f(a,null==b?"":b)}}return{log:f("log"),info:f("info"),warn:f("warn"),error:f("error"),debug:function(){var c=f("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function $b(a,b){if("__defineGetter__"===a||"__defineSetter__"===a||"__lookupGetter__"===a||"__lookupSetter__"===a||"__proto__"===a)throw gf("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",b);return a}function _b(a){return a+""}function ac(a,b){if(a){if(a.constructor===a)throw gf("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a.window===a)throw gf("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",b);if(a.children&&(a.nodeName||a.prop&&a.attr&&a.find))throw gf("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",b);if(a===Object)throw gf("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",b)}return a}function bc(a,b){if(a){if(a.constructor===a)throw gf("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a===hf||a===jf||a===kf)throw gf("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",b)}}function cc(a,b){if(a&&(a===0..constructor||a===(!1).constructor||a==="".constructor||a==={}.constructor||a===[].constructor||a===Function.constructor))throw gf("isecaf","Assigning to a constructor is disallowed! Expression: {0}",b)}function dc(a,b){return"undefined"!=typeof a?a:b}function ec(a,b){return"undefined"==typeof a?b:"undefined"==typeof b?a:a+b}function fc(a,b){var c=a(b);return!c.$stateful}function gc(a,b){var c,e;switch(a.type){case of.Program:c=!0,d(a.body,function(a){gc(a.expression,b),c=c&&a.expression.constant}),a.constant=c;break;case of.Literal:a.constant=!0,a.toWatch=[];break;case of.UnaryExpression:gc(a.argument,b),a.constant=a.argument.constant,a.toWatch=a.argument.toWatch;break;case of.BinaryExpression:gc(a.left,b),gc(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.left.toWatch.concat(a.right.toWatch);break;case of.LogicalExpression:gc(a.left,b),gc(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.constant?[]:[a];break;case of.ConditionalExpression:gc(a.test,b),gc(a.alternate,b),gc(a.consequent,b),a.constant=a.test.constant&&a.alternate.constant&&a.consequent.constant,a.toWatch=a.constant?[]:[a];break;case of.Identifier:a.constant=!1,a.toWatch=[a];break;case of.MemberExpression:gc(a.object,b),a.computed&&gc(a.property,b),a.constant=a.object.constant&&(!a.computed||a.property.constant),a.toWatch=[a];break;case of.CallExpression:c=a.filter?fc(b,a.callee.name):!1,e=[],d(a.arguments,function(a){gc(a,b),c=c&&a.constant,a.constant||e.push.apply(e,a.toWatch)}),a.constant=c,a.toWatch=a.filter&&fc(b,a.callee.name)?e:[a];break;case of.AssignmentExpression:gc(a.left,b),gc(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=[a];break;case of.ArrayExpression:c=!0,e=[],d(a.elements,function(a){gc(a,b),c=c&&a.constant,a.constant||e.push.apply(e,a.toWatch)}),a.constant=c,a.toWatch=e;break;case of.ObjectExpression:c=!0,e=[],d(a.properties,function(a){gc(a.value,b),c=c&&a.value.constant,a.value.constant||e.push.apply(e,a.value.toWatch)}),a.constant=c,a.toWatch=e;break;case of.ThisExpression:a.constant=!1,a.toWatch=[];break;case of.LocalsExpression:a.constant=!1,a.toWatch=[]}}function hc(a){if(1==a.length){var b=a[0].expression,c=b.toWatch;return 1!==c.length?c:c[0]!==b?c:void 0}}function ic(a){return a.type===of.Identifier||a.type===of.MemberExpression}function jc(a){return 1===a.body.length&&ic(a.body[0].expression)?{type:of.AssignmentExpression,left:a.body[0].expression,right:{type:of.NGValueParameter},operator:"="}:void 0}function kc(a){return 0===a.body.length||1===a.body.length&&(a.body[0].expression.type===of.Literal||a.body[0].expression.type===of.ArrayExpression||a.body[0].expression.type===of.ObjectExpression)}function lc(a){return a.constant}function mc(a,b){this.astBuilder=a,this.$filter=b}function nc(a,b){this.astBuilder=a,this.$filter=b}function oc(a){return"constructor"==a}function pc(a){return y(a.valueOf)?a.valueOf():qf.call(a)}function qc(){var a,b,c=pa(),e=pa(),f={"true":!0,"false":!1,"null":null,undefined:void 0};this.addLiteral=function(a,b){f[a]=b},this.setIdentifierFns=function(c,d){return a=c,b=d,this},this.$get=["$filter",function(g){function h(a,b,d){var f,h,j;switch(d=d||u,typeof a){case"string":a=a.trim(),j=a;var q=d?e:c;if(f=q[j],!f){":"===a.charAt(0)&&":"===a.charAt(1)&&(h=!0,a=a.substring(2));var s=d?t:r,v=new nf(s),w=new pf(v,g,s);f=w.parse(a),f.constant?f.$$watchDelegate=o:h?f.$$watchDelegate=f.literal?m:l:f.inputs&&(f.$$watchDelegate=k),d&&(f=i(f)),q[j]=f}return p(f,b);case"function":return p(a,b);default:return p(n,b)}}function i(a){function b(b,c,d,e){var f=u;u=!0;try{return a(b,c,d,e)}finally{u=f}}if(!a)return a;b.$$watchDelegate=a.$$watchDelegate,b.assign=i(a.assign),b.constant=a.constant,b.literal=a.literal;for(var c=0;a.inputs&&c<a.inputs.length;++c)a.inputs[c]=i(a.inputs[c]);return b.inputs=a.inputs,b}function j(a,b){return null==a||null==b?a===b:"object"==typeof a&&(a=pc(a),"object"==typeof a)?!1:a===b||a!==a&&b!==b}function k(a,b,c,d,e){var f,g=d.inputs;if(1===g.length){var h=j;return g=g[0],a.$watch(function(a){var b=g(a);return j(b,h)||(f=d(a,void 0,void 0,[b]),h=b&&pc(b)),f},b,c,e)}for(var i=[],k=[],l=0,m=g.length;m>l;l++)i[l]=j,k[l]=null;return a.$watch(function(a){for(var b=!1,c=0,e=g.length;e>c;c++){var h=g[c](a);(b||(b=!j(h,i[c])))&&(k[c]=h,i[c]=h&&pc(h))}return b&&(f=d(a,void 0,void 0,k)),f},b,c,e)}function l(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a,y(b)&&b.apply(this,arguments),s(a)&&d.$$postDigest(function(){s(f)&&e()})},c)}function m(a,b,c,e){function f(a){var b=!0;return d(a,function(a){s(a)||(b=!1)}),b}var g,h;return g=a.$watch(function(a){return e(a)},function(a,c,d){h=a,y(b)&&b.call(this,a,c,d),f(a)&&d.$$postDigest(function(){f(h)&&g()})},c)}function o(a,b,c,d){var e;return e=a.$watch(function(a){return e(),d(a)},b,c)}function p(a,b){if(!b)return a;var c=a.$$watchDelegate,d=!1,e=c!==m&&c!==l,f=e?function(c,e,f,g){var h=d&&g?g[0]:a(c,e,f,g);return b(h,c,e)}:function(c,d,e,f){var g=a(c,d,e,f),h=b(g,c,d);return s(g)?h:g};return a.$$watchDelegate&&a.$$watchDelegate!==k?f.$$watchDelegate=a.$$watchDelegate:b.$stateful||(f.$$watchDelegate=k,d=!a.inputs,f.inputs=a.inputs?a.inputs:[a]),f}var q=Xd().noUnsafeEval,r={csp:q,expensiveChecks:!1,literals:N(f),isIdentifierStart:y(a)&&a,isIdentifierContinue:y(b)&&b},t={csp:q,expensiveChecks:!0,literals:N(f),isIdentifierStart:y(a)&&a,isIdentifierContinue:y(b)&&b},u=!1;return h.$$runningExpensiveChecks=function(){return u},h}]}function rc(){this.$get=["$rootScope","$exceptionHandler",function(a,b){return tc(function(b){a.$evalAsync(b)},b)}]}function sc(){this.$get=["$browser","$exceptionHandler",function(a,b){return tc(function(b){a.defer(b)},b)}]}function tc(a,c){function e(){this.$$state={status:0}}function f(a,b){return function(c){b.call(a,c)}}function g(a){var b,d,e;e=a.pending,a.processScheduled=!1,a.pending=void 0;for(var f=0,g=e.length;g>f;++f){d=e[f][0],b=e[f][a.status];try{y(b)?d.resolve(b(a.value)):1===a.status?d.resolve(a.value):d.reject(a.value)}catch(h){d.reject(h),c(h)}}}function h(b){!b.processScheduled&&b.pending&&(b.processScheduled=!0,a(function(){g(b)}))}function i(){this.promise=new e}function k(a){var b=new i,c=0,e=Td(a)?[]:{};return d(a,function(a,d){c++,q(a).then(function(a){e.hasOwnProperty(d)||(e[d]=a,--c||b.resolve(e))},function(a){e.hasOwnProperty(d)||b.reject(a)})}),0===c&&b.resolve(e),b.promise}var l=b("$q",TypeError),m=function(){var a=new i;return a.resolve=f(a,a.resolve),a.reject=f(a,a.reject),a.notify=f(a,a.notify),a};j(e.prototype,{then:function(a,b,c){if(r(a)&&r(b)&&r(c))return this;var d=new i;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([d,a,b,c]),this.$$state.status>0&&h(this.$$state),d.promise},"catch":function(a){return this.then(null,a)},"finally":function(a,b){return this.then(function(b){return p(b,!0,a)},function(b){return p(b,!1,a)},b)}}),j(i.prototype,{resolve:function(a){this.promise.$$state.status||(a===this.promise?this.$$reject(l("qcycle","Expected promise to be resolved with value other than itself '{0}'",a)):this.$$resolve(a))},$$resolve:function(a){function b(a){i||(i=!0,g.$$resolve(a))}function d(a){i||(i=!0,g.$$reject(a))}var e,g=this,i=!1;try{(t(a)||y(a))&&(e=a&&a.then),y(e)?(this.promise.$$state.status=-1,e.call(a,b,d,f(this,this.notify))):(this.promise.$$state.value=a,
this.promise.$$state.status=1,h(this.promise.$$state))}catch(j){d(j),c(j)}},reject:function(a){this.promise.$$state.status||this.$$reject(a)},$$reject:function(a){this.promise.$$state.value=a,this.promise.$$state.status=2,h(this.promise.$$state)},notify:function(b){var d=this.promise.$$state.pending;this.promise.$$state.status<=0&&d&&d.length&&a(function(){for(var a,e,f=0,g=d.length;g>f;f++){e=d[f][0],a=d[f][3];try{e.notify(y(a)?a(b):b)}catch(h){c(h)}}})}});var n=function(a){var b=new i;return b.reject(a),b.promise},o=function(a,b){var c=new i;return b?c.resolve(a):c.reject(a),c.promise},p=function(a,b,c){var d=null;try{y(c)&&(d=c())}catch(e){return o(e,!1)}return G(d)?d.then(function(){return o(a,b)},function(a){return o(a,!1)}):o(a,b)},q=function(a,b,c,d){var e=new i;return e.resolve(a),e.promise.then(b,c,d)},s=q,u=function(a){function b(a){d.resolve(a)}function c(a){d.reject(a)}if(!y(a))throw l("norslvr","Expected resolverFn, got '{0}'",a);var d=new i;return a(b,c),d.promise};return u.prototype=e.prototype,u.defer=m,u.reject=n,u.when=q,u.resolve=s,u.all=k,u}function uc(){this.$get=["$window","$timeout",function(a,b){var c=a.requestAnimationFrame||a.webkitRequestAnimationFrame,d=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!c,f=e?function(a){var b=c(a);return function(){d(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};return f.supported=e,f}]}function vc(){function a(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=g(),this.$$ChildScope=null}return b.prototype=a,b}var e=10,f=b("$rootScope"),h=null,i=null;this.digestTtl=function(a){return arguments.length&&(e=a),e},this.$get=["$exceptionHandler","$parse","$browser",function(b,j,k){function l(a){a.currentScope.$$destroyed=!0}function m(a){9===Hd&&(a.$$childHead&&m(a.$$childHead),a.$$nextSibling&&m(a.$$nextSibling)),a.$parent=a.$$nextSibling=a.$$prevSibling=a.$$childHead=a.$$childTail=a.$root=a.$$watchers=null}function o(){this.$id=g(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function p(a){if(z.$$phase)throw f("inprog","{0} already in progress",z.$$phase);z.$$phase=a}function q(){z.$$phase=null}function s(a,b){do a.$$watchersCount+=b;while(a=a.$parent)}function u(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function v(){}function w(){for(;C.length;)try{C.shift()()}catch(a){b(a)}i=null}function x(){null===i&&(i=k.defer(function(){z.$apply(w)}))}o.prototype={constructor:o,$new:function(b,c){var d;return c=c||this,b?(d=new o,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=a(this)),d=new this.$$ChildScope),d.$parent=c,d.$$prevSibling=c.$$childTail,c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d,(b||c!=this)&&d.$on("$destroy",l),d},$watch:function(a,b,c,d){var e=j(a);if(e.$$watchDelegate)return e.$$watchDelegate(this,b,c,e,a);var f=this,g=f.$$watchers,i={fn:b,last:v,get:e,exp:d||a,eq:!!c};return h=null,y(b)||(i.fn=n),g||(g=f.$$watchers=[]),g.unshift(i),s(this,1),function(){M(g,i)>=0&&s(f,-1),h=null}},$watchGroup:function(a,b){function c(){i=!1,j?(j=!1,b(f,f,h)):b(f,e,h)}var e=new Array(a.length),f=new Array(a.length),g=[],h=this,i=!1,j=!0;if(!a.length){var k=!0;return h.$evalAsync(function(){k&&b(f,f,h)}),function(){k=!1}}return 1===a.length?this.$watch(a[0],function(a,c,d){f[0]=a,e[0]=c,b(f,a===c?f:e,d)}):(d(a,function(a,b){var d=h.$watch(a,function(a,d){f[b]=a,e[b]=d,i||(i=!0,h.$evalAsync(c))});g.push(d)}),function(){for(;g.length;)g.shift()()})},$watchCollection:function(a,b){function d(a){f=a;var b,d,e,h,i;if(!r(f)){if(t(f))if(c(f)){g!==n&&(g=n,q=g.length=0,l++),b=f.length,q!==b&&(l++,g.length=q=b);for(var j=0;b>j;j++)i=g[j],h=f[j],e=i!==i&&h!==h,e||i===h||(l++,g[j]=h)}else{g!==o&&(g=o={},q=0,l++),b=0;for(d in f)Cd.call(f,d)&&(b++,h=f[d],i=g[d],d in g?(e=i!==i&&h!==h,e||i===h||(l++,g[d]=h)):(q++,g[d]=h,l++));if(q>b){l++;for(d in g)Cd.call(f,d)||(q--,delete g[d])}}else g!==f&&(g=f,l++);return l}}function e(){if(p?(p=!1,b(f,f,i)):b(f,h,i),k)if(t(f))if(c(f)){h=new Array(f.length);for(var a=0;a<f.length;a++)h[a]=f[a]}else{h={};for(var d in f)Cd.call(f,d)&&(h[d]=f[d])}else h=f}d.$stateful=!0;var f,g,h,i=this,k=b.length>1,l=0,m=j(a,d),n=[],o={},p=!0,q=0;return this.$watch(m,e)},$digest:function(){var a,c,d,g,j,l,m,n,o,r,s,t,u=e,x=this,C=[];p("$digest"),k.$$checkUrlChange(),this===z&&null!==i&&(k.defer.cancel(i),w()),h=null;do{for(n=!1,r=x;A.length;){try{t=A.shift(),t.scope.$eval(t.expression,t.locals)}catch(D){b(D)}h=null}a:do{if(l=r.$$watchers)for(m=l.length;m--;)try{if(a=l[m])if(j=a.get,(c=j(r))===(d=a.last)||(a.eq?P(c,d):"number"==typeof c&&"number"==typeof d&&isNaN(c)&&isNaN(d))){if(a===h){n=!1;break a}}else n=!0,h=a,a.last=a.eq?N(c,null):c,g=a.fn,g(c,d===v?c:d,r),5>u&&(s=4-u,C[s]||(C[s]=[]),C[s].push({msg:y(a.exp)?"fn: "+(a.exp.name||a.exp.toString()):a.exp,newVal:c,oldVal:d}))}catch(D){b(D)}if(!(o=r.$$watchersCount&&r.$$childHead||r!==x&&r.$$nextSibling))for(;r!==x&&!(o=r.$$nextSibling);)r=r.$parent}while(r=o);if((n||A.length)&&!u--)throw q(),f("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,C)}while(n||A.length);for(q();B.length;)try{B.shift()()}catch(D){b(D)}},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===z&&k.$$applicationDestroyed(),s(this,-this.$$watchersCount);for(var b in this.$$listenerCount)u(this,this.$$listenerCount[b],b);a&&a.$$childHead==this&&(a.$$childHead=this.$$nextSibling),a&&a.$$childTail==this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=n,this.$on=this.$watch=this.$watchGroup=function(){return n},this.$$listeners={},this.$$nextSibling=null,m(this)}},$eval:function(a,b){return j(a)(this,b)},$evalAsync:function(a,b){z.$$phase||A.length||k.defer(function(){A.length&&z.$digest()}),A.push({scope:this,expression:j(a),locals:b})},$$postDigest:function(a){B.push(a)},$apply:function(a){try{p("$apply");try{return this.$eval(a)}finally{q()}}catch(c){b(c)}finally{try{z.$digest()}catch(c){throw b(c),c}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&C.push(b),a=j(a),x()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]),c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,u(e,1,a))}},$emit:function(a,c){var d,e,f,g=[],h=this,i=!1,j={name:a,targetScope:h,stopPropagation:function(){i=!0},preventDefault:function(){j.defaultPrevented=!0},defaultPrevented:!1},k=Q([j],arguments,1);do{for(d=h.$$listeners[a]||g,j.currentScope=h,e=0,f=d.length;f>e;e++)if(d[e])try{d[e].apply(null,k)}catch(l){b(l)}else d.splice(e,1),e--,f--;if(i)return j.currentScope=null,j;h=h.$parent}while(h);return j.currentScope=null,j},$broadcast:function(a,c){var d=this,e=d,f=d,g={name:a,targetScope:d,preventDefault:function(){g.defaultPrevented=!0},defaultPrevented:!1};if(!d.$$listenerCount[a])return g;for(var h,i,j,k=Q([g],arguments,1);e=f;){for(g.currentScope=e,h=e.$$listeners[a]||[],i=0,j=h.length;j>i;i++)if(h[i])try{h[i].apply(null,k)}catch(l){b(l)}else h.splice(i,1),i--,j--;if(!(f=e.$$listenerCount[a]&&e.$$childHead||e!==d&&e.$$nextSibling))for(;e!==d&&!(f=e.$$nextSibling);)e=e.$parent}return g.currentScope=null,g}};var z=new o,A=z.$$asyncQueue=[],B=z.$$postDigestQueue=[],C=z.$$applyAsyncQueue=[];return z}]}function wc(){var a=/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(b){return s(b)?(a=b,this):a},this.imgSrcSanitizationWhitelist=function(a){return s(a)?(b=a,this):b},this.$get=function(){return function(c,d){var e,f=d?b:a;return e=Fc(c).href,""===e||e.match(f)?c:"unsafe:"+e}}}function xc(a){if("self"===a)return a;if(v(a)){if(a.indexOf("***")>-1)throw rf("iwcard","Illegal sequence *** in string matcher.  String: {0}",a);return a=Wd(a).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+a+"$")}if(z(a))return new RegExp("^"+a.source+"$");throw rf("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function yc(a){var b=[];return s(a)&&d(a,function(a){b.push(xc(a))}),b}function zc(){this.SCE_CONTEXTS=sf;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){return arguments.length&&(a=yc(b)),a},this.resourceUrlBlacklist=function(a){return arguments.length&&(b=yc(a)),b},this.$get=["$injector",function(c){function d(a,b){return"self"===a?Gc(b):!!a.exec(b.href)}function e(c){var e,f,g=Fc(c.toString()),h=!1;for(e=0,f=a.length;f>e;e++)if(d(a[e],g)){h=!0;break}if(h)for(e=0,f=b.length;f>e;e++)if(d(b[e],g)){h=!1;break}return h}function f(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};return a&&(b.prototype=new a),b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},b}function g(a,b){var c=l.hasOwnProperty(a)?l[a]:null;if(!c)throw rf("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",a,b);if(null===b||r(b)||""===b)return b;if("string"!=typeof b)throw rf("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",a);return new c(b)}function h(a){return a instanceof k?a.$$unwrapTrustedValue():a}function i(a,b){if(null===b||r(b)||""===b)return b;var c=l.hasOwnProperty(a)?l[a]:null;if(c&&b instanceof c)return b.$$unwrapTrustedValue();if(a===sf.RESOURCE_URL){if(e(b))return b;throw rf("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",b.toString())}if(a===sf.HTML)return j(b);throw rf("unsafe","Attempting to use an unsafe value in a safe context.")}var j=function(a){throw rf("unsafe","Attempting to use an unsafe value in a safe context.")};c.has("$sanitize")&&(j=c.get("$sanitize"));var k=f(),l={};return l[sf.HTML]=f(k),l[sf.CSS]=f(k),l[sf.URL]=f(k),l[sf.JS]=f(k),l[sf.RESOURCE_URL]=f(l[sf.URL]),{trustAs:g,getTrusted:i,valueOf:h}}]}function Ac(){var a=!0;this.enabled=function(b){return arguments.length&&(a=!!b),a},this.$get=["$parse","$sceDelegate",function(b,c){if(a&&8>Hd)throw rf("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var e=O(sf);e.isEnabled=function(){return a},e.trustAs=c.trustAs,e.getTrusted=c.getTrusted,e.valueOf=c.valueOf,a||(e.trustAs=e.getTrusted=function(a,b){return b},e.valueOf=o),e.parseAs=function(a,c){var d=b(c);return d.literal&&d.constant?d:b(c,function(b){return e.getTrusted(a,b)})};var f=e.parseAs,g=e.getTrusted,h=e.trustAs;return d(sf,function(a,b){var c=Dd(b);e[va("parse_as_"+c)]=function(b){return f(a,b)},e[va("get_trusted_"+c)]=function(b){return g(a,b)},e[va("trust_as_"+c)]=function(b){return h(a,b)}}),e}]}function Bc(){this.$get=["$window","$document",function(a,b){var c,d,e={},f=a.chrome&&a.chrome.app&&a.chrome.app.runtime,g=!f&&a.history&&a.history.pushState,h=l((/android (\d+)/.exec(Dd((a.navigator||{}).userAgent))||[])[1]),i=/Boxee/i.test((a.navigator||{}).userAgent),j=b[0]||{},k=/^(Moz|webkit|ms)(?=[A-Z])/,m=j.body&&j.body.style,n=!1,o=!1;if(m){for(var p in m)if(d=k.exec(p)){c=d[0],c=c.substr(0,1).toUpperCase()+c.substr(1);break}c||(c="WebkitOpacity"in m&&"webkit"),n=!!("transition"in m||c+"Transition"in m),o=!!("animation"in m||c+"Animation"in m),!h||n&&o||(n=v(m.webkitTransition),o=v(m.webkitAnimation))}return{history:!(!g||4>h||i),hasEvent:function(a){if("input"===a&&11>=Hd)return!1;if(r(e[a])){var b=j.createElement("div");e[a]="on"+a in b}return e[a]},csp:Xd(),vendorPrefix:c,transitions:n,animations:o,android:h}}]}function Cc(){var a;this.httpOptions=function(b){return b?(a=b,this):a},this.$get=["$templateCache","$http","$q","$sce",function(b,c,d,e){function f(g,h){function i(a){if(!h)throw tf("tpload","Failed to load template: {0} (HTTP status: {1} {2})",g,a.status,a.statusText);return d.reject(a)}f.totalPendingRequests++,v(g)&&b.get(g)||(g=e.getTrustedResourceUrl(g));var k=c.defaults&&c.defaults.transformResponse;return Td(k)?k=k.filter(function(a){return a!==zb}):k===zb&&(k=null),c.get(g,j({cache:b,transformResponse:k},a))["finally"](function(){f.totalPendingRequests--}).then(function(a){return b.put(g,a.data),a.data},i)}return f.totalPendingRequests=0,f}]}function Dc(){this.$get=["$rootScope","$browser","$location",function(a,b,c){var e={};return e.findBindings=function(a,b,c){var e=a.getElementsByClassName("ng-binding"),f=[];return d(e,function(a){var e=Rd.element(a).data("$binding");e&&d(e,function(d){if(c){var e=new RegExp("(^|\\s)"+Wd(b)+"(\\s|\\||$)");e.test(d)&&f.push(a)}else-1!=d.indexOf(b)&&f.push(a)})}),f},e.findModels=function(a,b,c){for(var d=["ng-","data-ng-","ng\\:"],e=0;e<d.length;++e){var f=c?"=":"*=",g="["+d[e]+"model"+f+'"'+b+'"]',h=a.querySelectorAll(g);if(h.length)return h}},e.getLocation=function(){return c.url()},e.setLocation=function(b){b!==c.url()&&(c.url(b),a.$digest())},e.whenStable=function(a){b.notifyWhenNoOutstandingRequests(a)},e}]}function Ec(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(a,b,c,d,e){function f(f,h,i){y(f)||(i=h,h=f,f=n);var j,k=R(arguments,3),l=s(i)&&!i,m=(l?d:c).defer(),o=m.promise;return j=b.defer(function(){try{m.resolve(f.apply(null,k))}catch(b){m.reject(b),e(b)}finally{delete g[o.$$timeoutId]}l||a.$apply()},h),o.$$timeoutId=j,g[j]=m,o}var g={};return f.cancel=function(a){return a&&a.$$timeoutId in g?(g[a.$$timeoutId].reject("canceled"),delete g[a.$$timeoutId],b.defer.cancel(a.$$timeoutId)):!1},f}]}function Fc(a){var b=a;return Hd&&(uf.setAttribute("href",b),b=uf.href),uf.setAttribute("href",b),{href:uf.href,protocol:uf.protocol?uf.protocol.replace(/:$/,""):"",host:uf.host,search:uf.search?uf.search.replace(/^\?/,""):"",hash:uf.hash?uf.hash.replace(/^#/,""):"",hostname:uf.hostname,port:uf.port,pathname:"/"===uf.pathname.charAt(0)?uf.pathname:"/"+uf.pathname}}function Gc(a){var b=v(a)?Fc(a):a;return b.protocol===vf.protocol&&b.host===vf.host}function Hc(){this.$get=p(a)}function Ic(a){function b(a){try{return decodeURIComponent(a)}catch(b){return a}}var c=a[0]||{},d={},e="";return function(){var a,f,g,h,i,j=c.cookie||"";if(j!==e)for(e=j,a=e.split("; "),d={},g=0;g<a.length;g++)f=a[g],h=f.indexOf("="),h>0&&(i=b(f.substring(0,h)),r(d[i])&&(d[i]=b(f.substring(h+1))));return d}}function Jc(){this.$get=Ic}function Kc(a){function b(e,f){if(t(e)){var g={};return d(e,function(a,c){g[c]=b(c,a)}),g}return a.factory(e+c,f)}var c="Filter";this.register=b,this.$get=["$injector",function(a){return function(b){return a.get(b+c)}}],b("currency",Pc),b("date",cd),b("filter",Lc),b("json",dd),b("limitTo",ed),b("lowercase",Cf),b("number",Qc),b("orderBy",fd),b("uppercase",Df)}function Lc(){return function(a,d,e){if(!c(a)){if(null==a)return a;throw b("filter")("notarray","Expected array but received: {0}",a)}var f,g,h=Oc(d);switch(h){case"function":f=d;break;case"boolean":case"null":case"number":case"string":g=!0;case"object":f=Mc(d,e,g);break;default:return a}return Array.prototype.filter.call(a,f)}}function Mc(a,b,c){var d,e=t(a)&&"$"in a;return b===!0?b=P:y(b)||(b=function(a,b){return r(a)?!1:null===a||null===b?a===b:t(b)||t(a)&&!q(a)?!1:(a=Dd(""+a),b=Dd(""+b),-1!==a.indexOf(b))}),d=function(d){return e&&!t(d)?Nc(d,a.$,b,!1):Nc(d,a,b,c)}}function Nc(a,b,c,d,e){var f=Oc(a),g=Oc(b);if("string"===g&&"!"===b.charAt(0))return!Nc(a,b.substring(1),c,d);if(Td(a))return a.some(function(a){return Nc(a,b,c,d)});switch(f){case"object":var h;if(d){for(h in a)if("$"!==h.charAt(0)&&Nc(a[h],b,c,!0))return!0;return e?!1:Nc(a,b,c,!1)}if("object"===g){for(h in b){var i=b[h];if(!y(i)&&!r(i)){var j="$"===h,k=j?a:a[h];if(!Nc(k,i,c,j,j))return!1}}return!0}return c(a,b);case"function":return!1;default:return c(a,b)}}function Oc(a){return null===a?"null":typeof a}function Pc(a){var b=a.NUMBER_FORMATS;return function(a,c,d){return r(c)&&(c=b.CURRENCY_SYM),r(d)&&(d=b.PATTERNS[1].maxFrac),null==a?a:Tc(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,d).replace(/\u00A4/g,c)}}function Qc(a){var b=a.NUMBER_FORMATS;return function(a,c){return null==a?a:Tc(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function Rc(a){var b,c,d,e,f,g=0;for((c=a.indexOf(xf))>-1&&(a=a.replace(xf,"")),(d=a.search(/e/i))>0?(0>c&&(c=d),c+=+a.slice(d+1),a=a.substring(0,d)):0>c&&(c=a.length),d=0;a.charAt(d)==yf;d++);if(d==(f=a.length))b=[0],c=1;else{for(f--;a.charAt(f)==yf;)f--;for(c-=d,b=[],e=0;f>=d;d++,e++)b[e]=+a.charAt(d)}return c>wf&&(b=b.splice(0,wf-1),g=c-1,c=1),{d:b,e:g,i:c}}function Sc(a,b,c,d){var e=a.d,f=e.length-a.i;b=r(b)?Math.min(Math.max(c,f),d):+b;var g=b+a.i,h=e[g];if(g>0){e.splice(Math.max(a.i,g));for(var i=g;i<e.length;i++)e[i]=0}else{f=Math.max(0,f),a.i=1,e.length=Math.max(1,g=b+1),e[0]=0;for(var j=1;g>j;j++)e[j]=0}if(h>=5)if(0>g-1){for(var k=0;k>g;k--)e.unshift(0),a.i++;e.unshift(1),a.i++}else e[g-1]++;for(;f<Math.max(0,b);f++)e.push(0);var l=e.reduceRight(function(a,b,c,d){return b+=a,d[c]=b%10,Math.floor(b/10)},0);l&&(e.unshift(l),a.i++)}function Tc(a,b,c,d,e){if(!v(a)&&!w(a)||isNaN(a))return"";var f,g=!isFinite(a),h=!1,i=Math.abs(a)+"",j="";if(g)j="∞";else{f=Rc(i),Sc(f,e,b.minFrac,b.maxFrac);var k=f.d,l=f.i,m=f.e,n=[];for(h=k.reduce(function(a,b){return a&&!b},!0);0>l;)k.unshift(0),l++;l>0?n=k.splice(l):(n=k,k=[0]);var o=[];for(k.length>=b.lgSize&&o.unshift(k.splice(-b.lgSize).join(""));k.length>b.gSize;)o.unshift(k.splice(-b.gSize).join(""));k.length&&o.unshift(k.join("")),j=o.join(c),n.length&&(j+=d+n.join("")),m&&(j+="e+"+m)}return 0>a&&!h?b.negPre+j+b.negSuf:b.posPre+j+b.posSuf}function Uc(a,b,c,d){var e="";for((0>a||d&&0>=a)&&(d?a=-a+1:(a=-a,e="-")),a=""+a;a.length<b;)a=yf+a;return c&&(a=a.substr(a.length-b)),e+a}function Vc(a,b,c,d,e){return c=c||0,function(f){var g=f["get"+a]();return(c>0||g>-c)&&(g+=c),0===g&&-12==c&&(g=12),Uc(g,b,d,e)}}function Wc(a,b,c){return function(d,e){var f=d["get"+a](),g=(c?"STANDALONE":"")+(b?"SHORT":""),h=Ed(g+a);return e[h][f]}}function Xc(a,b,c){var d=-1*c,e=d>=0?"+":"";return e+=Uc(Math[d>0?"floor":"ceil"](d/60),2)+Uc(Math.abs(d%60),2)}function Yc(a){var b=new Date(a,0,1).getDay();return new Date(a,0,(4>=b?5:12)-b)}function Zc(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate()+(4-a.getDay()))}function $c(a){return function(b){var c=Yc(b.getFullYear()),d=Zc(b),e=+d-+c,f=1+Math.round(e/6048e5);return Uc(f,a)}}function _c(a,b){return a.getHours()<12?b.AMPMS[0]:b.AMPMS[1]}function ad(a,b){return a.getFullYear()<=0?b.ERAS[0]:b.ERAS[1]}function bd(a,b){return a.getFullYear()<=0?b.ERANAMES[0]:b.ERANAMES[1]}function cd(a){function b(a){var b;if(b=a.match(c)){var d=new Date(0),e=0,f=0,g=b[8]?d.setUTCFullYear:d.setFullYear,h=b[8]?d.setUTCHours:d.setHours;b[9]&&(e=l(b[9]+b[10]),f=l(b[9]+b[11])),g.call(d,l(b[1]),l(b[2])-1,l(b[3]));var i=l(b[4]||0)-e,j=l(b[5]||0)-f,k=l(b[6]||0),m=Math.round(1e3*parseFloat("0."+(b[7]||0)));return h.call(d,i,j,k,m),d}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,e,f){var g,h,i="",j=[];if(e=e||"mediumDate",e=a.DATETIME_FORMATS[e]||e,v(c)&&(c=Bf.test(c)?l(c):b(c)),w(c)&&(c=new Date(c)),!x(c)||!isFinite(c.getTime()))return c;for(;e;)h=Af.exec(e),h?(j=Q(j,h,1),e=j.pop()):(j.push(e),e=null);var k=c.getTimezoneOffset();return f&&(k=W(f,k),c=Y(c,f,!0)),d(j,function(b){g=zf[b],i+=g?g(c,a.DATETIME_FORMATS,k):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),i}}function dd(){return function(a,b){return r(b)&&(b=2),U(a,b)}}function ed(){return function(a,b,c){return b=Math.abs(Number(b))===1/0?Number(b):l(b),isNaN(b)?a:(w(a)&&(a=a.toString()),Td(a)||v(a)?(c=!c||isNaN(c)?0:l(c),c=0>c?Math.max(0,a.length+c):c,b>=0?a.slice(c,c+b):0===c?a.slice(b,a.length):a.slice(Math.max(0,c+b),c)):a)}}function fd(a){function d(b,c){return c=c?-1:1,b.map(function(b){var d=1,e=o;if(y(b))e=b;else if(v(b)&&(("+"==b.charAt(0)||"-"==b.charAt(0))&&(d="-"==b.charAt(0)?-1:1,b=b.substring(1)),""!==b&&(e=a(b),e.constant))){var f=e();e=function(a){return a[f]}}return{get:e,descending:d*c}})}function e(a){switch(typeof a){case"number":case"boolean":case"string":return!0;default:return!1}}function f(a,b){return"function"==typeof a.valueOf&&(a=a.valueOf(),e(a))?a:q(a)&&(a=a.toString(),e(a))?a:b}function g(a,b){var c=typeof a;return null===a?(c="string",a="null"):"string"===c?a=a.toLowerCase():"object"===c&&(a=f(a,b)),{value:a,type:c}}function h(a,b){var c=0;return a.type===b.type?a.value!==b.value&&(c=a.value<b.value?-1:1):c=a.type<b.type?-1:1,c}return function(a,e,f){function i(a,b){return{value:a,predicateValues:k.map(function(c){return g(c.get(a),b)})}}function j(a,b){for(var c=0,d=0,e=k.length;e>d&&!(c=h(a.predicateValues[d],b.predicateValues[d])*k[d].descending);++d);return c}if(null==a)return a;if(!c(a))throw b("orderBy")("notarray","Expected array but received: {0}",a);Td(e)||(e=[e]),0===e.length&&(e=["+"]);var k=d(e,f);k.push({get:function(){return{}},descending:f?-1:1});var l=Array.prototype.map.call(a,i);return l.sort(j),a=l.map(function(a){return a.value})}}function gd(a){return y(a)&&(a={link:a}),a.restrict=a.restrict||"AC",p(a)}function hd(a,b){a.$name=b}function id(a,b,c,e,f){var g=this,h=[];g.$error={},g.$$success={},g.$pending=void 0,g.$name=f(b.name||b.ngForm||"")(c),g.$dirty=!1,g.$pristine=!0,g.$valid=!0,g.$invalid=!1,g.$submitted=!1,g.$$parentForm=Gf,g.$rollbackViewValue=function(){d(h,function(a){a.$rollbackViewValue()})},g.$commitViewValue=function(){d(h,function(a){a.$commitViewValue()})},g.$addControl=function(a){ma(a.$name,"input"),h.push(a),a.$name&&(g[a.$name]=a),a.$$parentForm=g},g.$$renameControl=function(a,b){var c=a.$name;g[c]===a&&delete g[c],g[b]=a,a.$name=b},g.$removeControl=function(a){a.$name&&g[a.$name]===a&&delete g[a.$name],d(g.$pending,function(b,c){g.$setValidity(c,null,a)}),d(g.$error,function(b,c){g.$setValidity(c,null,a)}),d(g.$$success,function(b,c){g.$setValidity(c,null,a)}),M(h,a),a.$$parentForm=Gf},xd({ctrl:this,$element:a,set:function(a,b,c){var d=a[b];if(d){var e=d.indexOf(c);-1===e&&d.push(c)}else a[b]=[c]},unset:function(a,b,c){var d=a[b];d&&(M(d,c),0===d.length&&delete a[b])},$animate:e}),g.$setDirty=function(){e.removeClass(a,qg),e.addClass(a,rg),g.$dirty=!0,g.$pristine=!1,g.$$parentForm.$setDirty()},g.$setPristine=function(){e.setClass(a,qg,rg+" "+Hf),g.$dirty=!1,g.$pristine=!0,g.$submitted=!1,d(h,function(a){a.$setPristine()})},g.$setUntouched=function(){d(h,function(a){a.$setUntouched()})},g.$setSubmitted=function(){e.addClass(a,Hf),g.$submitted=!0,g.$$parentForm.$setSubmitted()}}function jd(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function kd(a,b,c,d,e,f){ld(a,b,c,d,e,f),jd(d)}function ld(a,b,c,d,e,f){var g=Dd(b[0].type);if(!e.android){var h=!1;b.on("compositionstart",function(){h=!0}),b.on("compositionend",function(){h=!1,j()})}var i,j=function(a){if(i&&(f.defer.cancel(i),i=null),!h){var e=b.val(),j=a&&a.type;"password"===g||c.ngTrim&&"false"===c.ngTrim||(e=Vd(e)),(d.$viewValue!==e||""===e&&d.$$hasNativeValidators)&&d.$setViewValue(e,j)}};if(e.hasEvent("input"))b.on("input",j);else{var k=function(a,b,c){i||(i=f.defer(function(){i=null,b&&b.value===c||j(a)}))};b.on("keydown",function(a){var b=a.keyCode;91===b||b>15&&19>b||b>=37&&40>=b||k(a,this,this.value)}),e.hasEvent("paste")&&b.on("paste cut",k)}b.on("change",j),Vf[g]&&d.$$hasNativeValidators&&g===c.type&&b.on(Uf,function(a){if(!i){var b=this[Bd],c=b.badInput,d=b.typeMismatch;i=f.defer(function(){i=null,(b.badInput!==c||b.typeMismatch!==d)&&j(a)})}}),d.$render=function(){var a=d.$isEmpty(d.$viewValue)?"":d.$viewValue;b.val()!==a&&b.val(a)}}function md(a,b){if(x(a))return a;if(v(a)){Rf.lastIndex=0;var c=Rf.exec(a);if(c){var d=+c[1],e=+c[2],f=0,g=0,h=0,i=0,j=Yc(d),k=7*(e-1);return b&&(f=b.getHours(),g=b.getMinutes(),h=b.getSeconds(),i=b.getMilliseconds()),new Date(d,0,j.getDate()+k,f,g,h,i)}}return NaN}function nd(a,b){return function(c,e){var f,g;if(x(c))return c;if(v(c)){if('"'==c.charAt(0)&&'"'==c.charAt(c.length-1)&&(c=c.substring(1,c.length-1)),Lf.test(c))return new Date(c);if(a.lastIndex=0,f=a.exec(c))return f.shift(),g=e?{yyyy:e.getFullYear(),MM:e.getMonth()+1,dd:e.getDate(),HH:e.getHours(),mm:e.getMinutes(),ss:e.getSeconds(),sss:e.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},d(f,function(a,c){c<b.length&&(g[b[c]]=+a)}),new Date(g.yyyy,g.MM-1,g.dd,g.HH,g.mm,g.ss||0,1e3*g.sss||0)}return NaN}}function od(a,b,c,d){return function(e,f,g,h,i,j,k){function l(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function m(a){return s(a)&&!x(a)?c(a)||void 0:a}pd(e,f,g,h),ld(e,f,g,h,i,j);var n,o=h&&h.$options&&h.$options.timezone;if(h.$$parserName=a,h.$parsers.push(function(a){if(h.$isEmpty(a))return null;if(b.test(a)){var d=c(a,n);return o&&(d=Y(d,o)),d}return void 0}),h.$formatters.push(function(a){if(a&&!x(a))throw xg("datefmt","Expected `{0}` to be a date",a);return l(a)?(n=a,n&&o&&(n=Y(n,o,!0)),k("date")(a,d,o)):(n=null,"")}),s(g.min)||g.ngMin){var p;h.$validators.min=function(a){return!l(a)||r(p)||c(a)>=p},g.$observe("min",function(a){p=m(a),h.$validate()})}if(s(g.max)||g.ngMax){var q;h.$validators.max=function(a){return!l(a)||r(q)||c(a)<=q},g.$observe("max",function(a){q=m(a),h.$validate()})}}}function pd(a,b,c,d){var e=b[0],f=d.$$hasNativeValidators=t(e.validity);f&&d.$parsers.push(function(a){var c=b.prop(Bd)||{};return c.badInput||c.typeMismatch?void 0:a})}function qd(a,b,c,d,e,f){if(pd(a,b,c,d),ld(a,b,c,d,e,f),d.$$parserName="number",d.$parsers.push(function(a){return d.$isEmpty(a)?null:Of.test(a)?parseFloat(a):void 0}),d.$formatters.push(function(a){if(!d.$isEmpty(a)){if(!w(a))throw xg("numfmt","Expected `{0}` to be a number",a);a=a.toString()}return a}),s(c.min)||c.ngMin){var g;d.$validators.min=function(a){return d.$isEmpty(a)||r(g)||a>=g},c.$observe("min",function(a){s(a)&&!w(a)&&(a=parseFloat(a,10)),g=w(a)&&!isNaN(a)?a:void 0,d.$validate()})}if(s(c.max)||c.ngMax){var h;d.$validators.max=function(a){return d.$isEmpty(a)||r(h)||h>=a},c.$observe("max",function(a){s(a)&&!w(a)&&(a=parseFloat(a,10)),h=w(a)&&!isNaN(a)?a:void 0,d.$validate()})}}function rd(a,b,c,d,e,f){ld(a,b,c,d,e,f),jd(d),d.$$parserName="url",d.$validators.url=function(a,b){var c=a||b;return d.$isEmpty(c)||Mf.test(c)}}function sd(a,b,c,d,e,f){ld(a,b,c,d,e,f),jd(d),d.$$parserName="email",d.$validators.email=function(a,b){var c=a||b;return d.$isEmpty(c)||Nf.test(c)}}function td(a,b,c,d){r(c.name)&&b.attr("name",g());var e=function(a){b[0].checked&&d.$setViewValue(c.value,a&&a.type)};b.on("click",e),d.$render=function(){var a=c.value;b[0].checked=a==d.$viewValue},c.$observe("value",d.$render)}function ud(a,b,c,d,e){var f;if(s(d)){if(f=a(d),!f.constant)throw xg("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",c,d);return f(b)}return e}function vd(a,b,c,d,e,f,g,h){var i=ud(h,a,"ngTrueValue",c.ngTrueValue,!0),j=ud(h,a,"ngFalseValue",c.ngFalseValue,!1),k=function(a){d.$setViewValue(b[0].checked,a&&a.type)};b.on("click",k),d.$render=function(){b[0].checked=d.$viewValue},d.$isEmpty=function(a){return a===!1},d.$formatters.push(function(a){return P(a,i)}),d.$parsers.push(function(a){return a?i:j})}function wd(a,b){return a="ngClass"+a,["$animate",function(c){function e(a,b){var c=[];a:for(var d=0;d<a.length;d++){for(var e=a[d],f=0;f<b.length;f++)if(e==b[f])continue a;c.push(e)}return c}function f(a){var b=[];return Td(a)?(d(a,function(a){b=b.concat(f(a))}),b):v(a)?a.split(" "):t(a)?(d(a,function(a,c){a&&(b=b.concat(c.split(" ")))}),b):a}return{restrict:"AC",link:function(g,h,i){function j(a){var b=l(a,1);i.$addClass(b)}function k(a){var b=l(a,-1);i.$removeClass(b)}function l(a,b){var c=h.data("$classCounts")||pa(),e=[];return d(a,function(a){(b>0||c[a])&&(c[a]=(c[a]||0)+b,c[a]===+(b>0)&&e.push(a))}),h.data("$classCounts",c),e.join(" ")}function m(a,b){var d=e(b,a),f=e(a,b);d=l(d,1),f=l(f,-1),d&&d.length&&c.addClass(h,d),f&&f.length&&c.removeClass(h,f)}function n(a){if(b===!0||g.$index%2===b){var c=f(a||[]);if(o){if(!P(a,o)){var d=f(o);m(d,c)}}else j(c)}o=Td(a)?a.map(function(a){return O(a)}):O(a)}var o;g.$watch(i[a],n,!0),i.$observe("class",function(b){n(g.$eval(i[a]))}),"ngClass"!==a&&g.$watch("$index",function(c,d){var e=1&c;if(e!==(1&d)){var h=f(g.$eval(i[a]));e===b?j(h):k(h)}})}}}]}function xd(a){function b(a,b,h){r(b)?c("$pending",a,h):d("$pending",a,h),F(b)?b?(k(g.$error,a,h),j(g.$$success,a,h)):(j(g.$error,a,h),k(g.$$success,a,h)):(k(g.$error,a,h),k(g.$$success,a,h)),g.$pending?(e(ug,!0),g.$valid=g.$invalid=void 0,f("",null)):(e(ug,!1),g.$valid=yd(g.$error),g.$invalid=!g.$valid,f("",g.$valid));var i;i=g.$pending&&g.$pending[a]?void 0:g.$error[a]?!1:g.$$success[a]?!0:null,f(a,i),g.$$parentForm.$setValidity(a,i,g)}function c(a,b,c){g[a]||(g[a]={}),j(g[a],b,c)}function d(a,b,c){g[a]&&k(g[a],b,c),yd(g[a])&&(g[a]=void 0)}function e(a,b){b&&!i[a]?(l.addClass(h,a),i[a]=!0):!b&&i[a]&&(l.removeClass(h,a),i[a]=!1)}function f(a,b){a=a?"-"+ia(a,"-"):"",e(og+a,b===!0),e(pg+a,b===!1)}var g=a.ctrl,h=a.$element,i={},j=a.set,k=a.unset,l=a.$animate;i[pg]=!(i[og]=h.hasClass(og)),g.$setValidity=b}function yd(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function zd(a){a[0].hasAttribute("selected")&&(a[0].selected=!0)}var Ad=/^\/(.+)\/([a-z]*)$/,Bd="validity",Cd=Object.prototype.hasOwnProperty,Dd=function(a){return v(a)?a.toLowerCase():a},Ed=function(a){return v(a)?a.toUpperCase():a},Fd=function(a){return v(a)?a.replace(/[A-Z]/g,function(a){return String.fromCharCode(32|a.charCodeAt(0))}):a},Gd=function(a){return v(a)?a.replace(/[a-z]/g,function(a){return String.fromCharCode(-33&a.charCodeAt(0))}):a};"i"!=="I".toLowerCase()&&(Dd=Fd,Ed=Gd);var Hd,Id,Jd,Kd,Ld=[].slice,Md=[].splice,Nd=[].push,Od=Object.prototype.toString,Pd=Object.getPrototypeOf,Qd=b("ng"),Rd=a.angular||(a.angular={}),Sd=0;Hd=a.document.documentMode,n.$inject=[],o.$inject=[];var Td=Array.isArray,Ud=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,Vd=function(a){return v(a)?a.trim():a},Wd=function(a){return a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Xd=function(){function b(){try{return new Function(""),!1}catch(a){return!0}}if(!s(Xd.rules)){var c=a.document.querySelector("[ng-csp]")||a.document.querySelector("[data-ng-csp]");if(c){var d=c.getAttribute("ng-csp")||c.getAttribute("data-ng-csp");Xd.rules={noUnsafeEval:!d||-1!==d.indexOf("no-unsafe-eval"),noInlineStyle:!d||-1!==d.indexOf("no-inline-style")}}else Xd.rules={noUnsafeEval:b(),noInlineStyle:!1}}return Xd.rules},Yd=function(){if(s(Yd.name_))return Yd.name_;var b,c,d,e,f=$d.length;for(c=0;f>c;++c)if(d=$d[c],b=a.document.querySelector("["+d.replace(":","\\:")+"jq]")){e=b.getAttribute(d+"jq");break}return Yd.name_=e},Zd=/:/g,$d=["ng-","data-ng-","ng:","x-ng-"],_d=/[A-Z]/g,ae=!1,be=1,ce=2,de=3,ee=8,fe=9,ge=11,he={full:"1.5.5",major:1,minor:5,dot:5,codeName:"material-conspiration"};Da.expando="ng339";var ie=Da.cache={},je=1,ke=function(a,b,c){a.addEventListener(b,c,!1)},le=function(a,b,c){a.removeEventListener(b,c,!1)};Da._data=function(a){return this.cache[a[this.expando]]||{}};var me=/([\:\-\_]+(.))/g,ne=/^moz([A-Z])/,oe={mouseleave:"mouseout",mouseenter:"mouseover"},pe=b("jqLite"),qe=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,re=/<|&#?\w+;/,se=/<([\w:-]+)/,te=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ue={
option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ue.optgroup=ue.option,ue.tbody=ue.tfoot=ue.colgroup=ue.caption=ue.thead,ue.th=ue.td;var ve=a.Node.prototype.contains||function(a){return!!(16&this.compareDocumentPosition(a))},we=Da.prototype={ready:function(b){function c(){d||(d=!0,b())}var d=!1;"complete"===a.document.readyState?a.setTimeout(c):(this.on("DOMContentLoaded",c),Da(a).on("load",c))},toString:function(){var a=[];return d(this,function(b){a.push(""+b)}),"["+a.join(", ")+"]"},eq:function(a){return Id(a>=0?this[a]:this[this.length+a])},length:0,push:Nd,sort:[].sort,splice:[].splice},xe={};d("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(a){xe[Dd(a)]=a});var ye={};d("input,select,option,textarea,button,form,details".split(","),function(a){ye[a]=!0});var ze={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};d({data:Ja,removeData:Ha,hasData:ya,cleanData:za},function(a,b){Da[b]=a}),d({data:Ja,inheritedData:Pa,scope:function(a){return Id.data(a,"$scope")||Pa(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return Id.data(a,"$isolateScope")||Id.data(a,"$isolateScopeNoTemplate")},controller:Oa,injector:function(a){return Pa(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:Ka,css:function(a,b,c){return b=va(b),s(c)?void(a.style[b]=c):a.style[b]},attr:function(a,b,c){var d=a.nodeType;if(d!==de&&d!==ce&&d!==ee){var e=Dd(b);if(xe[e]){if(!s(c))return a[b]||(a.attributes.getNamedItem(b)||n).specified?e:void 0;c?(a[b]=!0,a.setAttribute(b,e)):(a[b]=!1,a.removeAttribute(e))}else if(s(c))a.setAttribute(b,c);else if(a.getAttribute){var f=a.getAttribute(b,2);return null===f?void 0:f}}},prop:function(a,b,c){return s(c)?void(a[b]=c):a[b]},text:function(){function a(a,b){if(r(b)){var c=a.nodeType;return c===be||c===de?a.textContent:""}a.textContent=b}return a.$dv="",a}(),val:function(a,b){if(r(b)){if(a.multiple&&"select"===L(a)){var c=[];return d(a.options,function(a){a.selected&&c.push(a.value||a.text)}),0===c.length?null:c}return a.value}a.value=b},html:function(a,b){return r(b)?a.innerHTML:(Fa(a,!0),void(a.innerHTML=b))},empty:Qa},function(a,b){Da.prototype[b]=function(b,c){var d,e,f=this.length;if(a!==Qa&&r(2==a.length&&a!==Ka&&a!==Oa?b:c)){if(t(b)){for(d=0;f>d;d++)if(a===Ja)a(this[d],b);else for(e in b)a(this[d],e,b[e]);return this}for(var g=a.$dv,h=r(g)?Math.min(f,1):f,i=0;h>i;i++){var j=a(this[i],b,c);g=g?g+j:j}return g}for(d=0;f>d;d++)a(this[d],b,c);return this}}),d({removeData:Ha,on:function(a,b,c,d){if(s(d))throw pe("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(xa(a)){var e=Ia(a,!0),f=e.events,g=e.handle;g||(g=e.handle=Va(a,f));for(var h=b.indexOf(" ")>=0?b.split(" "):[b],i=h.length,j=function(b,d,e){var h=f[b];h||(h=f[b]=[],h.specialHandlerWrapper=d,"$destroy"===b||e||ke(a,b,g)),h.push(c)};i--;)b=h[i],oe[b]?(j(oe[b],Xa),j(b,void 0,!0)):j(b)}},off:Ga,one:function(a,b,c){a=Id(a),a.on(b,function d(){a.off(b,c),a.off(b,d)}),a.on(b,c)},replaceWith:function(a,b){var c,e=a.parentNode;Fa(a),d(new Da(b),function(b){c?e.insertBefore(b,c.nextSibling):e.replaceChild(b,a),c=b})},children:function(a){var b=[];return d(a.childNodes,function(a){a.nodeType===be&&b.push(a)}),b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){var c=a.nodeType;if(c===be||c===ge){b=new Da(b);for(var d=0,e=b.length;e>d;d++){var f=b[d];a.appendChild(f)}}},prepend:function(a,b){if(a.nodeType===be){var c=a.firstChild;d(new Da(b),function(b){a.insertBefore(b,c)})}},wrap:function(a,b){Ca(a,Id(b).eq(0).clone()[0])},remove:Ra,detach:function(a){Ra(a,!0)},after:function(a,b){var c=a,d=a.parentNode;b=new Da(b);for(var e=0,f=b.length;f>e;e++){var g=b[e];d.insertBefore(g,c.nextSibling),c=g}},addClass:Ma,removeClass:La,toggleClass:function(a,b,c){b&&d(b.split(" "),function(b){var d=c;r(d)&&(d=!Ka(a,b)),(d?Ma:La)(a,b)})},parent:function(a){var b=a.parentNode;return b&&b.nodeType!==ge?b:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:Ea,triggerHandler:function(a,b,c){var e,f,g,h=b.type||b,i=Ia(a),k=i&&i.events,l=k&&k[h];l&&(e={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:n,type:h,target:a},b.type&&(e=j(e,b)),f=O(l),g=c?[e].concat(c):[e],d(f,function(b){e.isImmediatePropagationStopped()||b.apply(a,g)}))}},function(a,b){Da.prototype[b]=function(b,c,d){for(var e,f=0,g=this.length;g>f;f++)r(e)?(e=a(this[f],b,c,d),s(e)&&(e=Id(e))):Na(e,a(this[f],b,c,d));return s(e)?e:this},Da.prototype.bind=Da.prototype.on,Da.prototype.unbind=Da.prototype.off}),$a.prototype={put:function(a,b){this[Za(a,this.nextUid)]=b},get:function(a){return this[Za(a,this.nextUid)]},remove:function(a){var b=this[a=Za(a,this.nextUid)];return delete this[a],b}};var Ae=[function(){this.$get=[function(){return $a}]}],Be=/^([^\(]+?)=>/,Ce=/^[^\(]*\(\s*([^\)]*)\)/m,De=/,/,Ee=/^\s*(_?)(\S+?)\1\s*$/,Fe=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Ge=b("$injector");cb.$$annotate=bb;var He=b("$animate"),Ie=1,Je="ng-animate",Ke=function(){this.$get=n},Le=function(){var a=new $a,b=[];this.$get=["$$AnimateRunner","$rootScope",function(c,e){function f(a,b,c){var e=!1;return b&&(b=v(b)?b.split(" "):Td(b)?b:[],d(b,function(b){b&&(e=!0,a[b]=c)})),e}function g(){d(b,function(b){var c=a.get(b);if(c){var e=gb(b.attr("class")),f="",g="";d(c,function(a,b){var c=!!e[b];a!==c&&(a?f+=(f.length?" ":"")+b:g+=(g.length?" ":"")+b)}),d(b,function(a){f&&Ma(a,f),g&&La(a,g)}),a.remove(b)}}),b.length=0}function h(c,d,h){var i=a.get(c)||{},j=f(i,d,!0),k=f(i,h,!1);(j||k)&&(a.put(c,i),b.push(c),1===b.length&&e.$$postDigest(g))}return{enabled:n,on:n,off:n,pin:n,push:function(a,b,d,e){e&&e(),d=d||{},d.from&&a.css(d.from),d.to&&a.css(d.to),(d.addClass||d.removeClass)&&h(a,d.addClass,d.removeClass);var f=new c;return f.complete(),f}}}]},Me=["$provide",function(a){var b=this;this.$$registeredAnimations=Object.create(null),this.register=function(c,d){if(c&&"."!==c.charAt(0))throw He("notcsel","Expecting class selector starting with '.' got '{0}'.",c);var e=c+"-animation";b.$$registeredAnimations[c.substr(1)]=e,a.factory(e,d)},this.classNameFilter=function(a){if(1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null,this.$$classNameFilter)){var b=new RegExp("(\\s+|\\/)"+Je+"(\\s+|\\/)");if(b.test(this.$$classNameFilter.toString()))throw He("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Je)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(a){function b(a,b,c){if(c){var d=fb(c);!d||d.parentNode||d.previousElementSibling||(c=null)}c?c.after(a):b.prepend(a)}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(a){a.end&&a.end()},enter:function(c,d,e,f){return d=d&&Id(d),e=e&&Id(e),d=d||e.parent(),b(c,d,e),a.push(c,"enter",hb(f))},move:function(c,d,e,f){return d=d&&Id(d),e=e&&Id(e),d=d||e.parent(),b(c,d,e),a.push(c,"move",hb(f))},leave:function(b,c){return a.push(b,"leave",hb(c),function(){b.remove()})},addClass:function(b,c,d){return d=hb(d),d.addClass=eb(d.addclass,c),a.push(b,"addClass",d)},removeClass:function(b,c,d){return d=hb(d),d.removeClass=eb(d.removeClass,c),a.push(b,"removeClass",d)},setClass:function(b,c,d,e){return e=hb(e),e.addClass=eb(e.addClass,c),e.removeClass=eb(e.removeClass,d),a.push(b,"setClass",e)},animate:function(b,c,d,e,f){return f=hb(f),f.from=f.from?j(f.from,c):c,f.to=f.to?j(f.to,d):d,e=e||"ng-inline-animate",f.tempClasses=eb(f.tempClasses,e),a.push(b,"animate",f)}}}]}],Ne=function(){this.$get=["$$rAF",function(a){function b(b){c.push(b),c.length>1||a(function(){for(var a=0;a<c.length;a++)c[a]();c=[]})}var c=[];return function(){var a=!1;return b(function(){a=!0}),function(c){a?c():b(c)}}}]},Oe=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(a,b,c,e,f){function g(a){this.setHost(a);var b=c(),d=function(a){f(a,0,!1)};this._doneCallbacks=[],this._tick=function(a){var c=e[0];c&&c.hidden?d(a):b(a)},this._state=0}var h=0,i=1,j=2;return g.chain=function(a,b){function c(){return d===a.length?void b(!0):void a[d](function(a){return a===!1?void b(!1):(d++,void c())})}var d=0;c()},g.all=function(a,b){function c(c){f=f&&c,++e===a.length&&b(f)}var e=0,f=!0;d(a,function(a){a.done(c)})},g.prototype={setHost:function(a){this.host=a||{}},done:function(a){this._state===j?a():this._doneCallbacks.push(a)},progress:n,getPromise:function(){if(!this.promise){var b=this;this.promise=a(function(a,c){b.done(function(b){b===!1?c():a()})})}return this.promise},then:function(a,b){return this.getPromise().then(a,b)},"catch":function(a){return this.getPromise()["catch"](a)},"finally":function(a){return this.getPromise()["finally"](a)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(a){var b=this;b._state===h&&(b._state=i,b._tick(function(){b._resolve(a)}))},_resolve:function(a){this._state!==j&&(d(this._doneCallbacks,function(b){b(a)}),this._doneCallbacks.length=0,this._state=j)}},g}]},Pe=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(a,b,c){return function(b,d){function e(){return a(function(){f(),h||i.complete(),h=!0}),i}function f(){g.addClass&&(b.addClass(g.addClass),g.addClass=null),g.removeClass&&(b.removeClass(g.removeClass),g.removeClass=null),g.to&&(b.css(g.to),g.to=null)}var g=d||{};g.$$prepared||(g=N(g)),g.cleanupStyles&&(g.from=g.to=null),g.from&&(b.css(g.from),g.from=null);var h,i=new c;return{start:e,end:e}}}]},Qe=b("$compile"),Re=new mb;nb.$inject=["$provide","$$sanitizeUriProvider"],ob.prototype.isFirstChange=function(){return this.previousValue===Re};var Se=/^((?:x|data)[\:\-_])/i,Te=b("$controller"),Ue=/^(\S+)(\s+as\s+([\w$]+))?$/,Ve=function(){this.$get=["$document",function(a){return function(b){return b?!b.nodeType&&b instanceof Id&&(b=b[0]):b=a[0].body,b.offsetWidth+1}}]},We="application/json",Xe={"Content-Type":We+";charset=utf-8"},Ye=/^\[|^\{(?!\{)/,Ze={"[":/]$/,"{":/}$/},$e=/^\)\]\}',?\n/,_e=b("$http"),af=function(a){return function(){throw _e("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",a)}},bf=Rd.$interpolateMinErr=b("$interpolate");bf.throwNoconcat=function(a){throw bf("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",a)},bf.interr=function(a,b){return bf("interr","Can't interpolate: {0}\n{1}",a,b.toString())};var cf=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,df={http:80,https:443,ftp:21},ef=b("$location"),ff={$$html5:!1,$$replace:!1,absUrl:Wb("$$absUrl"),url:function(a){if(r(a))return this.$$url;var b=cf.exec(a);return(b[1]||""===a)&&this.path(decodeURIComponent(b[1])),(b[2]||b[1]||""===a)&&this.search(b[3]||""),this.hash(b[5]||""),this},protocol:Wb("$$protocol"),host:Wb("$$host"),port:Wb("$$port"),path:Xb("$$path",function(a){return a=null!==a?a.toString():"","/"==a.charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(v(a)||w(a))a=a.toString(),this.$$search=_(a);else{if(!t(a))throw ef("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");a=N(a,{}),d(a,function(b,c){null==b&&delete a[c]}),this.$$search=a}break;default:r(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}return this.$$compose(),this},hash:Xb("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){return this.$$replace=!0,this}};d([Vb,Ub,Tb],function(a){a.prototype=Object.create(ff),a.prototype.state=function(b){if(!arguments.length)return this.$$state;if(a!==Tb||!this.$$html5)throw ef("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=r(b)?null:b,this}});var gf=b("$parse"),hf=Function.prototype.call,jf=Function.prototype.apply,kf=Function.prototype.bind,lf=pa();d("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(a){lf[a]=!0});var mf={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},nf=function(a){this.options=a};nf.prototype={constructor:nf,lex:function(a){for(this.text=a,this.index=0,this.tokens=[];this.index<this.text.length;){var b=this.text.charAt(this.index);if('"'===b||"'"===b)this.readString(b);else if(this.isNumber(b)||"."===b&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(b,"(){}[].,;:?"))this.tokens.push({index:this.index,text:b}),this.index++;else if(this.isWhitespace(b))this.index++;else{var c=b+this.peek(),d=c+this.peek(2),e=lf[b],f=lf[c],g=lf[d];if(e||f||g){var h=g?d:f?c:b;this.tokens.push({index:this.index,text:h,operator:!0}),this.index+=h.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(a,b){return-1!==b.indexOf(a)},peek:function(a){var b=a||1;return this.index+b<this.text.length?this.text.charAt(this.index+b):!1},isNumber:function(a){return a>="0"&&"9">=a&&"string"==typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"	"===a||"\n"===a||""===a||" "===a},isIdentifierStart:function(a){return this.options.isIdentifierStart?this.options.isIdentifierStart(a,this.codePointAt(a)):this.isValidIdentifierStart(a)},isValidIdentifierStart:function(a){return a>="a"&&"z">=a||a>="A"&&"Z">=a||"_"===a||"$"===a},isIdentifierContinue:function(a){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(a,this.codePointAt(a)):this.isValidIdentifierContinue(a)},isValidIdentifierContinue:function(a,b){return this.isValidIdentifierStart(a,b)||this.isNumber(a)},codePointAt:function(a){return 1===a.length?a.charCodeAt(0):(a.charCodeAt(0)<<10)+a.charCodeAt(1)-56613888},peekMultichar:function(){var a=this.text.charAt(this.index),b=this.peek();if(!b)return a;var c=a.charCodeAt(0),d=b.charCodeAt(0);return c>=55296&&56319>=c&&d>=56320&&57343>=d?a+b:a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,c){c=c||this.index;var d=s(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,c)+"]":" "+c;throw gf("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",a,d,this.text)},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var c=Dd(this.text.charAt(this.index));if("."==c||this.isNumber(c))a+=c;else{var d=this.peek();if("e"==c&&this.isExpOperator(d))a+=c;else if(this.isExpOperator(c)&&d&&this.isNumber(d)&&"e"==a.charAt(a.length-1))a+=c;else{if(!this.isExpOperator(c)||d&&this.isNumber(d)||"e"!=a.charAt(a.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){var a=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var b=this.peekMultichar();if(!this.isIdentifierContinue(b))break;this.index+=b.length}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;for(var c="",d=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index);if(d+=f,e){if("u"===f){var g=this.text.substring(this.index+1,this.index+5);g.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+g+"]"),this.index+=4,c+=String.fromCharCode(parseInt(g,16))}else{var h=mf[f];c+=h||f}e=!1}else if("\\"===f)e=!0;else{if(f===a)return this.index++,void this.tokens.push({index:b,text:d,constant:!0,value:c});c+=f}this.index++}this.throwError("Unterminated quote",b)}};var of=function(a,b){this.lexer=a,this.options=b};of.Program="Program",of.ExpressionStatement="ExpressionStatement",of.AssignmentExpression="AssignmentExpression",of.ConditionalExpression="ConditionalExpression",of.LogicalExpression="LogicalExpression",of.BinaryExpression="BinaryExpression",of.UnaryExpression="UnaryExpression",of.CallExpression="CallExpression",of.MemberExpression="MemberExpression",of.Identifier="Identifier",of.Literal="Literal",of.ArrayExpression="ArrayExpression",of.Property="Property",of.ObjectExpression="ObjectExpression",of.ThisExpression="ThisExpression",of.LocalsExpression="LocalsExpression",of.NGValueParameter="NGValueParameter",of.prototype={ast:function(a){this.text=a,this.tokens=this.lexer.lex(a);var b=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),b},program:function(){for(var a=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&a.push(this.expressionStatement()),!this.expect(";"))return{type:of.Program,body:a}},expressionStatement:function(){return{type:of.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var a,b=this.expression();a=this.expect("|");)b=this.filter(b);return b},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary();return this.expect("=")&&(a={type:of.AssignmentExpression,left:a,right:this.assignment(),operator:"="}),a},ternary:function(){var a,b,c=this.logicalOR();return this.expect("?")&&(a=this.expression(),this.consume(":"))?(b=this.expression(),{type:of.ConditionalExpression,test:c,alternate:a,consequent:b}):c},logicalOR:function(){for(var a=this.logicalAND();this.expect("||");)a={type:of.LogicalExpression,operator:"||",left:a,right:this.logicalAND()};return a},logicalAND:function(){for(var a=this.equality();this.expect("&&");)a={type:of.LogicalExpression,operator:"&&",left:a,right:this.equality()};return a},equality:function(){for(var a,b=this.relational();a=this.expect("==","!=","===","!==");)b={type:of.BinaryExpression,operator:a.text,left:b,right:this.relational()};return b},relational:function(){for(var a,b=this.additive();a=this.expect("<",">","<=",">=");)b={type:of.BinaryExpression,operator:a.text,left:b,right:this.additive()};return b},additive:function(){for(var a,b=this.multiplicative();a=this.expect("+","-");)b={type:of.BinaryExpression,operator:a.text,left:b,right:this.multiplicative()};return b},multiplicative:function(){for(var a,b=this.unary();a=this.expect("*","/","%");)b={type:of.BinaryExpression,operator:a.text,left:b,right:this.unary()};return b},unary:function(){var a;return(a=this.expect("+","-","!"))?{type:of.UnaryExpression,operator:a.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?a=N(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?a={type:of.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var b;b=this.expect("(","[",".");)"("===b.text?(a={type:of.CallExpression,callee:a,arguments:this.parseArguments()},this.consume(")")):"["===b.text?(a={type:of.MemberExpression,object:a,property:this.expression(),computed:!0},this.consume("]")):"."===b.text?a={type:of.MemberExpression,object:a,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return a},filter:function(a){for(var b=[a],c={type:of.CallExpression,callee:this.identifier(),arguments:b,filter:!0};this.expect(":");)b.push(this.expression());return c},parseArguments:function(){var a=[];if(")"!==this.peekToken().text)do a.push(this.expression());while(this.expect(","));return a},identifier:function(){var a=this.consume();return a.identifier||this.throwError("is not a valid identifier",a),{type:of.Identifier,name:a.text}},constant:function(){return{type:of.Literal,value:this.consume().value}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:of.ArrayExpression,elements:a}},object:function(){var a,b=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;a={type:of.Property,kind:"init"},this.peek().constant?a.key=this.constant():this.peek().identifier?a.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),a.value=this.expression(),b.push(a)}while(this.expect(","));return this.consume("}"),{type:of.ObjectExpression,properties:b}},throwError:function(a,b){throw gf("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",b.text,a,b.index+1,this.text,this.text.substring(b.index))},consume:function(a){if(0===this.tokens.length)throw gf("ueoe","Unexpected end of expression: {0}",this.text);var b=this.expect(a);return b||this.throwError("is unexpected, expecting ["+a+"]",this.peek()),b},peekToken:function(){if(0===this.tokens.length)throw gf("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(a,b,c,d){return this.peekAhead(0,a,b,c,d)},peekAhead:function(a,b,c,d,e){if(this.tokens.length>a){var f=this.tokens[a],g=f.text;if(g===b||g===c||g===d||g===e||!b&&!c&&!d&&!e)return f}return!1},expect:function(a,b,c,d){var e=this.peek(a,b,c,d);return e?(this.tokens.shift(),e):!1},selfReferential:{"this":{type:of.ThisExpression},$locals:{type:of.LocalsExpression}}},mc.prototype={compile:function(a,b){var c=this,e=this.astBuilder.ast(a);this.state={nextId:0,filters:{},expensiveChecks:b,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},gc(e,c.$filter);var f,g="";if(this.stage="assign",f=jc(e)){this.state.computing="assign";var h=this.nextId();this.recurse(f,h),this.return_(h),g="fn.assign="+this.generateFunction("assign","s,v,l")}var i=hc(e.body);c.stage="inputs",d(i,function(a,b){var d="fn"+b;c.state[d]={vars:[],body:[],own:{}},c.state.computing=d;var e=c.nextId();c.recurse(a,e),c.return_(e),c.state.inputs.push(d),a.watchId=b}),this.state.computing="fn",this.stage="main",this.recurse(e);var j='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+g+this.watchFns()+"return fn;",k=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",j)(this.$filter,$b,ac,bc,_b,cc,dc,ec,a);return this.state=this.stage=void 0,k.literal=kc(e),k.constant=lc(e),k},USE:"use",STRICT:"strict",watchFns:function(){var a=[],b=this.state.inputs,c=this;return d(b,function(b){a.push("var "+b+"="+c.generateFunction(b,"s"))}),b.length&&a.push("fn.inputs=["+b.join(",")+"];"),a.join("")},generateFunction:function(a,b){return"function("+b+"){"+this.varsPrefix(a)+this.body(a)+"};"},filterPrefix:function(){var a=[],b=this;return d(this.state.filters,function(c,d){a.push(c+"=$filter("+b.escape(d)+")")}),a.length?"var "+a.join(",")+";":""},varsPrefix:function(a){return this.state[a].vars.length?"var "+this.state[a].vars.join(",")+";":""},body:function(a){return this.state[a].body.join("")},recurse:function(a,b,c,e,f,g){var h,i,j,k,l=this;if(e=e||n,!g&&s(a.watchId))return b=b||this.nextId(),void this.if_("i",this.lazyAssign(b,this.computedMember("i",a.watchId)),this.lazyRecurse(a,b,c,e,f,!0));switch(a.type){case of.Program:d(a.body,function(b,c){l.recurse(b.expression,void 0,void 0,function(a){i=a}),c!==a.body.length-1?l.current().body.push(i,";"):l.return_(i)});break;case of.Literal:k=this.escape(a.value),this.assign(b,k),e(k);break;case of.UnaryExpression:this.recurse(a.argument,void 0,void 0,function(a){i=a}),k=a.operator+"("+this.ifDefined(i,0)+")",this.assign(b,k),e(k);break;case of.BinaryExpression:this.recurse(a.left,void 0,void 0,function(a){h=a}),this.recurse(a.right,void 0,void 0,function(a){i=a}),k="+"===a.operator?this.plus(h,i):"-"===a.operator?this.ifDefined(h,0)+a.operator+this.ifDefined(i,0):"("+h+")"+a.operator+"("+i+")",this.assign(b,k),e(k);break;case of.LogicalExpression:b=b||this.nextId(),l.recurse(a.left,b),l.if_("&&"===a.operator?b:l.not(b),l.lazyRecurse(a.right,b)),e(b);break;case of.ConditionalExpression:b=b||this.nextId(),l.recurse(a.test,b),l.if_(b,l.lazyRecurse(a.alternate,b),l.lazyRecurse(a.consequent,b)),e(b);break;case of.Identifier:b=b||this.nextId(),c&&(c.context="inputs"===l.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",a.name)+"?l:s"),c.computed=!1,c.name=a.name),$b(a.name),l.if_("inputs"===l.stage||l.not(l.getHasOwnProperty("l",a.name)),function(){l.if_("inputs"===l.stage||"s",function(){f&&1!==f&&l.if_(l.not(l.nonComputedMember("s",a.name)),l.lazyAssign(l.nonComputedMember("s",a.name),"{}")),l.assign(b,l.nonComputedMember("s",a.name))})},b&&l.lazyAssign(b,l.nonComputedMember("l",a.name))),(l.state.expensiveChecks||oc(a.name))&&l.addEnsureSafeObject(b),e(b);break;case of.MemberExpression:h=c&&(c.context=this.nextId())||this.nextId(),b=b||this.nextId(),l.recurse(a.object,h,void 0,function(){l.if_(l.notNull(h),function(){f&&1!==f&&l.addEnsureSafeAssignContext(h),a.computed?(i=l.nextId(),l.recurse(a.property,i),l.getStringValue(i),l.addEnsureSafeMemberName(i),f&&1!==f&&l.if_(l.not(l.computedMember(h,i)),l.lazyAssign(l.computedMember(h,i),"{}")),k=l.ensureSafeObject(l.computedMember(h,i)),l.assign(b,k),c&&(c.computed=!0,c.name=i)):($b(a.property.name),f&&1!==f&&l.if_(l.not(l.nonComputedMember(h,a.property.name)),l.lazyAssign(l.nonComputedMember(h,a.property.name),"{}")),k=l.nonComputedMember(h,a.property.name),(l.state.expensiveChecks||oc(a.property.name))&&(k=l.ensureSafeObject(k)),l.assign(b,k),c&&(c.computed=!1,c.name=a.property.name))},function(){l.assign(b,"undefined")}),e(b)},!!f);break;case of.CallExpression:b=b||this.nextId(),a.filter?(i=l.filter(a.callee.name),j=[],d(a.arguments,function(a){var b=l.nextId();l.recurse(a,b),j.push(b)}),k=i+"("+j.join(",")+")",l.assign(b,k),e(b)):(i=l.nextId(),h={},j=[],l.recurse(a.callee,i,h,function(){l.if_(l.notNull(i),function(){l.addEnsureSafeFunction(i),d(a.arguments,function(a){l.recurse(a,l.nextId(),void 0,function(a){j.push(l.ensureSafeObject(a))})}),h.name?(l.state.expensiveChecks||l.addEnsureSafeObject(h.context),k=l.member(h.context,h.name,h.computed)+"("+j.join(",")+")"):k=i+"("+j.join(",")+")",k=l.ensureSafeObject(k),l.assign(b,k)},function(){l.assign(b,"undefined")}),e(b)}));break;case of.AssignmentExpression:if(i=this.nextId(),h={},!ic(a.left))throw gf("lval","Trying to assign a value to a non l-value");this.recurse(a.left,void 0,h,function(){l.if_(l.notNull(h.context),function(){l.recurse(a.right,i),l.addEnsureSafeObject(l.member(h.context,h.name,h.computed)),l.addEnsureSafeAssignContext(h.context),k=l.member(h.context,h.name,h.computed)+a.operator+i,l.assign(b,k),e(b||k)})},1);break;case of.ArrayExpression:j=[],d(a.elements,function(a){l.recurse(a,l.nextId(),void 0,function(a){j.push(a)})}),k="["+j.join(",")+"]",this.assign(b,k),e(k);break;case of.ObjectExpression:j=[],d(a.properties,function(a){l.recurse(a.value,l.nextId(),void 0,function(b){j.push(l.escape(a.key.type===of.Identifier?a.key.name:""+a.key.value)+":"+b)})}),k="{"+j.join(",")+"}",this.assign(b,k),e(k);break;case of.ThisExpression:this.assign(b,"s"),e("s");break;case of.LocalsExpression:this.assign(b,"l"),e("l");break;case of.NGValueParameter:this.assign(b,"v"),e("v")}},getHasOwnProperty:function(a,b){var c=a+"."+b,d=this.current().own;return d.hasOwnProperty(c)||(d[c]=this.nextId(!1,a+"&&("+this.escape(b)+" in "+a+")")),d[c]},assign:function(a,b){return a?(this.current().body.push(a,"=",b,";"),a):void 0},filter:function(a){return this.state.filters.hasOwnProperty(a)||(this.state.filters[a]=this.nextId(!0)),this.state.filters[a]},ifDefined:function(a,b){return"ifDefined("+a+","+this.escape(b)+")"},plus:function(a,b){return"plus("+a+","+b+")"},return_:function(a){this.current().body.push("return ",a,";")},if_:function(a,b,c){if(a===!0)b();else{var d=this.current().body;d.push("if(",a,"){"),b(),d.push("}"),c&&(d.push("else{"),c(),d.push("}"))}},not:function(a){return"!("+a+")"},notNull:function(a){return a+"!=null"},nonComputedMember:function(a,b){var c=/[$_a-zA-Z][$_a-zA-Z0-9]*/,d=/[^$_a-zA-Z0-9]/g;return c.test(b)?a+"."+b:a+'["'+b.replace(d,this.stringEscapeFn)+'"]'},computedMember:function(a,b){return a+"["+b+"]"},member:function(a,b,c){return c?this.computedMember(a,b):this.nonComputedMember(a,b)},addEnsureSafeObject:function(a){this.current().body.push(this.ensureSafeObject(a),";")},addEnsureSafeMemberName:function(a){this.current().body.push(this.ensureSafeMemberName(a),";")},addEnsureSafeFunction:function(a){this.current().body.push(this.ensureSafeFunction(a),";")},addEnsureSafeAssignContext:function(a){this.current().body.push(this.ensureSafeAssignContext(a),";")},ensureSafeObject:function(a){return"ensureSafeObject("+a+",text)"},ensureSafeMemberName:function(a){return"ensureSafeMemberName("+a+",text)"},ensureSafeFunction:function(a){return"ensureSafeFunction("+a+",text)"},getStringValue:function(a){this.assign(a,"getStringValue("+a+")")},ensureSafeAssignContext:function(a){return"ensureSafeAssignContext("+a+",text)"},lazyRecurse:function(a,b,c,d,e,f){var g=this;return function(){g.recurse(a,b,c,d,e,f)}},lazyAssign:function(a,b){var c=this;return function(){c.assign(a,b)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},escape:function(a){if(v(a))return"'"+a.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(w(a))return a.toString();if(a===!0)return"true";if(a===!1)return"false";if(null===a)return"null";if("undefined"==typeof a)return"undefined";throw gf("esc","IMPOSSIBLE")},nextId:function(a,b){var c="v"+this.state.nextId++;return a||this.current().vars.push(c+(b?"="+b:"")),c},current:function(){return this.state[this.state.computing]}},nc.prototype={compile:function(a,b){var c=this,e=this.astBuilder.ast(a);this.expression=a,this.expensiveChecks=b,gc(e,c.$filter);var f,g;(f=jc(e))&&(g=this.recurse(f));var h,i=hc(e.body);i&&(h=[],d(i,function(a,b){var d=c.recurse(a);a.input=d,h.push(d),a.watchId=b}));var j=[];d(e.body,function(a){j.push(c.recurse(a.expression))});var k=0===e.body.length?n:1===e.body.length?j[0]:function(a,b){var c;return d(j,function(d){c=d(a,b)}),c};return g&&(k.assign=function(a,b,c){return g(a,c,b)}),h&&(k.inputs=h),k.literal=kc(e),k.constant=lc(e),k},recurse:function(a,b,c){var e,f,g,h=this;if(a.input)return this.inputs(a.input,a.watchId);switch(a.type){case of.Literal:return this.value(a.value,b);case of.UnaryExpression:return f=this.recurse(a.argument),this["unary"+a.operator](f,b);case of.BinaryExpression:return e=this.recurse(a.left),f=this.recurse(a.right),this["binary"+a.operator](e,f,b);case of.LogicalExpression:return e=this.recurse(a.left),f=this.recurse(a.right),this["binary"+a.operator](e,f,b);case of.ConditionalExpression:return this["ternary?:"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),b);case of.Identifier:return $b(a.name,h.expression),h.identifier(a.name,h.expensiveChecks||oc(a.name),b,c,h.expression);case of.MemberExpression:return e=this.recurse(a.object,!1,!!c),a.computed||($b(a.property.name,h.expression),f=a.property.name),a.computed&&(f=this.recurse(a.property)),a.computed?this.computedMember(e,f,b,c,h.expression):this.nonComputedMember(e,f,h.expensiveChecks,b,c,h.expression);case of.CallExpression:return g=[],d(a.arguments,function(a){g.push(h.recurse(a))}),a.filter&&(f=this.$filter(a.callee.name)),
a.filter||(f=this.recurse(a.callee,!0)),a.filter?function(a,c,d,e){for(var h=[],i=0;i<g.length;++i)h.push(g[i](a,c,d,e));var j=f.apply(void 0,h,e);return b?{context:void 0,name:void 0,value:j}:j}:function(a,c,d,e){var i,j=f(a,c,d,e);if(null!=j.value){ac(j.context,h.expression),bc(j.value,h.expression);for(var k=[],l=0;l<g.length;++l)k.push(ac(g[l](a,c,d,e),h.expression));i=ac(j.value.apply(j.context,k),h.expression)}return b?{value:i}:i};case of.AssignmentExpression:return e=this.recurse(a.left,!0,1),f=this.recurse(a.right),function(a,c,d,g){var i=e(a,c,d,g),j=f(a,c,d,g);return ac(i.value,h.expression),cc(i.context),i.context[i.name]=j,b?{value:j}:j};case of.ArrayExpression:return g=[],d(a.elements,function(a){g.push(h.recurse(a))}),function(a,c,d,e){for(var f=[],h=0;h<g.length;++h)f.push(g[h](a,c,d,e));return b?{value:f}:f};case of.ObjectExpression:return g=[],d(a.properties,function(a){g.push({key:a.key.type===of.Identifier?a.key.name:""+a.key.value,value:h.recurse(a.value)})}),function(a,c,d,e){for(var f={},h=0;h<g.length;++h)f[g[h].key]=g[h].value(a,c,d,e);return b?{value:f}:f};case of.ThisExpression:return function(a){return b?{value:a}:a};case of.LocalsExpression:return function(a,c){return b?{value:c}:c};case of.NGValueParameter:return function(a,c,d){return b?{value:d}:d}}},"unary+":function(a,b){return function(c,d,e,f){var g=a(c,d,e,f);return g=s(g)?+g:0,b?{value:g}:g}},"unary-":function(a,b){return function(c,d,e,f){var g=a(c,d,e,f);return g=s(g)?-g:0,b?{value:g}:g}},"unary!":function(a,b){return function(c,d,e,f){var g=!a(c,d,e,f);return b?{value:g}:g}},"binary+":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g),i=b(d,e,f,g),j=ec(h,i);return c?{value:j}:j}},"binary-":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g),i=b(d,e,f,g),j=(s(h)?h:0)-(s(i)?i:0);return c?{value:j}:j}},"binary*":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)*b(d,e,f,g);return c?{value:h}:h}},"binary/":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)/b(d,e,f,g);return c?{value:h}:h}},"binary%":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)%b(d,e,f,g);return c?{value:h}:h}},"binary===":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)===b(d,e,f,g);return c?{value:h}:h}},"binary!==":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)!==b(d,e,f,g);return c?{value:h}:h}},"binary==":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)==b(d,e,f,g);return c?{value:h}:h}},"binary!=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)!=b(d,e,f,g);return c?{value:h}:h}},"binary<":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)<b(d,e,f,g);return c?{value:h}:h}},"binary>":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)>b(d,e,f,g);return c?{value:h}:h}},"binary<=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)<=b(d,e,f,g);return c?{value:h}:h}},"binary>=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)>=b(d,e,f,g);return c?{value:h}:h}},"binary&&":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)&&b(d,e,f,g);return c?{value:h}:h}},"binary||":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)||b(d,e,f,g);return c?{value:h}:h}},"ternary?:":function(a,b,c,d){return function(e,f,g,h){var i=a(e,f,g,h)?b(e,f,g,h):c(e,f,g,h);return d?{value:i}:i}},value:function(a,b){return function(){return b?{context:void 0,name:void 0,value:a}:a}},identifier:function(a,b,c,d,e){return function(f,g,h,i){var j=g&&a in g?g:f;d&&1!==d&&j&&!j[a]&&(j[a]={});var k=j?j[a]:void 0;return b&&ac(k,e),c?{context:j,name:a,value:k}:k}},computedMember:function(a,b,c,d,e){return function(f,g,h,i){var j,k,l=a(f,g,h,i);return null!=l&&(j=b(f,g,h,i),j=_b(j),$b(j,e),d&&1!==d&&(cc(l),l&&!l[j]&&(l[j]={})),k=l[j],ac(k,e)),c?{context:l,name:j,value:k}:k}},nonComputedMember:function(a,b,c,d,e,f){return function(g,h,i,j){var k=a(g,h,i,j);e&&1!==e&&(cc(k),k&&!k[b]&&(k[b]={}));var l=null!=k?k[b]:void 0;return(c||oc(b))&&ac(l,f),d?{context:k,name:b,value:l}:l}},inputs:function(a,b){return function(c,d,e,f){return f?f[b]:a(c,d,e)}}};var pf=function(a,b,c){this.lexer=a,this.$filter=b,this.options=c,this.ast=new of(a,c),this.astCompiler=c.csp?new nc(this.ast,b):new mc(this.ast,b)};pf.prototype={constructor:pf,parse:function(a){return this.astCompiler.compile(a,this.options.expensiveChecks)}};var qf=Object.prototype.valueOf,rf=b("$sce"),sf={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},tf=b("$compile"),uf=a.document.createElement("a"),vf=Fc(a.location.href);Ic.$inject=["$document"],Kc.$inject=["$provide"];var wf=22,xf=".",yf="0";Pc.$inject=["$locale"],Qc.$inject=["$locale"];var zf={yyyy:Vc("FullYear",4,0,!1,!0),yy:Vc("FullYear",2,0,!0,!0),y:Vc("FullYear",1,0,!1,!0),MMMM:Wc("Month"),MMM:Wc("Month",!0),MM:Vc("Month",2,1),M:Vc("Month",1,1),LLLL:Wc("Month",!1,!0),dd:Vc("Date",2),d:Vc("Date",1),HH:Vc("Hours",2),H:Vc("Hours",1),hh:Vc("Hours",2,-12),h:Vc("Hours",1,-12),mm:Vc("Minutes",2),m:Vc("Minutes",1),ss:Vc("Seconds",2),s:Vc("Seconds",1),sss:Vc("Milliseconds",3),EEEE:Wc("Day"),EEE:Wc("Day",!0),a:_c,Z:Xc,ww:$c(2),w:$c(1),G:ad,GG:ad,GGG:ad,GGGG:bd},Af=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Bf=/^\-?\d+$/;cd.$inject=["$locale"];var Cf=p(Dd),Df=p(Ed);fd.$inject=["$parse"];var Ef=p({restrict:"E",compile:function(a,b){return b.href||b.xlinkHref?void 0:function(a,b){if("a"===b[0].nodeName.toLowerCase()){var c="[object SVGAnimatedString]"===Od.call(b.prop("href"))?"xlink:href":"href";b.on("click",function(a){b.attr(c)||a.preventDefault()})}}}}),Ff={};d(xe,function(a,b){function c(a,c,e){a.$watch(e[d],function(a){e.$set(b,!!a)})}if("multiple"!=a){var d=pb("ng-"+b),e=c;"checked"===a&&(e=function(a,b,e){e.ngModel!==e[d]&&c(a,b,e)}),Ff[d]=function(){return{restrict:"A",priority:100,link:e}}}}),d(ze,function(a,b){Ff[b]=function(){return{priority:100,link:function(a,c,d){if("ngPattern"===b&&"/"==d.ngPattern.charAt(0)){var e=d.ngPattern.match(Ad);if(e)return void d.$set("ngPattern",new RegExp(e[1],e[2]))}a.$watch(d[b],function(a){d.$set(b,a)})}}}}),d(["src","srcset","href"],function(a){var b=pb("ng-"+a);Ff[b]=function(){return{priority:99,link:function(c,d,e){var f=a,g=a;"href"===a&&"[object SVGAnimatedString]"===Od.call(d.prop("href"))&&(g="xlinkHref",e.$attr[g]="xlink:href",f=null),e.$observe(b,function(b){return b?(e.$set(g,b),void(Hd&&f&&d.prop(f,e[g]))):void("href"===a&&e.$set(g,null))})}}}});var Gf={$addControl:n,$$renameControl:hd,$removeControl:n,$setValidity:n,$setDirty:n,$setPristine:n,$setSubmitted:n},Hf="ng-submitted";id.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var If=function(a){return["$timeout","$parse",function(b,c){function d(a){return""===a?c('this[""]').assign:c(a).assign||n}var e={name:"form",restrict:a?"EAC":"E",require:["form","^^?form"],controller:id,compile:function(c,e){c.addClass(qg).addClass(og);var f=e.name?"name":a&&e.ngForm?"ngForm":!1;return{pre:function(a,c,e,g){var h=g[0];if(!("action"in e)){var i=function(b){a.$apply(function(){h.$commitViewValue(),h.$setSubmitted()}),b.preventDefault()};ke(c[0],"submit",i),c.on("$destroy",function(){b(function(){le(c[0],"submit",i)},0,!1)})}var k=g[1]||h.$$parentForm;k.$addControl(h);var l=f?d(h.$name):n;f&&(l(a,h),e.$observe(f,function(b){h.$name!==b&&(l(a,void 0),h.$$parentForm.$$renameControl(h,b),(l=d(h.$name))(a,h))})),c.on("$destroy",function(){h.$$parentForm.$removeControl(h),l(a,void 0),j(h,Gf)})}}}};return e}]},Jf=If(),Kf=If(!0),Lf=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,Mf=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Nf=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Of=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Pf=/^(\d{4,})-(\d{2})-(\d{2})$/,Qf=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Rf=/^(\d{4,})-W(\d\d)$/,Sf=/^(\d{4,})-(\d\d)$/,Tf=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Uf="keydown wheel mousedown",Vf=pa();d("date,datetime-local,month,time,week".split(","),function(a){Vf[a]=!0});var Wf={text:kd,date:od("date",Pf,nd(Pf,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":od("datetimelocal",Qf,nd(Qf,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:od("time",Tf,nd(Tf,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:od("week",Rf,md,"yyyy-Www"),month:od("month",Sf,nd(Sf,["yyyy","MM"]),"yyyy-MM"),number:qd,url:rd,email:sd,radio:td,checkbox:vd,hidden:n,button:n,submit:n,reset:n,file:n},Xf=["$browser","$sniffer","$filter","$parse",function(a,b,c,d){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,f,g,h){h[0]&&(Wf[Dd(g.type)]||Wf.text)(e,f,g,h[0],b,a,c,d)}}}}],Yf=/^(true|false|\d+)$/,Zf=function(){return{restrict:"A",priority:100,compile:function(a,b){return Yf.test(b.ngValue)?function(a,b,c){c.$set("value",a.$eval(c.ngValue))}:function(a,b,c){a.$watch(c.ngValue,function(a){c.$set("value",a)})}}}},$f=["$compile",function(a){return{restrict:"AC",compile:function(b){return a.$$addBindingClass(b),function(b,c,d){a.$$addBindingInfo(c,d.ngBind),c=c[0],b.$watch(d.ngBind,function(a){c.textContent=r(a)?"":a})}}}}],_f=["$interpolate","$compile",function(a,b){return{compile:function(c){return b.$$addBindingClass(c),function(c,d,e){var f=a(d.attr(e.$attr.ngBindTemplate));b.$$addBindingInfo(d,f.expressions),d=d[0],e.$observe("ngBindTemplate",function(a){d.textContent=r(a)?"":a})}}}}],ag=["$sce","$parse","$compile",function(a,b,c){return{restrict:"A",compile:function(d,e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(a){return(a||"").toString()});return c.$$addBindingClass(d),function(b,d,e){c.$$addBindingInfo(d,e.ngBindHtml),b.$watch(g,function(){d.html(a.getTrustedHtml(f(b))||"")})}}}}],bg=p({restrict:"A",require:"ngModel",link:function(a,b,c,d){d.$viewChangeListeners.push(function(){a.$eval(c.ngChange)})}}),cg=wd("",!0),dg=wd("Odd",0),eg=wd("Even",1),fg=gd({compile:function(a,b){b.$set("ngCloak",void 0),a.removeClass("ng-cloak")}}),gg=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],hg={},ig={blur:!0,focus:!0};d("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=pb("ng-"+a);hg[b]=["$parse","$rootScope",function(c,d){return{restrict:"A",compile:function(e,f){var g=c(f[b],null,!0);return function(b,c){c.on(a,function(c){var e=function(){g(b,{$event:c})};ig[a]&&d.$$phase?b.$evalAsync(e):b.$apply(e)})}}}}]});var jg=["$animate","$compile",function(a,b){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(c,d,e,f,g){var h,i,j;c.$watch(e.ngIf,function(c){c?i||g(function(c,f){i=f,c[c.length++]=b.$$createComment("end ngIf",e.ngIf),h={clone:c},a.enter(c,d.parent(),d)}):(j&&(j.remove(),j=null),i&&(i.$destroy(),i=null),h&&(j=oa(h.clone),a.leave(j).then(function(){j=null}),h=null))})}}}],kg=["$templateRequest","$anchorScroll","$animate",function(a,b,c){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Rd.noop,compile:function(d,e){var f=e.ngInclude||e.src,g=e.onload||"",h=e.autoscroll;return function(d,e,i,j,k){var l,m,n,o=0,p=function(){m&&(m.remove(),m=null),l&&(l.$destroy(),l=null),n&&(c.leave(n).then(function(){m=null}),m=n,n=null)};d.$watch(f,function(f){var i=function(){!s(h)||h&&!d.$eval(h)||b()},m=++o;f?(a(f,!0).then(function(a){if(!d.$$destroyed&&m===o){var b=d.$new();j.template=a;var h=k(b,function(a){p(),c.enter(a,null,e).then(i)});l=b,n=h,l.$emit("$includeContentLoaded",f),d.$eval(g)}},function(){d.$$destroyed||m===o&&(p(),d.$emit("$includeContentError",f))}),d.$emit("$includeContentRequested",f)):(p(),j.template=null)})}}}}],lg=["$compile",function(b){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(c,d,e,f){return Od.call(d[0]).match(/SVG/)?(d.empty(),void b(Aa(f.template,a.document).childNodes)(c,function(a){d.append(a)},{futureParentElement:d})):(d.html(f.template),void b(d.contents())(c))}}}],mg=gd({priority:450,compile:function(){return{pre:function(a,b,c){a.$eval(c.ngInit)}}}}),ng=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,b,c,e){var f=b.attr(c.$attr.ngList)||", ",g="false"!==c.ngTrim,h=g?Vd(f):f,i=function(a){if(!r(a)){var b=[];return a&&d(a.split(h),function(a){a&&b.push(g?Vd(a):a)}),b}};e.$parsers.push(i),e.$formatters.push(function(a){return Td(a)?a.join(f):void 0}),e.$isEmpty=function(a){return!a||!a.length}}}},og="ng-valid",pg="ng-invalid",qg="ng-pristine",rg="ng-dirty",sg="ng-untouched",tg="ng-touched",ug="ng-pending",vg="ng-empty",wg="ng-not-empty",xg=b("ngModel"),yg=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(a,b,c,e,f,g,h,i,j,k){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=k(c.name||"",!1)(a),this.$$parentForm=Gf;var l,m=f(c.ngModel),o=m.assign,p=m,q=o,t=null,u=this;this.$$setOptions=function(a){if(u.$options=a,a&&a.getterSetter){var b=f(c.ngModel+"()"),d=f(c.ngModel+"($$$p)");p=function(a){var c=m(a);return y(c)&&(c=b(a)),c},q=function(a,b){y(m(a))?d(a,{$$$p:b}):o(a,b)}}else if(!m.assign)throw xg("nonassign","Expression '{0}' is non-assignable. Element: {1}",c.ngModel,Z(e))},this.$render=n,this.$isEmpty=function(a){return r(a)||""===a||null===a||a!==a},this.$$updateEmptyClasses=function(a){u.$isEmpty(a)?(g.removeClass(e,wg),g.addClass(e,vg)):(g.removeClass(e,vg),g.addClass(e,wg))};var v=0;xd({ctrl:this,$element:e,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]},$animate:g}),this.$setPristine=function(){u.$dirty=!1,u.$pristine=!0,g.removeClass(e,rg),g.addClass(e,qg)},this.$setDirty=function(){u.$dirty=!0,u.$pristine=!1,g.removeClass(e,qg),g.addClass(e,rg),u.$$parentForm.$setDirty()},this.$setUntouched=function(){u.$touched=!1,u.$untouched=!0,g.setClass(e,sg,tg)},this.$setTouched=function(){u.$touched=!0,u.$untouched=!1,g.setClass(e,tg,sg)},this.$rollbackViewValue=function(){h.cancel(t),u.$viewValue=u.$$lastCommittedViewValue,u.$render()},this.$validate=function(){if(!w(u.$modelValue)||!isNaN(u.$modelValue)){var a=u.$$lastCommittedViewValue,b=u.$$rawModelValue,c=u.$valid,d=u.$modelValue,e=u.$options&&u.$options.allowInvalid;u.$$runValidators(b,a,function(a){e||c===a||(u.$modelValue=a?b:void 0,u.$modelValue!==d&&u.$$writeModelToScope())})}},this.$$runValidators=function(a,b,c){function e(){var a=u.$$parserName||"parse";return r(l)?(h(a,null),!0):(l||(d(u.$validators,function(a,b){h(b,null)}),d(u.$asyncValidators,function(a,b){h(b,null)})),h(a,l),l)}function f(){var c=!0;return d(u.$validators,function(d,e){var f=d(a,b);c=c&&f,h(e,f)}),c?!0:(d(u.$asyncValidators,function(a,b){h(b,null)}),!1)}function g(){var c=[],e=!0;d(u.$asyncValidators,function(d,f){var g=d(a,b);if(!G(g))throw xg("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",g);h(f,void 0),c.push(g.then(function(){h(f,!0)},function(){e=!1,h(f,!1)}))}),c.length?j.all(c).then(function(){i(e)},n):i(!0)}function h(a,b){k===v&&u.$setValidity(a,b)}function i(a){k===v&&c(a)}v++;var k=v;return e()&&f()?void g():void i(!1)},this.$commitViewValue=function(){var a=u.$viewValue;h.cancel(t),(u.$$lastCommittedViewValue!==a||""===a&&u.$$hasNativeValidators)&&(u.$$updateEmptyClasses(a),u.$$lastCommittedViewValue=a,u.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function b(){u.$modelValue!==f&&u.$$writeModelToScope()}var c=u.$$lastCommittedViewValue,d=c;if(l=r(d)?void 0:!0)for(var e=0;e<u.$parsers.length;e++)if(d=u.$parsers[e](d),r(d)){l=!1;break}w(u.$modelValue)&&isNaN(u.$modelValue)&&(u.$modelValue=p(a));var f=u.$modelValue,g=u.$options&&u.$options.allowInvalid;u.$$rawModelValue=d,g&&(u.$modelValue=d,b()),u.$$runValidators(d,u.$$lastCommittedViewValue,function(a){g||(u.$modelValue=a?d:void 0,b())})},this.$$writeModelToScope=function(){q(a,u.$modelValue),d(u.$viewChangeListeners,function(a){try{a()}catch(c){b(c)}})},this.$setViewValue=function(a,b){u.$viewValue=a,(!u.$options||u.$options.updateOnDefault)&&u.$$debounceViewValueCommit(b)},this.$$debounceViewValueCommit=function(b){var c,d=0,e=u.$options;e&&s(e.debounce)&&(c=e.debounce,w(c)?d=c:w(c[b])?d=c[b]:w(c["default"])&&(d=c["default"])),h.cancel(t),d?t=h(function(){u.$commitViewValue()},d):i.$$phase?u.$commitViewValue():a.$apply(function(){u.$commitViewValue()})},a.$watch(function(){var b=p(a);if(b!==u.$modelValue&&(u.$modelValue===u.$modelValue||b===b)){u.$modelValue=u.$$rawModelValue=b,l=void 0;for(var c=u.$formatters,d=c.length,e=b;d--;)e=c[d](e);u.$viewValue!==e&&(u.$$updateEmptyClasses(e),u.$viewValue=u.$$lastCommittedViewValue=e,u.$render(),u.$$runValidators(b,e,n))}return b})}],zg=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:yg,priority:1,compile:function(b){return b.addClass(qg).addClass(sg).addClass(og),{pre:function(a,b,c,d){var e=d[0],f=d[1]||e.$$parentForm;e.$$setOptions(d[2]&&d[2].$options),f.$addControl(e),c.$observe("name",function(a){e.$name!==a&&e.$$parentForm.$$renameControl(e,a)}),a.$on("$destroy",function(){e.$$parentForm.$removeControl(e)})},post:function(b,c,d,e){var f=e[0];f.$options&&f.$options.updateOn&&c.on(f.$options.updateOn,function(a){f.$$debounceViewValueCommit(a&&a.type)}),c.on("blur",function(){f.$touched||(a.$$phase?b.$evalAsync(f.$setTouched):b.$apply(f.$setTouched))})}}}}}],Ag=/(\s+|^)default(\s+|$)/,Bg=function(){return{restrict:"A",controller:["$scope","$attrs",function(a,b){var c=this;this.$options=N(a.$eval(b.ngModelOptions)),s(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=Vd(this.$options.updateOn.replace(Ag,function(){return c.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Cg=gd({terminal:!0,priority:1e3}),Dg=b("ngOptions"),Eg=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Fg=["$compile","$document","$parse",function(b,e,f){function g(a,b,d){function e(a,b,c,d,e){this.selectValue=a,this.viewValue=b,this.label=c,this.group=d,this.disabled=e}function g(a){var b;if(!j&&c(a))b=a;else{b=[];for(var d in a)a.hasOwnProperty(d)&&"$"!==d.charAt(0)&&b.push(d)}return b}var h=a.match(Eg);if(!h)throw Dg("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",a,Z(b));var i=h[5]||h[7],j=h[6],k=/ as /.test(h[0])&&h[1],l=h[9],m=f(h[2]?h[1]:i),n=k&&f(k),o=n||m,p=l&&f(l),q=l?function(a,b){return p(d,b)}:function(a){return Za(a)},r=function(a,b){return q(a,x(a,b))},s=f(h[2]||h[1]),t=f(h[3]||""),u=f(h[4]||""),v=f(h[8]),w={},x=j?function(a,b){return w[j]=b,w[i]=a,w}:function(a){return w[i]=a,w};return{trackBy:l,getTrackByValue:r,getWatchables:f(v,function(a){var b=[];a=a||[];for(var c=g(a),e=c.length,f=0;e>f;f++){var i=a===c?f:c[f],j=a[i],k=x(j,i),l=q(j,k);if(b.push(l),h[2]||h[1]){var m=s(d,k);b.push(m)}if(h[4]){var n=u(d,k);b.push(n)}}return b}),getOptions:function(){for(var a=[],b={},c=v(d)||[],f=g(c),h=f.length,i=0;h>i;i++){var j=c===f?i:f[i],k=c[j],m=x(k,j),n=o(d,m),p=q(n,m),w=s(d,m),y=t(d,m),z=u(d,m),A=new e(p,n,w,y,z);a.push(A),b[p]=A}return{items:a,selectValueMap:b,getOptionFromViewValue:function(a){return b[r(a)]},getViewValueFromOption:function(a){return l?Rd.copy(a.viewValue):a.viewValue}}}}}function h(a,c,f,h){function k(a,b){var c=i.cloneNode(!1);b.appendChild(c),l(a,c)}function l(a,b){a.element=b,b.disabled=a.disabled,a.label!==b.label&&(b.label=a.label,b.textContent=a.label),a.value!==b.value&&(b.value=a.selectValue)}function m(){var a=x&&o.readValue();if(x)for(var b=x.items.length-1;b>=0;b--){var d=x.items[b];Ra(d.group?d.element.parentNode:d.element)}x=y.getOptions();var e={};if(v&&c.prepend(n),x.items.forEach(function(a){var b;s(a.group)?(b=e[a.group],b||(b=j.cloneNode(!1),z.appendChild(b),b.label=a.group,e[a.group]=b),k(a,b)):k(a,z)}),c[0].appendChild(z),p.$render(),!p.$isEmpty(a)){var f=o.readValue(),g=y.trackBy||q;(g?P(a,f):a===f)||(p.$setViewValue(f),p.$render())}}for(var n,o=h[0],p=h[1],q=f.multiple,r=0,t=c.children(),u=t.length;u>r;r++)if(""===t[r].value){n=t.eq(r);break}var v=!!n,w=Id(i.cloneNode(!1));w.val("?");var x,y=g(f.ngOptions,c,a),z=e[0].createDocumentFragment(),A=function(){v||c.prepend(n),c.val(""),n.prop("selected",!0),n.attr("selected",!0)},B=function(){v||n.remove()},C=function(){c.prepend(w),c.val("?"),w.prop("selected",!0),w.attr("selected",!0)},D=function(){w.remove()};q?(p.$isEmpty=function(a){return!a||0===a.length},o.writeValue=function(a){x.items.forEach(function(a){a.element.selected=!1}),a&&a.forEach(function(a){var b=x.getOptionFromViewValue(a);b&&(b.element.selected=!0)})},o.readValue=function(){var a=c.val()||[],b=[];return d(a,function(a){var c=x.selectValueMap[a];c&&!c.disabled&&b.push(x.getViewValueFromOption(c))}),b},y.trackBy&&a.$watchCollection(function(){return Td(p.$viewValue)?p.$viewValue.map(function(a){return y.getTrackByValue(a)}):void 0},function(){p.$render()})):(o.writeValue=function(a){var b=x.getOptionFromViewValue(a);b?(c[0].value!==b.selectValue&&(D(),B(),c[0].value=b.selectValue,b.element.selected=!0),b.element.setAttribute("selected","selected")):null===a||v?(D(),A()):(B(),C())},o.readValue=function(){var a=x.selectValueMap[c.val()];return a&&!a.disabled?(B(),D(),x.getViewValueFromOption(a)):null},y.trackBy&&a.$watch(function(){return y.getTrackByValue(p.$viewValue)},function(){p.$render()})),v?(n.remove(),b(n)(a),n.removeClass("ng-scope")):n=Id(i.cloneNode(!1)),c.empty(),m(),a.$watchCollection(y.getWatchables,m)}var i=a.document.createElement("option"),j=a.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(a,b,c,d){d[0].registerOption=n},post:h}}}],Gg=["$locale","$interpolate","$log",function(a,b,c){var e=/{}/g,f=/^when(Minus)?(.+)$/;return{link:function(g,h,i){function j(a){h.text(a||"")}var k,l=i.count,m=i.$attr.when&&h.attr(i.$attr.when),o=i.offset||0,p=g.$eval(m)||{},q={},s=b.startSymbol(),t=b.endSymbol(),u=s+l+"-"+o+t,v=Rd.noop;d(i,function(a,b){var c=f.exec(b);if(c){var d=(c[1]?"-":"")+Dd(c[2]);p[d]=h.attr(i.$attr[b])}}),d(p,function(a,c){q[c]=b(a.replace(e,u))}),g.$watch(l,function(b){var d=parseFloat(b),e=isNaN(d);if(e||d in p||(d=a.pluralCat(d-o)),d!==k&&!(e&&w(k)&&isNaN(k))){v();var f=q[d];r(f)?(null!=b&&c.debug("ngPluralize: no rule defined for '"+d+"' in "+m),v=n,j()):v=g.$watch(f,j),k=d}})}}}],Hg=["$parse","$animate","$compile",function(a,e,f){var g="$$NG_REMOVED",h=b("ngRepeat"),i=function(a,b,c,d,e,f,g){a[c]=d,e&&(a[e]=f),a.$index=b,a.$first=0===b,a.$last=b===g-1,a.$middle=!(a.$first||a.$last),a.$odd=!(a.$even=0===(1&b))},j=function(a){return a.clone[0]},k=function(a){return a.clone[a.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(b,l){var m=l.ngRepeat,n=f.$$createComment("end ngRepeat",m),o=m.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!o)throw h("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",m);var p=o[1],q=o[2],r=o[3],s=o[4];if(o=p.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!o)throw h("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",p);var t=o[3]||o[1],u=o[2];if(r&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(r)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(r)))throw h("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",r);var v,w,x,y,z={$id:Za};return s?v=a(s):(x=function(a,b){return Za(b)},y=function(a){return a}),function(a,b,f,l,o){v&&(w=function(b,c,d){return u&&(z[u]=b),z[t]=c,z.$index=d,v(a,z)});var p=pa();a.$watchCollection(q,function(f){var l,q,s,v,z,A,B,C,D,E,F,G,H=b[0],I=pa();if(r&&(a[r]=f),c(f))D=f,C=w||x;else{C=w||y,D=[];for(var J in f)Cd.call(f,J)&&"$"!==J.charAt(0)&&D.push(J)}for(v=D.length,F=new Array(v),l=0;v>l;l++)if(z=f===D?l:D[l],A=f[z],B=C(z,A,l),p[B])E=p[B],delete p[B],I[B]=E,F[l]=E;else{if(I[B])throw d(F,function(a){a&&a.scope&&(p[a.id]=a)}),h("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",m,B,A);F[l]={id:B,scope:void 0,clone:void 0},I[B]=!0}for(var K in p){if(E=p[K],G=oa(E.clone),e.leave(G),G[0].parentNode)for(l=0,q=G.length;q>l;l++)G[l][g]=!0;E.scope.$destroy()}for(l=0;v>l;l++)if(z=f===D?l:D[l],A=f[z],E=F[l],E.scope){s=H;do s=s.nextSibling;while(s&&s[g]);j(E)!=s&&e.move(oa(E.clone),null,H),H=k(E),i(E.scope,l,t,A,u,z,v)}else o(function(a,b){E.scope=b;var c=n.cloneNode(!1);a[a.length++]=c,e.enter(a,null,H),H=c,E.clone=a,I[E.id]=E,i(E.scope,l,t,A,u,z,v)});p=I})}}}}],Ig="ng-hide",Jg="ng-hide-animate",Kg=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngShow,function(b){a[b?"removeClass":"addClass"](c,Ig,{tempClasses:Jg})})}}}],Lg=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngHide,function(b){a[b?"addClass":"removeClass"](c,Ig,{tempClasses:Jg})})}}}],Mg=gd(function(a,b,c){a.$watch(c.ngStyle,function(a,c){c&&a!==c&&d(c,function(a,c){b.css(c,"")}),a&&b.css(a)},!0)}),Ng=["$animate","$compile",function(a,b){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(c,e,f,g){var h=f.ngSwitch||f.on,i=[],j=[],k=[],l=[],m=function(a,b){return function(){a.splice(b,1)}};c.$watch(h,function(c){var e,f;for(e=0,f=k.length;f>e;++e)a.cancel(k[e]);for(k.length=0,e=0,f=l.length;f>e;++e){var h=oa(j[e].clone);l[e].$destroy();var n=k[e]=a.leave(h);n.then(m(k,e))}j.length=0,l.length=0,(i=g.cases["!"+c]||g.cases["?"])&&d(i,function(c){c.transclude(function(d,e){l.push(e);var f=c.element;d[d.length++]=b.$$createComment("end ngSwitchWhen");var g={clone:d};j.push(g),a.enter(d,f.parent(),f)})})})}}}],Og=gd({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,d,e){d.cases["!"+c.ngSwitchWhen]=d.cases["!"+c.ngSwitchWhen]||[],d.cases["!"+c.ngSwitchWhen].push({transclude:e,element:b})}}),Pg=gd({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,d,e){d.cases["?"]=d.cases["?"]||[],d.cases["?"].push({transclude:e,element:b})}}),Qg=b("ngTransclude"),Rg=gd({restrict:"EAC",link:function(a,b,c,d,e){function f(a){a.length&&(b.empty(),b.append(a))}if(c.ngTransclude===c.$attr.ngTransclude&&(c.ngTransclude=""),!e)throw Qg("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",Z(b));var g=c.ngTransclude||c.ngTranscludeSlot;e(f,null,g)}}),Sg=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,c){if("text/ng-template"==c.type){var d=c.id,e=b[0].text;a.put(d,e)}}}}],Tg={$setViewValue:n,$render:n},Ug=["$element","$scope",function(b,c){var d=this,e=new $a;d.ngModelCtrl=Tg,d.unknownOption=Id(a.document.createElement("option")),d.renderUnknownOption=function(a){var c="? "+Za(a)+" ?";d.unknownOption.val(c),b.prepend(d.unknownOption),b.val(c)},c.$on("$destroy",function(){d.renderUnknownOption=n}),d.removeUnknownOption=function(){d.unknownOption.parent()&&d.unknownOption.remove()},d.readValue=function(){return d.removeUnknownOption(),b.val()},d.writeValue=function(a){d.hasOption(a)?(d.removeUnknownOption(),b.val(a),""===a&&d.emptyOption.prop("selected",!0)):null==a&&d.emptyOption?(d.removeUnknownOption(),b.val("")):d.renderUnknownOption(a)},d.addOption=function(a,b){if(b[0].nodeType!==ee){ma(a,'"option value"'),""===a&&(d.emptyOption=b);var c=e.get(a)||0;e.put(a,c+1),d.ngModelCtrl.$render(),zd(b)}},d.removeOption=function(a){var b=e.get(a);b&&(1===b?(e.remove(a),""===a&&(d.emptyOption=void 0)):e.put(a,b-1))},d.hasOption=function(a){return!!e.get(a)},d.registerOption=function(a,b,c,e,f){if(e){var g;c.$observe("value",function(a){s(g)&&d.removeOption(g),g=a,d.addOption(a,b)})}else f?a.$watch(f,function(a,e){c.$set("value",a),e!==a&&d.removeOption(e),d.addOption(a,b)}):d.addOption(c.value,b);b.on("$destroy",function(){d.removeOption(c.value),d.ngModelCtrl.$render()})}}],Vg=function(){function a(a,b,c,e){var f=e[1];if(f){var g=e[0];if(g.ngModelCtrl=f,b.on("change",function(){a.$apply(function(){f.$setViewValue(g.readValue())})}),c.multiple){g.readValue=function(){var a=[];return d(b.find("option"),function(b){b.selected&&a.push(b.value)}),a},g.writeValue=function(a){var c=new $a(a);d(b.find("option"),function(a){a.selected=s(c.get(a.value))})};var h,i=NaN;a.$watch(function(){i!==f.$viewValue||P(h,f.$viewValue)||(h=O(f.$viewValue),f.$render()),i=f.$viewValue}),f.$isEmpty=function(a){return!a||0===a.length}}}}function b(a,b,c,d){var e=d[1];if(e){var f=d[0];e.$render=function(){f.writeValue(e.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:Ug,priority:1,link:{pre:a,post:b}}},Wg=["$interpolate",function(a){return{restrict:"E",priority:100,compile:function(b,c){if(s(c.value))var d=a(c.value,!0);else{var e=a(b.text(),!0);e||c.$set("value",b.text())}return function(a,b,c){var f="$selectController",g=b.parent(),h=g.data(f)||g.parent().data(f);h&&h.registerOption(a,b,c,d,e)}}}}],Xg=p({restrict:"E",terminal:!1}),Yg=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){d&&(c.required=!0,d.$validators.required=function(a,b){return!c.required||!d.$isEmpty(b)},c.$observe("required",function(){d.$validate()}))}}},Zg=function(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){if(e){var f,g=d.ngPattern||d.pattern;d.$observe("pattern",function(a){if(v(a)&&a.length>0&&(a=new RegExp("^"+a+"$")),a&&!a.test)throw b("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",g,a,Z(c));f=a||void 0,e.$validate()}),e.$validators.pattern=function(a,b){return e.$isEmpty(b)||r(f)||f.test(b)}}}}},$g=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(d){var e=-1;c.$observe("maxlength",function(a){var b=l(a);e=isNaN(b)?-1:b,d.$validate()}),d.$validators.maxlength=function(a,b){return 0>e||d.$isEmpty(b)||b.length<=e}}}}},_g=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(d){var e=0;c.$observe("minlength",function(a){e=l(a)||0,d.$validate()}),d.$validators.minlength=function(a,b){return d.$isEmpty(b)||b.length>=e}}}}};return a.angular.bootstrap?void(a.console&&console.log("WARNING: Tried to load angular more than once.")):(ja(),ta(Rd),Rd.module("ngLocale",[],["$provide",function(a){function b(a){a+="";var b=a.indexOf(".");return-1==b?0:a.length-b-1}function c(a,c){var d=c;void 0===d&&(d=Math.min(b(a),3));var e=Math.pow(10,d),f=(a*e|0)%e;return{v:d,f:f}}var d={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};a.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],
fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(a,b){var e=0|a,f=c(a,b);return 1==e&&0==f.v?d.ONE:d.OTHER}})}]),void Id(a.document).ready(function(){ea(a.document,fa)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(){function a(a,b){if(a!==b){var c=a===a,d=b===b;if(a>b||!c||"undefined"==typeof a&&d)return 1;if(b>a||!d||"undefined"==typeof b&&c)return-1}return 0}function b(a,b,c){if(b!==b)return n(a,c);for(var d=(c||0)-1,e=a.length;++d<e;)if(a[d]===b)return d;return-1}function c(a){return"function"==typeof a||!1}function d(a,b){var c=a.length;for(a.sort(b);c--;)a[c]=a[c].value;return a}function e(a){return"string"==typeof a?a:null==a?"":a+""}function f(a){return a.charCodeAt(0)}function g(a,b){for(var c=-1,d=a.length;++c<d&&b.indexOf(a.charAt(c))>-1;);return c}function h(a,b){for(var c=a.length;c--&&b.indexOf(a.charAt(c))>-1;);return c}function i(b,c){return a(b.criteria,c.criteria)||b.index-c.index}function j(b,c){for(var d=-1,e=b.criteria,f=c.criteria,g=e.length;++d<g;){var h=a(e[d],f[d]);if(h)return h}return b.index-c.index}function k(a){return Na[a]}function l(a){return Oa[a]}function m(a){return"\\"+Ra[a]}function n(a,b,c){for(var d=a.length,e=c?b||d:(b||0)-1;c?e--:++e<d;){var f=a[e];if(f!==f)return e}return-1}function o(a){return a&&"object"==typeof a||!1}function p(a){return 160>=a&&a>=9&&13>=a||32==a||160==a||5760==a||6158==a||a>=8192&&(8202>=a||8232==a||8233==a||8239==a||8287==a||12288==a||65279==a)}function q(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;)a[c]===b&&(a[c]=P,f[++e]=c);return f}function r(a,b){for(var c,d=-1,e=a.length,f=-1,g=[];++d<e;){var h=a[d],i=b?b(h,d,a):h;d&&c===i||(c=i,g[++f]=h)}return g}function s(a){for(var b=-1,c=a.length;++b<c&&p(a.charCodeAt(b)););return b}function t(a){for(var b=a.length;b--&&p(a.charCodeAt(b)););return b}function u(a){return Pa[a]}function v(p){function W(a){if(o(a)&&!Zg(a)&&!(a instanceof Na)){if(a instanceof aa)return a;if(bg.call(a,"__chain__")&&bg.call(a,"__wrapped__"))return Kc(a)}return new aa(a)}function $(){}function aa(a,b,c){this.__wrapped__=a,this.__actions__=c||[],this.__chain__=!!b}function Na(a){this.__wrapped__=a,this.__actions__=null,this.__dir__=1,this.__dropCount__=0,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=Fg,this.__views__=null}function Oa(){var a=this.__actions__,b=this.__iteratees__,c=this.__views__,d=new Na(this.__wrapped__);return d.__actions__=a?_a(a):null,d.__dir__=this.__dir__,d.__dropCount__=this.__dropCount__,d.__filtered__=this.__filtered__,d.__iteratees__=b?_a(b):null,d.__takeCount__=this.__takeCount__,d.__views__=c?_a(c):null,d}function Pa(){if(this.__filtered__){var a=new Na(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function Qa(){var a=this.__wrapped__.value();if(!Zg(a))return Yb(a,this.__actions__);var b=this.__dir__,c=0>b,d=tc(0,a.length,this.__views__),e=d.start,f=d.end,g=f-e,h=this.__dropCount__,i=zg(g,this.__takeCount__),j=c?f:e-1,k=this.__iteratees__,l=k?k.length:0,m=0,n=[];a:for(;g--&&i>m;){j+=b;for(var o=-1,p=a[j];++o<l;){var q=k[o],r=q.iteratee,s=r(p,j,a),t=q.type;if(t==M)p=s;else if(!s){if(t==L)continue a;break a}}h?h--:n[m++]=p}return n}function Ra(){this.__data__={}}function Ta(a){return this.has(a)&&delete this.__data__[a]}function Ua(a){return"__proto__"==a?w:this.__data__[a]}function Va(a){return"__proto__"!=a&&bg.call(this.__data__,a)}function Wa(a,b){return"__proto__"!=a&&(this.__data__[a]=b),this}function Ya(a){var b=a?a.length:0;for(this.data={hash:vg(null),set:new og};b--;)this.push(a[b])}function Za(a,b){var c=a.data,d="string"==typeof b||Be(b)?c.set.has(b):c.hash[b];return d?0:-1}function $a(a){var b=this.data;"string"==typeof a||Be(a)?b.set.add(a):b.hash[a]=!0}function _a(a,b){var c=-1,d=a.length;for(b||(b=Of(d));++c<d;)b[c]=a[c];return b}function ab(a,b){for(var c=-1,d=a.length;++c<d&&b(a[c],c,a)!==!1;);return a}function bb(a,b){for(var c=a.length;c--&&b(a[c],c,a)!==!1;);return a}function cb(a,b){for(var c=-1,d=a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0}function db(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[++e]=g)}return f}function eb(a,b){for(var c=-1,d=a.length,e=Of(d);++c<d;)e[c]=b(a[c],c,a);return e}function fb(a){for(var b=-1,c=a.length,d=Eg;++b<c;){var e=a[b];e>d&&(d=e)}return d}function gb(a){for(var b=-1,c=a.length,d=Fg;++b<c;){var e=a[b];d>e&&(d=e)}return d}function hb(a,b,c,d){var e=-1,f=a.length;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function ib(a,b,c,d){var e=a.length;for(d&&e&&(c=a[--e]);e--;)c=b(c,a[e],e,a);return c}function jb(a,b){for(var c=-1,d=a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function kb(a,b){return"undefined"==typeof a?b:a}function lb(a,b,c,d){return"undefined"!=typeof a&&bg.call(d,c)?a:b}function mb(a,b,c){var d=ch(b);if(!c)return ob(b,a,d);for(var e=-1,f=d.length;++e<f;){var g=d[e],h=a[g],i=c(h,b[g],g,a,b);(i===i?i===h:h!==h)&&("undefined"!=typeof h||g in a)||(a[g]=i)}return a}function nb(a,b){for(var c=-1,d=a.length,e=Ac(d),f=b.length,g=Of(f);++c<f;){var h=b[c];e?(h=parseFloat(h),g[c]=yc(h,d)?a[h]:w):g[c]=a[h]}return g}function ob(a,b,c){c||(c=b,b={});for(var d=-1,e=c.length;++d<e;){var f=c[d];b[f]=a[f]}return b}function pb(a,b){for(var c=-1,d=b.length;++c<d;){var e=b[c];a[e]=mc(a[e],y,a)}return a}function qb(a,b,c){var d=typeof a;return"function"==d?"undefined"!=typeof b&&xc(a)?_b(a,b,c):a:null==a?Df:"object"==d?Mb(a):"undefined"==typeof b?Qb(a+""):Nb(a+"",b)}function rb(a,b,c,d,e,f,g){var h;if(c&&(h=e?c(a,d,e):c(a)),"undefined"!=typeof h)return h;if(!Be(a))return a;var i=Zg(a);if(i){if(h=uc(a),!b)return _a(a,h)}else{var j=dg.call(a),k=j==V;if(j!=Y&&j!=Q&&(!k||e))return La[j]?wc(a,j,b):e?a:{};if(h=vc(k?{}:a),!b)return ob(a,h,ch(a))}f||(f=[]),g||(g=[]);for(var l=f.length;l--;)if(f[l]==a)return g[l];return f.push(a),g.push(h),(i?ab:Eb)(a,function(d,e){h[e]=rb(d,b,c,e,a,f,g)}),h}function sb(a,b,c,d){if("function"!=typeof a)throw new Xf(O);return pg(function(){a.apply(w,Ub(c,d))},b)}function tb(a,c){var d=a?a.length:0,e=[];if(!d)return e;var f=-1,g=sc(),h=g==b,i=h&&c.length>=200?Pg(c):null,j=c.length;i&&(g=Za,h=!1,c=i);a:for(;++f<d;){var k=a[f];if(h&&k===k){for(var l=j;l--;)if(c[l]===k)continue a;e.push(k)}else g(c,k)<0&&e.push(k)}return e}function ub(a,b){var c=a?a.length:0;if(!Ac(c))return Eb(a,b);for(var d=-1,e=Jc(a);++d<c&&b(e[d],d,e)!==!1;);return a}function vb(a,b){var c=a?a.length:0;if(!Ac(c))return Fb(a,b);for(var d=Jc(a);c--&&b(d[c],c,d)!==!1;);return a}function wb(a,b){var c=!0;return ub(a,function(a,d,e){return c=!!b(a,d,e)}),c}function xb(a,b,c,d){var e=a.length;for(c=null==c?0:+c||0,0>c&&(c=-c>e?0:e+c),d="undefined"==typeof d||d>e?e:+d||0,0>d&&(d+=e),e=c>d?0:d>>>0,c>>>=0;e>c;)a[c++]=b;return a}function yb(a,b){var c=[];return ub(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c}function zb(a,b,c,d){var e;return c(a,function(a,c,f){return b(a,c,f)?(e=d?c:a,!1):void 0}),e}function Ab(a,b,c,d){for(var e=(d||0)-1,f=a.length,g=-1,h=[];++e<f;){var i=a[e];if(o(i)&&Ac(i.length)&&(Zg(i)||ue(i))){b&&(i=Ab(i,b,c));var j=-1,k=i.length;for(h.length+=k;++j<k;)h[++g]=i[j]}else c||(h[++g]=i)}return h}function Bb(a,b,c){for(var d=-1,e=Jc(a),f=c(a),g=f.length;++d<g;){var h=f[d];if(b(e[h],h,e)===!1)break}return a}function Cb(a,b,c){for(var d=Jc(a),e=c(a),f=e.length;f--;){var g=e[f];if(b(d[g],g,d)===!1)break}return a}function Db(a,b){return Bb(a,b,Ye)}function Eb(a,b){return Bb(a,b,ch)}function Fb(a,b){return Cb(a,b,ch)}function Gb(a,b){for(var c=-1,d=b.length,e=-1,f=[];++c<d;){var g=b[c];_g(a[g])&&(f[++e]=g)}return f}function Hb(a,b,c){var d=-1,e="function"==typeof b,f=a?a.length:0,g=Ac(f)?Of(f):[];return ub(a,function(a){var f=e?b:null!=a&&a[b];g[++d]=f?f.apply(a,c):w}),g}function Ib(a,b,c,d,e,f){if(a===b)return 0!==a||1/a==1/b;var g=typeof a,h=typeof b;return"function"!=g&&"object"!=g&&"function"!=h&&"object"!=h||null==a||null==b?a!==a&&b!==b:Jb(a,b,Ib,c,d,e,f)}function Jb(a,b,c,d,e,f,g){var h=Zg(a),i=Zg(b),j=R,k=R;h||(j=dg.call(a),j==Q?j=Y:j!=Y&&(h=Je(a))),i||(k=dg.call(b),k==Q?k=Y:k!=Y&&(i=Je(b)));var l=j==Y,m=k==Y,n=j==k;if(n&&!h&&!l)return oc(a,b,j);var o=l&&bg.call(a,"__wrapped__"),p=m&&bg.call(b,"__wrapped__");if(o||p)return c(o?a.value():a,p?b.value():b,d,e,f,g);if(!n)return!1;f||(f=[]),g||(g=[]);for(var q=f.length;q--;)if(f[q]==a)return g[q]==b;f.push(a),g.push(b);var r=(h?nc:pc)(a,b,c,d,e,f,g);return f.pop(),g.pop(),r}function Kb(a,b,c,d,e){var f=b.length;if(null==a)return!f;for(var g=-1,h=!e;++g<f;)if(h&&d[g]?c[g]!==a[b[g]]:!bg.call(a,b[g]))return!1;for(g=-1;++g<f;){var i=b[g];if(h&&d[g])var j=bg.call(a,i);else{var k=a[i],l=c[g];j=e?e(k,l,i):w,"undefined"==typeof j&&(j=Ib(l,k,e,!0))}if(!j)return!1}return!0}function Lb(a,b){var c=[];return ub(a,function(a,d,e){c.push(b(a,d,e))}),c}function Mb(a){var b=ch(a),c=b.length;if(1==c){var d=b[0],e=a[d];if(Bc(e))return function(a){return null!=a&&a[d]===e&&bg.call(a,d)}}for(var f=Of(c),g=Of(c);c--;)e=a[b[c]],f[c]=e,g[c]=Bc(e);return function(a){return Kb(a,b,f,g)}}function Nb(a,b){return Bc(b)?function(c){return null!=c&&c[a]===b}:function(c){return null!=c&&Ib(b,c[a],null,!0)}}function Ob(a,b,c,d,e){if(!Be(a))return a;var f=Ac(b.length)&&(Zg(b)||Je(b));return(f?ab:Eb)(b,function(b,g,h){if(o(b))return d||(d=[]),e||(e=[]),Pb(a,h,g,Ob,c,d,e);var i=a[g],j=c?c(i,b,g,a,h):w,k="undefined"==typeof j;k&&(j=b),!f&&"undefined"==typeof j||!k&&(j===j?j===i:i!==i)||(a[g]=j)}),a}function Pb(a,b,c,d,e,f,g){for(var h=f.length,i=b[c];h--;)if(f[h]==i)return void(a[c]=g[h]);var j=a[c],k=e?e(j,i,c,a,b):w,l="undefined"==typeof k;l&&(k=i,Ac(i.length)&&(Zg(i)||Je(i))?k=Zg(j)?j:j?_a(j):[]:ah(i)||ue(i)?k=ue(j)?Me(j):ah(j)?j:{}:l=!1),f.push(i),g.push(k),l?a[c]=d(k,i,e,f,g):(k===k?k!==j:j===j)&&(a[c]=k)}function Qb(a){return function(b){return null==b?w:b[a]}}function Rb(b,c){var d=c.length,e=nb(b,c);for(c.sort(a);d--;){var f=parseFloat(c[d]);if(f!=g&&yc(f)){var g=f;qg.call(b,f,1)}}return e}function Sb(a,b){return a+kg(Dg()*(b-a+1))}function Tb(a,b,c,d,e){return e(a,function(a,e,f){c=d?(d=!1,a):b(c,a,e,f)}),c}function Ub(a,b,c){var d=-1,e=a.length;b=null==b?0:+b||0,0>b&&(b=-b>e?0:e+b),c="undefined"==typeof c||c>e?e:+c||0,0>c&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=Of(e);++d<e;)f[d]=a[d+b];return f}function Vb(a,b){var c;return ub(a,function(a,d,e){return c=b(a,d,e),!c}),!!c}function Wb(a,c){var d=-1,e=sc(),f=a.length,g=e==b,h=g&&f>=200,i=h?Pg():null,j=[];i?(e=Za,g=!1):(h=!1,i=c?[]:j);a:for(;++d<f;){var k=a[d],l=c?c(k,d,a):k;if(g&&k===k){for(var m=i.length;m--;)if(i[m]===l)continue a;c&&i.push(l),j.push(k)}else e(i,l)<0&&((c||h)&&i.push(l),j.push(k))}return j}function Xb(a,b){for(var c=-1,d=b.length,e=Of(d);++c<d;)e[c]=a[b[c]];return e}function Yb(a,b){var c=a;c instanceof Na&&(c=c.value());for(var d=-1,e=b.length;++d<e;){var f=[c],g=b[d];mg.apply(f,g.args),c=g.func.apply(g.thisArg,f)}return c}function Zb(a,b,c){var d=0,e=a?a.length:d;if("number"==typeof b&&b===b&&Ig>=e){for(;e>d;){var f=d+e>>>1,g=a[f];(c?b>=g:b>g)?d=f+1:e=f}return e}return $b(a,b,Df,c)}function $b(a,b,c,d){b=c(b);for(var e=0,f=a?a.length:0,g=b!==b,h="undefined"==typeof b;f>e;){var i=kg((e+f)/2),j=c(a[i]),k=j===j;if(g)var l=k||d;else l=h?k&&(d||"undefined"!=typeof j):d?b>=j:b>j;l?e=i+1:f=i}return zg(f,Hg)}function _b(a,b,c){if("function"!=typeof a)return Df;if("undefined"==typeof b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)};case 5:return function(c,d,e,f,g){return a.call(b,c,d,e,f,g)}}return function(){return a.apply(b,arguments)}}function ac(a){return hg.call(a,0)}function bc(a,b,c){for(var d=c.length,e=-1,f=yg(a.length-d,0),g=-1,h=b.length,i=Of(f+h);++g<h;)i[g]=b[g];for(;++e<d;)i[c[e]]=a[e];for(;f--;)i[g++]=a[e++];return i}function cc(a,b,c){for(var d=-1,e=c.length,f=-1,g=yg(a.length-e,0),h=-1,i=b.length,j=Of(g+i);++f<g;)j[f]=a[f];for(var k=f;++h<i;)j[k+h]=b[h];for(;++d<e;)j[k+c[d]]=a[f++];return j}function dc(a,b){return function(c,d,e){var f=b?b():{};if(d=rc(d,e,3),Zg(c))for(var g=-1,h=c.length;++g<h;){var i=c[g];a(f,i,d(i,g,c),c)}else ub(c,function(b,c,e){a(f,b,d(b,c,e),e)});return f}}function ec(a){return function(){var b=arguments.length,c=arguments[0];if(2>b||null==c)return c;if(b>3&&zc(arguments[1],arguments[2],arguments[3])&&(b=2),b>3&&"function"==typeof arguments[b-2])var d=_b(arguments[--b-1],arguments[b--],5);else b>2&&"function"==typeof arguments[b-1]&&(d=arguments[--b]);for(var e=0;++e<b;){var f=arguments[e];f&&a(c,f,d)}return c}}function fc(a,b){function c(){return(this instanceof c?d:a).apply(b,arguments)}var d=hc(a);return c}function gc(a){return function(b){for(var c=-1,d=zf(jf(b)),e=d.length,f="";++c<e;)f=a(f,d[c],c);return f}}function hc(a){return function(){var b=Ng(a.prototype),c=a.apply(b,arguments);return Be(c)?c:b}}function ic(a,b){return function(c,d,e){e&&zc(c,d,e)&&(d=null);var g=rc(),h=null==d;if(g===qb&&h||(h=!1,d=g(d,e,3)),h){var i=Zg(c);if(i||!Ie(c))return a(i?c:Ic(c));d=f}return qc(c,d,b)}}function jc(a,b,c,d,e,f,g,h,i,j){function k(){for(var u=arguments.length,v=u,w=Of(u);v--;)w[v]=arguments[v];if(d&&(w=bc(w,d,e)),f&&(w=cc(w,f,g)),o||r){var x=k.placeholder,A=q(w,x);if(u-=A.length,j>u){var B=h?_a(h):null,C=yg(j-u,0),F=o?A:null,G=o?null:A,H=o?w:null,I=o?null:w;b|=o?D:E,b&=~(o?E:D),p||(b&=~(y|z));var J=jc(a,b,c,H,F,I,G,B,i,C);return J.placeholder=x,J}}var K=m?c:this;return n&&(a=K[t]),h&&(w=Fc(w,h)),l&&i<w.length&&(w.length=i),(this instanceof k?s||hc(a):a).apply(K,w)}var l=b&G,m=b&y,n=b&z,o=b&B,p=b&A,r=b&C,s=!n&&hc(a),t=a;return k}function kc(a,b,c){var d=a.length;if(b=+b,d>=b||!wg(b))return"";var e=b-d;return c=null==c?" ":c+"",rf(c,ig(e/c.length)).slice(0,e)}function lc(a,b,c,d){function e(){for(var b=-1,h=arguments.length,i=-1,j=d.length,k=Of(h+j);++i<j;)k[i]=d[i];for(;h--;)k[i++]=arguments[++b];return(this instanceof e?g:a).apply(f?c:this,k)}var f=b&y,g=hc(a);return e}function mc(a,b,c,d,e,f,g,h){var i=b&z;if(!i&&"function"!=typeof a)throw new Xf(O);var j=d?d.length:0;if(j||(b&=~(D|E),d=e=null),j-=e?e.length:0,b&E){var k=d,l=e;d=e=null}var m=!i&&Qg(a),n=[a,b,c,d,e,k,l,f,g,h];if(m&&m!==!0&&(Cc(n,m),b=n[1],h=n[9]),n[9]=null==h?i?0:a.length:yg(h-j,0)||0,b==y)var o=fc(n[0],n[2]);else o=b!=D&&b!=(y|D)||n[4].length?jc.apply(w,n):lc.apply(w,n);var p=m?Og:Rg;return p(o,n)}function nc(a,b,c,d,e,f,g){var h=-1,i=a.length,j=b.length,k=!0;if(i!=j&&!(e&&j>i))return!1;for(;k&&++h<i;){var l=a[h],m=b[h];if(k=w,d&&(k=e?d(m,l,h):d(l,m,h)),"undefined"==typeof k)if(e)for(var n=j;n--&&(m=b[n],!(k=l&&l===m||c(l,m,d,e,f,g))););else k=l&&l===m||c(l,m,d,e,f,g)}return!!k}function oc(a,b,c){switch(c){case S:case T:return+a==+b;case U:return a.name==b.name&&a.message==b.message;case X:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case Z:case _:return a==b+""}return!1}function pc(a,b,c,d,e,f,g){var h=ch(a),i=h.length,j=ch(b),k=j.length;if(i!=k&&!e)return!1;for(var l,m=-1;++m<i;){var n=h[m],o=bg.call(b,n);if(o){var p=a[n],q=b[n];o=w,d&&(o=e?d(q,p,n):d(p,q,n)),"undefined"==typeof o&&(o=p&&p===q||c(p,q,d,e,f,g))}if(!o)return!1;l||(l="constructor"==n)}if(!l){var r=a.constructor,s=b.constructor;if(r!=s&&"constructor"in a&&"constructor"in b&&!("function"==typeof r&&r instanceof r&&"function"==typeof s&&s instanceof s))return!1}return!0}function qc(a,b,c){var d=c?Fg:Eg,e=d,f=e;return ub(a,function(a,g,h){var i=b(a,g,h);((c?e>i:i>e)||i===d&&i===f)&&(e=i,f=a)}),f}function rc(a,b,c){var d=W.callback||Bf;return d=d===Bf?qb:d,c?d(a,b,c):d}function sc(a,c,d){var e=W.indexOf||Yc;return e=e===Yc?b:e,a?e(a,c,d):e}function tc(a,b,c){for(var d=-1,e=c?c.length:0;++d<e;){var f=c[d],g=f.size;switch(f.type){case"drop":a+=g;break;case"dropRight":b-=g;break;case"take":b=zg(b,a+g);break;case"takeRight":a=yg(a,b-g)}}return{start:a,end:b}}function uc(a){var b=a.length,c=new a.constructor(b);return b&&"string"==typeof a[0]&&bg.call(a,"index")&&(c.index=a.index,c.input=a.input),c}function vc(a){var b=a.constructor;return"function"==typeof b&&b instanceof b||(b=Uf),new b}function wc(a,b,c){var d=a.constructor;switch(b){case ba:return ac(a);case S:case T:return new d(+a);case ca:case da:case ea:case fa:case ga:case ha:case ia:case ja:case ka:var e=a.buffer;return new d(c?ac(e):e,a.byteOffset,a.length);case X:case _:return new d(a);case Z:var f=new d(a.source,wa.exec(a));f.lastIndex=a.lastIndex}return f}function xc(a){var b=W.support,c=!(b.funcNames?a.name:b.funcDecomp);if(!c){var d=_f.call(a);b.funcNames||(c=!xa.test(d)),c||(c=Ea.test(d)||Ee(a),Og(a,c))}return c}function yc(a,b){return a=+a,b=null==b?Kg:b,a>-1&&a%1==0&&b>a}function zc(a,b,c){if(!Be(c))return!1;var d=typeof b;if("number"==d)var e=c.length,f=Ac(e)&&yc(b,e);else f="string"==d&&b in c;if(f){var g=c[b];return a===a?a===g:g!==g}return!1}function Ac(a){return"number"==typeof a&&a>-1&&a%1==0&&Kg>=a}function Bc(a){return a===a&&(0===a?1/a>0:!Be(a))}function Cc(a,b){var c=a[1],d=b[1],e=c|d,f=G|F,g=y|z,h=f|g|A|C,i=c&G&&!(d&G),j=c&F&&!(d&F),k=(j?a:b)[7],l=(i?a:b)[8],m=!(c>=F&&d>g||c>g&&d>=F),n=e>=f&&h>=e&&(F>c||(j||i)&&k.length<=l);if(!m&&!n)return a;d&y&&(a[2]=b[2],e|=c&y?0:A);var o=b[3];if(o){var p=a[3];a[3]=p?bc(p,o,b[4]):_a(o),a[4]=p?q(a[3],P):_a(b[4])}return o=b[5],o&&(p=a[5],a[5]=p?cc(p,o,b[6]):_a(o),a[6]=p?q(a[5],P):_a(b[6])),o=b[7],o&&(a[7]=_a(o)),d&G&&(a[8]=null==a[8]?b[8]:zg(a[8],b[8])),null==a[9]&&(a[9]=b[9]),a[0]=b[0],a[1]=e,a}function Dc(a,b){a=Jc(a);for(var c=-1,d=b.length,e={};++c<d;){var f=b[c];f in a&&(e[f]=a[f])}return e}function Ec(a,b){var c={};return Db(a,function(a,d,e){b(a,d,e)&&(c[d]=a)}),c}function Fc(a,b){for(var c=a.length,d=zg(b.length,c),e=_a(a);d--;){var f=b[d];a[d]=yc(f,c)?e[f]:w}return a}function Gc(a){var b;W.support;if(!o(a)||dg.call(a)!=Y||!bg.call(a,"constructor")&&(b=a.constructor,"function"==typeof b&&!(b instanceof b)))return!1;var c;return Db(a,function(a,b){c=b}),"undefined"==typeof c||bg.call(a,c)}function Hc(a){for(var b=Ye(a),c=b.length,d=c&&a.length,e=W.support,f=d&&Ac(d)&&(Zg(a)||e.nonEnumArgs&&ue(a)),g=-1,h=[];++g<c;){var i=b[g];(f&&yc(i,d)||bg.call(a,i))&&h.push(i)}return h}function Ic(a){return null==a?[]:Ac(a.length)?Be(a)?a:Uf(a):df(a)}function Jc(a){return Be(a)?a:Uf(a)}function Kc(a){return a instanceof Na?a.clone():new aa(a.__wrapped__,a.__chain__,_a(a.__actions__))}function Lc(a,b,c){b=(c?zc(a,b,c):null==b)?1:yg(+b||1,1);for(var d=0,e=a?a.length:0,f=-1,g=Of(ig(e/b));e>d;)g[++f]=Ub(a,d,d+=b);return g}function Mc(a){for(var b=-1,c=a?a.length:0,d=-1,e=[];++b<c;){var f=a[b];f&&(e[++d]=f)}return e}function Nc(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(Zg(c)||ue(c))break}return tb(c,Ab(arguments,!1,!0,++a))}function Oc(a,b,c){var d=a?a.length:0;return d?((c?zc(a,b,c):null==b)&&(b=1),Ub(a,0>b?0:b)):[]}function Pc(a,b,c){var d=a?a.length:0;return d?((c?zc(a,b,c):null==b)&&(b=1),b=d-(+b||0),Ub(a,0,0>b?0:b)):[]}function Qc(a,b,c){var d=a?a.length:0;if(!d)return[];for(b=rc(b,c,3);d--&&b(a[d],d,a););return Ub(a,0,d+1)}function Rc(a,b,c){var d=a?a.length:0;if(!d)return[];var e=-1;for(b=rc(b,c,3);++e<d&&b(a[e],e,a););return Ub(a,e)}function Sc(a,b,c,d){var e=a?a.length:0;return e?(c&&"number"!=typeof c&&zc(a,b,c)&&(c=0,d=e),xb(a,b,c,d)):[]}function Tc(a,b,c){var d=-1,e=a?a.length:0;for(b=rc(b,c,3);++d<e;)if(b(a[d],d,a))return d;return-1}function Uc(a,b,c){var d=a?a.length:0;for(b=rc(b,c,3);d--;)if(b(a[d],d,a))return d;return-1}function Vc(a){return a?a[0]:w}function Wc(a,b,c){var d=a?a.length:0;return c&&zc(a,b,c)&&(b=!1),d?Ab(a,b):[]}function Xc(a){var b=a?a.length:0;return b?Ab(a,!0):[]}function Yc(a,c,d){var e=a?a.length:0;if(!e)return-1;if("number"==typeof d)d=0>d?yg(e+d,0):d||0;else if(d){var f=Zb(a,c),g=a[f];return(c===c?c===g:g!==g)?f:-1}return b(a,c,d)}function Zc(a){return Pc(a,1)}function $c(){for(var a=[],c=-1,d=arguments.length,e=[],f=sc(),g=f==b;++c<d;){var h=arguments[c];(Zg(h)||ue(h))&&(a.push(h),e.push(g&&h.length>=120?Pg(c&&h):null))}d=a.length;var i=a[0],j=-1,k=i?i.length:0,l=[],m=e[0];a:for(;++j<k;)if(h=i[j],(m?Za(m,h):f(l,h))<0){for(c=d;--c;){var n=e[c];if((n?Za(n,h):f(a[c],h))<0)continue a}m&&m.push(h),l.push(h)}return l}function _c(a){var b=a?a.length:0;return b?a[b-1]:w}function ad(a,b,c){var d=a?a.length:0;if(!d)return-1;var e=d;if("number"==typeof c)e=(0>c?yg(d+c,0):zg(c||0,d-1))+1;else if(c){e=Zb(a,b,!0)-1;var f=a[e];return(b===b?b===f:f!==f)?e:-1}if(b!==b)return n(a,e,!0);for(;e--;)if(a[e]===b)return e;return-1}function bd(){var a=arguments[0];if(!a||!a.length)return a;for(var b=0,c=sc(),d=arguments.length;++b<d;)for(var e=0,f=arguments[b];(e=c(a,f,e))>-1;)qg.call(a,e,1);return a}function cd(a){return Rb(a||[],Ab(arguments,!1,!1,1))}function dd(a,b,c){var d=-1,e=a?a.length:0,f=[];for(b=rc(b,c,3);++d<e;){var g=a[d];b(g,d,a)&&(f.push(g),qg.call(a,d--,1),e--)}return f}function ed(a){return Oc(a,1)}function fd(a,b,c){var d=a?a.length:0;return d?(c&&"number"!=typeof c&&zc(a,b,c)&&(b=0,c=d),Ub(a,b,c)):[]}function gd(a,b,c,d){var e=rc(c);return e===qb&&null==c?Zb(a,b):$b(a,b,e(c,d,1))}function hd(a,b,c,d){var e=rc(c);return e===qb&&null==c?Zb(a,b,!0):$b(a,b,e(c,d,1),!0)}function id(a,b,c){var d=a?a.length:0;return d?((c?zc(a,b,c):null==b)&&(b=1),Ub(a,0,0>b?0:b)):[]}function jd(a,b,c){var d=a?a.length:0;return d?((c?zc(a,b,c):null==b)&&(b=1),b=d-(+b||0),Ub(a,0>b?0:b)):[]}function kd(a,b,c){var d=a?a.length:0;if(!d)return[];for(b=rc(b,c,3);d--&&b(a[d],d,a););return Ub(a,d+1)}function ld(a,b,c){var d=a?a.length:0;if(!d)return[];var e=-1;for(b=rc(b,c,3);++e<d&&b(a[e],e,a););return Ub(a,0,e)}function md(){return Wb(Ab(arguments,!1,!0))}function nd(a,c,d,e){var f=a?a.length:0;if(!f)return[];null!=c&&"boolean"!=typeof c&&(e=d,d=zc(a,c,e)?null:c,c=!1);var g=rc();return(g!==qb||null!=d)&&(d=g(d,e,3)),c&&sc()==b?r(a,d):Wb(a,d)}function od(a){for(var b=-1,c=(a&&a.length&&fb(eb(a,ag)))>>>0,d=Of(c);++b<c;)d[b]=eb(a,Qb(b));return d}function pd(a){return tb(a,Ub(arguments,1))}function qd(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(Zg(c)||ue(c))var d=d?tb(d,c).concat(tb(c,d)):c}return d?Wb(d):[]}function rd(){for(var a=arguments.length,b=Of(a);a--;)b[a]=arguments[a];return od(b)}function sd(a,b){var c=-1,d=a?a.length:0,e={};for(!d||b||Zg(a[0])||(b=[]);++c<d;){var f=a[c];b?e[f]=b[c]:f&&(e[f[0]]=f[1])}return e}function td(a){var b=W(a);return b.__chain__=!0,b}function ud(a,b,c){return b.call(c,a),a}function vd(a,b,c){return b.call(c,a)}function wd(){return td(this)}function xd(){return new aa(this.value(),this.__chain__)}function yd(a){for(var b,c=this;c instanceof $;){var d=Kc(c);b?e.__wrapped__=d:b=d;var e=d;c=c.__wrapped__}return e.__wrapped__=a,b}function zd(){var a=this.__wrapped__;return a instanceof Na?(this.__actions__.length&&(a=new Na(this)),new aa(a.reverse(),this.__chain__)):this.thru(function(a){return a.reverse()})}function Ad(){return this.value()+""}function Bd(){return Yb(this.__wrapped__,this.__actions__)}function Cd(a){var b=a?a.length:0;return Ac(b)&&(a=Ic(a)),nb(a,Ab(arguments,!1,!1,1))}function Dd(a,b,c){var d=Zg(a)?cb:wb;return("function"!=typeof b||"undefined"!=typeof c)&&(b=rc(b,c,3)),d(a,b)}function Ed(a,b,c){var d=Zg(a)?db:yb;return b=rc(b,c,3),d(a,b)}function Fd(a,b,c){if(Zg(a)){var d=Tc(a,b,c);return d>-1?a[d]:w}return b=rc(b,c,3),zb(a,b,ub)}function Gd(a,b,c){return b=rc(b,c,3),zb(a,b,vb)}function Hd(a,b){return Fd(a,Mb(b))}function Id(a,b,c){return"function"==typeof b&&"undefined"==typeof c&&Zg(a)?ab(a,b):ub(a,_b(b,c,3))}function Jd(a,b,c){return"function"==typeof b&&"undefined"==typeof c&&Zg(a)?bb(a,b):vb(a,_b(b,c,3))}function Kd(a,b,c){var d=a?a.length:0;return Ac(d)||(a=df(a),d=a.length),d?(c="number"==typeof c?0>c?yg(d+c,0):c||0:0,"string"==typeof a||!Zg(a)&&Ie(a)?d>c&&a.indexOf(b,c)>-1:sc(a,b,c)>-1):!1}function Ld(a,b){return Hb(a,b,Ub(arguments,2))}function Md(a,b,c){var d=Zg(a)?eb:Lb;return b=rc(b,c,3),d(a,b)}function Nd(a,b){return Md(a,Qb(b))}function Od(a,b,c,d){var e=Zg(a)?hb:Tb;return e(a,rc(b,d,4),c,arguments.length<3,ub)}function Pd(a,b,c,d){var e=Zg(a)?ib:Tb;return e(a,rc(b,d,4),c,arguments.length<3,vb)}function Qd(a,b,c){var d=Zg(a)?db:yb;return b=rc(b,c,3),d(a,function(a,c,d){return!b(a,c,d)})}function Rd(a,b,c){if(c?zc(a,b,c):null==b){a=Ic(a);var d=a.length;return d>0?a[Sb(0,d-1)]:w}var e=Sd(a);return e.length=zg(0>b?0:+b||0,e.length),e}function Sd(a){a=Ic(a);for(var b=-1,c=a.length,d=Of(c);++b<c;){var e=Sb(0,b);b!=e&&(d[b]=d[e]),d[e]=a[b]}return d}function Td(a){var b=a?a.length:0;return Ac(b)?b:ch(a).length}function Ud(a,b,c){var d=Zg(a)?jb:Vb;return("function"!=typeof b||"undefined"!=typeof c)&&(b=rc(b,c,3)),d(a,b)}function Vd(a,b,c){var e=-1,f=a?a.length:0,g=Ac(f)?Of(f):[];return c&&zc(a,b,c)&&(b=null),b=rc(b,c,3),ub(a,function(a,c,d){g[++e]={criteria:b(a,c,d),index:e,value:a}}),d(g,i)}function Wd(a){var b=arguments;b.length>3&&zc(b[1],b[2],b[3])&&(b=[a,b[1]]);var c=-1,e=a?a.length:0,f=Ab(b,!1,!1,1),g=Ac(e)?Of(e):[];return ub(a,function(a){for(var b=f.length,d=Of(b);b--;)d[b]=null==a?w:a[f[b]];g[++c]={criteria:d,index:c,value:a}}),d(g,j)}function Xd(a,b){return Ed(a,Mb(b))}function Yd(a,b){if("function"!=typeof b){if("function"!=typeof a)throw new Xf(O);var c=a;a=b,b=c}return a=wg(a=+a)?a:0,function(){return--a<1?b.apply(this,arguments):void 0}}function Zd(a,b,c){return c&&zc(a,b,c)&&(b=null),b=a&&null==b?a.length:yg(+b||0,0),mc(a,G,null,null,null,null,b)}function $d(a,b){var c;if("function"!=typeof b){if("function"!=typeof a)throw new Xf(O);var d=a;a=b,b=d}return function(){return--a>0?c=b.apply(this,arguments):b=null,c}}function _d(a,b){var c=y;if(arguments.length>2){var d=Ub(arguments,2),e=q(d,_d.placeholder);c|=D}return mc(a,c,b,d,e)}function ae(a){return pb(a,arguments.length>1?Ab(arguments,!1,!1,1):Ve(a))}function be(a,b){var c=y|z;if(arguments.length>2){var d=Ub(arguments,2),e=q(d,be.placeholder);c|=D}return mc(b,c,a,d,e)}function ce(a,b,c){c&&zc(a,b,c)&&(b=null);var d=mc(a,B,null,null,null,null,null,b);return d.placeholder=ce.placeholder,d}function de(a,b,c){c&&zc(a,b,c)&&(b=null);var d=mc(a,C,null,null,null,null,null,b);return d.placeholder=de.placeholder,d}function ee(a,b,c){function d(){m&&jg(m),i&&jg(i),i=m=n=w}function e(){var c=b-(Yg()-k);if(0>=c||c>b){i&&jg(i);var d=n;i=m=n=w,d&&(o=Yg(),j=a.apply(l,h),m||i||(h=l=null))}else m=pg(e,c)}function f(){m&&jg(m),i=m=n=w,(q||p!==b)&&(o=Yg(),j=a.apply(l,h),m||i||(h=l=null))}function g(){if(h=arguments,k=Yg(),l=this,n=q&&(m||!r),p===!1)var c=r&&!m;else{i||r||(o=k);var d=p-(k-o),g=0>=d||d>p;g?(i&&(i=jg(i)),o=k,j=a.apply(l,h)):i||(i=pg(f,d))}return g&&m?m=jg(m):m||b===p||(m=pg(e,b)),c&&(g=!0,j=a.apply(l,h)),!g||m||i||(h=l=null),j}var h,i,j,k,l,m,n,o=0,p=!1,q=!0;if("function"!=typeof a)throw new Xf(O);if(b=0>b?0:+b||0,c===!0){var r=!0;q=!1}else Be(c)&&(r=c.leading,p="maxWait"in c&&yg(+c.maxWait||0,b),q="trailing"in c?c.trailing:q);return g.cancel=d,g}function fe(a){return sb(a,1,arguments,1)}function ge(a,b){return sb(a,b,arguments,2)}function he(){var a=arguments,b=a.length;if(!b)return function(){return arguments[0]};if(!cb(a,c))throw new Xf(O);return function(){for(var c=0,d=a[c].apply(this,arguments);++c<b;)d=a[c].call(this,d);return d}}function ie(){var a=arguments,b=a.length-1;if(0>b)return function(){return arguments[0]};if(!cb(a,c))throw new Xf(O);return function(){for(var c=b,d=a[c].apply(this,arguments);c--;)d=a[c].call(this,d);return d}}function je(a,b){if("function"!=typeof a||b&&"function"!=typeof b)throw new Xf(O);var c=function(){var d=c.cache,e=b?b.apply(this,arguments):arguments[0];if(d.has(e))return d.get(e);var f=a.apply(this,arguments);return d.set(e,f),f};return c.cache=new je.Cache,c}function ke(a){if("function"!=typeof a)throw new Xf(O);return function(){return!a.apply(this,arguments)}}function le(a){return $d(a,2)}function me(a){var b=Ub(arguments,1),c=q(b,me.placeholder);return mc(a,D,null,b,c)}function ne(a){var b=Ub(arguments,1),c=q(b,ne.placeholder);return mc(a,E,null,b,c)}function oe(a){var b=Ab(arguments,!1,!1,1);return mc(a,F,null,null,null,b)}function pe(a){if("function"!=typeof a)throw new Xf(O);return function(b){return a.apply(this,b)}}function qe(a,b,c){var d=!0,e=!0;if("function"!=typeof a)throw new Xf(O);return c===!1?d=!1:Be(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e),Ma.leading=d,Ma.maxWait=+b,Ma.trailing=e,ee(a,b,Ma)}function re(a,b){return b=null==b?Df:b,mc(b,D,null,[a],[])}function se(a,b,c,d){return b&&"boolean"!=typeof b&&zc(a,b,c)?b=!1:"function"==typeof b&&(d=c,c=b,b=!1),c="function"==typeof c&&_b(c,d,1),rb(a,b,c)}function te(a,b,c){return b="function"==typeof b&&_b(b,c,1),rb(a,!0,b)}function ue(a){var b=o(a)?a.length:w;return Ac(b)&&dg.call(a)==Q||!1}function ve(a){return a===!0||a===!1||o(a)&&dg.call(a)==S||!1}function we(a){return o(a)&&dg.call(a)==T||!1}function xe(a){return a&&1===a.nodeType&&o(a)&&dg.call(a).indexOf("Element")>-1||!1}function ye(a){if(null==a)return!0;var b=a.length;return Ac(b)&&(Zg(a)||Ie(a)||ue(a)||o(a)&&_g(a.splice))?!b:!ch(a).length}function ze(a,b,c,d){if(c="function"==typeof c&&_b(c,d,3),!c&&Bc(a)&&Bc(b))return a===b;var e=c?c(a,b):w;return"undefined"==typeof e?Ib(a,b,c):!!e}function Ae(a){return o(a)&&"string"==typeof a.message&&dg.call(a)==U||!1}function Be(a){var b=typeof a;return"function"==b||a&&"object"==b||!1}function Ce(a,b,c,d){var e=ch(b),f=e.length;if(c="function"==typeof c&&_b(c,d,3),!c&&1==f){var g=e[0],h=b[g];if(Bc(h))return null!=a&&h===a[g]&&bg.call(a,g)}for(var i=Of(f),j=Of(f);f--;)h=i[f]=b[e[f]],j[f]=Bc(h);return Kb(a,e,i,j,c)}function De(a){return Ge(a)&&a!=+a}function Ee(a){return null==a?!1:dg.call(a)==V?fg.test(_f.call(a)):o(a)&&za.test(a)||!1}function Fe(a){return null===a}function Ge(a){return"number"==typeof a||o(a)&&dg.call(a)==X||!1}function He(a){return o(a)&&dg.call(a)==Z||!1}function Ie(a){return"string"==typeof a||o(a)&&dg.call(a)==_||!1}function Je(a){return o(a)&&Ac(a.length)&&Ka[dg.call(a)]||!1}function Ke(a){return"undefined"==typeof a}function Le(a){var b=a?a.length:0;return Ac(b)?b?_a(a):[]:df(a)}function Me(a){return ob(a,Ye(a))}function Ne(a,b,c){var d=Ng(a);return c&&zc(a,b,c)&&(b=null),b?ob(b,d,ch(b)):d}function Oe(a){if(null==a)return a;var b=_a(arguments);return b.push(kb),bh.apply(w,b)}function Pe(a,b,c){return b=rc(b,c,3),zb(a,b,Eb,!0)}function Qe(a,b,c){return b=rc(b,c,3),zb(a,b,Fb,!0)}function Re(a,b,c){return("function"!=typeof b||"undefined"!=typeof c)&&(b=_b(b,c,3)),Bb(a,b,Ye)}function Se(a,b,c){return b=_b(b,c,3),Cb(a,b,Ye)}function Te(a,b,c){return("function"!=typeof b||"undefined"!=typeof c)&&(b=_b(b,c,3)),Eb(a,b)}function Ue(a,b,c){return b=_b(b,c,3),Cb(a,b,ch)}function Ve(a){return Gb(a,Ye(a))}function We(a,b){return a?bg.call(a,b):!1}function Xe(a,b,c){c&&zc(a,b,c)&&(b=null);for(var d=-1,e=ch(a),f=e.length,g={};++d<f;){var h=e[d],i=a[h];b?bg.call(g,i)?g[i].push(h):g[i]=[h]:g[i]=h}return g}function Ye(a){if(null==a)return[];Be(a)||(a=Uf(a));var b=a.length;b=b&&Ac(b)&&(Zg(a)||Mg.nonEnumArgs&&ue(a))&&b||0;for(var c=a.constructor,d=-1,e="function"==typeof c&&c.prototype===a,f=Of(b),g=b>0;++d<b;)f[d]=d+"";for(var h in a)g&&yc(h,b)||"constructor"==h&&(e||!bg.call(a,h))||f.push(h);return f}function Ze(a,b,c){var d={};return b=rc(b,c,3),Eb(a,function(a,c,e){d[c]=b(a,c,e)}),d}function $e(a,b,c){if(null==a)return{};if("function"!=typeof b){var d=eb(Ab(arguments,!1,!1,1),Wf);return Dc(a,tb(Ye(a),d))}return b=_b(b,c,3),Ec(a,function(a,c,d){return!b(a,c,d)})}function _e(a){for(var b=-1,c=ch(a),d=c.length,e=Of(d);++b<d;){
var f=c[b];e[b]=[f,a[f]]}return e}function af(a,b,c){return null==a?{}:"function"==typeof b?Ec(a,_b(b,c,3)):Dc(a,Ab(arguments,!1,!1,1))}function bf(a,b,c){var d=null==a?w:a[b];return"undefined"==typeof d&&(d=c),_g(d)?d.call(a):d}function cf(a,b,c,d){var e=Zg(a)||Je(a);if(b=rc(b,d,4),null==c)if(e||Be(a)){var f=a.constructor;c=e?Zg(a)?new f:[]:Ng(_g(f)&&f.prototype)}else c={};return(e?ab:Eb)(a,function(a,d,e){return b(c,a,d,e)}),c}function df(a){return Xb(a,ch(a))}function ef(a){return Xb(a,Ye(a))}function ff(a,b,c){return b=+b||0,"undefined"==typeof c?(c=b,b=0):c=+c||0,a>=b&&c>a}function gf(a,b,c){c&&zc(a,b,c)&&(b=c=null);var d=null==a,e=null==b;if(null==c&&(e&&"boolean"==typeof a?(c=a,a=1):"boolean"==typeof b&&(c=b,e=!0)),d&&e&&(b=1,e=!1),a=+a||0,e?(b=a,a=0):b=+b||0,c||a%1||b%1){var f=Dg();return zg(a+f*(b-a+parseFloat("1e-"+((f+"").length-1))),b)}return Sb(a,b)}function hf(a){return a=e(a),a&&a.charAt(0).toUpperCase()+a.slice(1)}function jf(a){return a=e(a),a&&a.replace(Aa,k)}function kf(a,b,c){a=e(a),b+="";var d=a.length;return c=("undefined"==typeof c?d:zg(0>c?0:+c||0,d))-b.length,c>=0&&a.indexOf(b,c)==c}function lf(a){return a=e(a),a&&ra.test(a)?a.replace(pa,l):a}function mf(a){return a=e(a),a&&Da.test(a)?a.replace(Ca,"\\$&"):a}function nf(a,b,c){a=e(a),b=+b;var d=a.length;if(d>=b||!wg(b))return a;var f=(b-d)/2,g=kg(f),h=ig(f);return c=kc("",h,c),c.slice(0,g)+a+c}function of(a,b,c){return a=e(a),a&&kc(a,b,c)+a}function pf(a,b,c){return a=e(a),a&&a+kc(a,b,c)}function qf(a,b,c){return c&&zc(a,b,c)&&(b=0),Cg(a,b)}function rf(a,b){var c="";if(a=e(a),b=+b,1>b||!a||!wg(b))return c;do b%2&&(c+=a),b=kg(b/2),a+=a;while(b);return c}function sf(a,b,c){return a=e(a),c=null==c?0:zg(0>c?0:+c||0,a.length),a.lastIndexOf(b,c)==c}function tf(a,b,c){var d=W.templateSettings;c&&zc(a,b,c)&&(b=c=null),a=e(a),b=mb(mb({},c||b),d,lb);var f,g,h=mb(mb({},b.imports),d.imports,lb),i=ch(h),j=Xb(h,i),k=0,l=b.interpolate||Ba,n="__p += '",o=Vf((b.escape||Ba).source+"|"+l.source+"|"+(l===ua?va:Ba).source+"|"+(b.evaluate||Ba).source+"|$","g"),p="//# sourceURL="+("sourceURL"in b?b.sourceURL:"lodash.templateSources["+ ++Ja+"]")+"\n";a.replace(o,function(b,c,d,e,h,i){return d||(d=e),n+=a.slice(k,i).replace(Fa,m),c&&(f=!0,n+="' +\n__e("+c+") +\n'"),h&&(g=!0,n+="';\n"+h+";\n__p += '"),d&&(n+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),k=i+b.length,b}),n+="';\n";var q=b.variable;q||(n="with (obj) {\n"+n+"\n}\n"),n=(g?n.replace(la,""):n).replace(ma,"$1").replace(na,"$1;"),n="function("+(q||"obj")+") {\n"+(q?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(f?", __e = _.escape":"")+(g?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+n+"return __p\n}";var r=Af(function(){return Rf(i,p+"return "+n).apply(w,j)});if(r.source=n,Ae(r))throw r;return r}function uf(a,b,c){var d=a;return(a=e(a))?(c?zc(d,b,c):null==b)?a.slice(s(a),t(a)+1):(b+="",a.slice(g(a,b),h(a,b)+1)):a}function vf(a,b,c){var d=a;return a=e(a),a?(c?zc(d,b,c):null==b)?a.slice(s(a)):a.slice(g(a,b+"")):a}function wf(a,b,c){var d=a;return a=e(a),a?(c?zc(d,b,c):null==b)?a.slice(0,t(a)+1):a.slice(0,h(a,b+"")+1):a}function xf(a,b,c){c&&zc(a,b,c)&&(b=null);var d=H,f=I;if(null!=b)if(Be(b)){var g="separator"in b?b.separator:g;d="length"in b?+b.length||0:d,f="omission"in b?e(b.omission):f}else d=+b||0;if(a=e(a),d>=a.length)return a;var h=d-f.length;if(1>h)return f;var i=a.slice(0,h);if(null==g)return i+f;if(He(g)){if(a.slice(h).search(g)){var j,k,l=a.slice(0,h);for(g.global||(g=Vf(g.source,(wa.exec(g)||"")+"g")),g.lastIndex=0;j=g.exec(l);)k=j.index;i=i.slice(0,null==k?h:k)}}else if(a.indexOf(g,h)!=h){var m=i.lastIndexOf(g);m>-1&&(i=i.slice(0,m))}return i+f}function yf(a){return a=e(a),a&&qa.test(a)?a.replace(oa,u):a}function zf(a,b,c){return c&&zc(a,b,c)&&(b=null),a=e(a),a.match(b||Ga)||[]}function Af(){var a=arguments.length,b=arguments[0];try{for(var c=Of(a?a-1:0);--a>0;)c[a-1]=arguments[a];return b.apply(w,c)}catch(d){return Ae(d)?d:new Qf(d)}}function Bf(a,b,c){return c&&zc(a,b,c)&&(b=null),o(a)?Ef(a):qb(a,b)}function Cf(a){return function(){return a}}function Df(a){return a}function Ef(a){return Mb(rb(a,!0))}function Ff(a,b){return Nb(a+"",rb(b,!0))}function Gf(a,b,c){if(null==c){var d=Be(b),e=d&&ch(b),f=e&&e.length&&Gb(b,e);(f?f.length:d)||(f=!1,c=b,b=a,a=this)}f||(f=Gb(b,ch(b)));var g=!0,h=-1,i=_g(a),j=f.length;c===!1?g=!1:Be(c)&&"chain"in c&&(g=c.chain);for(;++h<j;){var k=f[h],l=b[k];a[k]=l,i&&(a.prototype[k]=function(b){return function(){var c=this.__chain__;if(g||c){var d=a(this.__wrapped__);return(d.__actions__=_a(this.__actions__)).push({func:b,args:arguments,thisArg:a}),d.__chain__=c,d}var e=[this.value()];return mg.apply(e,arguments),b.apply(a,e)}}(l))}return a}function Hf(){return p._=eg,this}function If(){}function Jf(a){return Qb(a+"")}function Kf(a){return function(b){return null==a?w:a[b]}}function Lf(a,b,c){c&&zc(a,b,c)&&(b=c=null),a=+a||0,c=null==c?1:+c||0,null==b?(b=a,a=0):b=+b||0;for(var d=-1,e=yg(ig((b-a)/(c||1)),0),f=Of(e);++d<e;)f[d]=a,a+=c;return f}function Mf(a,b,c){if(a=+a,1>a||!wg(a))return[];var d=-1,e=Of(zg(a,Gg));for(b=_b(b,c,1);++d<a;)Gg>d?e[d]=b(d):b(d);return e}function Nf(a){var b=++cg;return e(a)+b}p=p?Xa.defaults(Sa.Object(),p,Xa.pick(Sa,Ia)):Sa;var Of=p.Array,Pf=p.Date,Qf=p.Error,Rf=p.Function,Sf=p.Math,Tf=p.Number,Uf=p.Object,Vf=p.RegExp,Wf=p.String,Xf=p.TypeError,Yf=Of.prototype,Zf=Uf.prototype,$f=($f=p.window)&&$f.document,_f=Rf.prototype.toString,ag=Qb("length"),bg=Zf.hasOwnProperty,cg=0,dg=Zf.toString,eg=p._,fg=Vf("^"+mf(dg).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),gg=Ee(gg=p.ArrayBuffer)&&gg,hg=Ee(hg=gg&&new gg(0).slice)&&hg,ig=Sf.ceil,jg=p.clearTimeout,kg=Sf.floor,lg=Ee(lg=Uf.getPrototypeOf)&&lg,mg=Yf.push,ng=Zf.propertyIsEnumerable,og=Ee(og=p.Set)&&og,pg=p.setTimeout,qg=Yf.splice,rg=Ee(rg=p.Uint8Array)&&rg,sg=Ee(sg=p.WeakMap)&&sg,tg=function(){try{var a=Ee(a=p.Float64Array)&&a,b=new a(new gg(10),0,1)&&a}catch(c){}return b}(),ug=Ee(ug=Of.isArray)&&ug,vg=Ee(vg=Uf.create)&&vg,wg=p.isFinite,xg=Ee(xg=Uf.keys)&&xg,yg=Sf.max,zg=Sf.min,Ag=Ee(Ag=Pf.now)&&Ag,Bg=Ee(Bg=Tf.isFinite)&&Bg,Cg=p.parseInt,Dg=Sf.random,Eg=Tf.NEGATIVE_INFINITY,Fg=Tf.POSITIVE_INFINITY,Gg=Sf.pow(2,32)-1,Hg=Gg-1,Ig=Gg>>>1,Jg=tg?tg.BYTES_PER_ELEMENT:0,Kg=Sf.pow(2,53)-1,Lg=sg&&new sg,Mg=W.support={};!function(a){Mg.funcDecomp=!Ee(p.WinRTError)&&Ea.test(v),Mg.funcNames="string"==typeof Rf.name;try{Mg.dom=11===$f.createDocumentFragment().nodeType}catch(b){Mg.dom=!1}try{Mg.nonEnumArgs=!ng.call(arguments,1)}catch(b){Mg.nonEnumArgs=!0}}(0,0),W.templateSettings={escape:sa,evaluate:ta,interpolate:ua,variable:"",imports:{_:W}};var Ng=function(){function a(){}return function(b){if(Be(b)){a.prototype=b;var c=new a;a.prototype=null}return c||p.Object()}}(),Og=Lg?function(a,b){return Lg.set(a,b),a}:Df;hg||(ac=gg&&rg?function(a){var b=a.byteLength,c=tg?kg(b/Jg):0,d=c*Jg,e=new gg(b);if(c){var f=new tg(e,0,c);f.set(new tg(a,0,c))}return b!=d&&(f=new rg(e,d),f.set(new rg(a,d))),e}:Cf(null));var Pg=vg&&og?function(a){return new Ya(a)}:Cf(null),Qg=Lg?function(a){return Lg.get(a)}:If,Rg=function(){var a=0,b=0;return function(c,d){var e=Yg(),f=K-(e-b);if(b=e,f>0){if(++a>=J)return c}else a=0;return Og(c,d)}}(),Sg=dc(function(a,b,c){bg.call(a,c)?++a[c]:a[c]=1}),Tg=dc(function(a,b,c){bg.call(a,c)?a[c].push(b):a[c]=[b]}),Ug=dc(function(a,b,c){a[c]=b}),Vg=ic(fb),Wg=ic(gb,!0),Xg=dc(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),Yg=Ag||function(){return(new Pf).getTime()},Zg=ug||function(a){return o(a)&&Ac(a.length)&&dg.call(a)==R||!1};Mg.dom||(xe=function(a){return a&&1===a.nodeType&&o(a)&&!ah(a)||!1});var $g=Bg||function(a){return"number"==typeof a&&wg(a)},_g=c(/x/)||rg&&!c(rg)?function(a){return dg.call(a)==V}:c,ah=lg?function(a){if(!a||dg.call(a)!=Y)return!1;var b=a.valueOf,c=Ee(b)&&(c=lg(b))&&lg(c);return c?a==c||lg(a)==c:Gc(a)}:Gc,bh=ec(mb),ch=xg?function(a){if(a)var b=a.constructor,c=a.length;return"function"==typeof b&&b.prototype===a||"function"!=typeof a&&c&&Ac(c)?Hc(a):Be(a)?xg(a):[]}:Hc,dh=ec(Ob),eh=gc(function(a,b,c){return b=b.toLowerCase(),a+(c?b.charAt(0).toUpperCase()+b.slice(1):b)}),fh=gc(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()});8!=Cg(Ha+"08")&&(qf=function(a,b,c){return(c?zc(a,b,c):null==b)?b=0:b&&(b=+b),a=uf(a),Cg(a,b||(ya.test(a)?16:10))});var gh=gc(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()}),hh=gc(function(a,b,c){return a+(c?" ":"")+(b.charAt(0).toUpperCase()+b.slice(1))});return W.prototype=$.prototype,aa.prototype=Ng($.prototype),aa.prototype.constructor=aa,Na.prototype=Ng($.prototype),Na.prototype.constructor=Na,Ra.prototype["delete"]=Ta,Ra.prototype.get=Ua,Ra.prototype.has=Va,Ra.prototype.set=Wa,Ya.prototype.push=$a,je.Cache=Ra,W.after=Yd,W.ary=Zd,W.assign=bh,W.at=Cd,W.before=$d,W.bind=_d,W.bindAll=ae,W.bindKey=be,W.callback=Bf,W.chain=td,W.chunk=Lc,W.compact=Mc,W.constant=Cf,W.countBy=Sg,W.create=Ne,W.curry=ce,W.curryRight=de,W.debounce=ee,W.defaults=Oe,W.defer=fe,W.delay=ge,W.difference=Nc,W.drop=Oc,W.dropRight=Pc,W.dropRightWhile=Qc,W.dropWhile=Rc,W.fill=Sc,W.filter=Ed,W.flatten=Wc,W.flattenDeep=Xc,W.flow=he,W.flowRight=ie,W.forEach=Id,W.forEachRight=Jd,W.forIn=Re,W.forInRight=Se,W.forOwn=Te,W.forOwnRight=Ue,W.functions=Ve,W.groupBy=Tg,W.indexBy=Ug,W.initial=Zc,W.intersection=$c,W.invert=Xe,W.invoke=Ld,W.keys=ch,W.keysIn=Ye,W.map=Md,W.mapValues=Ze,W.matches=Ef,W.matchesProperty=Ff,W.memoize=je,W.merge=dh,W.mixin=Gf,W.negate=ke,W.omit=$e,W.once=le,W.pairs=_e,W.partial=me,W.partialRight=ne,W.partition=Xg,W.pick=af,W.pluck=Nd,W.property=Jf,W.propertyOf=Kf,W.pull=bd,W.pullAt=cd,W.range=Lf,W.rearg=oe,W.reject=Qd,W.remove=dd,W.rest=ed,W.shuffle=Sd,W.slice=fd,W.sortBy=Vd,W.sortByAll=Wd,W.spread=pe,W.take=id,W.takeRight=jd,W.takeRightWhile=kd,W.takeWhile=ld,W.tap=ud,W.throttle=qe,W.thru=vd,W.times=Mf,W.toArray=Le,W.toPlainObject=Me,W.transform=cf,W.union=md,W.uniq=nd,W.unzip=od,W.values=df,W.valuesIn=ef,W.where=Xd,W.without=pd,W.wrap=re,W.xor=qd,W.zip=rd,W.zipObject=sd,W.backflow=ie,W.collect=Md,W.compose=ie,W.each=Id,W.eachRight=Jd,W.extend=bh,W.iteratee=Bf,W.methods=Ve,W.object=sd,W.select=Ed,W.tail=ed,W.unique=nd,Gf(W,W),W.attempt=Af,W.camelCase=eh,W.capitalize=hf,W.clone=se,W.cloneDeep=te,W.deburr=jf,W.endsWith=kf,W.escape=lf,W.escapeRegExp=mf,W.every=Dd,W.find=Fd,W.findIndex=Tc,W.findKey=Pe,W.findLast=Gd,W.findLastIndex=Uc,W.findLastKey=Qe,W.findWhere=Hd,W.first=Vc,W.has=We,W.identity=Df,W.includes=Kd,W.indexOf=Yc,W.inRange=ff,W.isArguments=ue,W.isArray=Zg,W.isBoolean=ve,W.isDate=we,W.isElement=xe,W.isEmpty=ye,W.isEqual=ze,W.isError=Ae,W.isFinite=$g,W.isFunction=_g,W.isMatch=Ce,W.isNaN=De,W.isNative=Ee,W.isNull=Fe,W.isNumber=Ge,W.isObject=Be,W.isPlainObject=ah,W.isRegExp=He,W.isString=Ie,W.isTypedArray=Je,W.isUndefined=Ke,W.kebabCase=fh,W.last=_c,W.lastIndexOf=ad,W.max=Vg,W.min=Wg,W.noConflict=Hf,W.noop=If,W.now=Yg,W.pad=nf,W.padLeft=of,W.padRight=pf,W.parseInt=qf,W.random=gf,W.reduce=Od,W.reduceRight=Pd,W.repeat=rf,W.result=bf,W.runInContext=v,W.size=Td,W.snakeCase=gh,W.some=Ud,W.sortedIndex=gd,W.sortedLastIndex=hd,W.startCase=hh,W.startsWith=sf,W.template=tf,W.trim=uf,W.trimLeft=vf,W.trimRight=wf,W.trunc=xf,W.unescape=yf,W.uniqueId=Nf,W.words=zf,W.all=Dd,W.any=Ud,W.contains=Kd,W.detect=Fd,W.foldl=Od,W.foldr=Pd,W.head=Vc,W.include=Kd,W.inject=Od,Gf(W,function(){var a={};return Eb(W,function(b,c){W.prototype[c]||(a[c]=b)}),a}(),!1),W.sample=Rd,W.prototype.sample=function(a){return this.__chain__||null!=a?this.thru(function(b){return Rd(b,a)}):Rd(this.value())},W.VERSION=x,ab(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){W[a].placeholder=W}),ab(["filter","map","takeWhile"],function(a,b){var c=b==L||b==N;Na.prototype[a]=function(a,d){var e=this.clone(),f=e.__iteratees__||(e.__iteratees__=[]);return e.__filtered__=e.__filtered__||c,f.push({iteratee:rc(a,d,3),type:b}),e}}),ab(["drop","take"],function(a,b){var c="__"+a+"Count__",d=a+"While";Na.prototype[a]=function(d){d=null==d?1:yg(kg(d)||0,0);var e=this.clone();if(e.__filtered__){var f=e[c];e[c]=b?zg(f,d):f+d}else{var g=e.__views__||(e.__views__=[]);g.push({size:d,type:a+(e.__dir__<0?"Right":"")})}return e},Na.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()},Na.prototype[a+"RightWhile"]=function(a,b){return this.reverse()[d](a,b).reverse()}}),ab(["first","last"],function(a,b){var c="take"+(b?"Right":"");Na.prototype[a]=function(){return this[c](1).value()[0]}}),ab(["initial","rest"],function(a,b){var c="drop"+(b?"":"Right");Na.prototype[a]=function(){return this[c](1)}}),ab(["pluck","where"],function(a,b){var c=b?"filter":"map",d=b?Mb:Qb;Na.prototype[a]=function(a){return this[c](d(a))}}),Na.prototype.compact=function(){return this.filter(Df)},Na.prototype.dropWhile=function(a,b){var c,d,e=this.__dir__<0;return a=rc(a,b,3),this.filter(function(b,f,g){return c=c&&(e?d>f:f>d),d=f,c||(c=!a(b,f,g))})},Na.prototype.reject=function(a,b){return a=rc(a,b,3),this.filter(function(b,c,d){return!a(b,c,d)})},Na.prototype.slice=function(a,b){a=null==a?0:+a||0;var c=0>a?this.takeRight(-a):this.drop(a);return"undefined"!=typeof b&&(b=+b||0,c=0>b?c.dropRight(-b):c.take(b-a)),c},Na.prototype.toArray=function(){return this.drop(0)},Eb(Na.prototype,function(a,b){var c=W[b],d=/^(?:first|last)$/.test(b);W.prototype[b]=function(){var b=this.__wrapped__,e=arguments,f=this.__chain__,g=!!this.__actions__.length,h=b instanceof Na,i=h&&!g;if(d&&!f)return i?a.call(b):c.call(W,this.value());var j=function(a){var b=[a];return mg.apply(b,e),c.apply(W,b)};if(h||Zg(b)){var k=i?b:new Na(this),l=a.apply(k,e);if(!d&&(g||l.__actions__)){var m=l.__actions__||(l.__actions__=[]);m.push({func:vd,args:[j],thisArg:W})}return new aa(l,f)}return this.thru(j)}}),ab(["concat","join","pop","push","shift","sort","splice","unshift"],function(a){var b=Yf[a],c=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",d=/^(?:join|pop|shift)$/.test(a);W.prototype[a]=function(){var a=arguments;return d&&!this.__chain__?b.apply(this.value(),a):this[c](function(c){return b.apply(c,a)})}}),Na.prototype.clone=Oa,Na.prototype.reverse=Pa,Na.prototype.value=Qa,W.prototype.chain=wd,W.prototype.commit=xd,W.prototype.plant=yd,W.prototype.reverse=zd,W.prototype.toString=Ad,W.prototype.run=W.prototype.toJSON=W.prototype.valueOf=W.prototype.value=Bd,W.prototype.collect=W.prototype.map,W.prototype.head=W.prototype.first,W.prototype.select=W.prototype.filter,W.prototype.tail=W.prototype.rest,W}var w,x="3.3.1",y=1,z=2,A=4,B=8,C=16,D=32,E=64,F=128,G=256,H=30,I="...",J=150,K=16,L=0,M=1,N=2,O="Expected a function",P="__lodash_placeholder__",Q="[object Arguments]",R="[object Array]",S="[object Boolean]",T="[object Date]",U="[object Error]",V="[object Function]",W="[object Map]",X="[object Number]",Y="[object Object]",Z="[object RegExp]",$="[object Set]",_="[object String]",aa="[object WeakMap]",ba="[object ArrayBuffer]",ca="[object Float32Array]",da="[object Float64Array]",ea="[object Int8Array]",fa="[object Int16Array]",ga="[object Int32Array]",ha="[object Uint8Array]",ia="[object Uint8ClampedArray]",ja="[object Uint16Array]",ka="[object Uint32Array]",la=/\b__p \+= '';/g,ma=/\b(__p \+=) '' \+/g,na=/(__e\(.*?\)|\b__t\)) \+\n'';/g,oa=/&(?:amp|lt|gt|quot|#39|#96);/g,pa=/[&<>"'`]/g,qa=RegExp(oa.source),ra=RegExp(pa.source),sa=/<%-([\s\S]+?)%>/g,ta=/<%([\s\S]+?)%>/g,ua=/<%=([\s\S]+?)%>/g,va=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,wa=/\w*$/,xa=/^\s*function[ \n\r\t]+\w/,ya=/^0[xX]/,za=/^\[object .+?Constructor\]$/,Aa=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ba=/($^)/,Ca=/[.*+?^${}()|[\]\/\\]/g,Da=RegExp(Ca.source),Ea=/\bthis\b/,Fa=/['\n\r\u2028\u2029\\]/g,Ga=function(){var a="[A-Z\\xc0-\\xd6\\xd8-\\xde]",b="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(a+"{2,}(?="+a+b+")|"+a+"?"+b+"|"+a+"+|[0-9]+","g")}(),Ha=" 	\f \ufeff\n\r\u2028\u2029 ᠎             　",Ia=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","document","isFinite","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","window","WinRTError"],Ja=-1,Ka={};Ka[ca]=Ka[da]=Ka[ea]=Ka[fa]=Ka[ga]=Ka[ha]=Ka[ia]=Ka[ja]=Ka[ka]=!0,Ka[Q]=Ka[R]=Ka[ba]=Ka[S]=Ka[T]=Ka[U]=Ka[V]=Ka[W]=Ka[X]=Ka[Y]=Ka[Z]=Ka[$]=Ka[_]=Ka[aa]=!1;var La={};La[Q]=La[R]=La[ba]=La[S]=La[T]=La[ca]=La[da]=La[ea]=La[fa]=La[ga]=La[X]=La[Y]=La[Z]=La[_]=La[ha]=La[ia]=La[ja]=La[ka]=!0,La[U]=La[V]=La[W]=La[$]=La[aa]=!1;var Ma={leading:!1,maxWait:0,trailing:!1},Na={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Oa={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Pa={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Qa={"function":!0,object:!0},Ra={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Sa=Qa[typeof window]&&window!==(this&&this.window)?window:this,Ta=Qa[typeof exports]&&exports&&!exports.nodeType&&exports,Ua=Qa[typeof module]&&module&&!module.nodeType&&module,Va=Ta&&Ua&&"object"==typeof global&&global;!Va||Va.global!==Va&&Va.window!==Va&&Va.self!==Va||(Sa=Va);var Wa=Ua&&Ua.exports===Ta&&Ta,Xa=v();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Sa._=Xa,define(function(){return Xa})):Ta&&Ua?Wa?(Ua.exports=Xa)._=Xa:Ta._=Xa:Sa._=Xa}.call(this),angular.module("ui.indeterminate",[]).directive("uiIndeterminate",[function(){"use strict";return{compile:function(a,b){return b.type&&"checkbox"===b.type.toLowerCase()?function(a,b,c){a.$watch(c.uiIndeterminate,function(a){b[0].indeterminate=!!a})}:angular.noop}}}]);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function a(b,c,d){function e(g,h){var i=window.define;if(window.define=void 0,!c[g]){if(!b[g]){var j="function"==typeof require&&require;if(!h&&j)return j(g,!0);if(f)return f(g,!0);var k=new Error("Cannot find module '"+g+"'");throw k.code="MODULE_NOT_FOUND",k}var l=c[g]={exports:{}};b[g][0].call(l.exports,function(a){var c=b[g][1][a];return e(c||a)},l,l.exports,a,b,c,d)}return window.define=i,c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){!function(a,b){"use strict";function c(a,b,c){if(!a)throw ia("areq","Argument '{0}' is {1}",b||"?",c||"required");return a}function d(a,b){return a||b?a?b?(Q(a)&&(a=a.join(" ")),Q(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function e(a){var b={};return a&&(a.to||a.from)&&(b.to=a.to,b.from=a.from),b}function f(a,b,c){var d="";return a=Q(a)?a:a&&R(a)&&a.length?a.split(/\s+/):[],P(a,function(a,e){a&&a.length>0&&(d+=e>0?" ":"",d+=c?b+a:a+b)}),d}function g(a,b){var c=a.indexOf(b);b>=0&&a.splice(c,1)}function h(a){if(a instanceof O)switch(a.length){case 0:return[];case 1:if(a[0].nodeType===X)return a;break;default:return O(i(a))}return a.nodeType===X?O(a):void 0}function i(a){if(!a[0])return a;for(var b=0;b<a.length;b++){var c=a[b];if(c.nodeType==X)return c}}function j(a,b,c){P(b,function(b){a.addClass(b,c)})}function k(a,b,c){P(b,function(b){a.removeClass(b,c)})}function l(a){return function(b,c){c.addClass&&(j(a,b,c.addClass),c.addClass=null),c.removeClass&&(k(a,b,c.removeClass),c.removeClass=null)}}function m(a){if(a=a||{},!a.$$prepared){var b=a.domOperation||L;a.domOperation=function(){a.$$domOperationFired=!0,b(),b=L},a.$$prepared=!0}return a}function n(a,b){o(a,b),p(a,b)}function o(a,b){b.from&&(a.css(b.from),b.from=null)}function p(a,b){b.to&&(a.css(b.to),b.to=null)}function q(a,b,c){var d=b.options||{},e=c.options||{},f=(d.addClass||"")+" "+(e.addClass||""),g=(d.removeClass||"")+" "+(e.removeClass||""),h=r(a.attr("class"),f,g);e.preparationClasses&&(d.preparationClasses=y(e.preparationClasses,d.preparationClasses),delete e.preparationClasses);var i=d.domOperation!==L?d.domOperation:null;return N(d,e),i&&(d.domOperation=i),h.addClass?d.addClass=h.addClass:d.addClass=null,h.removeClass?d.removeClass=h.removeClass:d.removeClass=null,b.addClass=d.addClass,b.removeClass=d.removeClass,d}function r(a,b,c){function d(a){R(a)&&(a=a.split(" "));var b={};return P(a,function(a){a.length&&(b[a]=!0)}),b}var e={};a=d(a),b=d(b),P(b,function(a,b){e[b]=1}),c=d(c),P(c,function(a,b){e[b]=1===e[b]?null:-1});var f={addClass:"",removeClass:""};return P(e,function(b,c){var d,e;1===b?(d="addClass",e=!a[c]):-1===b&&(d="removeClass",e=a[c]),e&&(f[d].length&&(f[d]+=" "),f[d]+=c)}),f}function s(a){return a instanceof b.element?a[0]:a}function t(a,b,c){var d="";b&&(d=f(b,$,!0)),c.addClass&&(d=y(d,f(c.addClass,Y))),c.removeClass&&(d=y(d,f(c.removeClass,Z))),d.length&&(c.preparationClasses=d,a.addClass(d))}function u(a,b){b.preparationClasses&&(a.removeClass(b.preparationClasses),b.preparationClasses=null),b.activeClasses&&(a.removeClass(b.activeClasses),b.activeClasses=null)}function v(a,b){var c=b?"-"+b+"s":"";return x(a,[ga,c]),[ga,c]}function w(a,b){var c=b?"paused":"",d=J+da;return x(a,[d,c]),[d,c]}function x(a,b){var c=b[0],d=b[1];a.style[c]=d}function y(a,b){return a?b?a+" "+b:a:b}function z(a){return[fa,a+"s"]}function A(a,b){return[b?ea:ga,a+"s"]}function B(a,b,c){var d=Object.create(null),e=a.getComputedStyle(b)||{};return P(c,function(a,b){var c=e[a];if(c){var f=c.charAt(0);("-"===f||"+"===f||f>=0)&&(c=C(c)),0===c&&(c=null),d[b]=c}}),d}function C(a){var b=0,c=a.split(/\s*,\s*/);return P(c,function(a){"s"==a.charAt(a.length-1)&&(a=a.substring(0,a.length-1)),a=parseFloat(a)||0,b=b?Math.max(a,b):a}),b}function D(a){return 0===a||null!=a}function E(a,b){var c=H,d=a+"s";return b?c+=ba:d+=" linear all",[c,d]}function F(){var a=Object.create(null);return{flush:function(){a=Object.create(null)},count:function(b){var c=a[b];return c?c.total:0},get:function(b){var c=a[b];return c&&c.value},put:function(b,c){a[b]?a[b].total++:a[b]={total:1,value:c}}}}function G(a,b,c){P(c,function(c){a[c]=U(a[c])?a[c]:b.style.getPropertyValue(c)})}var H,I,J,K,L=b.noop,M=b.copy,N=b.extend,O=b.element,P=b.forEach,Q=b.isArray,R=b.isString,S=b.isObject,T=b.isUndefined,U=b.isDefined,V=b.isFunction,W=b.isElement,X=1,Y="-add",Z="-remove",$="ng-",_="ng-animate",aa="$$ngAnimateChildren";T(a.ontransitionend)&&U(a.onwebkittransitionend)?(H="WebkitTransition",I="webkitTransitionEnd transitionend"):(H="transition",I="transitionend"),T(a.onanimationend)&&U(a.onwebkitanimationend)?(J="WebkitAnimation",K="webkitAnimationEnd animationend"):(J="animation",K="animationend");var ba="Duration",ca="TimingFunction",da="PlayState",ea=J+"Delay",fa=J+ba,ga=H+"Delay",ha=H+ba,ia=b.$$minErr("ng"),ja=["$$rAF",function(a){function b(a){d=d.concat(a),c()}function c(){if(d.length){for(var b=d.shift(),f=0;f<b.length;f++)b[f]();e||a(function(){e||c()})}}var d,e;return d=b.queue=[],b.waitUntilQuiet=function(b){e&&e(),e=a(function(){e=null,b(),c()})},b}],ka=["$interpolate",function(a){return{link:function(c,d,e){function f(a){a="on"===a||"true"===a,d.data(aa,a)}var g=e.ngAnimateChildren;b.isString(g)&&0===g.length?d.data(aa,!0):(f(a(g)(c)),e.$observe("ngAnimateChildren",f))}}}],la="$$animateCss",ma=1e3,na=3,oa=1.5,pa={transitionDuration:ha,transitionDelay:ga,transitionProperty:H+"Property",animationDuration:fa,animationDelay:ea,animationIterationCount:J+"IterationCount"},qa={transitionDuration:ha,transitionDelay:ga,animationDuration:fa,animationDelay:ea},ra=["$animateProvider",function(a){var b=F(),c=F();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(a,d,h,i,j,k,q,r){function t(a,b){var c="$$ngAnimateParentKey",d=a.parentNode;return(d[c]||(d[c]=++O))+"-"+a.getAttribute("class")+"-"+b}function u(c,d,e,f){var g=b.get(e);return g||(g=B(a,c,f),"infinite"===g.animationIterationCount&&(g.animationIterationCount=1)),b.put(e,g),g}function y(e,g,h,i){var j;if(b.count(h)>0&&!(j=c.get(h))){var k=f(g,"-stagger");d.addClass(e,k),j=B(a,e,i),j.animationDuration=Math.max(j.animationDuration,0),j.transitionDuration=Math.max(j.transitionDuration,0),d.removeClass(e,k),c.put(h,j)}return j||{}}function C(a){R.push(a),q.waitUntilQuiet(function(){b.flush(),c.flush();for(var a=j(),d=0;d<R.length;d++)R[d](a);R.length=0})}function F(a,b,c){var d=u(a,b,c,pa),e=d.animationDelay,f=d.transitionDelay;return d.maxDelay=e&&f?Math.max(e,f):e||f,d.maxDuration=Math.max(d.animationDuration*d.animationIterationCount,d.transitionDuration),d}var N=l(d),O=0,R=[];return function(a,c){function j(){q()}function l(){q(!0)}function q(b){if(!(V||X&&W)){V=!0,W=!1,S.$$skipPreparationClasses||d.removeClass(a,ua),d.removeClass(a,wa),w(U,!1),v(U,!1),P(ha,function(a){U.style[a[0]]=""}),N(a,S),n(a,S),Object.keys(T).length&&P(T,function(a,b){a?U.style.setProperty(b,a):U.style.removeProperty(b)}),S.onDone&&S.onDone(),ka&&ka.length&&a.off(ka.join(" "),O);var c=a.data(la);c&&(i.cancel(c[0].timer),a.removeData(la)),_&&_.complete(!b)}}function u(a){Ja.blockTransition&&v(U,a),Ja.blockKeyframeAnimation&&w(U,!!a)}function B(){return _=new h({end:j,cancel:l}),C(L),q(),{$$willAnimate:!1,start:function(){return _},end:j}}function O(a){a.stopPropagation();var b=a.originalEvent||a,c=b.$manualTimeStamp||Date.now(),d=parseFloat(b.elapsedTime.toFixed(na));Math.max(c-ga,0)>=da&&d>=ea&&(X=!0,q())}function R(){function b(){if(!V){if(u(!1),P(ha,function(a){var b=a[0],c=a[1];U.style[b]=c}),N(a,S),d.addClass(a,wa),Ja.recalculateTimingStyles){if(va=U.className+" "+ua,ya=t(U,va),Ha=F(U,va,ya),Ia=Ha.maxDelay,ba=Math.max(Ia,0),0===(ea=Ha.maxDuration))return void q();Ja.hasTransitions=Ha.transitionDuration>0,Ja.hasAnimations=Ha.animationDuration>0}if(Ja.applyAnimationDelay&&(Ia="boolean"!=typeof S.delay&&D(S.delay)?parseFloat(S.delay):Ia,ba=Math.max(Ia,0),Ha.animationDelay=Ia,Ka=A(Ia,!0),ha.push(Ka),U.style[Ka[0]]=Ka[1]),da=ba*ma,fa=ea*ma,S.easing){var b,e=S.easing;Ja.hasTransitions&&(b=H+ca,ha.push([b,e]),U.style[b]=e),Ja.hasAnimations&&(b=J+ca,ha.push([b,e]),U.style[b]=e)}Ha.transitionDuration&&ka.push(I),Ha.animationDuration&&ka.push(K),ga=Date.now();var f=da+oa*fa,g=ga+f,h=a.data(la)||[],j=!0;if(h.length){var k=h[0];j=g>k.expectedEndTime,j?i.cancel(k.timer):h.push(q)}if(j){var l=i(c,f,!1);h[0]={timer:l,expectedEndTime:g},h.push(q),a.data(la,h)}ka.length&&a.on(ka.join(" "),O),S.to&&(S.cleanupStyles&&G(T,U,Object.keys(S.to)),p(a,S))}}function c(){var b=a.data(la);if(b){for(var c=1;c<b.length;c++)b[c]();a.removeData(la)}}if(!V){if(!U.parentNode)return void q();var e=function(a){if(X)W&&a&&(W=!1,q());else if(W=!a,Ha.animationDuration){var b=w(U,W);W?ha.push(b):g(ha,b)}},f=Fa>0&&(Ha.transitionDuration&&0===za.transitionDuration||Ha.animationDuration&&0===za.animationDuration)&&Math.max(za.animationDelay,za.transitionDelay);f?i(b,Math.floor(f*Fa*ma),!1):b(),aa.resume=function(){e(!0)},aa.pause=function(){e(!1)}}}var S=c||{};S.$$prepared||(S=m(M(S)));var T={},U=s(a);if(!U||!U.parentNode||!r.enabled())return B();var V,W,X,_,aa,ba,da,ea,fa,ga,ha=[],ia=a.attr("class"),ja=e(S),ka=[];if(0===S.duration||!k.animations&&!k.transitions)return B();var pa=S.event&&Q(S.event)?S.event.join(" "):S.event,ra=pa&&S.structural,sa="",ta="";ra?sa=f(pa,$,!0):pa&&(sa=pa),S.addClass&&(ta+=f(S.addClass,Y)),S.removeClass&&(ta.length&&(ta+=" "),ta+=f(S.removeClass,Z)),S.applyClassesEarly&&ta.length&&N(a,S);var ua=[sa,ta].join(" ").trim(),va=ia+" "+ua,wa=f(ua,"-active"),xa=ja.to&&Object.keys(ja.to).length>0;if(!((S.keyframeStyle||"").length>0||xa||ua))return B();var ya,za;if(S.stagger>0){var Aa=parseFloat(S.stagger);za={transitionDelay:Aa,animationDelay:Aa,transitionDuration:0,animationDuration:0}}else ya=t(U,va),za=y(U,ua,ya,qa);S.$$skipPreparationClasses||d.addClass(a,ua);var Ba;if(S.transitionStyle){var Ca=[H,S.transitionStyle];x(U,Ca),ha.push(Ca)}if(S.duration>=0){Ba=U.style[H].length>0;var Da=E(S.duration,Ba);x(U,Da),ha.push(Da)}if(S.keyframeStyle){var Ea=[J,S.keyframeStyle];x(U,Ea),ha.push(Ea)}var Fa=za?S.staggerIndex>=0?S.staggerIndex:b.count(ya):0,Ga=0===Fa;Ga&&!S.skipBlocking&&v(U,9999);var Ha=F(U,va,ya),Ia=Ha.maxDelay;ba=Math.max(Ia,0),ea=Ha.maxDuration;var Ja={};if(Ja.hasTransitions=Ha.transitionDuration>0,Ja.hasAnimations=Ha.animationDuration>0,Ja.hasTransitionAll=Ja.hasTransitions&&"all"==Ha.transitionProperty,Ja.applyTransitionDuration=xa&&(Ja.hasTransitions&&!Ja.hasTransitionAll||Ja.hasAnimations&&!Ja.hasTransitions),Ja.applyAnimationDuration=S.duration&&Ja.hasAnimations,Ja.applyTransitionDelay=D(S.delay)&&(Ja.applyTransitionDuration||Ja.hasTransitions),Ja.applyAnimationDelay=D(S.delay)&&Ja.hasAnimations,Ja.recalculateTimingStyles=ta.length>0,(Ja.applyTransitionDuration||Ja.applyAnimationDuration)&&(ea=S.duration?parseFloat(S.duration):ea,Ja.applyTransitionDuration&&(Ja.hasTransitions=!0,Ha.transitionDuration=ea,Ba=U.style[H+"Property"].length>0,ha.push(E(ea,Ba))),Ja.applyAnimationDuration&&(Ja.hasAnimations=!0,Ha.animationDuration=ea,ha.push(z(ea)))),0===ea&&!Ja.recalculateTimingStyles)return B();if(null!=S.delay){var Ka;"boolean"!=typeof S.delay&&(Ka=parseFloat(S.delay),ba=Math.max(Ka,0)),Ja.applyTransitionDelay&&ha.push(A(Ka)),Ja.applyAnimationDelay&&ha.push(A(Ka,!0))}return null==S.duration&&Ha.transitionDuration>0&&(Ja.recalculateTimingStyles=Ja.recalculateTimingStyles||Ga),da=ba*ma,fa=ea*ma,S.skipBlocking||(Ja.blockTransition=Ha.transitionDuration>0,Ja.blockKeyframeAnimation=Ha.animationDuration>0&&za.animationDelay>0&&0===za.animationDuration),S.from&&(S.cleanupStyles&&G(T,U,Object.keys(S.from)),o(a,S)),Ja.blockTransition||Ja.blockKeyframeAnimation?u(ea):S.skipBlocking||v(U,!1),{$$willAnimate:!0,end:j,start:function(){return V?void 0:(aa={end:j,cancel:l,resume:null,pause:null},_=new h(aa),C(R),_)}}}}]}],sa=["$$animationProvider",function(a){function b(a){return a.parentNode&&11===a.parentNode.nodeType}a.drivers.push("$$animateCssDriver");var c="ng-animate-shim",d="ng-anchor-out";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(a,e,f,g,h,i,j){function k(a){return a.replace(/\bng-\S+\b/g,"")}function m(a,b){return R(a)&&(a=a.split(" ")),R(b)&&(b=b.split(" ")),a.filter(function(a){return-1===b.indexOf(a)}).join(" ")}function n(b,e,g){function h(a){var b={},c=s(a).getBoundingClientRect();return P(["width","height","top","left"],function(a){var d=c[a];switch(a){case"top":d+=q.scrollTop;break;case"left":d+=q.scrollLeft}b[a]=Math.floor(d)+"px"}),b}function i(a){return a.attr("class")||""}function j(){var b=k(i(g)),c=m(b,o),e=m(o,b),f=a(n,{to:h(g),addClass:"ng-anchor-in "+c,removeClass:d+" "+e,delay:!0});return f.$$willAnimate?f:null}function l(){n.remove(),e.removeClass(c),g.removeClass(c)}var n=O(s(e).cloneNode(!0)),o=k(i(n));e.addClass(c),g.addClass(c),n.addClass("ng-anchor"),t.append(n);var p,r=function(){var b=a(n,{addClass:d,delay:!0,from:h(e)});return b.$$willAnimate?b:null}();if(!r&&!(p=j()))return l();var u=r||p;return{start:function(){function a(){c&&c.end()}var b,c=u.start();return c.done(function(){return c=null,!p&&(p=j())?(c=p.start(),c.done(function(){c=null,l(),b.complete()}),c):(l(),void b.complete())}),b=new f({end:a,cancel:a})}}}function o(a,b,c,d){var e=p(a),g=p(b),h=[];return P(d,function(a){var b=a.out,d=a["in"],e=n(c,b,d);e&&h.push(e)}),e||g||0!==h.length?{start:function(){function a(){P(b,function(a){a.end()})}var b=[];e&&b.push(e.start()),g&&b.push(g.start()),P(h,function(a){b.push(a.start())});var c=new f({end:a,cancel:a});return f.all(b,function(a){c.complete(a)}),c}}:void 0}function p(b){var c=b.element,d=b.options||{};b.structural&&(d.event=b.event,d.structural=!0,d.applyClassesEarly=!0,"leave"===b.event&&(d.onDone=d.domOperation)),
d.preparationClasses&&(d.event=y(d.event,d.preparationClasses));var e=a(c,d);return e.$$willAnimate?e:null}if(!h.animations&&!h.transitions)return L;var q=j[0].body,r=s(g),t=O(b(r)||q.contains(r)?r:q);return l(i),function(a){return a.from&&a.to?o(a.from,a.to,a.classes,a.anchors):p(a)}}]}],ta=["$animateProvider",function(a){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(b,c,d){function e(c){c=Q(c)?c:c.split(" ");for(var d=[],e={},f=0;f<c.length;f++){var g=c[f],h=a.$$registeredAnimations[g];h&&!e[g]&&(d.push(b.get(h)),e[g]=!0)}return d}var f=l(d);return function(a,b,d,g){function h(){g.domOperation(),f(a,g)}function i(){o=!0,h(),n(a,g)}function j(a,b,d,e,f){var g;switch(d){case"animate":g=[b,e.from,e.to,f];break;case"setClass":g=[b,r,s,f];break;case"addClass":g=[b,r,f];break;case"removeClass":g=[b,s,f];break;default:g=[b,f]}g.push(e);var h=a.apply(a,g);if(h)if(V(h.start)&&(h=h.start()),h instanceof c)h.done(f);else if(V(h))return h;return L}function k(a,b,d,e,f){var g=[];return P(e,function(e){var h=e[f];h&&g.push(function(){var e,f,g=!1,i=function(a){g||(g=!0,(f||L)(a),e.complete(!a))};return e=new c({end:function(){i()},cancel:function(){i(!0)}}),f=j(h,a,b,d,function(a){i(!1===a)}),e})}),g}function l(a,b,d,e,f){var g=k(a,b,d,e,f);if(0===g.length){var h,i;"beforeSetClass"===f?(h=k(a,"removeClass",d,e,"beforeRemoveClass"),i=k(a,"addClass",d,e,"beforeAddClass")):"setClass"===f&&(h=k(a,"removeClass",d,e,"removeClass"),i=k(a,"addClass",d,e,"addClass")),h&&(g=g.concat(h)),i&&(g=g.concat(i))}return 0!==g.length?function(a){var b=[];return g.length&&P(g,function(a){b.push(a())}),b.length?c.all(b,a):a(),function(a){P(b,function(b){a?b.cancel():b.end()})}}:void 0}var o=!1;3===arguments.length&&S(d)&&(g=d,d=null),g=m(g),d||(d=a.attr("class")||"",g.addClass&&(d+=" "+g.addClass),g.removeClass&&(d+=" "+g.removeClass));var p,q,r=g.addClass,s=g.removeClass,t=e(d);if(t.length){var u,v;"leave"==b?(v="leave",u="afterLeave"):(v="before"+b.charAt(0).toUpperCase()+b.substr(1),u=b),"enter"!==b&&"move"!==b&&(p=l(a,b,g,t,v)),q=l(a,b,g,t,u)}if(p||q){var w;return{$$willAnimate:!0,end:function(){return w?w.end():(i(),w=new c,w.complete(!0)),w},start:function(){function a(a){i(a),w.complete(a)}function b(b){o||((d||L)(b),a(b))}if(w)return w;w=new c;var d,e=[];return p&&e.push(function(a){d=p(a)}),e.length?e.push(function(a){h(),a(!0)}):h(),q&&e.push(function(a){d=q(a)}),w.setHost({end:function(){b()},cancel:function(){b(!0)}}),c.chain(e,a),w}}}}}]}],ua=["$$animationProvider",function(a){a.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(a,b){function c(b){var c=b.element,d=b.event,e=b.options,f=b.classes;return a(c,d,f,e)}return function(a){if(a.from&&a.to){var d=c(a.from),e=c(a.to);if(!d&&!e)return;return{start:function(){function a(){return function(){P(f,function(a){a.end()})}}function c(a){g.complete(a)}var f=[];d&&f.push(d.start()),e&&f.push(e.start()),b.all(f,c);var g=new b({end:a(),cancel:a()});return g}}}return c(a)}}]}],va="data-ng-animate",wa="$ngAnimatePin",xa=["$animateProvider",function(d){function e(a){if(!a)return null;var b=a.split(p),c=Object.create(null);return P(b,function(a){c[a]=!0}),c}function f(a,b){if(a&&b){var c=e(b);return a.split(p).some(function(a){return c[a]})}}function g(a,b,c,d){return r[a].some(function(a){return a(b,c,d)})}function j(a,b){var c=(a.addClass||"").length>0,d=(a.removeClass||"").length>0;return b?c&&d:c||d}var k=1,o=2,p=" ",r=this.rules={skip:[],cancel:[],join:[]};r.join.push(function(a,b,c){return!b.structural&&j(b)}),r.skip.push(function(a,b,c){return!b.structural&&!j(b)}),r.skip.push(function(a,b,c){return"leave"==c.event&&b.structural}),r.skip.push(function(a,b,c){return c.structural&&c.state===o&&!b.structural}),r.cancel.push(function(a,b,c){return c.structural&&b.structural}),r.cancel.push(function(a,b,c){return c.state===o&&b.structural}),r.cancel.push(function(a,b,c){if(c.structural)return!1;var d=b.addClass,e=b.removeClass,g=c.addClass,h=c.removeClass;return!(T(d)&&T(e)||T(g)&&T(h))&&(f(d,h)||f(e,g))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(e,f,p,r,v,w,x,y,z,A){function B(){var a=!1;return function(b){a?b():f.$$postDigest(function(){a=!0,b()})}}function C(a,b){return q(a,b,{})}function D(a,b,c){var d=s(b),e=s(a),f=[],g=_[c];return g&&P(g,function(a){ea.call(a.node,d)?f.push(a.callback):"leave"===c&&ea.call(a.node,e)&&f.push(a.callback)}),f}function E(a,b,c){var d=i(b);return a.filter(function(a){return!(a.node===d&&(!c||a.callback===c))})}function F(a,b){"close"!==a||b[0].parentNode||fa.off(b)}function G(a,b,c){function d(b,c,d,f){z(function(){var b=D(p,a,c);b.length?e(function(){P(b,function(b){b(a,d,f)}),F(d,a)}):F(d,a)}),b.progress(c,d,f)}function i(b){u(a,v),da(a,v),n(a,v),v.domOperation(),y.complete(!b)}var l,p,v=M(c);a=h(a),a&&(l=s(a),p=a.parent()),v=m(v);var y=new x,z=B();if(Q(v.addClass)&&(v.addClass=v.addClass.join(" ")),v.addClass&&!R(v.addClass)&&(v.addClass=null),Q(v.removeClass)&&(v.removeClass=v.removeClass.join(" ")),v.removeClass&&!R(v.removeClass)&&(v.removeClass=null),v.from&&!S(v.from)&&(v.from=null),v.to&&!S(v.to)&&(v.to=null),!l)return i(),y;var A=[l.className,v.addClass,v.removeClass].join(" ");if(!ca(A))return i(),y;var E=["enter","move","leave"].indexOf(b)>=0,G=r[0].hidden,J=!Z||G||Y.get(l),N=!J&&V.get(l)||{},O=!!N.state;if(J||O&&N.state==k||(J=!K(a,p,b)),J)return G&&d(y,b,"start"),i(),G&&d(y,b,"close"),y;E&&H(a);var T={structural:E,element:a,event:b,addClass:v.addClass,removeClass:v.removeClass,close:i,options:v,runner:y};if(O){if(g("skip",a,T,N))return N.state===o?(i(),y):(q(a,N,T),N.runner);if(g("cancel",a,T,N))if(N.state===o)N.runner.end();else{if(!N.structural)return q(a,N,T),N.runner;N.close()}else if(g("join",a,T,N)){if(N.state!==o)return t(a,E?b:null,v),b=T.event=N.event,v=q(a,N,T),N.runner;C(a,T)}}else C(a,T);var U=T.structural;if(U||(U="animate"===T.event&&Object.keys(T.options.to||{}).length>0||j(T)),!U)return i(),I(a),y;var W=(N.counter||0)+1;return T.counter=W,L(a,k,T),f.$$postDigest(function(){var c=V.get(l),e=!c;c=c||{};var f=a.parent()||[],g=f.length>0&&("animate"===c.event||c.structural||j(c));if(e||c.counter!==W||!g)return e&&(da(a,v),n(a,v)),(e||E&&c.event!==b)&&(v.domOperation(),y.end()),void(g||I(a));b=!c.structural&&j(c,!0)?"setClass":c.event,L(a,o);var h=w(a,b,c.options);y.setHost(h),d(y,b,"start",{}),h.done(function(c){i(!c);var e=V.get(l);e&&e.counter===W&&I(s(a)),d(y,b,"close",{})})}),y}function H(a){var b=s(a),c=b.querySelectorAll("["+va+"]");P(c,function(a){var b=parseInt(a.getAttribute(va)),c=V.get(a);if(c)switch(b){case o:c.runner.end();case k:V.remove(a)}})}function I(a){var b=s(a);b.removeAttribute(va),V.remove(b)}function J(a,b){return s(a)===s(b)}function K(a,b,c){var d,e=O(r[0].body),f=J(a,e)||"HTML"===a[0].nodeName,g=J(a,p),h=!1,i=Y.get(s(a)),j=O.data(a[0],wa);for(j&&(b=j),b=s(b);b&&(g||(g=J(b,p)),b.nodeType===X);){var k=V.get(b)||{};if(!h){var l=Y.get(b);if(!0===l&&!1!==i){i=!0;break}!1===l&&(i=!1),h=k.structural}if(T(d)||!0===d){var m=O.data(b,aa);U(m)&&(d=m)}if(h&&!1===d)break;if(f||(f=J(b,e)),f&&g)break;b=g||!(j=O.data(b,wa))?b.parentNode:s(j)}return(!h||d)&&!0!==i&&g&&f}function L(a,b,c){c=c||{},c.state=b;var d=s(a);d.setAttribute(va,b);var e=V.get(d),f=e?N(e,c):c;V.put(d,f)}var V=new v,Y=new v,Z=null,$=f.$watch(function(){return 0===y.totalPendingRequests},function(a){a&&($(),f.$$postDigest(function(){f.$$postDigest(function(){null===Z&&(Z=!0)})}))}),_={},ba=d.classNameFilter(),ca=ba?function(a){return ba.test(a)}:function(){return!0},da=l(z),ea=a.Node.prototype.contains||function(a){return this===a||!!(16&this.compareDocumentPosition(a))},fa={on:function(a,b,c){var d=i(b);_[a]=_[a]||[],_[a].push({node:d,callback:c}),O(b).on("$destroy",function(){V.get(d)||fa.off(a,b,c)})},off:function(a,c,d){if(1!==arguments.length||b.isString(arguments[0])){var e=_[a];e&&(_[a]=1===arguments.length?null:E(e,c,d))}else{c=arguments[0];for(var f in _)_[f]=E(_[f],c)}},pin:function(a,b){c(W(a),"element","not an element"),c(W(b),"parentElement","not an element"),a.data(wa,b)},push:function(a,b,c,d){return c=c||{},c.domOperation=d,G(a,b,c)},enabled:function(a,b){var c=arguments.length;if(0===c)b=!!Z;else if(W(a)){var d=s(a),e=Y.get(d);1===c?b=!e:Y.put(d,!b)}else b=Z=!!a;return b}};return fa}]}],ya=["$animateProvider",function(a){function b(a,b){a.data(h,b)}function c(a){a.removeData(h)}function e(a){return a.data(h)}var f="ng-animate-ref",g=this.drivers=[],h="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(a,h,i,j,k,o){function p(a){function b(a){if(a.processed)return a;a.processed=!0;var c=a.domNode,f=c.parentNode;e.put(c,a);for(var g;f;){if(g=e.get(f)){g.processed||(g=b(g));break}f=f.parentNode}return(g||d).children.push(a),a}var c,d={children:[]},e=new k;for(c=0;c<a.length;c++){var f=a[c];e.put(f.domNode,a[c]={domNode:f.domNode,fn:f.fn,children:[]})}for(c=0;c<a.length;c++)b(a[c]);return function(a){var b,c=[],d=[];for(b=0;b<a.children.length;b++)d.push(a.children[b]);var e=d.length,f=0,g=[];for(b=0;b<d.length;b++){var h=d[b];0>=e&&(e=f,f=0,c.push(g),g=[]),g.push(h.fn),h.children.forEach(function(a){f++,d.push(a)}),e--}return g.length&&c.push(g),c}(d)}var q=[],r=l(a);return function(k,l,t){function u(a){var b="["+f+"]",c=a.hasAttribute(f)?[a]:a.querySelectorAll(b),d=[];return P(c,function(a){var b=a.getAttribute(f);b&&b.length&&d.push(a)}),d}function v(a){var b=[],c={};P(a,function(a,d){var e=a.element,g=s(e),h=a.event,i=["enter","move"].indexOf(h)>=0,j=a.structural?u(g):[];if(j.length){var k=i?"to":"from";P(j,function(a){var b=a.getAttribute(f);c[b]=c[b]||{},c[b][k]={animationID:d,element:O(a)}})}else b.push(a)});var d={},e={};return P(c,function(c,f){var g=c.from,h=c.to;if(!g||!h){var i=g?g.animationID:h.animationID,j=i.toString();return void(d[j]||(d[j]=!0,b.push(a[i])))}var k=a[g.animationID],l=a[h.animationID],m=g.animationID.toString();if(!e[m]){var n=e[m]={structural:!0,beforeStart:function(){k.beforeStart(),l.beforeStart()},close:function(){k.close(),l.close()},classes:w(k.classes,l.classes),from:k,to:l,anchors:[]};n.classes.length?b.push(n):(b.push(k),b.push(l))}e[m].anchors.push({out:g.element,"in":h.element})}),b}function w(a,b){a=a.split(" "),b=b.split(" ");for(var c=[],d=0;d<a.length;d++){var e=a[d];if("ng-"!==e.substring(0,3))for(var f=0;f<b.length;f++)if(e===b[f]){c.push(e);break}}return c.join(" ")}function x(a){for(var b=g.length-1;b>=0;b--){var c=g[b];if(i.has(c)){var d=i.get(c),e=d(a);if(e)return e}}}function y(){k.addClass(_),F&&a.addClass(k,F),G&&(a.removeClass(k,G),G=null)}function z(a,b){function c(a){e(a).setHost(b)}a.from&&a.to?(c(a.from.element),c(a.to.element)):c(a.element)}function A(){var a=e(k);!a||"leave"===l&&t.$$domOperationFired||a.end()}function B(b){k.off("$destroy",A),c(k),r(k,t),n(k,t),t.domOperation(),F&&a.removeClass(k,F),k.removeClass(_),D.complete(!b)}t=m(t);var C=["enter","move","leave"].indexOf(l)>=0,D=new j({end:function(){B()},cancel:function(){B(!0)}});if(!g.length)return B(),D;b(k,D);var E=d(k.attr("class"),d(t.addClass,t.removeClass)),F=t.tempClasses;F&&(E+=" "+F,t.tempClasses=null);var G;return C&&(G="ng-"+l+"-prepare",a.addClass(k,G)),q.push({element:k,classes:E,event:l,structural:C,options:t,beforeStart:y,close:B}),k.on("$destroy",A),q.length>1?D:(h.$$postDigest(function(){var a=[];P(q,function(b){e(b.element)?a.push(b):b.close()}),q.length=0;var b=v(a),c=[];P(b,function(a){c.push({domNode:s(a.from?a.from.element:a.element),fn:function(){a.beforeStart();var b,c=a.close;if(e(a.anchors?a.from.element||a.to.element:a.element)){var d=x(a);d&&(b=d.start)}if(b){var f=b();f.done(function(a){c(!a)}),z(a,f)}else c()}})}),o(p(c))}),D)}}]}],za=["$animate","$rootScope",function(a,b){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(b,c,d,e,f){var g,h;b.$watchCollection(d.ngAnimateSwap||d["for"],function(d){g&&a.leave(g),h&&(h.$destroy(),h=null),(d||0===d)&&(h=b.$new(),f(h,function(b){g=b,a.enter(b,null,c)}))})}}}];b.module("ngAnimate",[]).directive("ngAnimateSwap",za).directive("ngAnimateChildren",ka).factory("$$rAFScheduler",ja).provider("$$animateQueue",xa).provider("$$animation",ya).provider("$animateCss",ra).provider("$$animateCssDriver",sa).provider("$$animateJs",ta).provider("$$animateJsDriver",ua)}(window,window.angular)},{}],2:[function(a,b,c){!function(a,b){"use strict";function c(a,c,d){function e(a,d,e){var g,h;e=e||{},h=e.expires,g=b.isDefined(e.path)?e.path:f,b.isUndefined(d)&&(h="Thu, 01 Jan 1970 00:00:00 GMT",d=""),b.isString(h)&&(h=new Date(h));var i=encodeURIComponent(a)+"="+encodeURIComponent(d);i+=g?";path="+g:"",i+=e.domain?";domain="+e.domain:"",i+=h?";expires="+h.toUTCString():"",i+=e.secure?";secure":"";var j=i.length+1;return j>4096&&c.warn("Cookie '"+a+"' possibly not set or overflowed because it was too large ("+j+" > 4096 bytes)!"),i}var f=d.baseHref(),g=a[0];return function(a,b,c){g.cookie=e(a,b,c)}}b.module("ngCookies",["ng"]).provider("$cookies",[function(){function a(a){return a?b.extend({},c,a):c}var c=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(c,d){return{get:function(a){return c()[a]},getObject:function(a){var c=this.get(a);return c?b.fromJson(c):c},getAll:function(){return c()},put:function(b,c,e){d(b,c,a(e))},putObject:function(a,c,d){this.put(a,b.toJson(c),d)},remove:function(b,c){d(b,void 0,a(c))}}}]}]),b.module("ngCookies").factory("$cookieStore",["$cookies",function(a){return{get:function(b){return a.getObject(b)},put:function(b,c){a.putObject(b,c)},remove:function(b){a.remove(b)}}}]),c.$inject=["$document","$log","$browser"],b.module("ngCookies").provider("$$cookieWriter",function(){this.$get=c})}(window,window.angular)},{}],3:[function(a,b,c){!function(d,e){"use strict";"object"===(void 0===c?"undefined":_typeof(c))&&void 0!==b?b.exports=e(a("./../../angular/angular.js"),a("./../../moment/moment.js")):"function"==typeof define&&define.amd?define(["angular","moment"],e):e(d.angular,d.moment)}(this,function(a,b){a.module||(a=window.angular);var c=a.module("datePicker",[]);c.constant("datePickerConfig",{template:"templates/datepicker.html",view:"month",views:["year","month","date","hours","minutes"],momentNames:{year:"year",month:"month",date:"day",hours:"hours",minutes:"minutes"},viewConfig:{year:["years","isSameYear"],month:["months","isSameMonth"],hours:["hours","isSameHour"],minutes:["minutes","isSameMinutes"]},step:5}),c.filter("mFormat",function(){return function(a,c,d){return b.isMoment(a)?d?b.tz(a,d).format(c):a.format(c):b(a).format(c)}}),c.directive("datePicker",["datePickerConfig","datePickerUtils","$interpolate",function(c,d,e){return{require:"?ngModel",template:'<div ng-include="template"></div>',scope:{model:"=?datePicker",after:"=?",before:"=?",highlights:"=?"},link:function(f,g,h,i){function j(){f.views=c.views.concat(),f.view=h.view||c.view,f.views=f.views.slice(f.views.indexOf(h.maxView||"year"),f.views.indexOf(h.minView||"minutes")+1),1!==f.views.length&&-1!==f.views.indexOf(f.view)||(f.view=f.views[0])}function k(a){return d.getDate(f,h,a)}function l(){var a=f.view;d.setParams(v,G),f.model&&!u&&(f.date=w(f.model),u=!1);var b=f.date;switch(a){case"year":f.years=d.getVisibleYears(b);break;case"month":f.months=d.getVisibleMonths(b);break;case"date":f.weekdays=f.weekdays||d.getDaysOfWeek(),f.weeks=d.getVisibleWeeks(b);break;case"hours":f.hours=d.getVisibleHours(b);break;case"minutes":f.minutes=d.getVisibleMinutes(b,y)}o()}function m(){return"date"!==f.view?f.view:f.date?f.date.month():null}var n,o,p,q,r,s,t,u=!1,v=f.tz=h.timezone,w=d.createMoment,x=d.eventIsForPicker,y=parseInt(h.step||c.step,10),z=!!h.partial,A=k("minDate"),B=k("maxDate"),C=e(g[0].id)(f),D=f.now=w(),E=f.date=w(f.model||D),F="true"===h.autoClose,G=h.firstDay&&h.firstDay>=0&&h.firstDay<=6?parseInt(h.firstDay,10):b().weekday(0).day();d.setParams(v,G),f.model||E.minute(Math.ceil(E.minute()/y)*y).second(0),f.template=h.template||c.template,f.watchDirectChanges=void 0!==h.watchDirectChanges,f.callbackOnSetDate=h.dateChange?d.findFunction(f,h.dateChange):void 0,j(),f.setView=function(a){-1!==f.views.indexOf(a)&&(f.view=a)},f.selectDate=function(a){if(h.disabled)return!1;if(p(f.date,a)&&(a=f.date),!(a=q(a)))return!1;f.date=a;var b=f.views[f.views.indexOf(f.view)+1];(!b||z||f.model)&&n(a,!0),b?f.setView(b):F?(g.addClass("hidden"),f.$emit("hidePicker")):o()},n=function(b,c){b&&((0!==f.model&&"date-picker"!==h.datePicker||!a.isDefined(f.model)&&!a.isDefined(h.datePicker))&&(f.model=b),i&&i.$setViewValue(b)),f.$emit("setDate",f.model,f.view,c),f.callbackOnSetDate&&f.callbackOnSetDate(h.datePicker,f.date,c)},f.$watch(m,l),f.watchDirectChanges&&f.$watch("model",function(){u=!1,l()}),a.isDefined(h.highlights)&&f.$watchCollection("highlights",function(c){if(a.isDefined(c)){if(!a.isArray(c))throw new Error("Invalid highlights object "+c);t=c.map(function(a){return b(a)}),l()}}),o=function(){var a,b,e,g=f.view,h=f.date,i=[],j="";if(d.setParams(v,G),"date"===g){var k,l=f.weeks;for(a=0;a<l.length;a++)for(k=l[a],i.push([]),b=0;b<k.length;b++){if(j="",d.isSameDay(h,k[b])&&(j+="active"),r(k[b],g)&&(j+=" now"),k[b].month()===h.month()&&s(k[b])||(j+=" disabled"),t&&t.length&&!j.length)for(e=0;e<t.length;e++)if(d.isSameDay(t[e],k[b])){j+=" highlighted";break}i[a].push(j)}}else{var m=c.viewConfig[g],n=f[m[0]],o=m[1];for(a=0;a<n.length;a++)j="",d[o](h,n[a])&&(j+="active"),r(n[a],g)&&(j+=" now"),s(n[a])||(j+=" disabled"),i.push(j)}f.classes=i},f.next=function(a){var c=b(f.date);switch(a=a||1,f.view){case"year":case"month":c.year(c.year()+a);break;case"date":c.month(c.month()+a);break;case"hours":case"minutes":c.hours(c.hours()+a)}(c=q(c))&&(f.date=c,n(c,!1),u=!0,l())},s=function(a){var b=!0;return A&&A.isAfter(a)&&(b=p(A,a)),B&&B.isBefore(a)&&(b&=p(B,a)),b},p=function(a,b){return!!a.isSame(b,c.momentNames[f.view])},q=function(a){return A&&A.isAfter(a)?A:B&&B.isBefore(a)?B:a},r=function(a,b){var c=!0;switch(b){case"minutes":c&=~~(D.minutes()/y)==~~(a.minutes()/y);case"hours":c&=D.hours()===a.hours();case"date":c&=D.date()===a.date();case"month":c&=D.month()===a.month();case"year":c&=D.year()===a.year()}return c},f.prev=function(a){return f.next(-a||-1)},C&&f.$on("pickerUpdate",function(b,c,d){if(x(c,C)){var e=!1,g=!1;a.isDefined(d.minDate)&&(A=!!d.minDate&&d.minDate,g=!0),a.isDefined(d.maxDate)&&(B=!!d.maxDate&&d.maxDate,g=!0),a.isDefined(d.minView)&&(h.minView=d.minView,e=!0),a.isDefined(d.maxView)&&(h.maxView=d.maxView,e=!0),a.isDefined(d.timezone)&&(v=f.tz=d.timezone,g=!0),h.view=d.view||h.view,e&&j(),g&&l()}})}}}]),a.module("datePicker").factory("datePickerUtils",function(){var c,d,e=function(a,d,e,f,g){var h=Date.UTC(0|a,0|d,0|e,0|f,0|g);return c?b.tz(h,c):b(h)};return{getVisibleMinutes:function(a,b){var c,d,f=a.year(),g=a.month(),h=a.date(),i=a.hours(),j=a.utcOffset()/60,k=[];for(d=0;60>d;d+=b)c=e(f,g,h,i-j,d),k.push(c);return k},getVisibleWeeks:function(a){a=b(a);var c=a.year(),e=a.month();a.date(1);var f=a.day();a.date(d-(f+(d>=f?6:-1)));for(var g=[];g.length<6&&!(a.year()===c&&a.month()>e);)g.push(this.getDaysOfWeek(a)),a.add(7,"d");return g},getVisibleYears:function(a){var c=b(a),d=c.year();c.year(d-d%10),d=c.year();for(var f,g,h=c.utcOffset()/60,i=[],j=0;12>j;j++)f=e(d,0,1,0-h),g=f.utcOffset()/60,g!==h&&(f=e(d,0,1,0-g),h=g),i.push(f),d++;return i},getDaysOfWeek:function(a){a=a||(c?b.tz(c).day(d):b().day(d));for(var f,g,h=a.year(),i=a.month(),j=a.date(),k=[],l=a.utcOffset()/60,m=0;7>m;m++)f=e(h,i,j,0-l,0),g=f.utcOffset()/60,g!==l&&(f=e(h,i,j,0-g,0)),k.push(f),j++;return k},getVisibleMonths:function(a){for(var b,c,d=a.year(),f=a.utcOffset()/60,g=[],h=0;12>h;h++)b=e(d,h,1,0-f,0),c=b.utcOffset()/60,c!==f&&(b=e(d,h,1,0-c,0)),g.push(b);return g},getVisibleHours:function(a){var b,c,d,f=a.year(),g=a.month(),h=a.date(),i=[],j=a.utcOffset()/60;for(b=0;24>b;b++)c=e(f,g,h,b-j,0),d=c.utcOffset()/60,d!==j&&(c=e(f,g,h,b-d,0)),i.push(c);return i},isAfter:function(a,b){return a&&a.unix()>=b.unix()},isBefore:function(a,b){return a.unix()<=b.unix()},isSameYear:function(a,b){return a&&a.year()===b.year()},isSameMonth:function(a,b){return this.isSameYear(a,b)&&a.month()===b.month()},isSameDay:function(a,b){return this.isSameMonth(a,b)&&a.date()===b.date()},isSameHour:function(a,b){return this.isSameDay(a,b)&&a.hours()===b.hours()},isSameMinutes:function(a,b){return this.isSameHour(a,b)&&a.minutes()===b.minutes()},setParams:function(a,b){c=a,d=b},scopeSearch:function(a,b,c){var d,e,f=a,g=b.split("."),h=g.length;do{for(d=f=f.$parent,e=0;h>e;e++)d=d[g[e]];if(d&&c(d))return d}while(f.$parent);return!1},findFunction:function(b,c){return this.scopeSearch(b,c,function(b){return a.isFunction(b)})},findParam:function(a,b){return this.scopeSearch(a,b,function(){return!0})},createMoment:function(a){return c?b.tz(a,c):b.isMoment(a)?b.unix(a.unix()):b(a)},getDate:function(a,b,c){var d=!1;return b[c]&&(d=this.createMoment(b[c]),d.isValid()||(d=this.findParam(a,b[c]))&&(d=this.createMoment(d))),d},eventIsForPicker:function(b,c){function d(a){return a instanceof RegExp?a.test(c):a===c}return a.isArray(b)?b.some(d):d(b)}}});var c=a.module("datePicker");c.directive("dateRange",["$compile","datePickerUtils","dateTimeConfig",function(c,d,e){function f(c,d,f,g,h){return e.template(a.extend(c,{ngModel:f,minDate:!(!g||!b.isMoment(g))&&g.format(),maxDate:!(!h||!b.isMoment(h))&&h.format()}),d)}function g(){return"picker"+Math.random().toString().substr(2)}return{scope:{start:"=",end:"="},link:function(b,e,h){function i(a){b.$broadcast("pickerUpdate",m[0],{maxDate:a})}function j(a){b.$broadcast("pickerUpdate",m[1],{minDate:a})}var k=null,l=e[0].id,m=[g(),g()],n=d.createMoment,o=d.eventIsForPicker;b.dateChange=function(a,b){k&&k(a,b)},l&&b.$on("pickerUpdate",function(a,c,d){o(c,l)&&b.$broadcast("pickerUpdate",m,d)}),d.setParams(h.timezone),b.start=n(b.start),b.end=n(b.end),b.$watchGroup(["start","end"],function(a){j(a[0]),i(a[1])}),a.isDefined(h.dateChange)&&(k=d.findFunction(b,h.dateChange)),h.onSetDate="dateChange";var p='<div><table class="date-range"><tr><td valign="top">'+f(h,m[0],"start",!1,b.end)+'</td><td valign="top">'+f(h,m[1],"end",b.start,!1)+"</td></tr></table></div>",q=c(p)(b);e.append(q)}}}]);var c=a.module("datePicker");c.constant("dateTimeConfig",{template:function(a,b){return"<div "+(b?'id="'+b+'" ':"")+'date-picker="'+a.ngModel+'" '+(a.view?'view="'+a.view+'" ':"")+(a.maxView?'max-view="'+a.maxView+'" ':"")+(a.maxDate?'max-date="'+a.maxDate+'" ':"")+(a.autoClose?'auto-close="'+a.autoClose+'" ':"")+(a.template?'template="'+a.template+'" ':"")+(a.minView?'min-view="'+a.minView+'" ':"")+(a.minDate?'min-date="'+a.minDate+'" ':"")+(a.partial?'partial="'+a.partial+'" ':"")+(a.step?'step="'+a.step+'" ':"")+(a.onSetDate?'date-change="'+a.onSetDate+'" ':"")+(a.ngModel?'ng-model="'+a.ngModel+'" ':"")+(a.firstDay?'first-day="'+a.firstDay+'" ':"")+(a.timezone?'timezone="'+a.timezone+'" ':"")+(a.highlights?'highlights="'+a.highlights+'" ':"")+'class="date-picker-date-time"></div>'},format:"YYYY-MM-DD HH:mm",views:["date","year","month","hours","minutes"],autoClose:!1,position:"relative"}),c.directive("dateTimeAppend",function(){return{link:function(a,b){b.bind("click",function(){b.find("input")[0].focus()})}}}),c.directive("dateTime",["$compile","$document","$filter","dateTimeConfig","$parse","datePickerUtils","$interpolate",function(c,d,e,f,g,h,i){var j=d.find("body"),k=e("mFormat");return{require:"ngModel",scope:!0,link:function(d,e,l,m){function n(a){return a?k(a,w,K):void 0}function o(a){if(!a)return"";var c=b(a,w);return c.isValid()?c:void 0}function p(a){G=a,l.minDate=a?a.format():a,H=b.isMoment(a)}function q(a){I=a,l.maxDate=a?a.format():a,J=b.isMoment(a)}function r(){v=f.template(l)}function s(a){a.stopPropagation(),m.$pristine&&(m.$dirty=!0,m.$pristine=!1,e.removeClass("ng-pristine").addClass("ng-dirty"),x&&x.$setDirty(),m.$render())}function t(){C&&(C.remove(),C=null),F&&(F.remove(),F=null)}function u(){if(!C){if(C=c(v)(d),d.$digest(),N||(d.$on("setDate",function(a,b,c,d){s(a),M&&M(l.ngModel,b,d),B&&y[y.length-1]===c&&t()}),d.$on("hidePicker",function(){e.triggerHandler("blur")}),d.$on("$destroy",t),N=!0),"absolute"===E){var b=e[0].getBoundingClientRect(),f=b.height||e[0].offsetHeight;C.css({top:b.top+f+"px",left:b.left+"px",display:"block",position:E}),j.append(C)}else F=a.element("<div date-picker-wrapper></div>"),e[0].parentElement.insertBefore(F[0],e[0]),F.append(C),C.css({top:e[0].offsetHeight+"px",display:"block"});C.bind("mousedown",function(a){a.preventDefault()})}}var v,w=l.format||f.format,x=e.inheritedData("$formController"),y=g(l.views)(d)||f.views.concat(),z=l.view||y[0],A=y.indexOf(z),B=l.autoClose?g(l.autoClose)(d):f.autoClose,C=null,D=i(e[0].id)(d),E=l.position||f.position,F=null,G=null,H=null,I=null,J=null,K=l.timezone||!1,L=h.eventIsForPicker,M=null,N=!1;-1===A&&y.splice(A,1),y.unshift(z),m.$formatters.push(n),m.$parsers.unshift(o),a.isDefined(l.minDate)&&(p(h.findParam(d,l.minDate)),m.$validators.min=function(a){return!H||b.isMoment(a)&&(G.isSame(a)||G.isBefore(a))}),a.isDefined(l.maxDate)&&(q(h.findParam(d,l.maxDate)),m.$validators.max=function(a){return!J||b.isMoment(a)&&(I.isSame(a)||I.isAfter(a))}),a.isDefined(l.dateChange)&&(M=h.findFunction(d,l.dateChange)),D&&d.$on("pickerUpdate",function(b,c,d){if(L(c,D))if(C);else{var e=!1;a.isDefined(d.minDate)&&(p(d.minDate),e=!0),a.isDefined(d.maxDate)&&(q(d.maxDate),e=!0),a.isDefined(d.minView)&&(l.minView=d.minView),a.isDefined(d.maxView)&&(l.maxView=d.maxView),a.isDefined(d.timezone)&&(K=l.timezone=d.timezone,e=!0),l.view=d.view||l.view,e&&m.$validate(),a.isDefined(d.format)&&(w=l.format=d.format||f.format,m.$modelValue=-1),r()}}),e.bind("focus",u),e.bind("blur",t),r()}}}]),a.module("datePicker").run(["$templateCache",function(a){a.put("templates/datepicker.html",'<div ng-switch="view">\n  <div ng-switch-when="date">\n    <table>\n      <thead>\n      <tr>\n        <th ng-click="prev()">&lsaquo;</th>\n        <th colspan="5" class="switch" ng-click="setView(\'month\')" ng-bind="date|mFormat:\'YYYY MMMM\':tz"></th>\n        <th ng-click="next()">&rsaquo;</i></th>\n      </tr>\n      <tr>\n        <th ng-repeat="day in weekdays" style="overflow: hidden" ng-bind="day|mFormat:\'ddd\':tz"></th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr ng-repeat="week in weeks" ng-init="$index2 = $index">\n        <td ng-repeat="day in week">\n          <span\n            ng-class="classes[$index2][$index]"\n            ng-click="selectDate(day)" ng-bind="day|mFormat:\'DD\':tz"></span>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n  <div ng-switch-when="year">\n    <table>\n      <thead>\n      <tr>\n        <th ng-click="prev(10)">&lsaquo;</th>\n        <th colspan="5" class="switch"ng-bind="years[0].year()+\' - \'+years[years.length-1].year()"></th>\n        <th ng-click="next(10)">&rsaquo;</i></th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr>\n        <td colspan="7">\n          <span ng-class="classes[$index]"\n                ng-repeat="year in years"\n                ng-click="selectDate(year)" ng-bind="year.year()"></span>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n  <div ng-switch-when="month">\n    <table>\n      <thead>\n      <tr>\n        <th ng-click="prev()">&lsaquo;</th>\n        <th colspan="5" class="switch" ng-click="setView(\'year\')" ng-bind="date|mFormat:\'YYYY\':tz"></th>\n        <th ng-click="next()">&rsaquo;</i></th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr>\n        <td colspan="7">\n          <span ng-repeat="month in months"\n                ng-class="classes[$index]"\n                ng-click="selectDate(month)"\n                ng-bind="month|mFormat:\'MMM\':tz"></span>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n  <div ng-switch-when="hours">\n    <table>\n      <thead>\n      <tr>\n        <th ng-click="prev(24)">&lsaquo;</th>\n        <th colspan="5" class="switch" ng-click="setView(\'date\')" ng-bind="date|mFormat:\'DD MMMM YYYY\':tz"></th>\n        <th ng-click="next(24)">&rsaquo;</i></th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr>\n        <td colspan="7">\n          <span ng-repeat="hour in hours"\n                ng-class="classes[$index]"\n                ng-click="selectDate(hour)" ng-bind="hour|mFormat:\'HH:mm\':tz"></span>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n  <div ng-switch-when="minutes">\n    <table>\n      <thead>\n      <tr>\n        <th ng-click="prev()">&lsaquo;</th>\n        <th colspan="5" class="switch" ng-click="setView(\'hours\')" ng-bind="date|mFormat:\'DD MMMM YYYY\':tz"></th>\n        <th ng-click="next()">&rsaquo;</i></th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr>\n        <td colspan="7">\n          <span ng-repeat="minute in minutes"\n                ng-class="classes[$index]"\n                ng-click="selectDate(minute)"\n                ng-bind="minute|mFormat:\'HH:mm\':tz"></span>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n</div>')}])})},{"./../../angular/angular.js":11,"./../../moment/moment.js":16}],4:[function(a,b,c){angular.module("gettext",[]),angular.module("gettext").constant("gettext",function(a){return a}),angular.module("gettext").factory("gettextCatalog",["gettextPlurals","$http","$cacheFactory","$interpolate","$rootScope",function(a,b,c,d,e){function f(){e.$broadcast("gettextLanguageChanged")}var g,h='<span id="test" title="test" class="tested">test</span>',i=angular.element("<span>"+h+"</span>").html()!==h,j=function(a){return g.debug&&g.currentLanguage!==g.baseLanguage?g.debugPrefix+a:a},k=function(a){return g.showTranslatedMarkers?g.translatedMarkerPrefix+a+g.translatedMarkerSuffix:a};return g={debug:!1,debugPrefix:"[MISSING]: ",showTranslatedMarkers:!1,translatedMarkerPrefix:"[",translatedMarkerSuffix:"]",strings:{},baseLanguage:"en",currentLanguage:"en",cache:c("strings"),setCurrentLanguage:function(a){this.currentLanguage=a,f()},getCurrentLanguage:function(){return this.currentLanguage},setStrings:function(a,b){this.strings[a]||(this.strings[a]={});for(var c in b){var d=b[c];if(i&&(c=angular.element("<span>"+c+"</span>").html()),angular.isString(d)||angular.isArray(d)){var e={};e.$$noContext=d,d=e}for(var g in d){var h=d[g];d[g]=angular.isArray(h)?h:[h]}this.strings[a][c]=d}f()},getStringForm:function(a,b,c){return(((this.strings[this.currentLanguage]||{})[a]||{})[c||"$$noContext"]||[])[b]},getString:function(a,b,c){return a=this.getStringForm(a,0,c)||j(a),a=b?d(a)(b):a,k(a)},getPlural:function(b,c,e,f,g){var h=a(this.currentLanguage,b);return c=this.getStringForm(c,h,g)||j(1===b?c:e),f&&(f.$count=b,c=d(c)(f)),k(c)},loadRemote:function(a){return b({method:"GET",url:a,cache:g.cache}).then(function(a){var b=a.data;for(var c in b)g.setStrings(c,b[c]);return a})}}}]),angular.module("gettext").directive("translate",["gettextCatalog","$parse","$animate","$compile","$window",function(a,b,c,d,e){function f(a,b,c){if(!a)throw new Error("You should add a "+b+" attribute whenever you add a "+c+" attribute.")}var g=function(){return String.prototype.trim?function(a){return"string"==typeof a?a.trim():a}:function(a){return"string"==typeof a?a.replace(/^\s*/,"").replace(/\s*$/,""):a}}(),h=parseInt((/msie (\d+)/.exec(angular.lowercase(e.navigator.userAgent))||[])[1],10);return{restrict:"AE",terminal:!0,compile:function(e,i){f(!i.translatePlural||i.translateN,"translate-n","translate-plural"),f(!i.translateN||i.translatePlural,"translate-plural","translate-n");var j=g(e.html()),k=i.translatePlural,l=i.translateContext;return 8>=h&&"<!--IE fix-->"===j.slice(-13)&&(j=j.slice(0,-13)),{post:function(e,f,h){function i(){var b;k?(e=n||(n=e.$new()),e.$count=m(e),b=a.getPlural(e.$count,j,k,null,l)):b=a.getString(j,null,l);var h=f.contents();if(0!==h.length){if(b===g(h.html()))return void(o&&d(h)(e));var i=angular.element("<span>"+b+"</span>");
d(i.contents())(e);var p=i.contents();c.enter(p,f),c.leave(h)}}var m=b(h.translateN),n=null,o=!0;h.translateN&&e.$watch(h.translateN,i),e.$on("gettextLanguageChanged",i),i(),o=!1}}}}}]),angular.module("gettext").filter("translate",["gettextCatalog",function(a){function b(b,c){return a.getString(b,null,c)}return b.$stateful=!0,b}]),angular.module("gettext").factory("gettextPlurals",function(){return function(a,b){switch(a){case"ay":case"bo":case"cgg":case"dz":case"fa":case"id":case"ja":case"jbo":case"ka":case"kk":case"km":case"ko":case"ky":case"lo":case"ms":case"my":case"sah":case"su":case"th":case"tt":case"ug":case"vi":case"wo":case"zh":return 0;case"is":return b%10!=1||b%100==11?1:0;case"jv":return 0!=b?1:0;case"mk":return 1==b||b%10==1?0:1;case"ach":case"ak":case"am":case"arn":case"br":case"fil":case"fr":case"gun":case"ln":case"mfe":case"mg":case"mi":case"oc":case"pt_BR":case"tg":case"ti":case"tr":case"uz":case"wa":case"zh":return b>1?1:0;case"lv":return b%10==1&&b%100!=11?0:0!=b?1:2;case"lt":return b%10==1&&b%100!=11?0:b%10>=2&&(10>b%100||b%100>=20)?1:2;case"be":case"bs":case"hr":case"ru":case"sr":case"uk":return b%10==1&&b%100!=11?0:b%10>=2&&4>=b%10&&(10>b%100||b%100>=20)?1:2;case"mnk":return 0==b?0:1==b?1:2;case"ro":return 1==b?0:0==b||b%100>0&&20>b%100?1:2;case"pl":return 1==b?0:b%10>=2&&4>=b%10&&(10>b%100||b%100>=20)?1:2;case"cs":case"sk":return 1==b?0:b>=2&&4>=b?1:2;case"sl":return b%100==1?1:b%100==2?2:b%100==3||b%100==4?3:0;case"mt":return 1==b?0:0==b||b%100>1&&11>b%100?1:b%100>10&&20>b%100?2:3;case"gd":return 1==b||11==b?0:2==b||12==b?1:b>2&&20>b?2:3;case"cy":return 1==b?0:2==b?1:8!=b&&11!=b?2:3;case"kw":return 1==b?0:2==b?1:3==b?2:3;case"ga":return 1==b?0:2==b?1:7>b?2:11>b?3:4;case"ar":return 0==b?0:1==b?1:2==b?2:b%100>=3&&10>=b%100?3:b%100>=11?4:5;default:return 1!=b?1:0}}})},{}],5:[function(a,b,c){angular.module("md5",[]).constant("md5",function(){function a(a){return c(b(d(a)))}function b(a){return f(g(e(a),8*a.length))}function c(a){for(var b,c=o?"0123456789ABCDEF":"0123456789abcdef",d="",e=0;e<a.length;e++)b=a.charCodeAt(e),d+=c.charAt(b>>>4&15)+c.charAt(15&b);return d}function d(a){for(var b,c,d="",e=-1;++e<a.length;)b=a.charCodeAt(e),c=e+1<a.length?a.charCodeAt(e+1):0,b>=55296&&56319>=b&&c>=56320&&57343>=c&&(b=65536+((1023&b)<<10)+(1023&c),e++),127>=b?d+=String.fromCharCode(b):2047>=b?d+=String.fromCharCode(192|b>>>6&31,128|63&b):65535>=b?d+=String.fromCharCode(224|b>>>12&15,128|b>>>6&63,128|63&b):2097151>=b&&(d+=String.fromCharCode(240|b>>>18&7,128|b>>>12&63,128|b>>>6&63,128|63&b));return d}function e(a){for(var b=Array(a.length>>2),c=0;c<b.length;c++)b[c]=0;for(var c=0;c<8*a.length;c+=8)b[c>>5]|=(255&a.charCodeAt(c/8))<<c%32;return b}function f(a){for(var b="",c=0;c<32*a.length;c+=8)b+=String.fromCharCode(a[c>>5]>>>c%32&255);return b}function g(a,b){a[b>>5]|=128<<b%32,a[14+(b+64>>>9<<4)]=b;for(var c=1732584193,d=-271733879,e=-1732584194,f=271733878,g=0;g<a.length;g+=16){var h=c,n=d,o=e,p=f;c=i(c,d,e,f,a[g+0],7,-680876936),f=i(f,c,d,e,a[g+1],12,-389564586),e=i(e,f,c,d,a[g+2],17,606105819),d=i(d,e,f,c,a[g+3],22,-1044525330),c=i(c,d,e,f,a[g+4],7,-176418897),f=i(f,c,d,e,a[g+5],12,1200080426),e=i(e,f,c,d,a[g+6],17,-1473231341),d=i(d,e,f,c,a[g+7],22,-45705983),c=i(c,d,e,f,a[g+8],7,1770035416),f=i(f,c,d,e,a[g+9],12,-1958414417),e=i(e,f,c,d,a[g+10],17,-42063),d=i(d,e,f,c,a[g+11],22,-1990404162),c=i(c,d,e,f,a[g+12],7,1804603682),f=i(f,c,d,e,a[g+13],12,-40341101),e=i(e,f,c,d,a[g+14],17,-1502002290),d=i(d,e,f,c,a[g+15],22,1236535329),c=j(c,d,e,f,a[g+1],5,-165796510),f=j(f,c,d,e,a[g+6],9,-1069501632),e=j(e,f,c,d,a[g+11],14,643717713),d=j(d,e,f,c,a[g+0],20,-373897302),c=j(c,d,e,f,a[g+5],5,-701558691),f=j(f,c,d,e,a[g+10],9,38016083),e=j(e,f,c,d,a[g+15],14,-660478335),d=j(d,e,f,c,a[g+4],20,-405537848),c=j(c,d,e,f,a[g+9],5,568446438),f=j(f,c,d,e,a[g+14],9,-1019803690),e=j(e,f,c,d,a[g+3],14,-187363961),d=j(d,e,f,c,a[g+8],20,1163531501),c=j(c,d,e,f,a[g+13],5,-1444681467),f=j(f,c,d,e,a[g+2],9,-51403784),e=j(e,f,c,d,a[g+7],14,1735328473),d=j(d,e,f,c,a[g+12],20,-1926607734),c=k(c,d,e,f,a[g+5],4,-378558),f=k(f,c,d,e,a[g+8],11,-2022574463),e=k(e,f,c,d,a[g+11],16,1839030562),d=k(d,e,f,c,a[g+14],23,-35309556),c=k(c,d,e,f,a[g+1],4,-1530992060),f=k(f,c,d,e,a[g+4],11,1272893353),e=k(e,f,c,d,a[g+7],16,-155497632),d=k(d,e,f,c,a[g+10],23,-1094730640),c=k(c,d,e,f,a[g+13],4,681279174),f=k(f,c,d,e,a[g+0],11,-358537222),e=k(e,f,c,d,a[g+3],16,-722521979),d=k(d,e,f,c,a[g+6],23,76029189),c=k(c,d,e,f,a[g+9],4,-640364487),f=k(f,c,d,e,a[g+12],11,-421815835),e=k(e,f,c,d,a[g+15],16,530742520),d=k(d,e,f,c,a[g+2],23,-995338651),c=l(c,d,e,f,a[g+0],6,-198630844),f=l(f,c,d,e,a[g+7],10,1126891415),e=l(e,f,c,d,a[g+14],15,-1416354905),d=l(d,e,f,c,a[g+5],21,-57434055),c=l(c,d,e,f,a[g+12],6,1700485571),f=l(f,c,d,e,a[g+3],10,-1894986606),e=l(e,f,c,d,a[g+10],15,-1051523),d=l(d,e,f,c,a[g+1],21,-2054922799),c=l(c,d,e,f,a[g+8],6,1873313359),f=l(f,c,d,e,a[g+15],10,-30611744),e=l(e,f,c,d,a[g+6],15,-1560198380),d=l(d,e,f,c,a[g+13],21,1309151649),c=l(c,d,e,f,a[g+4],6,-145523070),f=l(f,c,d,e,a[g+11],10,-1120210379),e=l(e,f,c,d,a[g+2],15,718787259),d=l(d,e,f,c,a[g+9],21,-343485551),c=m(c,h),d=m(d,n),e=m(e,o),f=m(f,p)}return Array(c,d,e,f)}function h(a,b,c,d,e,f){return m(n(m(m(b,a),m(d,f)),e),c)}function i(a,b,c,d,e,f,g){return h(b&c|~b&d,a,b,e,f,g)}function j(a,b,c,d,e,f,g){return h(b&d|c&~d,a,b,e,f,g)}function k(a,b,c,d,e,f,g){return h(b^c^d,a,b,e,f,g)}function l(a,b,c,d,e,f,g){return h(c^(b|~d),a,b,e,f,g)}function m(a,b){var c=(65535&a)+(65535&b);return(a>>16)+(b>>16)+(c>>16)<<16|65535&c}function n(a,b){return a<<b|a>>>32-b}var o=0;return a}()),function(){var a;a=function(a){return["gravatarService",function(b){var c;return c=function(a,b){var c,d,e;d={};for(c in b)e=b[c],0===c.indexOf(a)&&(c=c.substr(a.length).toLowerCase(),c.length>0&&(d[c]=e));return d},{restrict:"A",link:function(d,e,f){var g,h,i,j;g=a?"gravatarSrcOnce":"gravatarSrc",h=f[g],delete f[g],i=c("gravatar",f),j=d.$watch(h,function(c){if(e.attr("src",b.url(c,i)),a){if(null==c)return;j()}})}}}]},angular.module("ui.gravatar",["md5"]).provider("gravatarService",["md5",function(a){var b,c,d;return c=this,b=/^[0-9a-f]{32}$/i,d=function(a){var b,c,d;c=[];for(b in a)d=a[b],c.push(b+"="+encodeURIComponent(d));return c.join("&")},this.defaults={},this.secure=!1,this.protocol=null,this.urlFunc=function(c){var e,f,g,h,i;return g=c.protocol?c.protocol+":":"",i=c.secure?"https://secure":g+"//www",h=b.test(c.src)?c.src:a(c.src),f=[i,".gravatar.com/avatar/",h],e=d(c.params),e.length>0&&f.push("?"+e),f.join("")},this.$get=[function(){return{url:function(a,b){return null==a&&(a=""),null==b&&(b={}),c.urlFunc({params:angular.extend(angular.copy(c.defaults),b),protocol:c.protocol,secure:c.secure,src:a})}}}],this}]).directive("gravatarSrc",a()).directive("gravatarSrcOnce",a(!0))}.call(this)},{}],6:[function(a,b,c){!function(){"use strict";angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(a){var b=["$q","$cacheFactory","$timeout","$rootScope","$log","cfpLoadingBar",function(b,c,d,e,f,g){function h(){d.cancel(j),g.complete(),l=0,k=0}function i(b){var d,e=c.get("$http"),f=a.defaults;!b.cache&&!f.cache||!1===b.cache||"GET"!==b.method&&"JSONP"!==b.method||(d=angular.isObject(b.cache)?b.cache:angular.isObject(f.cache)?f.cache:e);var g=void 0!==d&&void 0!==d.get(b.url);return void 0!==b.cached&&g!==b.cached?b.cached:(b.cached=g,g)}var j,k=0,l=0,m=g.latencyThreshold;return{request:function(a){return a.ignoreLoadingBar||i(a)||(e.$broadcast("cfpLoadingBar:loading",{url:a.url}),0===k&&(j=d(function(){g.start()},m)),k++,g.set(l/k)),a},response:function(a){return a&&a.config?(a.config.ignoreLoadingBar||i(a.config)||(l++,e.$broadcast("cfpLoadingBar:loaded",{url:a.config.url,result:a}),l>=k?h():g.set(l/k)),a):(f.error("Broken interceptor detected: Config object not supplied in response:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),a)},responseError:function(a){return a&&a.config?(a.config.ignoreLoadingBar||i(a.config)||(l++,e.$broadcast("cfpLoadingBar:loaded",{url:a.config.url,result:a}),l>=k?h():g.set(l/k)),b.reject(a)):(f.error("Broken interceptor detected: Config object not supplied in rejection:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),b.reject(a))}}}];a.interceptors.push(b)}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>',this.$get=["$injector","$document","$timeout","$rootScope",function(a,b,c,d){function e(){k||(k=a.get("$animate"));var e=b.find(n).eq(0);c.cancel(m),r||(d.$broadcast("cfpLoadingBar:started"),r=!0,u&&k.enter(o,e,angular.element(e[0].lastChild)),t&&k.enter(q,e,angular.element(e[0].lastChild)),f(v))}function f(a){if(r){var b=100*a+"%";p.css("width",b),s=a,c.cancel(l),l=c(function(){g()},250)}}function g(){if(!(h()>=1)){var a=0,b=h();a=b>=0&&.25>b?(3*Math.random()+3)/100:b>=.25&&.65>b?3*Math.random()/100:b>=.65&&.9>b?2*Math.random()/100:b>=.9&&.99>b?.005:0,f(h()+a)}}function h(){return s}function i(){s=0,r=!1}function j(){k||(k=a.get("$animate")),d.$broadcast("cfpLoadingBar:completed"),f(1),c.cancel(m),m=c(function(){var a=k.leave(o,i);a&&a.then&&a.then(i),k.leave(q)},500)}var k,l,m,n=this.parentSelector,o=angular.element(this.loadingBarTemplate),p=o.find("div").eq(0),q=angular.element(this.spinnerTemplate),r=!1,s=0,t=this.includeSpinner,u=this.includeBar,v=this.startSize;return{start:e,set:f,status:h,inc:g,complete:j,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}()},{}],7:[function(a,b,c){!function(a,b){"use strict";function c(a){return null!=a&&""!==a&&"hasOwnProperty"!==a&&g.test("."+a)}function d(a,d){if(!c(d))throw f("badmember",'Dotted member path "@{0}" is invalid.',d);for(var e=d.split("."),g=0,h=e.length;h>g&&b.isDefined(a);g++){var i=e[g];a=null!==a?a[i]:void 0}return a}function e(a,c){c=c||{},b.forEach(c,function(a,b){delete c[b]});for(var d in a)!a.hasOwnProperty(d)||"$"===d.charAt(0)&&"$"===d.charAt(1)||(c[d]=a[d]);return c}var f=b.$$minErr("$resource"),g=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;b.module("ngResource",["ng"]).provider("$resource",function(){var a=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(c,g,h,i){function j(a){return k(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function k(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,b?"%20":"+")}function l(b,c){this.template=b,this.defaults=p({},a.defaults,c),this.urlParams={}}function m(j,k,s,t){function u(a,b){var c={};return b=p({},k,b),o(b,function(b,e){r(b)&&(b=b()),c[e]=b&&b.charAt&&"@"==b.charAt(0)?d(a,b.substr(1)):b}),c}function v(a){return a.resource}function w(a){e(a||{},this)}var x=new l(j,t);return s=p({},a.defaults.actions,s),w.prototype.toJSON=function(){var a=p({},this);return delete a.$promise,delete a.$resolved,a},o(s,function(d,j){var k=/^(POST|PUT|PATCH)$/i.test(d.method),l=d.timeout,m=b.isDefined(d.cancellable)?d.cancellable:t&&b.isDefined(t.cancellable)?t.cancellable:a.defaults.cancellable;l&&!b.isNumber(l)&&(g.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete d.timeout,l=null),w[j]=function(a,g,s,t){var y,z,A,B={};switch(arguments.length){case 4:A=t,z=s;case 3:case 2:if(!r(g)){B=a,y=g,z=s;break}if(r(a)){z=a,A=g;break}z=g,A=s;case 1:r(a)?z=a:k?y=a:B=a;break;case 0:break;default:throw f("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var C,D,E=this instanceof w,F=E?y:d.isArray?[]:new w(y),G={},H=d.interceptor&&d.interceptor.response||v,I=d.interceptor&&d.interceptor.responseError||void 0;o(d,function(a,b){switch(b){default:G[b]=q(a);break;case"params":case"isArray":case"interceptor":case"cancellable":}}),!E&&m&&(C=h.defer(),G.timeout=C.promise,l&&(D=i(C.resolve,l))),k&&(G.data=y),x.setUrlParams(G,p({},u(y,d.params||{}),B),d.url);var J=c(G).then(function(a){var c=a.data;if(c){if(b.isArray(c)!==!!d.isArray)throw f("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",j,d.isArray?"array":"object",b.isArray(c)?"array":"object",G.method,G.url);if(d.isArray)F.length=0,o(c,function(a){"object"===(void 0===a?"undefined":_typeof(a))?F.push(new w(a)):F.push(a)});else{var g=F.$promise;e(c,F),F.$promise=g}}return a.resource=F,a},function(a){return(A||n)(a),h.reject(a)});return J["finally"](function(){F.$resolved=!0,!E&&m&&(F.$cancelRequest=b.noop,i.cancel(D),C=D=G.timeout=null)}),J=J.then(function(a){var b=H(a);return(z||n)(b,a.headers),b},I),E?J:(F.$promise=J,F.$resolved=!1,m&&(F.$cancelRequest=C.resolve),F)},w.prototype["$"+j]=function(a,b,c){r(a)&&(c=b,b=a,a={});var d=w[j].call(this,a,this,b,c);return d.$promise||d}}),w.bind=function(a){return m(j,p({},k,a),s)},w}var n=b.noop,o=b.forEach,p=b.extend,q=b.copy,r=b.isFunction;return l.prototype={setUrlParams:function(a,c,d){var e,g,h=this,i=d||h.template,l="",m=h.urlParams={};o(i.split(/\W/),function(a){if("hasOwnProperty"===a)throw f("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(a)&&a&&new RegExp("(^|[^\\\\]):"+a+"(\\W|$)").test(i)&&(m[a]={isQueryParamValue:new RegExp("\\?.*=:"+a+"(?:\\W|$)").test(i)})}),i=i.replace(/\\:/g,":"),i=i.replace(/^https?:\/\/[^\/]*/,function(a){return l=a,""}),c=c||{},o(h.urlParams,function(a,d){e=c.hasOwnProperty(d)?c[d]:h.defaults[d],b.isDefined(e)&&null!==e?(g=a.isQueryParamValue?k(e,!0):j(e),i=i.replace(new RegExp(":"+d+"(\\W|$)","g"),function(a,b){return g+b})):i=i.replace(new RegExp("(/?):"+d+"(\\W|$)","g"),function(a,b,c){return"/"==c.charAt(0)?c:b+c})}),h.defaults.stripTrailingSlashes&&(i=i.replace(/\/+$/,"")||"/"),i=i.replace(/\/\.(?=\w+($|\?))/,"."),a.url=l+i.replace(/\/\\\./,"/."),o(c,function(b,c){h.urlParams[c]||(a.params=a.params||{},a.params[c]=b)})}},m}]})}(window,window.angular)},{}],8:[function(a,b,c){!function(a,b){"use strict";function c(){function c(a,b){var c,d={},e=a.split(",");for(c=0;c<e.length;c++)d[b?i(e[c]):e[c]]=!0;return d}function d(b,c){null===b||void 0===b?b="":"string"!=typeof b&&(b=""+b),s.innerHTML=b;var d=5;do{if(0===d)throw m("uinput","Failed to sanitize html because the input is unstable");d--,a.document.documentMode&&q(s),b=s.innerHTML,s.innerHTML=b}while(b!==s.innerHTML);for(var e=s.firstChild;e;){switch(e.nodeType){case 1:c.start(e.nodeName.toLowerCase(),n(e.attributes));break;case 3:c.chars(e.textContent)}var f;if(!((f=e.firstChild)||(1===e.nodeType&&c.end(e.nodeName.toLowerCase()),f=e.nextSibling)))for(;null==f&&(e=e.parentNode)!==s;)f=e.nextSibling,1===e.nodeType&&c.end(e.nodeName.toLowerCase());e=f}for(;e=s.firstChild;)s.removeChild(e)}function n(a){for(var b={},c=0,d=a.length;d>c;c++){var e=a[c];b[e.name]=e.value}return b}function o(a){return a.replace(/&/g,"&amp;").replace(t,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(u,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function p(a,b){var c=!1,d=e(a,a.push);return{start:function(a,e){a=i(a),!c&&C[a]&&(c=a),c||!0!==D[a]||(d("<"),d(a),g(e,function(c,e){var f=i(e),g="img"===a&&"src"===f||"background"===f;!0!==H[f]||!0===E[f]&&!b(c,g)||(d(" "),d(e),d('="'),d(o(c)),d('"'))}),d(">"))},end:function(a){a=i(a),c||!0!==D[a]||!0===v[a]||(d("</"),d(a),d(">")),a==c&&(c=!1)},chars:function(a){c||d(o(a))}}}function q(b){for(;b;){if(b.nodeType===a.Node.ELEMENT_NODE)for(var c=b.attributes,d=0,e=c.length;e>d;d++){var f=c[d],g=f.name.toLowerCase();"xmlns:ns1"!==g&&0!==g.lastIndexOf("ns1:",0)||(b.removeAttributeNode(f),d--,e--)}var h=b.firstChild;h&&q(h),b=b.nextSibling}}var r=!1;this.$get=["$$sanitizeUri",function(a){return r&&f(D,B),function(b){var c=[];return k(b,l(c,function(b,c){return!/^unsafe:/.test(a(b,c))})),c.join("")}}],this.enableSvg=function(a){return h(a)?(r=a,this):r},e=b.bind,f=b.extend,g=b.forEach,h=b.isDefined,i=b.lowercase,j=b.noop,k=d,l=p;var s,t=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=/([^#-~ |!])/g,v=c("area,br,col,hr,img,wbr"),w=c("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),x=c("rp,rt"),y=f({},x,w),z=f({},w,c("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),A=f({},x,c("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),B=c("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),C=c("script,style"),D=f({},v,z,A,y),E=c("background,cite,href,longdesc,src,xlink:href"),F=c("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),G=c("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),H=f({},E,G,F);!function(a){var b;if(!a.document||!a.document.implementation)throw m("noinert","Can't create an inert html document");b=a.document.implementation.createHTMLDocument("inert");var c=b.documentElement||b.getDocumentElement(),d=c.getElementsByTagName("body");if(1===d.length)s=d[0];else{var e=b.createElement("html");s=b.createElement("body"),e.appendChild(s),b.appendChild(e)}}(a)}function d(a){var b=[];return l(b,j).chars(a),b.join("")}var e,f,g,h,i,j,k,l,m=b.$$minErr("$sanitize");b.module("ngSanitize",[]).provider("$sanitize",c),b.module("ngSanitize").filter("linky",["$sanitize",function(a){var c=b.$$minErr("linky"),e=b.isDefined,f=b.isFunction,g=b.isObject,h=b.isString;return function(b,i,j){function k(a){a&&q.push(d(a))}if(null==b||""===b)return b;if(!h(b))throw c("notstring","Expected string but received: {0}",b);for(var l,m,n,o=f(j)?j:g(j)?function(){return j}:function(){return{}},p=b,q=[];l=p.match(/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i);)m=l[0],l[2]||l[4]||(m=(l[3]?"http://":"mailto:")+m),n=l.index,k(p.substr(0,n)),function(a,b){var c,d=o(a);q.push("<a ");for(c in d)q.push(c+'="'+d[c]+'" ');!e(i)||"target"in d||q.push('target="',i,'" '),q.push('href="',a.replace(/"/g,"&quot;"),'">'),k(b),q.push("</a>")}(m,l[0].replace(/^mailto:/i,"")),p=p.substring(n+l[0].length);return k(p),a(q.join(""))}}])}(window,window.angular)},{}],9:[function(a,b,c){var d=function(a){"use strict";return.5>a?Math.pow(2*a,2)/2:1-Math.pow(2*(1-a),2)/2};angular.module("duScroll",["duScroll.scrollspy","duScroll.smoothScroll","duScroll.scrollContainer","duScroll.spyContext","duScroll.scrollHelpers"]).value("duScrollDuration",350).value("duScrollSpyWait",100).value("duScrollGreedy",!1).value("duScrollOffset",0).value("duScrollEasing",d).value("duScrollCancelOnEvents","scroll mousedown mousewheel touchmove keydown").value("duScrollBottomSpy",!1).value("duScrollActiveClass","active"),angular.module("duScroll.scrollHelpers",["duScroll.requestAnimation"]).run(["$window","$q","cancelAnimation","requestAnimation","duScrollEasing","duScrollDuration","duScrollOffset","duScrollCancelOnEvents",function(a,b,c,d,e,f,g,h){"use strict";var i={},j=function(a){return"undefined"!=typeof HTMLDocument&&a instanceof HTMLDocument||a.nodeType&&a.nodeType===a.DOCUMENT_NODE},k=function(a){return"undefined"!=typeof HTMLElement&&a instanceof HTMLElement||a.nodeType&&a.nodeType===a.ELEMENT_NODE},l=function(a){return k(a)||j(a)?a:a[0]};i.duScrollTo=function(b,c,d,e){var f;if(angular.isElement(b)?f=this.duScrollToElement:angular.isDefined(d)&&(f=this.duScrollToAnimated),f)return f.apply(this,arguments);var g=l(this);return j(g)?a.scrollTo(b,c):(g.scrollLeft=b,void(g.scrollTop=c))};var m,n;i.duScrollToAnimated=function(a,f,g,i){g&&!i&&(i=e);var j=this.duScrollLeft(),k=this.duScrollTop(),l=Math.round(a-j),o=Math.round(f-k),p=null,q=0,r=this,s=function u(a){(!a||q&&a.which>0)&&(h&&r.unbind(h,u),c(m),n.reject(),m=null)};if(m&&s(),n=b.defer(),0===g||!l&&!o)return 0===g&&r.duScrollTo(a,f),n.resolve(),n.promise;var t=function v(a){null===p&&(p=a),q=a-p;var b=q>=g?1:i(q/g);r.scrollTo(j+Math.ceil(l*b),k+Math.ceil(o*b)),1>b?m=d(v):(h&&r.unbind(h,s),m=null,n.resolve())};return r.duScrollTo(j,k),h&&r.bind(h,s),m=d(t),n.promise},i.duScrollToElement=function(a,b,c,d){var e=l(this);angular.isNumber(b)&&!isNaN(b)||(b=g);var f=this.duScrollTop()+l(a).getBoundingClientRect().top-b;return k(e)&&(f-=e.getBoundingClientRect().top),this.duScrollTo(0,f,c,d)},i.duScrollLeft=function(b,c,d){if(angular.isNumber(b))return this.duScrollTo(b,this.duScrollTop(),c,d);var e=l(this);return j(e)?a.scrollX||document.documentElement.scrollLeft||document.body.scrollLeft:e.scrollLeft},i.duScrollTop=function(b,c,d){if(angular.isNumber(b))return this.duScrollTo(this.duScrollLeft(),b,c,d);var e=l(this);return j(e)?a.scrollY||document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop},i.duScrollToElementAnimated=function(a,b,c,d){return this.duScrollToElement(a,b,c||f,d)},i.duScrollTopAnimated=function(a,b,c){return this.duScrollTop(a,b||f,c)},i.duScrollLeftAnimated=function(a,b,c){return this.duScrollLeft(a,b||f,c)},angular.forEach(i,function(a,b){angular.element.prototype[b]=a;var c=b.replace(/^duScroll/,"scroll");angular.isUndefined(angular.element.prototype[c])&&(angular.element.prototype[c]=a)})}]),angular.module("duScroll.polyfill",[]).factory("polyfill",["$window",function(a){"use strict";var b=["webkit","moz","o","ms"];return function(c,d){if(a[c])return a[c];for(var e,f=c.substr(0,1).toUpperCase()+c.substr(1),g=0;g<b.length;g++)if(e=b[g]+f,a[e])return a[e];return d}}]),angular.module("duScroll.requestAnimation",["duScroll.polyfill"]).factory("requestAnimation",["polyfill","$timeout",function(a,b){"use strict";var c=0;return a("requestAnimationFrame",function(a,d){var e=(new Date).getTime(),f=Math.max(0,16-(e-c)),g=b(function(){a(e+f)},f);return c=e+f,g})}]).factory("cancelAnimation",["polyfill","$timeout",function(a,b){"use strict";return a("cancelAnimationFrame",function(a){b.cancel(a)})}]),angular.module("duScroll.spyAPI",["duScroll.scrollContainerAPI"]).factory("spyAPI",["$rootScope","$timeout","$window","$document","scrollContainerAPI","duScrollGreedy","duScrollSpyWait","duScrollBottomSpy","duScrollActiveClass",function(a,b,c,d,e,f,g,h,i){"use strict";var j=function(e){var j=!1,k=!1,l=function(){k=!1;var b,g=e.container,j=g[0],l=0;"undefined"!=typeof HTMLElement&&j instanceof HTMLElement||j.nodeType&&j.nodeType===j.ELEMENT_NODE?(l=j.getBoundingClientRect().top,b=Math.round(j.scrollTop+j.clientHeight)>=j.scrollHeight):b=Math.round(c.pageYOffset+c.innerHeight)>=d[0].body.scrollHeight;var m,n,o,p,q,r,s=h&&b?"bottom":"top";for(p=e.spies,n=e.currentlyActive,o=void 0,m=0;m<p.length;m++)q=p[m],(r=q.getTargetPosition())&&(h&&b||r.top+q.offset-l<20&&(f||-1*r.top+l)<r.height)&&(!o||o[s]<r[s])&&(o={spy:q},o[s]=r[s]);o&&(o=o.spy),n===o||f&&!o||(n&&(n.$element.removeClass(i),a.$broadcast("duScrollspy:becameInactive",n.$element,angular.element(n.getTargetElement()))),o&&(o.$element.addClass(i),a.$broadcast("duScrollspy:becameActive",o.$element,angular.element(o.getTargetElement()))),e.currentlyActive=o)};return g?function(){j?k=!0:(l(),j=b(function(){j=!1,k&&l()},g,!1))}:l},k={},l=function(a){var b=a.$id,c={spies:[]};return c.handler=j(c),k[b]=c,a.$on("$destroy",function(){m(a)}),b},m=function(a){var b=a.$id,c=k[b],d=c.container;d&&d.off("scroll",c.handler),delete k[b]},n=l(a),o=function r(a){return k[a.$id]?k[a.$id]:a.$parent?r(a.$parent):k[n]},p=function(a){var b,c,d=a.$scope;if(d)return o(d);for(c in k)if(b=k[c],-1!==b.spies.indexOf(a))return b},q=function(a){for(;a.parentNode;)if((a=a.parentNode)===document)return!0;return!1};return{addSpy:function(a){var b=p(a);b&&(b.spies.push(a),b.container&&q(b.container)||(b.container&&b.container.off("scroll",b.handler),b.container=e.getContainer(a.$scope),b.container.on("scroll",b.handler).triggerHandler("scroll")))},removeSpy:function(a){var b=p(a);a===b.currentlyActive&&(b.currentlyActive=null);var c=b.spies.indexOf(a);-1!==c&&b.spies.splice(c,1),a.$element=null},createContext:l,destroyContext:m,getContextForScope:o}}]),angular.module("duScroll.scrollContainerAPI",[]).factory("scrollContainerAPI",["$document",function(a){"use strict";var b={},c=function(a,c){var d=a.$id;return b[d]=c,d},d=function e(a){return b[a.$id]?a.$id:a.$parent?e(a.$parent):void 0};return{getContainerId:d,getContainer:function(c){var e=d(c);return e?b[e]:a},setContainer:c,removeContainer:function(a){var c=d(a);c&&delete b[c]}}}]),angular.module("duScroll.smoothScroll",["duScroll.scrollHelpers","duScroll.scrollContainerAPI"]).directive("duSmoothScroll",["duScrollDuration","duScrollOffset","scrollContainerAPI",function(a,b,c){"use strict";return{link:function(d,e,f){e.on("click",function(e){if(f.href&&-1!==f.href.indexOf("#")||""!==f.duSmoothScroll){var g=f.href?f.href.replace(/.*(?=#[^\s]+$)/,"").substring(1):f.duSmoothScroll,h=document.getElementById(g)||document.getElementsByName(g)[0];if(h&&h.getBoundingClientRect){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault();var i=f.offset?parseInt(f.offset,10):b,j=f.duration?parseInt(f.duration,10):a;c.getContainer(d).duScrollToElement(angular.element(h),isNaN(i)?0:i,isNaN(j)?0:j)}}})}}}]),angular.module("duScroll.spyContext",["duScroll.spyAPI"]).directive("duSpyContext",["spyAPI",function(a){"use strict";return{restrict:"A",scope:!0,compile:function(b,c,d){return{pre:function(b,c,d,e){a.createContext(b)}}}}}]),angular.module("duScroll.scrollContainer",["duScroll.scrollContainerAPI"]).directive("duScrollContainer",["scrollContainerAPI",function(a){"use strict";return{restrict:"A",scope:!0,compile:function(b,c,d){return{pre:function(b,c,d,e){d.$observe("duScrollContainer",function(d){angular.isString(d)&&(d=document.getElementById(d)),d=angular.isElement(d)?angular.element(d):c,a.setContainer(b,d),b.$on("$destroy",function(){a.removeContainer(b)})})}}}}}]),angular.module("duScroll.scrollspy",["duScroll.spyAPI"]).directive("duScrollspy",["spyAPI","duScrollOffset","$timeout","$rootScope",function(a,b,c,d){"use strict";var e=function(a,b,c,d){angular.isElement(a)?this.target=a:angular.isString(a)&&(this.targetId=a),this.$scope=b,this.$element=c,this.offset=d};return e.prototype.getTargetElement=function(){return!this.target&&this.targetId&&(this.target=document.getElementById(this.targetId)||document.getElementsByName(this.targetId)[0]),this.target},e.prototype.getTargetPosition=function(){var a=this.getTargetElement();return a?a.getBoundingClientRect():void 0},e.prototype.flushTargetCache=function(){this.targetId&&(this.target=void 0)},{link:function(f,g,h){var i,j=h.ngHref||h.href;if(j&&-1!==j.indexOf("#")?i=j.replace(/.*(?=#[^\s]+$)/,"").substring(1):h.duScrollspy?i=h.duScrollspy:h.duSmoothScroll&&(i=h.duSmoothScroll),i){var k=c(function(){var c=new e(i,f,g,-(h.offset?parseInt(h.offset,10):b));a.addSpy(c),f.$on("$locationChangeSuccess",c.flushTargetCache.bind(c));var j=d.$on("$stateChangeSuccess",c.flushTargetCache.bind(c));f.$on("$destroy",function(){a.removeSpy(c),j()})},0,!1);f.$on("$destroy",function(){c.cancel(k)})}}}}])},{}],10:[function(a,b,c){void 0!==b&&void 0!==c&&b.exports===c&&(b.exports="ui.router"),function(a,b,c){"use strict";function d(a,b){return R(new(R(function(){},{prototype:a})),b)}function e(a){return Q(arguments,function(b){b!==a&&Q(b,function(b,c){a.hasOwnProperty(c)||(a[c]=b)})}),a}function f(a,b){var c=[];for(var d in a.path){if(a.path[d]!==b.path[d])break;c.push(a.path[d])}return c}function g(a){if(Object.keys)return Object.keys(a);var b=[];return Q(a,function(a,c){b.push(c)}),b}function h(a,b){if(Array.prototype.indexOf)return a.indexOf(b,Number(arguments[2])||0);var c=a.length>>>0,d=Number(arguments[2])||0;for(d=0>d?Math.ceil(d):Math.floor(d),0>d&&(d+=c);c>d;d++)if(d in a&&a[d]===b)return d;return-1}function i(a,b,c,d){var e,i=f(c,d),j={},k=[];for(var l in i)if(i[l]&&i[l].params&&(e=g(i[l].params),e.length))for(var m in e)h(k,e[m])>=0||(k.push(e[m]),j[e[m]]=a[e[m]]);return R({},j,b)}function j(a,b,c){if(!c){c=[];for(var d in a)c.push(d)}for(var e=0;e<c.length;e++){var f=c[e];if(a[f]!=b[f])return!1}return!0}function k(a,b){var c={};return Q(a,function(a){c[a]=b[a]}),c}function l(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return Q(c,function(c){c in a&&(b[c]=a[c])}),b}function m(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var d in a)-1==h(c,d)&&(b[d]=a[d]);return b}function n(a,b){var c=P(a),d=c?[]:{};return Q(a,function(a,e){b(a,e)&&(d[c?d.length:e]=a)}),d}function o(a,b){var c=P(a)?[]:{};return Q(a,function(a,d){c[d]=b(a,d)}),c}function p(a,b){var d=1,f=2,i={},j=[],k=i,l=R(a.when(i),{$$promises:i,$$values:i});this.study=function(i){function n(a,c){if(s[c]!==f){if(r.push(c),s[c]===d)throw r.splice(0,h(r,c)),new Error("Cyclic dependency: "+r.join(" -> "));if(s[c]=d,N(a))q.push(c,[function(){return b.get(a)}],j);else{var e=b.annotate(a);Q(e,function(a){a!==c&&i.hasOwnProperty(a)&&n(i[a],a)}),q.push(c,a,e)}r.pop(),s[c]=f}}function o(a){return O(a)&&a.then&&a.$$promises}if(!O(i))throw new Error("'invocables' must be an object");var p=g(i||{}),q=[],r=[],s={};return Q(i,n),i=r=s=null,function(d,f,g){function h(){--t||(u||e(s,f.$$values),n.$$values=s,n.$$promises=n.$$promises||!0,delete n.$$inheritedValues,j.resolve(s))}function i(a){n.$$failure=a,j.reject(a)}if(o(d)&&g===c&&(g=f,f=d,d=null),d){if(!O(d))throw new Error("'locals' must be an object")}else d=k;if(f){if(!o(f))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else f=l;var j=a.defer(),n=j.promise,r=n.$$promises={},s=R({},d),t=1+q.length/3,u=!1;
if(L(f.$$failure))return i(f.$$failure),n;f.$$inheritedValues&&e(s,m(f.$$inheritedValues,p)),R(r,f.$$promises),f.$$values?(u=e(s,m(f.$$values,p)),n.$$inheritedValues=m(f.$$values,p),h()):(f.$$inheritedValues&&(n.$$inheritedValues=m(f.$$inheritedValues,p)),f.then(h,i));for(var v=0,w=q.length;w>v;v+=3)d.hasOwnProperty(q[v])?h():function(c,e,f){function j(a){l.reject(a),i(a)}function k(){if(!L(n.$$failure))try{l.resolve(b.invoke(e,g,s)),l.promise.then(function(a){s[c]=a,h()},j)}catch(a){j(a)}}var l=a.defer(),m=0;Q(f,function(a){r.hasOwnProperty(a)&&!d.hasOwnProperty(a)&&(m++,r[a].then(function(b){s[a]=b,--m||k()},j))}),m||k(),r[c]=l.promise}(q[v],q[v+1],q[v+2]);return n}},this.resolve=function(a,b,c,d){return this.study(a)(b,c,d)}}function q(a,b,c){this.fromConfig=function(a,b,c){return L(a.template)?this.fromString(a.template,b):L(a.templateUrl)?this.fromUrl(a.templateUrl,b):L(a.templateProvider)?this.fromProvider(a.templateProvider,b,c):null},this.fromString=function(a,b){return M(a)?a(b):a},this.fromUrl=function(c,d){return M(c)&&(c=c(d)),null==c?null:a.get(c,{cache:b,headers:{Accept:"text/html"}}).then(function(a){return a.data})},this.fromProvider=function(a,b,d){return c.invoke(a,null,d||{params:b})}}function r(a,b,e){function f(b,c,d,e){if(q.push(b),o[b])return o[b];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(b))throw new Error("Invalid parameter name '"+b+"' in pattern '"+a+"'");if(p[b])throw new Error("Duplicate parameter name '"+b+"' in pattern '"+a+"'");return p[b]=new U.Param(b,c,d,e),p[b]}function g(a,b,c,d){var e=["",""],f=a.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!b)return f;switch(c){case!1:e=["(",")"+(d?"?":"")];break;case!0:f=f.replace(/\/$/,""),e=["(?:/(",")|/)?"];break;default:e=["("+c+"|",")?"]}return f+e[0]+b+e[1]}function h(e,f){var g,h,i,j,k;return g=e[2]||e[3],k=b.params[g],i=a.substring(m,e.index),h=f?e[4]:e[4]||("*"==e[1]?".*":null),h&&(j=U.type(h)||d(U.type("string"),{pattern:new RegExp(h,b.caseInsensitive?"i":c)})),{id:g,regexp:h,segment:i,type:j,cfg:k}}b=R({params:{}},O(b)?b:{});var i,j=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,k=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l="^",m=0,n=this.segments=[],o=e?e.params:{},p=this.params=e?e.params.$$new():new U.ParamSet,q=[];this.source=a;for(var r,s,t;(i=j.exec(a))&&(r=h(i,!1),!(r.segment.indexOf("?")>=0));)s=f(r.id,r.type,r.cfg,"path"),l+=g(r.segment,s.type.pattern.source,s.squash,s.isOptional),n.push(r.segment),m=j.lastIndex;t=a.substring(m);var u=t.indexOf("?");if(u>=0){var v=this.sourceSearch=t.substring(u);if(t=t.substring(0,u),this.sourcePath=a.substring(0,m+u),v.length>0)for(m=0;i=k.exec(v);)r=h(i,!0),s=f(r.id,r.type,r.cfg,"search"),m=j.lastIndex}else this.sourcePath=a,this.sourceSearch="";l+=g(t)+(!1===b.strict?"/?":"")+"$",n.push(t),this.regexp=new RegExp(l,b.caseInsensitive?"i":c),this.prefix=n[0],this.$$paramNames=q}function s(a){R(this,a)}function t(){function a(a){return null!=a?a.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):a}function e(a){return null!=a?a.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):a}function f(){return{strict:p,caseInsensitive:m}}function i(a){return M(a)||P(a)&&M(a[a.length-1])}function j(){for(;w.length;){var a=w.shift();if(a.pattern)throw new Error("You cannot override a type's .pattern at runtime.");b.extend(u[a.name],l.invoke(a.def))}}function k(a){R(this,a||{})}U=this;var l,m=!1,p=!0,q=!1,u={},v=!0,w=[],x={string:{encode:a,decode:e,is:function(a){return null==a||!L(a)||"string"==typeof a},pattern:/[^\/]*/},"int":{encode:a,decode:function(a){return parseInt(a,10)},is:function(a){return L(a)&&this.decode(a.toString())===a},pattern:/\d+/},bool:{encode:function(a){return a?1:0},decode:function(a){return 0!==parseInt(a,10)},is:function(a){return!0===a||!1===a},pattern:/0|1/},date:{encode:function(a){return this.is(a)?[a.getFullYear(),("0"+(a.getMonth()+1)).slice(-2),("0"+a.getDate()).slice(-2)].join("-"):c},decode:function(a){if(this.is(a))return a;var b=this.capture.exec(a);return b?new Date(b[1],b[2]-1,b[3]):c},is:function(a){return a instanceof Date&&!isNaN(a.valueOf())},equals:function(a,b){return this.is(a)&&this.is(b)&&a.toISOString()===b.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:b.toJson,decode:b.fromJson,is:b.isObject,equals:b.equals,pattern:/[^\/]*/},any:{encode:b.identity,decode:b.identity,equals:b.equals,pattern:/.*/}};t.$$getDefaultValue=function(a){if(!i(a.value))return a.value;if(!l)throw new Error("Injectable functions cannot be called at configuration time");return l.invoke(a.value)},this.caseInsensitive=function(a){return L(a)&&(m=a),m},this.strictMode=function(a){return L(a)&&(p=a),p},this.defaultSquashPolicy=function(a){if(!L(a))return q;if(!0!==a&&!1!==a&&!N(a))throw new Error("Invalid squash policy: "+a+". Valid policies: false, true, arbitrary-string");return q=a,a},this.compile=function(a,b){return new r(a,R(f(),b))},this.isMatcher=function(a){if(!O(a))return!1;var b=!0;return Q(r.prototype,function(c,d){M(c)&&(b=b&&L(a[d])&&M(a[d]))}),b},this.type=function(a,b,c){if(!L(b))return u[a];if(u.hasOwnProperty(a))throw new Error("A type named '"+a+"' has already been defined.");return u[a]=new s(R({name:a},b)),c&&(w.push({name:a,def:c}),v||j()),this},Q(x,function(a,b){u[b]=new s(R({name:b},a))}),u=d(u,{}),this.$get=["$injector",function(a){return l=a,v=!1,j(),Q(x,function(a,b){u[b]||(u[b]=new s(a))}),this}],this.Param=function(a,d,e,f){function j(){if(!l)throw new Error("Injectable functions cannot be called at configuration time");var a=l.invoke(e.$$fn);if(null!==a&&a!==c&&!p.type.is(a))throw new Error("Default value ("+a+") for parameter '"+p.id+"' is not an instance of Type ("+p.type.name+")");return a}function k(a){function b(a){return function(b){return b.from===a}}return a=function(a){var c=o(n(p.replace,b(a)),function(a){return a.to});return c.length?c[0]:a}(a),L(a)?p.type.$normalize(a):j()}function m(){return"{Param:"+a+" "+d+" squash: '"+v+"' optional: "+t+"}"}var p=this;e=function(a){var b=O(a)?g(a):[];return-1===h(b,"value")&&-1===h(b,"type")&&-1===h(b,"squash")&&-1===h(b,"array")&&(a={value:a}),a.$$fn=i(a.value)?a.value:function(){return a.value},a}(e),d=function(c,d,e){if(c.type&&d)throw new Error("Param '"+a+"' has two type configurations.");return d||(c.type?b.isString(c.type)?u[c.type]:c.type instanceof s?c.type:new s(c.type):"config"===e?u.any:u.string)}(e,d,f);var r=function(){var b={array:"search"===f&&"auto"},c=a.match(/\[\]$/)?{array:!0}:{};return R(b,c,e).array}();d=r?d.$asArray(r,"search"===f):d,"string"!==d.name||r||"path"!==f||e.value!==c||(e.value="");var t=e.value!==c,v=function(a,b){var c=a.squash;if(!b||!1===c)return!1;if(!L(c)||null==c)return q;if(!0===c||N(c))return c;throw new Error("Invalid squash policy: '"+c+"'. Valid policies: false, true, or arbitrary string")}(e,t),w=function(a,b,d,e){var f,g,i=[{from:"",to:d||b?c:""},{from:null,to:d||b?c:""}];return f=P(a.replace)?a.replace:[],N(e)&&f.push({from:e,to:c}),g=o(f,function(a){return a.from}),n(i,function(a){return-1===h(g,a.from)}).concat(f)}(e,r,t,v);R(this,{id:a,type:d,location:f,array:r,squash:v,replace:w,isOptional:t,value:k,dynamic:c,config:e,toString:m})},k.prototype={$$new:function(){return d(this,R(new k,{$$parent:this}))},$$keys:function(){for(var a=[],b=[],c=this,d=g(k.prototype);c;)b.push(c),c=c.$$parent;return b.reverse(),Q(b,function(b){Q(g(b),function(b){-1===h(a,b)&&-1===h(d,b)&&a.push(b)})}),a},$$values:function(a){var b={},c=this;return Q(c.$$keys(),function(d){b[d]=c[d].value(a&&a[d])}),b},$$equals:function(a,b){var c=!0,d=this;return Q(d.$$keys(),function(e){var f=a&&a[e],g=b&&b[e];d[e].type.equals(f,g)||(c=!1)}),c},$$validates:function(a){var d,e,f,g,h,i=this.$$keys();for(d=0;d<i.length&&(e=this[i[d]],(f=a[i[d]])!==c&&null!==f||!e.isOptional);d++){if(g=e.type.$normalize(f),!e.type.is(g))return!1;if(h=e.type.encode(g),b.isString(h)&&!e.type.pattern.exec(h))return!1}return!0},$$parent:c},this.ParamSet=k}function u(a,d){function e(a){var b=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(a.source);return null!=b?b[1].replace(/\\(.)/g,"$1"):""}function f(a,b){return a.replace(/\$(\$|\d{1,2})/,function(a,c){return b["$"===c?0:Number(c)]})}function g(a,b,c){if(!c)return!1;var d=a.invoke(b,b,{$match:c});return!L(d)||d}function h(d,e,f,g,h){function m(a,b,c){return"/"===q?a:b?q.slice(0,-1)+a:c?q.slice(1)+a:a}function n(a){function b(a){var b=a(f,d);return!!b&&(N(b)&&d.replace().url(b),!0)}if(!a||!a.defaultPrevented){p&&d.url(),p=c;var e,g=j.length;for(e=0;g>e;e++)if(b(j[e]))return;k&&b(k)}}function o(){return i=i||e.$on("$locationChangeSuccess",n)}var p,q=g.baseHref(),r=d.url();return j.sort(function(a,b){var c=a.prefix?a.prefix.length:0;return(b.prefix?b.prefix.length:0)-c}),l||o(),{sync:function(){n()},listen:function(){return o()},update:function(a){return a?void(r=d.url()):void(d.url()!==r&&(d.url(r),d.replace()))},push:function(a,b,e){var f=a.format(b||{});null!==f&&b&&b["#"]&&(f+="#"+b["#"]),d.url(f),p=e&&e.$$avoidResync?d.url():c,e&&e.replace&&d.replace()},href:function(c,e,f){if(!c.validates(e))return null;var g=a.html5Mode();b.isObject(g)&&(g=g.enabled),g=g&&h.history;var i=c.format(e);if(f=f||{},g||null===i||(i="#"+a.hashPrefix()+i),null!==i&&e&&e["#"]&&(i+="#"+e["#"]),i=m(i,g,f.absolute),!f.absolute||!i)return i;var j=!g&&i?"/":"",k=d.port();return k=80===k||443===k?"":":"+k,[d.protocol(),"://",d.host(),k,j,i].join("")}}}var i,j=[],k=null,l=!1;this.rule=function(a){if(!M(a))throw new Error("'rule' must be a function");return j.push(a),this},this.otherwise=function(a){if(N(a)){var b=a;a=function(){return b}}else if(!M(a))throw new Error("'rule' must be a function");return k=a,this},this.when=function(a,b){var c,h=N(b);if(N(a)&&(a=d.compile(a)),!h&&!M(b)&&!P(b))throw new Error("invalid 'handler' in when()");var i={matcher:function(a,b){return h&&(c=d.compile(b),b=["$match",function(a){return c.format(a)}]),R(function(c,d){return g(c,b,a.exec(d.path(),d.search()))},{prefix:N(a.prefix)?a.prefix:""})},regex:function(a,b){if(a.global||a.sticky)throw new Error("when() RegExp must not be global or sticky");return h&&(c=b,b=["$match",function(a){return f(c,a)}]),R(function(c,d){return g(c,b,a.exec(d.path()))},{prefix:e(a)})}},j={matcher:d.isMatcher(a),regex:a instanceof RegExp};for(var k in j)if(j[k])return this.rule(i[k](a,b));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(a){a===c&&(a=!0),l=a},this.$get=h,h.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function v(a,e){function f(a){return 0===a.indexOf(".")||0===a.indexOf("^")}function m(a,b){if(!a)return c;var d=N(a),e=d?a:a.name;if(f(e)){if(!b)throw new Error("No reference point given for path '"+e+"'");b=m(b);for(var g=e.split("."),h=0,i=g.length,j=b;i>h;h++)if(""!==g[h]||0!==h){if("^"!==g[h])break;if(!j.parent)throw new Error("Path '"+e+"' not valid for state '"+b.name+"'");j=j.parent}else j=b;g=g.slice(h).join("."),e=j.name+(j.name&&g?".":"")+g}var k=z[e];return!k||!d&&(d||k!==a&&k.self!==a)?c:k}function n(a,b){A[a]||(A[a]=[]),A[a].push(b)}function p(a){for(var b=A[a]||[];b.length;)q(b.shift())}function q(b){b=d(b,{self:b,resolve:b.resolve||{},toString:function(){return this.name}});var c=b.name;if(!N(c)||c.indexOf("@")>=0)throw new Error("State must have a valid name");if(z.hasOwnProperty(c))throw new Error("State '"+c+"' is already defined");var e=-1!==c.indexOf(".")?c.substring(0,c.lastIndexOf(".")):N(b.parent)?b.parent:O(b.parent)&&N(b.parent.name)?b.parent.name:"";if(e&&!z[e])return n(e,b.self);for(var f in C)M(C[f])&&(b[f]=C[f](b,C.$delegates[f]));return z[c]=b,!b[B]&&b.url&&a.when(b.url,["$match","$stateParams",function(a,c){y.$current.navigable==b&&j(a,c)||y.transitionTo(b,a,{inherit:!0,location:!1})}]),p(c),b}function r(a){return a.indexOf("*")>-1}function s(a){for(var b=a.split("."),c=y.$current.name.split("."),d=0,e=b.length;e>d;d++)"*"===b[d]&&(c[d]="*");return"**"===b[0]&&(c=c.slice(h(c,b[1])),c.unshift("**")),"**"===b[b.length-1]&&(c.splice(h(c,b[b.length-2])+1,Number.MAX_VALUE),c.push("**")),b.length==c.length&&c.join("")===b.join("")}function t(a,b){return N(a)&&!L(b)?C[a]:M(b)&&N(a)?(C[a]&&!C.$delegates[a]&&(C.$delegates[a]=C[a]),C[a]=b,this):this}function u(a,b){return O(a)?b=a:b.name=a,q(b),this}function v(a,e,f,h,l,n,p,q,t){function u(b,c,d,f){var g=a.$broadcast("$stateNotFound",b,c,d);if(g.defaultPrevented)return p.update(),D;if(!g.retry)return null;if(f.$retry)return p.update(),E;var h=y.transition=e.when(g.retry);return h.then(function(){return h!==y.transition?A:(b.options.$retry=!0,y.transitionTo(b.to,b.toParams,b.options))},function(){return D}),p.update(),h}function v(a,c,d,g,i,j){function m(){var c=[];return Q(a.views,function(d,e){var g=d.resolve&&d.resolve!==a.resolve?d.resolve:{};g.$template=[function(){return f.load(e,{view:d,locals:i.globals,params:n,notify:j.notify})||""}],c.push(l.resolve(g,i.globals,i.resolve,a).then(function(c){if(M(d.controllerProvider)||P(d.controllerProvider)){var f=b.extend({},g,i.globals);c.$$controller=h.invoke(d.controllerProvider,null,f)}else c.$$controller=d.controller;c.$$state=a,c.$$controllerAs=d.controllerAs,i[e]=c}))}),e.all(c).then(function(){return i.globals})}var n=d?c:k(a.params.$$keys(),c),o={$stateParams:n};i.resolve=l.resolve(a.resolve,o,i.resolve,a);var p=[i.resolve.then(function(a){i.globals=a})];return g&&p.push(g),e.all(p).then(m).then(function(a){return i})}var A=e.reject(new Error("transition superseded")),C=e.reject(new Error("transition prevented")),D=e.reject(new Error("transition aborted")),E=e.reject(new Error("transition failed"));return x.locals={resolve:null,globals:{$stateParams:{}}},y={params:{},current:x.self,$current:x,transition:null},y.reload=function(a){return y.transitionTo(y.current,n,{reload:a||!0,inherit:!1,notify:!0})},y.go=function(a,b,c){return y.transitionTo(a,b,R({inherit:!0,relative:y.$current},c))},y.transitionTo=function(b,c,f){c=c||{},f=R({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},f||{});var g,j=y.$current,l=y.params,o=j.path,q=m(b,f.relative),r=c["#"];if(!L(q)){var s={to:b,toParams:c,options:f},t=u(s,j.self,l,f);if(t)return t;if(b=s.to,c=s.toParams,f=s.options,q=m(b,f.relative),!L(q)){if(!f.relative)throw new Error("No such state '"+b+"'");throw new Error("Could not resolve '"+b+"' from state '"+f.relative+"'")}}if(q[B])throw new Error("Cannot transition to abstract state '"+b+"'");if(f.inherit&&(c=i(n,c||{},y.$current,q)),!q.params.$$validates(c))return E;c=q.params.$$values(c),b=q;var z=b.path,D=0,F=z[D],G=x.locals,H=[];if(f.reload){if(N(f.reload)||O(f.reload)){if(O(f.reload)&&!f.reload.name)throw new Error("Invalid reload state object");var I=!0===f.reload?o[0]:m(f.reload);if(f.reload&&!I)throw new Error("No such reload state '"+(N(f.reload)?f.reload:f.reload.name)+"'");for(;F&&F===o[D]&&F!==I;)G=H[D]=F.locals,D++,F=z[D]}}else for(;F&&F===o[D]&&F.ownParams.$$equals(c,l);)G=H[D]=F.locals,D++,F=z[D];if(w(b,c,j,l,G,f))return r&&(c["#"]=r),y.params=c,S(y.params,n),S(k(b.params.$$keys(),n),b.locals.globals.$stateParams),f.location&&b.navigable&&b.navigable.url&&(p.push(b.navigable.url,c,{$$avoidResync:!0,replace:"replace"===f.location}),p.update(!0)),y.transition=null,e.when(y.current);if(c=k(b.params.$$keys(),c||{}),r&&(c["#"]=r),f.notify&&a.$broadcast("$stateChangeStart",b.self,c,j.self,l,f).defaultPrevented)return a.$broadcast("$stateChangeCancel",b.self,c,j.self,l),null==y.transition&&p.update(),C;for(var J=e.when(G),K=D;K<z.length;K++,F=z[K])G=H[K]=d(G),J=v(F,c,F===b,J,G,f);var M=y.transition=J.then(function(){var d,e,g;if(y.transition!==M)return A;for(d=o.length-1;d>=D;d--)g=o[d],g.self.onExit&&h.invoke(g.self.onExit,g.self,g.locals.globals),g.locals=null;for(d=D;d<z.length;d++)e=z[d],e.locals=H[d],e.self.onEnter&&h.invoke(e.self.onEnter,e.self,e.locals.globals);return y.transition!==M?A:(y.$current=b,y.current=b.self,y.params=c,S(y.params,n),y.transition=null,f.location&&b.navigable&&p.push(b.navigable.url,b.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===f.location}),f.notify&&a.$broadcast("$stateChangeSuccess",b.self,c,j.self,l),p.update(!0),y.current)},function(d){return y.transition!==M?A:(y.transition=null,g=a.$broadcast("$stateChangeError",b.self,c,j.self,l,d),g.defaultPrevented||p.update(),e.reject(d))});return M},y.is=function(a,b,d){d=R({relative:y.$current},d||{});var e=m(a,d.relative);return L(e)?y.$current===e&&(!b||j(e.params.$$values(b),n)):c},y.includes=function(a,b,d){if(d=R({relative:y.$current},d||{}),N(a)&&r(a)){if(!s(a))return!1;a=y.$current.name}var e=m(a,d.relative);return L(e)?!!L(y.$current.includes[e.name])&&(!b||j(e.params.$$values(b),n,g(b))):c},y.href=function(a,b,d){d=R({lossy:!0,inherit:!0,absolute:!1,relative:y.$current},d||{});var e=m(a,d.relative);if(!L(e))return null;d.inherit&&(b=i(n,b||{},y.$current,e));var f=e&&d.lossy?e.navigable:e;return f&&f.url!==c&&null!==f.url?p.href(f.url,k(e.params.$$keys().concat("#"),b||{}),{absolute:d.absolute}):null},y.get=function(a,b){if(0===arguments.length)return o(g(z),function(a){return z[a].self});var c=m(a,b||y.$current);return c&&c.self?c.self:null},y}function w(a,b,c,d,e,f){return!f.reload&&a===c&&(e===c.locals||!1===a.self.reloadOnSearch&&function(a,b,c){function d(b){return"search"!=a.params[b].location}var e=a.params.$$keys().filter(d),f=l.apply({},[a.params].concat(e));return new U.ParamSet(f).$$equals(b,c)}(c,d,b))?!0:void 0}var x,y,z={},A={},B="abstract",C={parent:function(a){if(L(a.parent)&&a.parent)return m(a.parent);var b=/^(.+)\.[^.]+$/.exec(a.name);return b?m(b[1]):x},data:function(a){return a.parent&&a.parent.data&&(a.data=a.self.data=d(a.parent.data,a.data)),a.data},url:function(a){var b=a.url,c={params:a.params||{}};if(N(b))return"^"==b.charAt(0)?e.compile(b.substring(1),c):(a.parent.navigable||x).url.concat(b,c);if(!b||e.isMatcher(b))return b;throw new Error("Invalid url '"+b+"' in state '"+a+"'")},navigable:function(a){return a.url?a:a.parent?a.parent.navigable:null},ownParams:function(a){var b=a.url&&a.url.params||new U.ParamSet;return Q(a.params||{},function(a,c){b[c]||(b[c]=new U.Param(c,null,a,"config"))}),b},params:function(a){return a.parent&&a.parent.params?R(a.parent.params.$$new(),a.ownParams):new U.ParamSet},views:function(a){var b={};return Q(L(a.views)?a.views:{"":a},function(c,d){d.indexOf("@")<0&&(d+="@"+a.parent.name),b[d]=c}),b},path:function(a){return a.parent?a.parent.path.concat(a):[]},includes:function(a){var b=a.parent?R({},a.parent.includes):{};return b[a.name]=!0,b},$delegates:{}};x=q({name:"",url:"^",views:null,"abstract":!0}),x.navigable=null,this.decorator=t,this.state=u,this.$get=v,v.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function w(){function a(a,b){return{load:function(a,c){var d;return c=R({template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}},c),c.view&&(d=b.fromConfig(c.view,c.params,c.locals)),d}}}this.$get=a,a.$inject=["$rootScope","$templateFactory"]}function x(){var a=!1;this.useAnchorScroll=function(){a=!0},this.$get=["$anchorScroll","$timeout",function(b,c){return a?b:function(a){return c(function(){a[0].scrollIntoView()},0,!1)}}]}function y(a,c,d,e){function f(a,c){if(i)return{enter:function(a,c,d){b.version.minor>2?i.enter(a,null,c).then(d):i.enter(a,null,c,d)},leave:function(a,c){b.version.minor>2?i.leave(a).then(c):i.leave(a,c)}};if(h){var d=h&&h(c,a);return{enter:function(a,b,c){d.enter(a,null,b),c()},leave:function(a,b){d.leave(a),b()}}}return function(){return{enter:function(a,b,c){b.after(a),c()},leave:function(a,b){a.remove(),b()}}}()}var g=function(){return c.has?function(a){return c.has(a)?c.get(a):null}:function(a){try{return c.get(a)}catch(a){return null}}}(),h=g("$animator"),i=g("$animate");return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(c,g,h){return function(c,g,i){function j(){function a(){b&&b.remove(),c&&c.$destroy()}var b=l,c=n;c&&(c._willBeDestroyed=!0),m?(r.leave(m,function(){a(),l=null}),l=m):(a(),l=null),m=null,n=null}function k(f){var k,l=A(c,i,g,e),s=l&&a.$current&&a.$current.locals[l];if((f||s!==o)&&!c._willBeDestroyed){k=c.$new(),o=a.$current.locals[l],k.$emit("$viewContentLoading",l);var t=h(k,function(a){r.enter(a,g,function(){n&&n.$emit("$viewContentAnimationEnded"),(b.isDefined(q)&&!q||c.$eval(q))&&d(a)}),j()});m=t,n=k,n.$emit("$viewContentLoaded",l),n.$eval(p)}}var l,m,n,o,p=i.onload||"",q=i.autoscroll,r=f(i,c);c.$on("$stateChangeSuccess",function(){k(!1)}),k(!0)}}}}function z(a,b,c,d){return{restrict:"ECA",priority:-400,compile:function(e){var f=e.html();return function(e,g,h){var i=c.$current,j=A(e,h,g,d),k=i&&i.locals[j];if(k){g.data("$uiView",{name:j,state:k.$$state}),g.html(k.$template?k.$template:f);var l=a(g.contents());if(k.$$controller){k.$scope=e,k.$element=g;var m=b(k.$$controller,k);k.$$controllerAs&&(e[k.$$controllerAs]=m),g.data("$ngControllerController",m),g.children().data("$ngControllerController",m)}l(e)}}}}}function A(a,b,c,d){var e=d(b.uiView||b.name||"")(a),f=c.inheritedData("$uiView");return e.indexOf("@")>=0?e:e+"@"+(f?f.state.name:"")}function B(a,b){var c,d=a.match(/^\s*({[^}]*})\s*$/);if(d&&(a=b+"("+d[1]+")"),!(c=a.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/))||4!==c.length)throw new Error("Invalid state ref '"+a+"'");return{state:c[1],paramExpr:c[3]||null}}function C(a){var b=a.parent().inheritedData("$uiView");return b&&b.state&&b.state.name?b.state:void 0}function D(a){var b="[object SVGAnimatedString]"===Object.prototype.toString.call(a.prop("href")),c="FORM"===a[0].nodeName;return{attr:c?"action":b?"xlink:href":"href",isAnchor:"A"===a.prop("tagName").toUpperCase(),clickable:!c}}function E(a,b,c,d,e){return function(f){var g=f.which||f.button,h=e();if(!(g>1||f.ctrlKey||f.metaKey||f.shiftKey||a.attr("target"))){var i=c(function(){b.go(h.state,h.params,h.options)});f.preventDefault();var j=d.isAnchor&&!h.href?1:0;f.preventDefault=function(){j--<=0&&c.cancel(i)}}}}function F(a,b){return{relative:C(a)||b.$current,inherit:!0}}function G(a,c){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(d,e,f,g){var h=B(f.uiSref,a.current.name),i={state:h.state,href:null,params:null},j=D(e),k=g[1]||g[0];i.options=R(F(e,a),f.uiSrefOpts?d.$eval(f.uiSrefOpts):{});var l=function(c){c&&(i.params=b.copy(c)),i.href=a.href(h.state,i.params,i.options),k&&k.$$addStateInfo(h.state,i.params),null!==i.href&&f.$set(j.attr,i.href)};h.paramExpr&&(d.$watch(h.paramExpr,function(a){a!==i.params&&l(a)},!0),i.params=b.copy(d.$eval(h.paramExpr))),l(),j.clickable&&e.bind("click",E(e,a,c,j,function(){return i}))}}}function H(a,b){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(c,d,e,f){function g(b){l.state=b[0],l.params=b[1],l.options=b[2],l.href=a.href(l.state,l.params,l.options),i&&i.$$addStateInfo(ref.state,l.params),l.href&&e.$set(h.attr,l.href)}var h=D(d),i=f[1]||f[0],j=[e.uiState,e.uiStateParams||null,e.uiStateOpts||null],k="["+j.map(function(a){return a||"null"}).join(", ")+"]",l={state:null,params:null,options:null,href:null};c.$watch(k,g,!0),g(c.$eval(k)),h.clickable&&d.bind("click",E(d,a,b,h,function(){return l}))}}}function I(a,b,c){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(b,d,e,f){function g(b,c,e){var f=a.get(b,C(d)),g=h(b,c);o.push({state:f||{name:b},params:c,hash:g}),p[g]=e}function h(a,c){if(!N(a))throw new Error("state should be a string");return O(c)?a+T(c):(c=b.$eval(c),O(c)?a+T(c):a)}function i(){for(var a=0;a<o.length;a++)l(o[a].state,o[a].params)?j(d,p[o[a].hash]):k(d,p[o[a].hash]),m(o[a].state,o[a].params)?j(d,n):k(d,n)}function j(a,b){f(function(){a.addClass(b)})}function k(a,b){a.removeClass(b)}function l(b,c){return a.includes(b.name,c)}function m(b,c){return a.is(b.name,c)}var n,o=[],p={};n=c(e.uiSrefActiveEq||"",!1)(b);var q=b.$eval(e.uiSrefActive)||c(e.uiSrefActive||"",!1)(b);O(q)&&Q(q,function(c,d){if(N(c)){var e=B(c,a.current.name);g(e.state,b.$eval(e.paramExpr),d)}}),this.$$addStateInfo=function(a,b){O(q)&&o.length>0||(g(a,b,q),i())},b.$on("$stateChangeSuccess",i),i()}]}}function J(a){var b=function(b,c){return a.is(b,c)};return b.$stateful=!0,b}function K(a){var b=function(b,c,d){return a.includes(b,c,d)};return b.$stateful=!0,b}var L=b.isDefined,M=b.isFunction,N=b.isString,O=b.isObject,P=b.isArray,Q=b.forEach,R=b.extend,S=b.copy,T=b.toJson;b.module("ui.router.util",["ng"]),b.module("ui.router.router",["ui.router.util"]),b.module("ui.router.state",["ui.router.router","ui.router.util"]),b.module("ui.router",["ui.router.state"]),b.module("ui.router.compat",["ui.router"]),p.$inject=["$q","$injector"],b.module("ui.router.util").service("$resolve",p),q.$inject=["$http","$templateCache","$injector"],b.module("ui.router.util").service("$templateFactory",q);var U;r.prototype.concat=function(a,b){var c={caseInsensitive:U.caseInsensitive(),strict:U.strictMode(),squash:U.defaultSquashPolicy()};return new r(this.sourcePath+a+this.sourceSearch,R(c,b),this)},r.prototype.toString=function(){return this.source},r.prototype.exec=function(a,b){var c=this.regexp.exec(a);if(!c)return null;b=b||{};var d,e,f,g=this.parameters(),h=g.length,i=this.segments.length-1,j={};if(i!==c.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var k,l;for(d=0;i>d;d++){for(f=g[d],k=this.params[f],l=c[d+1],e=0;e<k.replace.length;e++)k.replace[e].from===l&&(l=k.replace[e].to);l&&!0===k.array&&(l=function(a){function b(a){return a.split("").reverse().join("")}function c(a){return a.replace(/\\-/g,"-")}return o(o(b(a).split(/-(?!\\)/),b),c).reverse()}(l)),L(l)&&(l=k.type.decode(l)),j[f]=k.value(l)}for(;h>d;d++){for(f=g[d],j[f]=this.params[f].value(b[f]),k=this.params[f],l=b[f],e=0;e<k.replace.length;e++)k.replace[e].from===l&&(l=k.replace[e].to);L(l)&&(l=k.type.decode(l)),j[f]=k.value(l)}return j},r.prototype.parameters=function(a){return L(a)?this.params[a]||null:this.$$paramNames},r.prototype.validates=function(a){return this.params.$$validates(a)},r.prototype.format=function(a){function b(a){return encodeURIComponent(a).replace(/-/g,function(a){return"%5C%"+a.charCodeAt(0).toString(16).toUpperCase()})}a=a||{};var c=this.segments,d=this.parameters(),e=this.params;if(!this.validates(a))return null;var f,g=!1,h=c.length-1,i=d.length,j=c[0];for(f=0;i>f;f++){var k=h>f,l=d[f],m=e[l],n=m.value(a[l]),p=m.isOptional&&m.type.equals(m.value(),n),q=!!p&&m.squash,r=m.type.encode(n);if(k){var s=c[f+1],t=f+1===h;if(!1===q)null!=r&&(j+=P(r)?o(r,b).join("-"):encodeURIComponent(r)),j+=s;else if(!0===q){var u=j.match(/\/$/)?/\/?(.*)/:/(.*)/;j+=s.match(u)[1]}else N(q)&&(j+=q+s);t&&!0===m.squash&&"/"===j.slice(-1)&&(j=j.slice(0,-1))}else{if(null==r||p&&!1!==q)continue;if(P(r)||(r=[r]),0===r.length)continue;r=o(r,encodeURIComponent).join("&"+l+"="),j+=(g?"&":"?")+l+"="+r,g=!0}}return j},s.prototype.is=function(a,b){return!0},s.prototype.encode=function(a,b){return a},s.prototype.decode=function(a,b){return a},s.prototype.equals=function(a,b){return a==b},s.prototype.$subPattern=function(){var a=this.pattern.toString();return a.substr(1,a.length-2)},s.prototype.pattern=/.*/,s.prototype.toString=function(){return"{Type:"+this.name+"}"},s.prototype.$normalize=function(a){return this.is(a)?a:this.decode(a)},s.prototype.$asArray=function(a,b){function d(a,b){function d(a,b){return function(){return a[b].apply(a,arguments)}}function e(a){return P(a)?a:L(a)?[a]:[]}function f(a){switch(a.length){case 0:return c;case 1:return"auto"===b?a[0]:a;default:return a}}function g(a){return!a}function h(a,b){return function(c){if(P(c)&&0===c.length)return c;c=e(c);var d=o(c,a);return!0===b?0===n(d,g).length:f(d)}}this.encode=h(d(a,"encode")),this.decode=h(d(a,"decode")),this.is=h(d(a,"is"),!0),this.equals=function(a){return function(b,c){var d=e(b),f=e(c);if(d.length!==f.length)return!1;for(var g=0;g<d.length;g++)if(!a(d[g],f[g]))return!1;return!0}}(d(a,"equals")),this.pattern=a.pattern,this.$normalize=h(d(a,"$normalize")),this.name=a.name,this.$arrayMode=b}if(!a)return this;if("auto"===a&&!b)throw new Error("'auto' array mode is for query parameters only");return new d(this,a)},b.module("ui.router.util").provider("$urlMatcherFactory",t),b.module("ui.router.util").run(["$urlMatcherFactory",function(a){}]),u.$inject=["$locationProvider","$urlMatcherFactoryProvider"],b.module("ui.router.router").provider("$urlRouter",u),v.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],b.module("ui.router.state").factory("$stateParams",function(){return{}}).provider("$state",v),w.$inject=[],b.module("ui.router.state").provider("$view",w),b.module("ui.router.state").provider("$uiViewScroll",x),y.$inject=["$state","$injector","$uiViewScroll","$interpolate"],z.$inject=["$compile","$controller","$state","$interpolate"],b.module("ui.router.state").directive("uiView",y),b.module("ui.router.state").directive("uiView",z),G.$inject=["$state","$timeout"],H.$inject=["$state","$timeout"],I.$inject=["$state","$stateParams","$interpolate"],b.module("ui.router.state").directive("uiSref",G).directive("uiSrefActive",I).directive("uiSrefActiveEq",I).directive("uiState",H),J.$inject=["$state"],K.$inject=["$state"],b.module("ui.router.state").filter("isState",J).filter("includedByState",K)}(window,window.angular)},{}],11:[function(a,b,c){!function(a){"use strict";function b(a,b){return b=b||Error,function(){var c,d,e=arguments,f=e[0],g="["+(a?a+":":"")+f+"] ",h=e[1];for(g+=h.replace(/\{\d+\}/g,function(a){var b=+a.slice(1,-1),c=b+2;return c<e.length?ra(e[c]):a}),g+="\nhttp://errors.angularjs.org/1.5.5/"+(a?a+"/":"")+f,d=2,c="?";d<e.length;d++,c="&")g+=c+"p"+(d-2)+"="+encodeURIComponent(ra(e[d]));return new b(g)}}function c(a){if(null==a||A(a))return!1;if(Qd(a)||v(a)||Fd&&a instanceof Fd)return!0;var b="length"in Object(a)&&a.length;return w(b)&&(b>=0&&(b-1 in a||a instanceof Array)||"function"==typeof a.item)}function d(a,b,e){var f,g;if(a)if(y(a))for(f in a)"prototype"==f||"length"==f||"name"==f||a.hasOwnProperty&&!a.hasOwnProperty(f)||b.call(e,a[f],f,a);else if(Qd(a)||c(a)){var h="object"!==(void 0===a?"undefined":_typeof(a));for(f=0,g=a.length;g>f;f++)(h||f in a)&&b.call(e,a[f],f,a)}else if(a.forEach&&a.forEach!==d)a.forEach(b,e,a);else if(u(a))for(f in a)b.call(e,a[f],f,a);else if("function"==typeof a.hasOwnProperty)for(f in a)a.hasOwnProperty(f)&&b.call(e,a[f],f,a);else for(f in a)zd.call(a,f)&&b.call(e,a[f],f,a);return a}function e(a,b,c){for(var d=Object.keys(a).sort(),e=0;e<d.length;e++)b.call(c,a[d[e]],d[e]);return d}function f(a){return function(b,c){a(c,b)}}function g(){return++Pd}function h(a,b){b?a.$$hashKey=b:delete a.$$hashKey}function i(a,b,c){for(var d=a.$$hashKey,e=0,f=b.length;f>e;++e){var g=b[e];if(t(g)||y(g))for(var j=Object.keys(g),k=0,l=j.length;l>k;k++){var m=j[k],n=g[m];c&&t(n)?x(n)?a[m]=new Date(n.valueOf()):z(n)?a[m]=new RegExp(n):n.nodeName?a[m]=n.cloneNode(!0):J(n)?a[m]=n.clone():(t(a[m])||(a[m]=Qd(n)?[]:{}),i(a[m],[n],!0)):a[m]=n}}return h(a,d),a}function j(a){return i(a,Id.call(arguments,1),!1)}function k(a){return i(a,Id.call(arguments,1),!0)}function l(a){return parseInt(a,10)}function m(a,b){return j(Object.create(a),b)}function n(){}function o(a){return a}function p(a){return function(){return a}}function q(a){return y(a.toString)&&a.toString!==Ld}function r(a){return void 0===a}function s(a){return void 0!==a}function t(a){return null!==a&&"object"===(void 0===a?"undefined":_typeof(a))}function u(a){return null!==a&&"object"===(void 0===a?"undefined":_typeof(a))&&!Md(a)}function v(a){return"string"==typeof a}function w(a){return"number"==typeof a}function x(a){return"[object Date]"===Ld.call(a)}function y(a){return"function"==typeof a}function z(a){return"[object RegExp]"===Ld.call(a)}function A(a){return a&&a.window===a}function B(a){return a&&a.$evalAsync&&a.$watch}function C(a){
return"[object File]"===Ld.call(a)}function D(a){return"[object FormData]"===Ld.call(a)}function E(a){return"[object Blob]"===Ld.call(a)}function F(a){return"boolean"==typeof a}function G(a){return a&&y(a.then)}function H(a){return a&&w(a.length)&&Rd.test(Ld.call(a))}function I(a){return"[object ArrayBuffer]"===Ld.call(a)}function J(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function K(a){var b,c={},d=a.split(",");for(b=0;b<d.length;b++)c[d[b]]=!0;return c}function L(a){return Ad(a.nodeName||a[0]&&a[0].nodeName)}function M(a,b){var c=a.indexOf(b);return c>=0&&a.splice(c,1),c}function N(a,b){function c(a,b){var c,d=b.$$hashKey;if(Qd(a))for(var f=0,g=a.length;g>f;f++)b.push(e(a[f]));else if(u(a))for(c in a)b[c]=e(a[c]);else if(a&&"function"==typeof a.hasOwnProperty)for(c in a)a.hasOwnProperty(c)&&(b[c]=e(a[c]));else for(c in a)zd.call(a,c)&&(b[c]=e(a[c]));return h(b,d),b}function e(a){if(!t(a))return a;var b=g.indexOf(a);if(-1!==b)return i[b];if(A(a)||B(a))throw Nd("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var d=!1,e=f(a);return void 0===e&&(e=Qd(a)?[]:Object.create(Md(a)),d=!0),g.push(a),i.push(e),d?c(a,e):e}function f(a){switch(Ld.call(a)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new a.constructor(e(a.buffer));case"[object ArrayBuffer]":if(!a.slice){var b=new ArrayBuffer(a.byteLength);return new Uint8Array(b).set(new Uint8Array(a)),b}return a.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new a.constructor(a.valueOf());case"[object RegExp]":var c=new RegExp(a.source,a.toString().match(/[^\/]*$/)[0]);return c.lastIndex=a.lastIndex,c;case"[object Blob]":return new a.constructor([a],{type:a.type})}return y(a.cloneNode)?a.cloneNode(!0):void 0}var g=[],i=[];if(b){if(H(b)||I(b))throw Nd("cpta","Can't copy! TypedArray destination cannot be mutated.");if(a===b)throw Nd("cpi","Can't copy! Source and destination are identical.");return Qd(b)?b.length=0:d(b,function(a,c){"$$hashKey"!==c&&delete b[c]}),g.push(a),i.push(b),c(a,b)}return e(a)}function O(a,b){if(Qd(a)){b=b||[];for(var c=0,d=a.length;d>c;c++)b[c]=a[c]}else if(t(a)){b=b||{};for(var e in a)"$"===e.charAt(0)&&"$"===e.charAt(1)||(b[e]=a[e])}return b||a}function P(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var c,d,e,f=void 0===a?"undefined":_typeof(a),g=void 0===b?"undefined":_typeof(b);if(f==g&&"object"==f){if(!Qd(a)){if(x(a))return!!x(b)&&P(a.getTime(),b.getTime());if(z(a))return!!z(b)&&a.toString()==b.toString();if(B(a)||B(b)||A(a)||A(b)||Qd(b)||x(b)||z(b))return!1;e=oa();for(d in a)if("$"!==d.charAt(0)&&!y(a[d])){if(!P(a[d],b[d]))return!1;e[d]=!0}for(d in b)if(!(d in e)&&"$"!==d.charAt(0)&&s(b[d])&&!y(b[d]))return!1;return!0}if(!Qd(b))return!1;if((c=a.length)==b.length){for(d=0;c>d;d++)if(!P(a[d],b[d]))return!1;return!0}}return!1}function Q(a,b,c){return a.concat(Id.call(b,c))}function R(a,b){return Id.call(a,b||0)}function S(a,b){var c=arguments.length>2?R(arguments,2):[];return!y(b)||b instanceof RegExp?b:c.length?function(){return arguments.length?b.apply(a,Q(c,arguments,0)):b.apply(a,c)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function T(b,c){var d=c;return"string"==typeof b&&"$"===b.charAt(0)&&"$"===b.charAt(1)?d=void 0:A(c)?d="$WINDOW":c&&a.document===c?d="$DOCUMENT":B(c)&&(d="$SCOPE"),d}function U(a,b){return r(a)?void 0:(w(b)||(b=b?2:null),JSON.stringify(a,T,b))}function V(a){return v(a)?JSON.parse(a):a}function W(a,b){a=a.replace(Wd,"");var c=Date.parse("Jan 01, 1970 00:00:00 "+a)/6e4;return isNaN(c)?b:c}function X(a,b){return a=new Date(a.getTime()),a.setMinutes(a.getMinutes()+b),a}function Y(a,b,c){c=c?-1:1;var d=a.getTimezoneOffset();return X(a,c*(W(b,d)-d))}function Z(a){a=Fd(a).clone();try{a.empty()}catch(a){}var b=Fd("<div>").append(a).html();try{return a[0].nodeType===_d?Ad(b):b.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+Ad(b)})}catch(a){return Ad(b)}}function $(a){try{return decodeURIComponent(a)}catch(a){}}function _(a){var b={};return d((a||"").split("&"),function(a){var c,d,e;a&&(d=a=a.replace(/\+/g,"%20"),c=a.indexOf("="),-1!==c&&(d=a.substring(0,c),e=a.substring(c+1)),d=$(d),s(d)&&(e=!s(e)||$(e),zd.call(b,d)?Qd(b[d])?b[d].push(e):b[d]=[b[d],e]:b[d]=e))}),b}function aa(a){var b=[];return d(a,function(a,c){Qd(a)?d(a,function(a){b.push(ca(c,!0)+(!0===a?"":"="+ca(a,!0)))}):b.push(ca(c,!0)+(!0===a?"":"="+ca(a,!0)))}),b.length?b.join("&"):""}function ba(a){return ca(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ca(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":"+")}function da(a,b){var c,d,e=Xd.length;for(d=0;e>d;++d)if(c=Xd[d]+b,v(c=a.getAttribute(c)))return c;return null}function ea(a,b){var c,e,f={};d(Xd,function(b){var d=b+"app";!c&&a.hasAttribute&&a.hasAttribute(d)&&(c=a,e=a.getAttribute(d))}),d(Xd,function(b){var d,f=b+"app";!c&&(d=a.querySelector("["+f.replace(":","\\:")+"]"))&&(c=d,e=d.getAttribute(f))}),c&&(f.strictDi=null!==da(c,"strict-di"),b(c,e?[e]:[],f))}function fa(b,c,e){t(e)||(e={}),e=j({strictDi:!1},e);var f=function(){if(b=Fd(b),b.injector()){var d=b[0]===a.document?"document":Z(b);throw Nd("btstrpd","App already bootstrapped with this element '{0}'",d.replace(/</,"&lt;").replace(/>/,"&gt;"))}c=c||[],c.unshift(["$provide",function(a){a.value("$rootElement",b)}]),e.debugInfoEnabled&&c.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]),c.unshift("ng");var f=ab(c,e.strictDi);return f.invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",d),c(b)(a)})}]),f},g=/^NG_ENABLE_DEBUG_INFO!/,h=/^NG_DEFER_BOOTSTRAP!/;return a&&g.test(a.name)&&(e.debugInfoEnabled=!0,a.name=a.name.replace(g,"")),a&&!h.test(a.name)?f():(a.name=a.name.replace(h,""),Od.resumeBootstrap=function(a){return d(a,function(a){c.push(a)}),f()},y(Od.resumeDeferredBootstrap)&&Od.resumeDeferredBootstrap(),void 0)}function ga(){a.name="NG_ENABLE_DEBUG_INFO!"+a.name,a.location.reload()}function ha(a){var b=Od.element(a).injector();if(!b)throw Nd("test","no injector found for element argument to getTestability");return b.get("$$testability")}function ia(a,b){return b=b||"_",a.replace(Yd,function(a,c){return(c?b:"")+a.toLowerCase()})}function ja(a,b,c){if(!a)throw Nd("areq","Argument '{0}' is {1}",b||"?",c||"required");return a}function ka(a,b,c){return c&&Qd(a)&&(a=a[a.length-1]),ja(y(a),b,"not a function, got "+(a&&"object"===(void 0===a?"undefined":_typeof(a))?a.constructor.name||"Object":void 0===a?"undefined":_typeof(a))),a}function la(a,b){if("hasOwnProperty"===a)throw Nd("badname","hasOwnProperty is not a valid {0} name",b)}function ma(a,b,c){if(!b)return a;for(var d,e=b.split("."),f=a,g=e.length,h=0;g>h;h++)d=e[h],a&&(a=(f=a)[d]);return!c&&y(a)?S(f,a):a}function na(a){for(var b,c=a[0],d=a[a.length-1],e=1;c!==d&&(c=c.nextSibling);e++)(b||a[e]!==c)&&(b||(b=Fd(Id.call(a,0,e))),b.push(c));return b||a}function oa(){return Object.create(null)}function pa(a){function c(a,b,c){return a[b]||(a[b]=c())}var d=b("$injector"),e=b("ng"),f=c(a,"angular",Object);return f.$$minErr=f.$$minErr||b,c(f,"module",function(){var a={};return function(b,f,g){return function(a,b){if("hasOwnProperty"===a)throw e("badname","hasOwnProperty is not a valid {0} name",b)}(b,"module"),f&&a.hasOwnProperty(b)&&(a[b]=null),c(a,b,function(){function a(a,b,c,d){return d||(d=e),function(){return d[c||"push"]([a,b,arguments]),k}}function c(a,c){return function(d,f){return f&&y(f)&&(f.$$moduleName=b),e.push([a,c,arguments]),k}}if(!f)throw d("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",b);var e=[],h=[],i=[],j=a("$injector","invoke","push",h),k={_invokeQueue:e,_configBlocks:h,_runBlocks:i,requires:f,name:b,provider:c("$provide","provider"),factory:c("$provide","factory"),service:c("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),decorator:c("$provide","decorator"),animation:c("$animateProvider","register"),filter:c("$filterProvider","register"),controller:c("$controllerProvider","register"),directive:c("$compileProvider","directive"),component:c("$compileProvider","component"),config:j,run:function(a){return i.push(a),this}};return g&&j(g),k})}})}function qa(a){var b=[];return JSON.stringify(a,function(a,c){if(c=T(a,c),t(c)){if(b.indexOf(c)>=0)return"...";b.push(c)}return c})}function ra(a){return"function"==typeof a?a.toString().replace(/ \{[\s\S]*$/,""):r(a)?"undefined":"string"!=typeof a?qa(a):a}function sa(){return++fe}function ta(a){return a.replace(ie,function(a,b,c,d){return d?c.toUpperCase():c}).replace(je,"Moz$1")}function ua(a){return!ne.test(a)}function va(a){var b=a.nodeType;return b===$d||!b||b===be}function wa(a){for(var b in ee[a.ng339])return!0;return!1}function xa(a){for(var b=0,c=a.length;c>b;b++)Fa(a[b])}function ya(a,b){var c,e,f,g,h=b.createDocumentFragment(),i=[];if(ua(a))i.push(b.createTextNode(a));else{for(c=c||h.appendChild(b.createElement("div")),e=(oe.exec(a)||["",""])[1].toLowerCase(),f=qe[e]||qe._default,c.innerHTML=f[1]+a.replace(pe,"<$1></$2>")+f[2],g=f[0];g--;)c=c.lastChild;i=Q(i,c.childNodes),c=h.firstChild,c.textContent=""}return h.textContent="",h.innerHTML="",d(i,function(a){h.appendChild(a)}),h}function za(b,c){c=c||a.document;var d;return(d=me.exec(b))?[c.createElement(d[1])]:(d=ya(b,c))?d.childNodes:[]}function Aa(a,b){var c=a.parentNode;c&&c.replaceChild(b,a),b.appendChild(a)}function Ba(a){if(a instanceof Ba)return a;var b;if(v(a)&&(a=Sd(a),b=!0),!(this instanceof Ba)){if(b&&"<"!=a.charAt(0))throw le("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Ba(a)}b?La(this,za(a)):La(this,a)}function Ca(a){return a.cloneNode(!0)}function Da(a,b){if(b||Fa(a),a.querySelectorAll)for(var c=a.querySelectorAll("*"),d=0,e=c.length;e>d;d++)Fa(c[d])}function Ea(a,b,c,e){if(s(e))throw le("offargs","jqLite#off() does not support the `selector` argument");var f=Ga(a),g=f&&f.events,h=f&&f.handle;if(h)if(b){var i=function(b){var d=g[b];s(c)&&M(d||[],c),s(c)&&d&&d.length>0||(he(a,b,h),delete g[b])};d(b.split(" "),function(a){i(a),ke[a]&&i(ke[a])})}else for(b in g)"$destroy"!==b&&he(a,b,h),delete g[b]}function Fa(a,b){var c=a.ng339,d=c&&ee[c];if(d){if(b)return void delete d.data[b];d.handle&&(d.events.$destroy&&d.handle({},"$destroy"),Ea(a)),delete ee[c],a.ng339=void 0}}function Ga(a,b){var c=a.ng339,d=c&&ee[c];return b&&!d&&(a.ng339=c=sa(),d=ee[c]={events:{},data:{},handle:void 0}),d}function Ha(a,b,c){if(va(a)){var d=s(c),e=!d&&b&&!t(b),f=!b,g=Ga(a,!e),h=g&&g.data;if(d)h[b]=c;else{if(f)return h;if(e)return h&&h[b];j(h,b)}}}function Ia(a,b){return!!a.getAttribute&&(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" ")>-1}function Ja(a,b){b&&a.setAttribute&&d(b.split(" "),function(b){a.setAttribute("class",Sd((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Sd(b)+" "," ")))})}function Ka(a,b){if(b&&a.setAttribute){var c=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");d(b.split(" "),function(a){a=Sd(a),-1===c.indexOf(" "+a+" ")&&(c+=a+" ")}),a.setAttribute("class",Sd(c))}}function La(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var c=b.length;if("number"==typeof c&&b.window!==b){if(c)for(var d=0;c>d;d++)a[a.length++]=b[d]}else a[a.length++]=b}}function Ma(a,b){return Na(a,"$"+(b||"ngController")+"Controller")}function Na(a,b,c){a.nodeType==be&&(a=a.documentElement);for(var d=Qd(b)?b:[b];a;){for(var e=0,f=d.length;f>e;e++)if(s(c=Fd.data(a,d[e])))return c;a=a.parentNode||a.nodeType===ce&&a.host}}function Oa(a){for(Da(a,!0);a.firstChild;)a.removeChild(a.firstChild)}function Pa(a,b){b||Da(a);var c=a.parentNode;c&&c.removeChild(a)}function Qa(b,c){c=c||a,"complete"===c.document.readyState?c.setTimeout(b):Fd(c).on("load",b)}function Ra(a,b){var c=te[b.toLowerCase()];return c&&ue[L(a)]&&c}function Sa(a){return ve[a]}function Ta(a,b){var c=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};var e=b[d||c.type],f=e?e.length:0;if(f){if(r(c.immediatePropagationStopped)){var g=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0,c.stopPropagation&&c.stopPropagation(),g&&g.call(c)}}c.isImmediatePropagationStopped=function(){return!0===c.immediatePropagationStopped};var h=e.specialHandlerWrapper||Ua;f>1&&(e=O(e));for(var i=0;f>i;i++)c.isImmediatePropagationStopped()||h(a,c,e[i])}};return c.elem=a,c}function Ua(a,b,c){c.call(a,b)}function Va(a,b,c){var d=b.relatedTarget;d&&(d===a||re.call(a,d))||c.call(a,b)}function Wa(){this.$get=function(){return j(Ba,{hasClass:function(a,b){return a.attr&&(a=a[0]),Ia(a,b)},addClass:function(a,b){return a.attr&&(a=a[0]),Ka(a,b)},removeClass:function(a,b){return a.attr&&(a=a[0]),Ja(a,b)}})}}function Xa(a,b){var c=a&&a.$$hashKey;if(c)return"function"==typeof c&&(c=a.$$hashKey()),c;var d=void 0===a?"undefined":_typeof(a);return c="function"==d||"object"==d&&null!==a?a.$$hashKey=d+":"+(b||g)():d+":"+a}function Ya(a,b){if(b){var c=0;this.nextUid=function(){return++c}}d(a,this.put,this)}function Za(a){var b=Function.prototype.toString.call(a).replace(Be,"");return b.match(xe)||b.match(ye)}function $a(a){var b=Za(a);return b?"function("+(b[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function _a(a,b,c){var e,f,g;if("function"==typeof a){if(!(e=a.$inject)){if(e=[],a.length){if(b)throw v(c)&&c||(c=a.name||$a(a)),Ce("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",c);f=Za(a),d(f[1].split(ze),function(a){a.replace(Ae,function(a,b,c){e.push(c)})})}a.$inject=e}}else Qd(a)?(g=a.length-1,ka(a[g],"fn"),e=a.slice(0,g)):ka(a,"fn",!0);return e}function ab(a,b){function c(a){return function(b,c){return t(b)?void d(b,f(a)):a(b,c)}}function e(a,b){if(la(a,"service"),(y(b)||Qd(b))&&(b=x.instantiate(b)),!b.$get)throw Ce("pget","Provider '{0}' must define $get factory method.",a);return w[a+q]=b}function g(a,b){return function(){var c=B.invoke(b,this);if(r(c))throw Ce("undef","Provider '{0}' must return a value from $get factory method.",a);return c}}function h(a,b,c){return e(a,{$get:!1!==c?g(a,b):b})}function i(a,b){return h(a,["$injector",function(a){return a.instantiate(b)}])}function j(a,b){return h(a,p(b),!1)}function k(a,b){la(a,"constant"),w[a]=b,z[a]=b}function l(a,b){var c=x.get(a+q),d=c.$get;c.$get=function(){var a=B.invoke(d,c);return B.invoke(b,null,{$delegate:a})}}function m(a){ja(r(a)||Qd(a),"modulesToLoad","not an array");var b=[];return d(a,function(a){function c(a){var b,c;for(b=0,c=a.length;c>b;b++){var d=a[b],e=x.get(d[0]);e[d[1]].apply(e,d[2])}}if(!u.get(a)){u.put(a,!0);try{v(a)?(d=Hd(a),b=b.concat(m(d.requires)).concat(d._runBlocks),c(d._invokeQueue),c(d._configBlocks)):y(a)?b.push(x.invoke(a)):Qd(a)?b.push(x.invoke(a)):ka(a,"module")}catch(d){throw Qd(a)&&(a=a[a.length-1]),d.message&&d.stack&&-1==d.stack.indexOf(d.message)&&(d=d.message+"\n"+d.stack),Ce("modulerr","Failed to instantiate module {0} due to:\n{1}",a,d.stack||d.message||d)}}}),b}function n(a,c){function d(b,c){if(a.hasOwnProperty(b)){if(a[b]===o)throw Ce("cdep","Circular dependency found: {0}",b+" <- "+s.join(" <- "));return a[b]}try{return s.unshift(b),a[b]=o,a[b]=d(b,c)}catch(d){throw a[b]===o&&delete a[b],d}finally{s.shift()}}function e(a,c,e){for(var f=[],g=ab.$$annotate(a,b,e),h=0,i=g.length;i>h;h++){var j=g[h];if("string"!=typeof j)throw Ce("itkn","Incorrect injection token! Expected service name as string, got {0}",j);f.push(c&&c.hasOwnProperty(j)?c[j]:d(j,e))}return f}function f(a){return!(11>=Ed)&&"function"==typeof a&&/^(?:class\s|constructor\()/.test(Function.prototype.toString.call(a))}function g(a,b,c,d){"string"==typeof c&&(d=c,c=null);var g=e(a,c,d);return Qd(a)&&(a=a[a.length-1]),f(a)?(g.unshift(null),new(Function.prototype.bind.apply(a,g))):a.apply(b,g)}function h(a,b,c){var d=Qd(a)?a[a.length-1]:a,f=e(a,b,c);return f.unshift(null),new(Function.prototype.bind.apply(d,f))}return{invoke:g,instantiate:h,get:d,annotate:ab.$$annotate,has:function(b){return w.hasOwnProperty(b+q)||a.hasOwnProperty(b)}}}b=!0===b;var o={},q="Provider",s=[],u=new Ya([],!0),w={$provide:{provider:c(e),factory:c(h),service:c(i),value:c(j),constant:c(k),decorator:l}},x=w.$injector=n(w,function(a,b){throw Od.isString(b)&&s.push(b),Ce("unpr","Unknown provider: {0}",s.join(" <- "))}),z={},A=n(z,function(a,b){var c=x.get(a+q,b);return B.invoke(c.$get,c,void 0,a)}),B=A;w["$injector"+q]={$get:p(A)};var C=m(a);return B=A.get("$injector"),B.strictDi=b,d(C,function(a){a&&B.invoke(a)}),B}function bb(){var a=!0;this.disableAutoScrolling=function(){a=!1},this.$get=["$window","$location","$rootScope",function(b,c,d){function e(a){var b=null;return Array.prototype.some.call(a,function(a){return"a"===L(a)?(b=a,!0):void 0}),b}function f(){var a=h.yOffset;if(y(a))a=a();else if(J(a)){var c=a[0],d=b.getComputedStyle(c);a="fixed"!==d.position?0:c.getBoundingClientRect().bottom}else w(a)||(a=0);return a}function g(a){if(a){a.scrollIntoView();var c=f();if(c){var d=a.getBoundingClientRect().top;b.scrollBy(0,d-c)}}else b.scrollTo(0,0)}function h(a){a=v(a)?a:c.hash();var b;a?(b=i.getElementById(a))?g(b):(b=e(i.getElementsByName(a)))?g(b):"top"===a&&g(null):g(null)}var i=b.document;return a&&d.$watch(function(){return c.hash()},function(a,b){a===b&&""===a||Qa(function(){d.$evalAsync(h)})}),h}]}function cb(a,b){return a||b?a?b?(Qd(a)&&(a=a.join(" ")),Qd(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function db(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.nodeType===Ee)return c}}function eb(a){v(a)&&(a=a.split(" "));var b=oa();return d(a,function(a){a.length&&(b[a]=!0)}),b}function fb(a){return t(a)?a:{}}function gb(a,b,c,e){function f(a){try{a.apply(null,R(arguments,1))}finally{if(0===--s)for(;t.length;)try{t.pop()()}catch(a){c.error(a)}}}function g(a){var b=a.indexOf("#");return-1===b?"":a.substr(b)}function h(){y=null,i(),j()}function i(){u=z(),u=r(u)?null:u,P(u,C)&&(u=C),C=u}function j(){w===k.url()&&v===u||(w=k.url(),v=u,d(A,function(a){a(k.url(),u)}))}var k=this,l=a.location,m=a.history,o=a.setTimeout,p=a.clearTimeout,q={};k.isMock=!1;var s=0,t=[];k.$$completeOutstandingRequest=f,k.$$incOutstandingRequestCount=function(){s++},k.notifyWhenNoOutstandingRequests=function(a){0===s?a():t.push(a)};var u,v,w=l.href,x=b.find("base"),y=null,z=e.history?function(){try{return m.state}catch(a){}}:n;i(),v=u,k.url=function(b,c,d){if(r(d)&&(d=null),l!==a.location&&(l=a.location),m!==a.history&&(m=a.history),b){var f=v===d;if(w===b&&(!e.history||f))return k;var h=w&&Nb(w)===Nb(b);return w=b,v=d,!e.history||h&&f?(h&&!y||(y=b),c?l.replace(b):h?l.hash=g(b):l.href=b,l.href!==b&&(y=b)):(m[c?"replaceState":"pushState"](d,"",b),i(),v=u),k}return y||l.href.replace(/%27/g,"'")},k.state=function(){return u};var A=[],B=!1,C=null;k.onUrlChange=function(b){return B||(e.history&&Fd(a).on("popstate",h),Fd(a).on("hashchange",h),B=!0),A.push(b),b},k.$$applicationDestroyed=function(){Fd(a).off("hashchange popstate",h)},k.$$checkUrlChange=j,k.baseHref=function(){var a=x.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""},k.defer=function(a,b){var c;return s++,c=o(function(){delete q[c],f(a)},b||0),q[c]=!0,c},k.defer.cancel=function(a){return!!q[a]&&(delete q[a],p(a),f(n),!0)}}function hb(){this.$get=["$window","$log","$sniffer","$document",function(a,b,c,d){return new gb(a,d,b,c)}]}function ib(){this.$get=function(){function a(a,d){function e(a){a!=m&&(n?n==a&&(n=a.n):n=a,f(a.n,a.p),f(a,m),m=a,m.n=null)}function f(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(a in c)throw b("$cacheFactory")("iid","CacheId '{0}' is already taken!",a);var g=0,h=j({},d,{id:a}),i=oa(),k=d&&d.capacity||Number.MAX_VALUE,l=oa(),m=null,n=null;return c[a]={put:function(a,b){return r(b)?void 0:(k<Number.MAX_VALUE&&e(l[a]||(l[a]={key:a})),a in i||g++,i[a]=b,g>k&&this.remove(n.key),b)},get:function(a){if(k<Number.MAX_VALUE){var b=l[a];if(!b)return;e(b)}return i[a]},remove:function(a){if(k<Number.MAX_VALUE){var b=l[a];if(!b)return;b==m&&(m=b.p),b==n&&(n=b.n),f(b.n,b.p),delete l[a]}a in i&&(delete i[a],g--)},removeAll:function(){i=oa(),g=0,l=oa(),m=n=null},destroy:function(){i=null,h=null,l=null,delete c[a]},info:function(){return j({},h,{size:g})}}}var c={};return a.info=function(){var a={};return d(c,function(b,c){a[c]=b.info()}),a},a.get=function(a){return c[a]},a}}function jb(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function kb(){}function lb(b,c){function e(a,b,c){var e=oa();return d(a,function(a,d){if(a in z)return void(e[d]=z[a]);var f=a.match(/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/);if(!f)throw Le("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",b,d,a,c?"controller bindings definition":"isolate scope definition");e[d]={mode:f[1][0],collection:"*"===f[2],optional:"?"===f[3],attrName:f[4]||d},f[4]&&(z[a]=e[d])}),e}function g(a,b){var c={isolateScope:null,bindToController:null};if(t(a.scope)&&(!0===a.bindToController?(c.bindToController=e(a.scope,b,!0),c.isolateScope={}):c.isolateScope=e(a.scope,b,!1)),t(a.bindToController)&&(c.bindToController=e(a.bindToController,b,!0)),t(c.bindToController)){var d=a.controller,f=a.controllerAs;if(!d)throw Le("noctrl","Cannot bind to controller without directive '{0}'s controller.",b);if(!qb(d,f))throw Le("noident","Cannot bind to controller without identifier for directive '{0}'.",b)}return c}function h(a){var b=a.charAt(0);if(!b||b!==Ad(b))throw Le("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",a);if(a!==a.trim())throw Le("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",a)}var i={},k="Directive",l=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,q=/(([\w\-]+)(?:\:([^;]+))?;?)/,u=K("ngSrc,ngSrcset,src,srcset"),w=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,x=/^(on[a-z]+|formaction)$/,z=oa();this.directive=function D(a,c){return la(a,"directive"),v(a)?(h(a),ja(c,"directiveFactory"),i.hasOwnProperty(a)||(i[a]=[],b.factory(a+k,["$injector","$exceptionHandler",function(b,c){var e=[];return d(i[a],function(b,d){try{var f=g.invoke(b);y(f)?f={compile:p(f)}:!f.compile&&f.link&&(f.compile=p(f.link)),f.priority=f.priority||0,f.index=d,f.name=f.name||a,f.require=f.require||f.controller&&f.name,f.restrict=f.restrict||"EA",f.$$moduleName=b.$$moduleName,e.push(f)}catch(g){c(g)}}),e}])),i[a].push(c)):d(a,f(D)),this},this.component=function(a,b){function c(a){function c(b){return y(b)||Qd(b)?function(c,d){return a.invoke(b,this,{$element:c,$attrs:d})}:b}var f=b.template||b.templateUrl?b.template:"",g={controller:e,controllerAs:qb(b.controller)||b.controllerAs||"$ctrl",template:c(f),templateUrl:c(b.templateUrl),transclude:b.transclude,scope:{},bindToController:b.bindings||{},restrict:"E",require:b.require};return d(b,function(a,b){"$"===b.charAt(0)&&(g[b]=a)}),g}var e=b.controller||function(){};return d(b,function(a,b){"$"===b.charAt(0)&&(c[b]=a,y(e)&&(e[b]=a))}),c.$inject=["$injector"],this.directive(a,c)},this.aHrefSanitizationWhitelist=function(a){return s(a)?(c.aHrefSanitizationWhitelist(a),this):c.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(a){return s(a)?(c.imgSrcSanitizationWhitelist(a),this):c.imgSrcSanitizationWhitelist()};var A=!0;this.debugInfoEnabled=function(a){return s(a)?(A=a,this):A};var C=10;this.onChangesTtl=function(a){return arguments.length?(C=a,this):C},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(b,c,e,f,h,p,s,z,D,E){function G(){try{if(!--ta)throw qa=void 0,Le("infchng","{0} $onChanges() iterations reached. Aborting!\n",C);s.$apply(function(){for(var a=0,b=qa.length;b>a;++a)qa[a]();qa=void 0})}finally{ta++}}function H(a,b){if(b){var c,d,e,f=Object.keys(b);for(c=0,d=f.length;d>c;c++)e=f[c],this[e]=b[e]}else this.$attr={};this.$$element=a}function I(a,b,c){sa.innerHTML="<span "+b+">";var d=sa.firstChild.attributes,e=d[0];d.removeNamedItem(e.name),e.value=c,a.attributes.setNamedItem(e)}function J(a,b){try{a.addClass(b)}catch(a){}}function K(b,c,d,e,f){b instanceof Fd||(b=Fd(b));for(var g=0,h=b.length;h>g;g++){var i=b[g];i.nodeType===_d&&i.nodeValue.match(/\S+/)&&Aa(i,b[g]=a.document.createElement("span"))}var j=O(b,c,b,d,e,f);K.$$addScopeClass(b);var k=null;return function(a,c,d){ja(a,"scope"),f&&f.needsNewScope&&(a=a.$parent.$new()),d=d||{};var e=d.parentBoundTranscludeFn,g=d.transcludeControllers,h=d.futureParentElement;e&&e.$$boundTransclude&&(e=e.$$boundTransclude),k||(k=N(h));var i;if(i="html"!==k?Fd(ga(k,Fd("<div>").append(b).html())):c?se.clone.call(b):b,g)for(var l in g)i.data("$"+l+"Controller",g[l].instance);return K.$$addScopeInfo(i,a),c&&c(i,a),j&&j(a,i,i,e),i}}function N(a){var b=a&&a[0];return b&&"foreignobject"!==L(b)&&Ld.call(b).match(/SVG/)?"svg":"html"}function O(a,b,c,d,e,f){function g(a,c,d,e){var f,g,h,i,j,k,l,m,p;if(n){var q=c.length;for(p=new Array(q),j=0;j<o.length;j+=3)l=o[j],p[l]=c[l]}else p=c;for(j=0,k=o.length;k>j;)h=p[o[j++]],f=o[j++],g=o[j++],f?(f.scope?(i=a.$new(),K.$$addScopeInfo(Fd(h),i)):i=a,m=f.transcludeOnThisElement?Q(a,f.transclude,e):!f.templateOnThisElement&&e?e:!e&&b?Q(a,b):null,f(g,i,h,d,m)):g&&g(a,h.childNodes,void 0,e)}for(var h,i,j,k,l,m,n,o=[],p=0;p<a.length;p++)h=new H,i=S(a[p],[],h,0===p?d:void 0,e),j=i.length?W(i,a[p],h,b,c,null,[],[],f):null,j&&j.scope&&K.$$addScopeClass(h.$$element),l=j&&j.terminal||!(k=a[p].childNodes)||!k.length?null:O(k,j?(j.transcludeOnThisElement||!j.templateOnThisElement)&&j.transclude:b),(j||l)&&(o.push(p,j,l),m=!0,n=n||j),f=null;return m?g:null}function Q(a,b,c){function d(d,e,f,g,h){return d||(d=a.$new(!1,h),d.$$transcluded=!0),b(d,e,{parentBoundTranscludeFn:c,transcludeControllers:f,futureParentElement:g})}var e=d.$$slots=oa();for(var f in b.$$slots)b.$$slots[f]?e[f]=Q(a,b.$$slots[f],c):e[f]=null;return d}function S(a,b,c,d,e){var f,g,h=a.nodeType,i=c.$attr;switch(h){case $d:_(b,nb(L(a)),"E",d,e);for(var j,k,m,n,o,p,r=a.attributes,s=0,u=r&&r.length;u>s;s++){var w=!1,x=!1;j=r[s],k=j.name,o=Sd(j.value),n=nb(k),(p=ya.test(n))&&(k=k.replace(Ne,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()}));var y=n.match(za);y&&aa(y[1])&&(w=k,x=k.substr(0,k.length-5)+"end",k=k.substr(0,k.length-6)),m=nb(k.toLowerCase()),i[m]=k,!p&&c.hasOwnProperty(m)||(c[m]=o,Ra(a,m)&&(c[m]=!0)),ka(a,b,o,m,p),_(b,m,"A",d,e,w,x)}if(g=a.className,t(g)&&(g=g.animVal),v(g)&&""!==g)for(;f=q.exec(g);)m=nb(f[2]),_(b,m,"C",d,e)&&(c[m]=Sd(f[3])),g=g.substr(f.index+f[0].length);break;case _d:if(11===Ed)for(;a.parentNode&&a.nextSibling&&a.nextSibling.nodeType===_d;)a.nodeValue=a.nodeValue+a.nextSibling.nodeValue,a.parentNode.removeChild(a.nextSibling);fa(b,a.nodeValue);break;case ae:try{f=l.exec(a.nodeValue),f&&(m=nb(f[1]),_(b,m,"M",d,e)&&(c[m]=Sd(f[2])))}catch(a){}}return b.sort(da),b}function T(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw Le("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",b,c);a.nodeType==$d&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--),d.push(a),a=a.nextSibling}while(e>0)}else d.push(a);return Fd(d)}function U(a,b,c){return function(d,e,f,g,h){return e=T(e[0],b,c),a(d,e,f,g,h)}}function V(a,b,c,d,e,f){var g;return a?K(b,c,d,e,f):function(){return g||(g=K(b,c,d,e,f),b=c=f=null),g.apply(this,arguments)}}function W(a,b,c,f,g,h,i,k,l){function m(a,b,c,d){a&&(c&&(a=U(a,c,d)),a.require=o.require,a.directiveName=p,(z===o||o.$$isolateScope)&&(a=ma(a,{isolateScope:!0})),i.push(a)),b&&(c&&(b=U(b,c,d)),b.require=o.require,b.directiveName=p,(z===o||o.$$isolateScope)&&(b=ma(b,{isolateScope:!0})),k.push(b))}function n(a,e,f,g,h){function l(a,b,c,d){var e;if(B(a)||(d=c,c=b,b=a,a=void 0),F&&(e=s),c||(c=F?v.parent():v),!d)return h(a,b,e,c,M);var f=h.$$slots[d];if(f)return f(a,b,e,c,M);if(r(f))throw Le("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',d,Z(v))}var m,n,o,p,q,s,u,v,C,D;b===f?(C=c,v=c.$$element):(v=Fd(f),C=new H(v,c)),q=e,z?p=e.$new(!0):w&&(q=e.$parent),h&&(u=l,u.$$boundTransclude=h,u.isSlotFilled=function(a){return!!h.$$slots[a]}),x&&(s=Y(v,C,u,x,p,e,z)),z&&(K.$$addScopeInfo(v,p,!0,!(A&&(A===z||A===z.$$originalDirective))),K.$$addScopeClass(v,!0),p.$$isolateBindings=z.$$isolateBindings,D=pa(e,C,p,p.$$isolateBindings,z),D.removeWatches&&p.$on("$destroy",D.removeWatches));for(var E in s){var G=x[E],I=s[E],J=G.$$bindings.bindToController;I.identifier&&J?I.bindingInfo=pa(q,C,I.instance,J,G):I.bindingInfo={};var L=I();L!==I.instance&&(I.instance=L,v.data("$"+G.name+"Controller",L),I.bindingInfo.removeWatches&&I.bindingInfo.removeWatches(),I.bindingInfo=pa(q,C,I.instance,J,G))}for(d(x,function(a,b){var c=a.require;a.bindToController&&!Qd(c)&&t(c)&&j(s[b].instance,X(b,c,v,s))}),d(s,function(a){var b=a.instance;y(b.$onChanges)&&b.$onChanges(a.bindingInfo.initialChanges),y(b.$onInit)&&b.$onInit(),y(b.$onDestroy)&&q.$on("$destroy",function(){b.$onDestroy()})}),m=0,n=i.length;n>m;m++)o=i[m],na(o,o.isolateScope?p:e,v,C,o.require&&X(o.directiveName,o.require,v,s),u);var M=e;for(z&&(z.template||null===z.templateUrl)&&(M=p),a&&a(M,f.childNodes,void 0,h),m=k.length-1;m>=0;m--)o=k[m],na(o,o.isolateScope?p:e,v,C,o.require&&X(o.directiveName,o.require,v,s),u);d(s,function(a){var b=a.instance;y(b.$postLink)&&b.$postLink()})}l=l||{};for(var o,p,q,s,u,v=-Number.MAX_VALUE,w=l.newScopeDirective,x=l.controllerDirectives,z=l.newIsolateScopeDirective,A=l.templateDirective,C=l.nonTlbTranscludeDirective,D=!1,E=!1,F=l.hasElementTranscludeDirective,G=c.$$element=Fd(b),I=h,J=f,M=!1,N=!1,O=0,P=a.length;P>O;O++){o=a[O];var Q=o.$$start,W=o.$$end;if(Q&&(G=T(b,Q,W)),q=void 0,v>o.priority)break;if((u=o.scope)&&(o.templateUrl||(t(u)?(ea("new/isolated scope",z||w,o,G),z=o):ea("new/isolated scope",z,o,G)),w=w||o),p=o.name,!M&&(o.replace&&(o.templateUrl||o.template)||o.transclude&&!o.$$tlb)){for(var _,aa=O+1;_=a[aa++];)if(_.transclude&&!_.$$tlb||_.replace&&(_.templateUrl||_.template)){N=!0;break}M=!0}if(!o.templateUrl&&o.controller&&(u=o.controller,x=x||oa(),ea("'"+p+"' controller",x[p],o,G),x[p]=o),u=o.transclude)if(D=!0,o.$$tlb||(ea("transclusion",C,o,G),C=o),"element"==u)F=!0,v=o.priority,q=G,G=c.$$element=Fd(K.$$createComment(p,c[p])),b=G[0],la(g,R(q),b),q[0].$$parentNode=q[0].parentNode,J=V(N,q,f,v,I&&I.name,{nonTlbTranscludeDirective:C});else{var da=oa();if(q=Fd(Ca(b)).contents(),t(u)){q=[];var fa=oa(),ha=oa();d(u,function(a,b){var c="?"===a.charAt(0);a=c?a.substring(1):a,fa[a]=b,da[b]=null,ha[b]=c}),d(G.contents(),function(a){var b=fa[nb(L(a))];b?(ha[b]=!0,da[b]=da[b]||[],da[b].push(a)):q.push(a)}),d(ha,function(a,b){if(!a)throw Le("reqslot","Required transclusion slot `{0}` was not filled.",b)});for(var ia in da)da[ia]&&(da[ia]=V(N,da[ia],f))}G.empty(),J=V(N,q,f,void 0,void 0,{needsNewScope:o.$$isolateScope||o.$$newScope}),J.$$slots=da}if(o.template)if(E=!0,ea("template",A,o,G),A=o,u=y(o.template)?o.template(G,c):o.template,u=xa(u),o.replace){if(I=o,q=ua(u)?[]:pb(ga(o.templateNamespace,Sd(u))),b=q[0],1!=q.length||b.nodeType!==$d)throw Le("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p,"");la(g,G,b);var ja={$attr:{}},ka=S(b,[],ja),qa=a.splice(O+1,a.length-(O+1));(z||w)&&$(ka,z,w),a=a.concat(ka).concat(qa),ba(c,ja),P=a.length}else G.html(u);if(o.templateUrl)E=!0,ea("template",A,o,G),A=o,o.replace&&(I=o),n=ca(a.splice(O,a.length-O),G,c,g,D&&J,i,k,{controllerDirectives:x,newScopeDirective:w!==o&&w,newIsolateScopeDirective:z,templateDirective:A,nonTlbTranscludeDirective:C
}),P=a.length;else if(o.compile)try{s=o.compile(G,c,J),y(s)?m(null,s,Q,W):s&&m(s.pre,s.post,Q,W)}catch(a){e(a,Z(G))}o.terminal&&(n.terminal=!0,v=Math.max(v,o.priority))}return n.scope=w&&!0===w.scope,n.transcludeOnThisElement=D,n.templateOnThisElement=E,n.transclude=J,l.hasElementTranscludeDirective=F,n}function X(a,b,c,e){var f;if(v(b)){var g=b.match(w),h=b.substring(g[0].length),i=g[1]||g[3],j="?"===g[2];if("^^"===i?c=c.parent():(f=e&&e[h],f=f&&f.instance),!f){var k="$"+h+"Controller";f=i?c.inheritedData(k):c.data(k)}if(!f&&!j)throw Le("ctreq","Controller '{0}', required by directive '{1}', can't be found!",h,a)}else if(Qd(b)){f=[];for(var l=0,m=b.length;m>l;l++)f[l]=X(a,b[l],c,e)}else t(b)&&(f={},d(b,function(b,d){f[d]=X(a,b,c,e)}));return f||null}function Y(a,b,c,d,e,f,g){var h=oa();for(var i in d){var j=d[i],k={$scope:j===g||j.$$isolateScope?e:f,$element:a,$attrs:b,$transclude:c},l=j.controller;"@"==l&&(l=b[j.name]);var m=p(l,k,!0,j.controllerAs);h[j.name]=m,a.data("$"+j.name+"Controller",m.instance)}return h}function $(a,b,c){for(var d=0,e=a.length;e>d;d++)a[d]=m(a[d],{$$isolateScope:b,$$newScope:c})}function _(a,c,d,f,h,j,l){if(c===h)return null;var n=null;if(i.hasOwnProperty(c))for(var o,p=b.get(c+k),q=0,s=p.length;s>q;q++)try{if(o=p[q],(r(f)||f>o.priority)&&-1!=o.restrict.indexOf(d)){if(j&&(o=m(o,{$$start:j,$$end:l})),!o.$$bindings){var u=o.$$bindings=g(o,o.name);t(u.isolateScope)&&(o.$$isolateBindings=u.isolateScope)}a.push(o),n=o}}catch(a){e(a)}return n}function aa(a){if(i.hasOwnProperty(a))for(var c,d=b.get(a+k),e=0,f=d.length;f>e;e++)if(c=d[e],c.multiElement)return!0;return!1}function ba(a,b){var c=b.$attr,e=a.$attr,f=a.$$element;d(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))}),d(b,function(b,d){"class"==d?(J(f,b),a["class"]=(a["class"]?a["class"]+" ":"")+b):"style"==d?(f.attr("style",f.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"==d.charAt(0)||a.hasOwnProperty(d)||(a[d]=b,e[d]=c[d])})}function ca(a,b,c,e,g,h,i,j){var k,l,n=[],o=b[0],p=a.shift(),q=m(p,{templateUrl:null,transclude:null,replace:null,$$originalDirective:p}),r=y(p.templateUrl)?p.templateUrl(b,c):p.templateUrl,s=p.templateNamespace;return b.empty(),f(r).then(function(f){var m,u,v,w;if(f=xa(f),p.replace){if(v=ua(f)?[]:pb(ga(s,Sd(f))),m=v[0],1!=v.length||m.nodeType!==$d)throw Le("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p.name,r);u={$attr:{}},la(e,b,m);var x=S(m,[],u);t(p.scope)&&$(x,!0),a=x.concat(a),ba(c,u)}else m=o,b.html(f);for(a.unshift(q),k=W(a,m,c,g,b,p,h,i,j),d(e,function(a,c){a==m&&(e[c]=b[0])}),l=O(b[0].childNodes,g);n.length;){var y=n.shift(),z=n.shift(),A=n.shift(),B=n.shift(),C=b[0];if(!y.$$destroyed){if(z!==o){var D=z.className;j.hasElementTranscludeDirective&&p.replace||(C=Ca(m)),la(A,Fd(z),C),J(Fd(C),D)}w=k.transcludeOnThisElement?Q(y,k.transclude,B):B,k(l,y,C,e,w)}}n=null}),function(a,b,c,d,e){var f=e;b.$$destroyed||(n?n.push(b,c,d,f):(k.transcludeOnThisElement&&(f=Q(b,k.transclude,e)),k(l,b,c,d,f)))}}function da(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function ea(a,b,c,d){function e(a){return a?" (module: "+a+")":""}if(b)throw Le("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",b.name,e(b.$$moduleName),c.name,e(c.$$moduleName),a,Z(d))}function fa(a,b){var d=c(b,!0);d&&a.push({priority:0,compile:function(a){var b=a.parent(),c=!!b.length;return c&&K.$$addBindingClass(b),function(a,b){var e=b.parent();c||K.$$addBindingClass(e),K.$$addBindingInfo(e,d.expressions),a.$watch(d,function(a){b[0].nodeValue=a})}}})}function ga(b,c){switch(b=Ad(b||"html")){case"svg":case"math":var d=a.document.createElement("div");return d.innerHTML="<"+b+">"+c+"</"+b+">",d.childNodes[0].childNodes;default:return c}}function ha(a,b){if("srcdoc"==b)return z.HTML;var c=L(a);return"xlinkHref"==b||"form"==c&&"action"==b||"img"!=c&&("src"==b||"ngSrc"==b)?z.RESOURCE_URL:void 0}function ka(a,b,d,e,f){var g=ha(a,e);f=u[e]||f;var h=c(d,!0,g,f);if(h){if("multiple"===e&&"select"===L(a))throw Le("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",Z(a));b.push({priority:100,compile:function(){return{pre:function(a,b,i){var j=i.$$observers||(i.$$observers=oa());if(x.test(e))throw Le("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var k=i[e];k!==d&&(h=k&&c(k,!0,g,f),d=k),h&&(i[e]=h(a),(j[e]||(j[e]=[])).$$inter=!0,(i.$$observers&&i.$$observers[e].$$scope||a).$watch(h,function(a,b){"class"===e&&a!=b?i.$updateClass(a,b):i.$set(e,a)}))}}}})}}function la(b,c,d){var e,f,g=c[0],h=c.length,i=g.parentNode;if(b)for(e=0,f=b.length;f>e;e++)if(b[e]==g){b[e++]=d;for(var j=e,k=j+h-1,l=b.length;l>j;j++,k++)l>k?b[j]=b[k]:delete b[j];b.length-=h-1,b.context===g&&(b.context=d);break}i&&i.replaceChild(d,g);var m=a.document.createDocumentFragment();for(e=0;h>e;e++)m.appendChild(c[e]);for(Fd.hasData(g)&&(Fd.data(d,Fd.data(g)),Fd(g).off("$destroy")),Fd.cleanData(m.querySelectorAll("*")),e=1;h>e;e++)delete c[e];c[0]=d,c.length=1}function ma(a,b){return j(function(){return a.apply(null,arguments)},a,b)}function na(a,b,c,d,f,g){try{a(b,c,d,f,g)}catch(a){e(a,Z(c))}}function pa(a,b,e,f,g){function i(b,c,d){y(e.$onChanges)&&c!==d&&(qa||(a.$$postDigest(G),qa=[]),k||(k={},qa.push(j)),k[b]&&(d=k[b].previousValue),k[b]=new mb(d,c))}function j(){e.$onChanges(k),k=void 0}var k,l=[],m={};return d(f,function(d,f){var j,k,o,p,q,r=d.attrName,s=d.optional,t=d.mode;switch(t){case"@":s||zd.call(b,r)||(e[f]=b[r]=void 0),b.$observe(r,function(a){if(v(a)||F(a)){var b=e[f];i(f,a,b),e[f]=a}}),b.$$observers[r].$$scope=a,j=b[r],v(j)?e[f]=c(j)(a):F(j)&&(e[f]=j),m[f]=new mb(Me,e[f]);break;case"=":if(!zd.call(b,r)){if(s)break;b[r]=void 0}if(s&&!b[r])break;k=h(b[r]),p=k.literal?P:function(a,b){return a===b||a!==a&&b!==b},o=k.assign||function(){throw j=e[f]=k(a),Le("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",b[r],r,g.name)},j=e[f]=k(a);var u=function(b){return p(b,e[f])||(p(b,j)?o(a,b=e[f]):e[f]=b),j=b};u.$stateful=!0,q=d.collection?a.$watchCollection(b[r],u):a.$watch(h(b[r],u),null,k.literal),l.push(q);break;case"<":if(!zd.call(b,r)){if(s)break;b[r]=void 0}if(s&&!b[r])break;k=h(b[r]),e[f]=k(a),m[f]=new mb(Me,e[f]),q=a.$watch(k,function(a,b){a===b&&(b=e[f]),i(f,a,b),e[f]=a},k.literal),l.push(q);break;case"&":if((k=b.hasOwnProperty(r)?h(b[r]):n)===n&&s)break;e[f]=function(b){return k(a,b)}}}),{initialChanges:m,removeWatches:l.length&&function(){for(var a=0,b=l.length;b>a;++a)l[a]()}}}var qa,ra=/^\w/,sa=a.document.createElement("div"),ta=C;H.prototype={$normalize:nb,$addClass:function(a){a&&a.length>0&&D.addClass(this.$$element,a)},$removeClass:function(a){a&&a.length>0&&D.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=ob(a,b);c&&c.length&&D.addClass(this.$$element,c);var d=ob(b,a);d&&d.length&&D.removeClass(this.$$element,d)},$set:function(a,b,c,f){var g,h=this.$$element[0],i=Ra(h,a),j=Sa(a),k=a;if(i?(this.$$element.prop(a,b),f=i):j&&(this[j]=b,k=j),this[a]=b,f?this.$attr[a]=f:(f=this.$attr[a])||(this.$attr[a]=f=ia(a,"-")),"a"===(g=L(this.$$element))&&("href"===a||"xlinkHref"===a)||"img"===g&&"src"===a)this[a]=b=E(b,"src"===a);else if("img"===g&&"srcset"===a){for(var l="",m=Sd(b),n=/\s/.test(m)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,o=m.split(n),p=Math.floor(o.length/2),q=0;p>q;q++){var s=2*q;l+=E(Sd(o[s]),!0),l+=" "+Sd(o[s+1])}var t=Sd(o[2*q]).split(/\s/);l+=E(Sd(t[0]),!0),2===t.length&&(l+=" "+Sd(t[1])),this[a]=b=l}!1!==c&&(null===b||r(b)?this.$$element.removeAttr(f):ra.test(f)?this.$$element.attr(f,b):I(this.$$element[0],f,b));var u=this.$$observers;u&&d(u[k],function(a){try{a(b)}catch(a){e(a)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=oa()),e=d[a]||(d[a]=[]);return e.push(b),s.$evalAsync(function(){e.$$inter||!c.hasOwnProperty(a)||r(c[a])||b(c[a])}),function(){M(e,b)}}};var va=c.startSymbol(),wa=c.endSymbol(),xa="{{"==va&&"}}"==wa?o:function(a){return a.replace(/\{\{/g,va).replace(/}}/g,wa)},ya=/^ngAttr[A-Z]/,za=/^(.+)Start$/;return K.$$addBindingInfo=A?function(a,b){var c=a.data("$binding")||[];Qd(b)?c=c.concat(b):c.push(b),a.data("$binding",c)}:n,K.$$addBindingClass=A?function(a){J(a,"ng-binding")}:n,K.$$addScopeInfo=A?function(a,b,c,d){var e=c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope";a.data(e,b)}:n,K.$$addScopeClass=A?function(a,b){J(a,b?"ng-isolate-scope":"ng-scope")}:n,K.$$createComment=function(b,c){var d="";return A&&(d=" "+(b||"")+": "+(c||"")+" "),a.document.createComment(d)},K}]}function mb(a,b){this.previousValue=a,this.currentValue=b}function nb(a){return ta(a.replace(Ne,""))}function ob(a,b){var c="",d=a.split(/\s+/),e=b.split(/\s+/);a:for(var f=0;f<d.length;f++){for(var g=d[f],h=0;h<e.length;h++)if(g==e[h])continue a;c+=(c.length>0?" ":"")+g}return c}function pb(a){a=Fd(a);var b=a.length;if(1>=b)return a;for(;b--;)a[b].nodeType===ae&&Jd.call(a,b,1);return a}function qb(a,b){if(b&&v(b))return b;if(v(a)){var c=Pe.exec(a);if(c)return c[3]}}function rb(){var a={},c=!1;this.has=function(b){return a.hasOwnProperty(b)},this.register=function(b,c){la(b,"controller"),t(b)?j(a,b):a[b]=c},this.allowGlobals=function(){c=!0},this.$get=["$injector","$window",function(d,e){function f(a,c,d,e){if(!a||!t(a.$scope))throw b("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",e,c);a.$scope[c]=d}return function(b,g,h,i){var k,l,m,n;if(h=!0===h,i&&v(i)&&(n=i),v(b)){if(!(l=b.match(Pe)))throw Oe("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",b);m=l[1],n=n||l[3],b=a.hasOwnProperty(m)?a[m]:ma(g.$scope,m,!0)||(c?ma(e,m,!0):void 0),ka(b,m,!0)}if(h){var o=(Qd(b)?b[b.length-1]:b).prototype;return k=Object.create(o||null),n&&f(g,n,k,m||b.name),j(function(){var a=d.invoke(b,k,g,m);return a!==k&&(t(a)||y(a))&&(k=a,n&&f(g,n,k,m||b.name)),k},{instance:k,identifier:n})}return k=d.instantiate(b,g,m),n&&f(g,n,k,m||b.name),k}}]}function sb(){this.$get=["$window",function(a){return Fd(a.document)}]}function tb(){this.$get=["$log",function(a){return function(b,c){a.error.apply(a,arguments)}}]}function ub(a){return t(a)?x(a)?a.toISOString():U(a):a}function vb(){this.$get=function(){return function(a){if(!a)return"";var b=[];return e(a,function(a,c){null===a||r(a)||(Qd(a)?d(a,function(a){b.push(ca(c)+"="+ca(ub(a)))}):b.push(ca(c)+"="+ca(ub(a))))}),b.join("&")}}}function wb(){this.$get=function(){return function(a){function b(a,f,g){null===a||r(a)||(Qd(a)?d(a,function(a,c){b(a,f+"["+(t(a)?c:"")+"]")}):t(a)&&!x(a)?e(a,function(a,c){b(a,f+(g?"":"[")+c+(g?"":"]"))}):c.push(ca(f)+"="+ca(ub(a))))}if(!a)return"";var c=[];return b(a,"",!0),c.join("&")}}}function xb(a,b){if(v(a)){var c=a.replace(Ve,"").trim();if(c){var d=b("Content-Type");(d&&0===d.indexOf(Re)||yb(c))&&(a=V(c))}}return a}function yb(a){var b=a.match(Te);return b&&Ue[b[0]].test(a)}function zb(a){function b(a,b){a&&(e[a]=e[a]?e[a]+", "+b:b)}var c,e=oa();return v(a)?d(a.split("\n"),function(a){c=a.indexOf(":"),b(Ad(Sd(a.substr(0,c))),Sd(a.substr(c+1)))}):t(a)&&d(a,function(a,c){b(Ad(c),Sd(a))}),e}function Ab(a){var b;return function(c){if(b||(b=zb(a)),c){var d=b[Ad(c)];return void 0===d&&(d=null),d}return b}}function Bb(a,b,c,e){return y(e)?e(a,b,c):(d(e,function(d){a=d(a,b,c)}),a)}function Cb(a){return a>=200&&300>a}function Db(){var a=this.defaults={transformResponse:[xb],transformRequest:[function(a){return!t(a)||C(a)||E(a)||D(a)?a:U(a)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:O(Se),put:O(Se),patch:O(Se)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},c=!1;this.useApplyAsync=function(a){return s(a)?(c=!!a,this):c};var e=!0;this.useLegacyPromiseExtensions=function(a){return s(a)?(e=!!a,this):e};var f=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(g,h,i,k,l,m){function n(c){function f(a){var b=j({},a);return b.data=Bb(a.data,a.headers,a.status,h.transformResponse),Cb(a.status)?b:l.reject(b)}function g(a,b){var c,e={};return d(a,function(a,d){y(a)?null!=(c=a(b))&&(e[d]=c):e[d]=a}),e}if(!t(c))throw b("$http")("badreq","Http request configuration must be an object.  Received: {0}",c);if(!v(c.url))throw b("$http")("badreq","Http request configuration url must be a string.  Received: {0}",c.url);var h=j({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse,paramSerializer:a.paramSerializer},c);h.headers=function(b){var c,d,e,f=a.headers,h=j({},b.headers);f=j({},f.common,f[Ad(b.method)]);a:for(c in f){d=Ad(c);for(e in h)if(Ad(e)===d)continue a;h[c]=f[c]}return g(h,O(b))}(c),h.method=Bd(h.method),h.paramSerializer=v(h.paramSerializer)?m.get(h.paramSerializer):h.paramSerializer;var i=function(b){var c=b.headers,e=Bb(b.data,Ab(c),void 0,b.transformRequest);return r(e)&&d(c,function(a,b){"content-type"===Ad(b)&&delete c[b]}),r(b.withCredentials)&&!r(a.withCredentials)&&(b.withCredentials=a.withCredentials),o(b,e).then(f,f)},k=[i,void 0],n=l.when(h);for(d(u,function(a){(a.request||a.requestError)&&k.unshift(a.request,a.requestError),(a.response||a.responseError)&&k.push(a.response,a.responseError)});k.length;){var p=k.shift(),q=k.shift();n=n.then(p,q)}return e?(n.success=function(a){return ka(a,"fn"),n.then(function(b){a(b.data,b.status,b.headers,h)}),n},n.error=function(a){return ka(a,"fn"),n.then(null,function(b){a(b.data,b.status,b.headers,h)}),n}):(n.success=Xe("success"),n.error=Xe("error")),n}function o(b,e){function f(a){if(a){var b={};return d(a,function(a,d){b[d]=function(b){function d(){a(b)}c?k.$applyAsync(d):k.$$phase?d():k.$apply(d)}}),b}}function i(a,b,d,e){function f(){j(b,a,d,e)}u&&(Cb(a)?u.put(z,[a,b,zb(d),e]):u.remove(z)),c?k.$applyAsync(f):(f(),k.$$phase||k.$apply())}function j(a,c,d,e){c=c>=-1?c:0,(Cb(c)?w.resolve:w.reject)({data:a,status:c,headers:Ab(d),config:b,statusText:e})}function m(a){j(a.data,a.status,O(a.headers()),a.statusText)}function o(){var a=n.pendingRequests.indexOf(b);-1!==a&&n.pendingRequests.splice(a,1)}var u,v,w=l.defer(),x=w.promise,y=b.headers,z=p(b.url,b.paramSerializer(b.params));if(n.pendingRequests.push(b),x.then(o,o),!b.cache&&!a.cache||!1===b.cache||"GET"!==b.method&&"JSONP"!==b.method||(u=t(b.cache)?b.cache:t(a.cache)?a.cache:q),u&&(v=u.get(z),s(v)?G(v)?v.then(m,m):Qd(v)?j(v[1],v[0],O(v[2]),v[3]):j(v,200,{},"OK"):u.put(z,x)),r(v)){var A=Ec(b.url)?h()[b.xsrfCookieName||a.xsrfCookieName]:void 0;A&&(y[b.xsrfHeaderName||a.xsrfHeaderName]=A),g(b.method,z,e,i,y,b.timeout,b.withCredentials,b.responseType,f(b.eventHandlers),f(b.uploadEventHandlers))}return x}function p(a,b){return b.length>0&&(a+=(-1==a.indexOf("?")?"?":"&")+b),a}var q=i("$http");a.paramSerializer=v(a.paramSerializer)?m.get(a.paramSerializer):a.paramSerializer;var u=[];return d(f,function(a){u.unshift(v(a)?m.get(a):m.invoke(a))}),n.pendingRequests=[],function(a){d(arguments,function(a){n[a]=function(b,c){return n(j({},c||{},{method:a,url:b}))}})}("get","delete","head","jsonp"),function(a){d(arguments,function(a){n[a]=function(b,c,d){return n(j({},d||{},{method:a,url:b,data:c}))}})}("post","put","patch"),n.defaults=a,n}]}function Eb(){this.$get=function(){return function(){return new a.XMLHttpRequest}}}function Fb(){this.$get=["$browser","$window","$document","$xhrFactory",function(a,b,c,d){return Gb(a,d,a.defer,b.angular.callbacks,c[0])}]}function Gb(a,b,c,e,f){function g(a,b,c){var d=f.createElement("script"),g=null;return d.type="text/javascript",d.src=a,d.async=!0,g=function(a){he(d,"load",g),he(d,"error",g),f.body.removeChild(d),d=null;var h=-1,i="unknown";a&&("load"!==a.type||e[b].called||(a={type:"error"}),i=a.type,h="error"===a.type?404:200),c&&c(h,i)},ge(d,"load",g),ge(d,"error",g),f.body.appendChild(d),g}return function(a,f,h,i,j,k,l,m,o,p){function q(){v&&v(),w&&w.abort()}function t(a,b,d,e,f){s(z)&&c.cancel(z),v=w=null,a(b,d,e,f),y.$$completeOutstandingRequest(n)}if(y.$$incOutstandingRequestCount(),f=f||y.url(),"jsonp"==Ad(a)){var u="_"+(e.counter++).toString(36);e[u]=function(a){e[u].data=a,e[u].called=!0};var v=g(f.replace("JSON_CALLBACK","angular.callbacks."+u),u,function(a,b){t(i,a,e[u].data,"",b),e[u]=n})}else{var w=b(a,f);w.open(a,f,!0),d(j,function(a,b){s(a)&&w.setRequestHeader(b,a)}),w.onload=function(){var a=w.statusText||"",b="response"in w?w.response:w.responseText,c=1223===w.status?204:w.status;0===c&&(c=b?200:"file"==Dc(f).protocol?404:0),t(i,c,b,w.getAllResponseHeaders(),a)};var x=function(){t(i,-1,null,null,"")};if(w.onerror=x,w.onabort=x,d(o,function(a,b){w.addEventListener(b,a)}),d(p,function(a,b){w.upload.addEventListener(b,a)}),l&&(w.withCredentials=!0),m)try{w.responseType=m}catch(y){if("json"!==m)throw y}w.send(r(h)?null:h)}if(k>0)var z=c(q,k);else G(k)&&k.then(q)}}function Hb(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a},this.endSymbol=function(a){return a?(b=a,this):b},this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function f(a){return"\\\\\\"+a}function g(c){return c.replace(n,a).replace(o,b)}function h(a){if(null==a)return"";switch(void 0===a?"undefined":_typeof(a)){case"string":break;case"number":a=""+a;break;default:a=U(a)}return a}function i(a,b,c,d){var e;return e=a.$watch(function(a){return e(),d(a)},b,c)}function k(f,k,n,o){function q(a){try{return a=F(a),o&&!s(a)?a:h(a)}catch(a){d(Ye.interr(f,a))}}if(!f.length||-1===f.indexOf(a)){var t;return k||(t=p(g(f)),t.exp=f,t.expressions=[],t.$$watchDelegate=i),t}o=!!o;for(var u,v,w,x=0,z=[],A=[],B=f.length,C=[],D=[];B>x;){if(-1==(u=f.indexOf(a,x))||-1==(v=f.indexOf(b,u+l))){x!==B&&C.push(g(f.substring(x)));break}x!==u&&C.push(g(f.substring(x,u))),w=f.substring(u+l,v),z.push(w),A.push(c(w,q)),x=v+m,D.push(C.length),C.push("")}if(n&&C.length>1&&Ye.throwNoconcat(f),!k||z.length){var E=function(a){for(var b=0,c=z.length;c>b;b++){if(o&&r(a[b]))return;C[D[b]]=a[b]}return C.join("")},F=function(a){return n?e.getTrusted(n,a):e.valueOf(a)};return j(function(a){var b=0,c=z.length,e=new Array(c);try{for(;c>b;b++)e[b]=A[b](a);return E(e)}catch(a){d(Ye.interr(f,a))}},{exp:f,expressions:z,$$watchDelegate:function(a,b){var c;return a.$watchGroup(A,function(d,e){var f=E(d);y(b)&&b.call(this,f,d!==e?c:f,a),c=f})}})}}var l=a.length,m=b.length,n=new RegExp(a.replace(/./g,f),"g"),o=new RegExp(b.replace(/./g,f),"g");return k.startSymbol=function(){return a},k.endSymbol=function(){return b},k}]}function Ib(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(a,b,c,d,e){function f(f,h,i,j){function k(){l?f.apply(null,m):f(p)}var l=arguments.length>4,m=l?R(arguments,4):[],n=b.setInterval,o=b.clearInterval,p=0,q=s(j)&&!j,r=(q?d:c).defer(),t=r.promise;return i=s(i)?i:0,t.$$intervalId=n(function(){q?e.defer(k):a.$evalAsync(k),r.notify(p++),i>0&&p>=i&&(r.resolve(p),o(t.$$intervalId),delete g[t.$$intervalId]),q||a.$apply()},h),g[t.$$intervalId]=r,t}var g={};return f.cancel=function(a){return!!(a&&a.$$intervalId in g)&&(g[a.$$intervalId].reject("canceled"),b.clearInterval(a.$$intervalId),delete g[a.$$intervalId],!0)},f}]}function Jb(a){for(var b=a.split("/"),c=b.length;c--;)b[c]=ba(b[c]);return b.join("/")}function Kb(a,b){var c=Dc(a);b.$$protocol=c.protocol,b.$$host=c.hostname,b.$$port=l(c.port)||$e[c.protocol]||null}function Lb(a,b){var c="/"!==a.charAt(0);c&&(a="/"+a);var d=Dc(a);b.$$path=decodeURIComponent(c&&"/"===d.pathname.charAt(0)?d.pathname.substring(1):d.pathname),b.$$search=_(d.search),b.$$hash=decodeURIComponent(d.hash),b.$$path&&"/"!=b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function Mb(a,b){return 0===b.indexOf(a)?b.substr(a.length):void 0}function Nb(a){var b=a.indexOf("#");return-1==b?a:a.substr(0,b)}function Ob(a){return a.replace(/(#.+)|#$/,"$1")}function Pb(a){return a.substr(0,Nb(a).lastIndexOf("/")+1)}function Qb(a){return a.substring(0,a.indexOf("/",a.indexOf("//")+2))}function Rb(a,b,c){this.$$html5=!0,c=c||"",Kb(a,this),this.$$parse=function(a){var c=Mb(b,a);if(!v(c))throw _e("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',a,b);Lb(c,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var a=aa(this.$$search),c=this.$$hash?"#"+ba(this.$$hash):"";this.$$url=Jb(this.$$path)+(a?"?"+a:"")+c,this.$$absUrl=b+this.$$url.substr(1)},this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g,h;return s(f=Mb(a,d))?(g=f,h=s(f=Mb(c,f))?b+(Mb("/",f)||f):a+g):s(f=Mb(b,d))?h=b+f:b==d+"/"&&(h=b),h&&this.$$parse(h),!!h}}function Sb(a,b,c){Kb(a,this),this.$$parse=function(d){var e,f=Mb(a,d)||Mb(b,d);r(f)||"#"!==f.charAt(0)?this.$$html5?e=f:(e="",r(f)&&(a=d,this.replace())):(e=Mb(c,f),r(e)&&(e=f)),Lb(e,this),this.$$path=function(a,b,c){var d,e=/^\/[A-Z]:(\/.*)/;return 0===b.indexOf(c)&&(b=b.replace(c,"")),e.exec(b)?a:(d=e.exec(a),d?d[1]:a)}(this.$$path,e,a),this.$$compose()},this.$$compose=function(){var b=aa(this.$$search),d=this.$$hash?"#"+ba(this.$$hash):"";this.$$url=Jb(this.$$path)+(b?"?"+b:"")+d,this.$$absUrl=a+(this.$$url?c+this.$$url:"")},this.$$parseLinkUrl=function(b,c){return Nb(a)==Nb(b)&&(this.$$parse(b),!0)}}function Tb(a,b,c){this.$$html5=!0,Sb.apply(this,arguments),this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;return a==Nb(d)?f=d:(g=Mb(b,d))?f=a+c+g:b===d+"/"&&(f=b),f&&this.$$parse(f),!!f},this.$$compose=function(){var b=aa(this.$$search),d=this.$$hash?"#"+ba(this.$$hash):"";this.$$url=Jb(this.$$path)+(b?"?"+b:"")+d,this.$$absUrl=a+c+this.$$url}}function Ub(a){return function(){return this[a]}}function Vb(a,b){return function(c){return r(c)?this[a]:(this[a]=b(c),this.$$compose(),this)}}function Wb(){var a="",b={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(b){return s(b)?(a=b,this):a},this.html5Mode=function(a){return F(a)?(b.enabled=a,this):t(a)?(F(a.enabled)&&(b.enabled=a.enabled),F(a.requireBase)&&(b.requireBase=a.requireBase),F(a.rewriteLinks)&&(b.rewriteLinks=a.rewriteLinks),this):b},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(c,d,e,f,g){function h(a,b,c){var e=j.url(),f=j.$$state;try{d.url(a,b,c),j.$$state=d.state()}catch(a){throw j.url(e),j.$$state=f,a}}function i(a,b){c.$broadcast("$locationChangeSuccess",j.absUrl(),a,j.$$state,b)}var j,k,l,m=d.baseHref(),n=d.url();if(b.enabled){if(!m&&b.requireBase)throw _e("nobase","$location in HTML5 mode requires a <base> tag to be present!");l=Qb(n)+(m||"/"),k=e.history?Rb:Tb}else l=Nb(n),k=Sb;var o=Pb(l);j=new k(l,o,"#"+a),j.$$parseLinkUrl(n,n),j.$$state=d.state();var p=/^\s*(javascript|mailto):/i;f.on("click",function(a){if(b.rewriteLinks&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&2!=a.which&&2!=a.button){for(var e=Fd(a.target);"a"!==L(e[0]);)if(e[0]===f[0]||!(e=e.parent())[0])return;var h=e.prop("href"),i=e.attr("href")||e.attr("xlink:href");t(h)&&"[object SVGAnimatedString]"===h.toString()&&(h=Dc(h.animVal).href),p.test(h)||!h||e.attr("target")||a.isDefaultPrevented()||j.$$parseLinkUrl(h,i)&&(a.preventDefault(),j.absUrl()!=d.url()&&(c.$apply(),g.angular["ff-684208-preventDefault"]=!0))}}),Ob(j.absUrl())!=Ob(n)&&d.url(j.absUrl(),!0);var q=!0;return d.onUrlChange(function(a,b){return r(Mb(o,a))?void(g.location.href=a):(c.$evalAsync(function(){var d,e=j.absUrl(),f=j.$$state;a=Ob(a),j.$$parse(a),j.$$state=b,d=c.$broadcast("$locationChangeStart",a,e,b,f).defaultPrevented,j.absUrl()===a&&(d?(j.$$parse(e),j.$$state=f,h(e,!1,f)):(q=!1,i(e,f)))}),void(c.$$phase||c.$digest()))}),c.$watch(function(){var a=Ob(d.url()),b=Ob(j.absUrl()),f=d.state(),g=j.$$replace,k=a!==b||j.$$html5&&e.history&&f!==j.$$state;(q||k)&&(q=!1,c.$evalAsync(function(){var b=j.absUrl(),d=c.$broadcast("$locationChangeStart",b,a,j.$$state,f).defaultPrevented;j.absUrl()===b&&(d?(j.$$parse(a),j.$$state=f):(k&&h(b,g,f===j.$$state?null:j.$$state),i(a,f)))})),j.$$replace=!1}),j}]}function Xb(){var a=!0,b=this;this.debugEnabled=function(b){return s(b)?(a=b,this):a},this.$get=["$window",function(c){function e(a){return a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line)),a}function f(a){var b=c.console||{},f=b[a]||b.log||n,g=!1;try{g=!!f.apply}catch(a){}return g?function(){var a=[];return d(arguments,function(b){a.push(e(b))}),f.apply(b,a)}:function(a,b){f(a,null==b?"":b)}}return{log:f("log"),info:f("info"),warn:f("warn"),error:f("error"),debug:function(){var c=f("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function Yb(a,b){if("__defineGetter__"===a||"__defineSetter__"===a||"__lookupGetter__"===a||"__lookupSetter__"===a||"__proto__"===a)throw bf("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",b);return a}function Zb(a){return a+""}function $b(a,b){if(a){if(a.constructor===a)throw bf("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a.window===a)throw bf("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",b);if(a.children&&(a.nodeName||a.prop&&a.attr&&a.find))throw bf("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",b);if(a===Object)throw bf("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",b)}return a}function _b(a,b){if(a){if(a.constructor===a)throw bf("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a===cf||a===df||a===ef)throw bf("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",b)}}function ac(a,b){if(a&&(a===0..constructor||a===(!1).constructor||a==="".constructor||a==={}.constructor||a===[].constructor||a===Function.constructor))throw bf("isecaf","Assigning to a constructor is disallowed! Expression: {0}",b)}function bc(a,b){return void 0!==a?a:b}function cc(a,b){return void 0===a?b:void 0===b?a:a+b}function dc(a,b){return!a(b).$stateful}function ec(a,b){var c,e;switch(a.type){case jf.Program:c=!0,d(a.body,function(a){ec(a.expression,b),c=c&&a.expression.constant}),a.constant=c;break;case jf.Literal:a.constant=!0,a.toWatch=[];break;case jf.UnaryExpression:ec(a.argument,b),a.constant=a.argument.constant,a.toWatch=a.argument.toWatch;break;case jf.BinaryExpression:ec(a.left,b),ec(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.left.toWatch.concat(a.right.toWatch);break;case jf.LogicalExpression:ec(a.left,b),ec(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.constant?[]:[a];break;case jf.ConditionalExpression:ec(a.test,b),ec(a.alternate,b),ec(a.consequent,b),a.constant=a.test.constant&&a.alternate.constant&&a.consequent.constant,a.toWatch=a.constant?[]:[a];break;case jf.Identifier:a.constant=!1,a.toWatch=[a];break;case jf.MemberExpression:ec(a.object,b),a.computed&&ec(a.property,b),a.constant=a.object.constant&&(!a.computed||a.property.constant),a.toWatch=[a];break;case jf.CallExpression:c=!!a.filter&&dc(b,a.callee.name),e=[],d(a.arguments,function(a){ec(a,b),c=c&&a.constant,a.constant||e.push.apply(e,a.toWatch)}),a.constant=c,a.toWatch=a.filter&&dc(b,a.callee.name)?e:[a];break;case jf.AssignmentExpression:ec(a.left,b),ec(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=[a];break;case jf.ArrayExpression:c=!0,e=[],d(a.elements,function(a){ec(a,b),c=c&&a.constant,a.constant||e.push.apply(e,a.toWatch)}),a.constant=c,a.toWatch=e;break;case jf.ObjectExpression:c=!0,e=[],d(a.properties,function(a){ec(a.value,b),c=c&&a.value.constant,a.value.constant||e.push.apply(e,a.value.toWatch)}),a.constant=c,a.toWatch=e;break;case jf.ThisExpression:case jf.LocalsExpression:a.constant=!1,a.toWatch=[]}}function fc(a){if(1==a.length){var b=a[0].expression,c=b.toWatch;return 1!==c.length?c:c[0]!==b?c:void 0}}function gc(a){return a.type===jf.Identifier||a.type===jf.MemberExpression}function hc(a){return 1===a.body.length&&gc(a.body[0].expression)?{type:jf.AssignmentExpression,left:a.body[0].expression,right:{type:jf.NGValueParameter},operator:"="}:void 0}function ic(a){return 0===a.body.length||1===a.body.length&&(a.body[0].expression.type===jf.Literal||a.body[0].expression.type===jf.ArrayExpression||a.body[0].expression.type===jf.ObjectExpression)}function jc(a){return a.constant}function kc(a,b){this.astBuilder=a,this.$filter=b}function lc(a,b){this.astBuilder=a,this.$filter=b}function mc(a){return"constructor"==a}function nc(a){return y(a.valueOf)?a.valueOf():lf.call(a)}function oc(){var a,b,c=oa(),e=oa(),f={"true":!0,"false":!1,"null":null,undefined:void 0};this.addLiteral=function(a,b){f[a]=b},this.setIdentifierFns=function(c,d){return a=c,b=d,this},this.$get=["$filter",function(g){function h(a,b,d){var f,h,j;switch(d=d||u,void 0===a?"undefined":_typeof(a)){case"string":a=a.trim(),j=a;var q=d?e:c;if(!(f=q[j])){":"===a.charAt(0)&&":"===a.charAt(1)&&(h=!0,a=a.substring(2));var s=d?t:r,v=new hf(s);f=new kf(v,g,s).parse(a),f.constant?f.$$watchDelegate=o:h?f.$$watchDelegate=f.literal?m:l:f.inputs&&(f.$$watchDelegate=k),d&&(f=i(f)),q[j]=f}return p(f,b);case"function":return p(a,b);default:return p(n,b)}}function i(a){function b(b,c,d,e){var f=u;u=!0;try{return a(b,c,d,e)}finally{u=f}}if(!a)return a;b.$$watchDelegate=a.$$watchDelegate,b.assign=i(a.assign),b.constant=a.constant,b.literal=a.literal;for(var c=0;a.inputs&&c<a.inputs.length;++c)a.inputs[c]=i(a.inputs[c]);return b.inputs=a.inputs,b}function j(a,b){return null==a||null==b?a===b:("object"!==(void 0===a?"undefined":_typeof(a))||(a=nc(a),"object"!==(void 0===a?"undefined":_typeof(a))))&&(a===b||a!==a&&b!==b)}function k(a,b,c,d,e){var f,g=d.inputs;if(1===g.length){var h=j;return g=g[0],a.$watch(function(a){var b=g(a);return j(b,h)||(f=d(a,void 0,void 0,[b]),h=b&&nc(b)),f},b,c,e)}for(var i=[],k=[],l=0,m=g.length;m>l;l++)i[l]=j,k[l]=null;return a.$watch(function(a){for(var b=!1,c=0,e=g.length;e>c;c++){var h=g[c](a);(b||(b=!j(h,i[c])))&&(k[c]=h,i[c]=h&&nc(h))}return b&&(f=d(a,void 0,void 0,k)),f},b,c,e)}function l(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a,y(b)&&b.apply(this,arguments),s(a)&&d.$$postDigest(function(){s(f)&&e()})},c)}function m(a,b,c,e){function f(a){var b=!0;return d(a,function(a){s(a)||(b=!1)}),b}var g,h;return g=a.$watch(function(a){return e(a)},function(a,c,d){h=a,y(b)&&b.call(this,a,c,d),f(a)&&d.$$postDigest(function(){f(h)&&g()})},c)}function o(a,b,c,d){var e;return e=a.$watch(function(a){return e(),d(a)},b,c)}function p(a,b){if(!b)return a;var c=a.$$watchDelegate,d=!1,e=c!==m&&c!==l,f=e?function(c,e,f,g){var h=d&&g?g[0]:a(c,e,f,g);return b(h,c,e)}:function(c,d,e,f){var g=a(c,d,e,f),h=b(g,c,d);return s(g)?h:g};return a.$$watchDelegate&&a.$$watchDelegate!==k?f.$$watchDelegate=a.$$watchDelegate:b.$stateful||(f.$$watchDelegate=k,d=!a.inputs,f.inputs=a.inputs?a.inputs:[a]),f}var q=Ud().noUnsafeEval,r={csp:q,expensiveChecks:!1,literals:N(f),isIdentifierStart:y(a)&&a,isIdentifierContinue:y(b)&&b},t={csp:q,expensiveChecks:!0,literals:N(f),isIdentifierStart:y(a)&&a,isIdentifierContinue:y(b)&&b},u=!1;return h.$$runningExpensiveChecks=function(){return u},h}]}function pc(){this.$get=["$rootScope","$exceptionHandler",function(a,b){return rc(function(b){a.$evalAsync(b)},b)}]}function qc(){this.$get=["$browser","$exceptionHandler",function(a,b){return rc(function(b){a.defer(b)},b)}]}function rc(a,c){function e(){this.$$state={status:0}}function f(a,b){return function(c){b.call(a,c)}}function g(a){var b,d,e;e=a.pending,a.processScheduled=!1,a.pending=void 0;for(var f=0,g=e.length;g>f;++f){d=e[f][0],b=e[f][a.status];try{y(b)?d.resolve(b(a.value)):1===a.status?d.resolve(a.value):d.reject(a.value)}catch(a){d.reject(a),c(a)}}}function h(b){!b.processScheduled&&b.pending&&(b.processScheduled=!0,a(function(){g(b)}))}function i(){this.promise=new e}function k(a){var b=new i,c=0,e=Qd(a)?[]:{};return d(a,function(a,d){
c++,q(a).then(function(a){e.hasOwnProperty(d)||(e[d]=a,--c||b.resolve(e))},function(a){e.hasOwnProperty(d)||b.reject(a)})}),0===c&&b.resolve(e),b.promise}var l=b("$q",TypeError),m=function(){var a=new i;return a.resolve=f(a,a.resolve),a.reject=f(a,a.reject),a.notify=f(a,a.notify),a};j(e.prototype,{then:function(a,b,c){if(r(a)&&r(b)&&r(c))return this;var d=new i;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([d,a,b,c]),this.$$state.status>0&&h(this.$$state),d.promise},"catch":function(a){return this.then(null,a)},"finally":function(a,b){return this.then(function(b){return p(b,!0,a)},function(b){return p(b,!1,a)},b)}}),j(i.prototype,{resolve:function(a){this.promise.$$state.status||(a===this.promise?this.$$reject(l("qcycle","Expected promise to be resolved with value other than itself '{0}'",a)):this.$$resolve(a))},$$resolve:function(a){function b(a){i||(i=!0,g.$$resolve(a))}function d(a){i||(i=!0,g.$$reject(a))}var e,g=this,i=!1;try{(t(a)||y(a))&&(e=a&&a.then),y(e)?(this.promise.$$state.status=-1,e.call(a,b,d,f(this,this.notify))):(this.promise.$$state.value=a,this.promise.$$state.status=1,h(this.promise.$$state))}catch(a){d(a),c(a)}},reject:function(a){this.promise.$$state.status||this.$$reject(a)},$$reject:function(a){this.promise.$$state.value=a,this.promise.$$state.status=2,h(this.promise.$$state)},notify:function(b){var d=this.promise.$$state.pending;this.promise.$$state.status<=0&&d&&d.length&&a(function(){for(var a,e,f=0,g=d.length;g>f;f++){e=d[f][0],a=d[f][3];try{e.notify(y(a)?a(b):b)}catch(a){c(a)}}})}});var n=function(a){var b=new i;return b.reject(a),b.promise},o=function(a,b){var c=new i;return b?c.resolve(a):c.reject(a),c.promise},p=function(a,b,c){var d=null;try{y(c)&&(d=c())}catch(a){return o(a,!1)}return G(d)?d.then(function(){return o(a,b)},function(a){return o(a,!1)}):o(a,b)},q=function(a,b,c,d){var e=new i;return e.resolve(a),e.promise.then(b,c,d)},s=q,u=function(a){function b(a){d.resolve(a)}function c(a){d.reject(a)}if(!y(a))throw l("norslvr","Expected resolverFn, got '{0}'",a);var d=new i;return a(b,c),d.promise};return u.prototype=e.prototype,u.defer=m,u.reject=n,u.when=q,u.resolve=s,u.all=k,u}function sc(){this.$get=["$window","$timeout",function(a,b){var c=a.requestAnimationFrame||a.webkitRequestAnimationFrame,d=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!c,f=e?function(a){var b=c(a);return function(){d(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};return f.supported=e,f}]}function tc(){function a(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=g(),this.$$ChildScope=null}return b.prototype=a,b}var e=10,f=b("$rootScope"),h=null,i=null;this.digestTtl=function(a){return arguments.length&&(e=a),e},this.$get=["$exceptionHandler","$parse","$browser",function(b,j,k){function l(a){a.currentScope.$$destroyed=!0}function m(a){9===Ed&&(a.$$childHead&&m(a.$$childHead),a.$$nextSibling&&m(a.$$nextSibling)),a.$parent=a.$$nextSibling=a.$$prevSibling=a.$$childHead=a.$$childTail=a.$root=a.$$watchers=null}function o(){this.$id=g(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function p(a){if(z.$$phase)throw f("inprog","{0} already in progress",z.$$phase);z.$$phase=a}function q(){z.$$phase=null}function s(a,b){do a.$$watchersCount+=b;while(a=a.$parent)}function u(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function v(){}function w(){for(;C.length;)try{C.shift()()}catch(a){b(a)}i=null}function x(){null===i&&(i=k.defer(function(){z.$apply(w)}))}o.prototype={constructor:o,$new:function(b,c){var d;return c=c||this,b?(d=new o,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=a(this)),d=new this.$$ChildScope),d.$parent=c,d.$$prevSibling=c.$$childTail,c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d,(b||c!=this)&&d.$on("$destroy",l),d},$watch:function(a,b,c,d){var e=j(a);if(e.$$watchDelegate)return e.$$watchDelegate(this,b,c,e,a);var f=this,g=f.$$watchers,i={fn:b,last:v,get:e,exp:d||a,eq:!!c};return h=null,y(b)||(i.fn=n),g||(g=f.$$watchers=[]),g.unshift(i),s(this,1),function(){M(g,i)>=0&&s(f,-1),h=null}},$watchGroup:function(a,b){function c(){i=!1,j?(j=!1,b(f,f,h)):b(f,e,h)}var e=new Array(a.length),f=new Array(a.length),g=[],h=this,i=!1,j=!0;if(!a.length){var k=!0;return h.$evalAsync(function(){k&&b(f,f,h)}),function(){k=!1}}return 1===a.length?this.$watch(a[0],function(a,c,d){f[0]=a,e[0]=c,b(f,a===c?f:e,d)}):(d(a,function(a,b){var d=h.$watch(a,function(a,d){f[b]=a,e[b]=d,i||(i=!0,h.$evalAsync(c))});g.push(d)}),function(){for(;g.length;)g.shift()()})},$watchCollection:function(a,b){function d(a){f=a;var b,d,e,h;if(!r(f)){if(t(f))if(c(f)){g!==n&&(g=n,q=g.length=0,l++),b=f.length,q!==b&&(l++,g.length=q=b);for(var i=0;b>i;i++)h=g[i],e=f[i],h!==h&&e!==e||h===e||(l++,g[i]=e)}else{g!==o&&(g=o={},q=0,l++),b=0;for(d in f)zd.call(f,d)&&(b++,e=f[d],h=g[d],d in g?h!==h&&e!==e||h===e||(l++,g[d]=e):(q++,g[d]=e,l++));if(q>b){l++;for(d in g)zd.call(f,d)||(q--,delete g[d])}}else g!==f&&(g=f,l++);return l}}function e(){if(p?(p=!1,b(f,f,i)):b(f,h,i),k)if(t(f))if(c(f)){h=new Array(f.length);for(var a=0;a<f.length;a++)h[a]=f[a]}else{h={};for(var d in f)zd.call(f,d)&&(h[d]=f[d])}else h=f}d.$stateful=!0;var f,g,h,i=this,k=b.length>1,l=0,m=j(a,d),n=[],o={},p=!0,q=0;return this.$watch(m,e)},$digest:function(){var a,c,d,g,j,l,m,n,o,r,s,t,u=e,x=this,C=[];p("$digest"),k.$$checkUrlChange(),this===z&&null!==i&&(k.defer.cancel(i),w()),h=null;do{for(n=!1,r=x;A.length;){try{t=A.shift(),t.scope.$eval(t.expression,t.locals)}catch(a){b(a)}h=null}a:do{if(l=r.$$watchers)for(m=l.length;m--;)try{if(a=l[m])if(j=a.get,(c=j(r))===(d=a.last)||(a.eq?P(c,d):"number"==typeof c&&"number"==typeof d&&isNaN(c)&&isNaN(d))){if(a===h){n=!1;break a}}else n=!0,h=a,a.last=a.eq?N(c,null):c,g=a.fn,g(c,d===v?c:d,r),5>u&&(s=4-u,C[s]||(C[s]=[]),C[s].push({msg:y(a.exp)?"fn: "+(a.exp.name||a.exp.toString()):a.exp,newVal:c,oldVal:d}))}catch(a){b(a)}if(!(o=r.$$watchersCount&&r.$$childHead||r!==x&&r.$$nextSibling))for(;r!==x&&!(o=r.$$nextSibling);)r=r.$parent}while(r=o);if((n||A.length)&&!u--)throw q(),f("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,C)}while(n||A.length);for(q();B.length;)try{B.shift()()}catch(a){b(a)}},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===z&&k.$$applicationDestroyed(),s(this,-this.$$watchersCount);for(var b in this.$$listenerCount)u(this,this.$$listenerCount[b],b);a&&a.$$childHead==this&&(a.$$childHead=this.$$nextSibling),a&&a.$$childTail==this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=n,this.$on=this.$watch=this.$watchGroup=function(){return n},this.$$listeners={},this.$$nextSibling=null,m(this)}},$eval:function(a,b){return j(a)(this,b)},$evalAsync:function(a,b){z.$$phase||A.length||k.defer(function(){A.length&&z.$digest()}),A.push({scope:this,expression:j(a),locals:b})},$$postDigest:function(a){B.push(a)},$apply:function(a){try{p("$apply");try{return this.$eval(a)}finally{q()}}catch(a){b(a)}finally{try{z.$digest()}catch(a){throw b(a),a}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&C.push(b),a=j(a),x()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]),c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,u(e,1,a))}},$emit:function(a,c){var d,e,f,g=[],h=this,i=!1,j={name:a,targetScope:h,stopPropagation:function(){i=!0},preventDefault:function(){j.defaultPrevented=!0},defaultPrevented:!1},k=Q([j],arguments,1);do{for(d=h.$$listeners[a]||g,j.currentScope=h,e=0,f=d.length;f>e;e++)if(d[e])try{d[e].apply(null,k)}catch(a){b(a)}else d.splice(e,1),e--,f--;if(i)return j.currentScope=null,j;h=h.$parent}while(h);return j.currentScope=null,j},$broadcast:function(a,c){var d=this,e=d,f=d,g={name:a,targetScope:d,preventDefault:function(){g.defaultPrevented=!0},defaultPrevented:!1};if(!d.$$listenerCount[a])return g;for(var h,i,j,k=Q([g],arguments,1);e=f;){for(g.currentScope=e,h=e.$$listeners[a]||[],i=0,j=h.length;j>i;i++)if(h[i])try{h[i].apply(null,k)}catch(a){b(a)}else h.splice(i,1),i--,j--;if(!(f=e.$$listenerCount[a]&&e.$$childHead||e!==d&&e.$$nextSibling))for(;e!==d&&!(f=e.$$nextSibling);)e=e.$parent}return g.currentScope=null,g}};var z=new o,A=z.$$asyncQueue=[],B=z.$$postDigestQueue=[],C=z.$$applyAsyncQueue=[];return z}]}function uc(){var a=/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(b){return s(b)?(a=b,this):a},this.imgSrcSanitizationWhitelist=function(a){return s(a)?(b=a,this):b},this.$get=function(){return function(c,d){var e,f=d?b:a;return e=Dc(c).href,""===e||e.match(f)?c:"unsafe:"+e}}}function vc(a){if("self"===a)return a;if(v(a)){if(a.indexOf("***")>-1)throw mf("iwcard","Illegal sequence *** in string matcher.  String: {0}",a);return a=Td(a).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+a+"$")}if(z(a))return new RegExp("^"+a.source+"$");throw mf("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function wc(a){var b=[];return s(a)&&d(a,function(a){b.push(vc(a))}),b}function xc(){this.SCE_CONTEXTS=nf;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){return arguments.length&&(a=wc(b)),a},this.resourceUrlBlacklist=function(a){return arguments.length&&(b=wc(a)),b},this.$get=["$injector",function(c){function d(a,b){return"self"===a?Ec(b):!!a.exec(b.href)}function e(c){var e,f,g=Dc(c.toString()),h=!1;for(e=0,f=a.length;f>e;e++)if(d(a[e],g)){h=!0;break}if(h)for(e=0,f=b.length;f>e;e++)if(d(b[e],g)){h=!1;break}return h}function f(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};return a&&(b.prototype=new a),b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},b}function g(a,b){var c=l.hasOwnProperty(a)?l[a]:null;if(!c)throw mf("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",a,b);if(null===b||r(b)||""===b)return b;if("string"!=typeof b)throw mf("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",a);return new c(b)}function h(a){return a instanceof k?a.$$unwrapTrustedValue():a}function i(a,b){if(null===b||r(b)||""===b)return b;var c=l.hasOwnProperty(a)?l[a]:null;if(c&&b instanceof c)return b.$$unwrapTrustedValue();if(a===nf.RESOURCE_URL){if(e(b))return b;throw mf("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",b.toString())}if(a===nf.HTML)return j(b);throw mf("unsafe","Attempting to use an unsafe value in a safe context.")}var j=function(a){throw mf("unsafe","Attempting to use an unsafe value in a safe context.")};c.has("$sanitize")&&(j=c.get("$sanitize"));var k=f(),l={};return l[nf.HTML]=f(k),l[nf.CSS]=f(k),l[nf.URL]=f(k),l[nf.JS]=f(k),l[nf.RESOURCE_URL]=f(l[nf.URL]),{trustAs:g,getTrusted:i,valueOf:h}}]}function yc(){var a=!0;this.enabled=function(b){return arguments.length&&(a=!!b),a},this.$get=["$parse","$sceDelegate",function(b,c){if(a&&8>Ed)throw mf("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var e=O(nf);e.isEnabled=function(){return a},e.trustAs=c.trustAs,e.getTrusted=c.getTrusted,e.valueOf=c.valueOf,a||(e.trustAs=e.getTrusted=function(a,b){return b},e.valueOf=o),e.parseAs=function(a,c){var d=b(c);return d.literal&&d.constant?d:b(c,function(b){return e.getTrusted(a,b)})};var f=e.parseAs,g=e.getTrusted,h=e.trustAs;return d(nf,function(a,b){var c=Ad(b);e[ta("parse_as_"+c)]=function(b){return f(a,b)},e[ta("get_trusted_"+c)]=function(b){return g(a,b)},e[ta("trust_as_"+c)]=function(b){return h(a,b)}}),e}]}function zc(){this.$get=["$window","$document",function(a,b){var c,d,e={},f=a.chrome&&a.chrome.app&&a.chrome.app.runtime,g=!f&&a.history&&a.history.pushState,h=l((/android (\d+)/.exec(Ad((a.navigator||{}).userAgent))||[])[1]),i=/Boxee/i.test((a.navigator||{}).userAgent),j=b[0]||{},k=/^(Moz|webkit|ms)(?=[A-Z])/,m=j.body&&j.body.style,n=!1,o=!1;if(m){for(var p in m)if(d=k.exec(p)){c=d[0],c=c.substr(0,1).toUpperCase()+c.substr(1);break}c||(c="WebkitOpacity"in m&&"webkit"),n=!!("transition"in m||c+"Transition"in m),o=!!("animation"in m||c+"Animation"in m),!h||n&&o||(n=v(m.webkitTransition),o=v(m.webkitAnimation))}return{history:!(!g||4>h||i),hasEvent:function(a){if("input"===a&&11>=Ed)return!1;if(r(e[a])){var b=j.createElement("div");e[a]="on"+a in b}return e[a]},csp:Ud(),vendorPrefix:c,transitions:n,animations:o,android:h}}]}function Ac(){var a;this.httpOptions=function(b){return b?(a=b,this):a},this.$get=["$templateCache","$http","$q","$sce",function(b,c,d,e){function f(g,h){function i(a){if(!h)throw of("tpload","Failed to load template: {0} (HTTP status: {1} {2})",g,a.status,a.statusText);return d.reject(a)}f.totalPendingRequests++,v(g)&&b.get(g)||(g=e.getTrustedResourceUrl(g));var k=c.defaults&&c.defaults.transformResponse;return Qd(k)?k=k.filter(function(a){return a!==xb}):k===xb&&(k=null),c.get(g,j({cache:b,transformResponse:k},a))["finally"](function(){f.totalPendingRequests--}).then(function(a){return b.put(g,a.data),a.data},i)}return f.totalPendingRequests=0,f}]}function Bc(){this.$get=["$rootScope","$browser","$location",function(a,b,c){var e={};return e.findBindings=function(a,b,c){var e=a.getElementsByClassName("ng-binding"),f=[];return d(e,function(a){var e=Od.element(a).data("$binding");e&&d(e,function(d){c?new RegExp("(^|\\s)"+Td(b)+"(\\s|\\||$)").test(d)&&f.push(a):-1!=d.indexOf(b)&&f.push(a)})}),f},e.findModels=function(a,b,c){for(var d=["ng-","data-ng-","ng\\:"],e=0;e<d.length;++e){var f=c?"=":"*=",g="["+d[e]+"model"+f+'"'+b+'"]',h=a.querySelectorAll(g);if(h.length)return h}},e.getLocation=function(){return c.url()},e.setLocation=function(b){b!==c.url()&&(c.url(b),a.$digest())},e.whenStable=function(a){b.notifyWhenNoOutstandingRequests(a)},e}]}function Cc(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(a,b,c,d,e){function f(a,f,h){y(a)||(h=f,f=a,a=n);var i,j=R(arguments,3),k=s(h)&&!h,l=(k?d:c).defer(),m=l.promise;return i=b.defer(function(){try{l.resolve(a.apply(null,j))}catch(b){l.reject(b),e(b)}finally{delete g[m.$$timeoutId]}k||b.$apply()},f),m.$$timeoutId=i,g[i]=l,m}var g={};return f.cancel=function(a){return!!(a&&a.$$timeoutId in g)&&(g[a.$$timeoutId].reject("canceled"),delete g[a.$$timeoutId],b.defer.cancel(a.$$timeoutId))},f}]}function Dc(a){var b=a;return Ed&&(pf.setAttribute("href",b),b=pf.href),pf.setAttribute("href",b),{href:pf.href,protocol:pf.protocol?pf.protocol.replace(/:$/,""):"",host:pf.host,search:pf.search?pf.search.replace(/^\?/,""):"",hash:pf.hash?pf.hash.replace(/^#/,""):"",hostname:pf.hostname,port:pf.port,pathname:"/"===pf.pathname.charAt(0)?pf.pathname:"/"+pf.pathname}}function Ec(a){var b=v(a)?Dc(a):a;return b.protocol===qf.protocol&&b.host===qf.host}function Fc(){this.$get=p(a)}function Gc(a){function b(a){try{return decodeURIComponent(a)}catch(b){return a}}var c=a[0]||{},d={},e="";return function(){var a,f,g,h,i,j=c.cookie||"";if(j!==e)for(e=j,a=e.split("; "),d={},g=0;g<a.length;g++)f=a[g],(h=f.indexOf("="))>0&&(i=b(f.substring(0,h)),r(d[i])&&(d[i]=b(f.substring(h+1))));return d}}function Hc(){this.$get=Gc}function Ic(a){function b(e,f){if(t(e)){var g={};return d(e,function(a,c){g[c]=b(c,a)}),g}return a.factory(e+c,f)}var c="Filter";this.register=b,this.$get=["$injector",function(a){return function(b){return a.get(b+c)}}],b("currency",Nc),b("date",ad),b("filter",Jc),b("json",bd),b("limitTo",cd),b("lowercase",xf),b("number",Oc),b("orderBy",dd),b("uppercase",yf)}function Jc(){return function(a,d,e){if(!c(a)){if(null==a)return a;throw b("filter")("notarray","Expected array but received: {0}",a)}var f,g,h=Mc(d);switch(h){case"function":f=d;break;case"boolean":case"null":case"number":case"string":g=!0;case"object":f=Kc(d,e,g);break;default:return a}return Array.prototype.filter.call(a,f)}}function Kc(a,b,c){var d=t(a)&&"$"in a;return!0===b?b=P:y(b)||(b=function(a,b){return!(r(a)||(null===a||null===b?a!==b:t(b)||t(a)&&!q(a)||(a=Ad(""+a),b=Ad(""+b),-1===a.indexOf(b))))}),function(e){return d&&!t(e)?Lc(e,a.$,b,!1):Lc(e,a,b,c)}}function Lc(a,b,c,d,e){var f=Mc(a),g=Mc(b);if("string"===g&&"!"===b.charAt(0))return!Lc(a,b.substring(1),c,d);if(Qd(a))return a.some(function(a){return Lc(a,b,c,d)});switch(f){case"object":var h;if(d){for(h in a)if("$"!==h.charAt(0)&&Lc(a[h],b,c,!0))return!0;return!e&&Lc(a,b,c,!1)}if("object"===g){for(h in b){var i=b[h];if(!y(i)&&!r(i)){var j="$"===h;if(!Lc(j?a:a[h],i,c,j,j))return!1}}return!0}return c(a,b);case"function":return!1;default:return c(a,b)}}function Mc(a){return null===a?"null":void 0===a?"undefined":_typeof(a)}function Nc(a){var b=a.NUMBER_FORMATS;return function(a,c,d){return r(c)&&(c=b.CURRENCY_SYM),r(d)&&(d=b.PATTERNS[1].maxFrac),null==a?a:Rc(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,d).replace(/\u00A4/g,c)}}function Oc(a){var b=a.NUMBER_FORMATS;return function(a,c){return null==a?a:Rc(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function Pc(a){var b,c,d,e,f,g=0;for((c=a.indexOf(sf))>-1&&(a=a.replace(sf,"")),(d=a.search(/e/i))>0?(0>c&&(c=d),c+=+a.slice(d+1),a=a.substring(0,d)):0>c&&(c=a.length),d=0;a.charAt(d)==tf;d++);if(d==(f=a.length))b=[0],c=1;else{for(f--;a.charAt(f)==tf;)f--;for(c-=d,b=[],e=0;f>=d;d++,e++)b[e]=+a.charAt(d)}return c>rf&&(b=b.splice(0,rf-1),g=c-1,c=1),{d:b,e:g,i:c}}function Qc(a,b,c,d){var e=a.d,f=e.length-a.i;b=r(b)?Math.min(Math.max(c,f),d):+b;var g=b+a.i,h=e[g];if(g>0){e.splice(Math.max(a.i,g));for(var i=g;i<e.length;i++)e[i]=0}else{f=Math.max(0,f),a.i=1,e.length=Math.max(1,g=b+1),e[0]=0;for(var j=1;g>j;j++)e[j]=0}if(h>=5)if(0>g-1){for(var k=0;k>g;k--)e.unshift(0),a.i++;e.unshift(1),a.i++}else e[g-1]++;for(;f<Math.max(0,b);f++)e.push(0);var l=e.reduceRight(function(a,b,c,d){return b+=a,d[c]=b%10,Math.floor(b/10)},0);l&&(e.unshift(l),a.i++)}function Rc(a,b,c,d,e){if(!v(a)&&!w(a)||isNaN(a))return"";var f,g=!isFinite(a),h=!1,i=Math.abs(a)+"",j="";if(g)j="∞";else{f=Pc(i),Qc(f,e,b.minFrac,b.maxFrac);var k=f.d,l=f.i,m=f.e,n=[];for(h=k.reduce(function(a,b){return a&&!b},!0);0>l;)k.unshift(0),l++;l>0?n=k.splice(l):(n=k,k=[0]);var o=[];for(k.length>=b.lgSize&&o.unshift(k.splice(-b.lgSize).join(""));k.length>b.gSize;)o.unshift(k.splice(-b.gSize).join(""));k.length&&o.unshift(k.join("")),j=o.join(c),n.length&&(j+=d+n.join("")),m&&(j+="e+"+m)}return 0>a&&!h?b.negPre+j+b.negSuf:b.posPre+j+b.posSuf}function Sc(a,b,c,d){var e="";for((0>a||d&&0>=a)&&(d?a=1-a:(a=-a,e="-")),a=""+a;a.length<b;)a=tf+a;return c&&(a=a.substr(a.length-b)),e+a}function Tc(a,b,c,d,e){return c=c||0,function(f){var g=f["get"+a]();return(c>0||g>-c)&&(g+=c),0===g&&-12==c&&(g=12),Sc(g,b,d,e)}}function Uc(a,b,c){return function(d,e){var f=d["get"+a]();return e[Bd((c?"STANDALONE":"")+(b?"SHORT":"")+a)][f]}}function Vc(a,b,c){var d=-1*c,e=d>=0?"+":"";return e+=Sc(Math[d>0?"floor":"ceil"](d/60),2)+Sc(Math.abs(d%60),2)}function Wc(a){var b=new Date(a,0,1).getDay();return new Date(a,0,(4>=b?5:12)-b)}function Xc(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate()+(4-a.getDay()))}function Yc(a){return function(b){var c=Wc(b.getFullYear()),d=Xc(b),e=+d-+c;return Sc(1+Math.round(e/6048e5),a)}}function Zc(a,b){return a.getHours()<12?b.AMPMS[0]:b.AMPMS[1]}function $c(a,b){return a.getFullYear()<=0?b.ERAS[0]:b.ERAS[1]}function _c(a,b){return a.getFullYear()<=0?b.ERANAMES[0]:b.ERANAMES[1]}function ad(a){function b(a){var b;if(b=a.match(c)){var d=new Date(0),e=0,f=0,g=b[8]?d.setUTCFullYear:d.setFullYear,h=b[8]?d.setUTCHours:d.setHours;b[9]&&(e=l(b[9]+b[10]),f=l(b[9]+b[11])),g.call(d,l(b[1]),l(b[2])-1,l(b[3]));var i=l(b[4]||0)-e,j=l(b[5]||0)-f,k=l(b[6]||0),m=Math.round(1e3*parseFloat("0."+(b[7]||0)));return h.call(d,i,j,k,m),d}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,e,f){var g,h,i="",j=[];if(e=e||"mediumDate",e=a.DATETIME_FORMATS[e]||e,v(c)&&(c=wf.test(c)?l(c):b(c)),w(c)&&(c=new Date(c)),!x(c)||!isFinite(c.getTime()))return c;for(;e;)h=vf.exec(e),h?(j=Q(j,h,1),e=j.pop()):(j.push(e),e=null);var k=c.getTimezoneOffset();return f&&(k=W(f,k),c=Y(c,f,!0)),d(j,function(b){g=uf[b],i+=g?g(c,a.DATETIME_FORMATS,k):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),i}}function bd(){return function(a,b){return r(b)&&(b=2),U(a,b)}}function cd(){return function(a,b,c){return b=Math.abs(Number(b))===1/0?Number(b):l(b),isNaN(b)?a:(w(a)&&(a=a.toString()),Qd(a)||v(a)?(c=!c||isNaN(c)?0:l(c),c=0>c?Math.max(0,a.length+c):c,b>=0?a.slice(c,c+b):0===c?a.slice(b,a.length):a.slice(Math.max(0,c+b),c)):a)}}function dd(a){function d(b,c){return c=c?-1:1,b.map(function(b){var d=1,e=o;if(y(b))e=b;else if(v(b)&&("+"!=b.charAt(0)&&"-"!=b.charAt(0)||(d="-"==b.charAt(0)?-1:1,b=b.substring(1)),""!==b&&(e=a(b),e.constant))){var f=e();e=function(a){return a[f]}}return{get:e,descending:d*c}})}function e(a){switch(void 0===a?"undefined":_typeof(a)){case"number":case"boolean":case"string":return!0;default:return!1}}function f(a,b){return"function"==typeof a.valueOf&&(a=a.valueOf(),e(a))?a:q(a)&&(a=a.toString(),e(a))?a:b}function g(a,b){var c=void 0===a?"undefined":_typeof(a);return null===a?(c="string",a="null"):"string"===c?a=a.toLowerCase():"object"===c&&(a=f(a,b)),{value:a,type:c}}function h(a,b){var c=0;return a.type===b.type?a.value!==b.value&&(c=a.value<b.value?-1:1):c=a.type<b.type?-1:1,c}return function(a,e,f){function i(a,b){return{value:a,predicateValues:k.map(function(c){return g(c.get(a),b)})}}function j(a,b){for(var c=0,d=0,e=k.length;e>d&&!(c=h(a.predicateValues[d],b.predicateValues[d])*k[d].descending);++d);return c}if(null==a)return a;if(!c(a))throw b("orderBy")("notarray","Expected array but received: {0}",a);Qd(e)||(e=[e]),0===e.length&&(e=["+"]);var k=d(e,f);k.push({get:function(){return{}},descending:f?-1:1});var l=Array.prototype.map.call(a,i);return l.sort(j),a=l.map(function(a){return a.value})}}function ed(a){return y(a)&&(a={link:a}),a.restrict=a.restrict||"AC",p(a)}function fd(a,b){a.$name=b}function gd(a,b,c,e,f){var g=this,h=[];g.$error={},g.$$success={},g.$pending=void 0,g.$name=f(b.name||b.ngForm||"")(c),g.$dirty=!1,g.$pristine=!0,g.$valid=!0,g.$invalid=!1,g.$submitted=!1,g.$$parentForm=Bf,g.$rollbackViewValue=function(){d(h,function(a){a.$rollbackViewValue()})},g.$commitViewValue=function(){d(h,function(a){a.$commitViewValue()})},g.$addControl=function(a){la(a.$name,"input"),h.push(a),a.$name&&(g[a.$name]=a),a.$$parentForm=g},g.$$renameControl=function(a,b){var c=a.$name;g[c]===a&&delete g[c],g[b]=a,a.$name=b},g.$removeControl=function(a){a.$name&&g[a.$name]===a&&delete g[a.$name],d(g.$pending,function(b,c){g.$setValidity(c,null,a)}),d(g.$error,function(b,c){g.$setValidity(c,null,a)}),d(g.$$success,function(b,c){g.$setValidity(c,null,a)}),M(h,a),a.$$parentForm=Bf},vd({ctrl:this,$element:a,set:function(a,b,c){var d=a[b];d?-1===d.indexOf(c)&&d.push(c):a[b]=[c]},unset:function(a,b,c){var d=a[b];d&&(M(d,c),0===d.length&&delete a[b])},$animate:e}),g.$setDirty=function(){e.removeClass(a,jg),e.addClass(a,kg),g.$dirty=!0,g.$pristine=!1,g.$$parentForm.$setDirty()},g.$setPristine=function(){e.setClass(a,jg,kg+" "+Cf),g.$dirty=!1,g.$pristine=!0,g.$submitted=!1,d(h,function(a){a.$setPristine()})},g.$setUntouched=function(){d(h,function(a){a.$setUntouched()})},g.$setSubmitted=function(){e.addClass(a,Cf),g.$submitted=!0,g.$$parentForm.$setSubmitted()}}function hd(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function id(a,b,c,d,e,f){jd(a,b,c,d,e,f),hd(d)}function jd(a,b,c,d,e,f){var g=Ad(b[0].type);if(!e.android){var h=!1;b.on("compositionstart",function(){h=!0}),b.on("compositionend",function(){h=!1,j()})}var i,j=function(a){if(i&&(f.defer.cancel(i),i=null),!h){var e=b.val(),j=a&&a.type;"password"===g||c.ngTrim&&"false"===c.ngTrim||(e=Sd(e)),(d.$viewValue!==e||""===e&&d.$$hasNativeValidators)&&d.$setViewValue(e,j)}};if(e.hasEvent("input"))b.on("input",j);else{var k=function(a,b,c){i||(i=f.defer(function(){i=null,b&&b.value===c||j(a)}))};b.on("keydown",function(a){var b=a.keyCode;91===b||b>15&&19>b||b>=37&&40>=b||k(a,this,this.value)}),e.hasEvent("paste")&&b.on("paste cut",k)}b.on("change",j),Of[g]&&d.$$hasNativeValidators&&g===c.type&&b.on(Nf,function(a){if(!i){var b=this[yd],c=b.badInput,d=b.typeMismatch;i=f.defer(function(){i=null,b.badInput===c&&b.typeMismatch===d||j(a)})}}),d.$render=function(){var a=d.$isEmpty(d.$viewValue)?"":d.$viewValue;b.val()!==a&&b.val(a)}}function kd(a,b){if(x(a))return a;if(v(a)){Lf.lastIndex=0;var c=Lf.exec(a);if(c){var d=+c[1],e=+c[2],f=0,g=0,h=0,i=0,j=Wc(d),k=7*(e-1);return b&&(f=b.getHours(),g=b.getMinutes(),h=b.getSeconds(),i=b.getMilliseconds()),new Date(d,0,j.getDate()+k,f,g,h,i)}}return NaN}function ld(a,b){return function(c,e){var f,g;if(x(c))return c;if(v(c)){if('"'==c.charAt(0)&&'"'==c.charAt(c.length-1)&&(c=c.substring(1,c.length-1)),Gf.test(c))return new Date(c);if(a.lastIndex=0,f=a.exec(c))return f.shift(),g=e?{yyyy:e.getFullYear(),MM:e.getMonth()+1,dd:e.getDate(),HH:e.getHours(),mm:e.getMinutes(),ss:e.getSeconds(),sss:e.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},d(f,function(a,c){c<b.length&&(g[b[c]]=+a)}),new Date(g.yyyy,g.MM-1,g.dd,g.HH,g.mm,g.ss||0,1e3*g.sss||0)}return NaN}}function md(a,b,c,d){return function(e,f,g,h,i,j,k){function l(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function m(a){return s(a)&&!x(a)?c(a)||void 0:a}nd(e,f,g,h),jd(e,f,g,h,i,j);var n,o=h&&h.$options&&h.$options.timezone;if(h.$$parserName=a,h.$parsers.push(function(a){if(h.$isEmpty(a))return null;if(b.test(a)){var d=c(a,n);return o&&(d=Y(d,o)),d}}),h.$formatters.push(function(a){if(a&&!x(a))throw mg("datefmt","Expected `{0}` to be a date",a);return l(a)?(n=a,n&&o&&(n=Y(n,o,!0)),k("date")(a,d,o)):(n=null,"")}),s(g.min)||g.ngMin){var p;h.$validators.min=function(a){return!l(a)||r(p)||c(a)>=p},g.$observe("min",function(a){p=m(a),h.$validate()})}if(s(g.max)||g.ngMax){var q;h.$validators.max=function(a){return!l(a)||r(q)||c(a)<=q},g.$observe("max",function(a){q=m(a),h.$validate()})}}}function nd(a,b,c,d){var e=b[0];(d.$$hasNativeValidators=t(e.validity))&&d.$parsers.push(function(a){var c=b.prop(yd)||{};return c.badInput||c.typeMismatch?void 0:a})}function od(a,b,c,d,e,f){if(nd(a,b,c,d),jd(a,b,c,d,e,f),d.$$parserName="number",d.$parsers.push(function(a){return d.$isEmpty(a)?null:Jf.test(a)?parseFloat(a):void 0}),d.$formatters.push(function(a){if(!d.$isEmpty(a)){if(!w(a))throw mg("numfmt","Expected `{0}` to be a number",a);a=a.toString()}return a}),s(c.min)||c.ngMin){var g;d.$validators.min=function(a){return d.$isEmpty(a)||r(g)||a>=g},c.$observe("min",function(a){s(a)&&!w(a)&&(a=parseFloat(a,10)),g=w(a)&&!isNaN(a)?a:void 0,d.$validate()})}if(s(c.max)||c.ngMax){var h;d.$validators.max=function(a){return d.$isEmpty(a)||r(h)||h>=a},c.$observe("max",function(a){s(a)&&!w(a)&&(a=parseFloat(a,10)),h=w(a)&&!isNaN(a)?a:void 0,d.$validate()})}}function pd(a,b,c,d,e,f){jd(a,b,c,d,e,f),hd(d),d.$$parserName="url",d.$validators.url=function(a,b){var c=a||b;return d.$isEmpty(c)||Hf.test(c)}}function qd(a,b,c,d,e,f){jd(a,b,c,d,e,f),hd(d),d.$$parserName="email",d.$validators.email=function(a,b){var c=a||b;return d.$isEmpty(c)||If.test(c)}}function rd(a,b,c,d){r(c.name)&&b.attr("name",g());var e=function(a){b[0].checked&&d.$setViewValue(c.value,a&&a.type)};b.on("click",e),d.$render=function(){var a=c.value;b[0].checked=a==d.$viewValue},c.$observe("value",d.$render)}function sd(a,b,c,d,e){var f;if(s(d)){if(f=a(d),!f.constant)throw mg("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",c,d);return f(b)}return e}function td(a,b,c,d,e,f,g,h){var i=sd(h,a,"ngTrueValue",c.ngTrueValue,!0),j=sd(h,a,"ngFalseValue",c.ngFalseValue,!1),k=function(a){d.$setViewValue(b[0].checked,a&&a.type)};b.on("click",k),d.$render=function(){b[0].checked=d.$viewValue},d.$isEmpty=function(a){return!1===a},d.$formatters.push(function(a){return P(a,i)}),d.$parsers.push(function(a){return a?i:j})}function ud(a,b){return a="ngClass"+a,["$animate",function(c){function e(a,b){var c=[];a:for(var d=0;d<a.length;d++){for(var e=a[d],f=0;f<b.length;f++)if(e==b[f])continue a;c.push(e)}return c}function f(a){var b=[];return Qd(a)?(d(a,function(a){b=b.concat(f(a))}),b):v(a)?a.split(" "):t(a)?(d(a,function(a,c){a&&(b=b.concat(c.split(" ")))}),b):a}return{restrict:"AC",link:function(g,h,i){function j(a){var b=l(a,1);i.$addClass(b)}function k(a){var b=l(a,-1);i.$removeClass(b)}function l(a,b){var c=h.data("$classCounts")||oa(),e=[];return d(a,function(a){(b>0||c[a])&&(c[a]=(c[a]||0)+b,c[a]===+(b>0)&&e.push(a))}),h.data("$classCounts",c),e.join(" ")}function m(a,b){var d=e(b,a),f=e(a,b);d=l(d,1),f=l(f,-1),d&&d.length&&c.addClass(h,d),f&&f.length&&c.removeClass(h,f)}function n(a){if(!0===b||g.$index%2===b){var c=f(a||[]);if(o){if(!P(a,o)){var d=f(o);m(d,c)}}else j(c)}o=Qd(a)?a.map(function(a){return O(a)}):O(a)}var o;g.$watch(i[a],n,!0),i.$observe("class",function(b){n(g.$eval(i[a]))}),"ngClass"!==a&&g.$watch("$index",function(c,d){var e=1&c;if(e!==(1&d)){var h=f(g.$eval(i[a]));e===b?j(h):k(h)}})}}}]}function vd(a){function b(a,b,h){r(b)?c("$pending",a,h):d("$pending",a,h),F(b)?b?(k(g.$error,a,h),j(g.$$success,a,h)):(j(g.$error,a,h),k(g.$$success,a,h)):(k(g.$error,a,h),k(g.$$success,a,h)),g.$pending?(e(lg,!0),g.$valid=g.$invalid=void 0,f("",null)):(e(lg,!1),g.$valid=wd(g.$error),g.$invalid=!g.$valid,f("",g.$valid));var i;i=g.$pending&&g.$pending[a]?void 0:!g.$error[a]&&(!!g.$$success[a]||null),f(a,i),g.$$parentForm.$setValidity(a,i,g)}function c(a,b,c){g[a]||(g[a]={}),j(g[a],b,c)}function d(a,b,c){g[a]&&k(g[a],b,c),wd(g[a])&&(g[a]=void 0)}function e(a,b){b&&!i[a]?(l.addClass(h,a),i[a]=!0):!b&&i[a]&&(l.removeClass(h,a),i[a]=!1)}function f(a,b){a=a?"-"+ia(a,"-"):"",e(hg+a,!0===b),e(ig+a,!1===b)}var g=a.ctrl,h=a.$element,i={},j=a.set,k=a.unset,l=a.$animate;i[ig]=!(i[hg]=h.hasClass(hg)),g.$setValidity=b}function wd(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function xd(a){a[0].hasAttribute("selected")&&(a[0].selected=!0)}lb.$inject=["t","n"];var yd="validity",zd=Object.prototype.hasOwnProperty,Ad=function(a){return v(a)?a.toLowerCase():a},Bd=function(a){return v(a)?a.toUpperCase():a},Cd=function(a){return v(a)?a.replace(/[A-Z]/g,function(a){return String.fromCharCode(32|a.charCodeAt(0))}):a},Dd=function(a){return v(a)?a.replace(/[a-z]/g,function(a){return String.fromCharCode(-33&a.charCodeAt(0))}):a};"i"!=="I".toLowerCase()&&(Ad=Cd,Bd=Dd);var Ed,Fd,Gd,Hd,Id=[].slice,Jd=[].splice,Kd=[].push,Ld=Object.prototype.toString,Md=Object.getPrototypeOf,Nd=b("ng"),Od=a.angular||(a.angular={}),Pd=0;Ed=a.document.documentMode,n.$inject=[],o.$inject=[];var Qd=Array.isArray,Rd=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,Sd=function(a){return v(a)?a.trim():a},Td=function(a){return a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Ud=function Og(){if(!s(Og.rules)){var b=a.document.querySelector("[ng-csp]")||a.document.querySelector("[data-ng-csp]");if(b){var c=b.getAttribute("ng-csp")||b.getAttribute("data-ng-csp");
Og.rules={noUnsafeEval:!c||-1!==c.indexOf("no-unsafe-eval"),noInlineStyle:!c||-1!==c.indexOf("no-inline-style")}}else Og.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(a){return!0}}(),noInlineStyle:!1}}return Og.rules},Vd=function Pg(){if(s(Pg.name_))return Pg.name_;var b,c,d,e,f=Xd.length;for(c=0;f>c;++c)if(d=Xd[c],b=a.document.querySelector("["+d.replace(":","\\:")+"jq]")){e=b.getAttribute(d+"jq");break}return Pg.name_=e},Wd=/:/g,Xd=["ng-","data-ng-","ng:","x-ng-"],Yd=/[A-Z]/g,Zd=!1,$d=1,_d=3,ae=8,be=9,ce=11,de={full:"1.5.5",major:1,minor:5,dot:5,codeName:"material-conspiration"};Ba.expando="ng339";var ee=Ba.cache={},fe=1,ge=function(a,b,c){a.addEventListener(b,c,!1)},he=function(a,b,c){a.removeEventListener(b,c,!1)};Ba._data=function(a){return this.cache[a[this.expando]]||{}};var ie=/([\:\-\_]+(.))/g,je=/^moz([A-Z])/,ke={mouseleave:"mouseout",mouseenter:"mouseover"},le=b("jqLite"),me=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,ne=/<|&#?\w+;/,oe=/<([\w:-]+)/,pe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,qe={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};qe.optgroup=qe.option,qe.tbody=qe.tfoot=qe.colgroup=qe.caption=qe.thead,qe.th=qe.td;var re=a.Node.prototype.contains||function(a){return!!(16&this.compareDocumentPosition(a))},se=Ba.prototype={ready:function(b){function c(){d||(d=!0,b())}var d=!1;"complete"===a.document.readyState?a.setTimeout(c):(this.on("DOMContentLoaded",c),Ba(a).on("load",c))},toString:function(){var a=[];return d(this,function(b){a.push(""+b)}),"["+a.join(", ")+"]"},eq:function(a){return Fd(a>=0?this[a]:this[this.length+a])},length:0,push:Kd,sort:[].sort,splice:[].splice},te={};d("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(a){te[Ad(a)]=a});var ue={};d("input,select,option,textarea,button,form,details".split(","),function(a){ue[a]=!0});var ve={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};d({data:Ha,removeData:Fa,hasData:wa,cleanData:xa},function(a,b){Ba[b]=a}),d({data:Ha,inheritedData:Na,scope:function(a){return Fd.data(a,"$scope")||Na(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return Fd.data(a,"$isolateScope")||Fd.data(a,"$isolateScopeNoTemplate")},controller:Ma,injector:function(a){return Na(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:Ia,css:function(a,b,c){return b=ta(b),s(c)?void(a.style[b]=c):a.style[b]},attr:function(a,b,c){var d=a.nodeType;if(d!==_d&&2!==d&&d!==ae){var e=Ad(b);if(te[e]){if(!s(c))return a[b]||(a.attributes.getNamedItem(b)||n).specified?e:void 0;c?(a[b]=!0,a.setAttribute(b,e)):(a[b]=!1,a.removeAttribute(e))}else if(s(c))a.setAttribute(b,c);else if(a.getAttribute){var f=a.getAttribute(b,2);return null===f?void 0:f}}},prop:function(a,b,c){return s(c)?void(a[b]=c):a[b]},text:function(){function a(a,b){if(r(b)){var c=a.nodeType;return c===$d||c===_d?a.textContent:""}a.textContent=b}return a.$dv="",a}(),val:function(a,b){if(r(b)){if(a.multiple&&"select"===L(a)){var c=[];return d(a.options,function(a){a.selected&&c.push(a.value||a.text)}),0===c.length?null:c}return a.value}a.value=b},html:function(a,b){return r(b)?a.innerHTML:(Da(a,!0),void(a.innerHTML=b))},empty:Oa},function(a,b){Ba.prototype[b]=function(b,c){var d,e,f=this.length;if(a!==Oa&&r(2==a.length&&a!==Ia&&a!==Ma?b:c)){if(t(b)){for(d=0;f>d;d++)if(a===Ha)a(this[d],b);else for(e in b)a(this[d],e,b[e]);return this}for(var g=a.$dv,h=r(g)?Math.min(f,1):f,i=0;h>i;i++){var j=a(this[i],b,c);g=g?g+j:j}return g}for(d=0;f>d;d++)a(this[d],b,c);return this}}),d({removeData:Fa,on:function(a,b,c,d){if(s(d))throw le("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(va(a)){var e=Ga(a,!0),f=e.events,g=e.handle;g||(g=e.handle=Ta(a,f));for(var h=b.indexOf(" ")>=0?b.split(" "):[b],i=h.length,j=function(b,d,e){var h=f[b];h||(h=f[b]=[],h.specialHandlerWrapper=d,"$destroy"===b||e||ge(a,b,g)),h.push(c)};i--;)b=h[i],ke[b]?(j(ke[b],Va),j(b,void 0,!0)):j(b)}},off:Ea,one:function(a,b,c){a=Fd(a),a.on(b,function d(){a.off(b,c),a.off(b,d)}),a.on(b,c)},replaceWith:function(a,b){var c,e=a.parentNode;Da(a),d(new Ba(b),function(b){c?e.insertBefore(b,c.nextSibling):e.replaceChild(b,a),c=b})},children:function(a){var b=[];return d(a.childNodes,function(a){a.nodeType===$d&&b.push(a)}),b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){var c=a.nodeType;if(c===$d||c===ce){b=new Ba(b);for(var d=0,e=b.length;e>d;d++){var f=b[d];a.appendChild(f)}}},prepend:function(a,b){if(a.nodeType===$d){var c=a.firstChild;d(new Ba(b),function(b){a.insertBefore(b,c)})}},wrap:function(a,b){Aa(a,Fd(b).eq(0).clone()[0])},remove:Pa,detach:function(a){Pa(a,!0)},after:function(a,b){var c=a,d=a.parentNode;b=new Ba(b);for(var e=0,f=b.length;f>e;e++){var g=b[e];d.insertBefore(g,c.nextSibling),c=g}},addClass:Ka,removeClass:Ja,toggleClass:function(a,b,c){b&&d(b.split(" "),function(b){var d=c;r(d)&&(d=!Ia(a,b)),(d?Ka:Ja)(a,b)})},parent:function(a){var b=a.parentNode;return b&&b.nodeType!==ce?b:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:Ca,triggerHandler:function(a,b,c){var e,f,g,h=b.type||b,i=Ga(a),k=i&&i.events,l=k&&k[h];l&&(e={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:n,type:h,target:a},b.type&&(e=j(e,b)),f=O(l),g=c?[e].concat(c):[e],d(f,function(b){e.isImmediatePropagationStopped()||b.apply(a,g)}))}},function(a,b){Ba.prototype[b]=function(b,c,d){for(var e,f=0,g=this.length;g>f;f++)r(e)?(e=a(this[f],b,c,d),s(e)&&(e=Fd(e))):La(e,a(this[f],b,c,d));return s(e)?e:this},Ba.prototype.bind=Ba.prototype.on,Ba.prototype.unbind=Ba.prototype.off}),Ya.prototype={put:function(a,b){this[Xa(a,this.nextUid)]=b},get:function(a){return this[Xa(a,this.nextUid)]},remove:function(a){var b=this[a=Xa(a,this.nextUid)];return delete this[a],b}};var we=[function(){this.$get=[function(){return Ya}]}],xe=/^([^\(]+?)=>/,ye=/^[^\(]*\(\s*([^\)]*)\)/m,ze=/,/,Ae=/^\s*(_?)(\S+?)\1\s*$/,Be=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Ce=b("$injector");ab.$$annotate=_a;var De=b("$animate"),Ee=1,Fe=function(){this.$get=n},Ge=function(){var a=new Ya,b=[];this.$get=["$$AnimateRunner","$rootScope",function(c,e){function f(a,b,c){var e=!1;return b&&(b=v(b)?b.split(" "):Qd(b)?b:[],d(b,function(b){b&&(e=!0,a[b]=c)})),e}function g(){d(b,function(b){var c=a.get(b);if(c){var e=eb(b.attr("class")),f="",g="";d(c,function(a,b){a!==!!e[b]&&(a?f+=(f.length?" ":"")+b:g+=(g.length?" ":"")+b)}),d(b,function(a){f&&Ka(a,f),g&&Ja(a,g)}),a.remove(b)}}),b.length=0}function h(c,d,h){var i=a.get(c)||{},j=f(i,d,!0),k=f(i,h,!1);(j||k)&&(a.put(c,i),b.push(c),1===b.length&&e.$$postDigest(g))}return{enabled:n,on:n,off:n,pin:n,push:function(a,b,d,e){e&&e(),d=d||{},d.from&&a.css(d.from),d.to&&a.css(d.to),(d.addClass||d.removeClass)&&h(a,d.addClass,d.removeClass);var f=new c;return f.complete(),f}}}]},He=["$provide",function(a){var b=this;this.$$registeredAnimations=Object.create(null),this.register=function(c,d){if(c&&"."!==c.charAt(0))throw De("notcsel","Expecting class selector starting with '.' got '{0}'.",c);var e=c+"-animation";b.$$registeredAnimations[c.substr(1)]=e,a.factory(e,d)},this.classNameFilter=function(a){if(1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null,this.$$classNameFilter)&&new RegExp("(\\s+|\\/)ng-animate(\\s+|\\/)").test(this.$$classNameFilter.toString()))throw De("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',"ng-animate");return this.$$classNameFilter},this.$get=["$$animateQueue",function(a){function b(a,b,c){if(c){var d=db(c);!d||d.parentNode||d.previousElementSibling||(c=null)}c?c.after(a):b.prepend(a)}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(a){a.end&&a.end()},enter:function(c,d,e,f){return d=d&&Fd(d),e=e&&Fd(e),d=d||e.parent(),b(c,d,e),a.push(c,"enter",fb(f))},move:function(c,d,e,f){return d=d&&Fd(d),e=e&&Fd(e),d=d||e.parent(),b(c,d,e),a.push(c,"move",fb(f))},leave:function(b,c){return a.push(b,"leave",fb(c),function(){b.remove()})},addClass:function(b,c,d){return d=fb(d),d.addClass=cb(d.addclass,c),a.push(b,"addClass",d)},removeClass:function(b,c,d){return d=fb(d),d.removeClass=cb(d.removeClass,c),a.push(b,"removeClass",d)},setClass:function(b,c,d,e){return e=fb(e),e.addClass=cb(e.addClass,c),e.removeClass=cb(e.removeClass,d),a.push(b,"setClass",e)},animate:function(b,c,d,e,f){return f=fb(f),f.from=f.from?j(f.from,c):c,f.to=f.to?j(f.to,d):d,e=e||"ng-inline-animate",f.tempClasses=cb(f.tempClasses,e),a.push(b,"animate",f)}}}]}],Ie=function(){this.$get=["$$rAF",function(a){function b(b){c.push(b),c.length>1||a(function(){for(var a=0;a<c.length;a++)c[a]();c=[]})}var c=[];return function(){var a=!1;return b(function(){a=!0}),function(c){a?c():b(c)}}}]},Je=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(a,b,c,e,f){function g(a){this.setHost(a);var b=c(),d=function(a){f(a,0,!1)};this._doneCallbacks=[],this._tick=function(a){var c=e[0];c&&c.hidden?d(a):b(a)},this._state=0}return g.chain=function(a,b){function c(){return d===a.length?void b(!0):void a[d](function(a){return!1===a?void b(!1):(d++,void c())})}var d=0;c()},g.all=function(a,b){function c(c){f=f&&c,++e===a.length&&b(f)}var e=0,f=!0;d(a,function(a){a.done(c)})},g.prototype={setHost:function(a){this.host=a||{}},done:function(a){2===this._state?a():this._doneCallbacks.push(a)},progress:n,getPromise:function(){if(!this.promise){var b=this;this.promise=a(function(a,c){b.done(function(b){!1===b?c():a()})})}return this.promise},then:function(a,b){return this.getPromise().then(a,b)},"catch":function(a){return this.getPromise()["catch"](a)},"finally":function(a){return this.getPromise()["finally"](a)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(a){var b=this;0===b._state&&(b._state=1,b._tick(function(){b._resolve(a)}))},_resolve:function(a){2!==this._state&&(d(this._doneCallbacks,function(b){b(a)}),this._doneCallbacks.length=0,this._state=2)}},g}]},Ke=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(a,b,c){return function(b,d){function e(){return a(function(){f(),h||i.complete(),h=!0}),i}function f(){g.addClass&&(b.addClass(g.addClass),g.addClass=null),g.removeClass&&(b.removeClass(g.removeClass),g.removeClass=null),g.to&&(b.css(g.to),g.to=null)}var g=d||{};g.$$prepared||(g=N(g)),g.cleanupStyles&&(g.from=g.to=null),g.from&&(b.css(g.from),g.from=null);var h,i=new c;return{start:e,end:e}}}]},Le=b("$compile"),Me=new kb;lb.$inject=["$provide","$$sanitizeUriProvider"],mb.prototype.isFirstChange=function(){return this.previousValue===Me};var Ne=/^((?:x|data)[\:\-_])/i,Oe=b("$controller"),Pe=/^(\S+)(\s+as\s+([\w$]+))?$/,Qe=function(){this.$get=["$document",function(a){return function(b){return b?!b.nodeType&&b instanceof Fd&&(b=b[0]):b=a[0].body,b.offsetWidth+1}}]},Re="application/json",Se={"Content-Type":Re+";charset=utf-8"},Te=/^\[|^\{(?!\{)/,Ue={"[":/]$/,"{":/}$/},Ve=/^\)\]\}',?\n/,We=b("$http"),Xe=function(a){return function(){throw We("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",a)}},Ye=Od.$interpolateMinErr=b("$interpolate");Ye.throwNoconcat=function(a){throw Ye("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",a)},Ye.interr=function(a,b){return Ye("interr","Can't interpolate: {0}\n{1}",a,b.toString())};var Ze=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,$e={http:80,https:443,ftp:21},_e=b("$location"),af={$$html5:!1,$$replace:!1,absUrl:Ub("$$absUrl"),url:function(a){if(r(a))return this.$$url;var b=Ze.exec(a);return(b[1]||""===a)&&this.path(decodeURIComponent(b[1])),(b[2]||b[1]||""===a)&&this.search(b[3]||""),this.hash(b[5]||""),this},protocol:Ub("$$protocol"),host:Ub("$$host"),port:Ub("$$port"),path:Vb("$$path",function(a){return a=null!==a?a.toString():"","/"==a.charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(v(a)||w(a))a=a.toString(),this.$$search=_(a);else{if(!t(a))throw _e("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");a=N(a,{}),d(a,function(b,c){null==b&&delete a[c]}),this.$$search=a}break;default:r(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}return this.$$compose(),this},hash:Vb("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){return this.$$replace=!0,this}};d([Tb,Sb,Rb],function(a){a.prototype=Object.create(af),a.prototype.state=function(b){if(!arguments.length)return this.$$state;if(a!==Rb||!this.$$html5)throw _e("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=r(b)?null:b,this}});var bf=b("$parse"),cf=Function.prototype.call,df=Function.prototype.apply,ef=Function.prototype.bind,ff=oa();d("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(a){ff[a]=!0});var gf={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},hf=function(a){this.options=a};hf.prototype={constructor:hf,lex:function(a){for(this.text=a,this.index=0,this.tokens=[];this.index<this.text.length;){var b=this.text.charAt(this.index);if('"'===b||"'"===b)this.readString(b);else if(this.isNumber(b)||"."===b&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(b,"(){}[].,;:?"))this.tokens.push({index:this.index,text:b}),this.index++;else if(this.isWhitespace(b))this.index++;else{var c=b+this.peek(),d=c+this.peek(2),e=ff[b],f=ff[c],g=ff[d];if(e||f||g){var h=g?d:f?c:b;this.tokens.push({index:this.index,text:h,operator:!0}),this.index+=h.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(a,b){return-1!==b.indexOf(a)},peek:function(a){var b=a||1;return this.index+b<this.text.length&&this.text.charAt(this.index+b)},isNumber:function(a){return a>="0"&&"9">=a&&"string"==typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"	"===a||"\n"===a||""===a||" "===a},isIdentifierStart:function(a){return this.options.isIdentifierStart?this.options.isIdentifierStart(a,this.codePointAt(a)):this.isValidIdentifierStart(a)},isValidIdentifierStart:function(a){return a>="a"&&"z">=a||a>="A"&&"Z">=a||"_"===a||"$"===a},isIdentifierContinue:function(a){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(a,this.codePointAt(a)):this.isValidIdentifierContinue(a)},isValidIdentifierContinue:function(a,b){return this.isValidIdentifierStart(a,b)||this.isNumber(a)},codePointAt:function(a){return 1===a.length?a.charCodeAt(0):(a.charCodeAt(0)<<10)+a.charCodeAt(1)-56613888},peekMultichar:function(){var a=this.text.charAt(this.index),b=this.peek();if(!b)return a;var c=a.charCodeAt(0),d=b.charCodeAt(0);return c>=55296&&56319>=c&&d>=56320&&57343>=d?a+b:a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,c){c=c||this.index;var d=s(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,c)+"]":" "+c;throw bf("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",a,d,this.text)},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var c=Ad(this.text.charAt(this.index));if("."==c||this.isNumber(c))a+=c;else{var d=this.peek();if("e"==c&&this.isExpOperator(d))a+=c;else if(this.isExpOperator(c)&&d&&this.isNumber(d)&&"e"==a.charAt(a.length-1))a+=c;else{if(!this.isExpOperator(c)||d&&this.isNumber(d)||"e"!=a.charAt(a.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){var a=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var b=this.peekMultichar();if(!this.isIdentifierContinue(b))break;this.index+=b.length}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;for(var c="",d=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index);if(d+=f,e){if("u"===f){var g=this.text.substring(this.index+1,this.index+5);g.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+g+"]"),this.index+=4,c+=String.fromCharCode(parseInt(g,16))}else c+=gf[f]||f;e=!1}else if("\\"===f)e=!0;else{if(f===a)return this.index++,void this.tokens.push({index:b,text:d,constant:!0,value:c});c+=f}this.index++}this.throwError("Unterminated quote",b)}};var jf=function(a,b){this.lexer=a,this.options=b};jf.Program="Program",jf.ExpressionStatement="ExpressionStatement",jf.AssignmentExpression="AssignmentExpression",jf.ConditionalExpression="ConditionalExpression",jf.LogicalExpression="LogicalExpression",jf.BinaryExpression="BinaryExpression",jf.UnaryExpression="UnaryExpression",jf.CallExpression="CallExpression",jf.MemberExpression="MemberExpression",jf.Identifier="Identifier",jf.Literal="Literal",jf.ArrayExpression="ArrayExpression",jf.Property="Property",jf.ObjectExpression="ObjectExpression",jf.ThisExpression="ThisExpression",jf.LocalsExpression="LocalsExpression",jf.NGValueParameter="NGValueParameter",jf.prototype={ast:function(a){this.text=a,this.tokens=this.lexer.lex(a);var b=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),b},program:function(){for(var a=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&a.push(this.expressionStatement()),!this.expect(";"))return{type:jf.Program,body:a}},expressionStatement:function(){return{type:jf.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var a=this.expression();this.expect("|");)a=this.filter(a);return a},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary();return this.expect("=")&&(a={type:jf.AssignmentExpression,left:a,right:this.assignment(),operator:"="}),a},ternary:function(){var a,b,c=this.logicalOR();return this.expect("?")&&(a=this.expression(),this.consume(":"))?(b=this.expression(),{type:jf.ConditionalExpression,test:c,alternate:a,consequent:b}):c},logicalOR:function(){for(var a=this.logicalAND();this.expect("||");)a={type:jf.LogicalExpression,operator:"||",left:a,right:this.logicalAND()};return a},logicalAND:function(){for(var a=this.equality();this.expect("&&");)a={type:jf.LogicalExpression,operator:"&&",left:a,right:this.equality()};return a},equality:function(){for(var a,b=this.relational();a=this.expect("==","!=","===","!==");)b={type:jf.BinaryExpression,operator:a.text,left:b,right:this.relational()};return b},relational:function(){for(var a,b=this.additive();a=this.expect("<",">","<=",">=");)b={type:jf.BinaryExpression,operator:a.text,left:b,right:this.additive()};return b},additive:function(){for(var a,b=this.multiplicative();a=this.expect("+","-");)b={type:jf.BinaryExpression,operator:a.text,left:b,right:this.multiplicative()};return b},multiplicative:function(){for(var a,b=this.unary();a=this.expect("*","/","%");)b={type:jf.BinaryExpression,operator:a.text,left:b,right:this.unary()};return b},unary:function(){var a;return(a=this.expect("+","-","!"))?{type:jf.UnaryExpression,operator:a.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?a=N(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?a={type:jf.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var b;b=this.expect("(","[",".");)"("===b.text?(a={type:jf.CallExpression,callee:a,arguments:this.parseArguments()},this.consume(")")):"["===b.text?(a={type:jf.MemberExpression,object:a,property:this.expression(),computed:!0},this.consume("]")):"."===b.text?a={type:jf.MemberExpression,object:a,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return a},filter:function(a){for(var b=[a],c={type:jf.CallExpression,callee:this.identifier(),arguments:b,filter:!0};this.expect(":");)b.push(this.expression());return c},parseArguments:function(){var a=[];if(")"!==this.peekToken().text)do a.push(this.expression());while(this.expect(","));return a},identifier:function(){var a=this.consume();return a.identifier||this.throwError("is not a valid identifier",a),{type:jf.Identifier,name:a.text}},constant:function(){return{type:jf.Literal,value:this.consume().value}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:jf.ArrayExpression,elements:a}},object:function(){var a,b=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;a={type:jf.Property,kind:"init"},this.peek().constant?a.key=this.constant():this.peek().identifier?a.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),a.value=this.expression(),b.push(a)}while(this.expect(","));return this.consume("}"),{type:jf.ObjectExpression,properties:b}},throwError:function(a,b){throw bf("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",b.text,a,b.index+1,this.text,this.text.substring(b.index))},consume:function(a){if(0===this.tokens.length)throw bf("ueoe","Unexpected end of expression: {0}",this.text);var b=this.expect(a);return b||this.throwError("is unexpected, expecting ["+a+"]",this.peek()),b},peekToken:function(){if(0===this.tokens.length)throw bf("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(a,b,c,d){return this.peekAhead(0,a,b,c,d)},peekAhead:function(a,b,c,d,e){if(this.tokens.length>a){var f=this.tokens[a],g=f.text;if(g===b||g===c||g===d||g===e||!b&&!c&&!d&&!e)return f}return!1},expect:function(a,b,c,d){var e=this.peek(a,b,c,d);return!!e&&(this.tokens.shift(),e)},selfReferential:{"this":{type:jf.ThisExpression},$locals:{type:jf.LocalsExpression}}},kc.prototype={compile:function(a,b){var c=this,e=this.astBuilder.ast(a);this.state={nextId:0,filters:{},expensiveChecks:b,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},ec(e,c.$filter);var f,g="";if(this.stage="assign",f=hc(e)){this.state.computing="assign";var h=this.nextId();this.recurse(f,h),this.return_(h),g="fn.assign="+this.generateFunction("assign","s,v,l")}var i=fc(e.body);c.stage="inputs",d(i,function(a,b){var d="fn"+b;c.state[d]={vars:[],body:[],own:{}},c.state.computing=d;var e=c.nextId();c.recurse(a,e),c.return_(e),c.state.inputs.push(d),a.watchId=b}),this.state.computing="fn",this.stage="main",this.recurse(e);var j='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+g+this.watchFns()+"return fn;",k=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",j)(this.$filter,Yb,$b,_b,Zb,ac,bc,cc,a);return this.state=this.stage=void 0,k.literal=ic(e),k.constant=jc(e),k},USE:"use",STRICT:"strict",watchFns:function(){var a=[],b=this.state.inputs,c=this;return d(b,function(b){a.push("var "+b+"="+c.generateFunction(b,"s"))}),b.length&&a.push("fn.inputs=["+b.join(",")+"];"),a.join("")},generateFunction:function(a,b){return"function("+b+"){"+this.varsPrefix(a)+this.body(a)+"};"},filterPrefix:function(){var a=[],b=this;return d(this.state.filters,function(c,d){a.push(c+"=$filter("+b.escape(d)+")")}),a.length?"var "+a.join(",")+";":""},varsPrefix:function(a){return this.state[a].vars.length?"var "+this.state[a].vars.join(",")+";":""},body:function(a){return this.state[a].body.join("")},recurse:function(a,b,c,e,f,g){var h,i,j,k,l=this;if(e=e||n,!g&&s(a.watchId))return b=b||this.nextId(),void this.if_("i",this.lazyAssign(b,this.computedMember("i",a.watchId)),this.lazyRecurse(a,b,c,e,f,!0));switch(a.type){case jf.Program:d(a.body,function(b,c){l.recurse(b.expression,void 0,void 0,function(a){i=a}),c!==a.body.length-1?l.current().body.push(i,";"):l.return_(i)});break;case jf.Literal:k=this.escape(a.value),this.assign(b,k),e(k);break;case jf.UnaryExpression:this.recurse(a.argument,void 0,void 0,function(a){i=a}),k=a.operator+"("+this.ifDefined(i,0)+")",this.assign(b,k),e(k);break;case jf.BinaryExpression:this.recurse(a.left,void 0,void 0,function(a){h=a}),this.recurse(a.right,void 0,void 0,function(a){i=a}),k="+"===a.operator?this.plus(h,i):"-"===a.operator?this.ifDefined(h,0)+a.operator+this.ifDefined(i,0):"("+h+")"+a.operator+"("+i+")",this.assign(b,k),e(k);break;case jf.LogicalExpression:b=b||this.nextId(),l.recurse(a.left,b),l.if_("&&"===a.operator?b:l.not(b),l.lazyRecurse(a.right,b)),e(b);break;case jf.ConditionalExpression:b=b||this.nextId(),l.recurse(a.test,b),l.if_(b,l.lazyRecurse(a.alternate,b),l.lazyRecurse(a.consequent,b)),e(b);break;case jf.Identifier:b=b||this.nextId(),c&&(c.context="inputs"===l.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",a.name)+"?l:s"),c.computed=!1,c.name=a.name),Yb(a.name),l.if_("inputs"===l.stage||l.not(l.getHasOwnProperty("l",a.name)),function(){l.if_("inputs"===l.stage||"s",function(){f&&1!==f&&l.if_(l.not(l.nonComputedMember("s",a.name)),l.lazyAssign(l.nonComputedMember("s",a.name),"{}")),l.assign(b,l.nonComputedMember("s",a.name))})},b&&l.lazyAssign(b,l.nonComputedMember("l",a.name))),(l.state.expensiveChecks||mc(a.name))&&l.addEnsureSafeObject(b),e(b);break;case jf.MemberExpression:h=c&&(c.context=this.nextId())||this.nextId(),b=b||this.nextId(),l.recurse(a.object,h,void 0,function(){l.if_(l.notNull(h),function(){f&&1!==f&&l.addEnsureSafeAssignContext(h),a.computed?(i=l.nextId(),l.recurse(a.property,i),l.getStringValue(i),l.addEnsureSafeMemberName(i),f&&1!==f&&l.if_(l.not(l.computedMember(h,i)),l.lazyAssign(l.computedMember(h,i),"{}")),k=l.ensureSafeObject(l.computedMember(h,i)),l.assign(b,k),c&&(c.computed=!0,c.name=i)):(Yb(a.property.name),f&&1!==f&&l.if_(l.not(l.nonComputedMember(h,a.property.name)),l.lazyAssign(l.nonComputedMember(h,a.property.name),"{}")),k=l.nonComputedMember(h,a.property.name),(l.state.expensiveChecks||mc(a.property.name))&&(k=l.ensureSafeObject(k)),l.assign(b,k),c&&(c.computed=!1,c.name=a.property.name))},function(){l.assign(b,"undefined")}),e(b)},!!f);break;case jf.CallExpression:b=b||this.nextId(),a.filter?(i=l.filter(a.callee.name),j=[],d(a.arguments,function(a){var b=l.nextId();l.recurse(a,b),j.push(b)}),k=i+"("+j.join(",")+")",l.assign(b,k),e(b)):(i=l.nextId(),h={},j=[],l.recurse(a.callee,i,h,function(){l.if_(l.notNull(i),function(){l.addEnsureSafeFunction(i),d(a.arguments,function(a){l.recurse(a,l.nextId(),void 0,function(a){j.push(l.ensureSafeObject(a))})}),h.name?(l.state.expensiveChecks||l.addEnsureSafeObject(h.context),k=l.member(h.context,h.name,h.computed)+"("+j.join(",")+")"):k=i+"("+j.join(",")+")",k=l.ensureSafeObject(k),l.assign(b,k)},function(){l.assign(b,"undefined")}),e(b)}));break;case jf.AssignmentExpression:if(i=this.nextId(),h={},!gc(a.left))throw bf("lval","Trying to assign a value to a non l-value");this.recurse(a.left,void 0,h,function(){l.if_(l.notNull(h.context),function(){l.recurse(a.right,i),l.addEnsureSafeObject(l.member(h.context,h.name,h.computed)),l.addEnsureSafeAssignContext(h.context),k=l.member(h.context,h.name,h.computed)+a.operator+i,l.assign(b,k),e(b||k)})},1);break;case jf.ArrayExpression:j=[],d(a.elements,function(a){l.recurse(a,l.nextId(),void 0,function(a){j.push(a)})}),k="["+j.join(",")+"]",this.assign(b,k),e(k);break;case jf.ObjectExpression:j=[],d(a.properties,function(a){l.recurse(a.value,l.nextId(),void 0,function(b){j.push(l.escape(a.key.type===jf.Identifier?a.key.name:""+a.key.value)+":"+b)})}),k="{"+j.join(",")+"}",this.assign(b,k),e(k);break;case jf.ThisExpression:this.assign(b,"s"),e("s");break;case jf.LocalsExpression:this.assign(b,"l"),e("l");break;case jf.NGValueParameter:this.assign(b,"v"),e("v")}},getHasOwnProperty:function(a,b){var c=a+"."+b,d=this.current().own;return d.hasOwnProperty(c)||(d[c]=this.nextId(!1,a+"&&("+this.escape(b)+" in "+a+")")),d[c]},assign:function(a,b){return a?(this.current().body.push(a,"=",b,";"),a):void 0},filter:function(a){return this.state.filters.hasOwnProperty(a)||(this.state.filters[a]=this.nextId(!0)),this.state.filters[a]},ifDefined:function(a,b){return"ifDefined("+a+","+this.escape(b)+")"},plus:function(a,b){return"plus("+a+","+b+")"},return_:function(a){this.current().body.push("return ",a,";")},if_:function(a,b,c){if(!0===a)b();else{var d=this.current().body;d.push("if(",a,"){"),b(),d.push("}"),c&&(d.push("else{"),c(),d.push("}"))}},not:function(a){return"!("+a+")"},notNull:function(a){return a+"!=null"},nonComputedMember:function(a,b){var c=/[$_a-zA-Z][$_a-zA-Z0-9]*/;return c.test(b)?a+"."+b:a+'["'+b.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(a,b){return a+"["+b+"]"},member:function(a,b,c){return c?this.computedMember(a,b):this.nonComputedMember(a,b)},addEnsureSafeObject:function(a){this.current().body.push(this.ensureSafeObject(a),";")},addEnsureSafeMemberName:function(a){this.current().body.push(this.ensureSafeMemberName(a),";")},addEnsureSafeFunction:function(a){this.current().body.push(this.ensureSafeFunction(a),";")},addEnsureSafeAssignContext:function(a){this.current().body.push(this.ensureSafeAssignContext(a),";")},ensureSafeObject:function(a){return"ensureSafeObject("+a+",text)"},ensureSafeMemberName:function(a){return"ensureSafeMemberName("+a+",text)"},ensureSafeFunction:function(a){return"ensureSafeFunction("+a+",text)"},getStringValue:function(a){this.assign(a,"getStringValue("+a+")")},ensureSafeAssignContext:function(a){return"ensureSafeAssignContext("+a+",text)"},lazyRecurse:function(a,b,c,d,e,f){var g=this;return function(){g.recurse(a,b,c,d,e,f)}},lazyAssign:function(a,b){var c=this;return function(){c.assign(a,b)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},escape:function(a){if(v(a))return"'"+a.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(w(a))return a.toString();if(!0===a)return"true";if(!1===a)return"false";if(null===a)return"null";if(void 0===a)return"undefined";throw bf("esc","IMPOSSIBLE")},nextId:function(a,b){var c="v"+this.state.nextId++;return a||this.current().vars.push(c+(b?"="+b:"")),c},current:function(){return this.state[this.state.computing]}},lc.prototype={compile:function(a,b){var c=this,e=this.astBuilder.ast(a);this.expression=a,this.expensiveChecks=b,ec(e,c.$filter);var f,g;(f=hc(e))&&(g=this.recurse(f));var h,i=fc(e.body);i&&(h=[],d(i,function(a,b){var d=c.recurse(a);a.input=d,h.push(d),a.watchId=b}));var j=[];d(e.body,function(a){j.push(c.recurse(a.expression))});var k=0===e.body.length?n:1===e.body.length?j[0]:function(a,b){var c;return d(j,function(d){c=d(a,b)}),c};return g&&(k.assign=function(a,b,c){return g(a,c,b)}),h&&(k.inputs=h),k.literal=ic(e),k.constant=jc(e),k},recurse:function(a,b,c){var e,f,g,h=this;if(a.input)return this.inputs(a.input,a.watchId);switch(a.type){case jf.Literal:
return this.value(a.value,b);case jf.UnaryExpression:return f=this.recurse(a.argument),this["unary"+a.operator](f,b);case jf.BinaryExpression:case jf.LogicalExpression:return e=this.recurse(a.left),f=this.recurse(a.right),this["binary"+a.operator](e,f,b);case jf.ConditionalExpression:return this["ternary?:"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),b);case jf.Identifier:return Yb(a.name,h.expression),h.identifier(a.name,h.expensiveChecks||mc(a.name),b,c,h.expression);case jf.MemberExpression:return e=this.recurse(a.object,!1,!!c),a.computed||(Yb(a.property.name,h.expression),f=a.property.name),a.computed&&(f=this.recurse(a.property)),a.computed?this.computedMember(e,f,b,c,h.expression):this.nonComputedMember(e,f,h.expensiveChecks,b,c,h.expression);case jf.CallExpression:return g=[],d(a.arguments,function(a){g.push(h.recurse(a))}),a.filter&&(f=this.$filter(a.callee.name)),a.filter||(f=this.recurse(a.callee,!0)),a.filter?function(a,c,d,e){for(var h=[],i=0;i<g.length;++i)h.push(g[i](a,c,d,e));var j=f.apply(void 0,h,e);return b?{context:void 0,name:void 0,value:j}:j}:function(a,c,d,e){var i,j=f(a,c,d,e);if(null!=j.value){$b(j.context,h.expression),_b(j.value,h.expression);for(var k=[],l=0;l<g.length;++l)k.push($b(g[l](a,c,d,e),h.expression));i=$b(j.value.apply(j.context,k),h.expression)}return b?{value:i}:i};case jf.AssignmentExpression:return e=this.recurse(a.left,!0,1),f=this.recurse(a.right),function(a,c,d,g){var i=e(a,c,d,g),j=f(a,c,d,g);return $b(i.value,h.expression),ac(i.context),i.context[i.name]=j,b?{value:j}:j};case jf.ArrayExpression:return g=[],d(a.elements,function(a){g.push(h.recurse(a))}),function(a,c,d,e){for(var f=[],h=0;h<g.length;++h)f.push(g[h](a,c,d,e));return b?{value:f}:f};case jf.ObjectExpression:return g=[],d(a.properties,function(a){g.push({key:a.key.type===jf.Identifier?a.key.name:""+a.key.value,value:h.recurse(a.value)})}),function(a,c,d,e){for(var f={},h=0;h<g.length;++h)f[g[h].key]=g[h].value(a,c,d,e);return b?{value:f}:f};case jf.ThisExpression:return function(a){return b?{value:a}:a};case jf.LocalsExpression:return function(a,c){return b?{value:c}:c};case jf.NGValueParameter:return function(a,c,d){return b?{value:d}:d}}},"unary+":function(a,b){return function(c,d,e,f){var g=a(c,d,e,f);return g=s(g)?+g:0,b?{value:g}:g}},"unary-":function(a,b){return function(c,d,e,f){var g=a(c,d,e,f);return g=s(g)?-g:0,b?{value:g}:g}},"unary!":function(a,b){return function(c,d,e,f){var g=!a(c,d,e,f);return b?{value:g}:g}},"binary+":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g),i=b(d,e,f,g),j=cc(h,i);return c?{value:j}:j}},"binary-":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g),i=b(d,e,f,g),j=(s(h)?h:0)-(s(i)?i:0);return c?{value:j}:j}},"binary*":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)*b(d,e,f,g);return c?{value:h}:h}},"binary/":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)/b(d,e,f,g);return c?{value:h}:h}},"binary%":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)%b(d,e,f,g);return c?{value:h}:h}},"binary===":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)===b(d,e,f,g);return c?{value:h}:h}},"binary!==":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)!==b(d,e,f,g);return c?{value:h}:h}},"binary==":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)==b(d,e,f,g);return c?{value:h}:h}},"binary!=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)!=b(d,e,f,g);return c?{value:h}:h}},"binary<":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)<b(d,e,f,g);return c?{value:h}:h}},"binary>":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)>b(d,e,f,g);return c?{value:h}:h}},"binary<=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)<=b(d,e,f,g);return c?{value:h}:h}},"binary>=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)>=b(d,e,f,g);return c?{value:h}:h}},"binary&&":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)&&b(d,e,f,g);return c?{value:h}:h}},"binary||":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)||b(d,e,f,g);return c?{value:h}:h}},"ternary?:":function(a,b,c,d){return function(e,f,g,h){var i=a(e,f,g,h)?b(e,f,g,h):c(e,f,g,h);return d?{value:i}:i}},value:function(a,b){return function(){return b?{context:void 0,name:void 0,value:a}:a}},identifier:function(a,b,c,d,e){return function(f,g,h,i){var j=g&&a in g?g:f;d&&1!==d&&j&&!j[a]&&(j[a]={});var k=j?j[a]:void 0;return b&&$b(k,e),c?{context:j,name:a,value:k}:k}},computedMember:function(a,b,c,d,e){return function(f,g,h,i){var j,k,l=a(f,g,h,i);return null!=l&&(j=b(f,g,h,i),j=Zb(j),Yb(j,e),d&&1!==d&&(ac(l),l&&!l[j]&&(l[j]={})),k=l[j],$b(k,e)),c?{context:l,name:j,value:k}:k}},nonComputedMember:function(a,b,c,d,e,f){return function(g,h,i,j){var k=a(g,h,i,j);e&&1!==e&&(ac(k),k&&!k[b]&&(k[b]={}));var l=null!=k?k[b]:void 0;return(c||mc(b))&&$b(l,f),d?{context:k,name:b,value:l}:l}},inputs:function(a,b){return function(c,d,e,f){return f?f[b]:a(c,d,e)}}};var kf=function(a,b,c){this.lexer=a,this.$filter=b,this.options=c,this.ast=new jf(a,c),this.astCompiler=c.csp?new lc(this.ast,b):new kc(this.ast,b)};kf.prototype={constructor:kf,parse:function(a){return this.astCompiler.compile(a,this.options.expensiveChecks)}};var lf=Object.prototype.valueOf,mf=b("$sce"),nf={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},of=b("$compile"),pf=a.document.createElement("a"),qf=Dc(a.location.href);Gc.$inject=["$document"],Ic.$inject=["$provide"];var rf=22,sf=".",tf="0";Nc.$inject=["$locale"],Oc.$inject=["$locale"];var uf={yyyy:Tc("FullYear",4,0,!1,!0),yy:Tc("FullYear",2,0,!0,!0),y:Tc("FullYear",1,0,!1,!0),MMMM:Uc("Month"),MMM:Uc("Month",!0),MM:Tc("Month",2,1),M:Tc("Month",1,1),LLLL:Uc("Month",!1,!0),dd:Tc("Date",2),d:Tc("Date",1),HH:Tc("Hours",2),H:Tc("Hours",1),hh:Tc("Hours",2,-12),h:Tc("Hours",1,-12),mm:Tc("Minutes",2),m:Tc("Minutes",1),ss:Tc("Seconds",2),s:Tc("Seconds",1),sss:Tc("Milliseconds",3),EEEE:Uc("Day"),EEE:Uc("Day",!0),a:Zc,Z:Vc,ww:Yc(2),w:Yc(1),G:$c,GG:$c,GGG:$c,GGGG:_c},vf=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,wf=/^\-?\d+$/;ad.$inject=["$locale"];var xf=p(Ad),yf=p(Bd);dd.$inject=["$parse"];var zf=p({restrict:"E",compile:function(a,b){return b.href||b.xlinkHref?void 0:function(a,b){if("a"===b[0].nodeName.toLowerCase()){var c="[object SVGAnimatedString]"===Ld.call(b.prop("href"))?"xlink:href":"href";b.on("click",function(a){b.attr(c)||a.preventDefault()})}}}}),Af={};d(te,function(a,b){function c(a,c,e){a.$watch(e[d],function(a){e.$set(b,!!a)})}if("multiple"!=a){var d=nb("ng-"+b),e=c;"checked"===a&&(e=function(a,b,e){e.ngModel!==e[d]&&c(a,b,e)}),Af[d]=function(){return{restrict:"A",priority:100,link:e}}}}),d(ve,function(a,b){Af[b]=function(){return{priority:100,link:function(a,c,d){if("ngPattern"===b&&"/"==d.ngPattern.charAt(0)){var e=d.ngPattern.match(/^\/(.+)\/([a-z]*)$/);if(e)return void d.$set("ngPattern",new RegExp(e[1],e[2]))}a.$watch(d[b],function(a){d.$set(b,a)})}}}}),d(["src","srcset","href"],function(a){var b=nb("ng-"+a);Af[b]=function(){return{priority:99,link:function(c,d,e){var f=a,g=a;"href"===a&&"[object SVGAnimatedString]"===Ld.call(d.prop("href"))&&(g="xlinkHref",e.$attr[g]="xlink:href",f=null),e.$observe(b,function(b){return b?(e.$set(g,b),void(Ed&&f&&d.prop(f,e[g]))):void("href"===a&&e.$set(g,null))})}}}});var Bf={$addControl:n,$$renameControl:fd,$removeControl:n,$setValidity:n,$setDirty:n,$setPristine:n,$setSubmitted:n},Cf="ng-submitted";gd.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Df=function(a){return["$timeout","$parse",function(b,c){function d(a){return""===a?c('this[""]').assign:c(a).assign||n}return{name:"form",restrict:a?"EAC":"E",require:["form","^^?form"],controller:gd,compile:function(c,e){c.addClass(jg).addClass(hg);var f=e.name?"name":!(!a||!e.ngForm)&&"ngForm";return{pre:function(a,c,e,g){var h=g[0];if(!("action"in e)){var i=function(b){a.$apply(function(){h.$commitViewValue(),h.$setSubmitted()}),b.preventDefault()};ge(c[0],"submit",i),c.on("$destroy",function(){b(function(){he(c[0],"submit",i)},0,!1)})}(g[1]||h.$$parentForm).$addControl(h);var k=f?d(h.$name):n;f&&(k(a,h),e.$observe(f,function(b){h.$name!==b&&(k(a,void 0),h.$$parentForm.$$renameControl(h,b),(k=d(h.$name))(a,h))})),c.on("$destroy",function(){h.$$parentForm.$removeControl(h),k(a,void 0),j(h,Bf)})}}}}}]},Ef=Df(),Ff=Df(!0),Gf=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,Hf=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,If=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Jf=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Kf=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Lf=/^(\d{4,})-W(\d\d)$/,Mf=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Nf="keydown wheel mousedown",Of=oa();d("date,datetime-local,month,time,week".split(","),function(a){Of[a]=!0});var Pf={text:id,date:md("date",/^(\d{4,})-(\d{2})-(\d{2})$/,ld(/^(\d{4,})-(\d{2})-(\d{2})$/,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":md("datetimelocal",Kf,ld(Kf,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:md("time",Mf,ld(Mf,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:md("week",Lf,kd,"yyyy-Www"),month:md("month",/^(\d{4,})-(\d\d)$/,ld(/^(\d{4,})-(\d\d)$/,["yyyy","MM"]),"yyyy-MM"),number:od,url:pd,email:qd,radio:rd,checkbox:td,hidden:n,button:n,submit:n,reset:n,file:n},Qf=["$browser","$sniffer","$filter","$parse",function(a,b,c,d){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,f,g,h){h[0]&&(Pf[Ad(g.type)]||Pf.text)(e,f,g,h[0],b,a,c,d)}}}}],Rf=/^(true|false|\d+)$/,Sf=function(){return{restrict:"A",priority:100,compile:function(a,b){return Rf.test(b.ngValue)?function(a,b,c){c.$set("value",a.$eval(c.ngValue))}:function(a,b,c){a.$watch(c.ngValue,function(a){c.$set("value",a)})}}}},Tf=["$compile",function(a){return{restrict:"AC",compile:function(b){return a.$$addBindingClass(b),function(b,c,d){a.$$addBindingInfo(c,d.ngBind),c=c[0],b.$watch(d.ngBind,function(a){c.textContent=r(a)?"":a})}}}}],Uf=["$interpolate","$compile",function(a,b){return{compile:function(c){return b.$$addBindingClass(c),function(c,d,e){var f=a(d.attr(e.$attr.ngBindTemplate));b.$$addBindingInfo(d,f.expressions),d=d[0],e.$observe("ngBindTemplate",function(a){d.textContent=r(a)?"":a})}}}}],Vf=["$sce","$parse","$compile",function(a,b,c){return{restrict:"A",compile:function(d,e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(a){return(a||"").toString()});return c.$$addBindingClass(d),function(b,d,e){c.$$addBindingInfo(d,e.ngBindHtml),b.$watch(g,function(){d.html(a.getTrustedHtml(f(b))||"")})}}}}],Wf=p({restrict:"A",require:"ngModel",link:function(a,b,c,d){d.$viewChangeListeners.push(function(){a.$eval(c.ngChange)})}}),Xf=ud("",!0),Yf=ud("Odd",0),Zf=ud("Even",1),$f=ed({compile:function(a,b){b.$set("ngCloak",void 0),a.removeClass("ng-cloak")}}),_f=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],ag={},bg={blur:!0,focus:!0};d("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=nb("ng-"+a);ag[b]=["$parse","$rootScope",function(c,d){return{restrict:"A",compile:function(e,f){var g=c(f[b],null,!0);return function(b,c){c.on(a,function(c){var e=function(){g(b,{$event:c})};bg[a]&&d.$$phase?b.$evalAsync(e):b.$apply(e)})}}}}]});var cg=["$animate","$compile",function(a,b){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(c,d,e,f,g){var h,i,j;c.$watch(e.ngIf,function(c){c?i||g(function(c,f){i=f,c[c.length++]=b.$$createComment("end ngIf",e.ngIf),h={clone:c},a.enter(c,d.parent(),d)}):(j&&(j.remove(),j=null),i&&(i.$destroy(),i=null),h&&(j=na(h.clone),a.leave(j).then(function(){j=null}),h=null))})}}}],dg=["$templateRequest","$anchorScroll","$animate",function(a,b,c){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Od.noop,compile:function(d,e){var f=e.ngInclude||e.src,g=e.onload||"",h=e.autoscroll;return function(d,e,i,j,k){var l,m,n,o=0,p=function(){m&&(m.remove(),m=null),l&&(l.$destroy(),l=null),n&&(c.leave(n).then(function(){m=null}),m=n,n=null)};d.$watch(f,function(f){var i=function(){!s(h)||h&&!d.$eval(h)||b()},m=++o;f?(a(f,!0).then(function(a){if(!d.$$destroyed&&m===o){var b=d.$new();j.template=a;var h=k(b,function(a){p(),c.enter(a,null,e).then(i)});l=b,n=h,l.$emit("$includeContentLoaded",f),d.$eval(g)}},function(){d.$$destroyed||m===o&&(p(),d.$emit("$includeContentError",f))}),d.$emit("$includeContentRequested",f)):(p(),j.template=null)})}}}}],eg=["$compile",function(b){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(c,d,e,f){return Ld.call(d[0]).match(/SVG/)?(d.empty(),void b(ya(f.template,a.document).childNodes)(c,function(a){d.append(a)},{futureParentElement:d})):(d.html(f.template),void b(d.contents())(c))}}}],fg=ed({priority:450,compile:function(){return{pre:function(a,b,c){a.$eval(c.ngInit)}}}}),gg=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,b,c,e){var f=b.attr(c.$attr.ngList)||", ",g="false"!==c.ngTrim,h=g?Sd(f):f,i=function(a){if(!r(a)){var b=[];return a&&d(a.split(h),function(a){a&&b.push(g?Sd(a):a)}),b}};e.$parsers.push(i),e.$formatters.push(function(a){return Qd(a)?a.join(f):void 0}),e.$isEmpty=function(a){return!a||!a.length}}}},hg="ng-valid",ig="ng-invalid",jg="ng-pristine",kg="ng-dirty",lg="ng-pending",mg=b("ngModel"),ng=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(a,b,c,e,f,g,h,i,j,k){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=k(c.name||"",!1)(a),this.$$parentForm=Bf;var l,m=f(c.ngModel),o=m.assign,p=m,q=o,t=null,u=this;this.$$setOptions=function(a){if(u.$options=a,a&&a.getterSetter){var b=f(c.ngModel+"()"),d=f(c.ngModel+"($$$p)");p=function(a){var c=m(a);return y(c)&&(c=b(a)),c},q=function(a,b){y(m(a))?d(a,{$$$p:b}):o(a,b)}}else if(!m.assign)throw mg("nonassign","Expression '{0}' is non-assignable. Element: {1}",c.ngModel,Z(e))},this.$render=n,this.$isEmpty=function(a){return r(a)||""===a||null===a||a!==a},this.$$updateEmptyClasses=function(a){u.$isEmpty(a)?(g.removeClass(e,"ng-not-empty"),g.addClass(e,"ng-empty")):(g.removeClass(e,"ng-empty"),g.addClass(e,"ng-not-empty"))};var v=0;vd({ctrl:this,$element:e,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]},$animate:g}),this.$setPristine=function(){u.$dirty=!1,u.$pristine=!0,g.removeClass(e,kg),g.addClass(e,jg)},this.$setDirty=function(){u.$dirty=!0,u.$pristine=!1,g.removeClass(e,jg),g.addClass(e,kg),u.$$parentForm.$setDirty()},this.$setUntouched=function(){u.$touched=!1,u.$untouched=!0,g.setClass(e,"ng-untouched","ng-touched")},this.$setTouched=function(){u.$touched=!0,u.$untouched=!1,g.setClass(e,"ng-touched","ng-untouched")},this.$rollbackViewValue=function(){h.cancel(t),u.$viewValue=u.$$lastCommittedViewValue,u.$render()},this.$validate=function(){if(!w(u.$modelValue)||!isNaN(u.$modelValue)){var a=u.$$lastCommittedViewValue,b=u.$$rawModelValue,c=u.$valid,d=u.$modelValue,e=u.$options&&u.$options.allowInvalid;u.$$runValidators(b,a,function(a){e||c===a||(u.$modelValue=a?b:void 0,u.$modelValue!==d&&u.$$writeModelToScope())})}},this.$$runValidators=function(a,b,c){function e(a,b){g===v&&u.$setValidity(a,b)}function f(a){g===v&&c(a)}v++;var g=v;return function(){var a=u.$$parserName||"parse";return r(l)?(e(a,null),!0):(l||(d(u.$validators,function(a,b){e(b,null)}),d(u.$asyncValidators,function(a,b){e(b,null)})),e(a,l),l)}()&&function(){var c=!0;return d(u.$validators,function(d,f){var g=d(a,b);c=c&&g,e(f,g)}),!!c||(d(u.$asyncValidators,function(a,b){e(b,null)}),!1)}()?void function(){var c=[],g=!0;d(u.$asyncValidators,function(d,f){var h=d(a,b);if(!G(h))throw mg("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",h);e(f,void 0),c.push(h.then(function(){e(f,!0)},function(){g=!1,e(f,!1)}))}),c.length?j.all(c).then(function(){f(g)},n):f(!0)}():void f(!1)},this.$commitViewValue=function(){var a=u.$viewValue;h.cancel(t),(u.$$lastCommittedViewValue!==a||""===a&&u.$$hasNativeValidators)&&(u.$$updateEmptyClasses(a),u.$$lastCommittedViewValue=a,u.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function b(){u.$modelValue!==f&&u.$$writeModelToScope()}var c=u.$$lastCommittedViewValue,d=c;if(l=!r(d)||void 0)for(var e=0;e<u.$parsers.length;e++)if(d=u.$parsers[e](d),r(d)){l=!1;break}w(u.$modelValue)&&isNaN(u.$modelValue)&&(u.$modelValue=p(a));var f=u.$modelValue,g=u.$options&&u.$options.allowInvalid;u.$$rawModelValue=d,g&&(u.$modelValue=d,b()),u.$$runValidators(d,u.$$lastCommittedViewValue,function(a){g||(u.$modelValue=a?d:void 0,b())})},this.$$writeModelToScope=function(){q(a,u.$modelValue),d(u.$viewChangeListeners,function(a){try{a()}catch(a){b(a)}})},this.$setViewValue=function(a,b){u.$viewValue=a,u.$options&&!u.$options.updateOnDefault||u.$$debounceViewValueCommit(b)},this.$$debounceViewValueCommit=function(b){var c,d=0,e=u.$options;e&&s(e.debounce)&&(c=e.debounce,w(c)?d=c:w(c[b])?d=c[b]:w(c["default"])&&(d=c["default"])),h.cancel(t),d?t=h(function(){u.$commitViewValue()},d):i.$$phase?u.$commitViewValue():a.$apply(function(){u.$commitViewValue()})},a.$watch(function(){var b=p(a);if(b!==u.$modelValue&&(u.$modelValue===u.$modelValue||b===b)){u.$modelValue=u.$$rawModelValue=b,l=void 0;for(var c=u.$formatters,d=c.length,e=b;d--;)e=c[d](e);u.$viewValue!==e&&(u.$$updateEmptyClasses(e),u.$viewValue=u.$$lastCommittedViewValue=e,u.$render(),u.$$runValidators(b,e,n))}return b})}],og=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:ng,priority:1,compile:function(b){return b.addClass(jg).addClass("ng-untouched").addClass(hg),{pre:function(a,b,c,d){var e=d[0],f=d[1]||e.$$parentForm;e.$$setOptions(d[2]&&d[2].$options),f.$addControl(e),c.$observe("name",function(a){e.$name!==a&&e.$$parentForm.$$renameControl(e,a)}),a.$on("$destroy",function(){e.$$parentForm.$removeControl(e)})},post:function(b,c,d,e){var f=e[0];f.$options&&f.$options.updateOn&&c.on(f.$options.updateOn,function(a){f.$$debounceViewValueCommit(a&&a.type)}),c.on("blur",function(){f.$touched||(a.$$phase?b.$evalAsync(f.$setTouched):b.$apply(f.$setTouched))})}}}}}],pg=function(){return{restrict:"A",controller:["$scope","$attrs",function(a,b){var c=this;this.$options=N(a.$eval(b.ngModelOptions)),s(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=Sd(this.$options.updateOn.replace(/(\s+|^)default(\s+|$)/,function(){return c.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},qg=ed({terminal:!0,priority:1e3}),rg=b("ngOptions"),sg=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,tg=["$compile","$document","$parse",function(b,e,f){function g(a,b,d){function e(a,b,c,d,e){this.selectValue=a,this.viewValue=b,this.label=c,this.group=d,this.disabled=e}function g(a){var b;if(!j&&c(a))b=a;else{b=[];for(var d in a)a.hasOwnProperty(d)&&"$"!==d.charAt(0)&&b.push(d)}return b}var h=a.match(sg);if(!h)throw rg("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",a,Z(b));var i=h[5]||h[7],j=h[6],k=/ as /.test(h[0])&&h[1],l=h[9],m=f(h[2]?h[1]:i),n=k&&f(k),o=n||m,p=l&&f(l),q=l?function(a,b){return p(d,b)}:function(a){return Xa(a)},r=function(a,b){return q(a,x(a,b))},s=f(h[2]||h[1]),t=f(h[3]||""),u=f(h[4]||""),v=f(h[8]),w={},x=j?function(a,b){return w[j]=b,w[i]=a,w}:function(a){return w[i]=a,w};return{trackBy:l,getTrackByValue:r,getWatchables:f(v,function(a){var b=[];a=a||[];for(var c=g(a),e=c.length,f=0;e>f;f++){var i=a===c?f:c[f],j=a[i],k=x(j,i),l=q(j,k);if(b.push(l),h[2]||h[1]){var m=s(d,k);b.push(m)}if(h[4]){var n=u(d,k);b.push(n)}}return b}),getOptions:function(){for(var a=[],b={},c=v(d)||[],f=g(c),h=f.length,i=0;h>i;i++){var j=c===f?i:f[i],k=c[j],m=x(k,j),n=o(d,m),p=q(n,m),w=s(d,m),y=t(d,m),z=u(d,m),A=new e(p,n,w,y,z);a.push(A),b[p]=A}return{items:a,selectValueMap:b,getOptionFromViewValue:function(a){return b[r(a)]},getViewValueFromOption:function(a){return l?Od.copy(a.viewValue):a.viewValue}}}}}function h(a,c,f,h){function k(a,b){var c=i.cloneNode(!1);b.appendChild(c),l(a,c)}function l(a,b){a.element=b,b.disabled=a.disabled,a.label!==b.label&&(b.label=a.label,b.textContent=a.label),a.value!==b.value&&(b.value=a.selectValue)}function m(){var a=x&&o.readValue();if(x)for(var b=x.items.length-1;b>=0;b--){var d=x.items[b];Pa(d.group?d.element.parentNode:d.element)}x=y.getOptions();var e={};if(v&&c.prepend(n),x.items.forEach(function(a){var b;s(a.group)?(b=e[a.group],b||(b=j.cloneNode(!1),z.appendChild(b),b.label=a.group,e[a.group]=b),k(a,b)):k(a,z)}),c[0].appendChild(z),p.$render(),!p.$isEmpty(a)){var f=o.readValue();(y.trackBy||q?P(a,f):a===f)||(p.$setViewValue(f),p.$render())}}for(var n,o=h[0],p=h[1],q=f.multiple,r=0,t=c.children(),u=t.length;u>r;r++)if(""===t[r].value){n=t.eq(r);break}var v=!!n,w=Fd(i.cloneNode(!1));w.val("?");var x,y=g(f.ngOptions,c,a),z=e[0].createDocumentFragment(),A=function(){v||c.prepend(n),c.val(""),n.prop("selected",!0),n.attr("selected",!0)},B=function(){v||n.remove()},C=function(){c.prepend(w),c.val("?"),w.prop("selected",!0),w.attr("selected",!0)},D=function(){w.remove()};q?(p.$isEmpty=function(a){return!a||0===a.length},o.writeValue=function(a){x.items.forEach(function(a){a.element.selected=!1}),a&&a.forEach(function(a){var b=x.getOptionFromViewValue(a);b&&(b.element.selected=!0)})},o.readValue=function(){var a=c.val()||[],b=[];return d(a,function(a){var c=x.selectValueMap[a];c&&!c.disabled&&b.push(x.getViewValueFromOption(c))}),b},y.trackBy&&a.$watchCollection(function(){return Qd(p.$viewValue)?p.$viewValue.map(function(a){return y.getTrackByValue(a)}):void 0},function(){p.$render()})):(o.writeValue=function(a){var b=x.getOptionFromViewValue(a);b?(c[0].value!==b.selectValue&&(D(),B(),c[0].value=b.selectValue,b.element.selected=!0),b.element.setAttribute("selected","selected")):null===a||v?(D(),A()):(B(),C())},o.readValue=function(){var a=x.selectValueMap[c.val()];return a&&!a.disabled?(B(),D(),x.getViewValueFromOption(a)):null},y.trackBy&&a.$watch(function(){return y.getTrackByValue(p.$viewValue)},function(){p.$render()})),v?(n.remove(),b(n)(a),n.removeClass("ng-scope")):n=Fd(i.cloneNode(!1)),c.empty(),m(),a.$watchCollection(y.getWatchables,m)}var i=a.document.createElement("option"),j=a.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(a,b,c,d){d[0].registerOption=n},post:h}}}],ug=["$locale","$interpolate","$log",function(a,b,c){var e=/^when(Minus)?(.+)$/;return{link:function(f,g,h){function i(a){g.text(a||"")}var j,k=h.count,l=h.$attr.when&&g.attr(h.$attr.when),m=h.offset||0,o=f.$eval(l)||{},p={},q=b.startSymbol(),s=b.endSymbol(),t=q+k+"-"+m+s,u=Od.noop;d(h,function(a,b){var c=e.exec(b);if(c){var d=(c[1]?"-":"")+Ad(c[2]);o[d]=g.attr(h.$attr[b])}}),d(o,function(a,c){p[c]=b(a.replace(/{}/g,t))}),f.$watch(k,function(b){var d=parseFloat(b),e=isNaN(d);if(e||d in o||(d=a.pluralCat(d-m)),d!==j&&!(e&&w(j)&&isNaN(j))){u();var g=p[d];r(g)?(null!=b&&c.debug("ngPluralize: no rule defined for '"+d+"' in "+l),u=n,i()):u=f.$watch(g,i),j=d}})}}}],vg=["$parse","$animate","$compile",function(a,e,f){var g=b("ngRepeat"),h=function(a,b,c,d,e,f,g){a[c]=d,e&&(a[e]=f),a.$index=b,a.$first=0===b,a.$last=b===g-1,a.$middle=!(a.$first||a.$last),a.$odd=!(a.$even=0==(1&b))},i=function(a){return a.clone[0]},j=function(a){return a.clone[a.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(b,k){var l=k.ngRepeat,m=f.$$createComment("end ngRepeat",l),n=l.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!n)throw g("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",l);var o=n[1],p=n[2],q=n[3],r=n[4];if(!(n=o.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/)))throw g("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",o);var s=n[3]||n[1],t=n[2];if(q&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(q)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(q)))throw g("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",q);var u,v,w,x,y={$id:Xa};return r?u=a(r):(w=function(a,b){return Xa(b)},x=function(a){return a}),function(a,b,f,k,n){u&&(v=function(b,c,d){return t&&(y[t]=b),y[s]=c,y.$index=d,u(a,y)});var o=oa();a.$watchCollection(p,function(f){var k,p,r,u,y,z,A,B,C,D,E,F,G=b[0],H=oa();if(q&&(a[q]=f),c(f))C=f,B=v||w;else{B=v||x,C=[];for(var I in f)zd.call(f,I)&&"$"!==I.charAt(0)&&C.push(I)}for(u=C.length,E=new Array(u),k=0;u>k;k++)if(y=f===C?k:C[k],z=f[y],A=B(y,z,k),o[A])D=o[A],delete o[A],H[A]=D,E[k]=D;else{if(H[A])throw d(E,function(a){a&&a.scope&&(o[a.id]=a)}),g("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",l,A,z);E[k]={id:A,scope:void 0,clone:void 0},H[A]=!0}for(var J in o){if(D=o[J],F=na(D.clone),e.leave(F),F[0].parentNode)for(k=0,p=F.length;p>k;k++)F[k].$$NG_REMOVED=!0;D.scope.$destroy()}for(k=0;u>k;k++)if(y=f===C?k:C[k],z=f[y],D=E[k],D.scope){r=G;do r=r.nextSibling;while(r&&r.$$NG_REMOVED);i(D)!=r&&e.move(na(D.clone),null,G),G=j(D),h(D.scope,k,s,z,t,y,u)}else n(function(a,b){D.scope=b;var c=m.cloneNode(!1);a[a.length++]=c,e.enter(a,null,G),G=c,D.clone=a,H[D.id]=D,h(D.scope,k,s,z,t,y,u)});o=H})}}}}],wg=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngShow,function(b){a[b?"removeClass":"addClass"](c,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],xg=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngHide,function(b){a[b?"addClass":"removeClass"](c,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],yg=ed(function(a,b,c){a.$watch(c.ngStyle,function(a,c){c&&a!==c&&d(c,function(a,c){b.css(c,"")}),a&&b.css(a)},!0)}),zg=["$animate","$compile",function(a,b){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(c,e,f,g){var h=f.ngSwitch||f.on,i=[],j=[],k=[],l=[],m=function(a,b){return function(){a.splice(b,1)}};c.$watch(h,function(c){var e,f;for(e=0,f=k.length;f>e;++e)a.cancel(k[e]);for(k.length=0,e=0,f=l.length;f>e;++e){var h=na(j[e].clone);l[e].$destroy(),(k[e]=a.leave(h)).then(m(k,e))}j.length=0,l.length=0,(i=g.cases["!"+c]||g.cases["?"])&&d(i,function(c){c.transclude(function(d,e){l.push(e);var f=c.element;d[d.length++]=b.$$createComment("end ngSwitchWhen");var g={clone:d};j.push(g),a.enter(d,f.parent(),f)})})})}}}],Ag=ed({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,d,e){d.cases["!"+c.ngSwitchWhen]=d.cases["!"+c.ngSwitchWhen]||[],d.cases["!"+c.ngSwitchWhen].push({transclude:e,element:b})}}),Bg=ed({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,d,e){d.cases["?"]=d.cases["?"]||[],d.cases["?"].push({transclude:e,element:b})}}),Cg=b("ngTransclude"),Dg=ed({restrict:"EAC",link:function(a,b,c,d,e){function f(a){a.length&&(b.empty(),b.append(a))}if(c.ngTransclude===c.$attr.ngTransclude&&(c.ngTransclude=""),!e)throw Cg("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",Z(b));e(f,null,c.ngTransclude||c.ngTranscludeSlot)}}),Eg=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,c){if("text/ng-template"==c.type){var d=c.id,e=b[0].text;a.put(d,e)}}}}],Fg={$setViewValue:n,$render:n},Gg=["$element","$scope",function(b,c){var d=this,e=new Ya;d.ngModelCtrl=Fg,d.unknownOption=Fd(a.document.createElement("option")),d.renderUnknownOption=function(a){var c="? "+Xa(a)+" ?";d.unknownOption.val(c),b.prepend(d.unknownOption),b.val(c)},c.$on("$destroy",function(){d.renderUnknownOption=n}),d.removeUnknownOption=function(){d.unknownOption.parent()&&d.unknownOption.remove()},d.readValue=function(){return d.removeUnknownOption(),b.val()},d.writeValue=function(a){d.hasOption(a)?(d.removeUnknownOption(),b.val(a),""===a&&d.emptyOption.prop("selected",!0)):null==a&&d.emptyOption?(d.removeUnknownOption(),b.val("")):d.renderUnknownOption(a)},d.addOption=function(a,b){if(b[0].nodeType!==ae){la(a,'"option value"'),""===a&&(d.emptyOption=b);var c=e.get(a)||0;e.put(a,c+1),d.ngModelCtrl.$render(),xd(b)}},d.removeOption=function(a){var b=e.get(a);b&&(1===b?(e.remove(a),""===a&&(d.emptyOption=void 0)):e.put(a,b-1))},d.hasOption=function(a){return!!e.get(a)},d.registerOption=function(a,b,c,e,f){if(e){var g;c.$observe("value",function(a){s(g)&&d.removeOption(g),g=a,d.addOption(a,b)})}else f?a.$watch(f,function(a,e){c.$set("value",a),e!==a&&d.removeOption(e),d.addOption(a,b)}):d.addOption(c.value,b);b.on("$destroy",function(){d.removeOption(c.value),d.ngModelCtrl.$render()})}}],Hg=function(){function a(a,b,c,e){var f=e[1];if(f){var g=e[0];if(g.ngModelCtrl=f,b.on("change",function(){a.$apply(function(){f.$setViewValue(g.readValue())})}),c.multiple){g.readValue=function(){var a=[];return d(b.find("option"),function(b){b.selected&&a.push(b.value)}),a},g.writeValue=function(a){var c=new Ya(a);d(b.find("option"),function(a){a.selected=s(c.get(a.value))})};var h,i=NaN;a.$watch(function(){i!==f.$viewValue||P(h,f.$viewValue)||(h=O(f.$viewValue),f.$render()),i=f.$viewValue}),f.$isEmpty=function(a){return!a||0===a.length}}}}function b(a,b,c,d){var e=d[1];if(e){var f=d[0];e.$render=function(){f.writeValue(e.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:Gg,priority:1,link:{pre:a,post:b}}},Ig=["$interpolate",function(a){return{restrict:"E",priority:100,compile:function(b,c){if(s(c.value))var d=a(c.value,!0);else{var e=a(b.text(),!0);e||c.$set("value",b.text())}return function(a,b,c){var f=b.parent(),g=f.data("$selectController")||f.parent().data("$selectController");g&&g.registerOption(a,b,c,d,e)}}}}],Jg=p({restrict:"E",terminal:!1}),Kg=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){d&&(c.required=!0,d.$validators.required=function(a,b){return!c.required||!d.$isEmpty(b)},c.$observe("required",function(){d.$validate()}))}}},Lg=function(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){if(e){var f,g=d.ngPattern||d.pattern;d.$observe("pattern",function(a){if(v(a)&&a.length>0&&(a=new RegExp("^"+a+"$")),a&&!a.test)throw b("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",g,a,Z(c));f=a||void 0,e.$validate()}),e.$validators.pattern=function(a,b){return e.$isEmpty(b)||r(f)||f.test(b)}}}}},Mg=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(d){var e=-1;c.$observe("maxlength",function(a){var b=l(a);e=isNaN(b)?-1:b,d.$validate()}),d.$validators.maxlength=function(a,b){return 0>e||d.$isEmpty(b)||b.length<=e}}}}},Ng=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(d){var e=0;c.$observe("minlength",function(a){e=l(a)||0,d.$validate()}),d.$validators.minlength=function(a,b){return d.$isEmpty(b)||b.length>=e}}}}};return a.angular.bootstrap?void a.console:(!function(){
var b;if(!Zd){var c=Vd();Gd=r(c)?a.jQuery:c?a[c]:void 0,Gd&&Gd.fn.on?(Fd=Gd,j(Gd.fn,{scope:se.scope,isolateScope:se.isolateScope,controller:se.controller,injector:se.injector,inheritedData:se.inheritedData}),b=Gd.cleanData,Gd.cleanData=function(a){for(var c,d,e=0;null!=(d=a[e]);e++)(c=Gd._data(d,"events"))&&c.$destroy&&Gd(d).triggerHandler("$destroy");b(a)}):Fd=Ba,Od.element=Fd,Zd=!0}}(),function(c){j(c,{bootstrap:fa,copy:N,extend:j,merge:k,equals:P,element:Fd,forEach:d,injector:ab,noop:n,bind:S,toJson:U,fromJson:V,identity:o,isUndefined:r,isDefined:s,isString:v,isFunction:y,isObject:t,isNumber:w,isElement:J,isArray:Qd,version:de,isDate:x,lowercase:Ad,uppercase:Bd,callbacks:{counter:0},getTestability:ha,$$minErr:b,$$csp:Ud,reloadWithDebugInfo:ga}),(Hd=pa(a))("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:uc}),a.provider("$compile",lb).directive({a:zf,input:Qf,textarea:Qf,form:Ef,script:Eg,select:Hg,style:Jg,option:Ig,ngBind:Tf,ngBindHtml:Vf,ngBindTemplate:Uf,ngClass:Xf,ngClassEven:Zf,ngClassOdd:Yf,ngCloak:$f,ngController:_f,ngForm:Ff,ngHide:xg,ngIf:cg,ngInclude:dg,ngInit:fg,ngNonBindable:qg,ngPluralize:ug,ngRepeat:vg,ngShow:wg,ngStyle:yg,ngSwitch:zg,ngSwitchWhen:Ag,ngSwitchDefault:Bg,ngOptions:tg,ngTransclude:Dg,ngModel:og,ngList:gg,ngChange:Wf,pattern:Lg,ngPattern:Lg,required:Kg,ngRequired:Kg,minlength:Ng,ngMinlength:Ng,maxlength:Mg,ngMaxlength:Mg,ngValue:Sf,ngModelOptions:pg}).directive({ngInclude:eg}).directive(Af).directive(ag),a.provider({$anchorScroll:bb,$animate:He,$animateCss:Ke,$$animateJs:Fe,$$animateQueue:Ge,$$AnimateRunner:Je,$$animateAsyncRun:Ie,$browser:hb,$cacheFactory:ib,$controller:rb,$document:sb,$exceptionHandler:tb,$filter:Ic,$$forceReflow:Qe,$interpolate:Hb,$interval:Ib,$http:Db,$httpParamSerializer:vb,$httpParamSerializerJQLike:wb,$httpBackend:Fb,$xhrFactory:Eb,$location:Wb,$log:Xb,$parse:oc,$rootScope:tc,$q:pc,$$q:qc,$sce:yc,$sceDelegate:xc,$sniffer:zc,$templateCache:jb,$templateRequest:Ac,$$testability:Bc,$timeout:Cc,$window:Fc,$$rAF:sc,$$jqLite:Wa,$$HashMap:we,$$cookieReader:Hc})}])}(Od),Od.module("ngLocale",[],["$provide",function(a){function b(a){a+="";var b=a.indexOf(".");return-1==b?0:a.length-b-1}function c(a,c){var d=c;void 0===d&&(d=Math.min(b(a),3));var e=Math.pow(10,d);return{v:d,f:(a*e|0)%e}}var d={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};a.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(a,b){var e=0|a,f=c(a,b);return 1==e&&0==f.v?d.ONE:d.OTHER}})}]),Fd(a.document).ready(function(){ea(a.document,fa)}),void 0)}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>')},{}],12:[function(a,b,c){!function(d){"use strict";function e(a){this.owner=a}function f(a){var b=this.internal=new g(this);b.loadConfig(a),b.beforeInit(a),b.init(),b.afterInit(a),function c(a,b,d){Object.keys(a).forEach(function(e){b[e]=a[e].bind(d),Object.keys(a[e]).length>0&&c(a[e],b[e],d)})}(j,this,this)}function g(b){var c=this;c.d3=d.d3?d.d3:void 0!==a?a("./../d3/d3.js"):void 0,c.api=b,c.config=c.getDefaultConfig(),c.data={},c.cache={},c.axes={}}function h(a){e.call(this,a)}function i(a,b){function c(a,b){a.attr("transform",function(a){return"translate("+Math.ceil(b(a)+u)+", 0)"})}function d(a,b){a.attr("transform",function(a){return"translate(0,"+Math.ceil(b(a))+")"})}function e(a){var b=a[0],c=a[a.length-1];return c>b?[b,c]:[c,b]}function f(a){var b,c,d=[];if(a.ticks)return a.ticks.apply(a,n);for(c=a.domain(),b=Math.ceil(c[0]);b<c[1];b++)d.push(b);return d.length>0&&d[0]>0&&d.unshift(d[0]-(d[1]-d[0])),d}function g(){var a,c=p.copy();return b.isCategory&&(a=p.domain(),c.domain([a[0],a[1]-1])),c}function h(a){var b=m?m(a):a;return void 0!==b?b:""}function i(a){if(A)return A;var b={h:11.5,w:5.5};return a.select("text").text(h).each(function(a){var c=this.getBoundingClientRect(),d=h(a),e=c.height,f=d?c.width/d.length:void 0;e&&f&&(b.h=e,b.w=f)}).text(""),A=b,b}function j(c){return b.withoutTransition?c:a.transition(c)}function k(m){m.each(function(){function m(a,c){function d(a,b){f=void 0;for(var h=1;h<b.length;h++)if(" "===b.charAt(h)&&(f=h),e=b.substr(0,h+1),g=Q.w*e.length,g>c)return d(a.concat(b.substr(0,f||h)),b.slice(f?f+1:h));return a.concat(b)}var e,f,g,i=h(a),j=[];return"[object Array]"===Object.prototype.toString.call(i)?i:((!c||0>=c)&&(c=T?95:b.isCategory?Math.ceil(B(C[1])-B(C[0]))-12:110),d(j,i+""))}function n(a,b){var c=Q.h;return 0===b&&(c="left"===q||"right"===q?-((R[a.index]-1)*(Q.h/2)-3):".71em"),c}function v(a){var b=p(a)+(o?0:u);return H[0]<b&&b<H[1]?r:0}var w,x,y,z=k.g=a.select(this),A=this.__chart__||p,B=this.__chart__=g(),C=t||f(B),D=z.selectAll(".tick").data(C,B),E=D.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),F=D.exit().remove(),G=j(D).style("opacity",1),H=p.rangeExtent?p.rangeExtent():e(p.range()),I=z.selectAll(".domain").data([0]),J=(I.enter().append("path").attr("class","domain"),j(I));E.append("line"),E.append("text");var K=E.select("line"),L=G.select("line"),M=E.select("text"),N=G.select("text");b.isCategory?(u=Math.ceil((B(1)-B(0))/2),x=o?0:u,y=o?u:0):u=x=0;var O,P,Q=i(z.select(".tick")),R=[],S=Math.max(r,0)+s,T="left"===q||"right"===q;O=D.select("text"),P=O.selectAll("tspan").data(function(a,c){var d=b.tickMultiline?m(a,b.tickWidth):[].concat(h(a));return R[c]=d.length,d.map(function(a){return{index:c,splitted:a}})}),P.enter().append("tspan"),P.exit().remove(),P.text(function(a){return a.splitted});var U=b.tickTextRotate;switch(q){case"bottom":w=c,K.attr("y2",r),M.attr("y",S),L.attr("x1",x).attr("x2",x).attr("y2",v),N.attr("x",0).attr("y",function(a){return a?11.5-a/15*2.5*(a>0?1:-1):S}(U)).style("text-anchor",function(a){return a?a>0?"start":"end":"middle"}(U)).attr("transform",function(a){return a?"rotate("+a+")":""}(U)),P.attr("x",0).attr("dy",n).attr("dx",function(a){return a?8*Math.sin(Math.PI*(a/180)):0}(U)),J.attr("d","M"+H[0]+","+l+"V0H"+H[1]+"V"+l);break;case"top":w=c,K.attr("y2",-r),M.attr("y",-S),L.attr("x2",0).attr("y2",-r),N.attr("x",0).attr("y",-S),O.style("text-anchor","middle"),P.attr("x",0).attr("dy","0em"),J.attr("d","M"+H[0]+","+-l+"V0H"+H[1]+"V"+-l);break;case"left":w=d,K.attr("x2",-r),M.attr("x",-S),L.attr("x2",-r).attr("y1",y).attr("y2",y),N.attr("x",-S).attr("y",u),O.style("text-anchor","end"),P.attr("x",-S).attr("dy",n),J.attr("d","M"+-l+","+H[0]+"H0V"+H[1]+"H"+-l);break;case"right":w=d,K.attr("x2",r),M.attr("x",S),L.attr("x2",r).attr("y2",0),N.attr("x",S).attr("y",0),O.style("text-anchor","start"),P.attr("x",S).attr("dy",n),J.attr("d","M"+l+","+H[0]+"H0V"+H[1]+"H"+l)}if(B.rangeBand){var V=B,W=V.rangeBand()/2;A=B=function(a){return V(a)+W}}else A.rangeBand?A=B:F.call(w,B);E.call(w,A),G.call(w,B)})}var l,m,n,o,p=a.scale.linear(),q="bottom",r=6,s=3,t=null,u=0,v=!0;return b=b||{},l=b.withOuterTick?6:0,k.scale=function(a){return arguments.length?(p=a,k):p},k.orient=function(a){return arguments.length?(q=a in{top:1,right:1,bottom:1,left:1}?a+"":"bottom",k):q},k.tickFormat=function(a){return arguments.length?(m=a,k):m},k.tickCentered=function(a){return arguments.length?(o=a,k):o},k.tickOffset=function(){return u},k.tickInterval=function(){var a,c;return b.isCategory?a=2*u:(c=k.g.select("path.domain").node().getTotalLength()-2*l,a=c/k.g.selectAll("line").size()),a===1/0?0:a},k.ticks=function(){return arguments.length?(n=arguments,k):n},k.tickCulling=function(a){return arguments.length?(v=a,k):v},k.tickValues=function(a){if("function"==typeof a)t=function(){return a(p.domain())};else{if(!arguments.length)return t;t=a}return k},k}var j,k,l={version:"0.4.11-rc4"};l.generate=function(a){return new f(a)},l.chart={fn:f.prototype,internal:{fn:g.prototype,axis:{fn:h.prototype}}},j=l.chart.fn,k=l.chart.internal.fn,l.chart.internal.axis.fn,k.beforeInit=function(){},k.afterInit=function(){},k.init=function(){var a=this,b=a.config;if(a.initParams(),b.data_url)a.convertUrlToData(b.data_url,b.data_mimeType,b.data_keys,a.initWithData);else if(b.data_json)a.initWithData(a.convertJsonToData(b.data_json,b.data_keys));else if(b.data_rows)a.initWithData(a.convertRowsToData(b.data_rows));else{if(!b.data_columns)throw Error("url or json or rows or columns is required.");a.initWithData(a.convertColumnsToData(b.data_columns))}},k.initParams=function(){var a=this,b=a.d3,c=a.config;a.clipId="c3-"+ +new Date+"-clip",a.clipIdForXAxis=a.clipId+"-xaxis",a.clipIdForYAxis=a.clipId+"-yaxis",a.clipIdForGrid=a.clipId+"-grid",a.clipIdForSubchart=a.clipId+"-subchart",a.clipPath=a.getClipPath(a.clipId),a.clipPathForXAxis=a.getClipPath(a.clipIdForXAxis),a.clipPathForYAxis=a.getClipPath(a.clipIdForYAxis),a.clipPathForGrid=a.getClipPath(a.clipIdForGrid),a.clipPathForSubchart=a.getClipPath(a.clipIdForSubchart),a.dragStart=null,a.dragging=!1,a.flowing=!1,a.cancelClick=!1,a.mouseover=!1,a.transiting=!1,a.color=a.generateColor(),a.levelColor=a.generateLevelColor(),a.dataTimeFormat=c.data_xLocaltime?b.time.format:b.time.format.utc,a.axisTimeFormat=c.axis_x_localtime?b.time.format:b.time.format.utc,a.defaultAxisTimeFormat=a.axisTimeFormat.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%-m/%-d",function(a){return a.getDay()&&1!==a.getDate()}],["%-m/%-d",function(a){return 1!==a.getDate()}],["%-m/%-d",function(a){return a.getMonth()}],["%Y/%-m/%-d",function(){return!0}]]),a.hiddenTargetIds=[],a.hiddenLegendIds=[],a.focusedTargetIds=[],a.defocusedTargetIds=[],a.xOrient=c.axis_rotated?"left":"bottom",a.yOrient=c.axis_rotated?c.axis_y_inner?"top":"bottom":c.axis_y_inner?"right":"left",a.y2Orient=c.axis_rotated?c.axis_y2_inner?"bottom":"top":c.axis_y2_inner?"left":"right",a.subXOrient=c.axis_rotated?"left":"bottom",a.isLegendRight="right"===c.legend_position,a.isLegendInset="inset"===c.legend_position,a.isLegendTop="top-left"===c.legend_inset_anchor||"top-right"===c.legend_inset_anchor,a.isLegendLeft="top-left"===c.legend_inset_anchor||"bottom-left"===c.legend_inset_anchor,a.legendStep=0,a.legendItemWidth=0,a.legendItemHeight=0,a.currentMaxTickWidths={x:0,y:0,y2:0},a.rotated_padding_left=30,a.rotated_padding_right=c.axis_rotated&&!c.axis_x_show?0:30,a.rotated_padding_top=5,a.withoutFadeIn={},a.intervalForObserveInserted=void 0,a.axes.subx=b.selectAll([])},k.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},k.initWithData=function(a){var b,c,d=this,e=d.d3,f=d.config,g=!0;d.axis=new h(d),d.initPie&&d.initPie(),d.initBrush&&d.initBrush(),d.initZoom&&d.initZoom(),f.bindto?"function"==typeof f.bindto.node?d.selectChart=f.bindto:d.selectChart=e.select(f.bindto):d.selectChart=e.selectAll([]),d.selectChart.empty()&&(d.selectChart=e.select(document.createElement("div")).style("opacity",0),d.observeInserted(d.selectChart),g=!1),d.selectChart.html("").classed("c3",!0),d.data.xs={},d.data.targets=d.convertDataToTargets(a),f.data_filter&&(d.data.targets=d.data.targets.filter(f.data_filter)),f.data_hide&&d.addHiddenTargetIds(!0===f.data_hide?d.mapToIds(d.data.targets):f.data_hide),f.legend_hide&&d.addHiddenLegendIds(!0===f.legend_hide?d.mapToIds(d.data.targets):f.legend_hide),d.hasType("gauge")&&(f.legend_show=!1),d.updateSizes(),d.updateScales(),d.x.domain(e.extent(d.getXDomain(d.data.targets))),d.y.domain(d.getYDomain(d.data.targets,"y")),d.y2.domain(d.getYDomain(d.data.targets,"y2")),d.subX.domain(d.x.domain()),d.subY.domain(d.y.domain()),d.subY2.domain(d.y2.domain()),d.orgXDomain=d.x.domain(),d.brush&&d.brush.scale(d.subX),f.zoom_enabled&&d.zoom.scale(d.x),d.svg=d.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return f.onmouseover.call(d)}).on("mouseleave",function(){return f.onmouseout.call(d)}),d.config.svg_classname&&d.svg.attr("class",d.config.svg_classname),b=d.svg.append("defs"),d.clipChart=d.appendClip(b,d.clipId),d.clipXAxis=d.appendClip(b,d.clipIdForXAxis),d.clipYAxis=d.appendClip(b,d.clipIdForYAxis),d.clipGrid=d.appendClip(b,d.clipIdForGrid),d.clipSubchart=d.appendClip(b,d.clipIdForSubchart),d.updateSvgSize(),c=d.main=d.svg.append("g").attr("transform",d.getTranslate("main")),d.initSubchart&&d.initSubchart(),d.initTooltip&&d.initTooltip(),d.initLegend&&d.initLegend(),d.initTitle&&d.initTitle(),c.append("text").attr("class",m.text+" "+m.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),d.initRegion(),d.initGrid(),c.append("g").attr("clip-path",d.clipPath).attr("class",m.chart),f.grid_lines_front&&d.initGridLines(),d.initEventRect(),d.initChartElements(),c.insert("rect",f.zoom_privileged?null:"g."+m.regions).attr("class",m.zoomRect).attr("width",d.width).attr("height",d.height).style("opacity",0).on("dblclick.zoom",null),f.axis_x_extent&&d.brush.extent(d.getDefaultExtent()),d.axis.init(),d.updateTargets(d.data.targets),g&&(d.updateDimension(),d.config.oninit.call(d),d.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),d.bindResize(),d.api.element=d.selectChart.node()},k.smoothLines=function(a,b){var c=this;"grid"===b&&a.each(function(){var a=c.d3.select(this),b=a.attr("x1"),d=a.attr("x2"),e=a.attr("y1"),f=a.attr("y2");a.attr({x1:Math.ceil(b),x2:Math.ceil(d),y1:Math.ceil(e),y2:Math.ceil(f)})})},k.updateSizes=function(){var a=this,b=a.config,c=a.legend?a.getLegendHeight():0,d=a.legend?a.getLegendWidth():0,e=a.isLegendRight||a.isLegendInset?0:c,f=a.hasArcType(),g=b.axis_rotated||f?0:a.getHorizontalAxisHeight("x"),h=b.subchart_show&&!f?b.subchart_size_height+g:0;a.currentWidth=a.getCurrentWidth(),a.currentHeight=a.getCurrentHeight(),a.margin=b.axis_rotated?{top:a.getHorizontalAxisHeight("y2")+a.getCurrentPaddingTop(),right:f?0:a.getCurrentPaddingRight(),bottom:a.getHorizontalAxisHeight("y")+e+a.getCurrentPaddingBottom(),left:h+(f?0:a.getCurrentPaddingLeft())}:{top:4+a.getCurrentPaddingTop(),right:f?0:a.getCurrentPaddingRight(),bottom:g+h+e+a.getCurrentPaddingBottom(),left:f?0:a.getCurrentPaddingLeft()},a.margin2=b.axis_rotated?{top:a.margin.top,right:NaN,bottom:20+e,left:a.rotated_padding_left}:{top:a.currentHeight-h-e,right:NaN,bottom:g+e,left:a.margin.left},a.margin3={top:0,right:NaN,bottom:0,left:0},a.updateSizeForLegend&&a.updateSizeForLegend(c,d),a.width=a.currentWidth-a.margin.left-a.margin.right,a.height=a.currentHeight-a.margin.top-a.margin.bottom,a.width<0&&(a.width=0),a.height<0&&(a.height=0),a.width2=b.axis_rotated?a.margin.left-a.rotated_padding_left-a.rotated_padding_right:a.width,a.height2=b.axis_rotated?a.height:a.currentHeight-a.margin2.top-a.margin2.bottom,a.width2<0&&(a.width2=0),a.height2<0&&(a.height2=0),a.arcWidth=a.width-(a.isLegendRight?d+10:0),a.arcHeight=a.height-(a.isLegendRight?0:10),a.hasType("gauge")&&!b.gauge_fullCircle&&(a.arcHeight+=a.height-a.getGaugeLabelHeight()),a.updateRadius&&a.updateRadius(),a.isLegendRight&&f&&(a.margin3.left=a.arcWidth/2+1.1*a.radiusExpanded)},k.updateTargets=function(a){var b=this;b.updateTargetsForText(a),b.updateTargetsForBar(a),b.updateTargetsForLine(a),b.hasArcType()&&b.updateTargetsForArc&&b.updateTargetsForArc(a),b.updateTargetsForSubchart&&b.updateTargetsForSubchart(a),b.showTargets()},k.showTargets=function(){var a=this;a.svg.selectAll("."+m.target).filter(function(b){return a.isTargetToShow(b.id)}).transition().duration(a.config.transition_duration).style("opacity",1)},k.redraw=function(a,b){var c,d,e,f,g,h,i,j,k,l,n,o,p,q,r,s,t,u,v,w,y,z,A,B,C,D,E,F,G,H=this,I=H.main,J=H.d3,K=H.config,L=H.getShapeIndices(H.isAreaType),M=H.getShapeIndices(H.isBarType),N=H.getShapeIndices(H.isLineType),O=H.hasArcType(),P=H.filterTargetsToShow(H.data.targets),Q=H.xv.bind(H);if(a=a||{},c=x(a,"withY",!0),d=x(a,"withSubchart",!0),e=x(a,"withTransition",!0),h=x(a,"withTransform",!1),i=x(a,"withUpdateXDomain",!1),j=x(a,"withUpdateOrgXDomain",!1),k=x(a,"withTrimXDomain",!0),p=x(a,"withUpdateXAxis",i),l=x(a,"withLegend",!1),n=x(a,"withEventRect",!0),o=x(a,"withDimension",!0),f=x(a,"withTransitionForExit",e),g=x(a,"withTransitionForAxis",e),v=e?K.transition_duration:0,w=f?v:0,y=g?v:0,b=b||H.axis.generateTransitions(y),l&&K.legend_show?H.updateLegend(H.mapToIds(H.data.targets),a,b):o&&H.updateDimension(!0),H.isCategorized()&&0===P.length&&H.x.domain([0,H.axes.x.selectAll(".tick").size()]),P.length?(H.updateXDomain(P,i,j,k),K.axis_x_tick_values||(B=H.axis.updateXAxisTickValues(P))):(H.xAxis.tickValues([]),H.subXAxis.tickValues([])),K.zoom_rescale&&!a.flow&&(E=H.x.orgDomain()),H.y.domain(H.getYDomain(P,"y",E)),H.y2.domain(H.getYDomain(P,"y2",E)),!K.axis_y_tick_values&&K.axis_y_tick_count&&H.yAxis.tickValues(H.axis.generateTickValues(H.y.domain(),K.axis_y_tick_count)),!K.axis_y2_tick_values&&K.axis_y2_tick_count&&H.y2Axis.tickValues(H.axis.generateTickValues(H.y2.domain(),K.axis_y2_tick_count)),H.axis.redraw(b,O),H.axis.updateLabels(e),(i||p)&&P.length)if(K.axis_x_tick_culling&&B){for(C=1;C<B.length;C++)if(B.length/C<K.axis_x_tick_culling_max){D=C;break}H.svg.selectAll("."+m.axisX+" .tick text").each(function(a){var b=B.indexOf(a);b>=0&&J.select(this).style("display",b%D?"none":"block")})}else H.svg.selectAll("."+m.axisX+" .tick text").style("display","block");q=H.generateDrawArea?H.generateDrawArea(L,!1):void 0,r=H.generateDrawBar?H.generateDrawBar(M):void 0,s=H.generateDrawLine?H.generateDrawLine(N,!1):void 0,t=H.generateXYForText(L,M,N,!0),u=H.generateXYForText(L,M,N,!1),c&&(H.subY.domain(H.getYDomain(P,"y")),H.subY2.domain(H.getYDomain(P,"y2"))),H.updateXgridFocus(),I.select("text."+m.text+"."+m.empty).attr("x",H.width/2).attr("y",H.height/2).text(K.data_empty_label_text).transition().style("opacity",P.length?0:1),H.updateGrid(v),H.updateRegion(v),H.updateBar(w),H.updateLine(w),H.updateArea(w),H.updateCircle(),H.hasDataLabel()&&H.updateText(w),H.redrawTitle&&H.redrawTitle(),H.redrawArc&&H.redrawArc(v,w,h),H.redrawSubchart&&H.redrawSubchart(d,b,v,w,L,M,N),I.selectAll("."+m.selectedCircles).filter(H.isBarType.bind(H)).selectAll("circle").remove(),K.interaction_enabled&&!a.flow&&n&&(H.redrawEventRect(),H.updateZoom&&H.updateZoom()),H.updateCircleY(),F=(H.config.axis_rotated?H.circleY:H.circleX).bind(H),G=(H.config.axis_rotated?H.circleX:H.circleY).bind(H),a.flow&&(A=H.generateFlow({targets:P,flow:a.flow,duration:a.flow.duration,drawBar:r,drawLine:s,drawArea:q,cx:F,cy:G,xv:Q,xForText:t,yForText:u})),(v||A)&&H.isTabVisible()?J.transition().duration(v).each(function(){var b=[];[H.redrawBar(r,!0),H.redrawLine(s,!0),H.redrawArea(q,!0),H.redrawCircle(F,G,!0),H.redrawText(t,u,a.flow,!0),H.redrawRegion(!0),H.redrawGrid(!0)].forEach(function(a){a.forEach(function(a){b.push(a)})}),z=H.generateWait(),b.forEach(function(a){z.add(a)})}).call(z,function(){A&&A(),K.onrendered&&K.onrendered.call(H)}):(H.redrawBar(r),H.redrawLine(s),H.redrawArea(q),H.redrawCircle(F,G),H.redrawText(t,u,a.flow),H.redrawRegion(),H.redrawGrid(),K.onrendered&&K.onrendered.call(H)),H.mapToIds(H.data.targets).forEach(function(a){H.withoutFadeIn[a]=!0})},k.updateAndRedraw=function(a){var b,c=this,d=c.config;a=a||{},a.withTransition=x(a,"withTransition",!0),a.withTransform=x(a,"withTransform",!1),a.withLegend=x(a,"withLegend",!1),a.withUpdateXDomain=!0,a.withUpdateOrgXDomain=!0,a.withTransitionForExit=!1,a.withTransitionForTransform=x(a,"withTransitionForTransform",a.withTransition),c.updateSizes(),a.withLegend&&d.legend_show||(b=c.axis.generateTransitions(a.withTransitionForAxis?d.transition_duration:0),c.updateScales(),c.updateSvgSize(),c.transformAll(a.withTransitionForTransform,b)),c.redraw(a,b)},k.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},k.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},k.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},k.isCustomX=function(){var a=this,b=a.config;return!a.isTimeSeries()&&(b.data_x||w(b.data_xs))},k.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},k.getTranslate=function(a){var b,c,d=this,e=d.config;return"main"===a?(b=t(d.margin.left),c=t(d.margin.top)):"context"===a?(b=t(d.margin2.left),c=t(d.margin2.top)):"legend"===a?(b=d.margin3.left,c=d.margin3.top):"x"===a?(b=0,c=e.axis_rotated?0:d.height):"y"===a?(b=0,c=e.axis_rotated?d.height:0):"y2"===a?(b=e.axis_rotated?0:d.width,c=e.axis_rotated?1:0):"subx"===a?(b=0,c=e.axis_rotated?0:d.height2):"arc"===a&&(b=d.arcWidth/2,c=d.arcHeight/2),"translate("+b+","+c+")"},k.initialOpacity=function(a){return null!==a.value&&this.withoutFadeIn[a.id]?1:0},k.initialOpacityForCircle=function(a){return null!==a.value&&this.withoutFadeIn[a.id]?this.opacityForCircle(a):0},k.opacityForCircle=function(a){var b=this.config.point_show?1:0;return n(a.value)?this.isScatterType(a)?.5:b:0},k.opacityForText=function(){return this.hasDataLabel()?1:0},k.xx=function(a){return a?this.x(a.x):null},k.xv=function(a){var b=this,c=a.value;return b.isTimeSeries()?c=b.parseDate(a.value):b.isCategorized()&&"string"==typeof a.value&&(c=b.config.axis_x_categories.indexOf(a.value)),Math.ceil(b.x(c))},k.yv=function(a){var b=this,c=a.axis&&"y2"===a.axis?b.y2:b.y;return Math.ceil(c(a.value))},k.subxx=function(a){return a?this.subX(a.x):null},k.transformMain=function(a,b){var c,d,e,f=this;b&&b.axisX?c=b.axisX:(c=f.main.select("."+m.axisX),a&&(c=c.transition())),b&&b.axisY?d=b.axisY:(d=f.main.select("."+m.axisY),a&&(d=d.transition())),b&&b.axisY2?e=b.axisY2:(e=f.main.select("."+m.axisY2),a&&(e=e.transition())),(a?f.main.transition():f.main).attr("transform",f.getTranslate("main")),c.attr("transform",f.getTranslate("x")),d.attr("transform",f.getTranslate("y")),e.attr("transform",f.getTranslate("y2")),f.main.select("."+m.chartArcs).attr("transform",f.getTranslate("arc"))},k.transformAll=function(a,b){var c=this;c.transformMain(a,b),c.config.subchart_show&&c.transformContext(a,b),c.legend&&c.transformLegend(a)},k.updateSvgSize=function(){var a=this,b=a.svg.select(".c3-brush .background");a.svg.attr("width",a.currentWidth).attr("height",a.currentHeight),a.svg.selectAll(["#"+a.clipId,"#"+a.clipIdForGrid]).select("rect").attr("width",a.width).attr("height",a.height),a.svg.select("#"+a.clipIdForXAxis).select("rect").attr("x",a.getXAxisClipX.bind(a)).attr("y",a.getXAxisClipY.bind(a)).attr("width",a.getXAxisClipWidth.bind(a)).attr("height",a.getXAxisClipHeight.bind(a)),a.svg.select("#"+a.clipIdForYAxis).select("rect").attr("x",a.getYAxisClipX.bind(a)).attr("y",a.getYAxisClipY.bind(a)).attr("width",a.getYAxisClipWidth.bind(a)).attr("height",a.getYAxisClipHeight.bind(a)),a.svg.select("#"+a.clipIdForSubchart).select("rect").attr("width",a.width).attr("height",b.size()?b.attr("height"):0),a.svg.select("."+m.zoomRect).attr("width",a.width).attr("height",a.height),a.selectChart.style("max-height",a.currentHeight+"px")},k.updateDimension=function(a){var b=this;a||(b.config.axis_rotated?(b.axes.x.call(b.xAxis),b.axes.subx.call(b.subXAxis)):(b.axes.y.call(b.yAxis),b.axes.y2.call(b.y2Axis))),b.updateSizes(),b.updateScales(),b.updateSvgSize(),b.transformAll(!1)},k.observeInserted=function(a){var b,c=this;return"undefined"==typeof MutationObserver?void d.console.error("MutationObserver not defined."):(b=new MutationObserver(function(e){e.forEach(function(e){"childList"===e.type&&e.previousSibling&&(b.disconnect(),c.intervalForObserveInserted=d.setInterval(function(){a.node().parentNode&&(d.clearInterval(c.intervalForObserveInserted),c.updateDimension(),c.brush&&c.brush.update(),c.config.oninit.call(c),c.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),a.transition().style("opacity",1))},10))})}),void b.observe(a.node(),{attributes:!0,childList:!0,characterData:!0}))},k.bindResize=function(){var a=this,b=a.config;if(a.resizeFunction=a.generateResize(),a.resizeFunction.add(function(){b.onresize.call(a)}),b.resize_auto&&a.resizeFunction.add(function(){void 0!==a.resizeTimeout&&d.clearTimeout(a.resizeTimeout),a.resizeTimeout=d.setTimeout(function(){delete a.resizeTimeout,a.api.flush()},100)}),a.resizeFunction.add(function(){b.onresized.call(a)}),d.attachEvent)d.attachEvent("onresize",a.resizeFunction);else if(d.addEventListener)d.addEventListener("resize",a.resizeFunction,!1);else{var c=d.onresize;c?c.add&&c.remove||(c=a.generateResize(),c.add(d.onresize)):c=a.generateResize(),c.add(a.resizeFunction),d.onresize=c}},k.generateResize=function(){function a(){b.forEach(function(a){a()})}var b=[];return a.add=function(a){b.push(a)},a.remove=function(a){for(var c=0;c<b.length;c++)if(b[c]===a){b.splice(c,1);break}},a},k.endall=function(a,b){var c=0;a.each(function(){++c}).each("end",function(){--c||b.apply(this,arguments)})},k.generateWait=function(){var a=[],b=function(b,c){var d=setInterval(function(){var b=0;a.forEach(function(a){if(a.empty())return void(b+=1);try{a.transition()}catch(a){b+=1}}),b===a.length&&(clearInterval(d),c&&c())},10)};return b.add=function(b){a.push(b)},b},k.parseDate=function(a){var b,c=this;return a instanceof Date?b=a:"string"==typeof a?b=c.dataTimeFormat(c.config.data_xFormat).parse(a):"number"!=typeof a||isNaN(a)||(b=new Date(+a)),b&&!isNaN(+b)||d.console.error("Failed to parse x '"+a+"' to Date object"),b},k.isTabVisible=function(){var a;return void 0!==document.hidden?a="hidden":void 0!==document.mozHidden?a="mozHidden":void 0!==document.msHidden?a="msHidden":void 0!==document.webkitHidden&&(a="webkitHidden"),!document[a]},k.getDefaultConfig=function(){var a={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_extent:void 0,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(a){return a},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_extent:void 0,axis_x_label:{},axis_y_show:!0,axis_y_type:void 0,axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_count:void 0,axis_y_tick_time_value:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,area_zerobased:!0,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_expand:{},pie_expand_duration:50,gauge_fullCircle:!1,gauge_label_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_units:void 0,gauge_width:void 0,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,spline_interpolation_type:"cardinal",regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_position:void 0,tooltip_contents:function(a,b,c,d){return this.getTooltipContent?this.getTooltipContent(a,b,c,d):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(b){a[b]=this.additionalConfig[b]},this),a},k.additionalConfig={},k.loadConfig=function(a){function b(){var a=d.shift();return a&&c&&"object"===(void 0===c?"undefined":_typeof(c))&&a in c?(c=c[a],b()):a?void 0:c}var c,d,e,f=this.config;Object.keys(f).forEach(function(g){c=a,d=g.split("_"),e=b(),r(e)&&(f[g]=e)})},k.getScale=function(a,b,c){return(c?this.d3.time.scale():this.d3.scale.linear()).range([a,b])},k.getX=function(a,b,c,d){var e,f=this,g=f.getScale(a,b,f.isTimeSeries()),h=c?g.domain(c):g;f.isCategorized()?(d=d||function(){return 0},g=function(a,b){var c=h(a)+d(a);return b?c:Math.ceil(c)}):g=function(a,b){var c=h(a);return b?c:Math.ceil(c)};for(e in h)g[e]=h[e];return g.orgDomain=function(){return h.domain()},f.isCategorized()&&(g.domain=function(a){return arguments.length?(h.domain(a),g):(a=this.orgDomain(),[a[0],a[1]+1])}),g},k.getY=function(a,b,c){var d=this.getScale(a,b,this.isTimeSeriesY());
return c&&d.domain(c),d},k.getYScale=function(a){return"y2"===this.axis.getId(a)?this.y2:this.y},k.getSubYScale=function(a){return"y2"===this.axis.getId(a)?this.subY2:this.subY},k.updateScales=function(){var a=this,b=a.config,c=!a.x;a.xMin=b.axis_rotated?1:0,a.xMax=b.axis_rotated?a.height:a.width,a.yMin=b.axis_rotated?0:a.height,a.yMax=b.axis_rotated?a.width:1,a.subXMin=a.xMin,a.subXMax=a.xMax,a.subYMin=b.axis_rotated?0:a.height2,a.subYMax=b.axis_rotated?a.width2:1,a.x=a.getX(a.xMin,a.xMax,c?void 0:a.x.orgDomain(),function(){return a.xAxis.tickOffset()}),a.y=a.getY(a.yMin,a.yMax,c?b.axis_y_default:a.y.domain()),a.y2=a.getY(a.yMin,a.yMax,c?b.axis_y2_default:a.y2.domain()),a.subX=a.getX(a.xMin,a.xMax,a.orgXDomain,function(b){return b%1?0:a.subXAxis.tickOffset()}),a.subY=a.getY(a.subYMin,a.subYMax,c?b.axis_y_default:a.subY.domain()),a.subY2=a.getY(a.subYMin,a.subYMax,c?b.axis_y2_default:a.subY2.domain()),a.xAxisTickFormat=a.axis.getXAxisTickFormat(),a.xAxisTickValues=a.axis.getXAxisTickValues(),a.yAxisTickValues=a.axis.getYAxisTickValues(),a.y2AxisTickValues=a.axis.getY2AxisTickValues(),a.xAxis=a.axis.getXAxis(a.x,a.xOrient,a.xAxisTickFormat,a.xAxisTickValues,b.axis_x_tick_outer),a.subXAxis=a.axis.getXAxis(a.subX,a.subXOrient,a.xAxisTickFormat,a.xAxisTickValues,b.axis_x_tick_outer),a.yAxis=a.axis.getYAxis(a.y,a.yOrient,b.axis_y_tick_format,a.yAxisTickValues,b.axis_y_tick_outer),a.y2Axis=a.axis.getYAxis(a.y2,a.y2Orient,b.axis_y2_tick_format,a.y2AxisTickValues,b.axis_y2_tick_outer),c||(a.brush&&a.brush.scale(a.subX),b.zoom_enabled&&a.zoom.scale(a.x)),a.updateArc&&a.updateArc()},k.getYDomainMin=function(a){var b,c,d,e,f,g,h=this,i=h.config,j=h.mapToIds(a),k=h.getValuesAsIdKeyed(a);if(i.data_groups.length>0)for(g=h.hasNegativeValueInTargets(a),b=0;b<i.data_groups.length;b++)if(e=i.data_groups[b].filter(function(a){return j.indexOf(a)>=0}),0!==e.length)for(d=e[0],g&&k[d]&&k[d].forEach(function(a,b){k[d][b]=0>a?a:0}),c=1;c<e.length;c++)f=e[c],k[f]&&k[f].forEach(function(a,b){h.axis.getId(f)!==h.axis.getId(d)||!k[d]||g&&+a>0||(k[d][b]+=+a)});return h.d3.min(Object.keys(k).map(function(a){return h.d3.min(k[a])}))},k.getYDomainMax=function(a){var b,c,d,e,f,g,h=this,i=h.config,j=h.mapToIds(a),k=h.getValuesAsIdKeyed(a);if(i.data_groups.length>0)for(g=h.hasPositiveValueInTargets(a),b=0;b<i.data_groups.length;b++)if(e=i.data_groups[b].filter(function(a){return j.indexOf(a)>=0}),0!==e.length)for(d=e[0],g&&k[d]&&k[d].forEach(function(a,b){k[d][b]=a>0?a:0}),c=1;c<e.length;c++)f=e[c],k[f]&&k[f].forEach(function(a,b){h.axis.getId(f)!==h.axis.getId(d)||!k[d]||g&&0>+a||(k[d][b]+=+a)});return h.d3.max(Object.keys(k).map(function(a){return h.d3.max(k[a])}))},k.getYDomain=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,o=this,p=o.config,q=a.filter(function(a){return o.axis.getId(a.id)===b}),r=c?o.filterByXDomain(q,c):q,s="y2"===b?p.axis_y2_min:p.axis_y_min,t="y2"===b?p.axis_y2_max:p.axis_y_max,v=o.getYDomainMin(r),x=o.getYDomainMax(r),y="y2"===b?p.axis_y2_center:p.axis_y_center,z=o.hasType("bar",r)&&p.bar_zerobased||o.hasType("area",r)&&p.area_zerobased,A="y2"===b?p.axis_y2_inverted:p.axis_y_inverted,B=o.hasDataLabel()&&p.axis_rotated,C=o.hasDataLabel()&&!p.axis_rotated;return v=n(s)?s:n(t)?t>v?v:t-10:v,x=n(t)?t:n(s)?x>s?x:s+10:x,0===r.length?"y2"===b?o.y2.domain():o.y.domain():(isNaN(v)&&(v=0),isNaN(x)&&(x=v),v===x&&(0>v?x=0:v=0),l=v>=0&&x>=0,m=0>=v&&0>=x,(n(s)&&l||n(t)&&m)&&(z=!1),z&&(l&&(v=0),m&&(x=0)),e=Math.abs(x-v),f=g=.1*e,void 0!==y&&(h=Math.max(Math.abs(v),Math.abs(x)),x=y+h,v=y-h),B?(i=o.getDataLabelLength(v,x,"width"),j=u(o.y.range()),k=[i[0]/j,i[1]/j],f+=e*(k[1]/(1-k[0]-k[1])),g+=e*(k[0]/(1-k[0]-k[1]))):C&&(i=o.getDataLabelLength(v,x,"height"),f+=o.axis.convertPixelsToAxisPadding(i[1],e),g+=o.axis.convertPixelsToAxisPadding(i[0],e)),"y"===b&&w(p.axis_y_padding)&&(f=o.axis.getPadding(p.axis_y_padding,"top",f,e),g=o.axis.getPadding(p.axis_y_padding,"bottom",g,e)),"y2"===b&&w(p.axis_y2_padding)&&(f=o.axis.getPadding(p.axis_y2_padding,"top",f,e),g=o.axis.getPadding(p.axis_y2_padding,"bottom",g,e)),z&&(l&&(g=v),m&&(f=-x)),d=[v-g,x+f],A?d.reverse():d)},k.getXDomainMin=function(a){var b=this,c=b.config;return r(c.axis_x_min)?b.isTimeSeries()?this.parseDate(c.axis_x_min):c.axis_x_min:b.d3.min(a,function(a){return b.d3.min(a.values,function(a){return a.x})})},k.getXDomainMax=function(a){var b=this,c=b.config;return r(c.axis_x_max)?b.isTimeSeries()?this.parseDate(c.axis_x_max):c.axis_x_max:b.d3.max(a,function(a){return b.d3.max(a.values,function(a){return a.x})})},k.getXDomainPadding=function(a){var b,c,d,e,f=this,g=f.config,h=a[1]-a[0];return f.isCategorized()?c=0:f.hasType("bar")?(b=f.getMaxDataCount(),c=b>1?h/(b-1)/2:.5):c=.01*h,"object"===_typeof(g.axis_x_padding)&&w(g.axis_x_padding)?(d=n(g.axis_x_padding.left)?g.axis_x_padding.left:c,e=n(g.axis_x_padding.right)?g.axis_x_padding.right:c):d=e="number"==typeof g.axis_x_padding?g.axis_x_padding:c,{left:d,right:e}},k.getXDomain=function(a){var b=this,c=[b.getXDomainMin(a),b.getXDomainMax(a)],d=c[0],e=c[1],f=b.getXDomainPadding(c),g=0,h=0;return d-e!=0||b.isCategorized()||(b.isTimeSeries()?(d=new Date(.5*d.getTime()),e=new Date(1.5*e.getTime())):(d=0===d?1:.5*d,e=0===e?-1:1.5*e)),(d||0===d)&&(g=b.isTimeSeries()?new Date(d.getTime()-f.left):d-f.left),(e||0===e)&&(h=b.isTimeSeries()?new Date(e.getTime()+f.right):e+f.right),[g,h]},k.updateXDomain=function(a,b,c,d,e){var f=this,g=f.config;return c&&(f.x.domain(e||f.d3.extent(f.getXDomain(a))),f.orgXDomain=f.x.domain(),g.zoom_enabled&&f.zoom.scale(f.x).updateScaleExtent(),f.subX.domain(f.x.domain()),f.brush&&f.brush.scale(f.subX)),b&&(f.x.domain(e||(!f.brush||f.brush.empty()?f.orgXDomain:f.brush.extent())),g.zoom_enabled&&f.zoom.scale(f.x).updateScaleExtent()),d&&f.x.domain(f.trimXDomain(f.x.orgDomain())),f.x.domain()},k.trimXDomain=function(a){var b=this.getZoomDomain(),c=b[0],d=b[1];return a[0]<=c&&(a[1]=+a[1]+(c-a[0]),a[0]=c),d<=a[1]&&(a[0]=+a[0]-(a[1]-d),a[1]=d),a},k.isX=function(a){var b=this,c=b.config;return c.data_x&&a===c.data_x||w(c.data_xs)&&y(c.data_xs,a)},k.isNotX=function(a){return!this.isX(a)},k.getXKey=function(a){var b=this,c=b.config;return c.data_x?c.data_x:w(c.data_xs)?c.data_xs[a]:null},k.getXValuesOfXKey=function(a,b){var c,d=this;return(b&&w(b)?d.mapToIds(b):[]).forEach(function(b){d.getXKey(b)===a&&(c=d.data.xs[b])}),c},k.getIndexByX=function(a){var b=this,c=b.filterByX(b.data.targets,a);return c.length?c[0].index:null},k.getXValue=function(a,b){var c=this;return a in c.data.xs&&c.data.xs[a]&&n(c.data.xs[a][b])?c.data.xs[a][b]:b},k.getOtherTargetXs=function(){var a=this,b=Object.keys(a.data.xs);return b.length?a.data.xs[b[0]]:null},k.getOtherTargetX=function(a){var b=this.getOtherTargetXs();return b&&a<b.length?b[a]:null},k.addXs=function(a){var b=this;Object.keys(a).forEach(function(c){b.config.data_xs[c]=a[c]})},k.hasMultipleX=function(a){return this.d3.set(Object.keys(a).map(function(b){return a[b]})).size()>1},k.isMultipleX=function(){return w(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")},k.addName=function(a){var b,c=this;return a&&(b=c.config.data_names[a.id],a.name=void 0!==b?b:a.id),a},k.getValueOnIndex=function(a,b){var c=a.filter(function(a){return a.index===b});return c.length?c[0]:null},k.updateTargetX=function(a,b){var c=this;a.forEach(function(a){a.values.forEach(function(d,e){d.x=c.generateTargetX(b[e],a.id,e)}),c.data.xs[a.id]=b})},k.updateTargetXs=function(a,b){var c=this;a.forEach(function(a){b[a.id]&&c.updateTargetX([a],b[a.id])})},k.generateTargetX=function(a,b,c){var d=this;return d.isTimeSeries()?a?d.parseDate(a):d.parseDate(d.getXValue(b,c)):d.isCustomX()&&!d.isCategorized()?n(a)?+a:d.getXValue(b,c):c},k.cloneTarget=function(a){return{id:a.id,id_org:a.id_org,values:a.values.map(function(a){return{x:a.x,value:a.value,id:a.id}})}},k.updateXs=function(){var a=this;a.data.targets.length&&(a.xs=[],a.data.targets[0].values.forEach(function(b){a.xs[b.index]=b.x}))},k.getPrevX=function(a){var b=this.xs[a-1];return void 0!==b?b:null},k.getNextX=function(a){var b=this.xs[a+1];return void 0!==b?b:null},k.getMaxDataCount=function(){var a=this;return a.d3.max(a.data.targets,function(a){return a.values.length})},k.getMaxDataCountTarget=function(a){var b,c=a.length,d=0;return c>1?a.forEach(function(a){a.values.length>d&&(b=a,d=a.values.length)}):b=c?a[0]:null,b},k.getEdgeX=function(a){var b=this;return a.length?[b.d3.min(a,function(a){return a.values[0].x}),b.d3.max(a,function(a){return a.values[a.values.length-1].x})]:[0,0]},k.mapToIds=function(a){return a.map(function(a){return a.id})},k.mapToTargetIds=function(a){var b=this;return a?[].concat(a):b.mapToIds(b.data.targets)},k.hasTarget=function(a,b){var c,d=this.mapToIds(a);for(c=0;c<d.length;c++)if(d[c]===b)return!0;return!1},k.isTargetToShow=function(a){return this.hiddenTargetIds.indexOf(a)<0},k.isLegendToShow=function(a){return this.hiddenLegendIds.indexOf(a)<0},k.filterTargetsToShow=function(a){var b=this;return a.filter(function(a){return b.isTargetToShow(a.id)})},k.mapTargetsToUniqueXs=function(a){var b=this,c=b.d3.set(b.d3.merge(a.map(function(a){return a.values.map(function(a){return+a.x})}))).values();return c=b.isTimeSeries()?c.map(function(a){return new Date(+a)}):c.map(function(a){return+a}),c.sort(function(a,b){return b>a?-1:a>b?1:a>=b?0:NaN})},k.addHiddenTargetIds=function(a){this.hiddenTargetIds=this.hiddenTargetIds.concat(a)},k.removeHiddenTargetIds=function(a){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(b){return a.indexOf(b)<0})},k.addHiddenLegendIds=function(a){this.hiddenLegendIds=this.hiddenLegendIds.concat(a)},k.removeHiddenLegendIds=function(a){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(b){return a.indexOf(b)<0})},k.getValuesAsIdKeyed=function(a){var b={};return a.forEach(function(a){b[a.id]=[],a.values.forEach(function(c){b[a.id].push(c.value)})}),b},k.checkValueInTargets=function(a,b){var c,d,e,f=Object.keys(a);for(c=0;c<f.length;c++)for(e=a[f[c]].values,d=0;d<e.length;d++)if(b(e[d].value))return!0;return!1},k.hasNegativeValueInTargets=function(a){return this.checkValueInTargets(a,function(a){return 0>a})},k.hasPositiveValueInTargets=function(a){return this.checkValueInTargets(a,function(a){return a>0})},k.isOrderDesc=function(){var a=this.config;return"string"==typeof a.data_order&&"desc"===a.data_order.toLowerCase()},k.isOrderAsc=function(){var a=this.config;return"string"==typeof a.data_order&&"asc"===a.data_order.toLowerCase()},k.orderTargets=function(a){var b=this,c=b.config,d=b.isOrderAsc(),e=b.isOrderDesc();return d||e?a.sort(function(a,b){var c=function(a,b){return a+Math.abs(b.value)},e=a.values.reduce(c,0),f=b.values.reduce(c,0);return d?f-e:e-f}):o(c.data_order)&&a.sort(c.data_order),a},k.filterByX=function(a,b){return this.d3.merge(a.map(function(a){return a.values})).filter(function(a){return a.x-b==0})},k.filterRemoveNull=function(a){return a.filter(function(a){return n(a.value)})},k.filterByXDomain=function(a,b){return a.map(function(a){return{id:a.id,id_org:a.id_org,values:a.values.filter(function(a){return b[0]<=a.x&&a.x<=b[1]})}})},k.hasDataLabel=function(){var a=this.config;return!("boolean"!=typeof a.data_labels||!a.data_labels)||!("object"!==_typeof(a.data_labels)||!w(a.data_labels))},k.getDataLabelLength=function(a,b,c){var d=this,e=[0,0];return d.selectChart.select("svg").selectAll(".dummy").data([a,b]).enter().append("text").text(function(a){return d.dataLabelFormat(a.id)(a)}).each(function(a,b){e[b]=1.3*this.getBoundingClientRect()[c]}).remove(),e},k.isNoneArc=function(a){return this.hasTarget(this.data.targets,a.id)},k.isArc=function(a){return"data"in a&&this.hasTarget(this.data.targets,a.data.id)},k.findSameXOfValues=function(a,b){var c,d=a[b].x,e=[];for(c=b-1;c>=0&&d===a[c].x;c--)e.push(a[c]);for(c=b;c<a.length&&d===a[c].x;c++)e.push(a[c]);return e},k.findClosestFromTargets=function(a,b){var c,d=this;return c=a.map(function(a){return d.findClosest(a.values,b)}),d.findClosest(c,b)},k.findClosest=function(a,b){var c,d=this,e=d.config.point_sensitivity;return a.filter(function(a){return a&&d.isBarType(a.id)}).forEach(function(a){var b=d.main.select("."+m.bars+d.getTargetSelectorSuffix(a.id)+" ."+m.bar+"-"+a.index).node();!c&&d.isWithinBar(b)&&(c=a)}),a.filter(function(a){return a&&!d.isBarType(a.id)}).forEach(function(a){var f=d.dist(a,b);e>f&&(e=f,c=a)}),c},k.dist=function(a,b){var c=this,d=c.config,e=d.axis_rotated?1:0,f=d.axis_rotated?0:1,g=c.circleY(a,a.index),h=c.x(a.x);return Math.sqrt(Math.pow(h-b[e],2)+Math.pow(g-b[f],2))},k.convertValuesToStep=function(a){var b,c=[].concat(a);if(!this.isCategorized())return a;for(b=a.length+1;b>0;b--)c[b]=c[b-1];return c[0]={x:c[0].x-1,value:c[0].value,id:c[0].id},c[a.length+1]={x:c[a.length].x+1,value:c[a.length].value,id:c[a.length].id},c},k.updateDataAttributes=function(a,b){var c=this,d=c.config,e=d["data_"+a];return void 0===b?e:(Object.keys(b).forEach(function(a){e[a]=b[a]}),c.redraw({withLegend:!0}),e)},k.convertUrlToData=function(a,b,c,d){var e=this,f=b||"csv";e.d3.xhr(a,function(a,b){var g;if(!b)throw new Error(a.responseURL+" "+a.status+" ("+a.statusText+")");g="json"===f?e.convertJsonToData(JSON.parse(b.response),c):"tsv"===f?e.convertTsvToData(b.response):e.convertCsvToData(b.response),d.call(e,g)})},k.convertXsvToData=function(a,b){var c,d=b.parseRows(a);return 1===d.length?(c=[{}],d[0].forEach(function(a){c[0][a]=null})):c=b.parse(a),c},k.convertCsvToData=function(a){return this.convertXsvToData(a,this.d3.csv)},k.convertTsvToData=function(a){return this.convertXsvToData(a,this.d3.tsv)},k.convertJsonToData=function(a,b){var c,d,e=this,f=[];return b?(b.x?(c=b.value.concat(b.x),e.config.data_x=b.x):c=b.value,f.push(c),a.forEach(function(a){var b=[];c.forEach(function(c){var d=q(a[c])?null:a[c];b.push(d)}),f.push(b)}),d=e.convertRowsToData(f)):(Object.keys(a).forEach(function(b){f.push([b].concat(a[b]))}),d=e.convertColumnsToData(f)),d},k.convertRowsToData=function(a){var b,c,d=a[0],e={},f=[];for(b=1;b<a.length;b++){for(e={},c=0;c<a[b].length;c++){if(q(a[b][c]))throw new Error("Source data is missing a component at ("+b+","+c+")!");e[d[c]]=a[b][c]}f.push(e)}return f},k.convertColumnsToData=function(a){var b,c,d,e=[];for(b=0;b<a.length;b++)for(d=a[b][0],c=1;c<a[b].length;c++){if(q(e[c-1])&&(e[c-1]={}),q(a[b][c]))throw new Error("Source data is missing a component at ("+b+","+c+")!");e[c-1][d]=a[b][c]}return e},k.convertDataToTargets=function(a,b){var c,d=this,e=d.config,f=d.d3.keys(a[0]).filter(d.isNotX,d),g=d.d3.keys(a[0]).filter(d.isX,d);return f.forEach(function(c){var f=d.getXKey(c);d.isCustomX()||d.isTimeSeries()?g.indexOf(f)>=0?d.data.xs[c]=(b&&d.data.xs[c]?d.data.xs[c]:[]).concat(a.map(function(a){return a[f]}).filter(n).map(function(a,b){return d.generateTargetX(a,c,b)})):e.data_x?d.data.xs[c]=d.getOtherTargetXs():w(e.data_xs)&&(d.data.xs[c]=d.getXValuesOfXKey(f,d.data.targets)):d.data.xs[c]=a.map(function(a,b){return b})}),f.forEach(function(a){if(!d.data.xs[a])throw new Error('x is not defined for id = "'+a+'".')}),c=f.map(function(b,c){var f=e.data_idConverter(b);return{id:f,id_org:b,values:a.map(function(a,g){var h=d.getXKey(b),i=a[h],j=d.generateTargetX(i,b,g),k=null===a[b]||isNaN(a[b])?null:+a[b];return d.isCustomX()&&d.isCategorized()&&0===c&&i&&(0===g&&(e.axis_x_categories=[]),e.axis_x_categories.push(i)),(q(a[b])||d.data.xs[b].length<=g)&&(j=void 0),{x:j,value:k,id:f}}).filter(function(a){return r(a.x)})}}),c.forEach(function(a){var b;e.data_xSort&&(a.values=a.values.sort(function(a,b){return(a.x||0===a.x?a.x:1/0)-(b.x||0===b.x?b.x:1/0)})),b=0,a.values.forEach(function(a){a.index=b++}),d.data.xs[a.id].sort(function(a,b){return a-b})}),d.hasNegativeValue=d.hasNegativeValueInTargets(c),d.hasPositiveValue=d.hasPositiveValueInTargets(c),e.data_type&&d.setTargetType(d.mapToIds(c).filter(function(a){return!(a in e.data_types)}),e.data_type),c.forEach(function(a){d.addCache(a.id_org,a)}),c},k.load=function(a,b){var c=this;a&&(b.filter&&(a=a.filter(b.filter)),(b.type||b.types)&&a.forEach(function(a){var d=b.types&&b.types[a.id]?b.types[a.id]:b.type;c.setTargetType(a.id,d)}),c.data.targets.forEach(function(b){for(var c=0;c<a.length;c++)if(b.id===a[c].id){b.values=a[c].values,a.splice(c,1);break}}),c.data.targets=c.data.targets.concat(a)),c.updateTargets(c.data.targets),c.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),b.done&&b.done()},k.loadFromArgs=function(a){var b=this;a.data?b.load(b.convertDataToTargets(a.data),a):a.url?b.convertUrlToData(a.url,a.mimeType,a.keys,function(c){b.load(b.convertDataToTargets(c),a)}):a.json?b.load(b.convertDataToTargets(b.convertJsonToData(a.json,a.keys)),a):a.rows?b.load(b.convertDataToTargets(b.convertRowsToData(a.rows)),a):a.columns?b.load(b.convertDataToTargets(b.convertColumnsToData(a.columns)),a):b.load(null,a)},k.unload=function(a,b){var c=this;return b||(b=function(){}),(a=a.filter(function(a){return c.hasTarget(c.data.targets,a)}))&&0!==a.length?(c.svg.selectAll(a.map(function(a){return c.selectorTarget(a)})).transition().style("opacity",0).remove().call(c.endall,b),void a.forEach(function(a){c.withoutFadeIn[a]=!1,c.legend&&c.legend.selectAll("."+m.legendItem+c.getTargetSelectorSuffix(a)).remove(),c.data.targets=c.data.targets.filter(function(b){return b.id!==a})})):void b()},k.categoryName=function(a){var b=this.config;return a<b.axis_x_categories.length?b.axis_x_categories[a]:a},k.initEventRect=function(){this.main.select("."+m.chart).append("g").attr("class",m.eventRects).style("fill-opacity",0)},k.redrawEventRect=function(){var a,b,c=this,d=c.config,e=c.isMultipleX(),f=c.main.select("."+m.eventRects).style("cursor",d.zoom_enabled?d.axis_rotated?"ns-resize":"ew-resize":null).classed(m.eventRectsMultiple,e).classed(m.eventRectsSingle,!e);f.selectAll("."+m.eventRect).remove(),c.eventRect=f.selectAll("."+m.eventRect),e?(a=c.eventRect.data([0]),c.generateEventRectsForMultipleXs(a.enter()),c.updateEventRect(a)):(b=c.getMaxDataCountTarget(c.data.targets),f.datum(b?b.values:[]),c.eventRect=f.selectAll("."+m.eventRect),a=c.eventRect.data(function(a){return a}),c.generateEventRectsForSingleX(a.enter()),c.updateEventRect(a),a.exit().remove())},k.updateEventRect=function(a){var b,c,d,e,f,g,h=this,i=h.config;a=a||h.eventRect.data(function(a){return a}),h.isMultipleX()?(b=0,c=0,d=h.width,e=h.height):(!h.isCustomX()&&!h.isTimeSeries()||h.isCategorized()?(f=h.getEventRectWidth(),g=function(a){return h.x(a.x)-f/2}):(h.updateXs(),f=function(a){var b=h.getPrevX(a.index),c=h.getNextX(a.index);return null===b&&null===c?i.axis_rotated?h.height:h.width:(null===b&&(b=h.x.domain()[0]),null===c&&(c=h.x.domain()[1]),Math.max(0,(h.x(c)-h.x(b))/2))},g=function(a){var b=h.getPrevX(a.index),c=h.getNextX(a.index),d=h.data.xs[a.id][a.index];return null===b&&null===c?0:(null===b&&(b=h.x.domain()[0]),(h.x(d)+h.x(b))/2)}),b=i.axis_rotated?0:g,c=i.axis_rotated?g:0,d=i.axis_rotated?h.width:f,e=i.axis_rotated?f:h.height),a.attr("class",h.classEvent.bind(h)).attr("x",b).attr("y",c).attr("width",d).attr("height",e)},k.generateEventRectsForSingleX=function(a){var b=this,c=b.d3,d=b.config;a.append("rect").attr("class",b.classEvent.bind(b)).style("cursor",d.data_selection_enabled&&d.data_selection_grouped?"pointer":null).on("mouseover",function(a){var c=a.index;b.dragging||b.flowing||b.hasArcType()||(d.point_focus_expand_enabled&&b.expandCircles(c,null,!0),b.expandBars(c,null,!0),b.main.selectAll("."+m.shape+"-"+c).each(function(a){d.data_onmouseover.call(b.api,a)}))}).on("mouseout",function(a){var c=a.index;b.config&&(b.hasArcType()||(b.hideXGridFocus(),b.hideTooltip(),b.unexpandCircles(),b.unexpandBars(),b.main.selectAll("."+m.shape+"-"+c).each(function(a){d.data_onmouseout.call(b.api,a)})))}).on("mousemove",function(a){var e,f=a.index,g=b.svg.select("."+m.eventRect+"-"+f);b.dragging||b.flowing||b.hasArcType()||(b.isStepType(a)&&"step-after"===b.config.line_step_type&&c.mouse(this)[0]<b.x(b.getXValue(a.id,f))&&(f-=1),e=b.filterTargetsToShow(b.data.targets).map(function(a){return b.addName(b.getValueOnIndex(a.values,f))}),d.tooltip_grouped&&(b.showTooltip(e,this),b.showXGridFocus(e)),(!d.tooltip_grouped||d.data_selection_enabled&&!d.data_selection_grouped)&&b.main.selectAll("."+m.shape+"-"+f).each(function(){c.select(this).classed(m.EXPANDED,!0),d.data_selection_enabled&&g.style("cursor",d.data_selection_grouped?"pointer":null),d.tooltip_grouped||(b.hideXGridFocus(),b.hideTooltip(),d.data_selection_grouped||(b.unexpandCircles(f),b.unexpandBars(f)))}).filter(function(a){return b.isWithinShape(this,a)}).each(function(a){d.data_selection_enabled&&(d.data_selection_grouped||d.data_selection_isselectable(a))&&g.style("cursor","pointer"),d.tooltip_grouped||(b.showTooltip([a],this),b.showXGridFocus([a]),d.point_focus_expand_enabled&&b.expandCircles(f,a.id,!0),b.expandBars(f,a.id,!0))}))}).on("click",function(a){var e=a.index;if(!b.hasArcType()&&b.toggleShape){if(b.cancelClick)return void(b.cancelClick=!1);b.isStepType(a)&&"step-after"===d.line_step_type&&c.mouse(this)[0]<b.x(b.getXValue(a.id,e))&&(e-=1),b.main.selectAll("."+m.shape+"-"+e).each(function(a){(d.data_selection_grouped||b.isWithinShape(this,a))&&(b.toggleShape(this,a,e),b.config.data_onclick.call(b.api,a,this))})}}).call(d.data_selection_draggable&&b.drag?c.behavior.drag().origin(Object).on("drag",function(){b.drag(c.mouse(this))}).on("dragstart",function(){b.dragstart(c.mouse(this))}).on("dragend",function(){b.dragend()}):function(){})},k.generateEventRectsForMultipleXs=function(a){function b(){c.svg.select("."+m.eventRect).style("cursor",null),c.hideXGridFocus(),c.hideTooltip(),c.unexpandCircles(),c.unexpandBars()}var c=this,d=c.d3,e=c.config;a.append("rect").attr("x",0).attr("y",0).attr("width",c.width).attr("height",c.height).attr("class",m.eventRect).on("mouseout",function(){c.config&&(c.hasArcType()||b())}).on("mousemove",function(){var a,f,g,h,i=c.filterTargetsToShow(c.data.targets);if(!c.dragging&&!c.hasArcType(i)){if(a=d.mouse(this),f=c.findClosestFromTargets(i,a),!c.mouseover||f&&f.id===c.mouseover.id||(e.data_onmouseout.call(c.api,c.mouseover),c.mouseover=void 0),!f)return void b();g=c.isScatterType(f)||!e.tooltip_grouped?[f]:c.filterByX(i,f.x),h=g.map(function(a){return c.addName(a)}),c.showTooltip(h,this),e.point_focus_expand_enabled&&c.expandCircles(f.index,f.id,!0),c.expandBars(f.index,f.id,!0),c.showXGridFocus(h),(c.isBarType(f.id)||c.dist(f,a)<e.point_sensitivity)&&(c.svg.select("."+m.eventRect).style("cursor","pointer"),c.mouseover||(e.data_onmouseover.call(c.api,f),c.mouseover=f))}}).on("click",function(){var a,b,f=c.filterTargetsToShow(c.data.targets);c.hasArcType(f)||(a=d.mouse(this),(b=c.findClosestFromTargets(f,a))&&(c.isBarType(b.id)||c.dist(b,a)<e.point_sensitivity)&&c.main.selectAll("."+m.shapes+c.getTargetSelectorSuffix(b.id)).selectAll("."+m.shape+"-"+b.index).each(function(){(e.data_selection_grouped||c.isWithinShape(this,b))&&(c.toggleShape(this,b,b.index),c.config.data_onclick.call(c.api,b,this))}))}).call(e.data_selection_draggable&&c.drag?d.behavior.drag().origin(Object).on("drag",function(){c.drag(d.mouse(this))}).on("dragstart",function(){c.dragstart(d.mouse(this))}).on("dragend",function(){c.dragend()}):function(){})},k.dispatchEvent=function(a,b,c){var e=this,f="."+m.eventRect+(e.isMultipleX()?"":"-"+b),g=e.main.select(f).node(),h=g.getBoundingClientRect(),i=h.left+(c?c[0]:0),j=h.top+(c?c[1]:0),k=document.createEvent("MouseEvents");k.initMouseEvent(a,!0,!0,d,0,i,j,i,j,!1,!1,!1,!1,0,null),g.dispatchEvent(k)},k.getCurrentWidth=function(){var a=this,b=a.config;return b.size_width?b.size_width:a.getParentWidth()},k.getCurrentHeight=function(){var a=this,b=a.config,c=b.size_height?b.size_height:a.getParentHeight();return c>0?c:320/(a.hasType("gauge")&&!b.gauge_fullCircle?2:1)},k.getCurrentPaddingTop=function(){var a=this,b=a.config,c=n(b.padding_top)?b.padding_top:0;return a.title&&a.title.node()&&(c+=a.getTitlePadding()),c},k.getCurrentPaddingBottom=function(){var a=this.config;return n(a.padding_bottom)?a.padding_bottom:0},k.getCurrentPaddingLeft=function(a){var b=this,c=b.config;return n(c.padding_left)?c.padding_left:c.axis_rotated?c.axis_x_show?Math.max(s(b.getAxisWidthByAxisId("x",a)),40):1:!c.axis_y_show||c.axis_y_inner?b.axis.getYAxisLabelPosition().isOuter?30:1:s(b.getAxisWidthByAxisId("y",a))},k.getCurrentPaddingRight=function(){var a=this,b=a.config,c=a.isLegendRight?a.getLegendWidth()+20:0;return n(b.padding_right)?b.padding_right+1:b.axis_rotated?10+c:!b.axis_y2_show||b.axis_y2_inner?2+c+(a.axis.getY2AxisLabelPosition().isOuter?20:0):s(a.getAxisWidthByAxisId("y2"))+c},k.getParentRectValue=function(a){for(var b,c=this.selectChart.node();c&&"BODY"!==c.tagName;){try{b=c.getBoundingClientRect()[a]}catch(d){"width"===a&&(b=c.offsetWidth)}if(b)break;c=c.parentNode}return b},k.getParentWidth=function(){return this.getParentRectValue("width")},k.getParentHeight=function(){var a=this.selectChart.style("height");return a.indexOf("px")>0?+a.replace("px",""):0},k.getSvgLeft=function(a){var b=this,c=b.config,d=c.axis_rotated||!c.axis_rotated&&!c.axis_y_inner,e=c.axis_rotated?m.axisX:m.axisY,f=b.main.select("."+e).node(),g=f&&d?f.getBoundingClientRect():{right:0},h=b.selectChart.node().getBoundingClientRect(),i=b.hasArcType(),j=g.right-h.left-(i?0:b.getCurrentPaddingLeft(a));return j>0?j:0},k.getAxisWidthByAxisId=function(a,b){var c=this,d=c.axis.getLabelPositionById(a);return c.axis.getMaxTickWidth(a,b)+(d.isInner?20:40)},k.getHorizontalAxisHeight=function(a){var b=this,c=b.config,d=30;return"x"!==a||c.axis_x_show?"x"===a&&c.axis_x_height?c.axis_x_height:"y"!==a||c.axis_y_show?"y2"!==a||c.axis_y2_show?("x"===a&&!c.axis_rotated&&c.axis_x_tick_rotate&&(d=30+b.axis.getMaxTickWidth(a)*Math.cos(Math.PI*(90-c.axis_x_tick_rotate)/180)),d+(b.axis.getLabelPositionById(a).isInner?0:10)+("y2"===a?-10:0)):b.rotated_padding_top:!c.legend_show||b.isLegendRight||b.isLegendInset?1:10:8},k.getEventRectWidth=function(){return Math.max(0,this.xAxis.tickInterval())},k.getShapeIndices=function(a){var b,c,d=this,e=d.config,f={},g=0;return d.filterTargetsToShow(d.data.targets.filter(a,d)).forEach(function(a){for(b=0;b<e.data_groups.length;b++)if(!(e.data_groups[b].indexOf(a.id)<0))for(c=0;c<e.data_groups[b].length;c++)if(e.data_groups[b][c]in f){f[a.id]=f[e.data_groups[b][c]];break}q(f[a.id])&&(f[a.id]=g++)}),f.__max__=g-1,f},k.getShapeX=function(a,b,c,d){var e=this,f=d?e.subX:e.x;return function(d){var e=d.id in c?c[d.id]:0;return d.x||0===d.x?f(d.x)-a*(b/2-e):0}},k.getShapeY=function(a){var b=this;return function(c){return(a?b.getSubYScale(c.id):b.getYScale(c.id))(c.value)}},k.getShapeOffset=function(a,b,c){var d=this,e=d.orderTargets(d.filterTargetsToShow(d.data.targets.filter(a,d))),f=e.map(function(a){return a.id});return function(a,g){var h=c?d.getSubYScale(a.id):d.getYScale(a.id),i=h(0),j=i;return e.forEach(function(c){var e=d.isStepType(a)?d.convertValuesToStep(c.values):c.values;c.id!==a.id&&b[c.id]===b[a.id]&&f.indexOf(c.id)<f.indexOf(a.id)&&(void 0!==e[g]&&+e[g].x==+a.x||(g=-1,e.forEach(function(b,c){b.x===a.x&&(g=c)})),g in e&&e[g].value*a.value>=0&&(j+=h(e[g].value)-i))}),j}},k.isWithinShape=function(a,b){var c,d=this,e=d.d3.select(a);return d.isTargetToShow(b.id)?"circle"===a.nodeName?c=d.isStepType(b)?d.isWithinStep(a,d.getYScale(b.id)(b.value)):d.isWithinCircle(a,1.5*d.pointSelectR(b)):"path"===a.nodeName&&(c=!e.classed(m.bar)||d.isWithinBar(a)):c=!1,c},k.getInterpolate=function(a){var b=this,c=b.isInterpolationType(b.config.spline_interpolation_type)?b.config.spline_interpolation_type:"cardinal";return b.isSplineType(a)?c:b.isStepType(a)?b.config.line_step_type:"linear"},k.initLine=function(){this.main.select("."+m.chart).append("g").attr("class",m.chartLines)},k.updateTargetsForLine=function(a){var b,c,d=this,e=d.config,f=d.classChartLine.bind(d),g=d.classLines.bind(d),h=d.classAreas.bind(d),i=d.classCircles.bind(d),j=d.classFocus.bind(d);b=d.main.select("."+m.chartLines).selectAll("."+m.chartLine).data(a).attr("class",function(a){return f(a)+j(a)}),c=b.enter().append("g").attr("class",f).style("opacity",0).style("pointer-events","none"),c.append("g").attr("class",g),c.append("g").attr("class",h),c.append("g").attr("class",function(a){return d.generateClass(m.selectedCircles,a.id)}),c.append("g").attr("class",i).style("cursor",function(a){return e.data_selection_isselectable(a)?"pointer":null}),a.forEach(function(a){d.main.selectAll("."+m.selectedCircles+d.getTargetSelectorSuffix(a.id)).selectAll("."+m.selectedCircle).each(function(b){b.value=a.values[b.index].value})})},k.updateLine=function(a){var b=this;b.mainLine=b.main.selectAll("."+m.lines).selectAll("."+m.line).data(b.lineData.bind(b)),b.mainLine.enter().append("path").attr("class",b.classLine.bind(b)).style("stroke",b.color),b.mainLine.style("opacity",b.initialOpacity.bind(b)).style("shape-rendering",function(a){return b.isStepType(a)?"crispEdges":""}).attr("transform",null),b.mainLine.exit().transition().duration(a).style("opacity",0).remove()},k.redrawLine=function(a,b){return[(b?this.mainLine.transition(Math.random().toString()):this.mainLine).attr("d",a).style("stroke",this.color).style("opacity",1)]},k.generateDrawLine=function(a,b){var c=this,d=c.config,e=c.d3.svg.line(),f=c.generateGetLinePoints(a,b),g=b?c.getSubYScale:c.getYScale,h=function(a){return(b?c.subxx:c.xx).call(c,a)},i=function(a,b){return d.data_groups.length>0?f(a,b)[0][1]:g.call(c,a.id)(a.value)};return e=d.axis_rotated?e.x(i).y(h):e.x(h).y(i),d.line_connectNull||(e=e.defined(function(a){return null!=a.value})),function(a){var f,h=d.line_connectNull?c.filterRemoveNull(a.values):a.values,i=b?c.x:c.subX,j=g.call(c,a.id),k=0,l=0;return c.isLineType(a)?d.data_regions[a.id]?f=c.lineWithRegions(h,i,j,d.data_regions[a.id]):(c.isStepType(a)&&(h=c.convertValuesToStep(h)),f=e.interpolate(c.getInterpolate(a))(h)):(h[0]&&(k=i(h[0].x),l=j(h[0].value)),f=d.axis_rotated?"M "+l+" "+k:"M "+k+" "+l),f||"M 0 0"}},k.generateGetLinePoints=function(a,b){var c=this,d=c.config,e=a.__max__+1,f=c.getShapeX(0,e,a,!!b),g=c.getShapeY(!!b),h=c.getShapeOffset(c.isLineType,a,!!b),i=b?c.getSubYScale:c.getYScale;return function(a,b){var e=i.call(c,a.id)(0),j=h(a,b)||e,k=f(a),l=g(a);return d.axis_rotated&&(0<a.value&&e>l||a.value<0&&l>e)&&(l=e),[[k,l-(e-j)],[k,l-(e-j)],[k,l-(e-j)],[k,l-(e-j)]]}},k.lineWithRegions=function(a,b,c,d){function e(a){return"M"+a[0][0]+" "+a[0][1]+" "+a[1][0]+" "+a[1][1]}var f,g,h,i,j,k,l,m,n,o,p,s,t=this,u=t.config,v="M",w=t.isCategorized()?.5:0,x=[];if(r(d))for(f=0;f<d.length;f++)x[f]={},q(d[f].start)?x[f].start=a[0].x:x[f].start=t.isTimeSeries()?t.parseDate(d[f].start):d[f].start,q(d[f].end)?x[f].end=a[a.length-1].x:x[f].end=t.isTimeSeries()?t.parseDate(d[f].end):d[f].end;for(p=u.axis_rotated?function(a){return c(a.value)}:function(a){return b(a.x)},s=u.axis_rotated?function(a){return b(a.x)}:function(a){return c(a.value)},h=t.isTimeSeries()?function(a,d,f,g){var h,i=a.x.getTime(),k=d.x-a.x,l=new Date(i+k*f),m=new Date(i+k*(f+g));return h=u.axis_rotated?[[c(j(f)),b(l)],[c(j(f+g)),b(m)]]:[[b(l),c(j(f))],[b(m),c(j(f+g))]],e(h)}:function(a,d,f,g){var h;return h=u.axis_rotated?[[c(j(f),!0),b(i(f))],[c(j(f+g),!0),b(i(f+g))]]:[[b(i(f),!0),c(j(f))],[b(i(f+g),!0),c(j(f+g))]],e(h)},f=0;f<a.length;f++){if(q(x)||!function(a,b){var c;for(c=0;c<b.length;c++)if(b[c].start<a&&a<=b[c].end)return!0;return!1}(a[f].x,x))v+=" "+p(a[f])+" "+s(a[f]);else for(i=t.getScale(a[f-1].x+w,a[f].x+w,t.isTimeSeries()),j=t.getScale(a[f-1].value,a[f].value),k=b(a[f].x)-b(a[f-1].x),l=c(a[f].value)-c(a[f-1].value),m=Math.sqrt(Math.pow(k,2)+Math.pow(l,2)),n=2/m,o=2*n,g=n;1>=g;g+=o)v+=h(a[f-1],a[f],g,n);a[f].x}return v},k.updateArea=function(a){var b=this,c=b.d3;b.mainArea=b.main.selectAll("."+m.areas).selectAll("."+m.area).data(b.lineData.bind(b)),b.mainArea.enter().append("path").attr("class",b.classArea.bind(b)).style("fill",b.color).style("opacity",function(){return b.orgAreaOpacity=+c.select(this).style("opacity"),0}),b.mainArea.style("opacity",b.orgAreaOpacity),b.mainArea.exit().transition().duration(a).style("opacity",0).remove();
},k.redrawArea=function(a,b){return[(b?this.mainArea.transition(Math.random().toString()):this.mainArea).attr("d",a).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},k.generateDrawArea=function(a,b){var c=this,d=c.config,e=c.d3.svg.area(),f=c.generateGetAreaPoints(a,b),g=b?c.getSubYScale:c.getYScale,h=function(a){return(b?c.subxx:c.xx).call(c,a)},i=function(a,b){return d.data_groups.length>0?f(a,b)[0][1]:g.call(c,a.id)(c.getAreaBaseValue(a.id))},j=function(a,b){return d.data_groups.length>0?f(a,b)[1][1]:g.call(c,a.id)(a.value)};return e=d.axis_rotated?e.x0(i).x1(j).y(h):e.x(h).y0(i).y1(j),d.line_connectNull||(e=e.defined(function(a){return null!==a.value})),function(a){var b,f=d.line_connectNull?c.filterRemoveNull(a.values):a.values,g=0,h=0;return c.isAreaType(a)?(c.isStepType(a)&&(f=c.convertValuesToStep(f)),b=e.interpolate(c.getInterpolate(a))(f)):(f[0]&&(g=c.x(f[0].x),h=c.getYScale(a.id)(f[0].value)),b=d.axis_rotated?"M "+h+" "+g:"M "+g+" "+h),b||"M 0 0"}},k.getAreaBaseValue=function(){return 0},k.generateGetAreaPoints=function(a,b){var c=this,d=c.config,e=a.__max__+1,f=c.getShapeX(0,e,a,!!b),g=c.getShapeY(!!b),h=c.getShapeOffset(c.isAreaType,a,!!b),i=b?c.getSubYScale:c.getYScale;return function(a,b){var e=i.call(c,a.id)(0),j=h(a,b)||e,k=f(a),l=g(a);return d.axis_rotated&&(0<a.value&&e>l||a.value<0&&l>e)&&(l=e),[[k,j],[k,l-(e-j)],[k,l-(e-j)],[k,j]]}},k.updateCircle=function(){var a=this;a.mainCircle=a.main.selectAll("."+m.circles).selectAll("."+m.circle).data(a.lineOrScatterData.bind(a)),a.mainCircle.enter().append("circle").attr("class",a.classCircle.bind(a)).attr("r",a.pointR.bind(a)).style("fill",a.color),a.mainCircle.style("opacity",a.initialOpacityForCircle.bind(a)),a.mainCircle.exit().remove()},k.redrawCircle=function(a,b,c){var d=this.main.selectAll("."+m.selectedCircle);return[(c?this.mainCircle.transition(Math.random().toString()):this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("fill",this.color).attr("cx",a).attr("cy",b),(c?d.transition(Math.random().toString()):d).attr("cx",a).attr("cy",b)]},k.circleX=function(a){return a.x||0===a.x?this.x(a.x):null},k.updateCircleY=function(){var a,b,c=this;c.config.data_groups.length>0?(a=c.getShapeIndices(c.isLineType),b=c.generateGetLinePoints(a),c.circleY=function(a,c){return b(a,c)[0][1]}):c.circleY=function(a){return c.getYScale(a.id)(a.value)}},k.getCircles=function(a,b){var c=this;return(b?c.main.selectAll("."+m.circles+c.getTargetSelectorSuffix(b)):c.main).selectAll("."+m.circle+(n(a)?"-"+a:""))},k.expandCircles=function(a,b,c){var d=this,e=d.pointExpandedR.bind(d);c&&d.unexpandCircles(),d.getCircles(a,b).classed(m.EXPANDED,!0).attr("r",e)},k.unexpandCircles=function(a){var b=this,c=b.pointR.bind(b);b.getCircles(a).filter(function(){return b.d3.select(this).classed(m.EXPANDED)}).classed(m.EXPANDED,!1).attr("r",c)},k.pointR=function(a){var b=this,c=b.config;return b.isStepType(a)?0:o(c.point_r)?c.point_r(a):c.point_r},k.pointExpandedR=function(a){var b=this,c=b.config;return c.point_focus_expand_enabled?c.point_focus_expand_r?c.point_focus_expand_r:1.75*b.pointR(a):b.pointR(a)},k.pointSelectR=function(a){var b=this,c=b.config;return c.point_select_r?c.point_select_r:4*b.pointR(a)},k.isWithinCircle=function(a,b){var c=this.d3,d=c.mouse(a),e=c.select(a),f=+e.attr("cx"),g=+e.attr("cy");return Math.sqrt(Math.pow(f-d[0],2)+Math.pow(g-d[1],2))<b},k.isWithinStep=function(a,b){return Math.abs(b-this.d3.mouse(a)[1])<30},k.initBar=function(){this.main.select("."+m.chart).append("g").attr("class",m.chartBars)},k.updateTargetsForBar=function(a){var b,c,d=this,e=d.config,f=d.classChartBar.bind(d),g=d.classBars.bind(d),h=d.classFocus.bind(d);b=d.main.select("."+m.chartBars).selectAll("."+m.chartBar).data(a).attr("class",function(a){return f(a)+h(a)}),c=b.enter().append("g").attr("class",f).style("opacity",0).style("pointer-events","none"),c.append("g").attr("class",g).style("cursor",function(a){return e.data_selection_isselectable(a)?"pointer":null})},k.updateBar=function(a){var b=this,c=b.barData.bind(b),d=b.classBar.bind(b),e=b.initialOpacity.bind(b),f=function(a){return b.color(a.id)};b.mainBar=b.main.selectAll("."+m.bars).selectAll("."+m.bar).data(c),b.mainBar.enter().append("path").attr("class",d).style("stroke",f).style("fill",f),b.mainBar.style("opacity",e),b.mainBar.exit().transition().duration(a).style("opacity",0).remove()},k.redrawBar=function(a,b){return[(b?this.mainBar.transition(Math.random().toString()):this.mainBar).attr("d",a).style("fill",this.color).style("opacity",1)]},k.getBarW=function(a,b){var c=this,d=c.config,e="number"==typeof d.bar_width?d.bar_width:b?a.tickInterval()*d.bar_width_ratio/b:0;return d.bar_width_max&&e>d.bar_width_max?d.bar_width_max:e},k.getBars=function(a,b){var c=this;return(b?c.main.selectAll("."+m.bars+c.getTargetSelectorSuffix(b)):c.main).selectAll("."+m.bar+(n(a)?"-"+a:""))},k.expandBars=function(a,b,c){var d=this;c&&d.unexpandBars(),d.getBars(a,b).classed(m.EXPANDED,!0)},k.unexpandBars=function(a){this.getBars(a).classed(m.EXPANDED,!1)},k.generateDrawBar=function(a,b){var c=this,d=c.config,e=c.generateGetBarPoints(a,b);return function(a,b){var c=e(a,b),f=d.axis_rotated?1:0,g=d.axis_rotated?0:1;return"M "+c[0][f]+","+c[0][g]+" L"+c[1][f]+","+c[1][g]+" L"+c[2][f]+","+c[2][g]+" L"+c[3][f]+","+c[3][g]+" z"}},k.generateGetBarPoints=function(a,b){var c=this,d=b?c.subXAxis:c.xAxis,e=a.__max__+1,f=c.getBarW(d,e),g=c.getShapeX(f,e,a,!!b),h=c.getShapeY(!!b),i=c.getShapeOffset(c.isBarType,a,!!b),j=b?c.getSubYScale:c.getYScale;return function(a,b){var d=j.call(c,a.id)(0),e=i(a,b)||d,k=g(a),l=h(a);return c.config.axis_rotated&&(0<a.value&&d>l||a.value<0&&l>d)&&(l=d),[[k,e],[k,l-(d-e)],[k+f,l-(d-e)],[k+f,e]]}},k.isWithinBar=function(a){var b=this.d3.mouse(a),c=a.getBoundingClientRect(),d=a.pathSegList.getItem(0),e=a.pathSegList.getItem(1),f=Math.min(d.x,e.x),g=Math.min(d.y,e.y),h=c.width,i=c.height,j=f-2,k=f+h+2,l=g+i+2,m=g-2;return j<b[0]&&b[0]<k&&m<b[1]&&b[1]<l},k.initText=function(){var a=this;a.main.select("."+m.chart).append("g").attr("class",m.chartTexts),a.mainText=a.d3.selectAll([])},k.updateTargetsForText=function(a){var b,c,d=this,e=d.classChartText.bind(d),f=d.classTexts.bind(d),g=d.classFocus.bind(d);b=d.main.select("."+m.chartTexts).selectAll("."+m.chartText).data(a).attr("class",function(a){return e(a)+g(a)}),c=b.enter().append("g").attr("class",e).style("opacity",0).style("pointer-events","none"),c.append("g").attr("class",f)},k.updateText=function(a){var b=this,c=b.config,d=b.barOrLineData.bind(b),e=b.classText.bind(b);b.mainText=b.main.selectAll("."+m.texts).selectAll("."+m.text).data(d),b.mainText.enter().append("text").attr("class",e).attr("text-anchor",function(a){return c.axis_rotated?a.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",function(a){return b.color(a)}).style("fill-opacity",0),b.mainText.text(function(a,c,d){return b.dataLabelFormat(a.id)(a.value,a.id,c,d)}),b.mainText.exit().transition().duration(a).style("fill-opacity",0).remove()},k.redrawText=function(a,b,c,d){return[(d?this.mainText.transition():this.mainText).attr("x",a).attr("y",b).style("fill",this.color).style("fill-opacity",c?0:this.opacityForText.bind(this))]},k.getTextRect=function(a,b,c){var d,e=this.d3.select("body").append("div").classed("c3",!0),f=e.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),g=this.d3.select(c).style("font");return f.selectAll(".dummy").data([a]).enter().append("text").classed(b||"",!0).style("font",g).text(a).each(function(){d=this.getBoundingClientRect()}),e.remove(),d},k.generateXYForText=function(a,b,c,d){var e=this,f=e.generateGetAreaPoints(a,!1),g=e.generateGetBarPoints(b,!1),h=e.generateGetLinePoints(c,!1),i=d?e.getXForText:e.getYForText;return function(a,b){var c=e.isAreaType(a)?f:e.isBarType(a)?g:h;return i.call(e,c(a,b),a,this)}},k.getXForText=function(a,b,c){var d,e,f=this,g=c.getBoundingClientRect();return f.config.axis_rotated?(e=f.isBarType(b)?4:6,d=a[2][1]+e*(b.value<0?-1:1)):d=f.hasType("bar")?(a[2][0]+a[0][0])/2:a[0][0],null===b.value&&(d>f.width?d=f.width-g.width:0>d&&(d=4)),d},k.getYForText=function(a,b,c){var d,e=this,f=c.getBoundingClientRect();return e.config.axis_rotated?d=(a[0][0]+a[2][0]+.6*f.height)/2:(d=a[2][1],b.value<0||0===b.value&&!e.hasPositiveValue?(d+=f.height,e.isBarType(b)&&e.isSafari()?d-=3:!e.isBarType(b)&&e.isChrome()&&(d+=3)):d+=e.isBarType(b)?-3:-6),null!==b.value||e.config.axis_rotated||(d<f.height?d=f.height:d>this.height&&(d=this.height-4)),d},k.setTargetType=function(a,b){var c=this,d=c.config;c.mapToTargetIds(a).forEach(function(a){c.withoutFadeIn[a]=b===d.data_types[a],d.data_types[a]=b}),a||(d.data_type=b)},k.hasType=function(a,b){var c=this,d=c.config.data_types,e=!1;return b=b||c.data.targets,b&&b.length?b.forEach(function(b){var c=d[b.id];(c&&c.indexOf(a)>=0||!c&&"line"===a)&&(e=!0)}):Object.keys(d).length?Object.keys(d).forEach(function(b){d[b]===a&&(e=!0)}):e=c.config.data_type===a,e},k.hasArcType=function(a){return this.hasType("pie",a)||this.hasType("donut",a)||this.hasType("gauge",a)},k.isLineType=function(a){var b=this.config,c=p(a)?a:a.id;return!b.data_types[c]||["line","spline","area","area-spline","step","area-step"].indexOf(b.data_types[c])>=0},k.isStepType=function(a){var b=p(a)?a:a.id;return["step","area-step"].indexOf(this.config.data_types[b])>=0},k.isSplineType=function(a){var b=p(a)?a:a.id;return["spline","area-spline"].indexOf(this.config.data_types[b])>=0},k.isAreaType=function(a){var b=p(a)?a:a.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[b])>=0},k.isBarType=function(a){var b=p(a)?a:a.id;return"bar"===this.config.data_types[b]},k.isScatterType=function(a){var b=p(a)?a:a.id;return"scatter"===this.config.data_types[b]},k.isPieType=function(a){var b=p(a)?a:a.id;return"pie"===this.config.data_types[b]},k.isGaugeType=function(a){var b=p(a)?a:a.id;return"gauge"===this.config.data_types[b]},k.isDonutType=function(a){var b=p(a)?a:a.id;return"donut"===this.config.data_types[b]},k.isArcType=function(a){return this.isPieType(a)||this.isDonutType(a)||this.isGaugeType(a)},k.lineData=function(a){return this.isLineType(a)?[a]:[]},k.arcData=function(a){return this.isArcType(a.data)?[a]:[]},k.barData=function(a){return this.isBarType(a)?a.values:[]},k.lineOrScatterData=function(a){return this.isLineType(a)||this.isScatterType(a)?a.values:[]},k.barOrLineData=function(a){return this.isBarType(a)||this.isLineType(a)?a.values:[]},k.isInterpolationType=function(a){return["linear","linear-closed","basis","basis-open","basis-closed","bundle","cardinal","cardinal-open","cardinal-closed","monotone"].indexOf(a)>=0},k.initGrid=function(){var a=this,b=a.config,c=a.d3;a.grid=a.main.append("g").attr("clip-path",a.clipPathForGrid).attr("class",m.grid),b.grid_x_show&&a.grid.append("g").attr("class",m.xgrids),b.grid_y_show&&a.grid.append("g").attr("class",m.ygrids),b.grid_focus_show&&a.grid.append("g").attr("class",m.xgridFocus).append("line").attr("class",m.xgridFocus),a.xgrid=c.selectAll([]),b.grid_lines_front||a.initGridLines()},k.initGridLines=function(){var a=this,b=a.d3;a.gridLines=a.main.append("g").attr("clip-path",a.clipPathForGrid).attr("class",m.grid+" "+m.gridLines),a.gridLines.append("g").attr("class",m.xgridLines),a.gridLines.append("g").attr("class",m.ygridLines),a.xgridLines=b.selectAll([])},k.updateXGrid=function(a){var b=this,c=b.config,d=b.d3,e=b.generateGridData(c.grid_x_type,b.x),f=b.isCategorized()?b.xAxis.tickOffset():0;b.xgridAttr=c.axis_rotated?{x1:0,x2:b.width,y1:function(a){return b.x(a)-f},y2:function(a){return b.x(a)-f}}:{x1:function(a){return b.x(a)+f},x2:function(a){return b.x(a)+f},y1:0,y2:b.height},b.xgrid=b.main.select("."+m.xgrids).selectAll("."+m.xgrid).data(e),b.xgrid.enter().append("line").attr("class",m.xgrid),a||b.xgrid.attr(b.xgridAttr).style("opacity",function(){return+d.select(this).attr(c.axis_rotated?"y1":"x1")===(c.axis_rotated?b.height:0)?0:1}),b.xgrid.exit().remove()},k.updateYGrid=function(){var a=this,b=a.config,c=a.yAxis.tickValues()||a.y.ticks(b.grid_y_ticks);a.ygrid=a.main.select("."+m.ygrids).selectAll("."+m.ygrid).data(c),a.ygrid.enter().append("line").attr("class",m.ygrid),a.ygrid.attr("x1",b.axis_rotated?a.y:0).attr("x2",b.axis_rotated?a.y:a.width).attr("y1",b.axis_rotated?0:a.y).attr("y2",b.axis_rotated?a.height:a.y),a.ygrid.exit().remove(),a.smoothLines(a.ygrid,"grid")},k.gridTextAnchor=function(a){return a.position?a.position:"end"},k.gridTextDx=function(a){return"start"===a.position?4:"middle"===a.position?0:-4},k.xGridTextX=function(a){return"start"===a.position?-this.height:"middle"===a.position?-this.height/2:0},k.yGridTextX=function(a){return"start"===a.position?0:"middle"===a.position?this.width/2:this.width},k.updateGrid=function(a){var b,c,d,e=this,f=e.main,g=e.config;e.grid.style("visibility",e.hasArcType()?"hidden":"visible"),f.select("line."+m.xgridFocus).style("visibility","hidden"),g.grid_x_show&&e.updateXGrid(),e.xgridLines=f.select("."+m.xgridLines).selectAll("."+m.xgridLine).data(g.grid_x_lines),b=e.xgridLines.enter().append("g").attr("class",function(a){return m.xgridLine+(a["class"]?" "+a["class"]:"")}),b.append("line").style("opacity",0),b.append("text").attr("text-anchor",e.gridTextAnchor).attr("transform",g.axis_rotated?"":"rotate(-90)").attr("dx",e.gridTextDx).attr("dy",-5).style("opacity",0),e.xgridLines.exit().transition().duration(a).style("opacity",0).remove(),g.grid_y_show&&e.updateYGrid(),e.ygridLines=f.select("."+m.ygridLines).selectAll("."+m.ygridLine).data(g.grid_y_lines),c=e.ygridLines.enter().append("g").attr("class",function(a){return m.ygridLine+(a["class"]?" "+a["class"]:"")}),c.append("line").style("opacity",0),c.append("text").attr("text-anchor",e.gridTextAnchor).attr("transform",g.axis_rotated?"rotate(-90)":"").attr("dx",e.gridTextDx).attr("dy",-5).style("opacity",0),d=e.yv.bind(e),e.ygridLines.select("line").transition().duration(a).attr("x1",g.axis_rotated?d:0).attr("x2",g.axis_rotated?d:e.width).attr("y1",g.axis_rotated?0:d).attr("y2",g.axis_rotated?e.height:d).style("opacity",1),e.ygridLines.select("text").transition().duration(a).attr("x",g.axis_rotated?e.xGridTextX.bind(e):e.yGridTextX.bind(e)).attr("y",d).text(function(a){return a.text}).style("opacity",1),e.ygridLines.exit().transition().duration(a).style("opacity",0).remove()},k.redrawGrid=function(a){var b=this,c=b.config,d=b.xv.bind(b),e=b.xgridLines.select("line"),f=b.xgridLines.select("text");return[(a?e.transition():e).attr("x1",c.axis_rotated?0:d).attr("x2",c.axis_rotated?b.width:d).attr("y1",c.axis_rotated?d:0).attr("y2",c.axis_rotated?d:b.height).style("opacity",1),(a?f.transition():f).attr("x",c.axis_rotated?b.yGridTextX.bind(b):b.xGridTextX.bind(b)).attr("y",d).text(function(a){return a.text}).style("opacity",1)]},k.showXGridFocus=function(a){var b=this,c=b.config,d=a.filter(function(a){return a&&n(a.value)}),e=b.main.selectAll("line."+m.xgridFocus),f=b.xx.bind(b);c.tooltip_show&&(b.hasType("scatter")||b.hasArcType()||(e.style("visibility","visible").data([d[0]]).attr(c.axis_rotated?"y1":"x1",f).attr(c.axis_rotated?"y2":"x2",f),b.smoothLines(e,"grid")))},k.hideXGridFocus=function(){this.main.select("line."+m.xgridFocus).style("visibility","hidden")},k.updateXgridFocus=function(){var a=this,b=a.config;a.main.select("line."+m.xgridFocus).attr("x1",b.axis_rotated?0:-10).attr("x2",b.axis_rotated?a.width:-10).attr("y1",b.axis_rotated?-10:0).attr("y2",b.axis_rotated?-10:a.height)},k.generateGridData=function(a,b){var c,d,e,f,g=this,h=[],i=g.main.select("."+m.axisX).selectAll(".tick").size();if("year"===a)for(c=g.getXDomain(),d=c[0].getFullYear(),e=c[1].getFullYear(),f=d;e>=f;f++)h.push(new Date(f+"-01-01 00:00:00"));else h=b.ticks(10),h.length>i&&(h=h.filter(function(a){return(""+a).indexOf(".")<0}));return h},k.getGridFilterToRemove=function(a){return a?function(b){var c=!1;return[].concat(a).forEach(function(a){("value"in a&&b.value===a.value||"class"in a&&b["class"]===a["class"])&&(c=!0)}),c}:function(){return!0}},k.removeGridLines=function(a,b){var c=this,d=c.config,e=c.getGridFilterToRemove(a),f=function(a){return!e(a)},g=b?m.xgridLines:m.ygridLines,h=b?m.xgridLine:m.ygridLine;c.main.select("."+g).selectAll("."+h).filter(e).transition().duration(d.transition_duration).style("opacity",0).remove(),b?d.grid_x_lines=d.grid_x_lines.filter(f):d.grid_y_lines=d.grid_y_lines.filter(f)},k.initTooltip=function(){var a,b=this,c=b.config;if(b.tooltip=b.selectChart.style("position","relative").append("div").attr("class",m.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),c.tooltip_init_show){if(b.isTimeSeries()&&p(c.tooltip_init_x)){for(c.tooltip_init_x=b.parseDate(c.tooltip_init_x),a=0;a<b.data.targets[0].values.length&&b.data.targets[0].values[a].x-c.tooltip_init_x!=0;a++);c.tooltip_init_x=a}b.tooltip.html(c.tooltip_contents.call(b,b.data.targets.map(function(a){return b.addName(a.values[c.tooltip_init_x])}),b.axis.getXAxisTickFormat(),b.getYFormat(b.hasArcType()),b.color)),b.tooltip.style("top",c.tooltip_init_position.top).style("left",c.tooltip_init_position.left).style("display","block")}},k.getTooltipContent=function(a,b,c,d){var e,f,g,h,i,j,k=this,l=k.config,m=l.tooltip_format_title||b,n=l.tooltip_format_name||function(a){return a},o=l.tooltip_format_value||c,p=k.isOrderAsc();if(0===l.data_groups.length)a.sort(function(a,b){return p?a.value-b.value:b.value-a.value});else{var q=k.orderTargets(k.data.targets).map(function(a){return a.id});a.sort(function(a,b){return a.value>0&&b.value>0?p?q.indexOf(a.id)-q.indexOf(b.id):q.indexOf(b.id)-q.indexOf(a.id):p?a.value-b.value:b.value-a.value})}for(f=0;f<a.length;f++)if(a[f]&&(a[f].value||0===a[f].value)&&(e||(g=m?m(a[f].x):a[f].x,e="<table class='"+k.CLASS.tooltip+"'>"+(g||0===g?"<tr><th colspan='2'>"+g+"</th></tr>":"")),void 0!==(h=o(a[f].value,a[f].ratio,a[f].id,a[f].index)))){if(null===a[f].name)continue;i=n(a[f].name,a[f].ratio,a[f].id,a[f].index),j=k.levelColor?k.levelColor(a[f].value):d(a[f].id),e+="<tr class='"+k.CLASS.tooltipName+"-"+k.getTargetSelectorSuffix(a[f].id)+"'>",e+="<td class='name'><span style='background-color:"+j+"'></span>"+i+"</td>",e+="<td class='value'>"+h+"</td>",e+="</tr>"}return e+"</table>"},k.tooltipPosition=function(a,b,c,d){var e,f,g,h,i,j=this,k=j.config,l=j.d3,m=j.hasArcType(),n=l.mouse(d);return m?(f=(j.width-(j.isLegendRight?j.getLegendWidth():0))/2+n[0],h=j.height/2+n[1]+20):(e=j.getSvgLeft(!0),k.axis_rotated?(f=e+n[0]+100,g=f+b,i=j.currentWidth-j.getCurrentPaddingRight(),h=j.x(a[0].x)+20):(f=e+j.getCurrentPaddingLeft(!0)+j.x(a[0].x)+20,g=f+b,i=e+j.currentWidth-j.getCurrentPaddingRight(),h=n[1]+15),g>i&&(f-=g-i+20),h+c>j.currentHeight&&(h-=c+30)),0>h&&(h=0),{top:h,left:f}},k.showTooltip=function(a,b){var c,d,e,f=this,g=f.config,h=f.hasArcType(),i=a.filter(function(a){return a&&n(a.value)}),j=g.tooltip_position||k.tooltipPosition;0!==i.length&&g.tooltip_show&&(f.tooltip.html(g.tooltip_contents.call(f,a,f.axis.getXAxisTickFormat(),f.getYFormat(h),f.color)).style("display","block"),c=f.tooltip.property("offsetWidth"),d=f.tooltip.property("offsetHeight"),e=j.call(this,i,c,d,b),f.tooltip.style("top",e.top+"px").style("left",e.left+"px"))},k.hideTooltip=function(){this.tooltip.style("display","none")},k.initLegend=function(){var a=this;return a.legendItemTextBox={},a.legendHasRendered=!1,a.legend=a.svg.append("g").attr("transform",a.getTranslate("legend")),a.config.legend_show?void a.updateLegendWithDefaults():(a.legend.style("visibility","hidden"),void(a.hiddenLegendIds=a.mapToIds(a.data.targets)))},k.updateLegendWithDefaults=function(){var a=this;a.updateLegend(a.mapToIds(a.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},k.updateSizeForLegend=function(a,b){var c=this,d=c.config,e={top:c.isLegendTop?c.getCurrentPaddingTop()+d.legend_inset_y+5.5:c.currentHeight-a-c.getCurrentPaddingBottom()-d.legend_inset_y,left:c.isLegendLeft?c.getCurrentPaddingLeft()+d.legend_inset_x+.5:c.currentWidth-b-c.getCurrentPaddingRight()-d.legend_inset_x+.5};c.margin3={top:c.isLegendRight?0:c.isLegendInset?e.top:c.currentHeight-a,right:NaN,bottom:0,left:c.isLegendRight?c.currentWidth-b:c.isLegendInset?e.left:0}},k.transformLegend=function(a){var b=this;(a?b.legend.transition():b.legend).attr("transform",b.getTranslate("legend"))},k.updateLegendStep=function(a){this.legendStep=a},k.updateLegendItemWidth=function(a){this.legendItemWidth=a},k.updateLegendItemHeight=function(a){this.legendItemHeight=a},k.getLegendWidth=function(){var a=this;return a.config.legend_show?a.isLegendRight||a.isLegendInset?a.legendItemWidth*(a.legendStep+1):a.currentWidth:0},k.getLegendHeight=function(){var a=this,b=0;return a.config.legend_show&&(b=a.isLegendRight?a.currentHeight:Math.max(20,a.legendItemHeight)*(a.legendStep+1)),b},k.opacityForLegend=function(a){return a.classed(m.legendItemHidden)?null:1},k.opacityForUnfocusedLegend=function(a){return a.classed(m.legendItemHidden)?null:.3},k.toggleFocusLegend=function(a,b){var c=this;a=c.mapToTargetIds(a),c.legend.selectAll("."+m.legendItem).filter(function(b){return a.indexOf(b)>=0}).classed(m.legendItemFocused,b).transition().duration(100).style("opacity",function(){return(b?c.opacityForLegend:c.opacityForUnfocusedLegend).call(c,c.d3.select(this))})},k.revertLegend=function(){var a=this,b=a.d3;a.legend.selectAll("."+m.legendItem).classed(m.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return a.opacityForLegend(b.select(this))})},k.showLegend=function(a){var b=this,c=b.config;c.legend_show||(c.legend_show=!0,b.legend.style("visibility","visible"),b.legendHasRendered||b.updateLegendWithDefaults()),b.removeHiddenLegendIds(a),b.legend.selectAll(b.selectorLegends(a)).style("visibility","visible").transition().style("opacity",function(){return b.opacityForLegend(b.d3.select(this))})},k.hideLegend=function(a){var b=this,c=b.config;c.legend_show&&v(a)&&(c.legend_show=!1,b.legend.style("visibility","hidden")),b.addHiddenLegendIds(a),b.legend.selectAll(b.selectorLegends(a)).style("opacity",0).style("visibility","hidden")},k.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},k.updateLegend=function(a,b,c){function d(a,b){return y.legendItemTextBox[b]||(y.legendItemTextBox[b]=y.getTextRect(a.textContent,m.legendItem,a)),y.legendItemTextBox[b]}function e(b,c,e){function f(a,b){b||(g=(o-G-n)/2)<E&&(g=(o-n)/2,G=0,M++),L[a]=M,K[M]=y.isLegendInset?10:g,H[a]=G,G+=n}var g,h,i=0===e,j=e===a.length-1,k=d(b,c),l=k.width+F+(!j||y.isLegendRight||y.isLegendInset?B:0)+z.legend_padding,m=k.height+A,n=y.isLegendRight||y.isLegendInset?m:l,o=y.isLegendRight||y.isLegendInset?y.getLegendHeight():y.getLegendWidth();return i&&(G=0,M=0,C=0,D=0),z.legend_show&&!y.isLegendToShow(c)?void(I[c]=J[c]=L[c]=H[c]=0):(I[c]=l,J[c]=m,(!C||l>=C)&&(C=l),(!D||m>=D)&&(D=m),h=y.isLegendRight||y.isLegendInset?D:C,z.legend_equally?(Object.keys(I).forEach(function(a){I[a]=C}),Object.keys(J).forEach(function(a){J[a]=D}),g=(o-h*a.length)/2,E>g?(G=0,M=0,a.forEach(function(a){f(a)})):f(c,!0)):f(c),void 0)}var f,g,h,i,j,k,l,n,o,p,q,s,t,u,v,w,y=this,z=y.config,A=4,B=10,C=0,D=0,E=10,F=z.legend_item_tile_width+5,G=0,H={},I={},J={},K=[0],L={},M=0;a=a.filter(function(a){return!r(z.data_names[a])||null!==z.data_names[a]}),b=b||{},q=x(b,"withTransition",!0),s=x(b,"withTransitionForTransform",!0),y.isLegendInset&&(M=z.legend_inset_step?z.legend_inset_step:a.length,y.updateLegendStep(M)),y.isLegendRight?(f=function(a){return C*L[a]},i=function(a){return K[L[a]]+H[a]}):y.isLegendInset?(f=function(a){return C*L[a]+10},i=function(a){return K[L[a]]+H[a]}):(f=function(a){return K[L[a]]+H[a]},i=function(a){return D*L[a]}),g=function(a,b){return f(a,b)+4+z.legend_item_tile_width},j=function(a,b){return i(a,b)+9},h=function(a,b){return f(a,b)},k=function(a,b){return i(a,b)-5},l=function(a,b){return f(a,b)-2},n=function(a,b){return f(a,b)-2+z.legend_item_tile_width},o=function(a,b){return i(a,b)+4},p=y.legend.selectAll("."+m.legendItem).data(a).enter().append("g").attr("class",function(a){return y.generateClass(m.legendItem,a)}).style("visibility",function(a){return y.isLegendToShow(a)?"visible":"hidden"}).style("cursor","pointer").on("click",function(a){z.legend_item_onclick?z.legend_item_onclick.call(y,a):y.d3.event.altKey?(y.api.hide(),y.api.show(a)):(y.api.toggle(a),y.isTargetToShow(a)?y.api.focus(a):y.api.revert())}).on("mouseover",function(a){z.legend_item_onmouseover?z.legend_item_onmouseover.call(y,a):(y.d3.select(this).classed(m.legendItemFocused,!0),!y.transiting&&y.isTargetToShow(a)&&y.api.focus(a))}).on("mouseout",function(a){z.legend_item_onmouseout?z.legend_item_onmouseout.call(y,a):(y.d3.select(this).classed(m.legendItemFocused,!1),y.api.revert())}),p.append("text").text(function(a){return r(z.data_names[a])?z.data_names[a]:a}).each(function(a,b){e(this,a,b)}).style("pointer-events","none").attr("x",y.isLegendRight||y.isLegendInset?g:-200).attr("y",y.isLegendRight||y.isLegendInset?-200:j),p.append("rect").attr("class",m.legendItemEvent).style("fill-opacity",0).attr("x",y.isLegendRight||y.isLegendInset?h:-200).attr("y",y.isLegendRight||y.isLegendInset?-200:k),p.append("line").attr("class",m.legendItemTile).style("stroke",y.color).style("pointer-events","none").attr("x1",y.isLegendRight||y.isLegendInset?l:-200).attr("y1",y.isLegendRight||y.isLegendInset?-200:o).attr("x2",y.isLegendRight||y.isLegendInset?n:-200).attr("y2",y.isLegendRight||y.isLegendInset?-200:o).attr("stroke-width",z.legend_item_tile_height),w=y.legend.select("."+m.legendBackground+" rect"),y.isLegendInset&&C>0&&0===w.size()&&(w=y.legend.insert("g","."+m.legendItem).attr("class",m.legendBackground).append("rect")),t=y.legend.selectAll("text").data(a).text(function(a){return r(z.data_names[a])?z.data_names[a]:a}).each(function(a,b){e(this,a,b)}),(q?t.transition():t).attr("x",g).attr("y",j),u=y.legend.selectAll("rect."+m.legendItemEvent).data(a),(q?u.transition():u).attr("width",function(a){return I[a]}).attr("height",function(a){return J[a]}).attr("x",h).attr("y",k),v=y.legend.selectAll("line."+m.legendItemTile).data(a),(q?v.transition():v).style("stroke",y.color).attr("x1",l).attr("y1",o).attr("x2",n).attr("y2",o),w&&(q?w.transition():w).attr("height",y.getLegendHeight()-12).attr("width",C*(M+1)+10),y.legend.selectAll("."+m.legendItem).classed(m.legendItemHidden,function(a){return!y.isTargetToShow(a)}),y.updateLegendItemWidth(C),y.updateLegendItemHeight(D),y.updateLegendStep(M),y.updateSizes(),y.updateScales(),y.updateSvgSize(),y.transformAll(s,c),y.legendHasRendered=!0},k.initTitle=function(){var a=this;a.title=a.svg.append("text").text(a.config.title_text).attr("class",a.CLASS.title)},k.redrawTitle=function(){var a=this;a.title.attr("x",a.xForTitle.bind(a)).attr("y",a.yForTitle.bind(a))},k.xForTitle=function(){var a=this,b=a.config,c=b.title_position||"left";return c.indexOf("right")>=0?a.currentWidth-a.getTextRect(a.title.node().textContent,a.CLASS.title,a.title.node()).width-b.title_padding.right:c.indexOf("center")>=0?(a.currentWidth-a.getTextRect(a.title.node().textContent,a.CLASS.title,a.title.node()).width)/2:b.title_padding.left},k.yForTitle=function(){var a=this;return a.config.title_padding.top+a.getTextRect(a.title.node().textContent,a.CLASS.title,a.title.node()).height},k.getTitlePadding=function(){var a=this;return a.yForTitle()+a.config.title_padding.bottom},function(a,b){if(Object.create)b.prototype=Object.create(a.prototype);else{var c=function(){};c.prototype=a.prototype,b.prototype=new c}b.prototype.constructor=b}(e,h),h.prototype.init=function(){var a=this.owner,b=a.config,c=a.main;a.axes.x=c.append("g").attr("class",m.axis+" "+m.axisX).attr("clip-path",a.clipPathForXAxis).attr("transform",a.getTranslate("x")).style("visibility",b.axis_x_show?"visible":"hidden"),a.axes.x.append("text").attr("class",m.axisXLabel).attr("transform",b.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),a.axes.y=c.append("g").attr("class",m.axis+" "+m.axisY).attr("clip-path",b.axis_y_inner?"":a.clipPathForYAxis).attr("transform",a.getTranslate("y")).style("visibility",b.axis_y_show?"visible":"hidden"),a.axes.y.append("text").attr("class",m.axisYLabel).attr("transform",b.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),a.axes.y2=c.append("g").attr("class",m.axis+" "+m.axisY2).attr("transform",a.getTranslate("y2")).style("visibility",b.axis_y2_show?"visible":"hidden"),a.axes.y2.append("text").attr("class",m.axisY2Label).attr("transform",b.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},h.prototype.getXAxis=function(a,b,c,d,e,f,g){var h=this.owner,j=h.config,k={isCategory:h.isCategorized(),withOuterTick:e,tickMultiline:j.axis_x_tick_multiline,tickWidth:j.axis_x_tick_width,tickTextRotate:g?0:j.axis_x_tick_rotate,withoutTransition:f},l=i(h.d3,k).scale(a).orient(b);return h.isTimeSeries()&&d&&"function"!=typeof d&&(d=d.map(function(a){return h.parseDate(a)})),l.tickFormat(c).tickValues(d),h.isCategorized()&&(l.tickCentered(j.axis_x_tick_centered),v(j.axis_x_tick_culling)&&(j.axis_x_tick_culling=!1)),l},h.prototype.updateXAxisTickValues=function(a,b){var c,d=this.owner,e=d.config;return(e.axis_x_tick_fit||e.axis_x_tick_count)&&(c=this.generateTickValues(d.mapTargetsToUniqueXs(a),e.axis_x_tick_count,d.isTimeSeries())),b?b.tickValues(c):(d.xAxis.tickValues(c),d.subXAxis.tickValues(c)),c},h.prototype.getYAxis=function(a,b,c,d,e,f){var g={withOuterTick:e,withoutTransition:f},h=this.owner,j=h.d3,k=h.config,l=i(j,g).scale(a).orient(b).tickFormat(c);return h.isTimeSeriesY()?l.ticks(j.time[k.axis_y_tick_time_value],k.axis_y_tick_time_interval):l.tickValues(d),l},h.prototype.getId=function(a){var b=this.owner.config;return a in b.data_axes?b.data_axes[a]:"y"},h.prototype.getXAxisTickFormat=function(){var a=this.owner,b=a.config,c=a.isTimeSeries()?a.defaultAxisTimeFormat:a.isCategorized()?a.categoryName:function(a){return 0>a?a.toFixed(0):a};return b.axis_x_tick_format&&(o(b.axis_x_tick_format)?c=b.axis_x_tick_format:a.isTimeSeries()&&(c=function(c){return c?a.axisTimeFormat(b.axis_x_tick_format)(c):""})),o(c)?function(b){return c.call(a,b)}:c},h.prototype.getTickValues=function(a,b){return a||(b?b.tickValues():void 0)},h.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},h.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},h.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},h.prototype.getLabelOptionByAxisId=function(a){var b,c=this.owner,d=c.config;return"y"===a?b=d.axis_y_label:"y2"===a?b=d.axis_y2_label:"x"===a&&(b=d.axis_x_label),b},h.prototype.getLabelText=function(a){var b=this.getLabelOptionByAxisId(a);return p(b)?b:b?b.text:null},h.prototype.setLabelText=function(a,b){var c=this.owner,d=c.config,e=this.getLabelOptionByAxisId(a);p(e)?"y"===a?d.axis_y_label=b:"y2"===a?d.axis_y2_label=b:"x"===a&&(d.axis_x_label=b):e&&(e.text=b)},h.prototype.getLabelPosition=function(a,b){var c=this.getLabelOptionByAxisId(a),d=c&&"object"===(void 0===c?"undefined":_typeof(c))&&c.position?c.position:b;return{isInner:d.indexOf("inner")>=0,isOuter:d.indexOf("outer")>=0,isLeft:d.indexOf("left")>=0,isCenter:d.indexOf("center")>=0,isRight:d.indexOf("right")>=0,isTop:d.indexOf("top")>=0,isMiddle:d.indexOf("middle")>=0,isBottom:d.indexOf("bottom")>=0}},h.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},h.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},h.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top");
},h.prototype.getLabelPositionById=function(a){return"y2"===a?this.getY2AxisLabelPosition():"y"===a?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},h.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},h.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},h.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},h.prototype.xForAxisLabel=function(a,b){var c=this.owner;return a?b.isLeft?0:b.isCenter?c.width/2:c.width:b.isBottom?-c.height:b.isMiddle?-c.height/2:0},h.prototype.dxForAxisLabel=function(a,b){return a?b.isLeft?"0.5em":b.isRight?"-0.5em":"0":b.isTop?"-0.5em":b.isBottom?"0.5em":"0"},h.prototype.textAnchorForAxisLabel=function(a,b){return a?b.isLeft?"start":b.isCenter?"middle":"end":b.isBottom?"start":b.isMiddle?"middle":"end"},h.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},h.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},h.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},h.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},h.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},h.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},h.prototype.dyForXAxisLabel=function(){var a=this.owner,b=a.config,c=this.getXAxisLabelPosition();return b.axis_rotated?c.isInner?"1.2em":-25-this.getMaxTickWidth("x"):c.isInner?"-0.5em":b.axis_x_height?b.axis_x_height-10:"3em"},h.prototype.dyForYAxisLabel=function(){var a=this.owner,b=this.getYAxisLabelPosition();return a.config.axis_rotated?b.isInner?"-0.5em":"3em":b.isInner?"1.2em":-10-(a.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},h.prototype.dyForY2AxisLabel=function(){var a=this.owner,b=this.getY2AxisLabelPosition();return a.config.axis_rotated?b.isInner?"1.2em":"-2.2em":b.isInner?"-0.5em":15+(a.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},h.prototype.textAnchorForXAxisLabel=function(){var a=this.owner;return this.textAnchorForAxisLabel(!a.config.axis_rotated,this.getXAxisLabelPosition())},h.prototype.textAnchorForYAxisLabel=function(){var a=this.owner;return this.textAnchorForAxisLabel(a.config.axis_rotated,this.getYAxisLabelPosition())},h.prototype.textAnchorForY2AxisLabel=function(){var a=this.owner;return this.textAnchorForAxisLabel(a.config.axis_rotated,this.getY2AxisLabelPosition())},h.prototype.getMaxTickWidth=function(a,b){var c,d,e,f,g,h=this.owner,i=h.config,j=0;return b&&h.currentMaxTickWidths[a]?h.currentMaxTickWidths[a]:(h.svg&&(c=h.filterTargetsToShow(h.data.targets),"y"===a?(d=h.y.copy().domain(h.getYDomain(c,"y")),e=this.getYAxis(d,h.yOrient,i.axis_y_tick_format,h.yAxisTickValues,!1,!0)):"y2"===a?(d=h.y2.copy().domain(h.getYDomain(c,"y2")),e=this.getYAxis(d,h.y2Orient,i.axis_y2_tick_format,h.y2AxisTickValues,!1,!0)):(d=h.x.copy().domain(h.getXDomain(c)),e=this.getXAxis(d,h.xOrient,h.xAxisTickFormat,h.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(c,e)),f=h.d3.select("body").append("div").classed("c3",!0),g=f.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),g.append("g").call(e).each(function(){h.d3.select(this).selectAll("text").each(function(){var a=this.getBoundingClientRect();j<a.width&&(j=a.width)}),f.remove()})),h.currentMaxTickWidths[a]=0>=j?h.currentMaxTickWidths[a]:j,h.currentMaxTickWidths[a])},h.prototype.updateLabels=function(a){var b=this.owner,c=b.main.select("."+m.axisX+" ."+m.axisXLabel),d=b.main.select("."+m.axisY+" ."+m.axisYLabel),e=b.main.select("."+m.axisY2+" ."+m.axisY2Label);(a?c.transition():c).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(a?d.transition():d).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(a?e.transition():e).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},h.prototype.getPadding=function(a,b,c,d){var e="number"==typeof a?a:a[b];return n(e)?"ratio"===a.unit?a[b]*d:this.convertPixelsToAxisPadding(e,d):c},h.prototype.convertPixelsToAxisPadding=function(a,b){var c=this.owner;return b*(a/(c.config.axis_rotated?c.width:c.height))},h.prototype.generateTickValues=function(a,b,c){var d,e,f,g,h,i,j,k=a;if(b)if(1===(d=o(b)?b():b))k=[a[0]];else if(2===d)k=[a[0],a[a.length-1]];else if(d>2){for(g=d-2,e=a[0],f=a[a.length-1],h=(f-e)/(g+1),k=[e],i=0;g>i;i++)j=+e+h*(i+1),k.push(c?new Date(j):j);k.push(f)}return c||(k=k.sort(function(a,b){return a-b})),k},h.prototype.generateTransitions=function(a){var b=this.owner,c=b.axes;return{axisX:a?c.x.transition().duration(a):c.x,axisY:a?c.y.transition().duration(a):c.y,axisY2:a?c.y2.transition().duration(a):c.y2,axisSubX:a?c.subx.transition().duration(a):c.subx}},h.prototype.redraw=function(a,b){var c=this.owner;c.axes.x.style("opacity",b?0:1),c.axes.y.style("opacity",b?0:1),c.axes.y2.style("opacity",b?0:1),c.axes.subx.style("opacity",b?0:1),a.axisX.call(c.xAxis),a.axisY.call(c.yAxis),a.axisY2.call(c.y2Axis),a.axisSubX.call(c.subXAxis)},k.getClipPath=function(a){return"url("+(d.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0?"":document.URL.split("#")[0])+"#"+a+")"},k.appendClip=function(a,b){return a.append("clipPath").attr("id",b).append("rect")},k.getAxisClipX=function(a){var b=Math.max(30,this.margin.left);return a?-(1+b):-(b-1)},k.getAxisClipY=function(a){return a?-20:-this.margin.top},k.getXAxisClipX=function(){var a=this;return a.getAxisClipX(!a.config.axis_rotated)},k.getXAxisClipY=function(){var a=this;return a.getAxisClipY(!a.config.axis_rotated)},k.getYAxisClipX=function(){var a=this;return a.config.axis_y_inner?-1:a.getAxisClipX(a.config.axis_rotated)},k.getYAxisClipY=function(){var a=this;return a.getAxisClipY(a.config.axis_rotated)},k.getAxisClipWidth=function(a){var b=this,c=Math.max(30,b.margin.left),d=Math.max(30,b.margin.right);return a?b.width+2+c+d:b.margin.left+20},k.getAxisClipHeight=function(a){return(a?this.margin.bottom:this.margin.top+this.height)+20},k.getXAxisClipWidth=function(){var a=this;return a.getAxisClipWidth(!a.config.axis_rotated)},k.getXAxisClipHeight=function(){var a=this;return a.getAxisClipHeight(!a.config.axis_rotated)},k.getYAxisClipWidth=function(){var a=this;return a.getAxisClipWidth(a.config.axis_rotated)+(a.config.axis_y_inner?20:0)},k.getYAxisClipHeight=function(){var a=this;return a.getAxisClipHeight(a.config.axis_rotated)},k.initPie=function(){var a=this,b=a.d3,c=a.config;a.pie=b.layout.pie().value(function(a){return a.values.reduce(function(a,b){return a+b.value},0)}),c.data_order||a.pie.sort(null)},k.updateRadius=function(){var a=this,b=a.config,c=b.gauge_width||b.donut_width;a.radiusExpanded=Math.min(a.arcWidth,a.arcHeight)/2,a.radius=.95*a.radiusExpanded,a.innerRadiusRatio=c?(a.radius-c)/a.radius:.6,a.innerRadius=a.hasType("donut")||a.hasType("gauge")?a.radius*a.innerRadiusRatio:0},k.updateArc=function(){var a=this;a.svgArc=a.getSvgArc(),a.svgArcExpanded=a.getSvgArcExpanded(),a.svgArcExpandedSub=a.getSvgArcExpanded(.98)},k.updateAngle=function(a){var b,c,d,e,f=this,g=f.config,h=!1,i=0;return g?(f.pie(f.filterTargetsToShow(f.data.targets)).forEach(function(b){h||b.data.id!==a.data.id||(h=!0,a=b,a.index=i),i++}),isNaN(a.startAngle)&&(a.startAngle=0),isNaN(a.endAngle)&&(a.endAngle=a.startAngle),f.isGaugeType(a.data)&&(b=g.gauge_min,c=g.gauge_max,d=Math.PI*(g.gauge_fullCircle?2:1)/(c-b),e=a.value<b?0:a.value<c?a.value-b:c-b,a.startAngle=g.gauge_startingAngle,a.endAngle=a.startAngle+d*e),h?a:null):null},k.getSvgArc=function(){var a=this,b=a.d3.svg.arc().outerRadius(a.radius).innerRadius(a.innerRadius),c=function(c,d){var e;return d?b(c):(e=a.updateAngle(c),e?b(e):"M 0 0")};return c.centroid=b.centroid,c},k.getSvgArcExpanded=function(a){var b=this,c=b.d3.svg.arc().outerRadius(b.radiusExpanded*(a||1)).innerRadius(b.innerRadius);return function(a){var d=b.updateAngle(a);return d?c(d):"M 0 0"}},k.getArc=function(a,b,c){return c||this.isArcType(a.data)?this.svgArc(a,b):"M 0 0"},k.transformForArcLabel=function(a){var b,c,d,e,f,g=this,h=g.updateAngle(a),i="";return h&&!g.hasType("gauge")&&(b=this.svgArc.centroid(h),c=isNaN(b[0])?0:b[0],d=isNaN(b[1])?0:b[1],e=Math.sqrt(c*c+d*d),f=g.radius&&e?(36/g.radius>.375?1.175-36/g.radius:.8)*g.radius/e:0,i="translate("+c*f+","+d*f+")"),i},k.getArcRatio=function(a){var b=this,c=b.config,d=Math.PI*(b.hasType("gauge")&&!c.gauge_fullCircle?1:2);return a?(a.endAngle-a.startAngle)/d:null},k.convertToArcData=function(a){return this.addName({id:a.data.id,value:a.value,ratio:this.getArcRatio(a),index:a.index})},k.textForArcLabel=function(a){var b,c,d,e,f,g=this;return g.shouldShowArcLabel()?(b=g.updateAngle(a),c=b?b.value:null,d=g.getArcRatio(b),e=a.data.id,g.hasType("gauge")||g.meetsArcLabelThreshold(d)?(f=g.getArcLabelFormat(),f?f(c,d,e):g.defaultArcValueFormat(c,d)):""):""},k.expandArc=function(a){var b,c=this;return c.transiting?void(b=d.setInterval(function(){c.transiting||(d.clearInterval(b),c.legend.selectAll(".c3-legend-item-focused").size()>0&&c.expandArc(a))},10)):(a=c.mapToTargetIds(a),void c.svg.selectAll(c.selectorTargets(a,"."+m.chartArc)).each(function(a){c.shouldExpand(a.data.id)&&c.d3.select(this).selectAll("path").transition().duration(c.expandDuration(a.data.id)).attr("d",c.svgArcExpanded).transition().duration(2*c.expandDuration(a.data.id)).attr("d",c.svgArcExpandedSub).each(function(a){c.isDonutType(a.data)})}))},k.unexpandArc=function(a){var b=this;b.transiting||(a=b.mapToTargetIds(a),b.svg.selectAll(b.selectorTargets(a,"."+m.chartArc)).selectAll("path").transition().duration(function(a){return b.expandDuration(a.data.id)}).attr("d",b.svgArc),b.svg.selectAll("."+m.arc).style("opacity",1))},k.expandDuration=function(a){var b=this,c=b.config;return b.isDonutType(a)?c.donut_expand_duration:b.isGaugeType(a)?c.gauge_expand_duration:b.isPieType(a)?c.pie_expand_duration:50},k.shouldExpand=function(a){var b=this,c=b.config;return b.isDonutType(a)&&c.donut_expand||b.isGaugeType(a)&&c.gauge_expand||b.isPieType(a)&&c.pie_expand},k.shouldShowArcLabel=function(){var a=this,b=a.config,c=!0;return a.hasType("donut")?c=b.donut_label_show:a.hasType("pie")&&(c=b.pie_label_show),c},k.meetsArcLabelThreshold=function(a){var b=this,c=b.config;return a>=(b.hasType("donut")?c.donut_label_threshold:c.pie_label_threshold)},k.getArcLabelFormat=function(){var a=this,b=a.config,c=b.pie_label_format;return a.hasType("gauge")?c=b.gauge_label_format:a.hasType("donut")&&(c=b.donut_label_format),c},k.getArcTitle=function(){var a=this;return a.hasType("donut")?a.config.donut_title:""},k.updateTargetsForArc=function(a){var b,c,d=this,e=d.main,f=d.classChartArc.bind(d),g=d.classArcs.bind(d),h=d.classFocus.bind(d);b=e.select("."+m.chartArcs).selectAll("."+m.chartArc).data(d.pie(a)).attr("class",function(a){return f(a)+h(a.data)}),c=b.enter().append("g").attr("class",f),c.append("g").attr("class",g),c.append("text").attr("dy",d.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},k.initArc=function(){var a=this;a.arcs=a.main.select("."+m.chart).append("g").attr("class",m.chartArcs).attr("transform",a.getTranslate("arc")),a.arcs.append("text").attr("class",m.chartArcsTitle).style("text-anchor","middle").text(a.getArcTitle())},k.redrawArc=function(a,b,c){var d,e=this,f=e.d3,g=e.config,h=e.main;d=h.selectAll("."+m.arcs).selectAll("."+m.arc).data(e.arcData.bind(e)),d.enter().append("path").attr("class",e.classArc.bind(e)).style("fill",function(a){return e.color(a.data)}).style("cursor",function(a){return g.interaction_enabled&&g.data_selection_isselectable(a)?"pointer":null}).style("opacity",0).each(function(a){e.isGaugeType(a.data)&&(a.startAngle=a.endAngle=g.gauge_startingAngle),this._current=a}),d.attr("transform",function(a){return!e.isGaugeType(a.data)&&c?"scale(0)":""}).style("opacity",function(a){return a===this._current?0:1}).on("mouseover",g.interaction_enabled?function(a){var b,c;e.transiting||(b=e.updateAngle(a))&&(c=e.convertToArcData(b),e.expandArc(b.data.id),e.api.focus(b.data.id),e.toggleFocusLegend(b.data.id,!0),e.config.data_onmouseover(c,this))}:null).on("mousemove",g.interaction_enabled?function(a){var b,c,d=e.updateAngle(a);d&&(b=e.convertToArcData(d),c=[b],e.showTooltip(c,this))}:null).on("mouseout",g.interaction_enabled?function(a){var b,c;e.transiting||(b=e.updateAngle(a))&&(c=e.convertToArcData(b),e.unexpandArc(b.data.id),e.api.revert(),e.revertLegend(),e.hideTooltip(),e.config.data_onmouseout(c,this))}:null).on("click",g.interaction_enabled?function(a,b){var c,d=e.updateAngle(a);d&&(c=e.convertToArcData(d),e.toggleShape&&e.toggleShape(this,c,b),e.config.data_onclick.call(e.api,c,this))}:null).each(function(){e.transiting=!0}).transition().duration(a).attrTween("d",function(a){var b,c=e.updateAngle(a);return c?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),b=f.interpolate(this._current,c),this._current=b(0),function(c){var d=b(c);return d.data=a.data,e.getArc(d,!0)}):function(){return"M 0 0"}}).attr("transform",c?"scale(1)":"").style("fill",function(a){return e.levelColor?e.levelColor(a.data.values[0].value):e.color(a.data.id)}).style("opacity",1).call(e.endall,function(){e.transiting=!1}),d.exit().transition().duration(b).style("opacity",0).remove(),h.selectAll("."+m.chartArc).select("text").style("opacity",0).attr("class",function(a){return e.isGaugeType(a.data)?m.gaugeValue:""}).text(e.textForArcLabel.bind(e)).attr("transform",e.transformForArcLabel.bind(e)).style("font-size",function(a){return e.isGaugeType(a.data)?Math.round(e.radius/5)+"px":""}).transition().duration(a).style("opacity",function(a){return e.isTargetToShow(a.data.id)&&e.isArcType(a.data)?1:0}),h.select("."+m.chartArcsTitle).style("opacity",e.hasType("donut")||e.hasType("gauge")?1:0),e.hasType("gauge")&&(e.arcs.select("."+m.chartArcsBackground).attr("d",function(){var a={data:[{value:g.gauge_max}],startAngle:g.gauge_startingAngle,endAngle:-1*g.gauge_startingAngle*(g.gauge_fullCircle?Math.PI:1)};return e.getArc(a,!0,!0)}),e.arcs.select("."+m.chartArcsGaugeUnit).attr("dy",".75em").text(g.gauge_label_show?g.gauge_units:""),e.arcs.select("."+m.chartArcsGaugeMin).attr("dx",-1*(e.innerRadius+(e.radius-e.innerRadius)/(g.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(g.gauge_label_show?g.gauge_min:""),e.arcs.select("."+m.chartArcsGaugeMax).attr("dx",e.innerRadius+(e.radius-e.innerRadius)/(g.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(g.gauge_label_show?g.gauge_max:""))},k.initGauge=function(){var a=this.arcs;this.hasType("gauge")&&(a.append("path").attr("class",m.chartArcsBackground),a.append("text").attr("class",m.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),a.append("text").attr("class",m.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),a.append("text").attr("class",m.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},k.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},k.initRegion=function(){var a=this;a.region=a.main.append("g").attr("clip-path",a.clipPath).attr("class",m.regions)},k.updateRegion=function(a){var b=this,c=b.config;b.region.style("visibility",b.hasArcType()?"hidden":"visible"),b.mainRegion=b.main.select("."+m.regions).selectAll("."+m.region).data(c.regions),b.mainRegion.enter().append("g").attr("class",b.classRegion.bind(b)).append("rect").style("fill-opacity",0),b.mainRegion.exit().transition().duration(a).style("opacity",0).remove()},k.redrawRegion=function(a){var b=this,c=b.mainRegion.selectAll("rect"),d=b.regionX.bind(b),e=b.regionY.bind(b),f=b.regionWidth.bind(b),g=b.regionHeight.bind(b);return[(a?c.transition():c).attr("x",d).attr("y",e).attr("width",f).attr("height",g).style("fill-opacity",function(a){return n(a.opacity)?a.opacity:.1})]},k.regionX=function(a){var b=this,c=b.config,d="y"===a.axis?b.y:b.y2;return"y"===a.axis||"y2"===a.axis?c.axis_rotated&&"start"in a?d(a.start):0:c.axis_rotated?0:"start"in a?b.x(b.isTimeSeries()?b.parseDate(a.start):a.start):0},k.regionY=function(a){var b=this,c=b.config,d="y"===a.axis?b.y:b.y2;return"y"===a.axis||"y2"===a.axis?c.axis_rotated?0:"end"in a?d(a.end):0:c.axis_rotated&&"start"in a?b.x(b.isTimeSeries()?b.parseDate(a.start):a.start):0},k.regionWidth=function(a){var b,c=this,d=c.config,e=c.regionX(a),f="y"===a.axis?c.y:c.y2;return b="y"===a.axis||"y2"===a.axis?d.axis_rotated&&"end"in a?f(a.end):c.width:d.axis_rotated?c.width:"end"in a?c.x(c.isTimeSeries()?c.parseDate(a.end):a.end):c.width,e>b?0:b-e},k.regionHeight=function(a){var b,c=this,d=c.config,e=this.regionY(a),f="y"===a.axis?c.y:c.y2;return b="y"===a.axis||"y2"===a.axis?d.axis_rotated?c.height:"start"in a?f(a.start):c.height:d.axis_rotated&&"end"in a?c.x(c.isTimeSeries()?c.parseDate(a.end):a.end):c.height,e>b?0:b-e},k.isRegionOnX=function(a){return!a.axis||"x"===a.axis},k.drag=function(a){var b,c,d,e,f,g,h,i,j=this,k=j.config,l=j.main,n=j.d3;j.hasArcType()||k.data_selection_enabled&&(k.zoom_enabled&&!j.zoom.altDomain||k.data_selection_multiple&&(b=j.dragStart[0],c=j.dragStart[1],d=a[0],e=a[1],f=Math.min(b,d),g=Math.max(b,d),h=k.data_selection_grouped?j.margin.top:Math.min(c,e),i=k.data_selection_grouped?j.height:Math.max(c,e),l.select("."+m.dragarea).attr("x",f).attr("y",h).attr("width",g-f).attr("height",i-h),l.selectAll("."+m.shapes).selectAll("."+m.shape).filter(function(a){return k.data_selection_isselectable(a)}).each(function(a,b){var c,d,e,k,l,o,p=n.select(this),q=p.classed(m.SELECTED),r=p.classed(m.INCLUDED),s=!1;if(p.classed(m.circle))c=1*p.attr("cx"),d=1*p.attr("cy"),l=j.togglePoint,s=c>f&&g>c&&d>h&&i>d;else{if(!p.classed(m.bar))return;o=z(this),c=o.x,d=o.y,e=o.width,k=o.height,l=j.togglePath,s=!(c>g||f>c+e||d>i||h>d+k)}s^r&&(p.classed(m.INCLUDED,!r),p.classed(m.SELECTED,!q),l.call(j,!q,p,a,b))})))},k.dragstart=function(a){var b=this,c=b.config;b.hasArcType()||c.data_selection_enabled&&(b.dragStart=a,b.main.select("."+m.chart).append("rect").attr("class",m.dragarea).style("opacity",.1),b.dragging=!0)},k.dragend=function(){var a=this,b=a.config;a.hasArcType()||b.data_selection_enabled&&(a.main.select("."+m.dragarea).transition().duration(100).style("opacity",0).remove(),a.main.selectAll("."+m.shape).classed(m.INCLUDED,!1),a.dragging=!1)},k.selectPoint=function(a,b,c){var d=this,e=d.config,f=(e.axis_rotated?d.circleY:d.circleX).bind(d),g=(e.axis_rotated?d.circleX:d.circleY).bind(d),h=d.pointSelectR.bind(d);e.data_onselected.call(d.api,b,a.node()),d.main.select("."+m.selectedCircles+d.getTargetSelectorSuffix(b.id)).selectAll("."+m.selectedCircle+"-"+c).data([b]).enter().append("circle").attr("class",function(){return d.generateClass(m.selectedCircle,c)}).attr("cx",f).attr("cy",g).attr("stroke",function(){return d.color(b)}).attr("r",function(a){return 1.4*d.pointSelectR(a)}).transition().duration(100).attr("r",h)},k.unselectPoint=function(a,b,c){var d=this;d.config.data_onunselected.call(d.api,b,a.node()),d.main.select("."+m.selectedCircles+d.getTargetSelectorSuffix(b.id)).selectAll("."+m.selectedCircle+"-"+c).transition().duration(100).attr("r",0).remove()},k.togglePoint=function(a,b,c,d){a?this.selectPoint(b,c,d):this.unselectPoint(b,c,d)},k.selectPath=function(a,b){var c=this;c.config.data_onselected.call(c,b,a.node()),a.transition().duration(100).style("fill",function(){return c.d3.rgb(c.color(b)).brighter(.75)})},k.unselectPath=function(a,b){var c=this;c.config.data_onunselected.call(c,b,a.node()),a.transition().duration(100).style("fill",function(){return c.color(b)})},k.togglePath=function(a,b,c,d){a?this.selectPath(b,c,d):this.unselectPath(b,c,d)},k.getToggle=function(a,b){var c,d=this;return"circle"===a.nodeName?c=d.isStepType(b)?function(){}:d.togglePoint:"path"===a.nodeName&&(c=d.togglePath),c},k.toggleShape=function(a,b,c){var d=this,e=d.d3,f=d.config,g=e.select(a),h=g.classed(m.SELECTED),i=d.getToggle(a,b).bind(d);f.data_selection_enabled&&f.data_selection_isselectable(b)&&(f.data_selection_multiple||d.main.selectAll("."+m.shapes+(f.data_selection_grouped?d.getTargetSelectorSuffix(b.id):"")).selectAll("."+m.shape).each(function(a,b){var c=e.select(this);c.classed(m.SELECTED)&&i(!1,c.classed(m.SELECTED,!1),a,b)}),g.classed(m.SELECTED,!h),i(!h,g,b,c))},k.initBrush=function(){var a=this,b=a.d3;a.brush=b.svg.brush().on("brush",function(){a.redrawForBrush()}),a.brush.update=function(){return a.context&&a.context.select("."+m.brush).call(this),this},a.brush.scale=function(b){return a.config.axis_rotated?this.y(b):this.x(b)}},k.initSubchart=function(){var a=this,b=a.config,c=a.context=a.svg.append("g").attr("transform",a.getTranslate("context")),d=b.subchart_show?"visible":"hidden";c.style("visibility",d),c.append("g").attr("clip-path",a.clipPathForSubchart).attr("class",m.chart),c.select("."+m.chart).append("g").attr("class",m.chartBars),c.select("."+m.chart).append("g").attr("class",m.chartLines),c.append("g").attr("clip-path",a.clipPath).attr("class",m.brush).call(a.brush),a.axes.subx=c.append("g").attr("class",m.axisX).attr("transform",a.getTranslate("subx")).attr("clip-path",b.axis_rotated?"":a.clipPathForXAxis).style("visibility",b.subchart_axis_x_show?d:"hidden")},k.updateTargetsForSubchart=function(a){var b,c,d,e,f=this,g=f.context,h=f.config,i=f.classChartBar.bind(f),j=f.classBars.bind(f),k=f.classChartLine.bind(f),l=f.classLines.bind(f),n=f.classAreas.bind(f);h.subchart_show&&(e=g.select("."+m.chartBars).selectAll("."+m.chartBar).data(a).attr("class",i),d=e.enter().append("g").style("opacity",0).attr("class",i),d.append("g").attr("class",j),c=g.select("."+m.chartLines).selectAll("."+m.chartLine).data(a).attr("class",k),b=c.enter().append("g").style("opacity",0).attr("class",k),b.append("g").attr("class",l),b.append("g").attr("class",n),g.selectAll("."+m.brush+" rect").attr(h.axis_rotated?"width":"height",h.axis_rotated?f.width2:f.height2))},k.updateBarForSubchart=function(a){var b=this;b.contextBar=b.context.selectAll("."+m.bars).selectAll("."+m.bar).data(b.barData.bind(b)),b.contextBar.enter().append("path").attr("class",b.classBar.bind(b)).style("stroke","none").style("fill",b.color),b.contextBar.style("opacity",b.initialOpacity.bind(b)),b.contextBar.exit().transition().duration(a).style("opacity",0).remove()},k.redrawBarForSubchart=function(a,b,c){(b?this.contextBar.transition(Math.random().toString()).duration(c):this.contextBar).attr("d",a).style("opacity",1)},k.updateLineForSubchart=function(a){var b=this;b.contextLine=b.context.selectAll("."+m.lines).selectAll("."+m.line).data(b.lineData.bind(b)),b.contextLine.enter().append("path").attr("class",b.classLine.bind(b)).style("stroke",b.color),b.contextLine.style("opacity",b.initialOpacity.bind(b)),b.contextLine.exit().transition().duration(a).style("opacity",0).remove()},k.redrawLineForSubchart=function(a,b,c){(b?this.contextLine.transition(Math.random().toString()).duration(c):this.contextLine).attr("d",a).style("opacity",1)},k.updateAreaForSubchart=function(a){var b=this,c=b.d3;b.contextArea=b.context.selectAll("."+m.areas).selectAll("."+m.area).data(b.lineData.bind(b)),b.contextArea.enter().append("path").attr("class",b.classArea.bind(b)).style("fill",b.color).style("opacity",function(){return b.orgAreaOpacity=+c.select(this).style("opacity"),0}),b.contextArea.style("opacity",0),b.contextArea.exit().transition().duration(a).style("opacity",0).remove()},k.redrawAreaForSubchart=function(a,b,c){(b?this.contextArea.transition(Math.random().toString()).duration(c):this.contextArea).attr("d",a).style("fill",this.color).style("opacity",this.orgAreaOpacity)},k.redrawSubchart=function(a,b,c,d,e,f,g){var h,i,j,k=this,l=k.d3,m=k.config;k.context.style("visibility",m.subchart_show?"visible":"hidden"),m.subchart_show&&(l.event&&"zoom"===l.event.type&&k.brush.extent(k.x.orgDomain()).update(),a&&(k.brush.empty()||k.brush.extent(k.x.orgDomain()).update(),h=k.generateDrawArea(e,!0),i=k.generateDrawBar(f,!0),j=k.generateDrawLine(g,!0),k.updateBarForSubchart(c),k.updateLineForSubchart(c),k.updateAreaForSubchart(c),k.redrawBarForSubchart(i,c,c),k.redrawLineForSubchart(j,c,c),k.redrawAreaForSubchart(h,c,c)))},k.redrawForBrush=function(){var a=this,b=a.x;a.redraw({withTransition:!1,withY:a.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1}),a.config.subchart_onbrush.call(a.api,b.orgDomain())},k.transformContext=function(a,b){var c,d=this;b&&b.axisSubX?c=b.axisSubX:(c=d.context.select("."+m.axisX),a&&(c=c.transition())),d.context.attr("transform",d.getTranslate("context")),c.attr("transform",d.getTranslate("subx"))},k.getDefaultExtent=function(){var a=this,b=a.config,c=o(b.axis_x_extent)?b.axis_x_extent(a.getXDomain(a.data.targets)):b.axis_x_extent;return a.isTimeSeries()&&(c=[a.parseDate(c[0]),a.parseDate(c[1])]),c},k.initZoom=function(){var a,b=this,c=b.d3,d=b.config;b.zoom=c.behavior.zoom().on("zoomstart",function(){a=c.event.sourceEvent,b.zoom.altDomain=c.event.sourceEvent.altKey?b.x.orgDomain():null,d.zoom_onzoomstart.call(b.api,c.event.sourceEvent)}).on("zoom",function(){b.redrawForZoom.call(b)}).on("zoomend",function(){var e=c.event.sourceEvent;e&&a.clientX===e.clientX&&a.clientY===e.clientY||(b.redrawEventRect(),b.updateZoom(),d.zoom_onzoomend.call(b.api,b.x.orgDomain()))}),b.zoom.scale=function(a){return d.axis_rotated?this.y(a):this.x(a)},b.zoom.orgScaleExtent=function(){var a=d.zoom_extent?d.zoom_extent:[1,10];return[a[0],Math.max(b.getMaxDataCount()/a[1],a[1])]},b.zoom.updateScaleExtent=function(){var a=u(b.x.orgDomain())/u(b.getZoomDomain()),c=this.orgScaleExtent();return this.scaleExtent([c[0]*a,c[1]*a]),this}},k.getZoomDomain=function(){var a=this,b=a.config,c=a.d3;return[c.min([a.orgXDomain[0],b.zoom_x_min]),c.max([a.orgXDomain[1],b.zoom_x_max])]},k.updateZoom=function(){var a=this,b=a.config.zoom_enabled?a.zoom:function(){};a.main.select("."+m.zoomRect).call(b).on("dblclick.zoom",null),a.main.selectAll("."+m.eventRect).call(b).on("dblclick.zoom",null)},k.redrawForZoom=function(){var a=this,b=a.d3,c=a.config,d=a.zoom,e=a.x;if(c.zoom_enabled&&0!==a.filterTargetsToShow(a.data.targets).length){if("mousemove"===b.event.sourceEvent.type&&d.altDomain)return e.domain(d.altDomain),void d.scale(e).updateScaleExtent();a.isCategorized()&&e.orgDomain()[0]===a.orgXDomain[0]&&e.domain([a.orgXDomain[0]-1e-10,e.orgDomain()[1]]),a.redraw({withTransition:!1,withY:c.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),"mousemove"===b.event.sourceEvent.type&&(a.cancelClick=!0),c.zoom_onzoom.call(a.api,e.orgDomain())}},k.generateColor=function(){var a=this,b=a.config,c=a.d3,d=b.data_colors,e=w(b.color_pattern)?b.color_pattern:c.scale.category10().range(),f=b.data_color,g=[];return function(a){var b,c=a.id||a.data&&a.data.id||a;return d[c]instanceof Function?b=d[c](a):d[c]?b=d[c]:(g.indexOf(c)<0&&g.push(c),b=e[g.indexOf(c)%e.length],d[c]=b),f instanceof Function?f(b,a):b}},k.generateLevelColor=function(){var a=this,b=a.config,c=b.color_pattern,d=b.color_threshold,e="value"===d.unit,f=d.values&&d.values.length?d.values:[],g=d.max||100;return w(b.color_threshold)?function(a){var b,d=c[c.length-1];for(b=0;b<f.length;b++)if((e?a:100*a/g)<f[b]){d=c[b];break}return d}:null},k.getYFormat=function(a){var b=this,c=a&&!b.hasType("gauge")?b.defaultArcValueFormat:b.yFormat,d=a&&!b.hasType("gauge")?b.defaultArcValueFormat:b.y2Format;return function(a,e,f){return("y2"===b.axis.getId(f)?d:c).call(b,a,e)}},k.yFormat=function(a){var b=this,c=b.config;return(c.axis_y_tick_format?c.axis_y_tick_format:b.defaultValueFormat)(a)},k.y2Format=function(a){var b=this,c=b.config;return(c.axis_y2_tick_format?c.axis_y2_tick_format:b.defaultValueFormat)(a)},k.defaultValueFormat=function(a){return n(a)?+a:""},k.defaultArcValueFormat=function(a,b){return(100*b).toFixed(1)+"%"},k.dataLabelFormat=function(a){var b=this,c=b.config.data_labels,d=function(a){return n(a)?+a:""};return"function"==typeof c.format?c.format:"object"===_typeof(c.format)?c.format[a]?!0===c.format[a]?d:c.format[a]:function(){return""}:d},k.hasCaches=function(a){for(var b=0;b<a.length;b++)if(!(a[b]in this.cache))return!1;return!0},k.addCache=function(a,b){this.cache[a]=this.cloneTarget(b)},k.getCaches=function(a){var b,c=[];for(b=0;b<a.length;b++)a[b]in this.cache&&c.push(this.cloneTarget(this.cache[a[b]]));return c};var m=k.CLASS={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"};k.generateClass=function(a,b){return" "+a+" "+a+this.getTargetSelectorSuffix(b)},k.classText=function(a){return this.generateClass(m.text,a.index)},k.classTexts=function(a){return this.generateClass(m.texts,a.id)},k.classShape=function(a){return this.generateClass(m.shape,a.index)},k.classShapes=function(a){return this.generateClass(m.shapes,a.id)},k.classLine=function(a){return this.classShape(a)+this.generateClass(m.line,a.id)},k.classLines=function(a){return this.classShapes(a)+this.generateClass(m.lines,a.id)},k.classCircle=function(a){return this.classShape(a)+this.generateClass(m.circle,a.index)},k.classCircles=function(a){return this.classShapes(a)+this.generateClass(m.circles,a.id)},k.classBar=function(a){return this.classShape(a)+this.generateClass(m.bar,a.index)},k.classBars=function(a){return this.classShapes(a)+this.generateClass(m.bars,a.id)},k.classArc=function(a){return this.classShape(a.data)+this.generateClass(m.arc,a.data.id)},k.classArcs=function(a){return this.classShapes(a.data)+this.generateClass(m.arcs,a.data.id)},k.classArea=function(a){return this.classShape(a)+this.generateClass(m.area,a.id)},k.classAreas=function(a){
return this.classShapes(a)+this.generateClass(m.areas,a.id)},k.classRegion=function(a,b){return this.generateClass(m.region,b)+" "+("class"in a?a["class"]:"")},k.classEvent=function(a){return this.generateClass(m.eventRect,a.index)},k.classTarget=function(a){var b=this,c=b.config.data_classes[a],d="";return c&&(d=" "+m.target+"-"+c),b.generateClass(m.target,a)+d},k.classFocus=function(a){return this.classFocused(a)+this.classDefocused(a)},k.classFocused=function(a){return" "+(this.focusedTargetIds.indexOf(a.id)>=0?m.focused:"")},k.classDefocused=function(a){return" "+(this.defocusedTargetIds.indexOf(a.id)>=0?m.defocused:"")},k.classChartText=function(a){return m.chartText+this.classTarget(a.id)},k.classChartLine=function(a){return m.chartLine+this.classTarget(a.id)},k.classChartBar=function(a){return m.chartBar+this.classTarget(a.id)},k.classChartArc=function(a){return m.chartArc+this.classTarget(a.data.id)},k.getTargetSelectorSuffix=function(a){return a||0===a?("-"+a).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""},k.selectorTarget=function(a,b){return(b||"")+"."+m.target+this.getTargetSelectorSuffix(a)},k.selectorTargets=function(a,b){var c=this;return a=a||[],a.length?a.map(function(a){return c.selectorTarget(a,b)}):null},k.selectorLegend=function(a){return"."+m.legendItem+this.getTargetSelectorSuffix(a)},k.selectorLegends=function(a){var b=this;return a&&a.length?a.map(function(a){return b.selectorLegend(a)}):null};var n=k.isValue=function(a){return a||0===a},o=k.isFunction=function(a){return"function"==typeof a},p=k.isString=function(a){return"string"==typeof a},q=k.isUndefined=function(a){return void 0===a},r=k.isDefined=function(a){return void 0!==a},s=k.ceil10=function(a){return 10*Math.ceil(a/10)},t=k.asHalfPixel=function(a){return Math.ceil(a)+.5},u=k.diffDomain=function(a){return a[1]-a[0]},v=k.isEmpty=function(a){return void 0===a||null===a||p(a)&&0===a.length||"object"===(void 0===a?"undefined":_typeof(a))&&0===Object.keys(a).length},w=k.notEmpty=function(a){return!k.isEmpty(a)},x=k.getOption=function(a,b,c){return r(a[b])?a[b]:c},y=k.hasValue=function(a,b){var c=!1;return Object.keys(a).forEach(function(d){a[d]===b&&(c=!0)}),c},z=k.getPathBox=function(a){var b=a.getBoundingClientRect(),c=[a.pathSegList.getItem(0),a.pathSegList.getItem(1)];return{x:c[0].x,y:Math.min(c[0].y,c[1].y),width:b.width,height:b.height}};j.focus=function(a){var b,c=this.internal;a=c.mapToTargetIds(a),b=c.svg.selectAll(c.selectorTargets(a.filter(c.isTargetToShow,c))),this.revert(),this.defocus(),b.classed(m.focused,!0).classed(m.defocused,!1),c.hasArcType()&&c.expandArc(a),c.toggleFocusLegend(a,!0),c.focusedTargetIds=a,c.defocusedTargetIds=c.defocusedTargetIds.filter(function(b){return a.indexOf(b)<0})},j.defocus=function(a){var b,c=this.internal;a=c.mapToTargetIds(a),b=c.svg.selectAll(c.selectorTargets(a.filter(c.isTargetToShow,c))),b.classed(m.focused,!1).classed(m.defocused,!0),c.hasArcType()&&c.unexpandArc(a),c.toggleFocusLegend(a,!1),c.focusedTargetIds=c.focusedTargetIds.filter(function(b){return a.indexOf(b)<0}),c.defocusedTargetIds=a},j.revert=function(a){var b,c=this.internal;a=c.mapToTargetIds(a),b=c.svg.selectAll(c.selectorTargets(a)),b.classed(m.focused,!1).classed(m.defocused,!1),c.hasArcType()&&c.unexpandArc(a),c.config.legend_show&&(c.showLegend(a.filter(c.isLegendToShow.bind(c))),c.legend.selectAll(c.selectorLegends(a)).filter(function(){return c.d3.select(this).classed(m.legendItemFocused)}).classed(m.legendItemFocused,!1)),c.focusedTargetIds=[],c.defocusedTargetIds=[]},j.show=function(a,b){var c,d=this.internal;a=d.mapToTargetIds(a),b=b||{},d.removeHiddenTargetIds(a),c=d.svg.selectAll(d.selectorTargets(a)),c.transition().style("opacity",1,"important").call(d.endall,function(){c.style("opacity",null).style("opacity",1)}),b.withLegend&&d.showLegend(a),d.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},j.hide=function(a,b){var c,d=this.internal;a=d.mapToTargetIds(a),b=b||{},d.addHiddenTargetIds(a),c=d.svg.selectAll(d.selectorTargets(a)),c.transition().style("opacity",0,"important").call(d.endall,function(){c.style("opacity",null).style("opacity",0)}),b.withLegend&&d.hideLegend(a),d.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},j.toggle=function(a,b){var c=this,d=this.internal;d.mapToTargetIds(a).forEach(function(a){d.isTargetToShow(a)?c.hide(a,b):c.show(a,b)})},j.zoom=function(a){var b=this.internal;return a&&(b.isTimeSeries()&&(a=a.map(function(a){return b.parseDate(a)})),b.brush.extent(a),b.redraw({withUpdateXDomain:!0,withY:b.config.zoom_rescale}),b.config.zoom_onzoom.call(this,b.x.orgDomain())),b.brush.extent()},j.zoom.enable=function(a){var b=this.internal;b.config.zoom_enabled=a,b.updateAndRedraw()},j.unzoom=function(){var a=this.internal;a.brush.clear().update(),a.redraw({withUpdateXDomain:!0})},j.zoom.max=function(a){var b=this.internal,c=b.config,d=b.d3;return 0===a||a?void(c.zoom_x_max=d.max([b.orgXDomain[1],a])):c.zoom_x_max},j.zoom.min=function(a){var b=this.internal,c=b.config,d=b.d3;return 0===a||a?void(c.zoom_x_min=d.min([b.orgXDomain[0],a])):c.zoom_x_min},j.zoom.range=function(a){return arguments.length?(r(a.max)&&this.domain.max(a.max),void(r(a.min)&&this.domain.min(a.min))):{max:this.domain.max(),min:this.domain.min()}},j.load=function(a){var b=this.internal,c=b.config;return a.xs&&b.addXs(a.xs),"classes"in a&&Object.keys(a.classes).forEach(function(b){c.data_classes[b]=a.classes[b]}),"categories"in a&&b.isCategorized()&&(c.axis_x_categories=a.categories),"axes"in a&&Object.keys(a.axes).forEach(function(b){c.data_axes[b]=a.axes[b]}),"colors"in a&&Object.keys(a.colors).forEach(function(b){c.data_colors[b]=a.colors[b]}),"cacheIds"in a&&b.hasCaches(a.cacheIds)?void b.load(b.getCaches(a.cacheIds),a.done):void("unload"in a?b.unload(b.mapToTargetIds("boolean"==typeof a.unload&&a.unload?null:a.unload),function(){b.loadFromArgs(a)}):b.loadFromArgs(a))},j.unload=function(a){var b=this.internal;a=a||{},a instanceof Array?a={ids:a}:"string"==typeof a&&(a={ids:[a]}),b.unload(b.mapToTargetIds(a.ids),function(){b.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),a.done&&a.done()})},j.flow=function(a){var b,c,d,e,f,g,h,i=this.internal,j=[],k=i.getMaxDataCount(),l=0,m=0;if(a.json)c=i.convertJsonToData(a.json,a.keys);else if(a.rows)c=i.convertRowsToData(a.rows);else{if(!a.columns)return;c=i.convertColumnsToData(a.columns)}b=i.convertDataToTargets(c,!0),i.data.targets.forEach(function(a){var c,d,e=!1;for(c=0;c<b.length;c++)if(a.id===b[c].id){for(e=!0,a.values[a.values.length-1]&&(m=a.values[a.values.length-1].index+1),l=b[c].values.length,d=0;l>d;d++)b[c].values[d].index=m+d,i.isTimeSeries()||(b[c].values[d].x=m+d);a.values=a.values.concat(b[c].values),b.splice(c,1);break}e||j.push(a.id)}),i.data.targets.forEach(function(a){var b,c;for(b=0;b<j.length;b++)if(a.id===j[b])for(m=a.values[a.values.length-1].index+1,c=0;l>c;c++)a.values.push({id:a.id,index:m+c,x:i.isTimeSeries()?i.getOtherTargetX(m+c):m+c,value:null})}),i.data.targets.length&&b.forEach(function(a){var b,c=[];for(b=i.data.targets[0].values[0].index;m>b;b++)c.push({id:a.id,index:b,x:i.isTimeSeries()?i.getOtherTargetX(b):b,value:null});a.values.forEach(function(a){a.index+=m,i.isTimeSeries()||(a.x+=m)}),a.values=c.concat(a.values)}),i.data.targets=i.data.targets.concat(b),i.getMaxDataCount(),e=i.data.targets[0],f=e.values[0],r(a.to)?(l=0,h=i.isTimeSeries()?i.parseDate(a.to):a.to,e.values.forEach(function(a){a.x<h&&l++})):r(a.length)&&(l=a.length),k?1===k&&i.isTimeSeries()&&(g=(e.values[e.values.length-1].x-f.x)/2,d=[new Date(+f.x-g),new Date(+f.x+g)],i.updateXDomain(null,!0,!0,!1,d)):(g=i.isTimeSeries()?e.values.length>1?e.values[e.values.length-1].x-f.x:f.x-i.getXDomain(i.data.targets)[0]:1,d=[f.x-g,f.x],i.updateXDomain(null,!0,!0,!1,d)),i.updateTargets(i.data.targets),i.redraw({flow:{index:f.index,length:l,duration:n(a.duration)?a.duration:i.config.transition_duration,done:a.done,orgDataCount:k},withLegend:!0,withTransition:k>1,withTrimXDomain:!1,withUpdateXAxis:!0})},k.generateFlow=function(a){var b=this,c=b.config,d=b.d3;return function(){var e,f,g,h=a.targets,i=a.flow,j=a.drawBar,k=a.drawLine,l=a.drawArea,n=a.cx,o=a.cy,p=a.xv,q=a.xForText,r=a.yForText,s=a.duration,t=1,v=i.index,w=i.length,x=b.getValueOnIndex(b.data.targets[0].values,v),y=b.getValueOnIndex(b.data.targets[0].values,v+w),z=b.x.domain(),A=i.duration||s,B=i.done||function(){},C=b.generateWait(),D=b.xgrid||d.selectAll([]),E=b.xgridLines||d.selectAll([]),F=b.mainRegion||d.selectAll([]),G=b.mainText||d.selectAll([]),H=b.mainBar||d.selectAll([]),I=b.mainLine||d.selectAll([]),J=b.mainArea||d.selectAll([]),K=b.mainCircle||d.selectAll([]);b.flowing=!0,b.data.targets.forEach(function(a){a.values.splice(0,w)}),g=b.updateXDomain(h,!0,!0),b.updateXGrid&&b.updateXGrid(!0),i.orgDataCount?e=1===i.orgDataCount||x.x===y.x?b.x(z[0])-b.x(g[0]):b.isTimeSeries()?b.x(z[0])-b.x(g[0]):b.x(x.x)-b.x(y.x):1!==b.data.targets[0].values.length?e=b.x(z[0])-b.x(g[0]):b.isTimeSeries()?(x=b.getValueOnIndex(b.data.targets[0].values,0),y=b.getValueOnIndex(b.data.targets[0].values,b.data.targets[0].values.length-1),e=b.x(x.x)-b.x(y.x)):e=u(g)/2,t=u(z)/u(g),f="translate("+e+",0) scale("+t+",1)",b.hideXGridFocus(),d.transition().ease("linear").duration(A).each(function(){C.add(b.axes.x.transition().call(b.xAxis)),C.add(H.transition().attr("transform",f)),C.add(I.transition().attr("transform",f)),C.add(J.transition().attr("transform",f)),C.add(K.transition().attr("transform",f)),C.add(G.transition().attr("transform",f)),C.add(F.filter(b.isRegionOnX).transition().attr("transform",f)),C.add(D.transition().attr("transform",f)),C.add(E.transition().attr("transform",f))}).call(C,function(){var a,d=[],e=[],f=[];if(w){for(a=0;w>a;a++)d.push("."+m.shape+"-"+(v+a)),e.push("."+m.text+"-"+(v+a)),f.push("."+m.eventRect+"-"+(v+a));b.svg.selectAll("."+m.shapes).selectAll(d).remove(),b.svg.selectAll("."+m.texts).selectAll(e).remove(),b.svg.selectAll("."+m.eventRects).selectAll(f).remove(),b.svg.select("."+m.xgrid).remove()}D.attr("transform",null).attr(b.xgridAttr),E.attr("transform",null),E.select("line").attr("x1",c.axis_rotated?0:p).attr("x2",c.axis_rotated?b.width:p),E.select("text").attr("x",c.axis_rotated?b.width:0).attr("y",p),H.attr("transform",null).attr("d",j),I.attr("transform",null).attr("d",k),J.attr("transform",null).attr("d",l),K.attr("transform",null).attr("cx",n).attr("cy",o),G.attr("transform",null).attr("x",q).attr("y",r).style("fill-opacity",b.opacityForText.bind(b)),F.attr("transform",null),F.select("rect").filter(b.isRegionOnX).attr("x",b.regionX.bind(b)).attr("width",b.regionWidth.bind(b)),c.interaction_enabled&&b.redrawEventRect(),B(),b.flowing=!1})}},j.selected=function(a){var b=this.internal,c=b.d3;return c.merge(b.main.selectAll("."+m.shapes+b.getTargetSelectorSuffix(a)).selectAll("."+m.shape).filter(function(){return c.select(this).classed(m.SELECTED)}).map(function(a){return a.map(function(a){var b=a.__data__;return b.data?b.data:b})}))},j.select=function(a,b,c){var d=this.internal,e=d.d3,f=d.config;f.data_selection_enabled&&d.main.selectAll("."+m.shapes).selectAll("."+m.shape).each(function(g,h){var i=e.select(this),j=g.data?g.data.id:g.id,k=d.getToggle(this,g).bind(d),l=f.data_selection_grouped||!a||a.indexOf(j)>=0,n=!b||b.indexOf(h)>=0,o=i.classed(m.SELECTED);i.classed(m.line)||i.classed(m.area)||(l&&n?f.data_selection_isselectable(g)&&!o&&k(!0,i.classed(m.SELECTED,!0),g,h):r(c)&&c&&o&&k(!1,i.classed(m.SELECTED,!1),g,h))})},j.unselect=function(a,b){var c=this.internal,d=c.d3,e=c.config;e.data_selection_enabled&&c.main.selectAll("."+m.shapes).selectAll("."+m.shape).each(function(f,g){var h=d.select(this),i=f.data?f.data.id:f.id,j=c.getToggle(this,f).bind(c),k=e.data_selection_grouped||!a||a.indexOf(i)>=0,l=!b||b.indexOf(g)>=0,n=h.classed(m.SELECTED);h.classed(m.line)||h.classed(m.area)||k&&l&&e.data_selection_isselectable(f)&&n&&j(!1,h.classed(m.SELECTED,!1),f,g)})},j.transform=function(a,b){var c=this.internal,d=["pie","donut"].indexOf(a)>=0?{withTransform:!0}:null;c.transformTo(b,a,d)},k.transformTo=function(a,b,c){var d=this,e=!d.hasArcType(),f=c||{withTransitionForAxis:e};f.withTransitionForTransform=!1,d.transiting=!1,d.setTargetType(a,b),d.updateTargets(d.data.targets),d.updateAndRedraw(f)},j.groups=function(a){var b=this.internal,c=b.config;return q(a)?c.data_groups:(c.data_groups=a,b.redraw(),c.data_groups)},j.xgrids=function(a){var b=this.internal,c=b.config;return a?(c.grid_x_lines=a,b.redrawWithoutRescale(),c.grid_x_lines):c.grid_x_lines},j.xgrids.add=function(a){var b=this.internal;return this.xgrids(b.config.grid_x_lines.concat(a||[]))},j.xgrids.remove=function(a){this.internal.removeGridLines(a,!0)},j.ygrids=function(a){var b=this.internal,c=b.config;return a?(c.grid_y_lines=a,b.redrawWithoutRescale(),c.grid_y_lines):c.grid_y_lines},j.ygrids.add=function(a){var b=this.internal;return this.ygrids(b.config.grid_y_lines.concat(a||[]))},j.ygrids.remove=function(a){this.internal.removeGridLines(a,!1)},j.regions=function(a){var b=this.internal,c=b.config;return a?(c.regions=a,b.redrawWithoutRescale(),c.regions):c.regions},j.regions.add=function(a){var b=this.internal,c=b.config;return a?(c.regions=c.regions.concat(a),b.redrawWithoutRescale(),c.regions):c.regions},j.regions.remove=function(a){var b,c,d,e=this.internal,f=e.config;return a=a||{},b=e.getOption(a,"duration",f.transition_duration),c=e.getOption(a,"classes",[m.region]),d=e.main.select("."+m.regions).selectAll(c.map(function(a){return"."+a})),(b?d.transition().duration(b):d).style("opacity",0).remove(),f.regions=f.regions.filter(function(a){var b=!1;return!a["class"]||(a["class"].split(" ").forEach(function(a){c.indexOf(a)>=0&&(b=!0)}),!b)}),f.regions},j.data=function(a){var b=this.internal.data.targets;return void 0===a?b:b.filter(function(b){return[].concat(a).indexOf(b.id)>=0})},j.data.shown=function(a){return this.internal.filterTargetsToShow(this.data(a))},j.data.values=function(a){var b,c=null;return a&&(b=this.data(a),c=b[0]?b[0].values.map(function(a){return a.value}):null),c},j.data.names=function(a){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",a)},j.data.colors=function(a){return this.internal.updateDataAttributes("colors",a)},j.data.axes=function(a){return this.internal.updateDataAttributes("axes",a)},j.category=function(a,b){var c=this.internal,d=c.config;return arguments.length>1&&(d.axis_x_categories[a]=b,c.redraw()),d.axis_x_categories[a]},j.categories=function(a){var b=this.internal,c=b.config;return arguments.length?(c.axis_x_categories=a,b.redraw(),c.axis_x_categories):c.axis_x_categories},j.color=function(a){return this.internal.color(a)},j.x=function(a){var b=this.internal;return arguments.length&&(b.updateTargetX(b.data.targets,a),b.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),b.data.xs},j.xs=function(a){var b=this.internal;return arguments.length&&(b.updateTargetXs(b.data.targets,a),b.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),b.data.xs},j.axis=function(){},j.axis.labels=function(a){var b=this.internal;arguments.length&&(Object.keys(a).forEach(function(c){b.axis.setLabelText(c,a[c])}),b.axis.updateLabels())},j.axis.max=function(a){var b=this.internal,c=b.config;return arguments.length?("object"===(void 0===a?"undefined":_typeof(a))?(n(a.x)&&(c.axis_x_max=a.x),n(a.y)&&(c.axis_y_max=a.y),n(a.y2)&&(c.axis_y2_max=a.y2)):c.axis_y_max=c.axis_y2_max=a,void b.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})):{x:c.axis_x_max,y:c.axis_y_max,y2:c.axis_y2_max}},j.axis.min=function(a){var b=this.internal,c=b.config;return arguments.length?("object"===(void 0===a?"undefined":_typeof(a))?(n(a.x)&&(c.axis_x_min=a.x),n(a.y)&&(c.axis_y_min=a.y),n(a.y2)&&(c.axis_y2_min=a.y2)):c.axis_y_min=c.axis_y2_min=a,void b.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})):{x:c.axis_x_min,y:c.axis_y_min,y2:c.axis_y2_min}},j.axis.range=function(a){return arguments.length?(r(a.max)&&this.axis.max(a.max),void(r(a.min)&&this.axis.min(a.min))):{max:this.axis.max(),min:this.axis.min()}},j.legend=function(){},j.legend.show=function(a){var b=this.internal;b.showLegend(b.mapToTargetIds(a)),b.updateAndRedraw({withLegend:!0})},j.legend.hide=function(a){var b=this.internal;b.hideLegend(b.mapToTargetIds(a)),b.updateAndRedraw({withLegend:!0})},j.resize=function(a){var b=this.internal,c=b.config;c.size_width=a?a.width:null,c.size_height=a?a.height:null,this.flush()},j.flush=function(){this.internal.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},j.destroy=function(){var a=this.internal;if(d.clearInterval(a.intervalForObserveInserted),void 0!==a.resizeTimeout&&d.clearTimeout(a.resizeTimeout),d.detachEvent)d.detachEvent("onresize",a.resizeFunction);else if(d.removeEventListener)d.removeEventListener("resize",a.resizeFunction);else{var b=d.onresize;b&&b.add&&b.remove&&b.remove(a.resizeFunction)}return a.selectChart.classed("c3",!1).html(""),Object.keys(a).forEach(function(b){a[b]=null}),null},j.tooltip=function(){},j.tooltip.show=function(a){var b,c,d=this.internal;a.mouse&&(c=a.mouse),a.data?d.isMultipleX()?(c=[d.x(a.data.x),d.getYScale(a.data.id)(a.data.value)],b=null):b=n(a.data.index)?a.data.index:d.getIndexByX(a.data.x):void 0!==a.x?b=d.getIndexByX(a.x):void 0!==a.index&&(b=a.index),d.dispatchEvent("mouseover",b,c),d.dispatchEvent("mousemove",b,c),d.config.tooltip_onshow.call(d,a.data)},j.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)};var A;k.isSafari=function(){var a=d.navigator.userAgent;return a.indexOf("Safari")>=0&&a.indexOf("Chrome")<0},k.isChrome=function(){return d.navigator.userAgent.indexOf("Chrome")>=0},Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),"function"==typeof define&&define.amd?define("c3",["d3"],function(){return l}):void 0!==c&&void 0!==b?b.exports=l:d.c3=l}(window)},{"./../d3/d3.js":13}],13:[function(a,b,c){!function(){function a(a){return a&&(a.ownerDocument||a.document||a).documentElement}function c(a){return a&&(a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView)}function d(a,b){return b>a?-1:a>b?1:a>=b?0:NaN}function e(a){return null===a?NaN:+a}function f(a){return!isNaN(a)}function g(a){return{left:function(b,c,d,e){for(arguments.length<3&&(d=0),arguments.length<4&&(e=b.length);e>d;){var f=d+e>>>1;a(b[f],c)<0?d=f+1:e=f}return d},right:function(b,c,d,e){for(arguments.length<3&&(d=0),arguments.length<4&&(e=b.length);e>d;){var f=d+e>>>1;a(b[f],c)>0?e=f:d=f+1}return d}}}function h(a){return a.length}function i(a){for(var b=1;a*b%1;)b*=10;return b}function j(a,b){for(var c in b)Object.defineProperty(a.prototype,c,{value:b[c],enumerable:!1})}function k(){this._=Object.create(null)}function l(a){return(a+="")===tg||a[0]===ug?ug+a:a}function m(a){return(a+="")[0]===ug?a.slice(1):a}function n(a){return l(a)in this._}function o(a){return(a=l(a))in this._&&delete this._[a]}function p(){var a=[];for(var b in this._)a.push(m(b));return a}function q(){var a=0;for(var b in this._)++a;return a}function r(){for(var a in this._)return!1;return!0}function s(){this._=Object.create(null)}function t(a){return a}function u(a,b,c){return function(){var d=c.apply(b,arguments);return d===b?a:d}}function v(a,b){if(b in a)return b;b=b.charAt(0).toUpperCase()+b.slice(1);for(var c=0,d=vg.length;d>c;++c){var e=vg[c]+b;if(e in a)return e}}function w(){}function x(){}function y(a){function b(){for(var b,d=c,e=-1,f=d.length;++e<f;)(b=d[e].on)&&b.apply(this,arguments);return a}var c=[],d=new k;return b.on=function(b,e){var f,g=d.get(b);return arguments.length<2?g&&g.on:(g&&(g.on=null,c=c.slice(0,f=c.indexOf(g)).concat(c.slice(f+1)),d.remove(b)),e&&c.push(d.set(b,{on:e})),a)},b}function z(){ig.event.preventDefault()}function A(){for(var a,b=ig.event;a=b.sourceEvent;)b=a;return b}function B(a){for(var b=new x,c=0,d=arguments.length;++c<d;)b[arguments[c]]=y(b);return b.of=function(c,d){return function(e){try{var f=e.sourceEvent=ig.event;e.target=a,ig.event=e,b[e.type].apply(c,d)}finally{ig.event=f}}},b}function C(a){return xg(a,Bg),a}function D(a){return"function"==typeof a?a:function(){return yg(a,this)}}function E(a){return"function"==typeof a?a:function(){return zg(a,this)}}function F(a,b){function c(){this.removeAttribute(a)}function d(){this.removeAttributeNS(a.space,a.local)}function e(){this.setAttribute(a,b)}function f(){this.setAttributeNS(a.space,a.local,b)}function g(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}function h(){var c=b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}return a=ig.ns.qualify(a),null==b?a.local?d:c:"function"==typeof b?a.local?h:g:a.local?f:e}function G(a){return a.trim().replace(/\s+/g," ")}function H(a){return new RegExp("(?:^|\\s+)"+ig.requote(a)+"(?:\\s+|$)","g")}function I(a){return(a+"").trim().split(/^|\s+/)}function J(a,b){function c(){for(var c=-1;++c<e;)a[c](this,b)}function d(){for(var c=-1,d=b.apply(this,arguments);++c<e;)a[c](this,d)}a=I(a).map(K);var e=a.length;return"function"==typeof b?d:c}function K(a){var b=H(a);return function(c,d){if(e=c.classList)return d?e.add(a):e.remove(a);var e=c.getAttribute("class")||"";d?(b.lastIndex=0,b.test(e)||c.setAttribute("class",G(e+" "+a))):c.setAttribute("class",G(e.replace(b," ")))}}function L(a,b,c){function d(){this.style.removeProperty(a)}function e(){this.style.setProperty(a,b,c)}function f(){var d=b.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,c)}return null==b?d:"function"==typeof b?f:e}function M(a,b){function c(){delete this[a]}function d(){this[a]=b}function e(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}return null==b?c:"function"==typeof b?e:d}function N(a){function b(){var b=this.ownerDocument,c=this.namespaceURI;return c===Cg&&b.documentElement.namespaceURI===Cg?b.createElement(a):b.createElementNS(c,a)}function c(){return this.ownerDocument.createElementNS(a.space,a.local)}return"function"==typeof a?a:(a=ig.ns.qualify(a)).local?c:b}function O(){var a=this.parentNode;a&&a.removeChild(this)}function P(a){return{__data__:a}}function Q(a){return function(){return Ag(this,a)}}function R(a){return arguments.length||(a=d),function(b,c){return b&&c?a(b.__data__,c.__data__):!b-!c}}function S(a,b){for(var c=0,d=a.length;d>c;c++)for(var e,f=a[c],g=0,h=f.length;h>g;g++)(e=f[g])&&b(e,g,c);return a}function T(a){return xg(a,Eg),a}function U(a){var b,c;return function(d,e,f){var g,h=a[f].update,i=h.length;for(f!=c&&(c=f,b=0),e>=b&&(b=e+1);!(g=h[b])&&++b<i;);return g}}function V(a,b,c){function d(){var b=this[g];b&&(this.removeEventListener(a,b,b.$),delete this[g])}function e(){var e=i(b,kg(arguments));d.call(this),this.addEventListener(a,this[g]=e,e.$=c),e._=b}function f(){var b,c=new RegExp("^__on([^.]+)"+ig.requote(a)+"$");for(var d in this)if(b=d.match(c)){var e=this[d];this.removeEventListener(b[1],e,e.$),delete this[d]}}var g="__on"+a,h=a.indexOf("."),i=W;h>0&&(a=a.slice(0,h));var j=Fg.get(a);return j&&(a=j,i=X),h?b?e:d:b?w:f}function W(a,b){return function(c){var d=ig.event;ig.event=c,b[0]=this.__data__;try{a.apply(this,b)}finally{ig.event=d}}}function X(a,b){var c=W(a,b);return function(a){var b=this,d=a.relatedTarget;d&&(d===b||8&d.compareDocumentPosition(b))||c.call(b,a)}}function Y(b){var d=".dragsuppress-"+ ++Hg,e="click"+d,f=ig.select(c(b)).on("touchmove"+d,z).on("dragstart"+d,z).on("selectstart"+d,z);if(null==Gg&&(Gg=!("onselectstart"in b)&&v(b.style,"userSelect")),Gg){var g=a(b).style,h=g[Gg];g[Gg]="none"}return function(a){if(f.on(d,null),Gg&&(g[Gg]=h),a){var b=function(){f.on(e,null)};f.on(e,function(){z(),b()},!0),setTimeout(b,0)}}}function Z(a,b){b.changedTouches&&(b=b.changedTouches[0]);var d=a.ownerSVGElement||a;if(d.createSVGPoint){var e=d.createSVGPoint();if(0>Ig){var f=c(a);if(f.scrollX||f.scrollY){d=ig.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var g=d[0][0].getScreenCTM();Ig=!(g.f||g.e),d.remove()}}return Ig?(e.x=b.pageX,e.y=b.pageY):(e.x=b.clientX,e.y=b.clientY),e=e.matrixTransform(a.getScreenCTM().inverse()),[e.x,e.y]}var h=a.getBoundingClientRect();return[b.clientX-h.left-a.clientLeft,b.clientY-h.top-a.clientTop]}function $(){return ig.event.changedTouches[0].identifier}function _(a){return a>0?1:0>a?-1:0}function aa(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0])}function ba(a){return a>1?0:-1>a?Lg:Math.acos(a)}function ca(a){return a>1?Og:-1>a?-Og:Math.asin(a)}function da(a){return((a=Math.exp(a))-1/a)/2}function ea(a){return((a=Math.exp(a))+1/a)/2}function fa(a){return((a=Math.exp(2*a))-1)/(a+1)}function ga(a){return(a=Math.sin(a/2))*a}function ha(){}function ia(a,b,c){return this instanceof ia?(this.h=+a,this.s=+b,void(this.l=+c)):arguments.length<2?a instanceof ia?new ia(a.h,a.s,a.l):wa(""+a,xa,ia):new ia(a,b,c)}function ja(a,b,c){function d(a){return a>360?a-=360:0>a&&(a+=360),60>a?f+(g-f)*a/60:180>a?g:240>a?f+(g-f)*(240-a)/60:f}function e(a){return Math.round(255*d(a))}var f,g;return a=isNaN(a)?0:(a%=360)<0?a+360:a,b=isNaN(b)?0:0>b?0:b>1?1:b,c=0>c?0:c>1?1:c,g=.5>=c?c*(1+b):c+b-c*b,f=2*c-g,new sa(e(a+120),e(a),e(a-120))}function ka(a,b,c){return this instanceof ka?(this.h=+a,this.c=+b,void(this.l=+c)):arguments.length<2?a instanceof ka?new ka(a.h,a.c,a.l):a instanceof ma?oa(a.l,a.a,a.b):oa((a=ya((a=ig.rgb(a)).r,a.g,a.b)).l,a.a,a.b):new ka(a,b,c)}function la(a,b,c){return isNaN(a)&&(a=0),isNaN(b)&&(b=0),new ma(c,Math.cos(a*=Pg)*b,Math.sin(a)*b)}function ma(a,b,c){return this instanceof ma?(this.l=+a,this.a=+b,void(this.b=+c)):arguments.length<2?a instanceof ma?new ma(a.l,a.a,a.b):a instanceof ka?la(a.h,a.c,a.l):ya((a=sa(a)).r,a.g,a.b):new ma(a,b,c)}function na(a,b,c){var d=(a+16)/116,e=d+b/500,f=d-c/200;return e=pa(e)*Yg,d=pa(d)*Zg,f=pa(f)*$g,new sa(ra(3.2404542*e-1.5371385*d-.4985314*f),ra(-.969266*e+1.8760108*d+.041556*f),ra(.0556434*e-.2040259*d+1.0572252*f))}function oa(a,b,c){return a>0?new ka(Math.atan2(c,b)*Qg,Math.sqrt(b*b+c*c),a):new ka(NaN,NaN,a)}function pa(a){return a>.206893034?a*a*a:(a-4/29)/7.787037}function qa(a){return a>.008856?Math.pow(a,1/3):7.787037*a+4/29}function ra(a){return Math.round(255*(.00304>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055))}function sa(a,b,c){return this instanceof sa?(this.r=~~a,this.g=~~b,void(this.b=~~c)):arguments.length<2?a instanceof sa?new sa(a.r,a.g,a.b):wa(""+a,sa,ja):new sa(a,b,c)}function ta(a){return new sa(a>>16,a>>8&255,255&a)}function ua(a){return ta(a)+""}function va(a){return 16>a?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function wa(a,b,c){var d,e,f,g=0,h=0,i=0;if(d=/([a-z]+)\((.*)\)/.exec(a=a.toLowerCase()))switch(e=d[2].split(","),d[1]){case"hsl":return c(parseFloat(e[0]),parseFloat(e[1])/100,parseFloat(e[2])/100);case"rgb":return b(Aa(e[0]),Aa(e[1]),Aa(e[2]))}return(f=bh.get(a))?b(f.r,f.g,f.b):(null==a||"#"!==a.charAt(0)||isNaN(f=parseInt(a.slice(1),16))||(4===a.length?(g=(3840&f)>>4,g|=g>>4,h=240&f,h|=h>>4,i=15&f,i|=i<<4):7===a.length&&(g=(16711680&f)>>16,h=(65280&f)>>8,i=255&f)),b(g,h,i))}function xa(a,b,c){var d,e,f=Math.min(a/=255,b/=255,c/=255),g=Math.max(a,b,c),h=g-f,i=(g+f)/2;return h?(e=.5>i?h/(g+f):h/(2-g-f),d=a==g?(b-c)/h+(c>b?6:0):b==g?(c-a)/h+2:(a-b)/h+4,d*=60):(d=NaN,e=i>0&&1>i?0:d),new ia(d,e,i)}function ya(a,b,c){a=za(a),b=za(b),c=za(c);var d=qa((.4124564*a+.3575761*b+.1804375*c)/Yg),e=qa((.2126729*a+.7151522*b+.072175*c)/Zg);return ma(116*e-16,500*(d-e),200*(e-qa((.0193339*a+.119192*b+.9503041*c)/$g)))}function za(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function Aa(a){var b=parseFloat(a);return"%"===a.charAt(a.length-1)?Math.round(2.55*b):b}function Ba(a){return"function"==typeof a?a:function(){return a}}function Ca(a){return function(b,c,d){return 2===arguments.length&&"function"==typeof c&&(d=c,c=null),Da(b,c,a,d)}}function Da(a,b,c,d){function e(){var a,b=i.status;if(!b&&Fa(i)||b>=200&&300>b||304===b){try{a=c.call(f,i)}catch(a){return void g.error.call(f,a)}g.load.call(f,a)}else g.error.call(f,i)}var f={},g=ig.dispatch("beforesend","progress","load","error"),h={},i=new XMLHttpRequest,j=null;return!this.XDomainRequest||"withCredentials"in i||!/^(http(s)?:)?\/\//.test(a)||(i=new XDomainRequest),"onload"in i?i.onload=i.onerror=e:i.onreadystatechange=function(){i.readyState>3&&e()},i.onprogress=function(a){var b=ig.event;ig.event=a;try{g.progress.call(f,i)}finally{ig.event=b}},f.header=function(a,b){return a=(a+"").toLowerCase(),arguments.length<2?h[a]:(null==b?delete h[a]:h[a]=b+"",f)},f.mimeType=function(a){return arguments.length?(b=null==a?null:a+"",f):b},f.responseType=function(a){return arguments.length?(j=a,f):j},f.response=function(a){return c=a,f},["get","post"].forEach(function(a){f[a]=function(){return f.send.apply(f,[a].concat(kg(arguments)))}}),f.send=function(c,d,e){if(2===arguments.length&&"function"==typeof d&&(e=d,d=null),i.open(c,a,!0),null==b||"accept"in h||(h.accept=b+",*/*"),i.setRequestHeader)for(var k in h)i.setRequestHeader(k,h[k]);return null!=b&&i.overrideMimeType&&i.overrideMimeType(b),null!=j&&(i.responseType=j),null!=e&&f.on("error",e).on("load",function(a){e(null,a)}),g.beforesend.call(f,i),i.send(null==d?null:d),f},f.abort=function(){return i.abort(),f},ig.rebind(f,g,"on"),null==d?f:f.get(Ea(d))}function Ea(a){return 1===a.length?function(b,c){a(null==b?c:null)}:a}function Fa(a){var b=a.responseType;return b&&"text"!==b?a.response:a.responseText}function Ga(a,b,c){var d=arguments.length;2>d&&(b=0),3>d&&(c=Date.now());var e=c+b,f={c:a,t:e,n:null};return dh?dh.n=f:ch=f,dh=f,eh||(fh=clearTimeout(fh),eh=1,gh(Ha)),f}function Ha(){var a=Ia(),b=Ja()-a;b>24?(isFinite(b)&&(clearTimeout(fh),fh=setTimeout(Ha,b)),eh=0):(eh=1,gh(Ha))}function Ia(){for(var a=Date.now(),b=ch;b;)a>=b.t&&b.c(a-b.t)&&(b.c=null),b=b.n;return a}function Ja(){for(var a,b=ch,c=1/0;b;)b.c?(b.t<c&&(c=b.t),b=(a=b).n):b=a?a.n=b.n:ch=b.n;return dh=a,c}function Ka(a,b){return b-(a?Math.ceil(Math.log(a)/Math.LN10):1)}function La(a,b){var c=Math.pow(10,3*sg(8-b));return{scale:b>8?function(a){return a/c}:function(a){return a*c},symbol:a}}function Ma(a){var b=a.decimal,c=a.thousands,d=a.grouping,e=a.currency,f=d&&c?function(a,b){for(var e=a.length,f=[],g=0,h=d[0],i=0;e>0&&h>0&&(i+h+1>b&&(h=Math.max(1,b-i)),f.push(a.substring(e-=h,e+h)),!((i+=h+1)>b));)h=d[g=(g+1)%d.length];return f.reverse().join(c)}:t;return function(a){var c=ih.exec(a),d=c[1]||" ",g=c[2]||">",h=c[3]||"-",i=c[4]||"",j=c[5],k=+c[6],l=c[7],m=c[8],n=c[9],o=1,p="",q="",r=!1,s=!0;switch(m&&(m=+m.substring(1)),(j||"0"===d&&"="===g)&&(j=d="0",g="="),n){case"n":l=!0,n="g";break;case"%":o=100,q="%",n="f";break;case"p":o=100,q="%",n="r";break;case"b":case"o":case"x":case"X":"#"===i&&(p="0"+n.toLowerCase());case"c":s=!1;case"d":r=!0,m=0;break;case"s":o=-1,n="r"}"$"===i&&(p=e[0],q=e[1]),"r"!=n||m||(n="g"),null!=m&&("g"==n?m=Math.max(1,Math.min(21,m)):"e"!=n&&"f"!=n||(m=Math.max(0,Math.min(20,m)))),n=jh.get(n)||Na;var t=j&&l;return function(a){var c=q;if(r&&a%1)return"";var e=0>a||0===a&&0>1/a?(a=-a,"-"):"-"===h?"":h;if(0>o){var i=ig.formatPrefix(a,m);a=i.scale(a),c=i.symbol+q}else a*=o;a=n(a,m);var u,v,w=a.lastIndexOf(".");if(0>w){var x=s?a.lastIndexOf("e"):-1;0>x?(u=a,v=""):(u=a.substring(0,x),v=a.substring(x))}else u=a.substring(0,w),v=b+a.substring(w+1);!j&&l&&(u=f(u,1/0));var y=p.length+u.length+v.length+(t?0:e.length),z=k>y?new Array(y=k-y+1).join(d):"";return t&&(u=f(z+u,z.length?k-v.length:1/0)),e+=p,a=u+v,("<"===g?e+a+z:">"===g?z+e+a:"^"===g?z.substring(0,y>>=1)+e+a+z.substring(y):e+(t?a:z+a))+c;
}}}function Na(a){return a+""}function Oa(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Pa(a,b,c){function d(b){var c=a(b),d=f(c,1);return d-b>b-c?c:d}function e(c){return b(c=a(new lh(c-1)),1),c}function f(a,c){return b(a=new lh(+a),c),a}function g(a,d,f){var g=e(a),h=[];if(f>1)for(;d>g;)c(g)%f||h.push(new Date(+g)),b(g,1);else for(;d>g;)h.push(new Date(+g)),b(g,1);return h}function h(a,b,c){try{lh=Oa;var d=new Oa;return d._=a,g(d,b,c)}finally{lh=Date}}a.floor=a,a.round=d,a.ceil=e,a.offset=f,a.range=g;var i=a.utc=Qa(a);return i.floor=i,i.round=Qa(d),i.ceil=Qa(e),i.offset=Qa(f),i.range=h,a}function Qa(a){return function(b,c){try{lh=Oa;var d=new Oa;return d._=b,a(d,c)._}finally{lh=Date}}}function Ra(a){function b(a){function b(b){for(var c,e,f,g=[],h=-1,i=0;++h<d;)37===a.charCodeAt(h)&&(g.push(a.slice(i,h)),null!=(e=nh[c=a.charAt(++h)])&&(c=a.charAt(++h)),(f=C[c])&&(c=f(b,null==e?"e"===c?" ":"0":e)),g.push(c),i=h+1);return g.push(a.slice(i,h)),g.join("")}var d=a.length;return b.parse=function(b){var d={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(c(d,a,b,0)!=b.length)return null;"p"in d&&(d.H=d.H%12+12*d.p);var e=null!=d.Z&&lh!==Oa,f=new(e?Oa:lh);return"j"in d?f.setFullYear(d.y,0,d.j):"W"in d||"U"in d?("w"in d||(d.w="W"in d?1:0),f.setFullYear(d.y,0,1),f.setFullYear(d.y,0,"W"in d?(d.w+6)%7+7*d.W-(f.getDay()+5)%7:d.w+7*d.U-(f.getDay()+6)%7)):f.setFullYear(d.y,d.m,d.d),f.setHours(d.H+(d.Z/100|0),d.M+d.Z%100,d.S,d.L),e?f._:f},b.toString=function(){return a},b}function c(a,b,c,d){for(var e,f,g,h=0,i=b.length,j=c.length;i>h;){if(d>=j)return-1;if(37===(e=b.charCodeAt(h++))){if(g=b.charAt(h++),!(f=D[g in nh?b.charAt(h++):g])||(d=f(a,c,d))<0)return-1}else if(e!=c.charCodeAt(d++))return-1}return d}function d(a,b,c){w.lastIndex=0;var d=w.exec(b.slice(c));return d?(a.w=x.get(d[0].toLowerCase()),c+d[0].length):-1}function e(a,b,c){u.lastIndex=0;var d=u.exec(b.slice(c));return d?(a.w=v.get(d[0].toLowerCase()),c+d[0].length):-1}function f(a,b,c){A.lastIndex=0;var d=A.exec(b.slice(c));return d?(a.m=B.get(d[0].toLowerCase()),c+d[0].length):-1}function g(a,b,c){y.lastIndex=0;var d=y.exec(b.slice(c));return d?(a.m=z.get(d[0].toLowerCase()),c+d[0].length):-1}function h(a,b,d){return c(a,C.c.toString(),b,d)}function i(a,b,d){return c(a,C.x.toString(),b,d)}function j(a,b,d){return c(a,C.X.toString(),b,d)}function k(a,b,c){var d=t.get(b.slice(c,c+=2).toLowerCase());return null==d?-1:(a.p=d,c)}var l=a.dateTime,m=a.date,n=a.time,o=a.periods,p=a.days,q=a.shortDays,r=a.months,s=a.shortMonths;b.utc=function(a){function c(a){try{lh=Oa;var b=new lh;return b._=a,d(b)}finally{lh=Date}}var d=b(a);return c.parse=function(a){try{lh=Oa;var b=d.parse(a);return b&&b._}finally{lh=Date}},c.toString=d.toString,c},b.multi=b.utc.multi=jb;var t=ig.map(),u=Ta(p),v=Ua(p),w=Ta(q),x=Ua(q),y=Ta(r),z=Ua(r),A=Ta(s),B=Ua(s);o.forEach(function(a,b){t.set(a.toLowerCase(),b)});var C={a:function(a){return q[a.getDay()]},A:function(a){return p[a.getDay()]},b:function(a){return s[a.getMonth()]},B:function(a){return r[a.getMonth()]},c:b(l),d:function(a,b){return Sa(a.getDate(),b,2)},e:function(a,b){return Sa(a.getDate(),b,2)},H:function(a,b){return Sa(a.getHours(),b,2)},I:function(a,b){return Sa(a.getHours()%12||12,b,2)},j:function(a,b){return Sa(1+kh.dayOfYear(a),b,3)},L:function(a,b){return Sa(a.getMilliseconds(),b,3)},m:function(a,b){return Sa(a.getMonth()+1,b,2)},M:function(a,b){return Sa(a.getMinutes(),b,2)},p:function(a){return o[+(a.getHours()>=12)]},S:function(a,b){return Sa(a.getSeconds(),b,2)},U:function(a,b){return Sa(kh.sundayOfYear(a),b,2)},w:function(a){return a.getDay()},W:function(a,b){return Sa(kh.mondayOfYear(a),b,2)},x:b(m),X:b(n),y:function(a,b){return Sa(a.getFullYear()%100,b,2)},Y:function(a,b){return Sa(a.getFullYear()%1e4,b,4)},Z:hb,"%":function(){return"%"}},D={a:d,A:e,b:f,B:g,c:h,d:bb,e:bb,H:db,I:db,j:cb,L:gb,m:ab,M:eb,p:k,S:fb,U:Wa,w:Va,W:Xa,x:i,X:j,y:Za,Y:Ya,Z:$a,"%":ib};return b}function Sa(a,b,c){var d=0>a?"-":"",e=(d?-a:a)+"",f=e.length;return d+(c>f?new Array(c-f+1).join(b)+e:e)}function Ta(a){return new RegExp("^(?:"+a.map(ig.requote).join("|")+")","i")}function Ua(a){for(var b=new k,c=-1,d=a.length;++c<d;)b.set(a[c].toLowerCase(),c);return b}function Va(a,b,c){oh.lastIndex=0;var d=oh.exec(b.slice(c,c+1));return d?(a.w=+d[0],c+d[0].length):-1}function Wa(a,b,c){oh.lastIndex=0;var d=oh.exec(b.slice(c));return d?(a.U=+d[0],c+d[0].length):-1}function Xa(a,b,c){oh.lastIndex=0;var d=oh.exec(b.slice(c));return d?(a.W=+d[0],c+d[0].length):-1}function Ya(a,b,c){oh.lastIndex=0;var d=oh.exec(b.slice(c,c+4));return d?(a.y=+d[0],c+d[0].length):-1}function Za(a,b,c){oh.lastIndex=0;var d=oh.exec(b.slice(c,c+2));return d?(a.y=_a(+d[0]),c+d[0].length):-1}function $a(a,b,c){return/^[+-]\d{4}$/.test(b=b.slice(c,c+5))?(a.Z=-b,c+5):-1}function _a(a){return a+(a>68?1900:2e3)}function ab(a,b,c){oh.lastIndex=0;var d=oh.exec(b.slice(c,c+2));return d?(a.m=d[0]-1,c+d[0].length):-1}function bb(a,b,c){oh.lastIndex=0;var d=oh.exec(b.slice(c,c+2));return d?(a.d=+d[0],c+d[0].length):-1}function cb(a,b,c){oh.lastIndex=0;var d=oh.exec(b.slice(c,c+3));return d?(a.j=+d[0],c+d[0].length):-1}function db(a,b,c){oh.lastIndex=0;var d=oh.exec(b.slice(c,c+2));return d?(a.H=+d[0],c+d[0].length):-1}function eb(a,b,c){oh.lastIndex=0;var d=oh.exec(b.slice(c,c+2));return d?(a.M=+d[0],c+d[0].length):-1}function fb(a,b,c){oh.lastIndex=0;var d=oh.exec(b.slice(c,c+2));return d?(a.S=+d[0],c+d[0].length):-1}function gb(a,b,c){oh.lastIndex=0;var d=oh.exec(b.slice(c,c+3));return d?(a.L=+d[0],c+d[0].length):-1}function hb(a){var b=a.getTimezoneOffset(),c=b>0?"-":"+",d=sg(b)/60|0,e=sg(b)%60;return c+Sa(d,"0",2)+Sa(e,"0",2)}function ib(a,b,c){ph.lastIndex=0;var d=ph.exec(b.slice(c,c+1));return d?c+d[0].length:-1}function jb(a){for(var b=a.length,c=-1;++c<b;)a[c][0]=this(a[c][0]);return function(b){for(var c=0,d=a[c];!d[1](b);)d=a[++c];return d[0](b)}}function kb(){}function lb(a,b,c){var d=c.s=a+b,e=d-a,f=d-e;c.t=a-f+(b-e)}function mb(a,b){a&&th.hasOwnProperty(a.type)&&th[a.type](a,b)}function nb(a,b,c){var d,e=-1,f=a.length-c;for(b.lineStart();++e<f;)d=a[e],b.point(d[0],d[1],d[2]);b.lineEnd()}function ob(a,b){var c=-1,d=a.length;for(b.polygonStart();++c<d;)nb(a[c],b,1);b.polygonEnd()}function pb(){function a(a,b){a*=Pg,b=b*Pg/2+Lg/4;var c=a-d,g=c>=0?1:-1,h=g*c,i=Math.cos(b),j=Math.sin(b),k=f*j,l=e*i+k*Math.cos(h),m=k*g*Math.sin(h);vh.add(Math.atan2(m,l)),d=a,e=i,f=j}var b,c,d,e,f;wh.point=function(g,h){wh.point=a,d=(b=g)*Pg,e=Math.cos(h=(c=h)*Pg/2+Lg/4),f=Math.sin(h)},wh.lineEnd=function(){a(b,c)}}function qb(a){var b=a[0],c=a[1],d=Math.cos(c);return[d*Math.cos(b),d*Math.sin(b),Math.sin(c)]}function rb(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function sb(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function tb(a,b){a[0]+=b[0],a[1]+=b[1],a[2]+=b[2]}function ub(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function vb(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b,a[1]/=b,a[2]/=b}function wb(a){return[Math.atan2(a[1],a[0]),ca(a[2])]}function xb(a,b){return sg(a[0]-b[0])<Jg&&sg(a[1]-b[1])<Jg}function yb(a,b){a*=Pg;var c=Math.cos(b*=Pg);zb(c*Math.cos(a),c*Math.sin(a),Math.sin(b))}function zb(a,b,c){++xh,zh+=(a-zh)/xh,Ah+=(b-Ah)/xh,Bh+=(c-Bh)/xh}function Ab(){function a(a,e){a*=Pg;var f=Math.cos(e*=Pg),g=f*Math.cos(a),h=f*Math.sin(a),i=Math.sin(e),j=Math.atan2(Math.sqrt((j=c*i-d*h)*j+(j=d*g-b*i)*j+(j=b*h-c*g)*j),b*g+c*h+d*i);yh+=j,Ch+=j*(b+(b=g)),Dh+=j*(c+(c=h)),Eh+=j*(d+(d=i)),zb(b,c,d)}var b,c,d;Ih.point=function(e,f){e*=Pg;var g=Math.cos(f*=Pg);b=g*Math.cos(e),c=g*Math.sin(e),d=Math.sin(f),Ih.point=a,zb(b,c,d)}}function Bb(){Ih.point=yb}function Cb(){function a(a,b){a*=Pg;var c=Math.cos(b*=Pg),g=c*Math.cos(a),h=c*Math.sin(a),i=Math.sin(b),j=e*i-f*h,k=f*g-d*i,l=d*h-e*g,m=Math.sqrt(j*j+k*k+l*l),n=d*g+e*h+f*i,o=m&&-ba(n)/m,p=Math.atan2(m,n);Fh+=o*j,Gh+=o*k,Hh+=o*l,yh+=p,Ch+=p*(d+(d=g)),Dh+=p*(e+(e=h)),Eh+=p*(f+(f=i)),zb(d,e,f)}var b,c,d,e,f;Ih.point=function(g,h){b=g,c=h,Ih.point=a,g*=Pg;var i=Math.cos(h*=Pg);d=i*Math.cos(g),e=i*Math.sin(g),f=Math.sin(h),zb(d,e,f)},Ih.lineEnd=function(){a(b,c),Ih.lineEnd=Bb,Ih.point=yb}}function Db(a,b){function c(c,d){return c=a(c,d),b(c[0],c[1])}return a.invert&&b.invert&&(c.invert=function(c,d){return(c=b.invert(c,d))&&a.invert(c[0],c[1])}),c}function Eb(){return!0}function Fb(a,b,c,d,e){var f=[],g=[];if(a.forEach(function(a){if(!((b=a.length-1)<=0)){var b,c=a[0],d=a[b];if(xb(c,d)){e.lineStart();for(var h=0;b>h;++h)e.point((c=a[h])[0],c[1]);return void e.lineEnd()}var i=new Hb(c,a,null,!0),j=new Hb(c,null,i,!1);i.o=j,f.push(i),g.push(j),i=new Hb(d,a,null,!1),j=new Hb(d,null,i,!0),i.o=j,f.push(i),g.push(j)}}),g.sort(b),Gb(f),Gb(g),f.length){for(var h=0,i=c,j=g.length;j>h;++h)g[h].e=i=!i;for(var k,l,m=f[0];;){for(var n=m,o=!0;n.v;)if((n=n.n)===m)return;k=n.z,e.lineStart();do{if(n.v=n.o.v=!0,n.e){if(o)for(var h=0,j=k.length;j>h;++h)e.point((l=k[h])[0],l[1]);else d(n.x,n.n.x,1,e);n=n.n}else{if(o){k=n.p.z;for(var h=k.length-1;h>=0;--h)e.point((l=k[h])[0],l[1])}else d(n.x,n.p.x,-1,e);n=n.p}n=n.o,k=n.z,o=!o}while(!n.v);e.lineEnd()}}}function Gb(a){if(b=a.length){for(var b,c,d=0,e=a[0];++d<b;)e.n=c=a[d],c.p=e,e=c;e.n=c=a[0],c.p=e}}function Hb(a,b,c,d){this.x=a,this.z=b,this.o=c,this.e=d,this.v=!1,this.n=this.p=null}function Ib(a,b,c,d){return function(e,f){function g(b,c){var d=e(b,c);a(b=d[0],c=d[1])&&f.point(b,c)}function h(a,b){var c=e(a,b);q.point(c[0],c[1])}function i(){s.point=h,q.lineStart()}function j(){s.point=g,q.lineEnd()}function k(a,b){p.push([a,b]);var c=e(a,b);u.point(c[0],c[1])}function l(){u.lineStart(),p=[]}function m(){k(p[0][0],p[0][1]),u.lineEnd();var a,b=u.clean(),c=t.buffer(),d=c.length;if(p.pop(),o.push(p),p=null,d)if(1&b){a=c[0];var e,d=a.length-1,g=-1;if(d>0){for(v||(f.polygonStart(),v=!0),f.lineStart();++g<d;)f.point((e=a[g])[0],e[1]);f.lineEnd()}}else d>1&&2&b&&c.push(c.pop().concat(c.shift())),n.push(c.filter(Jb))}var n,o,p,q=b(f),r=e.invert(d[0],d[1]),s={point:g,lineStart:i,lineEnd:j,polygonStart:function(){s.point=k,s.lineStart=l,s.lineEnd=m,n=[],o=[]},polygonEnd:function(){s.point=g,s.lineStart=i,s.lineEnd=j,n=ig.merge(n);var a=Pb(r,o);n.length?(v||(f.polygonStart(),v=!0),Fb(n,Lb,a,c,f)):a&&(v||(f.polygonStart(),v=!0),f.lineStart(),c(null,null,1,f),f.lineEnd()),v&&(f.polygonEnd(),v=!1),n=o=null},sphere:function(){f.polygonStart(),f.lineStart(),c(null,null,1,f),f.lineEnd(),f.polygonEnd()}},t=Kb(),u=b(t),v=!1;return s}}function Jb(a){return a.length>1}function Kb(){var a,b=[];return{lineStart:function(){b.push(a=[])},point:function(b,c){a.push([b,c])},lineEnd:w,buffer:function(){var c=b;return b=[],a=null,c},rejoin:function(){b.length>1&&b.push(b.pop().concat(b.shift()))}}}function Lb(a,b){return((a=a.x)[0]<0?a[1]-Og-Jg:Og-a[1])-((b=b.x)[0]<0?b[1]-Og-Jg:Og-b[1])}function Mb(a){var b,c=NaN,d=NaN,e=NaN;return{lineStart:function(){a.lineStart(),b=1},point:function(f,g){var h=f>0?Lg:-Lg,i=sg(f-c);sg(i-Lg)<Jg?(a.point(c,d=(d+g)/2>0?Og:-Og),a.point(e,d),a.lineEnd(),a.lineStart(),a.point(h,d),a.point(f,d),b=0):e!==h&&i>=Lg&&(sg(c-e)<Jg&&(c-=e*Jg),sg(f-h)<Jg&&(f-=h*Jg),d=Nb(c,d,f,g),a.point(e,d),a.lineEnd(),a.lineStart(),a.point(h,d),b=0),a.point(c=f,d=g),e=h},lineEnd:function(){a.lineEnd(),c=d=NaN},clean:function(){return 2-b}}}function Nb(a,b,c,d){var e,f,g=Math.sin(a-c);return sg(g)>Jg?Math.atan((Math.sin(b)*(f=Math.cos(d))*Math.sin(c)-Math.sin(d)*(e=Math.cos(b))*Math.sin(a))/(e*f*g)):(b+d)/2}function Ob(a,b,c,d){var e;if(null==a)e=c*Og,d.point(-Lg,e),d.point(0,e),d.point(Lg,e),d.point(Lg,0),d.point(Lg,-e),d.point(0,-e),d.point(-Lg,-e),d.point(-Lg,0),d.point(-Lg,e);else if(sg(a[0]-b[0])>Jg){var f=a[0]<b[0]?Lg:-Lg;e=c*f/2,d.point(-f,e),d.point(0,e),d.point(f,e)}else d.point(b[0],b[1])}function Pb(a,b){var c=a[0],d=a[1],e=[Math.sin(c),-Math.cos(c),0],f=0,g=0;vh.reset();for(var h=0,i=b.length;i>h;++h){var j=b[h],k=j.length;if(k)for(var l=j[0],m=l[0],n=l[1]/2+Lg/4,o=Math.sin(n),p=Math.cos(n),q=1;;){q===k&&(q=0),a=j[q];var r=a[0],s=a[1]/2+Lg/4,t=Math.sin(s),u=Math.cos(s),v=r-m,w=v>=0?1:-1,x=w*v,y=x>Lg,z=o*t;if(vh.add(Math.atan2(z*w*Math.sin(x),p*u+z*Math.cos(x))),f+=y?v+w*Mg:v,y^m>=c^r>=c){var A=sb(qb(l),qb(a));vb(A);var B=sb(e,A);vb(B);var C=(y^v>=0?-1:1)*ca(B[2]);(d>C||d===C&&(A[0]||A[1]))&&(g+=y^v>=0?1:-1)}if(!q++)break;m=r,o=t,p=u,l=a}}return(-Jg>f||Jg>f&&-Jg>vh)^1&g}function Qb(a){function b(a,b){return Math.cos(a)*Math.cos(b)>f}function c(a){var c,f,i,j,k;return{lineStart:function(){j=i=!1,k=1},point:function(l,m){var n,o=[l,m],p=b(l,m),q=g?p?0:e(l,m):p?e(l+(0>l?Lg:-Lg),m):0;if(!c&&(j=i=p)&&a.lineStart(),p!==i&&(n=d(c,o),(xb(c,n)||xb(o,n))&&(o[0]+=Jg,o[1]+=Jg,p=b(o[0],o[1]))),p!==i)k=0,p?(a.lineStart(),n=d(o,c),a.point(n[0],n[1])):(n=d(c,o),a.point(n[0],n[1]),a.lineEnd()),c=n;else if(h&&c&&g^p){var r;q&f||!(r=d(o,c,!0))||(k=0,g?(a.lineStart(),a.point(r[0][0],r[0][1]),a.point(r[1][0],r[1][1]),a.lineEnd()):(a.point(r[1][0],r[1][1]),a.lineEnd(),a.lineStart(),a.point(r[0][0],r[0][1])))}!p||c&&xb(c,o)||a.point(o[0],o[1]),c=o,i=p,f=q},lineEnd:function(){i&&a.lineEnd(),c=null},clean:function(){return k|(j&&i)<<1}}}function d(a,b,c){var d=qb(a),e=qb(b),g=[1,0,0],h=sb(d,e),i=rb(h,h),j=h[0],k=i-j*j;if(!k)return!c&&a;var l=f*i/k,m=-f*j/k,n=sb(g,h),o=ub(g,l);tb(o,ub(h,m));var p=n,q=rb(o,p),r=rb(p,p),s=q*q-r*(rb(o,o)-1);if(!(0>s)){var t=Math.sqrt(s),u=ub(p,(-q-t)/r);if(tb(u,o),u=wb(u),!c)return u;var v,w=a[0],x=b[0],y=a[1],z=b[1];w>x&&(v=w,w=x,x=v);var A=x-w,B=sg(A-Lg)<Jg,C=B||Jg>A;if(!B&&y>z&&(v=y,y=z,z=v),C?B?y+z>0^u[1]<(sg(u[0]-w)<Jg?y:z):y<=u[1]&&u[1]<=z:A>Lg^(w<=u[0]&&u[0]<=x)){var D=ub(p,(-q+t)/r);return tb(D,o),[u,wb(D)]}}}function e(b,c){var d=g?a:Lg-a,e=0;return-d>b?e|=1:b>d&&(e|=2),-d>c?e|=4:c>d&&(e|=8),e}var f=Math.cos(a),g=f>0,h=sg(f)>Jg;return Ib(b,c,pc(a,6*Pg),g?[0,-a]:[-Lg,a-Lg])}function Rb(a,b,c,d){return function(e){var f,g=e.a,h=e.b,i=g.x,j=g.y,k=h.x,l=h.y,m=0,n=1,o=k-i,p=l-j;if(f=a-i,o||!(f>0)){if(f/=o,0>o){if(m>f)return;n>f&&(n=f)}else if(o>0){if(f>n)return;f>m&&(m=f)}if(f=c-i,o||!(0>f)){if(f/=o,0>o){if(f>n)return;f>m&&(m=f)}else if(o>0){if(m>f)return;n>f&&(n=f)}if(f=b-j,p||!(f>0)){if(f/=p,0>p){if(m>f)return;n>f&&(n=f)}else if(p>0){if(f>n)return;f>m&&(m=f)}if(f=d-j,p||!(0>f)){if(f/=p,0>p){if(f>n)return;f>m&&(m=f)}else if(p>0){if(m>f)return;n>f&&(n=f)}return m>0&&(e.a={x:i+m*o,y:j+m*p}),1>n&&(e.b={x:i+n*o,y:j+n*p}),e}}}}}}function Sb(a,b,c,d){function e(d,e){return sg(d[0]-a)<Jg?e>0?0:3:sg(d[0]-c)<Jg?e>0?2:1:sg(d[1]-b)<Jg?e>0?1:0:e>0?3:2}function f(a,b){return g(a.x,b.x)}function g(a,b){var c=e(a,1),d=e(b,1);return c!==d?c-d:0===c?b[1]-a[1]:1===c?a[0]-b[0]:2===c?a[1]-b[1]:b[0]-a[0]}return function(h){function i(a){for(var b=0,c=q.length,d=a[1],e=0;c>e;++e)for(var f,g=1,h=q[e],i=h.length,j=h[0];i>g;++g)f=h[g],j[1]<=d?f[1]>d&&aa(j,f,a)>0&&++b:f[1]<=d&&aa(j,f,a)<0&&--b,j=f;return 0!==b}function j(f,h,i,j){var k=0,l=0;if(null==f||(k=e(f,i))!==(l=e(h,i))||g(f,h)<0^i>0){do j.point(0===k||3===k?a:c,k>1?d:b);while((k=(k+i+4)%4)!==l)}else j.point(h[0],h[1])}function k(e,f){return e>=a&&c>=e&&f>=b&&d>=f}function l(a,b){k(a,b)&&h.point(a,b)}function m(){D.point=o,q&&q.push(r=[]),y=!0,x=!1,v=w=NaN}function n(){p&&(o(s,t),u&&x&&B.rejoin(),p.push(B.buffer())),D.point=l,x&&h.lineEnd()}function o(a,b){a=Math.max(-Kh,Math.min(Kh,a)),b=Math.max(-Kh,Math.min(Kh,b));var c=k(a,b);if(q&&r.push([a,b]),y)s=a,t=b,u=c,y=!1,c&&(h.lineStart(),h.point(a,b));else if(c&&x)h.point(a,b);else{var d={a:{x:v,y:w},b:{x:a,y:b}};C(d)?(x||(h.lineStart(),h.point(d.a.x,d.a.y)),h.point(d.b.x,d.b.y),c||h.lineEnd(),z=!1):c&&(h.lineStart(),h.point(a,b),z=!1)}v=a,w=b,x=c}var p,q,r,s,t,u,v,w,x,y,z,A=h,B=Kb(),C=Rb(a,b,c,d),D={point:l,lineStart:m,lineEnd:n,polygonStart:function(){h=B,p=[],q=[],z=!0},polygonEnd:function(){h=A,p=ig.merge(p);var b=i([a,d]),c=z&&b,e=p.length;(c||e)&&(h.polygonStart(),c&&(h.lineStart(),j(null,null,1,h),h.lineEnd()),e&&Fb(p,f,b,j,h),h.polygonEnd()),p=q=r=null}};return D}}function Tb(a){var b=0,c=Lg/3,d=hc(a),e=d(b,c);return e.parallels=function(a){return arguments.length?d(b=a[0]*Lg/180,c=a[1]*Lg/180):[b/Lg*180,c/Lg*180]},e}function Ub(a,b){function c(a,b){var c=Math.sqrt(f-2*e*Math.sin(b))/e;return[c*Math.sin(a*=e),g-c*Math.cos(a)]}var d=Math.sin(a),e=(d+Math.sin(b))/2,f=1+d*(2*e-d),g=Math.sqrt(f)/e;return c.invert=function(a,b){var c=g-b;return[Math.atan2(a,c)/e,ca((f-(a*a+c*c)*e*e)/(2*e))]},c}function Vb(){function a(a,b){Mh+=e*a-d*b,d=a,e=b}var b,c,d,e;Rh.point=function(f,g){Rh.point=a,b=d=f,c=e=g},Rh.lineEnd=function(){a(b,c)}}function Wb(a,b){Nh>a&&(Nh=a),a>Ph&&(Ph=a),Oh>b&&(Oh=b),b>Qh&&(Qh=b)}function Xb(){function a(a,b){g.push("M",a,",",b,f)}function b(a,b){g.push("M",a,",",b),h.point=c}function c(a,b){g.push("L",a,",",b)}function d(){h.point=a}function e(){g.push("Z")}var f=Yb(4.5),g=[],h={point:a,lineStart:function(){h.point=b},lineEnd:d,polygonStart:function(){h.lineEnd=e},polygonEnd:function(){h.lineEnd=d,h.point=a},pointRadius:function(a){return f=Yb(a),h},result:function(){if(g.length){var a=g.join("");return g=[],a}}};return h}function Yb(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function Zb(a,b){zh+=a,Ah+=b,++Bh}function $b(){function a(a,d){var e=a-b,f=d-c,g=Math.sqrt(e*e+f*f);Ch+=g*(b+a)/2,Dh+=g*(c+d)/2,Eh+=g,Zb(b=a,c=d)}var b,c;Th.point=function(d,e){Th.point=a,Zb(b=d,c=e)}}function _b(){Th.point=Zb}function ac(){function a(a,b){var c=a-d,f=b-e,g=Math.sqrt(c*c+f*f);Ch+=g*(d+a)/2,Dh+=g*(e+b)/2,Eh+=g,g=e*a-d*b,Fh+=g*(d+a),Gh+=g*(e+b),Hh+=3*g,Zb(d=a,e=b)}var b,c,d,e;Th.point=function(f,g){Th.point=a,Zb(b=d=f,c=e=g)},Th.lineEnd=function(){a(b,c)}}function bc(a){function b(b,c){a.moveTo(b+g,c),a.arc(b,c,g,0,Mg)}function c(b,c){a.moveTo(b,c),h.point=d}function d(b,c){a.lineTo(b,c)}function e(){h.point=b}function f(){a.closePath()}var g=4.5,h={point:b,lineStart:function(){h.point=c},lineEnd:e,polygonStart:function(){h.lineEnd=f},polygonEnd:function(){h.lineEnd=e,h.point=b},pointRadius:function(a){return g=a,h},result:w};return h}function cc(a){function b(a){return(h?d:c)(a)}function c(b){return fc(b,function(c,d){c=a(c,d),b.point(c[0],c[1])})}function d(b){function c(c,d){c=a(c,d),b.point(c[0],c[1])}function d(){t=NaN,y.point=f,b.lineStart()}function f(c,d){var f=qb([c,d]),g=a(c,d);e(t,u,s,v,w,x,t=g[0],u=g[1],s=c,v=f[0],w=f[1],x=f[2],h,b),b.point(t,u)}function g(){y.point=c,b.lineEnd()}function i(){d(),y.point=j,y.lineEnd=k}function j(a,b){f(l=a,m=b),n=t,o=u,p=v,q=w,r=x,y.point=f}function k(){e(t,u,s,v,w,x,n,o,l,p,q,r,h,b),y.lineEnd=g,g()}var l,m,n,o,p,q,r,s,t,u,v,w,x,y={point:c,lineStart:d,lineEnd:g,polygonStart:function(){b.polygonStart(),y.lineStart=i},polygonEnd:function(){b.polygonEnd(),y.lineStart=d}};return y}function e(b,c,d,h,i,j,k,l,m,n,o,p,q,r){var s=k-b,t=l-c,u=s*s+t*t;if(u>4*f&&q--){var v=h+n,w=i+o,x=j+p,y=Math.sqrt(v*v+w*w+x*x),z=Math.asin(x/=y),A=sg(sg(x)-1)<Jg||sg(d-m)<Jg?(d+m)/2:Math.atan2(w,v),B=a(A,z),C=B[0],D=B[1],E=C-b,F=D-c,G=t*E-s*F;(G*G/u>f||sg((s*E+t*F)/u-.5)>.3||g>h*n+i*o+j*p)&&(e(b,c,d,h,i,j,C,D,A,v/=y,w/=y,x,q,r),r.point(C,D),e(C,D,A,v,w,x,k,l,m,n,o,p,q,r))}}var f=.5,g=Math.cos(30*Pg),h=16;return b.precision=function(a){return arguments.length?(h=(f=a*a)>0&&16,b):Math.sqrt(f)},b}function dc(a){var b=cc(function(b,c){return a([b*Qg,c*Qg])});return function(a){return ic(b(a))}}function ec(a){this.stream=a}function fc(a,b){return{point:b,sphere:function(){a.sphere()},lineStart:function(){a.lineStart()},lineEnd:function(){a.lineEnd()},polygonStart:function(){a.polygonStart()},polygonEnd:function(){a.polygonEnd()}}}function gc(a){return hc(function(){return a})()}function hc(a){function b(a){return a=h(a[0]*Pg,a[1]*Pg),[a[0]*m+i,j-a[1]*m]}function c(a){return(a=h.invert((a[0]-i)/m,(j-a[1])/m))&&[a[0]*Qg,a[1]*Qg]}function d(){h=Db(g=lc(r,s,u),f);var a=f(p,q);return i=n-a[0]*m,j=o+a[1]*m,e()}function e(){return k&&(k.valid=!1,k=null),b}var f,g,h,i,j,k,l=cc(function(a,b){return a=f(a,b),[a[0]*m+i,j-a[1]*m]}),m=150,n=480,o=250,p=0,q=0,r=0,s=0,u=0,v=Jh,w=t,x=null,y=null;return b.stream=function(a){return k&&(k.valid=!1),k=ic(v(g,l(w(a)))),k.valid=!0,k},b.clipAngle=function(a){return arguments.length?(v=null==a?(x=a,Jh):Qb((x=+a)*Pg),e()):x},b.clipExtent=function(a){return arguments.length?(y=a,w=a?Sb(a[0][0],a[0][1],a[1][0],a[1][1]):t,e()):y},b.scale=function(a){return arguments.length?(m=+a,d()):m},b.translate=function(a){return arguments.length?(n=+a[0],o=+a[1],d()):[n,o]},b.center=function(a){return arguments.length?(p=a[0]%360*Pg,q=a[1]%360*Pg,d()):[p*Qg,q*Qg]},b.rotate=function(a){return arguments.length?(r=a[0]%360*Pg,s=a[1]%360*Pg,u=a.length>2?a[2]%360*Pg:0,d()):[r*Qg,s*Qg,u*Qg]},ig.rebind(b,l,"precision"),function(){return f=a.apply(this,arguments),b.invert=f.invert&&c,d()}}function ic(a){return fc(a,function(b,c){a.point(b*Pg,c*Pg)})}function jc(a,b){return[a,b]}function kc(a,b){return[a>Lg?a-Mg:-Lg>a?a+Mg:a,b]}function lc(a,b,c){return a?b||c?Db(nc(a),oc(b,c)):nc(a):b||c?oc(b,c):kc}function mc(a){return function(b,c){return b+=a,[b>Lg?b-Mg:-Lg>b?b+Mg:b,c]}}function nc(a){var b=mc(a);return b.invert=mc(-a),b}function oc(a,b){function c(a,b){var c=Math.cos(b),h=Math.cos(a)*c,i=Math.sin(a)*c,j=Math.sin(b),k=j*d+h*e;return[Math.atan2(i*f-k*g,h*d-j*e),ca(k*f+i*g)]}var d=Math.cos(a),e=Math.sin(a),f=Math.cos(b),g=Math.sin(b);return c.invert=function(a,b){var c=Math.cos(b),h=Math.cos(a)*c,i=Math.sin(a)*c,j=Math.sin(b),k=j*f-i*g;return[Math.atan2(i*f+j*g,h*d+k*e),ca(k*d-h*e)]},c}function pc(a,b){var c=Math.cos(a),d=Math.sin(a);return function(e,f,g,h){var i=g*b;null!=e?(e=qc(c,e),f=qc(c,f),(g>0?f>e:e>f)&&(e+=g*Mg)):(e=a+g*Mg,f=a-.5*i);for(var j,k=e;g>0?k>f:f>k;k-=i)h.point((j=wb([c,-d*Math.cos(k),-d*Math.sin(k)]))[0],j[1])}}function qc(a,b){var c=qb(b);c[0]-=a,vb(c);var d=ba(-c[1]);return((-c[2]<0?-d:d)+2*Math.PI-Jg)%(2*Math.PI)}function rc(a,b,c){var d=ig.range(a,b-Jg,c).concat(b);return function(a){return d.map(function(b){return[a,b]})}}function sc(a,b,c){var d=ig.range(a,b-Jg,c).concat(b);return function(a){return d.map(function(b){return[b,a]})}}function tc(a){return a.source}function uc(a){return a.target}function vc(a,b,c,d){var e=Math.cos(b),f=Math.sin(b),g=Math.cos(d),h=Math.sin(d),i=e*Math.cos(a),j=e*Math.sin(a),k=g*Math.cos(c),l=g*Math.sin(c),m=2*Math.asin(Math.sqrt(ga(d-b)+e*g*ga(c-a))),n=1/Math.sin(m),o=m?function(a){var b=Math.sin(a*=m)*n,c=Math.sin(m-a)*n,d=c*i+b*k,e=c*j+b*l,g=c*f+b*h;return[Math.atan2(e,d)*Qg,Math.atan2(g,Math.sqrt(d*d+e*e))*Qg]}:function(){return[a*Qg,b*Qg]};return o.distance=m,o}function wc(){function a(a,e){var f=Math.sin(e*=Pg),g=Math.cos(e),h=sg((a*=Pg)-b),i=Math.cos(h);Uh+=Math.atan2(Math.sqrt((h=g*Math.sin(h))*h+(h=d*f-c*g*i)*h),c*f+d*g*i),b=a,c=f,d=g}var b,c,d;Vh.point=function(e,f){b=e*Pg,c=Math.sin(f*=Pg),d=Math.cos(f),Vh.point=a},Vh.lineEnd=function(){Vh.point=Vh.lineEnd=w}}function xc(a,b){function c(b,c){var d=Math.cos(b),e=Math.cos(c),f=a(d*e);return[f*e*Math.sin(b),f*Math.sin(c)]}return c.invert=function(a,c){var d=Math.sqrt(a*a+c*c),e=b(d),f=Math.sin(e),g=Math.cos(e);return[Math.atan2(a*f,d*g),Math.asin(d&&c*f/d)]},c}function yc(a,b){function c(a,b){g>0?-Og+Jg>b&&(b=-Og+Jg):b>Og-Jg&&(b=Og-Jg);var c=g/Math.pow(e(b),f);return[c*Math.sin(f*a),g-c*Math.cos(f*a)]}var d=Math.cos(a),e=function(a){return Math.tan(Lg/4+a/2)},f=a===b?Math.sin(a):Math.log(d/Math.cos(b))/Math.log(e(b)/e(a)),g=d*Math.pow(e(a),f)/f;return f?(c.invert=function(a,b){var c=g-b,d=_(f)*Math.sqrt(a*a+c*c);return[Math.atan2(a,c)/f,2*Math.atan(Math.pow(g/d,1/f))-Og]},c):Ac}function zc(a,b){function c(a,b){var c=f-b;return[c*Math.sin(e*a),f-c*Math.cos(e*a)]}var d=Math.cos(a),e=a===b?Math.sin(a):(d-Math.cos(b))/(b-a),f=d/e+a;return sg(e)<Jg?jc:(c.invert=function(a,b){var c=f-b;return[Math.atan2(a,c)/e,f-_(e)*Math.sqrt(a*a+c*c)]},c)}function Ac(a,b){return[a,Math.log(Math.tan(Lg/4+b/2))]}function Bc(a){var b,c=gc(a),d=c.scale,e=c.translate,f=c.clipExtent;return c.scale=function(){var a=d.apply(c,arguments);return a===c?b?c.clipExtent(null):c:a},c.translate=function(){var a=e.apply(c,arguments);return a===c?b?c.clipExtent(null):c:a},c.clipExtent=function(a){var g=f.apply(c,arguments);if(g===c){if(b=null==a){var h=Lg*d(),i=e();f([[i[0]-h,i[1]-h],[i[0]+h,i[1]+h]])}}else b&&(g=null);return g},c.clipExtent(null)}function Cc(a,b){return[Math.log(Math.tan(Lg/4+b/2)),-a]}function Dc(a){return a[0]}function Ec(a){return a[1]}function Fc(a){for(var b=a.length,c=[0,1],d=2,e=2;b>e;e++){for(;d>1&&aa(a[c[d-2]],a[c[d-1]],a[e])<=0;)--d;c[d++]=e}return c.slice(0,d)}function Gc(a,b){return a[0]-b[0]||a[1]-b[1]}function Hc(a,b,c){return(c[0]-b[0])*(a[1]-b[1])<(c[1]-b[1])*(a[0]-b[0])}function Ic(a,b,c,d){var e=a[0],f=c[0],g=b[0]-e,h=d[0]-f,i=a[1],j=c[1],k=b[1]-i,l=d[1]-j,m=(h*(i-j)-l*(e-f))/(l*g-h*k);return[e+m*g,i+m*k]}function Jc(a){var b=a[0],c=a[a.length-1];return!(b[0]-c[0]||b[1]-c[1])}function Kc(){dd(this),this.edge=this.site=this.circle=null}function Lc(a){var b=fi.pop()||new Kc;return b.site=a,b}function Mc(a){Wc(a),ci.remove(a),fi.push(a),dd(a)}function Nc(a){var b=a.circle,c=b.x,d=b.cy,e={x:c,y:d},f=a.P,g=a.N,h=[a];Mc(a);for(var i=f;i.circle&&sg(c-i.circle.x)<Jg&&sg(d-i.circle.cy)<Jg;)f=i.P,h.unshift(i),Mc(i),i=f;h.unshift(i),Wc(i);for(var j=g;j.circle&&sg(c-j.circle.x)<Jg&&sg(d-j.circle.cy)<Jg;)g=j.N,h.push(j),Mc(j),j=g;h.push(j),Wc(j);var k,l=h.length;for(k=1;l>k;++k)j=h[k],i=h[k-1],ad(j.edge,i.site,j.site,e);i=h[0],j=h[l-1],j.edge=$c(i.site,j.site,null,e),Vc(i),Vc(j)}function Oc(a){for(var b,c,d,e,f=a.x,g=a.y,h=ci._;h;)if((d=Pc(h,g)-f)>Jg)h=h.L;else{if(!((e=f-Qc(h,g))>Jg)){d>-Jg?(b=h.P,c=h):e>-Jg?(b=h,c=h.N):b=c=h;break}if(!h.R){b=h;break}h=h.R}var i=Lc(a);if(ci.insert(b,i),b||c){if(b===c)return Wc(b),c=Lc(b.site),ci.insert(i,c),i.edge=c.edge=$c(b.site,i.site),Vc(b),void Vc(c);if(!c)return void(i.edge=$c(b.site,i.site));Wc(b),Wc(c);var j=b.site,k=j.x,l=j.y,m=a.x-k,n=a.y-l,o=c.site,p=o.x-k,q=o.y-l,r=2*(m*q-n*p),s=m*m+n*n,t=p*p+q*q,u={x:(q*s-n*t)/r+k,y:(m*t-p*s)/r+l};ad(c.edge,j,o,u),i.edge=$c(j,a,null,u),c.edge=$c(a,o,null,u),Vc(b),Vc(c)}}function Pc(a,b){var c=a.site,d=c.x,e=c.y,f=e-b;if(!f)return d;var g=a.P;if(!g)return-1/0;c=g.site;var h=c.x,i=c.y,j=i-b;if(!j)return h;var k=h-d,l=1/f-1/j,m=k/j;return l?(-m+Math.sqrt(m*m-2*l*(k*k/(-2*j)-i+j/2+e-f/2)))/l+d:(d+h)/2}function Qc(a,b){var c=a.N;if(c)return Pc(c,b);var d=a.site;return d.y===b?d.x:1/0}function Rc(a){this.site=a,this.edges=[]}function Sc(a){for(var b,c,d,e,f,g,h,i,j,k,l=a[0][0],m=a[1][0],n=a[0][1],o=a[1][1],p=bi,q=p.length;q--;)if((f=p[q])&&f.prepare())for(h=f.edges,i=h.length,g=0;i>g;)k=h[g].end(),d=k.x,e=k.y,j=h[++g%i].start(),b=j.x,c=j.y,(sg(d-b)>Jg||sg(e-c)>Jg)&&(h.splice(g,0,new bd(_c(f.site,k,sg(d-l)<Jg&&o-e>Jg?{x:l,y:sg(b-l)<Jg?c:o}:sg(e-o)<Jg&&m-d>Jg?{x:sg(c-o)<Jg?b:m,y:o}:sg(d-m)<Jg&&e-n>Jg?{x:m,y:sg(b-m)<Jg?c:n}:sg(e-n)<Jg&&d-l>Jg?{x:sg(c-n)<Jg?b:l,y:n}:null),f.site,null)),++i)}function Tc(a,b){return b.angle-a.angle}function Uc(){dd(this),this.x=this.y=this.arc=this.site=this.cy=null}function Vc(a){var b=a.P,c=a.N;if(b&&c){var d=b.site,e=a.site,f=c.site;if(d!==f){var g=e.x,h=e.y,i=d.x-g,j=d.y-h,k=f.x-g,l=f.y-h,m=2*(i*l-j*k);if(!(m>=-Kg)){var n=i*i+j*j,o=k*k+l*l,p=(l*n-j*o)/m,q=(i*o-k*n)/m,l=q+h,r=gi.pop()||new Uc;r.arc=a,r.site=e,r.x=p+g,r.y=l+Math.sqrt(p*p+q*q),r.cy=l,a.circle=r;for(var s=null,t=ei._;t;)if(r.y<t.y||r.y===t.y&&r.x<=t.x){if(!t.L){s=t.P;break}t=t.L}else{if(!t.R){s=t;break}t=t.R}ei.insert(s,r),s||(di=r)}}}}function Wc(a){var b=a.circle;b&&(b.P||(di=b.N),ei.remove(b),gi.push(b),dd(b),a.circle=null)}function Xc(a){for(var b,c=ai,d=Rb(a[0][0],a[0][1],a[1][0],a[1][1]),e=c.length;e--;)b=c[e],(!Yc(b,a)||!d(b)||sg(b.a.x-b.b.x)<Jg&&sg(b.a.y-b.b.y)<Jg)&&(b.a=b.b=null,c.splice(e,1))}function Yc(a,b){var c=a.b;if(c)return!0;var d,e,f=a.a,g=b[0][0],h=b[1][0],i=b[0][1],j=b[1][1],k=a.l,l=a.r,m=k.x,n=k.y,o=l.x,p=l.y,q=(m+o)/2,r=(n+p)/2;if(p===n){if(g>q||q>=h)return;if(m>o){if(f){if(f.y>=j)return}else f={x:q,y:i};c={x:q,y:j}}else{if(f){if(f.y<i)return}else f={x:q,y:j};c={x:q,y:i}}}else if(d=(m-o)/(p-n),e=r-d*q,-1>d||d>1)if(m>o){if(f){if(f.y>=j)return}else f={x:(i-e)/d,y:i};c={x:(j-e)/d,y:j}}else{if(f){if(f.y<i)return}else f={x:(j-e)/d,y:j};c={x:(i-e)/d,y:i}}else if(p>n){if(f){if(f.x>=h)return}else f={x:g,y:d*g+e};c={x:h,y:d*h+e}}else{if(f){if(f.x<g)return}else f={x:h,y:d*h+e};c={x:g,y:d*g+e}}return a.a=f,a.b=c,!0}function Zc(a,b){this.l=a,this.r=b,this.a=this.b=null}function $c(a,b,c,d){var e=new Zc(a,b);return ai.push(e),c&&ad(e,a,b,c),d&&ad(e,b,a,d),bi[a.i].edges.push(new bd(e,a,b)),bi[b.i].edges.push(new bd(e,b,a)),e}function _c(a,b,c){var d=new Zc(a,null);return d.a=b,d.b=c,ai.push(d),d}function ad(a,b,c,d){a.a||a.b?a.l===c?a.b=d:a.a=d:(a.a=d,a.l=b,a.r=c)}function bd(a,b,c){var d=a.a,e=a.b;this.edge=a,this.site=b,this.angle=c?Math.atan2(c.y-b.y,c.x-b.x):a.l===b?Math.atan2(e.x-d.x,d.y-e.y):Math.atan2(d.x-e.x,e.y-d.y)}function cd(){this._=null}function dd(a){a.U=a.C=a.L=a.R=a.P=a.N=null}function ed(a,b){var c=b,d=b.R,e=c.U;e?e.L===c?e.L=d:e.R=d:a._=d,d.U=e,c.U=d,c.R=d.L,c.R&&(c.R.U=c),d.L=c}function fd(a,b){var c=b,d=b.L,e=c.U;e?e.L===c?e.L=d:e.R=d:a._=d,d.U=e,c.U=d,c.L=d.R,c.L&&(c.L.U=c),d.R=c}function gd(a){for(;a.L;)a=a.L;return a}function hd(a,b){var c,d,e,f=a.sort(id).pop();for(ai=[],bi=new Array(a.length),ci=new cd,ei=new cd;;)if(e=di,f&&(!e||f.y<e.y||f.y===e.y&&f.x<e.x))f.x===c&&f.y===d||(bi[f.i]=new Rc(f),Oc(f),c=f.x,d=f.y),f=a.pop();else{if(!e)break;Nc(e.arc)}b&&(Xc(b),Sc(b));var g={cells:bi,edges:ai};return ci=ei=ai=bi=null,g}function id(a,b){return b.y-a.y||b.x-a.x}function jd(a,b,c){return(a.x-c.x)*(b.y-a.y)-(a.x-b.x)*(c.y-a.y)}function kd(a){return a.x}function ld(a){return a.y}function md(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function nd(a,b,c,d,e,f){if(!a(b,c,d,e,f)){var g=.5*(c+e),h=.5*(d+f),i=b.nodes;i[0]&&nd(a,i[0],c,d,g,h),i[1]&&nd(a,i[1],g,d,e,h),i[2]&&nd(a,i[2],c,h,g,f),i[3]&&nd(a,i[3],g,h,e,f)}}function od(a,b,c,d,e,f,g){var h,i=1/0;return function j(a,k,l,m,n){if(!(k>f||l>g||d>m||e>n)){if(o=a.point){var o,p=b-a.x,q=c-a.y,r=p*p+q*q;if(i>r){var s=Math.sqrt(i=r);d=b-s,e=c-s,f=b+s,g=c+s,h=o}}for(var t=a.nodes,u=.5*(k+m),v=.5*(l+n),w=b>=u,x=c>=v,y=x<<1|w,z=y+4;z>y;++y)if(a=t[3&y])switch(3&y){case 0:j(a,k,l,u,v);break;case 1:j(a,u,l,m,v);break;case 2:j(a,k,v,u,n);break;case 3:j(a,u,v,m,n)}}}(a,d,e,f,g),h}function pd(a,b){a=ig.rgb(a),b=ig.rgb(b);var c=a.r,d=a.g,e=a.b,f=b.r-c,g=b.g-d,h=b.b-e;return function(a){return"#"+va(Math.round(c+f*a))+va(Math.round(d+g*a))+va(Math.round(e+h*a))}}function qd(a,b){var c,d={},e={};for(c in a)c in b?d[c]=td(a[c],b[c]):e[c]=a[c];for(c in b)c in a||(e[c]=b[c]);return function(a){for(c in d)e[c]=d[c](a);return e}}function rd(a,b){return a=+a,b=+b,function(c){return a*(1-c)+b*c}}function sd(a,b){var c,d,e,f=ii.lastIndex=ji.lastIndex=0,g=-1,h=[],i=[];for(a+="",b+="";(c=ii.exec(a))&&(d=ji.exec(b));)(e=d.index)>f&&(e=b.slice(f,e),h[g]?h[g]+=e:h[++g]=e),(c=c[0])===(d=d[0])?h[g]?h[g]+=d:h[++g]=d:(h[++g]=null,i.push({i:g,x:rd(c,d)})),f=ji.lastIndex;return f<b.length&&(e=b.slice(f),h[g]?h[g]+=e:h[++g]=e),h.length<2?i[0]?(b=i[0].x,function(a){return b(a)+""}):function(){return b}:(b=i.length,function(a){for(var c,d=0;b>d;++d)h[(c=i[d]).i]=c.x(a);return h.join("")})}function td(a,b){for(var c,d=ig.interpolators.length;--d>=0&&!(c=ig.interpolators[d](a,b)););return c}function ud(a,b){var c,d=[],e=[],f=a.length,g=b.length,h=Math.min(a.length,b.length);for(c=0;h>c;++c)d.push(td(a[c],b[c]));for(;f>c;++c)e[c]=a[c];for(;g>c;++c)e[c]=b[c];return function(a){for(c=0;h>c;++c)e[c]=d[c](a);return e}}function vd(a){return function(b){return 0>=b?0:b>=1?1:a(b)}}function wd(a){return function(b){return 1-a(1-b)}}function xd(a){return function(b){return.5*(.5>b?a(2*b):2-a(2-2*b))}}function yd(a){return a*a}function zd(a){return a*a*a}function Ad(a){if(0>=a)return 0;if(a>=1)return 1;var b=a*a,c=b*a;return 4*(.5>a?c:3*(a-b)+c-.75)}function Bd(a){return function(b){return Math.pow(b,a)}}function Cd(a){return 1-Math.cos(a*Og)}function Dd(a){return Math.pow(2,10*(a-1))}function Ed(a){return 1-Math.sqrt(1-a*a)}function Fd(a,b){var c;return arguments.length<2&&(b=.45),arguments.length?c=b/Mg*Math.asin(1/a):(a=1,
c=b/4),function(d){return 1+a*Math.pow(2,-10*d)*Math.sin((d-c)*Mg/b)}}function Gd(a){return a||(a=1.70158),function(b){return b*b*((a+1)*b-a)}}function Hd(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}function Id(a,b){a=ig.hcl(a),b=ig.hcl(b);var c=a.h,d=a.c,e=a.l,f=b.h-c,g=b.c-d,h=b.l-e;return isNaN(g)&&(g=0,d=isNaN(d)?b.c:d),isNaN(f)?(f=0,c=isNaN(c)?b.h:c):f>180?f-=360:-180>f&&(f+=360),function(a){return la(c+f*a,d+g*a,e+h*a)+""}}function Jd(a,b){a=ig.hsl(a),b=ig.hsl(b);var c=a.h,d=a.s,e=a.l,f=b.h-c,g=b.s-d,h=b.l-e;return isNaN(g)&&(g=0,d=isNaN(d)?b.s:d),isNaN(f)?(f=0,c=isNaN(c)?b.h:c):f>180?f-=360:-180>f&&(f+=360),function(a){return ja(c+f*a,d+g*a,e+h*a)+""}}function Kd(a,b){a=ig.lab(a),b=ig.lab(b);var c=a.l,d=a.a,e=a.b,f=b.l-c,g=b.a-d,h=b.b-e;return function(a){return na(c+f*a,d+g*a,e+h*a)+""}}function Ld(a,b){return b-=a,function(c){return Math.round(a+b*c)}}function Md(a){var b=[a.a,a.b],c=[a.c,a.d],d=Od(b),e=Nd(b,c),f=Od(Pd(c,b,-e))||0;b[0]*c[1]<c[0]*b[1]&&(b[0]*=-1,b[1]*=-1,d*=-1,e*=-1),this.rotate=(d?Math.atan2(b[1],b[0]):Math.atan2(-c[0],c[1]))*Qg,this.translate=[a.e,a.f],this.scale=[d,f],this.skew=f?Math.atan2(e,f)*Qg:0}function Nd(a,b){return a[0]*b[0]+a[1]*b[1]}function Od(a){var b=Math.sqrt(Nd(a,a));return b&&(a[0]/=b,a[1]/=b),b}function Pd(a,b,c){return a[0]+=c*b[0],a[1]+=c*b[1],a}function Qd(a){return a.length?a.pop()+",":""}function Rd(a,b,c,d){if(a[0]!==b[0]||a[1]!==b[1]){var e=c.push("translate(",null,",",null,")");d.push({i:e-4,x:rd(a[0],b[0])},{i:e-2,x:rd(a[1],b[1])})}else(b[0]||b[1])&&c.push("translate("+b+")")}function Sd(a,b,c,d){a!==b?(a-b>180?b+=360:b-a>180&&(a+=360),d.push({i:c.push(Qd(c)+"rotate(",null,")")-2,x:rd(a,b)})):b&&c.push(Qd(c)+"rotate("+b+")")}function Td(a,b,c,d){a!==b?d.push({i:c.push(Qd(c)+"skewX(",null,")")-2,x:rd(a,b)}):b&&c.push(Qd(c)+"skewX("+b+")")}function Ud(a,b,c,d){if(a[0]!==b[0]||a[1]!==b[1]){var e=c.push(Qd(c)+"scale(",null,",",null,")");d.push({i:e-4,x:rd(a[0],b[0])},{i:e-2,x:rd(a[1],b[1])})}else 1===b[0]&&1===b[1]||c.push(Qd(c)+"scale("+b+")")}function Vd(a,b){var c=[],d=[];return a=ig.transform(a),b=ig.transform(b),Rd(a.translate,b.translate,c,d),Sd(a.rotate,b.rotate,c,d),Td(a.skew,b.skew,c,d),Ud(a.scale,b.scale,c,d),a=b=null,function(a){for(var b,e=-1,f=d.length;++e<f;)c[(b=d[e]).i]=b.x(a);return c.join("")}}function Wd(a,b){return b=(b-=a=+a)||1/b,function(c){return(c-a)/b}}function Xd(a,b){return b=(b-=a=+a)||1/b,function(c){return Math.max(0,Math.min(1,(c-a)/b))}}function Yd(a){for(var b=a.source,c=a.target,d=$d(b,c),e=[b];b!==d;)b=b.parent,e.push(b);for(var f=e.length;c!==d;)e.splice(f,0,c),c=c.parent;return e}function Zd(a){for(var b=[],c=a.parent;null!=c;)b.push(a),a=c,c=c.parent;return b.push(a),b}function $d(a,b){if(a===b)return a;for(var c=Zd(a),d=Zd(b),e=c.pop(),f=d.pop(),g=null;e===f;)g=e,e=c.pop(),f=d.pop();return g}function _d(a){a.fixed|=2}function ae(a){a.fixed&=-7}function be(a){a.fixed|=4,a.px=a.x,a.py=a.y}function ce(a){a.fixed&=-5}function de(a,b,c){var d=0,e=0;if(a.charge=0,!a.leaf)for(var f,g=a.nodes,h=g.length,i=-1;++i<h;)null!=(f=g[i])&&(de(f,b,c),a.charge+=f.charge,d+=f.charge*f.cx,e+=f.charge*f.cy);if(a.point){a.leaf||(a.point.x+=Math.random()-.5,a.point.y+=Math.random()-.5);var j=b*c[a.point.index];a.charge+=a.pointCharge=j,d+=j*a.point.x,e+=j*a.point.y}a.cx=d/a.charge,a.cy=e/a.charge}function ee(a,b){return ig.rebind(a,b,"sort","children","value"),a.nodes=a,a.links=ke,a}function fe(a,b){for(var c=[a];null!=(a=c.pop());)if(b(a),(e=a.children)&&(d=e.length))for(var d,e;--d>=0;)c.push(e[d])}function ge(a,b){for(var c=[a],d=[];null!=(a=c.pop());)if(d.push(a),(f=a.children)&&(e=f.length))for(var e,f,g=-1;++g<e;)c.push(f[g]);for(;null!=(a=d.pop());)b(a)}function he(a){return a.children}function ie(a){return a.value}function je(a,b){return b.value-a.value}function ke(a){return ig.merge(a.map(function(a){return(a.children||[]).map(function(b){return{source:a,target:b}})}))}function le(a){return a.x}function me(a){return a.y}function ne(a,b,c){a.y0=b,a.y=c}function oe(a){return ig.range(a.length)}function pe(a){for(var b=-1,c=a[0].length,d=[];++b<c;)d[b]=0;return d}function qe(a){for(var b,c=1,d=0,e=a[0][1],f=a.length;f>c;++c)(b=a[c][1])>e&&(d=c,e=b);return d}function re(a){return a.reduce(se,0)}function se(a,b){return a+b[1]}function te(a,b){return ue(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function ue(a,b){for(var c=-1,d=+a[0],e=(a[1]-d)/b,f=[];++c<=b;)f[c]=e*c+d;return f}function ve(a){return[ig.min(a),ig.max(a)]}function we(a,b){return a.value-b.value}function xe(a,b){var c=a._pack_next;a._pack_next=b,b._pack_prev=a,b._pack_next=c,c._pack_prev=b}function ye(a,b){a._pack_next=b,b._pack_prev=a}function ze(a,b){var c=b.x-a.x,d=b.y-a.y,e=a.r+b.r;return.999*e*e>c*c+d*d}function Ae(a){function b(a){k=Math.min(a.x-a.r,k),l=Math.max(a.x+a.r,l),m=Math.min(a.y-a.r,m),n=Math.max(a.y+a.r,n)}if((c=a.children)&&(j=c.length)){var c,d,e,f,g,h,i,j,k=1/0,l=-1/0,m=1/0,n=-1/0;if(c.forEach(Be),d=c[0],d.x=-d.r,d.y=0,b(d),j>1&&(e=c[1],e.x=e.r,e.y=0,b(e),j>2))for(f=c[2],Ee(d,e,f),b(f),xe(d,f),d._pack_prev=f,xe(f,e),e=d._pack_next,g=3;j>g;g++){Ee(d,e,f=c[g]);var o=0,p=1,q=1;for(h=e._pack_next;h!==e;h=h._pack_next,p++)if(ze(h,f)){o=1;break}if(1==o)for(i=d._pack_prev;i!==h._pack_prev&&!ze(i,f);i=i._pack_prev,q++);o?(q>p||p==q&&e.r<d.r?ye(d,e=h):ye(d=i,e),g--):(xe(d,f),e=f,b(f))}var r=(k+l)/2,s=(m+n)/2,t=0;for(g=0;j>g;g++)f=c[g],f.x-=r,f.y-=s,t=Math.max(t,f.r+Math.sqrt(f.x*f.x+f.y*f.y));a.r=t,c.forEach(Ce)}}function Be(a){a._pack_next=a._pack_prev=a}function Ce(a){delete a._pack_next,delete a._pack_prev}function De(a,b,c,d){var e=a.children;if(a.x=b+=d*a.x,a.y=c+=d*a.y,a.r*=d,e)for(var f=-1,g=e.length;++f<g;)De(e[f],b,c,d)}function Ee(a,b,c){var d=a.r+c.r,e=b.x-a.x,f=b.y-a.y;if(d&&(e||f)){var g=b.r+c.r,h=e*e+f*f;g*=g,d*=d;var i=.5+(d-g)/(2*h),j=Math.sqrt(Math.max(0,2*g*(d+h)-(d-=h)*d-g*g))/(2*h);c.x=a.x+i*e+j*f,c.y=a.y+i*f-j*e}else c.x=a.x+d,c.y=a.y}function Fe(a,b){return a.parent==b.parent?1:2}function Ge(a){var b=a.children;return b.length?b[0]:a.t}function He(a){var b,c=a.children;return(b=c.length)?c[b-1]:a.t}function Ie(a,b,c){var d=c/(b.i-a.i);b.c-=d,b.s+=c,a.c+=d,b.z+=c,b.m+=c}function Je(a){for(var b,c=0,d=0,e=a.children,f=e.length;--f>=0;)b=e[f],b.z+=c,b.m+=c,c+=b.s+(d+=b.c)}function Ke(a,b,c){return a.a.parent===b.parent?a.a:c}function Le(a){return 1+ig.max(a,function(a){return a.y})}function Me(a){return a.reduce(function(a,b){return a+b.x},0)/a.length}function Ne(a){var b=a.children;return b&&b.length?Ne(b[0]):a}function Oe(a){var b,c=a.children;return c&&(b=c.length)?Oe(c[b-1]):a}function Pe(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function Qe(a,b){var c=a.x+b[3],d=a.y+b[0],e=a.dx-b[1]-b[3],f=a.dy-b[0]-b[2];return 0>e&&(c+=e/2,e=0),0>f&&(d+=f/2,f=0),{x:c,y:d,dx:e,dy:f}}function Re(a){var b=a[0],c=a[a.length-1];return c>b?[b,c]:[c,b]}function Se(a){return a.rangeExtent?a.rangeExtent():Re(a.range())}function Te(a,b,c,d){var e=c(a[0],a[1]),f=d(b[0],b[1]);return function(a){return f(e(a))}}function Ue(a,b){var c,d=0,e=a.length-1,f=a[d],g=a[e];return f>g&&(c=d,d=e,e=c,c=f,f=g,g=c),a[d]=b.floor(f),a[e]=b.ceil(g),a}function Ve(a){return a?{floor:function(b){return Math.floor(b/a)*a},ceil:function(b){return Math.ceil(b/a)*a}}:ui}function We(a,b,c,d){var e=[],f=[],g=0,h=Math.min(a.length,b.length)-1;for(a[h]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());++g<=h;)e.push(c(a[g-1],a[g])),f.push(d(b[g-1],b[g]));return function(b){var c=ig.bisect(a,b,1,h)-1;return f[c](e[c](b))}}function Xe(a,b,c,d){function e(){var e=Math.min(a.length,b.length)>2?We:Te,i=d?Xd:Wd;return g=e(a,b,i,c),h=e(b,a,i,td),f}function f(a){return g(a)}var g,h;return f.invert=function(a){return h(a)},f.domain=function(b){return arguments.length?(a=b.map(Number),e()):a},f.range=function(a){return arguments.length?(b=a,e()):b},f.rangeRound=function(a){return f.range(a).interpolate(Ld)},f.clamp=function(a){return arguments.length?(d=a,e()):d},f.interpolate=function(a){return arguments.length?(c=a,e()):c},f.ticks=function(b){return _e(a,b)},f.tickFormat=function(b,c){return af(a,b,c)},f.nice=function(b){return Ze(a,b),e()},f.copy=function(){return Xe(a,b,c,d)},e()}function Ye(a,b){return ig.rebind(a,b,"range","rangeRound","interpolate","clamp")}function Ze(a,b){return Ue(a,Ve($e(a,b)[2])),Ue(a,Ve($e(a,b)[2])),a}function $e(a,b){null==b&&(b=10);var c=Re(a),d=c[1]-c[0],e=Math.pow(10,Math.floor(Math.log(d/b)/Math.LN10)),f=b/d*e;return.15>=f?e*=10:.35>=f?e*=5:.75>=f&&(e*=2),c[0]=Math.ceil(c[0]/e)*e,c[1]=Math.floor(c[1]/e)*e+.5*e,c[2]=e,c}function _e(a,b){return ig.range.apply(ig,$e(a,b))}function af(a,b,c){var d=$e(a,b);if(c){var e=ih.exec(c);if(e.shift(),"s"===e[8]){var f=ig.formatPrefix(Math.max(sg(d[0]),sg(d[1])));return e[7]||(e[7]="."+bf(f.scale(d[2]))),e[8]="f",c=ig.format(e.join("")),function(a){return c(f.scale(a))+f.symbol}}e[7]||(e[7]="."+cf(e[8],d)),c=e.join("")}else c=",."+bf(d[2])+"f";return ig.format(c)}function bf(a){return-Math.floor(Math.log(a)/Math.LN10+.01)}function cf(a,b){var c=bf(b[2]);return a in vi?Math.abs(c-bf(Math.max(sg(b[0]),sg(b[1]))))+ +("e"!==a):c-2*("%"===a)}function df(a,b,c,d){function e(a){return(c?Math.log(0>a?0:a):-Math.log(a>0?0:-a))/Math.log(b)}function f(a){return c?Math.pow(b,a):-Math.pow(b,-a)}function g(b){return a(e(b))}return g.invert=function(b){return f(a.invert(b))},g.domain=function(b){return arguments.length?(c=b[0]>=0,a.domain((d=b.map(Number)).map(e)),g):d},g.base=function(c){return arguments.length?(b=+c,a.domain(d.map(e)),g):b},g.nice=function(){var b=Ue(d.map(e),c?Math:xi);return a.domain(b),d=b.map(f),g},g.ticks=function(){var a=Re(d),g=[],h=a[0],i=a[1],j=Math.floor(e(h)),k=Math.ceil(e(i)),l=b%1?2:b;if(isFinite(k-j)){if(c){for(;k>j;j++)for(var m=1;l>m;m++)g.push(f(j)*m);g.push(f(j))}else for(g.push(f(j));j++<k;)for(var m=l-1;m>0;m--)g.push(f(j)*m);for(j=0;g[j]<h;j++);for(k=g.length;g[k-1]>i;k--);g=g.slice(j,k)}return g},g.tickFormat=function(a,c){if(!arguments.length)return wi;arguments.length<2?c=wi:"function"!=typeof c&&(c=ig.format(c));var d=Math.max(1,b*a/g.ticks().length);return function(a){var g=a/f(Math.round(e(a)));return b-.5>g*b&&(g*=b),d>=g?c(a):""}},g.copy=function(){return df(a.copy(),b,c,d)},Ye(g,a)}function ef(a,b,c){function d(b){return a(e(b))}var e=ff(b),f=ff(1/b);return d.invert=function(b){return f(a.invert(b))},d.domain=function(b){return arguments.length?(a.domain((c=b.map(Number)).map(e)),d):c},d.ticks=function(a){return _e(c,a)},d.tickFormat=function(a,b){return af(c,a,b)},d.nice=function(a){return d.domain(Ze(c,a))},d.exponent=function(g){return arguments.length?(e=ff(b=g),f=ff(1/b),a.domain(c.map(e)),d):b},d.copy=function(){return ef(a.copy(),b,c)},Ye(d,a)}function ff(a){return function(b){return 0>b?-Math.pow(-b,a):Math.pow(b,a)}}function gf(a,b){function c(c){return f[((e.get(c)||("range"===b.t?e.set(c,a.push(c)):NaN))-1)%f.length]}function d(b,c){return ig.range(a.length).map(function(a){return b+c*a})}var e,f,g;return c.domain=function(d){if(!arguments.length)return a;a=[],e=new k;for(var f,g=-1,h=d.length;++g<h;)e.has(f=d[g])||e.set(f,a.push(f));return c[b.t].apply(c,b.a)},c.range=function(a){return arguments.length?(f=a,g=0,b={t:"range",a:arguments},c):f},c.rangePoints=function(e,h){arguments.length<2&&(h=0);var i=e[0],j=e[1],k=a.length<2?(i=(i+j)/2,0):(j-i)/(a.length-1+h);return f=d(i+k*h/2,k),g=0,b={t:"rangePoints",a:arguments},c},c.rangeRoundPoints=function(e,h){arguments.length<2&&(h=0);var i=e[0],j=e[1],k=a.length<2?(i=j=Math.round((i+j)/2),0):(j-i)/(a.length-1+h)|0;return f=d(i+Math.round(k*h/2+(j-i-(a.length-1+h)*k)/2),k),g=0,b={t:"rangeRoundPoints",a:arguments},c},c.rangeBands=function(e,h,i){arguments.length<2&&(h=0),arguments.length<3&&(i=h);var j=e[1]<e[0],k=e[j-0],l=e[1-j],m=(l-k)/(a.length-h+2*i);return f=d(k+m*i,m),j&&f.reverse(),g=m*(1-h),b={t:"rangeBands",a:arguments},c},c.rangeRoundBands=function(e,h,i){arguments.length<2&&(h=0),arguments.length<3&&(i=h);var j=e[1]<e[0],k=e[j-0],l=e[1-j],m=Math.floor((l-k)/(a.length-h+2*i));return f=d(k+Math.round((l-k-(a.length-h)*m)/2),m),j&&f.reverse(),g=Math.round(m*(1-h)),b={t:"rangeRoundBands",a:arguments},c},c.rangeBand=function(){return g},c.rangeExtent=function(){return Re(b.a[0])},c.copy=function(){return gf(a,b)},c.domain(a)}function hf(a,b){function c(){var c=0,d=b.length;for(h=[];++c<d;)h[c-1]=ig.quantile(a,c/d);return g}function g(a){return isNaN(a=+a)?void 0:b[ig.bisect(h,a)]}var h;return g.domain=function(b){return arguments.length?(a=b.map(e).filter(f).sort(d),c()):a},g.range=function(a){return arguments.length?(b=a,c()):b},g.quantiles=function(){return h},g.invertExtent=function(c){return c=b.indexOf(c),0>c?[NaN,NaN]:[c>0?h[c-1]:a[0],c<h.length?h[c]:a[a.length-1]]},g.copy=function(){return hf(a,b)},c()}function jf(a,b,c){function d(b){return c[Math.max(0,Math.min(g,Math.floor(f*(b-a))))]}function e(){return f=c.length/(b-a),g=c.length-1,d}var f,g;return d.domain=function(c){return arguments.length?(a=+c[0],b=+c[c.length-1],e()):[a,b]},d.range=function(a){return arguments.length?(c=a,e()):c},d.invertExtent=function(b){return b=c.indexOf(b),b=0>b?NaN:b/f+a,[b,b+1/f]},d.copy=function(){return jf(a,b,c)},e()}function kf(a,b){function c(c){return c>=c?b[ig.bisect(a,c)]:void 0}return c.domain=function(b){return arguments.length?(a=b,c):a},c.range=function(a){return arguments.length?(b=a,c):b},c.invertExtent=function(c){return c=b.indexOf(c),[a[c-1],a[c]]},c.copy=function(){return kf(a,b)},c}function lf(a){function b(a){return+a}return b.invert=b,b.domain=b.range=function(c){return arguments.length?(a=c.map(b),b):a},b.ticks=function(b){return _e(a,b)},b.tickFormat=function(b,c){return af(a,b,c)},b.copy=function(){return lf(a)},b}function mf(){return 0}function nf(a){return a.innerRadius}function of(a){return a.outerRadius}function pf(a){return a.startAngle}function qf(a){return a.endAngle}function rf(a){return a&&a.padAngle}function sf(a,b,c,d){return(a-c)*b-(b-d)*a>0?0:1}function tf(a,b,c,d,e){var f=a[0]-b[0],g=a[1]-b[1],h=(e?d:-d)/Math.sqrt(f*f+g*g),i=h*g,j=-h*f,k=a[0]+i,l=a[1]+j,m=b[0]+i,n=b[1]+j,o=(k+m)/2,p=(l+n)/2,q=m-k,r=n-l,s=q*q+r*r,t=c-d,u=k*n-m*l,v=(0>r?-1:1)*Math.sqrt(Math.max(0,t*t*s-u*u)),w=(u*r-q*v)/s,x=(-u*q-r*v)/s,y=(u*r+q*v)/s,z=(-u*q+r*v)/s,A=w-o,B=x-p,C=y-o,D=z-p;return A*A+B*B>C*C+D*D&&(w=y,x=z),[[w-i,x-j],[w*c/t,x*c/t]]}function uf(a){function b(b){function g(){j.push("M",f(a(k),h))}for(var i,j=[],k=[],l=-1,m=b.length,n=Ba(c),o=Ba(d);++l<m;)e.call(this,i=b[l],l)?k.push([+n.call(this,i,l),+o.call(this,i,l)]):k.length&&(g(),k=[]);return k.length&&g(),j.length?j.join(""):null}var c=Dc,d=Ec,e=Eb,f=vf,g=f.key,h=.7;return b.x=function(a){return arguments.length?(c=a,b):c},b.y=function(a){return arguments.length?(d=a,b):d},b.defined=function(a){return arguments.length?(e=a,b):e},b.interpolate=function(a){return arguments.length?(g="function"==typeof a?f=a:(f=Di.get(a)||vf).key,b):g},b.tension=function(a){return arguments.length?(h=a,b):h},b}function vf(a){return a.length>1?a.join("L"):a+"Z"}function wf(a){return a.join("L")+"Z"}function xf(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d[0]+(d=a[b])[0])/2,"V",d[1]);return c>1&&e.push("H",d[0]),e.join("")}function yf(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("V",(d=a[b])[1],"H",d[0]);return e.join("")}function zf(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d=a[b])[0],"V",d[1]);return e.join("")}function Af(a,b){return a.length<4?vf(a):a[1]+Df(a.slice(1,-1),Ef(a,b))}function Bf(a,b){return a.length<3?wf(a):a[0]+Df((a.push(a[0]),a),Ef([a[a.length-2]].concat(a,[a[1]]),b))}function Cf(a,b){return a.length<3?vf(a):a[0]+Df(a,Ef(a,b))}function Df(a,b){if(b.length<1||a.length!=b.length&&a.length!=b.length+2)return vf(a);var c=a.length!=b.length,d="",e=a[0],f=a[1],g=b[0],h=g,i=1;if(c&&(d+="Q"+(f[0]-2*g[0]/3)+","+(f[1]-2*g[1]/3)+","+f[0]+","+f[1],e=a[1],i=2),b.length>1){h=b[1],f=a[i],i++,d+="C"+(e[0]+g[0])+","+(e[1]+g[1])+","+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1];for(var j=2;j<b.length;j++,i++)f=a[i],h=b[j],d+="S"+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1]}if(c){var k=a[i];d+="Q"+(f[0]+2*h[0]/3)+","+(f[1]+2*h[1]/3)+","+k[0]+","+k[1]}return d}function Ef(a,b){for(var c,d=[],e=(1-b)/2,f=a[0],g=a[1],h=1,i=a.length;++h<i;)c=f,f=g,g=a[h],d.push([e*(g[0]-c[0]),e*(g[1]-c[1])]);return d}function Ff(a){if(a.length<3)return vf(a);var b=1,c=a.length,d=a[0],e=d[0],f=d[1],g=[e,e,e,(d=a[1])[0]],h=[f,f,f,d[1]],i=[e,",",f,"L",Jf(Gi,g),",",Jf(Gi,h)];for(a.push(a[c-1]);++b<=c;)d=a[b],g.shift(),g.push(d[0]),h.shift(),h.push(d[1]),Kf(i,g,h);return a.pop(),i.push("L",d),i.join("")}function Gf(a){if(a.length<4)return vf(a);for(var b,c=[],d=-1,e=a.length,f=[0],g=[0];++d<3;)b=a[d],f.push(b[0]),g.push(b[1]);for(c.push(Jf(Gi,f)+","+Jf(Gi,g)),--d;++d<e;)b=a[d],f.shift(),f.push(b[0]),g.shift(),g.push(b[1]),Kf(c,f,g);return c.join("")}function Hf(a){for(var b,c,d=-1,e=a.length,f=e+4,g=[],h=[];++d<4;)c=a[d%e],g.push(c[0]),h.push(c[1]);for(b=[Jf(Gi,g),",",Jf(Gi,h)],--d;++d<f;)c=a[d%e],g.shift(),g.push(c[0]),h.shift(),h.push(c[1]),Kf(b,g,h);return b.join("")}function If(a,b){var c=a.length-1;if(c)for(var d,e,f=a[0][0],g=a[0][1],h=a[c][0]-f,i=a[c][1]-g,j=-1;++j<=c;)d=a[j],e=j/c,d[0]=b*d[0]+(1-b)*(f+e*h),d[1]=b*d[1]+(1-b)*(g+e*i);return Ff(a)}function Jf(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function Kf(a,b,c){a.push("C",Jf(Ei,b),",",Jf(Ei,c),",",Jf(Fi,b),",",Jf(Fi,c),",",Jf(Gi,b),",",Jf(Gi,c))}function Lf(a,b){return(b[1]-a[1])/(b[0]-a[0])}function Mf(a){for(var b=0,c=a.length-1,d=[],e=a[0],f=a[1],g=d[0]=Lf(e,f);++b<c;)d[b]=(g+(g=Lf(e=f,f=a[b+1])))/2;return d[b]=g,d}function Nf(a){for(var b,c,d,e,f=[],g=Mf(a),h=-1,i=a.length-1;++h<i;)b=Lf(a[h],a[h+1]),sg(b)<Jg?g[h]=g[h+1]=0:(c=g[h]/b,d=g[h+1]/b,(e=c*c+d*d)>9&&(e=3*b/Math.sqrt(e),g[h]=e*c,g[h+1]=e*d));for(h=-1;++h<=i;)e=(a[Math.min(i,h+1)][0]-a[Math.max(0,h-1)][0])/(6*(1+g[h]*g[h])),f.push([e||0,g[h]*e||0]);return f}function Of(a){return a.length<3?vf(a):a[0]+Df(a,Nf(a))}function Pf(a){for(var b,c,d,e=-1,f=a.length;++e<f;)b=a[e],c=b[0],d=b[1]-Og,b[0]=c*Math.cos(d),b[1]=c*Math.sin(d);return a}function Qf(a){function b(b){function i(){p.push("M",h(a(r),l),k,j(a(q.reverse()),l),"Z")}for(var m,n,o,p=[],q=[],r=[],s=-1,t=b.length,u=Ba(c),v=Ba(e),w=c===d?function(){return n}:Ba(d),x=e===f?function(){return o}:Ba(f);++s<t;)g.call(this,m=b[s],s)?(q.push([n=+u.call(this,m,s),o=+v.call(this,m,s)]),r.push([+w.call(this,m,s),+x.call(this,m,s)])):q.length&&(i(),q=[],r=[]);return q.length&&i(),p.length?p.join(""):null}var c=Dc,d=Dc,e=0,f=Ec,g=Eb,h=vf,i=h.key,j=h,k="L",l=.7;return b.x=function(a){return arguments.length?(c=d=a,b):d},b.x0=function(a){return arguments.length?(c=a,b):c},b.x1=function(a){return arguments.length?(d=a,b):d},b.y=function(a){return arguments.length?(e=f=a,b):f},b.y0=function(a){return arguments.length?(e=a,b):e},b.y1=function(a){return arguments.length?(f=a,b):f},b.defined=function(a){return arguments.length?(g=a,b):g},b.interpolate=function(a){return arguments.length?(i="function"==typeof a?h=a:(h=Di.get(a)||vf).key,j=h.reverse||h,k=h.closed?"M":"L",b):i},b.tension=function(a){return arguments.length?(l=a,b):l},b}function Rf(a){return a.radius}function Sf(a){return[a.x,a.y]}function Tf(a){return function(){var b=a.apply(this,arguments),c=b[0],d=b[1]-Og;return[c*Math.cos(d),c*Math.sin(d)]}}function Uf(){return 64}function Vf(){return"circle"}function Wf(a){var b=Math.sqrt(a/Lg);return"M0,"+b+"A"+b+","+b+" 0 1,1 0,"+-b+"A"+b+","+b+" 0 1,1 0,"+b+"Z"}function Xf(a){return function(){var b,c,d;(b=this[a])&&(d=b[c=b.active])&&(d.timer.c=null,d.timer.t=NaN,--b.count?delete b[c]:delete this[a],b.active+=.5,d.event&&d.event.interrupt.call(this,this.__data__,d.index))}}function Yf(a,b,c){return xg(a,Ni),a.namespace=b,a.id=c,a}function Zf(a,b,c,d){var e=a.id,f=a.namespace;return S(a,"function"==typeof c?function(a,g,h){a[f][e].tween.set(b,d(c.call(a,a.__data__,g,h)))}:(c=d(c),function(a){a[f][e].tween.set(b,c)}))}function $f(a){return null==a&&(a=""),function(){this.textContent=a}}function _f(a){return null==a?"__transition__":"__transition_"+a+"__"}function ag(a,b,c,d,e){function f(a){var b=p.delay;return j.t=b+i,a>=b?g(a-b):void(j.c=g)}function g(c){var e=o.active,f=o[e];f&&(f.timer.c=null,f.timer.t=NaN,--o.count,delete o[e],f.event&&f.event.interrupt.call(a,a.__data__,f.index));for(var g in o)if(d>+g){var k=o[g];k.timer.c=null,k.timer.t=NaN,--o.count,delete o[g]}j.c=h,Ga(function(){return j.c&&h(c||1)&&(j.c=null,j.t=NaN),1},0,i),o.active=d,p.event&&p.event.start.call(a,a.__data__,b),n=[],p.tween.forEach(function(c,d){(d=d.call(a,a.__data__,b))&&n.push(d)}),m=p.ease,l=p.duration}function h(e){for(var f=e/l,g=m(f),h=n.length;h>0;)n[--h].call(a,g);return f>=1?(p.event&&p.event.end.call(a,a.__data__,b),--o.count?delete o[d]:delete a[c],1):void 0}var i,j,l,m,n,o=a[c]||(a[c]={active:0,count:0}),p=o[d];p||(i=e.time,j=Ga(f,0,i),p=o[d]={tween:new k,time:i,timer:j,delay:e.delay,duration:e.duration,ease:e.ease,index:b},e=null,++o.count)}function bg(a,b,c){a.attr("transform",function(a){var d=b(a);return"translate("+(isFinite(d)?d:c(a))+",0)"})}function cg(a,b,c){a.attr("transform",function(a){var d=b(a);return"translate(0,"+(isFinite(d)?d:c(a))+")"})}function dg(a){return a.toISOString()}function eg(a,b,c){function d(b){return a(b)}function e(a,c){var d=a[1]-a[0],e=d/c,f=ig.bisect(Wi,e);return f==Wi.length?[b.year,$e(a.map(function(a){return a/31536e6}),c)[2]]:f?b[e/Wi[f-1]<Wi[f]/e?f-1:f]:[Zi,$e(a,c)[2]]}return d.invert=function(b){return fg(a.invert(b))},d.domain=function(b){return arguments.length?(a.domain(b),d):a.domain().map(fg)},d.nice=function(a,b){function c(c){return!isNaN(c)&&!a.range(c,fg(+c+1),b).length}var f=d.domain(),g=Re(f),h=null==a?e(g,10):"number"==typeof a&&e(g,a);return h&&(a=h[0],b=h[1]),d.domain(Ue(f,b>1?{floor:function(b){for(;c(b=a.floor(b));)b=fg(b-1);return b},ceil:function(b){for(;c(b=a.ceil(b));)b=fg(+b+1);return b}}:a))},d.ticks=function(a,b){var c=Re(d.domain()),f=null==a?e(c,10):"number"==typeof a?e(c,a):!a.range&&[{range:a},b];return f&&(a=f[0],b=f[1]),a.range(c[0],fg(+c[1]+1),1>b?1:b)},d.tickFormat=function(){return c},d.copy=function(){return eg(a.copy(),b,c)},Ye(d,a)}function fg(a){return new Date(a)}function gg(a){return JSON.parse(a.responseText)}function hg(a){var b=lg.createRange();return b.selectNode(lg.body),b.createContextualFragment(a.responseText)}var ig={version:"3.5.17"},jg=[].slice,kg=function(a){return jg.call(a)},lg=this.document;if(lg)try{kg(lg.documentElement.childNodes)[0].nodeType}catch(a){kg=function(a){for(var b=a.length,c=new Array(b);b--;)c[b]=a[b];return c}}if(Date.now||(Date.now=function(){return+new Date}),lg)try{lg.createElement("DIV").style.setProperty("opacity",0,"")}catch(a){var mg=this.Element.prototype,ng=mg.setAttribute,og=mg.setAttributeNS,pg=this.CSSStyleDeclaration.prototype,qg=pg.setProperty;mg.setAttribute=function(a,b){ng.call(this,a,b+"")},mg.setAttributeNS=function(a,b,c){og.call(this,a,b,c+"")},pg.setProperty=function(a,b,c){qg.call(this,a,b+"",c)}}ig.ascending=d,ig.descending=function(a,b){return a>b?-1:b>a?1:b>=a?0:NaN},ig.min=function(a,b){var c,d,e=-1,f=a.length;if(1===arguments.length){for(;++e<f;)if(null!=(d=a[e])&&d>=d){c=d;break}for(;++e<f;)null!=(d=a[e])&&c>d&&(c=d)}else{for(;++e<f;)if(null!=(d=b.call(a,a[e],e))&&d>=d){c=d;break}for(;++e<f;)null!=(d=b.call(a,a[e],e))&&c>d&&(c=d)}return c},ig.max=function(a,b){var c,d,e=-1,f=a.length;if(1===arguments.length){for(;++e<f;)if(null!=(d=a[e])&&d>=d){c=d;break}for(;++e<f;)null!=(d=a[e])&&d>c&&(c=d)}else{for(;++e<f;)if(null!=(d=b.call(a,a[e],e))&&d>=d){c=d;break}for(;++e<f;)null!=(d=b.call(a,a[e],e))&&d>c&&(c=d)}return c},ig.extent=function(a,b){var c,d,e,f=-1,g=a.length;if(1===arguments.length){for(;++f<g;)if(null!=(d=a[f])&&d>=d){c=e=d;break}for(;++f<g;)null!=(d=a[f])&&(c>d&&(c=d),d>e&&(e=d))}else{for(;++f<g;)if(null!=(d=b.call(a,a[f],f))&&d>=d){c=e=d;break}for(;++f<g;)null!=(d=b.call(a,a[f],f))&&(c>d&&(c=d),d>e&&(e=d))}return[c,e]},ig.sum=function(a,b){var c,d=0,e=a.length,g=-1;if(1===arguments.length)for(;++g<e;)f(c=+a[g])&&(d+=c);else for(;++g<e;)f(c=+b.call(a,a[g],g))&&(d+=c);return d},ig.mean=function(a,b){var c,d=0,g=a.length,h=-1,i=g;if(1===arguments.length)for(;++h<g;)f(c=e(a[h]))?d+=c:--i;else for(;++h<g;)f(c=e(b.call(a,a[h],h)))?d+=c:--i;return i?d/i:void 0},ig.quantile=function(a,b){var c=(a.length-1)*b+1,d=Math.floor(c),e=+a[d-1],f=c-d;return f?e+f*(a[d]-e):e},ig.median=function(a,b){var c,g=[],h=a.length,i=-1;if(1===arguments.length)for(;++i<h;)f(c=e(a[i]))&&g.push(c);else for(;++i<h;)f(c=e(b.call(a,a[i],i)))&&g.push(c);return g.length?ig.quantile(g.sort(d),.5):void 0},ig.variance=function(a,b){var c,d,g=a.length,h=0,i=0,j=-1,k=0;if(1===arguments.length)for(;++j<g;)f(c=e(a[j]))&&(d=c-h,h+=d/++k,i+=d*(c-h));else for(;++j<g;)f(c=e(b.call(a,a[j],j)))&&(d=c-h,h+=d/++k,i+=d*(c-h));return k>1?i/(k-1):void 0},ig.deviation=function(){var a=ig.variance.apply(this,arguments);return a?Math.sqrt(a):a};var rg=g(d);ig.bisectLeft=rg.left,ig.bisect=ig.bisectRight=rg.right,ig.bisector=function(a){return g(1===a.length?function(b,c){return d(a(b),c)}:a)},ig.shuffle=function(a,b,c){(f=arguments.length)<3&&(c=a.length,2>f&&(b=0));for(var d,e,f=c-b;f;)e=Math.random()*f--|0,d=a[f+b],a[f+b]=a[e+b],a[e+b]=d;return a},ig.permute=function(a,b){for(var c=b.length,d=new Array(c);c--;)d[c]=a[b[c]];return d},ig.pairs=function(a){for(var b=0,c=a.length-1,d=a[0],e=new Array(0>c?0:c);c>b;)e[b]=[d,d=a[++b]];return e},ig.transpose=function(a){if(!(e=a.length))return[];for(var b=-1,c=ig.min(a,h),d=new Array(c);++b<c;)for(var e,f=-1,g=d[b]=new Array(e);++f<e;)g[f]=a[f][b];return d},ig.zip=function(){return ig.transpose(arguments)},ig.keys=function(a){var b=[];for(var c in a)b.push(c);return b},ig.values=function(a){var b=[];for(var c in a)b.push(a[c]);return b},ig.entries=function(a){var b=[];for(var c in a)b.push({key:c,value:a[c]});return b},ig.merge=function(a){for(var b,c,d,e=a.length,f=-1,g=0;++f<e;)g+=a[f].length;for(c=new Array(g);--e>=0;)for(d=a[e],b=d.length;--b>=0;)c[--g]=d[b];return c};var sg=Math.abs;ig.range=function(a,b,c){if(arguments.length<3&&(c=1,arguments.length<2&&(b=a,a=0)),(b-a)/c==1/0)throw new Error("infinite range");var d,e=[],f=i(sg(c)),g=-1;if(a*=f,b*=f,c*=f,0>c)for(;(d=a+c*++g)>b;)e.push(d/f);else for(;(d=a+c*++g)<b;)e.push(d/f);return e},ig.map=function(a,b){var c=new k;if(a instanceof k)a.forEach(function(a,b){c.set(a,b)});else if(Array.isArray(a)){var d,e=-1,f=a.length;if(1===arguments.length)for(;++e<f;)c.set(e,a[e]);else for(;++e<f;)c.set(b.call(a,d=a[e],e),d)}else for(var g in a)c.set(g,a[g]);return c};var tg="__proto__",ug="\x00";j(k,{has:n,get:function(a){return this._[l(a)]},set:function(a,b){return this._[l(a)]=b},remove:o,keys:p,values:function(){var a=[];for(var b in this._)a.push(this._[b]);return a},entries:function(){var a=[];for(var b in this._)a.push({key:m(b),value:this._[b]});return a},size:q,empty:r,forEach:function(a){for(var b in this._)a.call(this,m(b),this._[b])}}),ig.nest=function(){function a(b,g,h){if(h>=f.length)return d?d.call(e,g):c?g.sort(c):g;for(var i,j,l,m,n=-1,o=g.length,p=f[h++],q=new k;++n<o;)(m=q.get(i=p(j=g[n])))?m.push(j):q.set(i,[j]);return b?(j=b(),l=function(c,d){j.set(c,a(b,d,h))}):(j={},l=function(c,d){j[c]=a(b,d,h)}),q.forEach(l),j}function b(a,c){if(c>=f.length)return a;var d=[],e=g[c++];return a.forEach(function(a,e){d.push({key:a,values:b(e,c)})}),e?d.sort(function(a,b){return e(a.key,b.key)}):d}var c,d,e={},f=[],g=[];return e.map=function(b,c){return a(c,b,0)},e.entries=function(c){return b(a(ig.map,c,0),0)},e.key=function(a){return f.push(a),e},e.sortKeys=function(a){return g[f.length-1]=a,e},e.sortValues=function(a){return c=a,e},e.rollup=function(a){return d=a,e},e},ig.set=function(a){var b=new s;if(a)for(var c=0,d=a.length;d>c;++c)b.add(a[c]);return b},j(s,{has:n,add:function(a){return this._[l(a+="")]=!0,a},remove:o,values:p,size:q,empty:r,forEach:function(a){for(var b in this._)a.call(this,m(b))}}),ig.behavior={},ig.rebind=function(a,b){for(var c,d=1,e=arguments.length;++d<e;)a[c=arguments[d]]=u(a,b,b[c]);return a};var vg=["webkit","ms","moz","Moz","o","O"];ig.dispatch=function(){for(var a=new x,b=-1,c=arguments.length;++b<c;)a[arguments[b]]=y(a);return a},x.prototype.on=function(a,b){var c=a.indexOf("."),d="";if(c>=0&&(d=a.slice(c+1),a=a.slice(0,c)),a)return arguments.length<2?this[a].on(d):this[a].on(d,b);if(2===arguments.length){if(null==b)for(a in this)this.hasOwnProperty(a)&&this[a].on(d,null);return this}},ig.event=null,ig.requote=function(a){return a.replace(wg,"\\$&")};var wg=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,xg={}.__proto__?function(a,b){a.__proto__=b}:function(a,b){for(var c in b)a[c]=b[c]},yg=function(a,b){return b.querySelector(a)},zg=function(a,b){return b.querySelectorAll(a)},Ag=function(a,b){var c=a.matches||a[v(a,"matchesSelector")];return(Ag=function(a,b){return c.call(a,b)})(a,b)};"function"==typeof Sizzle&&(yg=function(a,b){return Sizzle(a,b)[0]||null},zg=Sizzle,Ag=Sizzle.matchesSelector),ig.selection=function(){return ig.select(lg.documentElement)};var Bg=ig.selection.prototype=[];Bg.select=function(a){var b,c,d,e,f=[];a=D(a);for(var g=-1,h=this.length;++g<h;){f.push(b=[]),b.parentNode=(d=this[g]).parentNode;for(var i=-1,j=d.length;++i<j;)(e=d[i])?(b.push(c=a.call(e,e.__data__,i,g)),c&&"__data__"in e&&(c.__data__=e.__data__)):b.push(null)}return C(f)},Bg.selectAll=function(a){var b,c,d=[];a=E(a);for(var e=-1,f=this.length;++e<f;)for(var g=this[e],h=-1,i=g.length;++h<i;)(c=g[h])&&(d.push(b=kg(a.call(c,c.__data__,h,e))),b.parentNode=c);return C(d)};var Cg="http://www.w3.org/1999/xhtml",Dg={svg:"http://www.w3.org/2000/svg",xhtml:Cg,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ig.ns={prefix:Dg,qualify:function(a){var b=a.indexOf(":"),c=a;return b>=0&&"xmlns"!==(c=a.slice(0,b))&&(a=a.slice(b+1)),Dg.hasOwnProperty(c)?{space:Dg[c],local:a}:a}},Bg.attr=function(a,b){if(arguments.length<2){if("string"==typeof a){var c=this.node();return a=ig.ns.qualify(a),a.local?c.getAttributeNS(a.space,a.local):c.getAttribute(a)}for(b in a)this.each(F(b,a[b]));return this}return this.each(F(a,b))},Bg.classed=function(a,b){if(arguments.length<2){if("string"==typeof a){var c=this.node(),d=(a=I(a)).length,e=-1;if(b=c.classList){for(;++e<d;)if(!b.contains(a[e]))return!1}else for(b=c.getAttribute("class");++e<d;)if(!H(a[e]).test(b))return!1;return!0}for(b in a)this.each(J(b,a[b]));return this}return this.each(J(a,b))},Bg.style=function(a,b,d){var e=arguments.length;if(3>e){if("string"!=typeof a){2>e&&(b="");for(d in a)this.each(L(d,a[d],b));return this}if(2>e){var f=this.node();return c(f).getComputedStyle(f,null).getPropertyValue(a)}d=""}return this.each(L(a,b,d))},Bg.property=function(a,b){if(arguments.length<2){if("string"==typeof a)return this.node()[a];for(b in a)this.each(M(b,a[b]));return this}return this.each(M(a,b))},Bg.text=function(a){return arguments.length?this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}:null==a?function(){this.textContent=""}:function(){this.textContent=a}):this.node().textContent},Bg.html=function(a){return arguments.length?this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}:null==a?function(){this.innerHTML=""}:function(){this.innerHTML=a}):this.node().innerHTML},Bg.append=function(a){return a=N(a),this.select(function(){return this.appendChild(a.apply(this,arguments))})},Bg.insert=function(a,b){return a=N(a),b=D(b),this.select(function(){return this.insertBefore(a.apply(this,arguments),b.apply(this,arguments)||null)})},Bg.remove=function(){return this.each(O)},Bg.data=function(a,b){function c(a,c){var d,e,f,g=a.length,l=c.length,m=Math.min(g,l),n=new Array(l),o=new Array(l),p=new Array(g);if(b){var q,r=new k,s=new Array(g);for(d=-1;++d<g;)(e=a[d])&&(r.has(q=b.call(e,e.__data__,d))?p[d]=e:r.set(q,e),
s[d]=q);for(d=-1;++d<l;)(e=r.get(q=b.call(c,f=c[d],d)))?!0!==e&&(n[d]=e,e.__data__=f):o[d]=P(f),r.set(q,!0);for(d=-1;++d<g;)d in s&&!0!==r.get(s[d])&&(p[d]=a[d])}else{for(d=-1;++d<m;)e=a[d],f=c[d],e?(e.__data__=f,n[d]=e):o[d]=P(f);for(;l>d;++d)o[d]=P(c[d]);for(;g>d;++d)p[d]=a[d]}o.update=n,o.parentNode=n.parentNode=p.parentNode=a.parentNode,h.push(o),i.push(n),j.push(p)}var d,e,f=-1,g=this.length;if(!arguments.length){for(a=new Array(g=(d=this[0]).length);++f<g;)(e=d[f])&&(a[f]=e.__data__);return a}var h=T([]),i=C([]),j=C([]);if("function"==typeof a)for(;++f<g;)c(d=this[f],a.call(d,d.parentNode.__data__,f));else for(;++f<g;)c(d=this[f],a);return i.enter=function(){return h},i.exit=function(){return j},i},Bg.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")},Bg.filter=function(a){var b,c,d,e=[];"function"!=typeof a&&(a=Q(a));for(var f=0,g=this.length;g>f;f++){e.push(b=[]),b.parentNode=(c=this[f]).parentNode;for(var h=0,i=c.length;i>h;h++)(d=c[h])&&a.call(d,d.__data__,h,f)&&b.push(d)}return C(e)},Bg.order=function(){for(var a=-1,b=this.length;++a<b;)for(var c,d=this[a],e=d.length-1,f=d[e];--e>=0;)(c=d[e])&&(f&&f!==c.nextSibling&&f.parentNode.insertBefore(c,f),f=c);return this},Bg.sort=function(a){a=R.apply(this,arguments);for(var b=-1,c=this.length;++b<c;)this[b].sort(a);return this.order()},Bg.each=function(a){return S(this,function(b,c,d){a.call(b,b.__data__,c,d)})},Bg.call=function(a){var b=kg(arguments);return a.apply(b[0]=this,b),this},Bg.empty=function(){return!this.node()},Bg.node=function(){for(var a=0,b=this.length;b>a;a++)for(var c=this[a],d=0,e=c.length;e>d;d++){var f=c[d];if(f)return f}return null},Bg.size=function(){var a=0;return S(this,function(){++a}),a};var Eg=[];ig.selection.enter=T,ig.selection.enter.prototype=Eg,Eg.append=Bg.append,Eg.empty=Bg.empty,Eg.node=Bg.node,Eg.call=Bg.call,Eg.size=Bg.size,Eg.select=function(a){for(var b,c,d,e,f,g=[],h=-1,i=this.length;++h<i;){d=(e=this[h]).update,g.push(b=[]),b.parentNode=e.parentNode;for(var j=-1,k=e.length;++j<k;)(f=e[j])?(b.push(d[j]=c=a.call(e.parentNode,f.__data__,j,h)),c.__data__=f.__data__):b.push(null)}return C(g)},Eg.insert=function(a,b){return arguments.length<2&&(b=U(this)),Bg.insert.call(this,a,b)},ig.select=function(b){var c;return"string"==typeof b?(c=[yg(b,lg)],c.parentNode=lg.documentElement):(c=[b],c.parentNode=a(b)),C([c])},ig.selectAll=function(a){var b;return"string"==typeof a?(b=kg(zg(a,lg)),b.parentNode=lg.documentElement):(b=kg(a),b.parentNode=null),C([b])},Bg.on=function(a,b,c){var d=arguments.length;if(3>d){if("string"!=typeof a){2>d&&(b=!1);for(c in a)this.each(V(c,a[c],b));return this}if(2>d)return(d=this.node()["__on"+a])&&d._;c=!1}return this.each(V(a,b,c))};var Fg=ig.map({mouseenter:"mouseover",mouseleave:"mouseout"});lg&&Fg.forEach(function(a){"on"+a in lg&&Fg.remove(a)});var Gg,Hg=0;ig.mouse=function(a){return Z(a,A())};var Ig=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ig.touch=function(a,b,c){if(arguments.length<3&&(c=b,b=A().changedTouches),b)for(var d,e=0,f=b.length;f>e;++e)if((d=b[e]).identifier===c)return Z(a,d)},ig.behavior.drag=function(){function a(){this.on("mousedown.drag",f).on("touchstart.drag",g)}function b(a,b,c,f,g){return function(){function h(){var a,c,d=b(m,p);d&&(a=d[0]-t[0],c=d[1]-t[1],o|=a|c,t=d,n({type:"drag",x:d[0]+j[0],y:d[1]+j[1],dx:a,dy:c}))}function i(){b(m,p)&&(r.on(f+q,null).on(g+q,null),s(o),n({type:"dragend"}))}var j,k=this,l=ig.event.target.correspondingElement||ig.event.target,m=k.parentNode,n=d.of(k,arguments),o=0,p=a(),q=".drag"+(null==p?"":"-"+p),r=ig.select(c(l)).on(f+q,h).on(g+q,i),s=Y(l),t=b(m,p);e?(j=e.apply(k,arguments),j=[j.x-t[0],j.y-t[1]]):j=[0,0],n({type:"dragstart"})}}var d=B(a,"drag","dragstart","dragend"),e=null,f=b(w,ig.mouse,c,"mousemove","mouseup"),g=b($,ig.touch,t,"touchmove","touchend");return a.origin=function(b){return arguments.length?(e=b,a):e},ig.rebind(a,d,"on")},ig.touches=function(a,b){return arguments.length<2&&(b=A().touches),b?kg(b).map(function(b){var c=Z(a,b);return c.identifier=b.identifier,c}):[]};var Jg=1e-6,Kg=Jg*Jg,Lg=Math.PI,Mg=2*Lg,Ng=Mg-Jg,Og=Lg/2,Pg=Lg/180,Qg=180/Lg,Rg=Math.SQRT2;ig.interpolateZoom=function(a,b){var c,d,e=a[0],f=a[1],g=a[2],h=b[0],i=b[1],j=b[2],k=h-e,l=i-f,m=k*k+l*l;if(Kg>m)d=Math.log(j/g)/Rg,c=function(a){return[e+a*k,f+a*l,g*Math.exp(Rg*a*d)]};else{var n=Math.sqrt(m),o=(j*j-g*g+4*m)/(2*g*2*n),p=(j*j-g*g-4*m)/(2*j*2*n),q=Math.log(Math.sqrt(o*o+1)-o),r=Math.log(Math.sqrt(p*p+1)-p);d=(r-q)/Rg,c=function(a){var b=a*d,c=ea(q),h=g/(2*n)*(c*fa(Rg*b+q)-da(q));return[e+h*k,f+h*l,g*c/ea(Rg*b+q)]}}return c.duration=1e3*d,c},ig.behavior.zoom=function(){function a(a){a.on(F,l).on(Tg+".zoom",n).on("dblclick.zoom",o).on(I,m)}function b(a){return[(a[0]-y.x)/y.k,(a[1]-y.y)/y.k]}function d(a){return[a[0]*y.k+y.x,a[1]*y.k+y.y]}function e(a){y.k=Math.max(C[0],Math.min(C[1],a))}function f(a,b){b=d(b),y.x+=a[0]-b[0],y.y+=a[1]-b[1]}function g(b,c,d,g){b.__chart__={x:y.x,y:y.y,k:y.k},e(Math.pow(2,g)),f(q=c,d),b=ig.select(b),D>0&&(b=b.transition().duration(D)),b.call(a.event)}function h(){v&&v.domain(u.range().map(function(a){return(a-y.x)/y.k}).map(u.invert)),x&&x.domain(w.range().map(function(a){return(a-y.y)/y.k}).map(w.invert))}function i(a){E++||a({type:"zoomstart"})}function j(a){h(),a({type:"zoom",scale:y.k,translate:[y.x,y.y]})}function k(a){--E||(a({type:"zoomend"}),q=null)}function l(){function a(){h=1,f(ig.mouse(e),m),j(g)}function d(){l.on(G,null).on(H,null),n(h),k(g)}var e=this,g=J.of(e,arguments),h=0,l=ig.select(c(e)).on(G,a).on(H,d),m=b(ig.mouse(e)),n=Y(e);Mi.call(e),i(g)}function m(){function a(){var a=ig.touches(o);return n=y.k,a.forEach(function(a){a.identifier in q&&(q[a.identifier]=b(a))}),a}function c(){var b=ig.event.target;ig.select(b).on(u,d).on(v,h),w.push(b);for(var c=ig.event.changedTouches,e=0,f=c.length;f>e;++e)q[c[e].identifier]=null;var i=a(),j=Date.now();if(1===i.length){if(500>j-t){var k=i[0];g(o,k,q[k.identifier],Math.floor(Math.log(y.k)/Math.LN2)+1),z()}t=j}else if(i.length>1){var k=i[0],l=i[1],m=k[0]-l[0],n=k[1]-l[1];r=m*m+n*n}}function d(){var a,b,c,d,g=ig.touches(o);Mi.call(o);for(var h=0,i=g.length;i>h;++h,d=null)if(c=g[h],d=q[c.identifier]){if(b)break;a=c,b=d}if(d){var k=(k=c[0]-a[0])*k+(k=c[1]-a[1])*k,l=r&&Math.sqrt(k/r);a=[(a[0]+c[0])/2,(a[1]+c[1])/2],b=[(b[0]+d[0])/2,(b[1]+d[1])/2],e(l*n)}t=null,f(a,b),j(p)}function h(){if(ig.event.touches.length){for(var b=ig.event.changedTouches,c=0,d=b.length;d>c;++c)delete q[b[c].identifier];for(var e in q)return void a()}ig.selectAll(w).on(s,null),x.on(F,l).on(I,m),A(),k(p)}var n,o=this,p=J.of(o,arguments),q={},r=0,s=".zoom-"+ig.event.changedTouches[0].identifier,u="touchmove"+s,v="touchend"+s,w=[],x=ig.select(o),A=Y(o);c(),i(p),x.on(F,null).on(I,c)}function n(){var a=J.of(this,arguments);s?clearTimeout(s):(Mi.call(this),p=b(q=r||ig.mouse(this)),i(a)),s=setTimeout(function(){s=null,k(a)},50),z(),e(Math.pow(2,.002*Sg())*y.k),f(q,p),j(a)}function o(){var a=ig.mouse(this),c=Math.log(y.k)/Math.LN2;g(this,a,b(a),ig.event.shiftKey?Math.ceil(c)-1:Math.floor(c)+1)}var p,q,r,s,t,u,v,w,x,y={x:0,y:0,k:1},A=[960,500],C=Ug,D=250,E=0,F="mousedown.zoom",G="mousemove.zoom",H="mouseup.zoom",I="touchstart.zoom",J=B(a,"zoomstart","zoom","zoomend");return Tg||(Tg="onwheel"in lg?(Sg=function(){return-ig.event.deltaY*(ig.event.deltaMode?120:1)},"wheel"):"onmousewheel"in lg?(Sg=function(){return ig.event.wheelDelta},"mousewheel"):(Sg=function(){return-ig.event.detail},"MozMousePixelScroll")),a.event=function(a){a.each(function(){var a=J.of(this,arguments),b=y;Ki?ig.select(this).transition().each("start.zoom",function(){y=this.__chart__||{x:0,y:0,k:1},i(a)}).tween("zoom:zoom",function(){var c=A[0],d=A[1],e=q?q[0]:c/2,f=q?q[1]:d/2,g=ig.interpolateZoom([(e-y.x)/y.k,(f-y.y)/y.k,c/y.k],[(e-b.x)/b.k,(f-b.y)/b.k,c/b.k]);return function(b){var d=g(b),h=c/d[2];this.__chart__=y={x:e-d[0]*h,y:f-d[1]*h,k:h},j(a)}}).each("interrupt.zoom",function(){k(a)}).each("end.zoom",function(){k(a)}):(this.__chart__=y,i(a),j(a),k(a))})},a.translate=function(b){return arguments.length?(y={x:+b[0],y:+b[1],k:y.k},h(),a):[y.x,y.y]},a.scale=function(b){return arguments.length?(y={x:y.x,y:y.y,k:null},e(+b),h(),a):y.k},a.scaleExtent=function(b){return arguments.length?(C=null==b?Ug:[+b[0],+b[1]],a):C},a.center=function(b){return arguments.length?(r=b&&[+b[0],+b[1]],a):r},a.size=function(b){return arguments.length?(A=b&&[+b[0],+b[1]],a):A},a.duration=function(b){return arguments.length?(D=+b,a):D},a.x=function(b){return arguments.length?(v=b,u=b.copy(),y={x:0,y:0,k:1},a):v},a.y=function(b){return arguments.length?(x=b,w=b.copy(),y={x:0,y:0,k:1},a):x},ig.rebind(a,J,"on")};var Sg,Tg,Ug=[0,1/0];ig.color=ha,ha.prototype.toString=function(){return this.rgb()+""},ig.hsl=ia;var Vg=ia.prototype=new ha;Vg.brighter=function(a){return a=Math.pow(.7,arguments.length?a:1),new ia(this.h,this.s,this.l/a)},Vg.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new ia(this.h,this.s,a*this.l)},Vg.rgb=function(){return ja(this.h,this.s,this.l)},ig.hcl=ka;var Wg=ka.prototype=new ha;Wg.brighter=function(a){return new ka(this.h,this.c,Math.min(100,this.l+Xg*(arguments.length?a:1)))},Wg.darker=function(a){return new ka(this.h,this.c,Math.max(0,this.l-Xg*(arguments.length?a:1)))},Wg.rgb=function(){return la(this.h,this.c,this.l).rgb()},ig.lab=ma;var Xg=18,Yg=.95047,Zg=1,$g=1.08883,_g=ma.prototype=new ha;_g.brighter=function(a){return new ma(Math.min(100,this.l+Xg*(arguments.length?a:1)),this.a,this.b)},_g.darker=function(a){return new ma(Math.max(0,this.l-Xg*(arguments.length?a:1)),this.a,this.b)},_g.rgb=function(){return na(this.l,this.a,this.b)},ig.rgb=sa;var ah=sa.prototype=new ha;ah.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);var b=this.r,c=this.g,d=this.b,e=30;return b||c||d?(b&&e>b&&(b=e),c&&e>c&&(c=e),d&&e>d&&(d=e),new sa(Math.min(255,b/a),Math.min(255,c/a),Math.min(255,d/a))):new sa(e,e,e)},ah.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new sa(a*this.r,a*this.g,a*this.b)},ah.hsl=function(){return xa(this.r,this.g,this.b)},ah.toString=function(){return"#"+va(this.r)+va(this.g)+va(this.b)};var bh=ig.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});bh.forEach(function(a,b){bh.set(a,ta(b))}),ig.functor=Ba,ig.xhr=Ca(t),ig.dsv=function(a,b){function c(a,c,f){arguments.length<3&&(f=c,c=null);var g=Da(a,b,null==c?d:e(c),f);return g.row=function(a){return arguments.length?g.response(null==(c=a)?d:e(a)):c},g}function d(a){return c.parse(a.responseText)}function e(a){return function(b){return c.parse(b.responseText,a)}}function f(b){return b.map(g).join(a)}function g(a){return h.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}var h=new RegExp('["'+a+"\n]"),i=a.charCodeAt(0);return c.parse=function(a,b){var d;return c.parseRows(a,function(a,c){if(d)return d(a,c-1);var e=new Function("d","return {"+a.map(function(a,b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}");d=b?function(a,c){return b(e(a),c)}:e})},c.parseRows=function(a,b){function c(){if(k>=j)return g;if(e)return e=!1,f;var b=k;if(34===a.charCodeAt(b)){for(var c=b;c++<j;)if(34===a.charCodeAt(c)){if(34!==a.charCodeAt(c+1))break;++c}k=c+2;var d=a.charCodeAt(c+1);return 13===d?(e=!0,10===a.charCodeAt(c+2)&&++k):10===d&&(e=!0),a.slice(b+1,c).replace(/""/g,'"')}for(;j>k;){var d=a.charCodeAt(k++),h=1;if(10===d)e=!0;else if(13===d)e=!0,10===a.charCodeAt(k)&&(++k,++h);else if(d!==i)continue;return a.slice(b,k-h)}return a.slice(b)}for(var d,e,f={},g={},h=[],j=a.length,k=0,l=0;(d=c())!==g;){for(var m=[];d!==f&&d!==g;)m.push(d),d=c();b&&null==(m=b(m,l++))||h.push(m)}return h},c.format=function(b){if(Array.isArray(b[0]))return c.formatRows(b);var d=new s,e=[];return b.forEach(function(a){for(var b in a)d.has(b)||e.push(d.add(b))}),[e.map(g).join(a)].concat(b.map(function(b){return e.map(function(a){return g(b[a])}).join(a)})).join("\n")},c.formatRows=function(a){return a.map(f).join("\n")},c},ig.csv=ig.dsv(",","text/csv"),ig.tsv=ig.dsv("	","text/tab-separated-values");var ch,dh,eh,fh,gh=this[v(this,"requestAnimationFrame")]||function(a){setTimeout(a,17)};ig.timer=function(){Ga.apply(this,arguments)},ig.timer.flush=function(){Ia(),Ja()},ig.round=function(a,b){return b?Math.round(a*(b=Math.pow(10,b)))/b:Math.round(a)};var hh=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(La);ig.formatPrefix=function(a,b){var c=0;return(a=+a)&&(0>a&&(a*=-1),b&&(a=ig.round(a,Ka(a,b))),c=1+Math.floor(1e-12+Math.log(a)/Math.LN10),c=Math.max(-24,Math.min(24,3*Math.floor((c-1)/3)))),hh[8+c/3]};var ih=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,jh=ig.map({b:function(a){return a.toString(2)},c:function(a){return String.fromCharCode(a)},o:function(a){return a.toString(8)},x:function(a){return a.toString(16)},X:function(a){return a.toString(16).toUpperCase()},g:function(a,b){return a.toPrecision(b)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},r:function(a,b){return(a=ig.round(a,Ka(a,b))).toFixed(Math.max(0,Math.min(20,Ka(a*(1+1e-15),b))))}}),kh=ig.time={},lh=Date;Oa.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){mh.setUTCDate.apply(this._,arguments)},setDay:function(){mh.setUTCDay.apply(this._,arguments)},setFullYear:function(){mh.setUTCFullYear.apply(this._,arguments)},setHours:function(){mh.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){mh.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){mh.setUTCMinutes.apply(this._,arguments)},setMonth:function(){mh.setUTCMonth.apply(this._,arguments)},setSeconds:function(){mh.setUTCSeconds.apply(this._,arguments)},setTime:function(){mh.setTime.apply(this._,arguments)}};var mh=Date.prototype;kh.year=Pa(function(a){return a=kh.day(a),a.setMonth(0,1),a},function(a,b){a.setFullYear(a.getFullYear()+b)},function(a){return a.getFullYear()}),kh.years=kh.year.range,kh.years.utc=kh.year.utc.range,kh.day=Pa(function(a){var b=new lh(2e3,0);return b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),b},function(a,b){a.setDate(a.getDate()+b)},function(a){return a.getDate()-1}),kh.days=kh.day.range,kh.days.utc=kh.day.utc.range,kh.dayOfYear=function(a){var b=kh.year(a);return Math.floor((a-b-6e4*(a.getTimezoneOffset()-b.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(a,b){b=7-b;var c=kh[a]=Pa(function(a){return(a=kh.day(a)).setDate(a.getDate()-(a.getDay()+b)%7),a},function(a,b){a.setDate(a.getDate()+7*Math.floor(b))},function(a){var c=kh.year(a).getDay();return Math.floor((kh.dayOfYear(a)+(c+b)%7)/7)-(c!==b)});kh[a+"s"]=c.range,kh[a+"s"].utc=c.utc.range,kh[a+"OfYear"]=function(a){var c=kh.year(a).getDay();return Math.floor((kh.dayOfYear(a)+(c+b)%7)/7)}}),kh.week=kh.sunday,kh.weeks=kh.sunday.range,kh.weeks.utc=kh.sunday.utc.range,kh.weekOfYear=kh.sundayOfYear;var nh={"-":"",_:" ",0:"0"},oh=/^\s*\d+/,ph=/^%/;ig.locale=function(a){return{numberFormat:Ma(a),timeFormat:Ra(a)}};var qh=ig.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ig.format=qh.numberFormat,ig.geo={},kb.prototype={s:0,t:0,add:function(a){lb(a,this.t,rh),lb(rh.s,this.s,this),this.s?this.t+=rh.t:this.s=rh.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var rh=new kb;ig.geo.stream=function(a,b){a&&sh.hasOwnProperty(a.type)?sh[a.type](a,b):mb(a,b)};var sh={Feature:function(a,b){mb(a.geometry,b)},FeatureCollection:function(a,b){for(var c=a.features,d=-1,e=c.length;++d<e;)mb(c[d].geometry,b)}},th={Sphere:function(a,b){b.sphere()},Point:function(a,b){a=a.coordinates,b.point(a[0],a[1],a[2])},MultiPoint:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)a=c[d],b.point(a[0],a[1],a[2])},LineString:function(a,b){nb(a.coordinates,b,0)},MultiLineString:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)nb(c[d],b,0)},Polygon:function(a,b){ob(a.coordinates,b)},MultiPolygon:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)ob(c[d],b)},GeometryCollection:function(a,b){for(var c=a.geometries,d=-1,e=c.length;++d<e;)mb(c[d],b)}};ig.geo.area=function(a){return uh=0,ig.geo.stream(a,wh),uh};var uh,vh=new kb,wh={sphere:function(){uh+=4*Lg},point:w,lineStart:w,lineEnd:w,polygonStart:function(){vh.reset(),wh.lineStart=pb},polygonEnd:function(){var a=2*vh;uh+=0>a?4*Lg+a:a,wh.lineStart=wh.lineEnd=wh.point=w}};ig.geo.bounds=function(){function a(a,b){t.push(u=[k=a,m=a]),l>b&&(l=b),b>n&&(n=b)}function b(b,c){var d=qb([b*Pg,c*Pg]);if(r){var e=sb(r,d),f=[e[1],-e[0],0],g=sb(f,e);vb(g),g=wb(g);var i=b-o,j=i>0?1:-1,p=g[0]*Qg*j,q=sg(i)>180;if(q^(p>j*o&&j*b>p)){var s=g[1]*Qg;s>n&&(n=s)}else if(p=(p+360)%360-180,q^(p>j*o&&j*b>p)){var s=-g[1]*Qg;l>s&&(l=s)}else l>c&&(l=c),c>n&&(n=c);q?o>b?h(k,b)>h(k,m)&&(m=b):h(b,m)>h(k,m)&&(k=b):m>=k?(k>b&&(k=b),b>m&&(m=b)):b>o?h(k,b)>h(k,m)&&(m=b):h(b,m)>h(k,m)&&(k=b)}else a(b,c);r=d,o=b}function c(){v.point=b}function d(){u[0]=k,u[1]=m,v.point=a,r=null}function e(a,c){if(r){var d=a-o;s+=sg(d)>180?d+(d>0?360:-360):d}else p=a,q=c;wh.point(a,c),b(a,c)}function f(){wh.lineStart()}function g(){e(p,q),wh.lineEnd(),sg(s)>Jg&&(k=-(m=180)),u[0]=k,u[1]=m,r=null}function h(a,b){return(b-=a)<0?b+360:b}function i(a,b){return a[0]-b[0]}function j(a,b){return b[0]<=b[1]?b[0]<=a&&a<=b[1]:a<b[0]||b[1]<a}var k,l,m,n,o,p,q,r,s,t,u,v={point:a,lineStart:c,lineEnd:d,polygonStart:function(){v.point=e,v.lineStart=f,v.lineEnd=g,s=0,wh.polygonStart()},polygonEnd:function(){wh.polygonEnd(),v.point=a,v.lineStart=c,v.lineEnd=d,0>vh?(k=-(m=180),l=-(n=90)):s>Jg?n=90:-Jg>s&&(l=-90),u[0]=k,u[1]=m}};return function(a){n=m=-(k=l=1/0),t=[],ig.geo.stream(a,v);var b=t.length;if(b){t.sort(i);for(var c,d=1,e=t[0],f=[e];b>d;++d)c=t[d],j(c[0],e)||j(c[1],e)?(h(e[0],c[1])>h(e[0],e[1])&&(e[1]=c[1]),h(c[0],e[1])>h(e[0],e[1])&&(e[0]=c[0])):f.push(e=c);for(var g,c,o=-1/0,b=f.length-1,d=0,e=f[b];b>=d;e=c,++d)c=f[d],(g=h(e[1],c[0]))>o&&(o=g,k=c[0],m=e[1])}return t=u=null,k===1/0||l===1/0?[[NaN,NaN],[NaN,NaN]]:[[k,l],[m,n]]}}(),ig.geo.centroid=function(a){xh=yh=zh=Ah=Bh=Ch=Dh=Eh=Fh=Gh=Hh=0,ig.geo.stream(a,Ih);var b=Fh,c=Gh,d=Hh,e=b*b+c*c+d*d;return Kg>e&&(b=Ch,c=Dh,d=Eh,Jg>yh&&(b=zh,c=Ah,d=Bh),(e=b*b+c*c+d*d)<Kg)?[NaN,NaN]:[Math.atan2(c,b)*Qg,ca(d/Math.sqrt(e))*Qg]};var xh,yh,zh,Ah,Bh,Ch,Dh,Eh,Fh,Gh,Hh,Ih={sphere:w,point:yb,lineStart:Ab,lineEnd:Bb,polygonStart:function(){Ih.lineStart=Cb},polygonEnd:function(){Ih.lineStart=Ab}},Jh=Ib(Eb,Mb,Ob,[-Lg,-Lg/2]),Kh=1e9;ig.geo.clipExtent=function(){var a,b,c,d,e,f,g={stream:function(a){return e&&(e.valid=!1),e=f(a),e.valid=!0,e},extent:function(h){return arguments.length?(f=Sb(a=+h[0][0],b=+h[0][1],c=+h[1][0],d=+h[1][1]),e&&(e.valid=!1,e=null),g):[[a,b],[c,d]]}};return g.extent([[0,0],[960,500]])},(ig.geo.conicEqualArea=function(){return Tb(Ub)}).raw=Ub,ig.geo.albers=function(){return ig.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ig.geo.albersUsa=function(){function a(a){var f=a[0],g=a[1];return b=null,c(f,g),b||(d(f,g),b)||e(f,g),b}var b,c,d,e,f=ig.geo.albers(),g=ig.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),h=ig.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),i={point:function(a,c){b=[a,c]}};return a.invert=function(a){var b=f.scale(),c=f.translate(),d=(a[0]-c[0])/b,e=(a[1]-c[1])/b;return(e>=.12&&.234>e&&d>=-.425&&-.214>d?g:e>=.166&&.234>e&&d>=-.214&&-.115>d?h:f).invert(a)},a.stream=function(a){var b=f.stream(a),c=g.stream(a),d=h.stream(a);return{point:function(a,e){b.point(a,e),c.point(a,e),d.point(a,e)},sphere:function(){b.sphere(),c.sphere(),d.sphere()},lineStart:function(){b.lineStart(),c.lineStart(),d.lineStart()},lineEnd:function(){b.lineEnd(),c.lineEnd(),d.lineEnd()},polygonStart:function(){b.polygonStart(),c.polygonStart(),d.polygonStart()},polygonEnd:function(){b.polygonEnd(),c.polygonEnd(),d.polygonEnd()}}},a.precision=function(b){return arguments.length?(f.precision(b),g.precision(b),h.precision(b),a):f.precision()},a.scale=function(b){return arguments.length?(f.scale(b),g.scale(.35*b),h.scale(b),a.translate(f.translate())):f.scale()},a.translate=function(b){if(!arguments.length)return f.translate();var j=f.scale(),k=+b[0],l=+b[1];return c=f.translate(b).clipExtent([[k-.455*j,l-.238*j],[k+.455*j,l+.238*j]]).stream(i).point,d=g.translate([k-.307*j,l+.201*j]).clipExtent([[k-.425*j+Jg,l+.12*j+Jg],[k-.214*j-Jg,l+.234*j-Jg]]).stream(i).point,e=h.translate([k-.205*j,l+.212*j]).clipExtent([[k-.214*j+Jg,l+.166*j+Jg],[k-.115*j-Jg,l+.234*j-Jg]]).stream(i).point,a},a.scale(1070)};var Lh,Mh,Nh,Oh,Ph,Qh,Rh={point:w,lineStart:w,lineEnd:w,polygonStart:function(){Mh=0,Rh.lineStart=Vb},polygonEnd:function(){Rh.lineStart=Rh.lineEnd=Rh.point=w,Lh+=sg(Mh/2)}},Sh={point:Wb,lineStart:w,lineEnd:w,polygonStart:w,polygonEnd:w},Th={point:Zb,lineStart:$b,lineEnd:_b,polygonStart:function(){Th.lineStart=ac},polygonEnd:function(){Th.point=Zb,Th.lineStart=$b,Th.lineEnd=_b}};ig.geo.path=function(){function a(a){return a&&("function"==typeof h&&f.pointRadius(+h.apply(this,arguments)),g&&g.valid||(g=e(f)),ig.geo.stream(a,g)),f.result()}function b(){return g=null,a}var c,d,e,f,g,h=4.5;return a.area=function(a){return Lh=0,ig.geo.stream(a,e(Rh)),Lh},a.centroid=function(a){return zh=Ah=Bh=Ch=Dh=Eh=Fh=Gh=Hh=0,ig.geo.stream(a,e(Th)),Hh?[Fh/Hh,Gh/Hh]:Eh?[Ch/Eh,Dh/Eh]:Bh?[zh/Bh,Ah/Bh]:[NaN,NaN]},a.bounds=function(a){return Ph=Qh=-(Nh=Oh=1/0),ig.geo.stream(a,e(Sh)),[[Nh,Oh],[Ph,Qh]]},a.projection=function(a){return arguments.length?(e=(c=a)?a.stream||dc(a):t,b()):c},a.context=function(a){return arguments.length?(f=null==(d=a)?new Xb:new bc(a),"function"!=typeof h&&f.pointRadius(h),b()):d},a.pointRadius=function(b){return arguments.length?(h="function"==typeof b?b:(f.pointRadius(+b),+b),a):h},a.projection(ig.geo.albersUsa()).context(null)},ig.geo.transform=function(a){return{stream:function(b){var c=new ec(b);for(var d in a)c[d]=a[d];return c}}},ec.prototype={point:function(a,b){this.stream.point(a,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ig.geo.projection=gc,ig.geo.projectionMutator=hc,(ig.geo.equirectangular=function(){return gc(jc)}).raw=jc.invert=jc,ig.geo.rotation=function(a){function b(b){return b=a(b[0]*Pg,b[1]*Pg),b[0]*=Qg,b[1]*=Qg,b}return a=lc(a[0]%360*Pg,a[1]*Pg,a.length>2?a[2]*Pg:0),b.invert=function(b){return b=a.invert(b[0]*Pg,b[1]*Pg),b[0]*=Qg,b[1]*=Qg,b},b},kc.invert=jc,ig.geo.circle=function(){function a(){var a="function"==typeof d?d.apply(this,arguments):d,b=lc(-a[0]*Pg,-a[1]*Pg,0).invert,e=[];return c(null,null,1,{point:function(a,c){e.push(a=b(a,c)),a[0]*=Qg,a[1]*=Qg}}),{type:"Polygon",coordinates:[e]}}var b,c,d=[0,0],e=6;return a.origin=function(b){return arguments.length?(d=b,a):d},a.angle=function(d){return arguments.length?(c=pc((b=+d)*Pg,e*Pg),a):b},a.precision=function(d){return arguments.length?(c=pc(b*Pg,(e=+d)*Pg),a):e},a.angle(90)},ig.geo.distance=function(a,b){var c,d=(b[0]-a[0])*Pg,e=a[1]*Pg,f=b[1]*Pg,g=Math.sin(d),h=Math.cos(d),i=Math.sin(e),j=Math.cos(e),k=Math.sin(f),l=Math.cos(f);return Math.atan2(Math.sqrt((c=l*g)*c+(c=j*k-i*l*h)*c),i*k+j*l*h)},ig.geo.graticule=function(){function a(){return{type:"MultiLineString",coordinates:b()}}function b(){return ig.range(Math.ceil(f/q)*q,e,q).map(m).concat(ig.range(Math.ceil(j/r)*r,i,r).map(n)).concat(ig.range(Math.ceil(d/o)*o,c,o).filter(function(a){return sg(a%q)>Jg}).map(k)).concat(ig.range(Math.ceil(h/p)*p,g,p).filter(function(a){return sg(a%r)>Jg}).map(l))}var c,d,e,f,g,h,i,j,k,l,m,n,o=10,p=o,q=90,r=360,s=2.5;return a.lines=function(){return b().map(function(a){return{type:"LineString",coordinates:a}})},a.outline=function(){return{type:"Polygon",coordinates:[m(f).concat(n(i).slice(1),m(e).reverse().slice(1),n(j).reverse().slice(1))]}},a.extent=function(b){return arguments.length?a.majorExtent(b).minorExtent(b):a.minorExtent()},a.majorExtent=function(b){return arguments.length?(f=+b[0][0],e=+b[1][0],j=+b[0][1],i=+b[1][1],f>e&&(b=f,f=e,e=b),j>i&&(b=j,j=i,i=b),a.precision(s)):[[f,j],[e,i]]},a.minorExtent=function(b){return arguments.length?(d=+b[0][0],c=+b[1][0],h=+b[0][1],g=+b[1][1],d>c&&(b=d,d=c,c=b),h>g&&(b=h,h=g,g=b),a.precision(s)):[[d,h],[c,g]]},a.step=function(b){return arguments.length?a.majorStep(b).minorStep(b):a.minorStep()},a.majorStep=function(b){return arguments.length?(q=+b[0],r=+b[1],a):[q,r]},a.minorStep=function(b){return arguments.length?(o=+b[0],p=+b[1],a):[o,p]},a.precision=function(b){return arguments.length?(s=+b,k=rc(h,g,90),l=sc(d,c,s),m=rc(j,i,90),n=sc(f,e,s),a):s},a.majorExtent([[-180,-90+Jg],[180,90-Jg]]).minorExtent([[-180,-80-Jg],[180,80+Jg]])},ig.geo.greatArc=function(){function a(){return{type:"LineString",coordinates:[b||d.apply(this,arguments),c||e.apply(this,arguments)]}}var b,c,d=tc,e=uc;return a.distance=function(){return ig.geo.distance(b||d.apply(this,arguments),c||e.apply(this,arguments))},a.source=function(c){return arguments.length?(d=c,b="function"==typeof c?null:c,a):d},a.target=function(b){return arguments.length?(e=b,c="function"==typeof b?null:b,a):e},a.precision=function(){return arguments.length?a:0},a},ig.geo.interpolate=function(a,b){return vc(a[0]*Pg,a[1]*Pg,b[0]*Pg,b[1]*Pg)},ig.geo.length=function(a){return Uh=0,ig.geo.stream(a,Vh),Uh};var Uh,Vh={sphere:w,point:w,lineStart:wc,lineEnd:w,polygonStart:w,polygonEnd:w},Wh=xc(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*Math.asin(a/2)});(ig.geo.azimuthalEqualArea=function(){return gc(Wh)}).raw=Wh;var Xh=xc(function(a){var b=Math.acos(a);return b&&b/Math.sin(b)},t);(ig.geo.azimuthalEquidistant=function(){return gc(Xh)}).raw=Xh,(ig.geo.conicConformal=function(){return Tb(yc)}).raw=yc,(ig.geo.conicEquidistant=function(){return Tb(zc)}).raw=zc;var Yh=xc(function(a){return 1/a},Math.atan);(ig.geo.gnomonic=function(){return gc(Yh)}).raw=Yh,Ac.invert=function(a,b){return[a,2*Math.atan(Math.exp(b))-Og]},(ig.geo.mercator=function(){return Bc(Ac)}).raw=Ac;var Zh=xc(function(){return 1},Math.asin);(ig.geo.orthographic=function(){return gc(Zh)}).raw=Zh;var $h=xc(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(ig.geo.stereographic=function(){return gc($h)}).raw=$h,Cc.invert=function(a,b){return[-b,2*Math.atan(Math.exp(a))-Og]},(ig.geo.transverseMercator=function(){var a=Bc(Cc),b=a.center,c=a.rotate;return a.center=function(a){return a?b([-a[1],a[0]]):(a=b(),[a[1],-a[0]])},a.rotate=function(a){return a?c([a[0],a[1],a.length>2?a[2]+90:90]):(a=c(),[a[0],a[1],a[2]-90])},c([0,0,90])}).raw=Cc,ig.geom={},ig.geom.hull=function(a){function b(a){if(a.length<3)return[];var b,e=Ba(c),f=Ba(d),g=a.length,h=[],i=[];for(b=0;g>b;b++)h.push([+e.call(this,a[b],b),+f.call(this,a[b],b),b]);for(h.sort(Gc),b=0;g>b;b++)i.push([h[b][0],-h[b][1]]);var j=Fc(h),k=Fc(i),l=k[0]===j[0],m=k[k.length-1]===j[j.length-1],n=[];for(b=j.length-1;b>=0;--b)n.push(a[h[j[b]][2]]);for(b=+l;b<k.length-m;++b)n.push(a[h[k[b]][2]]);return n}var c=Dc,d=Ec;return arguments.length?b(a):(b.x=function(a){return arguments.length?(c=a,b):c},b.y=function(a){return arguments.length?(d=a,b):d},b)},ig.geom.polygon=function(a){return xg(a,_h),a};var _h=ig.geom.polygon.prototype=[];_h.area=function(){for(var a,b=-1,c=this.length,d=this[c-1],e=0;++b<c;)a=d,d=this[b],e+=a[1]*d[0]-a[0]*d[1];return.5*e},_h.centroid=function(a){var b,c,d=-1,e=this.length,f=0,g=0,h=this[e-1];for(arguments.length||(a=-1/(6*this.area()));++d<e;)b=h,h=this[d],c=b[0]*h[1]-h[0]*b[1],f+=(b[0]+h[0])*c,g+=(b[1]+h[1])*c;return[f*a,g*a]},_h.clip=function(a){for(var b,c,d,e,f,g,h=Jc(a),i=-1,j=this.length-Jc(this),k=this[j-1];++i<j;){for(b=a.slice(),a.length=0,e=this[i],f=b[(d=b.length-h)-1],c=-1;++c<d;)g=b[c],Hc(g,k,e)?(Hc(f,k,e)||a.push(Ic(f,g,k,e)),a.push(g)):Hc(f,k,e)&&a.push(Ic(f,g,k,e)),f=g;h&&a.push(a[0]),k=e}return a};var ai,bi,ci,di,ei,fi=[],gi=[];Rc.prototype.prepare=function(){for(var a,b=this.edges,c=b.length;c--;)a=b[c].edge,a.b&&a.a||b.splice(c,1);return b.sort(Tc),b.length},bd.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},cd.prototype={insert:function(a,b){var c,d,e;if(a){if(b.P=a,b.N=a.N,a.N&&(a.N.P=b),a.N=b,a.R){for(a=a.R;a.L;)a=a.L;a.L=b}else a.R=b;c=a}else this._?(a=gd(this._),b.P=null,b.N=a,a.P=a.L=b,c=a):(b.P=b.N=null,this._=b,c=null);for(b.L=b.R=null,
b.U=c,b.C=!0,a=b;c&&c.C;)d=c.U,c===d.L?(e=d.R,e&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.R&&(ed(this,c),a=c,c=a.U),c.C=!1,d.C=!0,fd(this,d))):(e=d.L,e&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.L&&(fd(this,c),a=c,c=a.U),c.C=!1,d.C=!0,ed(this,d))),c=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P),a.P&&(a.P.N=a.N),a.N=a.P=null;var b,c,d,e=a.U,f=a.L,g=a.R;if(c=f?g?gd(g):f:g,e?e.L===a?e.L=c:e.R=c:this._=c,f&&g?(d=c.C,c.C=a.C,c.L=f,f.U=c,c!==g?(e=c.U,c.U=a.U,a=c.R,e.L=a,c.R=g,g.U=c):(c.U=e,e=c,a=c.R)):(d=a.C,a=c),a&&(a.U=e),!d){if(a&&a.C)return void(a.C=!1);do{if(a===this._)break;if(a===e.L){if(b=e.R,b.C&&(b.C=!1,e.C=!0,ed(this,e),b=e.R),b.L&&b.L.C||b.R&&b.R.C){b.R&&b.R.C||(b.L.C=!1,b.C=!0,fd(this,b),b=e.R),b.C=e.C,e.C=b.R.C=!1,ed(this,e),a=this._;break}}else if(b=e.L,b.C&&(b.C=!1,e.C=!0,fd(this,e),b=e.L),b.L&&b.L.C||b.R&&b.R.C){b.L&&b.L.C||(b.R.C=!1,b.C=!0,ed(this,b),b=e.L),b.C=e.C,e.C=b.L.C=!1,fd(this,e),a=this._;break}b.C=!0,a=e,e=e.U}while(!a.C);a&&(a.C=!1)}}},ig.geom.voronoi=function(a){function b(a){var b=new Array(a.length),d=h[0][0],e=h[0][1],f=h[1][0],g=h[1][1];return hd(c(a),h).cells.forEach(function(c,h){var i=c.edges,j=c.site;(b[h]=i.length?i.map(function(a){var b=a.start();return[b.x,b.y]}):j.x>=d&&j.x<=f&&j.y>=e&&j.y<=g?[[d,g],[f,g],[f,e],[d,e]]:[]).point=a[h]}),b}function c(a){return a.map(function(a,b){return{x:Math.round(f(a,b)/Jg)*Jg,y:Math.round(g(a,b)/Jg)*Jg,i:b}})}var d=Dc,e=Ec,f=d,g=e,h=hi;return a?b(a):(b.links=function(a){return hd(c(a)).edges.filter(function(a){return a.l&&a.r}).map(function(b){return{source:a[b.l.i],target:a[b.r.i]}})},b.triangles=function(a){var b=[];return hd(c(a)).cells.forEach(function(c,d){for(var e,f=c.site,g=c.edges.sort(Tc),h=-1,i=g.length,j=g[i-1].edge,k=j.l===f?j.r:j.l;++h<i;)e=k,j=g[h].edge,k=j.l===f?j.r:j.l,d<e.i&&d<k.i&&jd(f,e,k)<0&&b.push([a[d],a[e.i],a[k.i]])}),b},b.x=function(a){return arguments.length?(f=Ba(d=a),b):d},b.y=function(a){return arguments.length?(g=Ba(e=a),b):e},b.clipExtent=function(a){return arguments.length?(h=null==a?hi:a,b):h===hi?null:h},b.size=function(a){return arguments.length?b.clipExtent(a&&[[0,0],a]):h===hi?null:h&&h[1]},b)};var hi=[[-1e6,-1e6],[1e6,1e6]];ig.geom.delaunay=function(a){return ig.geom.voronoi().triangles(a)},ig.geom.quadtree=function(a,b,c,d,e){function f(a){function f(a,b,c,d,e,f,g,h){if(!isNaN(c)&&!isNaN(d))if(a.leaf){var i=a.x,k=a.y;if(null!=i)if(sg(i-c)+sg(k-d)<.01)j(a,b,c,d,e,f,g,h);else{var l=a.point;a.x=a.y=a.point=null,j(a,l,i,k,e,f,g,h),j(a,b,c,d,e,f,g,h)}else a.x=c,a.y=d,a.point=b}else j(a,b,c,d,e,f,g,h)}function j(a,b,c,d,e,g,h,i){var j=.5*(e+h),k=.5*(g+i),l=c>=j,m=d>=k,n=m<<1|l;a.leaf=!1,a=a.nodes[n]||(a.nodes[n]=md()),l?e=j:h=j,m?g=k:i=k,f(a,b,c,d,e,g,h,i)}var k,l,m,n,o,p,q,r,s,t=Ba(h),u=Ba(i);if(null!=b)p=b,q=c,r=d,s=e;else if(r=s=-(p=q=1/0),l=[],m=[],o=a.length,g)for(n=0;o>n;++n)k=a[n],k.x<p&&(p=k.x),k.y<q&&(q=k.y),k.x>r&&(r=k.x),k.y>s&&(s=k.y),l.push(k.x),m.push(k.y);else for(n=0;o>n;++n){var v=+t(k=a[n],n),w=+u(k,n);p>v&&(p=v),q>w&&(q=w),v>r&&(r=v),w>s&&(s=w),l.push(v),m.push(w)}var x=r-p,y=s-q;x>y?s=q+x:r=p+y;var z=md();if(z.add=function(a){f(z,a,+t(a,++n),+u(a,n),p,q,r,s)},z.visit=function(a){nd(a,z,p,q,r,s)},z.find=function(a){return od(z,a[0],a[1],p,q,r,s)},n=-1,null==b){for(;++n<o;)f(z,a[n],l[n],m[n],p,q,r,s);--n}else a.forEach(z.add);return l=m=a=k=null,z}var g,h=Dc,i=Ec;return(g=arguments.length)?(h=kd,i=ld,3===g&&(e=c,d=b,c=b=0),f(a)):(f.x=function(a){return arguments.length?(h=a,f):h},f.y=function(a){return arguments.length?(i=a,f):i},f.extent=function(a){return arguments.length?(null==a?b=c=d=e=null:(b=+a[0][0],c=+a[0][1],d=+a[1][0],e=+a[1][1]),f):null==b?null:[[b,c],[d,e]]},f.size=function(a){return arguments.length?(null==a?b=c=d=e=null:(b=c=0,d=+a[0],e=+a[1]),f):null==b?null:[d-b,e-c]},f)},ig.interpolateRgb=pd,ig.interpolateObject=qd,ig.interpolateNumber=rd,ig.interpolateString=sd;var ii=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ji=new RegExp(ii.source,"g");ig.interpolate=td,ig.interpolators=[function(a,b){var c=void 0===b?"undefined":_typeof(b);return("string"===c?bh.has(b.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(b)?pd:sd:b instanceof ha?pd:Array.isArray(b)?ud:"object"===c&&isNaN(b)?qd:rd)(a,b)}],ig.interpolateArray=ud;var ki=function(){return t},li=ig.map({linear:ki,poly:Bd,quad:function(){return yd},cubic:function(){return zd},sin:function(){return Cd},exp:function(){return Dd},circle:function(){return Ed},elastic:Fd,back:Gd,bounce:function(){return Hd}}),mi=ig.map({"in":t,out:wd,"in-out":xd,"out-in":function(a){return xd(wd(a))}});ig.ease=function(a){var b=a.indexOf("-"),c=b>=0?a.slice(0,b):a,d=b>=0?a.slice(b+1):"in";return c=li.get(c)||ki,d=mi.get(d)||t,vd(d(c.apply(null,jg.call(arguments,1))))},ig.interpolateHcl=Id,ig.interpolateHsl=Jd,ig.interpolateLab=Kd,ig.interpolateRound=Ld,ig.transform=function(a){var b=lg.createElementNS(ig.ns.prefix.svg,"g");return(ig.transform=function(a){if(null!=a){b.setAttribute("transform",a);var c=b.transform.baseVal.consolidate()}return new Md(c?c.matrix:ni)})(a)},Md.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ni={a:1,b:0,c:0,d:1,e:0,f:0};ig.interpolateTransform=Vd,ig.layout={},ig.layout.bundle=function(){return function(a){for(var b=[],c=-1,d=a.length;++c<d;)b.push(Yd(a[c]));return b}},ig.layout.chord=function(){function a(){var a,j,l,m,n,o={},p=[],q=ig.range(f),r=[];for(c=[],d=[],a=0,m=-1;++m<f;){for(j=0,n=-1;++n<f;)j+=e[m][n];p.push(j),r.push(ig.range(f)),a+=j}for(g&&q.sort(function(a,b){return g(p[a],p[b])}),h&&r.forEach(function(a,b){a.sort(function(a,c){return h(e[b][a],e[b][c])})}),a=(Mg-k*f)/a,j=0,m=-1;++m<f;){for(l=j,n=-1;++n<f;){var s=q[m],t=r[s][n],u=e[s][t],v=j,w=j+=u*a;o[s+"-"+t]={index:s,subindex:t,startAngle:v,endAngle:w,value:u}}d[s]={index:s,startAngle:l,endAngle:j,value:p[s]},j+=k}for(m=-1;++m<f;)for(n=m-1;++n<f;){var x=o[m+"-"+n],y=o[n+"-"+m];(x.value||y.value)&&c.push(x.value<y.value?{source:y,target:x}:{source:x,target:y})}i&&b()}function b(){c.sort(function(a,b){return i((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var c,d,e,f,g,h,i,j={},k=0;return j.matrix=function(a){return arguments.length?(f=(e=a)&&e.length,c=d=null,j):e},j.padding=function(a){return arguments.length?(k=a,c=d=null,j):k},j.sortGroups=function(a){return arguments.length?(g=a,c=d=null,j):g},j.sortSubgroups=function(a){return arguments.length?(h=a,c=null,j):h},j.sortChords=function(a){return arguments.length?(i=a,c&&b(),j):i},j.chords=function(){return c||a(),c},j.groups=function(){return d||a(),d},j},ig.layout.force=function(){function a(a){return function(b,c,d,e){if(b.point!==a){var f=b.cx-a.x,g=b.cy-a.y,h=e-c,i=f*f+g*g;if(i>h*h/r){if(p>i){var j=b.charge/i;a.px-=f*j,a.py-=g*j}return!0}if(b.point&&i&&p>i){var j=b.pointCharge/i;a.px-=f*j,a.py-=g*j}}return!b.charge}}function b(a){a.px=ig.event.x,a.py=ig.event.y,i.resume()}var c,d,e,f,g,h,i={},j=ig.dispatch("start","tick","end"),k=[1,1],l=.9,m=oi,n=pi,o=-30,p=qi,q=.1,r=.64,s=[],u=[];return i.tick=function(){if((e*=.99)<.005)return c=null,j.end({type:"end",alpha:e=0}),!0;var b,d,i,m,n,p,r,t,v,w=s.length,x=u.length;for(d=0;x>d;++d)i=u[d],m=i.source,n=i.target,t=n.x-m.x,v=n.y-m.y,(p=t*t+v*v)&&(p=e*g[d]*((p=Math.sqrt(p))-f[d])/p,t*=p,v*=p,n.x-=t*(r=m.weight+n.weight?m.weight/(m.weight+n.weight):.5),n.y-=v*r,m.x+=t*(r=1-r),m.y+=v*r);if((r=e*q)&&(t=k[0]/2,v=k[1]/2,d=-1,r))for(;++d<w;)i=s[d],i.x+=(t-i.x)*r,i.y+=(v-i.y)*r;if(o)for(de(b=ig.geom.quadtree(s),e,h),d=-1;++d<w;)(i=s[d]).fixed||b.visit(a(i));for(d=-1;++d<w;)i=s[d],i.fixed?(i.x=i.px,i.y=i.py):(i.x-=(i.px-(i.px=i.x))*l,i.y-=(i.py-(i.py=i.y))*l);j.tick({type:"tick",alpha:e})},i.nodes=function(a){return arguments.length?(s=a,i):s},i.links=function(a){return arguments.length?(u=a,i):u},i.size=function(a){return arguments.length?(k=a,i):k},i.linkDistance=function(a){return arguments.length?(m="function"==typeof a?a:+a,i):m},i.distance=i.linkDistance,i.linkStrength=function(a){return arguments.length?(n="function"==typeof a?a:+a,i):n},i.friction=function(a){return arguments.length?(l=+a,i):l},i.charge=function(a){return arguments.length?(o="function"==typeof a?a:+a,i):o},i.chargeDistance=function(a){return arguments.length?(p=a*a,i):Math.sqrt(p)},i.gravity=function(a){return arguments.length?(q=+a,i):q},i.theta=function(a){return arguments.length?(r=a*a,i):Math.sqrt(r)},i.alpha=function(a){return arguments.length?(a=+a,e?a>0?e=a:(c.c=null,c.t=NaN,c=null,j.end({type:"end",alpha:e=0})):a>0&&(j.start({type:"start",alpha:e=a}),c=Ga(i.tick)),i):e},i.start=function(){function a(a,d){if(!c){for(c=new Array(e),i=0;e>i;++i)c[i]=[];for(i=0;j>i;++i){var f=u[i];c[f.source.index].push(f.target),c[f.target.index].push(f.source)}}for(var g,h=c[b],i=-1,k=h.length;++i<k;)if(!isNaN(g=h[i][a]))return g;return Math.random()*d}var b,c,d,e=s.length,j=u.length,l=k[0],p=k[1];for(b=0;e>b;++b)(d=s[b]).index=b,d.weight=0;for(b=0;j>b;++b)d=u[b],"number"==typeof d.source&&(d.source=s[d.source]),"number"==typeof d.target&&(d.target=s[d.target]),++d.source.weight,++d.target.weight;for(b=0;e>b;++b)d=s[b],isNaN(d.x)&&(d.x=a("x",l)),isNaN(d.y)&&(d.y=a("y",p)),isNaN(d.px)&&(d.px=d.x),isNaN(d.py)&&(d.py=d.y);if(f=[],"function"==typeof m)for(b=0;j>b;++b)f[b]=+m.call(this,u[b],b);else for(b=0;j>b;++b)f[b]=m;if(g=[],"function"==typeof n)for(b=0;j>b;++b)g[b]=+n.call(this,u[b],b);else for(b=0;j>b;++b)g[b]=n;if(h=[],"function"==typeof o)for(b=0;e>b;++b)h[b]=+o.call(this,s[b],b);else for(b=0;e>b;++b)h[b]=o;return i.resume()},i.resume=function(){return i.alpha(.1)},i.stop=function(){return i.alpha(0)},i.drag=function(){return d||(d=ig.behavior.drag().origin(t).on("dragstart.force",_d).on("drag.force",b).on("dragend.force",ae)),arguments.length?void this.on("mouseover.force",be).on("mouseout.force",ce).call(d):d},ig.rebind(i,j,"on")};var oi=20,pi=1,qi=1/0;ig.layout.hierarchy=function(){function a(e){var f,g=[e],h=[];for(e.depth=0;null!=(f=g.pop());)if(h.push(f),(j=c.call(a,f,f.depth))&&(i=j.length)){for(var i,j,k;--i>=0;)g.push(k=j[i]),k.parent=f,k.depth=f.depth+1;d&&(f.value=0),f.children=j}else d&&(f.value=+d.call(a,f,f.depth)||0),delete f.children;return ge(e,function(a){var c,e;b&&(c=a.children)&&c.sort(b),d&&(e=a.parent)&&(e.value+=a.value)}),h}var b=je,c=he,d=ie;return a.sort=function(c){return arguments.length?(b=c,a):b},a.children=function(b){return arguments.length?(c=b,a):c},a.value=function(b){return arguments.length?(d=b,a):d},a.revalue=function(b){return d&&(fe(b,function(a){a.children&&(a.value=0)}),ge(b,function(b){var c;b.children||(b.value=+d.call(a,b,b.depth)||0),(c=b.parent)&&(c.value+=b.value)})),b},a},ig.layout.partition=function(){function a(b,c,d,e){var f=b.children;if(b.x=c,b.y=b.depth*e,b.dx=d,b.dy=e,f&&(g=f.length)){var g,h,i,j=-1;for(d=b.value?d/b.value:0;++j<g;)a(h=f[j],c,i=h.value*d,e),c+=i}}function b(a){var c=a.children,d=0;if(c&&(e=c.length))for(var e,f=-1;++f<e;)d=Math.max(d,b(c[f]));return 1+d}function c(c,f){var g=d.call(this,c,f);return a(g[0],0,e[0],e[1]/b(g[0])),g}var d=ig.layout.hierarchy(),e=[1,1];return c.size=function(a){return arguments.length?(e=a,c):e},ee(c,d)},ig.layout.pie=function(){function a(g){var h,i=g.length,j=g.map(function(c,d){return+b.call(a,c,d)}),k=+("function"==typeof d?d.apply(this,arguments):d),l=("function"==typeof e?e.apply(this,arguments):e)-k,m=Math.min(Math.abs(l)/i,+("function"==typeof f?f.apply(this,arguments):f)),n=m*(0>l?-1:1),o=ig.sum(j),p=o?(l-i*n)/o:0,q=ig.range(i),r=[];return null!=c&&q.sort(c===ri?function(a,b){return j[b]-j[a]}:function(a,b){return c(g[a],g[b])}),q.forEach(function(a){r[a]={data:g[a],value:h=j[a],startAngle:k,endAngle:k+=h*p+n,padAngle:m}}),r}var b=Number,c=ri,d=0,e=Mg,f=0;return a.value=function(c){return arguments.length?(b=c,a):b},a.sort=function(b){return arguments.length?(c=b,a):c},a.startAngle=function(b){return arguments.length?(d=b,a):d},a.endAngle=function(b){return arguments.length?(e=b,a):e},a.padAngle=function(b){return arguments.length?(f=b,a):f},a};var ri={};ig.layout.stack=function(){function a(h,i){if(!(m=h.length))return h;var j=h.map(function(c,d){return b.call(a,c,d)}),k=j.map(function(b){return b.map(function(b,c){return[f.call(a,b,c),g.call(a,b,c)]})}),l=c.call(a,k,i);j=ig.permute(j,l),k=ig.permute(k,l);var m,n,o,p,q=d.call(a,k,i),r=j[0].length;for(o=0;r>o;++o)for(e.call(a,j[0][o],p=q[o],k[0][o][1]),n=1;m>n;++n)e.call(a,j[n][o],p+=k[n-1][o][1],k[n][o][1]);return h}var b=t,c=oe,d=pe,e=ne,f=le,g=me;return a.values=function(c){return arguments.length?(b=c,a):b},a.order=function(b){return arguments.length?(c="function"==typeof b?b:si.get(b)||oe,a):c},a.offset=function(b){return arguments.length?(d="function"==typeof b?b:ti.get(b)||pe,a):d},a.x=function(b){return arguments.length?(f=b,a):f},a.y=function(b){return arguments.length?(g=b,a):g},a.out=function(b){return arguments.length?(e=b,a):e},a};var si=ig.map({"inside-out":function(a){var b,c,d=a.length,e=a.map(qe),f=a.map(re),g=ig.range(d).sort(function(a,b){return e[a]-e[b]}),h=0,i=0,j=[],k=[];for(b=0;d>b;++b)c=g[b],i>h?(h+=f[c],j.push(c)):(i+=f[c],k.push(c));return k.reverse().concat(j)},reverse:function(a){return ig.range(a.length).reverse()},"default":oe}),ti=ig.map({silhouette:function(a){var b,c,d,e=a.length,f=a[0].length,g=[],h=0,i=[];for(c=0;f>c;++c){for(b=0,d=0;e>b;b++)d+=a[b][c][1];d>h&&(h=d),g.push(d)}for(c=0;f>c;++c)i[c]=(h-g[c])/2;return i},wiggle:function(a){var b,c,d,e,f,g,h,i,j,k=a.length,l=a[0],m=l.length,n=[];for(n[0]=i=j=0,c=1;m>c;++c){for(b=0,e=0;k>b;++b)e+=a[b][c][1];for(b=0,f=0,h=l[c][0]-l[c-1][0];k>b;++b){for(d=0,g=(a[b][c][1]-a[b][c-1][1])/(2*h);b>d;++d)g+=(a[d][c][1]-a[d][c-1][1])/h;f+=g*a[b][c][1]}n[c]=i-=e?f/e*h:0,j>i&&(j=i)}for(c=0;m>c;++c)n[c]-=j;return n},expand:function(a){var b,c,d,e=a.length,f=a[0].length,g=1/e,h=[];for(c=0;f>c;++c){for(b=0,d=0;e>b;b++)d+=a[b][c][1];if(d)for(b=0;e>b;b++)a[b][c][1]/=d;else for(b=0;e>b;b++)a[b][c][1]=g}for(c=0;f>c;++c)h[c]=0;return h},zero:pe});ig.layout.histogram=function(){function a(a,f){for(var g,h,i=[],j=a.map(c,this),k=d.call(this,j,f),l=e.call(this,k,j,f),f=-1,m=j.length,n=l.length-1,o=b?1:1/m;++f<n;)g=i[f]=[],g.dx=l[f+1]-(g.x=l[f]),g.y=0;if(n>0)for(f=-1;++f<m;)(h=j[f])>=k[0]&&h<=k[1]&&(g=i[ig.bisect(l,h,1,n)-1],g.y+=o,g.push(a[f]));return i}var b=!0,c=Number,d=ve,e=te;return a.value=function(b){return arguments.length?(c=b,a):c},a.range=function(b){return arguments.length?(d=Ba(b),a):d},a.bins=function(b){return arguments.length?(e="number"==typeof b?function(a){return ue(a,b)}:Ba(b),a):e},a.frequency=function(c){return arguments.length?(b=!!c,a):b},a},ig.layout.pack=function(){function a(a,f){var g=c.call(this,a,f),h=g[0],i=e[0],j=e[1],k=null==b?Math.sqrt:"function"==typeof b?b:function(){return b};if(h.x=h.y=0,ge(h,function(a){a.r=+k(a.value)}),ge(h,Ae),d){var l=d*(b?1:Math.max(2*h.r/i,2*h.r/j))/2;ge(h,function(a){a.r+=l}),ge(h,Ae),ge(h,function(a){a.r-=l})}return De(h,i/2,j/2,b?1:1/Math.max(2*h.r/i,2*h.r/j)),g}var b,c=ig.layout.hierarchy().sort(we),d=0,e=[1,1];return a.size=function(b){return arguments.length?(e=b,a):e},a.radius=function(c){return arguments.length?(b=null==c||"function"==typeof c?c:+c,a):b},a.padding=function(b){return arguments.length?(d=+b,a):d},ee(a,c)},ig.layout.tree=function(){function a(a,e){var k=g.call(this,a,e),l=k[0],m=b(l);if(ge(m,c),m.parent.m=-m.z,fe(m,d),j)fe(l,f);else{var n=l,o=l,p=l;fe(l,function(a){a.x<n.x&&(n=a),a.x>o.x&&(o=a),a.depth>p.depth&&(p=a)});var q=h(n,o)/2-n.x,r=i[0]/(o.x+h(o,n)/2+q),s=i[1]/(p.depth||1);fe(l,function(a){a.x=(a.x+q)*r,a.y=a.depth*s})}return k}function b(a){for(var b,c={A:null,children:[a]},d=[c];null!=(b=d.pop());)for(var e,f=b.children,g=0,h=f.length;h>g;++g)d.push((f[g]=e={_:f[g],parent:b,children:(e=f[g].children)&&e.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:g}).a=e);return c.children[0]}function c(a){var b=a.children,c=a.parent.children,d=a.i?c[a.i-1]:null;if(b.length){Je(a);var f=(b[0].z+b[b.length-1].z)/2;d?(a.z=d.z+h(a._,d._),a.m=a.z-f):a.z=f}else d&&(a.z=d.z+h(a._,d._));a.parent.A=e(a,d,a.parent.A||c[0])}function d(a){a._.x=a.z+a.parent.m,a.m+=a.parent.m}function e(a,b,c){if(b){for(var d,e=a,f=a,g=b,i=e.parent.children[0],j=e.m,k=f.m,l=g.m,m=i.m;g=He(g),e=Ge(e),g&&e;)i=Ge(i),f=He(f),f.a=a,d=g.z+l-e.z-j+h(g._,e._),d>0&&(Ie(Ke(g,a,c),a,d),j+=d,k+=d),l+=g.m,j+=e.m,m+=i.m,k+=f.m;g&&!He(f)&&(f.t=g,f.m+=l-k),e&&!Ge(i)&&(i.t=e,i.m+=j-m,c=a)}return c}function f(a){a.x*=i[0],a.y=a.depth*i[1]}var g=ig.layout.hierarchy().sort(null).value(null),h=Fe,i=[1,1],j=null;return a.separation=function(b){return arguments.length?(h=b,a):h},a.size=function(b){return arguments.length?(j=null==(i=b)?f:null,a):j?null:i},a.nodeSize=function(b){return arguments.length?(j=null==(i=b)?null:f,a):j?i:null},ee(a,g)},ig.layout.cluster=function(){function a(a,f){var g,h=b.call(this,a,f),i=h[0],j=0;ge(i,function(a){var b=a.children;b&&b.length?(a.x=Me(b),a.y=Le(b)):(a.x=g?j+=c(a,g):0,a.y=0,g=a)});var k=Ne(i),l=Oe(i),m=k.x-c(k,l)/2,n=l.x+c(l,k)/2;return ge(i,e?function(a){a.x=(a.x-i.x)*d[0],a.y=(i.y-a.y)*d[1]}:function(a){a.x=(a.x-m)/(n-m)*d[0],a.y=(1-(i.y?a.y/i.y:1))*d[1]}),h}var b=ig.layout.hierarchy().sort(null).value(null),c=Fe,d=[1,1],e=!1;return a.separation=function(b){return arguments.length?(c=b,a):c},a.size=function(b){return arguments.length?(e=null==(d=b),a):e?null:d},a.nodeSize=function(b){return arguments.length?(e=null!=(d=b),a):e?d:null},ee(a,b)},ig.layout.treemap=function(){function a(a,b){for(var c,d,e=-1,f=a.length;++e<f;)d=(c=a[e]).value*(0>b?0:b),c.area=isNaN(d)||0>=d?0:d}function b(c){var f=c.children;if(f&&f.length){var g,h,i,j=l(c),k=[],m=f.slice(),o=1/0,p="slice"===n?j.dx:"dice"===n?j.dy:"slice-dice"===n?1&c.depth?j.dy:j.dx:Math.min(j.dx,j.dy);for(a(m,j.dx*j.dy/c.value),k.area=0;(i=m.length)>0;)k.push(g=m[i-1]),k.area+=g.area,"squarify"!==n||(h=d(k,p))<=o?(m.pop(),o=h):(k.area-=k.pop().area,e(k,p,j,!1),p=Math.min(j.dx,j.dy),k.length=k.area=0,o=1/0);k.length&&(e(k,p,j,!0),k.length=k.area=0),f.forEach(b)}}function c(b){var d=b.children;if(d&&d.length){var f,g=l(b),h=d.slice(),i=[];for(a(h,g.dx*g.dy/b.value),i.area=0;f=h.pop();)i.push(f),i.area+=f.area,null!=f.z&&(e(i,f.z?g.dx:g.dy,g,!h.length),i.length=i.area=0);d.forEach(c)}}function d(a,b){for(var c,d=a.area,e=0,f=1/0,g=-1,h=a.length;++g<h;)(c=a[g].area)&&(f>c&&(f=c),c>e&&(e=c));return d*=d,b*=b,d?Math.max(b*e*o/d,d/(b*f*o)):1/0}function e(a,b,c,d){var e,f=-1,g=a.length,h=c.x,j=c.y,k=b?i(a.area/b):0;if(b==c.dx){for((d||k>c.dy)&&(k=c.dy);++f<g;)e=a[f],e.x=h,e.y=j,e.dy=k,h+=e.dx=Math.min(c.x+c.dx-h,k?i(e.area/k):0);e.z=!0,e.dx+=c.x+c.dx-h,c.y+=k,c.dy-=k}else{for((d||k>c.dx)&&(k=c.dx);++f<g;)e=a[f],e.x=h,e.y=j,e.dx=k,j+=e.dy=Math.min(c.y+c.dy-j,k?i(e.area/k):0);e.z=!1,e.dy+=c.y+c.dy-j,c.x+=k,c.dx-=k}}function f(d){var e=g||h(d),f=e[0];return f.x=f.y=0,f.value?(f.dx=j[0],f.dy=j[1]):f.dx=f.dy=0,g&&h.revalue(f),a([f],f.dx*f.dy/f.value),(g?c:b)(f),m&&(g=e),e}var g,h=ig.layout.hierarchy(),i=Math.round,j=[1,1],k=null,l=Pe,m=!1,n="squarify",o=.5*(1+Math.sqrt(5));return f.size=function(a){return arguments.length?(j=a,f):j},f.padding=function(a){function b(b){var c=a.call(f,b,b.depth);return null==c?Pe(b):Qe(b,"number"==typeof c?[c,c,c,c]:c)}function c(b){return Qe(b,a)}if(!arguments.length)return k;var d;return l=null==(k=a)?Pe:"function"===(d=void 0===a?"undefined":_typeof(a))?b:"number"===d?(a=[a,a,a,a],c):c,f},f.round=function(a){return arguments.length?(i=a?Math.round:Number,f):i!=Number},f.sticky=function(a){return arguments.length?(m=a,g=null,f):m},f.ratio=function(a){return arguments.length?(o=a,f):o},f.mode=function(a){return arguments.length?(n=a+"",f):n},ee(f,h)},ig.random={normal:function(a,b){var c=arguments.length;return 2>c&&(b=1),1>c&&(a=0),function(){var c,d,e;do c=2*Math.random()-1,d=2*Math.random()-1,e=c*c+d*d;while(!e||e>1);return a+b*c*Math.sqrt(-2*Math.log(e)/e)}},logNormal:function(){var a=ig.random.normal.apply(ig,arguments);return function(){return Math.exp(a())}},bates:function(a){var b=ig.random.irwinHall(a);return function(){return b()/a}},irwinHall:function(a){return function(){for(var b=0,c=0;a>c;c++)b+=Math.random();return b}}},ig.scale={};var ui={floor:t,ceil:t};ig.scale.linear=function(){return Xe([0,1],[0,1],td,!1)};var vi={s:1,g:1,p:1,r:1,e:1};ig.scale.log=function(){return df(ig.scale.linear().domain([0,1]),10,!0,[1,10])};var wi=ig.format(".0e"),xi={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};ig.scale.pow=function(){return ef(ig.scale.linear(),1,[0,1])},ig.scale.sqrt=function(){return ig.scale.pow().exponent(.5)},ig.scale.ordinal=function(){return gf([],{t:"range",a:[[]]})},ig.scale.category10=function(){return ig.scale.ordinal().range(yi)},ig.scale.category20=function(){return ig.scale.ordinal().range(zi)},ig.scale.category20b=function(){return ig.scale.ordinal().range(Ai)},ig.scale.category20c=function(){return ig.scale.ordinal().range(Bi)};var yi=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ua),zi=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ua),Ai=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ua),Bi=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ua);ig.scale.quantile=function(){return hf([],[])},ig.scale.quantize=function(){return jf(0,1,[0,1])},ig.scale.threshold=function(){return kf([.5],[0,1])},ig.scale.identity=function(){return lf([0,1])},ig.svg={},ig.svg.arc=function(){function a(){var a=Math.max(0,+c.apply(this,arguments)),j=Math.max(0,+d.apply(this,arguments)),k=g.apply(this,arguments)-Og,l=h.apply(this,arguments)-Og,m=Math.abs(l-k),n=k>l?0:1;if(a>j&&(o=j,j=a,a=o),m>=Ng)return b(j,n)+(a?b(a,1-n):"")+"Z";var o,p,q,r,s,t,u,v,w,x,y,z,A=0,B=0,C=[];if((r=(+i.apply(this,arguments)||0)/2)&&(q=f===Ci?Math.sqrt(a*a+j*j):+f.apply(this,arguments),n||(B*=-1),j&&(B=ca(q/j*Math.sin(r))),a&&(A=ca(q/a*Math.sin(r)))),j){s=j*Math.cos(k+B),t=j*Math.sin(k+B),u=j*Math.cos(l-B),v=j*Math.sin(l-B);var D=Math.abs(l-k-2*B)<=Lg?0:1;if(B&&sf(s,t,u,v)===n^D){var E=(k+l)/2;s=j*Math.cos(E),t=j*Math.sin(E),u=v=null}}else s=t=0;if(a){w=a*Math.cos(l-A),x=a*Math.sin(l-A),y=a*Math.cos(k+A),z=a*Math.sin(k+A);var F=Math.abs(k-l+2*A)<=Lg?0:1;if(A&&sf(w,x,y,z)===1-n^F){var G=(k+l)/2;w=a*Math.cos(G),x=a*Math.sin(G),y=z=null}}else w=x=0;if(m>Jg&&(o=Math.min(Math.abs(j-a)/2,+e.apply(this,arguments)))>.001){p=j>a^n?0:1;var H=o,I=o;if(Lg>m){var J=null==y?[w,x]:null==u?[s,t]:Ic([s,t],[y,z],[u,v],[w,x]),K=s-J[0],L=t-J[1],M=u-J[0],N=v-J[1],O=1/Math.sin(Math.acos((K*M+L*N)/(Math.sqrt(K*K+L*L)*Math.sqrt(M*M+N*N)))/2),P=Math.sqrt(J[0]*J[0]+J[1]*J[1]);I=Math.min(o,(a-P)/(O-1)),H=Math.min(o,(j-P)/(O+1))}if(null!=u){var Q=tf(null==y?[w,x]:[y,z],[s,t],j,H,n),R=tf([u,v],[w,x],j,H,n);o===H?C.push("M",Q[0],"A",H,",",H," 0 0,",p," ",Q[1],"A",j,",",j," 0 ",1-n^sf(Q[1][0],Q[1][1],R[1][0],R[1][1]),",",n," ",R[1],"A",H,",",H," 0 0,",p," ",R[0]):C.push("M",Q[0],"A",H,",",H," 0 1,",p," ",R[0])}else C.push("M",s,",",t);if(null!=y){var S=tf([s,t],[y,z],a,-I,n),T=tf([w,x],null==u?[s,t]:[u,v],a,-I,n);o===I?C.push("L",T[0],"A",I,",",I," 0 0,",p," ",T[1],"A",a,",",a," 0 ",n^sf(T[1][0],T[1][1],S[1][0],S[1][1]),",",1-n," ",S[1],"A",I,",",I," 0 0,",p," ",S[0]):C.push("L",T[0],"A",I,",",I," 0 0,",p," ",S[0])}else C.push("L",w,",",x)}else C.push("M",s,",",t),null!=u&&C.push("A",j,",",j," 0 ",D,",",n," ",u,",",v),C.push("L",w,",",x),null!=y&&C.push("A",a,",",a," 0 ",F,",",1-n," ",y,",",z);return C.push("Z"),C.join("")}function b(a,b){return"M0,"+a+"A"+a+","+a+" 0 1,"+b+" 0,"+-a+"A"+a+","+a+" 0 1,"+b+" 0,"+a}var c=nf,d=of,e=mf,f=Ci,g=pf,h=qf,i=rf;return a.innerRadius=function(b){return arguments.length?(c=Ba(b),a):c},a.outerRadius=function(b){return arguments.length?(d=Ba(b),a):d},a.cornerRadius=function(b){return arguments.length?(e=Ba(b),a):e},a.padRadius=function(b){return arguments.length?(f=b==Ci?Ci:Ba(b),a):f},a.startAngle=function(b){return arguments.length?(g=Ba(b),a):g},a.endAngle=function(b){return arguments.length?(h=Ba(b),a):h},a.padAngle=function(b){return arguments.length?(i=Ba(b),a):i},a.centroid=function(){var a=(+c.apply(this,arguments)+ +d.apply(this,arguments))/2,b=(+g.apply(this,arguments)+ +h.apply(this,arguments))/2-Og;return[Math.cos(b)*a,Math.sin(b)*a]},a};var Ci="auto";ig.svg.line=function(){return uf(t)};var Di=ig.map({linear:vf,"linear-closed":wf,step:xf,"step-before":yf,"step-after":zf,basis:Ff,"basis-open":Gf,"basis-closed":Hf,bundle:If,cardinal:Cf,"cardinal-open":Af,"cardinal-closed":Bf,monotone:Of});Di.forEach(function(a,b){b.key=a,b.closed=/-closed$/.test(a)});var Ei=[0,2/3,1/3,0],Fi=[0,1/3,2/3,0],Gi=[0,1/6,2/3,1/6];ig.svg.line.radial=function(){var a=uf(Pf);return a.radius=a.x,delete a.x,a.angle=a.y,delete a.y,a},yf.reverse=zf,zf.reverse=yf,ig.svg.area=function(){return Qf(t)},ig.svg.area.radial=function(){var a=Qf(Pf);return a.radius=a.x,delete a.x,a.innerRadius=a.x0,delete a.x0,a.outerRadius=a.x1,delete a.x1,a.angle=a.y,delete a.y,a.startAngle=a.y0,delete a.y0,a.endAngle=a.y1,delete a.y1,a},ig.svg.chord=function(){function a(a,h){var i=b(this,f,a,h),j=b(this,g,a,h);return"M"+i.p0+d(i.r,i.p1,i.a1-i.a0)+(c(i,j)?e(i.r,i.p1,i.r,i.p0):e(i.r,i.p1,j.r,j.p0)+d(j.r,j.p1,j.a1-j.a0)+e(j.r,j.p1,i.r,i.p0))+"Z"}function b(a,b,c,d){var e=b.call(a,c,d),f=h.call(a,e,d),g=i.call(a,e,d)-Og,k=j.call(a,e,d)-Og;return{r:f,a0:g,a1:k,p0:[f*Math.cos(g),f*Math.sin(g)],p1:[f*Math.cos(k),f*Math.sin(k)]}}function c(a,b){return a.a0==b.a0&&a.a1==b.a1}function d(a,b,c){return"A"+a+","+a+" 0 "+ +(c>Lg)+",1 "+b}function e(a,b,c,d){return"Q 0,0 "+d}var f=tc,g=uc,h=Rf,i=pf,j=qf;return a.radius=function(b){return arguments.length?(h=Ba(b),a):h},a.source=function(b){return arguments.length?(f=Ba(b),a):f},a.target=function(b){return arguments.length?(g=Ba(b),a):g},a.startAngle=function(b){return arguments.length?(i=Ba(b),a):i},a.endAngle=function(b){return arguments.length?(j=Ba(b),a):j},a},ig.svg.diagonal=function(){function a(a,e){var f=b.call(this,a,e),g=c.call(this,a,e),h=(f.y+g.y)/2,i=[f,{x:f.x,y:h},{x:g.x,y:h},g];return i=i.map(d),"M"+i[0]+"C"+i[1]+" "+i[2]+" "+i[3]}var b=tc,c=uc,d=Sf;return a.source=function(c){return arguments.length?(b=Ba(c),a):b},a.target=function(b){return arguments.length?(c=Ba(b),a):c},a.projection=function(b){return arguments.length?(d=b,a):d},a},ig.svg.diagonal.radial=function(){var a=ig.svg.diagonal(),b=Sf,c=a.projection;return a.projection=function(a){return arguments.length?c(Tf(b=a)):b},a},ig.svg.symbol=function(){function a(a,d){return(Hi.get(b.call(this,a,d))||Wf)(c.call(this,a,d))}var b=Vf,c=Uf;return a.type=function(c){return arguments.length?(b=Ba(c),a):b},a.size=function(b){return arguments.length?(c=Ba(b),a):c},a};var Hi=ig.map({circle:Wf,cross:function(a){var b=Math.sqrt(a/5)/2;return"M"+-3*b+","+-b+"H"+-b+"V"+-3*b+"H"+b+"V"+-b+"H"+3*b+"V"+b+"H"+b+"V"+3*b+"H"+-b+"V"+b+"H"+-3*b+"Z"},diamond:function(a){var b=Math.sqrt(a/(2*Ji)),c=b*Ji;return"M0,"+-b+"L"+c+",0 0,"+b+" "+-c+",0Z"},square:function(a){var b=Math.sqrt(a)/2;return"M"+-b+","+-b+"L"+b+","+-b+" "+b+","+b+" "+-b+","+b+"Z"},"triangle-down":function(a){var b=Math.sqrt(a/Ii),c=b*Ii/2;return"M0,"+c+"L"+b+","+-c+" "+-b+","+-c+"Z"},"triangle-up":function(a){var b=Math.sqrt(a/Ii),c=b*Ii/2;return"M0,"+-c+"L"+b+","+c+" "+-b+","+c+"Z"}});ig.svg.symbolTypes=Hi.keys();var Ii=Math.sqrt(3),Ji=Math.tan(30*Pg);Bg.transition=function(a){for(var b,c,d=Ki||++Oi,e=_f(a),f=[],g=Li||{time:Date.now(),ease:Ad,delay:0,duration:250},h=-1,i=this.length;++h<i;){f.push(b=[]);for(var j=this[h],k=-1,l=j.length;++k<l;)(c=j[k])&&ag(c,k,e,d,g),b.push(c)}return Yf(f,e,d)},Bg.interrupt=function(a){return this.each(null==a?Mi:Xf(_f(a)))};var Ki,Li,Mi=Xf(_f()),Ni=[],Oi=0;Ni.call=Bg.call,Ni.empty=Bg.empty,Ni.node=Bg.node,Ni.size=Bg.size,ig.transition=function(a,b){return a&&a.transition?Ki?a.transition(b):a:ig.selection().transition(a)},ig.transition.prototype=Ni,Ni.select=function(a){var b,c,d,e=this.id,f=this.namespace,g=[];a=D(a);for(var h=-1,i=this.length;++h<i;){g.push(b=[]);for(var j=this[h],k=-1,l=j.length;++k<l;)(d=j[k])&&(c=a.call(d,d.__data__,k,h))?("__data__"in d&&(c.__data__=d.__data__),ag(c,k,f,e,d[f][e]),b.push(c)):b.push(null)}return Yf(g,f,e)},Ni.selectAll=function(a){var b,c,d,e,f,g=this.id,h=this.namespace,i=[];a=E(a);for(var j=-1,k=this.length;++j<k;)for(var l=this[j],m=-1,n=l.length;++m<n;)if(d=l[m]){f=d[h][g],c=a.call(d,d.__data__,m,j),i.push(b=[]);for(var o=-1,p=c.length;++o<p;)(e=c[o])&&ag(e,o,h,g,f),b.push(e)}return Yf(i,h,g)},Ni.filter=function(a){var b,c,d,e=[];"function"!=typeof a&&(a=Q(a));for(var f=0,g=this.length;g>f;f++){e.push(b=[]);for(var c=this[f],h=0,i=c.length;i>h;h++)(d=c[h])&&a.call(d,d.__data__,h,f)&&b.push(d)}return Yf(e,this.namespace,this.id)},Ni.tween=function(a,b){var c=this.id,d=this.namespace;return arguments.length<2?this.node()[d][c].tween.get(a):S(this,null==b?function(b){b[d][c].tween.remove(a)}:function(e){e[d][c].tween.set(a,b)})},Ni.attr=function(a,b){function c(){this.removeAttribute(h)}function d(){this.removeAttributeNS(h.space,h.local)}function e(a){return null==a?c:(a+="",function(){var b,c=this.getAttribute(h);return c!==a&&(b=g(c,a),function(a){this.setAttribute(h,b(a))})})}function f(a){return null==a?d:(a+="",function(){var b,c=this.getAttributeNS(h.space,h.local);return c!==a&&(b=g(c,a),function(a){this.setAttributeNS(h.space,h.local,b(a))})})}if(arguments.length<2){for(b in a)this.attr(b,a[b]);return this}var g="transform"==a?Vd:td,h=ig.ns.qualify(a);return Zf(this,"attr."+a,b,h.local?f:e)},Ni.attrTween=function(a,b){function c(a,c){var d=b.call(this,a,c,this.getAttribute(e));return d&&function(a){this.setAttribute(e,d(a))}}function d(a,c){var d=b.call(this,a,c,this.getAttributeNS(e.space,e.local));return d&&function(a){this.setAttributeNS(e.space,e.local,d(a))}}var e=ig.ns.qualify(a);return this.tween("attr."+a,e.local?d:c)},Ni.style=function(a,b,d){function e(){this.style.removeProperty(a)}function f(b){return null==b?e:(b+="",function(){var e,f=c(this).getComputedStyle(this,null).getPropertyValue(a);return f!==b&&(e=td(f,b),function(b){this.style.setProperty(a,e(b),d)})})}var g=arguments.length;if(3>g){if("string"!=typeof a){2>g&&(b="");for(d in a)this.style(d,a[d],b);return this}d=""}return Zf(this,"style."+a,b,f)},Ni.styleTween=function(a,b,d){function e(e,f){var g=b.call(this,e,f,c(this).getComputedStyle(this,null).getPropertyValue(a));return g&&function(b){this.style.setProperty(a,g(b),d)}}return arguments.length<3&&(d=""),this.tween("style."+a,e)},Ni.text=function(a){return Zf(this,"text",a,$f)},Ni.remove=function(){var a=this.namespace;return this.each("end.transition",function(){var b;this[a].count<2&&(b=this.parentNode)&&b.removeChild(this)})},Ni.ease=function(a){var b=this.id,c=this.namespace;return arguments.length<1?this.node()[c][b].ease:("function"!=typeof a&&(a=ig.ease.apply(ig,arguments)),S(this,function(d){d[c][b].ease=a}))},Ni.delay=function(a){var b=this.id,c=this.namespace;return arguments.length<1?this.node()[c][b].delay:S(this,"function"==typeof a?function(d,e,f){d[c][b].delay=+a.call(d,d.__data__,e,f)}:(a=+a,function(d){d[c][b].delay=a}))},Ni.duration=function(a){var b=this.id,c=this.namespace;return arguments.length<1?this.node()[c][b].duration:S(this,"function"==typeof a?function(d,e,f){d[c][b].duration=Math.max(1,a.call(d,d.__data__,e,f))}:(a=Math.max(1,a),function(d){d[c][b].duration=a}))},Ni.each=function(a,b){var c=this.id,d=this.namespace;if(arguments.length<2){var e=Li,f=Ki;try{Ki=c,S(this,function(b,e,f){Li=b[d][c],a.call(b,b.__data__,e,f)})}finally{Li=e,Ki=f}}else S(this,function(e){var f=e[d][c];(f.event||(f.event=ig.dispatch("start","end","interrupt"))).on(a,b)});return this},Ni.transition=function(){for(var a,b,c,d,e=this.id,f=++Oi,g=this.namespace,h=[],i=0,j=this.length;j>i;i++){
h.push(a=[]);for(var b=this[i],k=0,l=b.length;l>k;k++)(c=b[k])&&(d=c[g][e],ag(c,k,g,f,{time:d.time,ease:d.ease,delay:d.delay+d.duration,duration:d.duration})),a.push(c)}return Yf(h,g,f)},ig.svg.axis=function(){function a(a){a.each(function(){var a,j=ig.select(this),k=this.__chart__||c,l=this.__chart__=c.copy(),m=null==i?l.ticks?l.ticks.apply(l,h):l.domain():i,n=null==b?l.tickFormat?l.tickFormat.apply(l,h):t:b,o=j.selectAll(".tick").data(m,l),p=o.enter().insert("g",".domain").attr("class","tick").style("opacity",Jg),q=ig.transition(o.exit()).style("opacity",Jg).remove(),r=ig.transition(o.order()).style("opacity",1),s=Math.max(e,0)+g,u=Se(l),v=j.selectAll(".domain").data([0]),w=(v.enter().append("path").attr("class","domain"),ig.transition(v));p.append("line"),p.append("text");var x,y,z,A,B=p.select("line"),C=r.select("line"),D=o.select("text").text(n),E=p.select("text"),F=r.select("text"),G="top"===d||"left"===d?-1:1;if("bottom"===d||"top"===d?(a=bg,x="x",z="y",y="x2",A="y2",D.attr("dy",0>G?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+u[0]+","+G*f+"V0H"+u[1]+"V"+G*f)):(a=cg,x="y",z="x",y="y2",A="x2",D.attr("dy",".32em").style("text-anchor",0>G?"end":"start"),w.attr("d","M"+G*f+","+u[0]+"H0V"+u[1]+"H"+G*f)),B.attr(A,G*e),E.attr(z,G*s),C.attr(y,0).attr(A,G*e),F.attr(x,0).attr(z,G*s),l.rangeBand){var H=l,I=H.rangeBand()/2;k=l=function(a){return H(a)+I}}else k.rangeBand?k=l:q.call(a,l,k);p.call(a,k,l),r.call(a,l,l)})}var b,c=ig.scale.linear(),d=Pi,e=6,f=6,g=3,h=[10],i=null;return a.scale=function(b){return arguments.length?(c=b,a):c},a.orient=function(b){return arguments.length?(d=b in Qi?b+"":Pi,a):d},a.ticks=function(){return arguments.length?(h=kg(arguments),a):h},a.tickValues=function(b){return arguments.length?(i=b,a):i},a.tickFormat=function(c){return arguments.length?(b=c,a):b},a.tickSize=function(b){var c=arguments.length;return c?(e=+b,f=+arguments[c-1],a):e},a.innerTickSize=function(b){return arguments.length?(e=+b,a):e},a.outerTickSize=function(b){return arguments.length?(f=+b,a):f},a.tickPadding=function(b){return arguments.length?(g=+b,a):g},a.tickSubdivide=function(){return arguments.length&&a},a};var Pi="bottom",Qi={top:1,right:1,bottom:1,left:1};ig.svg.brush=function(){function a(c){c.each(function(){var c=ig.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",f).on("touchstart.brush",f),g=c.selectAll(".background").data([0]);g.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),c.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var h=c.selectAll(".resize").data(p,t);h.exit().remove(),h.enter().append("g").attr("class",function(a){return"resize "+a}).style("cursor",function(a){return Ri[a]}).append("rect").attr("x",function(a){return/[ew]$/.test(a)?-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),h.style("display",a.empty()?"none":null);var i,l=ig.transition(c),m=ig.transition(g);j&&(i=Se(j),m.attr("x",i[0]).attr("width",i[1]-i[0]),d(l)),k&&(i=Se(k),m.attr("y",i[0]).attr("height",i[1]-i[0]),e(l)),b(l)})}function b(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+l[+/e$/.test(a)]+","+m[+/^s/.test(a)]+")"})}function d(a){a.select(".extent").attr("x",l[0]),a.selectAll(".extent,.n>rect,.s>rect").attr("width",l[1]-l[0])}function e(a){a.select(".extent").attr("y",m[0]),a.selectAll(".extent,.e>rect,.w>rect").attr("height",m[1]-m[0])}function f(){function f(){32==ig.event.keyCode&&(D||(t=null,F[0]-=l[1],F[1]-=m[1],D=2),z())}function p(){32==ig.event.keyCode&&2==D&&(F[0]+=l[1],F[1]+=m[1],D=0,z())}function q(){var a=ig.mouse(v),c=!1;u&&(a[0]+=u[0],a[1]+=u[1]),D||(ig.event.altKey?(t||(t=[(l[0]+l[1])/2,(m[0]+m[1])/2]),F[0]=l[+(a[0]<t[0])],F[1]=m[+(a[1]<t[1])]):t=null),B&&r(a,j,0)&&(d(y),c=!0),C&&r(a,k,1)&&(e(y),c=!0),c&&(b(y),x({type:"brush",mode:D?"move":"resize"}))}function r(a,b,c){var d,e,f=Se(b),i=f[0],j=f[1],k=F[c],p=c?m:l,q=p[1]-p[0];return D&&(i-=k,j-=q+k),d=(c?o:n)?Math.max(i,Math.min(j,a[c])):a[c],D?e=(d+=k)+q:(t&&(k=Math.max(i,Math.min(j,2*t[c]-d))),d>k?(e=d,d=k):e=k),p[0]!=d||p[1]!=e?(c?h=null:g=null,p[0]=d,p[1]=e,!0):void 0}function s(){q(),y.style("pointer-events","all").selectAll(".resize").style("display",a.empty()?"none":null),ig.select("body").style("cursor",null),G.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),E(),x({type:"brushend"})}var t,u,v=this,w=ig.select(ig.event.target),x=i.of(v,arguments),y=ig.select(v),A=w.datum(),B=!/^(n|s)$/.test(A)&&j,C=!/^(e|w)$/.test(A)&&k,D=w.classed("extent"),E=Y(v),F=ig.mouse(v),G=ig.select(c(v)).on("keydown.brush",f).on("keyup.brush",p);if(ig.event.changedTouches?G.on("touchmove.brush",q).on("touchend.brush",s):G.on("mousemove.brush",q).on("mouseup.brush",s),y.interrupt().selectAll("*").interrupt(),D)F[0]=l[0]-F[0],F[1]=m[0]-F[1];else if(A){var H=+/w$/.test(A),I=+/^n/.test(A);u=[l[1-H]-F[0],m[1-I]-F[1]],F[0]=l[H],F[1]=m[I]}else ig.event.altKey&&(t=F.slice());y.style("pointer-events","none").selectAll(".resize").style("display",null),ig.select("body").style("cursor",w.style("cursor")),x({type:"brushstart"}),q()}var g,h,i=B(a,"brushstart","brush","brushend"),j=null,k=null,l=[0,0],m=[0,0],n=!0,o=!0,p=Si[0];return a.event=function(a){a.each(function(){var a=i.of(this,arguments),b={x:l,y:m,i:g,j:h},c=this.__chart__||b;this.__chart__=b,Ki?ig.select(this).transition().each("start.brush",function(){g=c.i,h=c.j,l=c.x,m=c.y,a({type:"brushstart"})}).tween("brush:brush",function(){var c=ud(l,b.x),d=ud(m,b.y);return g=h=null,function(e){l=b.x=c(e),m=b.y=d(e),a({type:"brush",mode:"resize"})}}).each("end.brush",function(){g=b.i,h=b.j,a({type:"brush",mode:"resize"}),a({type:"brushend"})}):(a({type:"brushstart"}),a({type:"brush",mode:"resize"}),a({type:"brushend"}))})},a.x=function(b){return arguments.length?(j=b,p=Si[!j<<1|!k],a):j},a.y=function(b){return arguments.length?(k=b,p=Si[!j<<1|!k],a):k},a.clamp=function(b){return arguments.length?(j&&k?(n=!!b[0],o=!!b[1]):j?n=!!b:k&&(o=!!b),a):j&&k?[n,o]:j?n:k?o:null},a.extent=function(b){var c,d,e,f,i;return arguments.length?(j&&(c=b[0],d=b[1],k&&(c=c[0],d=d[0]),g=[c,d],j.invert&&(c=j(c),d=j(d)),c>d&&(i=c,c=d,d=i),c==l[0]&&d==l[1]||(l=[c,d])),k&&(e=b[0],f=b[1],j&&(e=e[1],f=f[1]),h=[e,f],k.invert&&(e=k(e),f=k(f)),e>f&&(i=e,e=f,f=i),e==m[0]&&f==m[1]||(m=[e,f])),a):(j&&(g?(c=g[0],d=g[1]):(c=l[0],d=l[1],j.invert&&(c=j.invert(c),d=j.invert(d)),c>d&&(i=c,c=d,d=i))),k&&(h?(e=h[0],f=h[1]):(e=m[0],f=m[1],k.invert&&(e=k.invert(e),f=k.invert(f)),e>f&&(i=e,e=f,f=i))),j&&k?[[c,e],[d,f]]:j?[c,d]:k&&[e,f])},a.clear=function(){return a.empty()||(l=[0,0],m=[0,0],g=h=null),a},a.empty=function(){return!!j&&l[0]==l[1]||!!k&&m[0]==m[1]},ig.rebind(a,i,"on")};var Ri={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Si=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ti=kh.format=qh.timeFormat,Ui=Ti.utc,Vi=Ui("%Y-%m-%dT%H:%M:%S.%LZ");Ti.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?dg:Vi,dg.parse=function(a){var b=new Date(a);return isNaN(b)?null:b},dg.toString=Vi.toString,kh.second=Pa(function(a){return new lh(1e3*Math.floor(a/1e3))},function(a,b){a.setTime(a.getTime()+1e3*Math.floor(b))},function(a){return a.getSeconds()}),kh.seconds=kh.second.range,kh.seconds.utc=kh.second.utc.range,kh.minute=Pa(function(a){return new lh(6e4*Math.floor(a/6e4))},function(a,b){a.setTime(a.getTime()+6e4*Math.floor(b))},function(a){return a.getMinutes()}),kh.minutes=kh.minute.range,kh.minutes.utc=kh.minute.utc.range,kh.hour=Pa(function(a){var b=a.getTimezoneOffset()/60;return new lh(36e5*(Math.floor(a/36e5-b)+b))},function(a,b){a.setTime(a.getTime()+36e5*Math.floor(b))},function(a){return a.getHours()}),kh.hours=kh.hour.range,kh.hours.utc=kh.hour.utc.range,kh.month=Pa(function(a){return a=kh.day(a),a.setDate(1),a},function(a,b){a.setMonth(a.getMonth()+b)},function(a){return a.getMonth()}),kh.months=kh.month.range,kh.months.utc=kh.month.utc.range;var Wi=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Xi=[[kh.second,1],[kh.second,5],[kh.second,15],[kh.second,30],[kh.minute,1],[kh.minute,5],[kh.minute,15],[kh.minute,30],[kh.hour,1],[kh.hour,3],[kh.hour,6],[kh.hour,12],[kh.day,1],[kh.day,2],[kh.week,1],[kh.month,1],[kh.month,3],[kh.year,1]],Yi=Ti.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&1!=a.getDate()}],["%b %d",function(a){return 1!=a.getDate()}],["%B",function(a){return a.getMonth()}],["%Y",Eb]]),Zi={range:function(a,b,c){return ig.range(Math.ceil(a/c)*c,+b,c).map(fg)},floor:t,ceil:t};Xi.year=kh.year,kh.scale=function(){return eg(ig.scale.linear(),Xi,Yi)};var $i=Xi.map(function(a){return[a[0].utc,a[1]]}),_i=Ui.multi([[".%L",function(a){return a.getUTCMilliseconds()}],[":%S",function(a){return a.getUTCSeconds()}],["%I:%M",function(a){return a.getUTCMinutes()}],["%I %p",function(a){return a.getUTCHours()}],["%a %d",function(a){return a.getUTCDay()&&1!=a.getUTCDate()}],["%b %d",function(a){return 1!=a.getUTCDate()}],["%B",function(a){return a.getUTCMonth()}],["%Y",Eb]]);$i.year=kh.year.utc,kh.scale.utc=function(){return eg(ig.scale.linear(),$i,_i)},ig.text=Ca(function(a){return a.responseText}),ig.json=function(a,b){return Da(a,"application/json",gg,b)},ig.html=function(a,b){return Da(a,"text/html",hg,b)},ig.xml=Ca(function(a){return a.responseXML}),"function"==typeof define&&define.amd?(this.d3=ig,define(ig)):"object"===(void 0===b?"undefined":_typeof(b))&&b.exports?b.exports=ig:this.d3=ig}()},{}],14:[function(a,b,c){!function(d,e){"use strict";"function"==typeof define&&define.amd?define(["moment"],e):"object"===(void 0===c?"undefined":_typeof(c))?b.exports=e(a("./../../moment/moment.js")):e(d.moment)}(this,function(a){"use strict";function b(a){return a>96?a-87:a>64?a-29:a-48}function c(a){var c,d=0,e=a.split("."),f=e[0],g=e[1]||"",h=1,i=0,j=1;for(45===a.charCodeAt(0)&&(d=1,j=-1),d;d<f.length;d++)c=b(f.charCodeAt(d)),i=60*i+c;for(d=0;d<g.length;d++)h/=60,c=b(g.charCodeAt(d)),i+=c*h;return i*j}function d(a){for(var b=0;b<a.length;b++)a[b]=c(a[b])}function e(a,b){for(var c=0;b>c;c++)a[c]=Math.round((a[c-1]||0)+6e4*a[c]);a[b-1]=1/0}function f(a,b){var c,d=[];for(c=0;c<b.length;c++)d[c]=a[b[c]];return d}function g(a){var b=a.split("|"),c=b[2].split(" "),g=b[3].split(""),h=b[4].split(" ");return d(c),d(g),d(h),e(h,g.length),{name:b[0],abbrs:f(b[1].split(" "),g),offsets:f(c,g),untils:h}}function h(a){a&&this._set(g(a))}function i(a){return(a||"").toLowerCase().replace(/\//g,"_")}function j(a){var b,c,d;for("string"==typeof a&&(a=[a]),b=0;b<a.length;b++)c=a[b].split("|")[0],d=i(c),t[d]=a[b],v[d]=c}function k(a,b){a=i(a);var c,d=t[a];return d instanceof h?d:"string"==typeof d?(d=new h(d),t[a]=d,d):u[a]&&b!==k&&(c=k(u[a],k))?(d=t[a]=new h,d._set(c),d.name=v[a],d):null}function l(){var a,b=[];for(a in v)v.hasOwnProperty(a)&&(t[a]||t[u[a]])&&v[a]&&b.push(v[a]);return b.sort()}function m(a){var b,c,d,e;for("string"==typeof a&&(a=[a]),b=0;b<a.length;b++)c=a[b].split("|"),d=i(c[0]),e=i(c[1]),u[d]=e,v[d]=c[0],u[e]=d,v[e]=c[1]}function n(a){j(a.zones),m(a.links),r.dataVersion=a.version}function o(a){return o.didShowError||(o.didShowError=!0,q("moment.tz.zoneExists('"+a+"') has been deprecated in favor of !moment.tz.zone('"+a+"')")),!!k(a)}function p(a){return!(!a._a||void 0!==a._tzm)}function q(a){"undefined"!=typeof console&&console.error}function r(b){var c=Array.prototype.slice.call(arguments,0,-1),d=arguments[arguments.length-1],e=k(d),f=a.utc.apply(null,c);return e&&!a.isMoment(b)&&p(f)&&f.add(e.parse(f),"minutes"),f.tz(d),f}function s(a){return function(){return this._z?this._z.abbr(this):a.call(this)}}if(void 0!==a.tz)return q("Moment Timezone "+a.tz.version+" was already loaded "+(a.tz.dataVersion?"with data from ":"without any data")+a.tz.dataVersion),a;var t={},u={},v={},w=a.version.split("."),x=+w[0],y=+w[1];(2>x||2===x&&6>y)&&q("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+a.version+". See momentjs.com"),h.prototype={_set:function(a){this.name=a.name,this.abbrs=a.abbrs,this.untils=a.untils,this.offsets=a.offsets},_index:function(a){var b,c=+a,d=this.untils;for(b=0;b<d.length;b++)if(c<d[b])return b},parse:function(a){var b,c,d,e,f=+a,g=this.offsets,h=this.untils,i=h.length-1;for(e=0;i>e;e++)if(b=g[e],c=g[e+1],d=g[e?e-1:e],c>b&&r.moveAmbiguousForward?b=c:b>d&&r.moveInvalidForward&&(b=d),f<h[e]-6e4*b)return g[e];return g[i]},abbr:function(a){return this.abbrs[this._index(a)]},offset:function(a){return this.offsets[this._index(a)]}},r.version="0.4.1",r.dataVersion="",r._zones=t,r._links=u,r._names=v,r.add=j,r.link=m,r.load=n,r.zone=k,r.zoneExists=o,r.names=l,r.Zone=h,r.unpack=g,r.unpackBase60=c,r.needsOffset=p,r.moveInvalidForward=!0,r.moveAmbiguousForward=!1;var z=a.fn;a.tz=r,a.defaultZone=null,a.updateOffset=function(b,c){var d,e=a.defaultZone;void 0===b._z&&(e&&p(b)&&!b._isUTC&&(b._d=a.utc(b._a)._d,b.utc().add(e.parse(b),"minutes")),b._z=e),b._z&&(d=b._z.offset(b),Math.abs(d)<16&&(d/=60),void 0!==b.utcOffset?b.utcOffset(-d,c):b.zone(d,c))},z.tz=function(b){return b?(this._z=k(b),this._z?a.updateOffset(this):q("Moment Timezone has no data for "+b+". See http://momentjs.com/timezone/docs/#/data-loading/."),this):this._z?this._z.name:void 0},z.zoneName=s(z.zoneName),z.zoneAbbr=s(z.zoneAbbr),z.utc=function(a){return function(){return this._z=null,a.apply(this,arguments)}}(z.utc),a.tz.setDefault=function(b){return(2>x||2===x&&9>y)&&q("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js "+a.version+"."),a.defaultZone=b?k(b):null,a};var A=a.momentProperties;return"[object Array]"===Object.prototype.toString.call(A)?(A.push("_z"),A.push("_a")):A&&(A._z=null),n({version:"2015g",zones:["Africa/Abidjan|GMT|0|0|","Africa/Addis_Ababa|EAT|-30|0|","Africa/Algiers|CET|-10|0|","Africa/Bangui|WAT|-10|0|","Africa/Blantyre|CAT|-20|0|","Africa/Cairo|EET EEST|-20 -30|010101010|1Cby0 Fb0 c10 8n0 8Nd0 gL0 e10 mn0","Africa/Casablanca|WET WEST|0 -10|01010101010101010101010101010101010101010|1Cco0 Db0 1zd0 Lz0 1Nf0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uM0 e00 Dc0 11A0 s00 e00 IM0 WM0 mo0 gM0 LA0 WM0 jA0 e00 Rc0 11A0 e00 e00 U00 11A0 8o0 e00 11A0","Africa/Ceuta|CET CEST|-10 -20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Africa/Johannesburg|SAST|-20|0|","Africa/Tripoli|EET CET CEST|-20 -10 -20|0120|1IlA0 TA0 1o00","Africa/Windhoek|WAST WAT|-20 -10|01010101010101010101010|1C1c0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0","America/Adak|HST HDT|a0 90|01010101010101010101010|1BR00 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Anchorage|AKST AKDT|90 80|01010101010101010101010|1BQX0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Anguilla|AST|40|0|","America/Araguaina|BRT BRST|30 20|010|1IdD0 Lz0","America/Argentina/Buenos_Aires|ART|30|0|","America/Asuncion|PYST PYT|30 40|01010101010101010101010|1C430 1a10 1fz0 1a10 1fz0 1cN0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0","America/Atikokan|EST|50|0|","America/Bahia|BRT BRST|30 20|010|1FJf0 Rb0","America/Bahia_Banderas|MST CDT CST|70 50 60|01212121212121212121212|1C1l0 1nW0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Belem|BRT|30|0|","America/Belize|CST|60|0|","America/Boa_Vista|AMT|40|0|","America/Bogota|COT|50|0|","America/Boise|MST MDT|70 60|01010101010101010101010|1BQV0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Campo_Grande|AMST AMT|30 40|01010101010101010101010|1BIr0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10","America/Cancun|CST CDT EST|60 50 50|010101010102|1C1k0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 Dd0","America/Caracas|VET|4u|0|","America/Cayenne|GFT|30|0|","America/Cayman|EST EDT|50 40|01010101010|1Qtj0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Chicago|CST CDT|60 50|01010101010101010101010|1BQU0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Chihuahua|MST MDT|70 60|01010101010101010101010|1C1l0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Creston|MST|70|0|","America/Dawson|PST PDT|80 70|01010101010101010101010|1BQW0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Detroit|EST EDT|50 40|01010101010101010101010|1BQT0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Eirunepe|AMT ACT|40 50|01|1KLE0","America/Fort_Nelson|PST PDT MST|80 70 70|010101010102|1BQW0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0","America/Glace_Bay|AST ADT|40 30|01010101010101010101010|1BQS0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Godthab|WGT WGST|30 20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","America/Goose_Bay|AST ADT|40 30|01010101010101010101010|1BQQ1 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Grand_Turk|EST EDT AST|50 40 40|0101010101012|1BQT0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Guayaquil|ECT|50|0|","America/Guyana|GYT|40|0|","America/Havana|CST CDT|50 40|01010101010101010101010|1BQR0 1wo0 U00 1zc0 U00 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0","America/La_Paz|BOT|40|0|","America/Lima|PET|50|0|","America/Merida|CST CDT|60 50|01010101010101010101010|1C1k0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Metlakatla|PST|80|0|","America/Miquelon|PMST PMDT|30 20|01010101010101010101010|1BQR0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Montevideo|UYST UYT|20 30|010101010101|1BQQ0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 11z0","America/Noronha|FNT|20|0|","America/North_Dakota/Beulah|MST MDT CST CDT|70 60 60 50|01232323232323232323232|1BQV0 1zb0 Oo0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Paramaribo|SRT|30|0|","America/Port-au-Prince|EST EDT|50 40|0101010101010101010|1GI70 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Santa_Isabel|PST PDT|80 70|01010101010101010101010|1C1m0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0","America/Santiago|CLST CLT CLT|30 40 30|010101010102|1C1f0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0","America/Sao_Paulo|BRST BRT|20 30|01010101010101010101010|1BIq0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10","America/Scoresbysund|EGT EGST|10 0|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","America/St_Johns|NST NDT|3u 2u|01010101010101010101010|1BQPv 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","Antarctica/Casey|CAST AWST|-b0 -80|0101|1BN30 40P0 KL0","Antarctica/Davis|DAVT DAVT|-50 -70|0101|1BPw0 3Wn0 KN0","Antarctica/DumontDUrville|DDUT|-a0|0|","Antarctica/Macquarie|AEDT MIST|-b0 -b0|01|1C140","Antarctica/Mawson|MAWT|-50|0|","Antarctica/McMurdo|NZDT NZST|-d0 -c0|01010101010101010101010|1C120 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00","Antarctica/Rothera|ROTT|30|0|","Antarctica/Syowa|SYOT|-30|0|","Antarctica/Troll|UTC CEST|0 -20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Antarctica/Vostok|VOST|-60|0|","Asia/Aden|AST|-30|0|","Asia/Almaty|ALMT|-60|0|","Asia/Amman|EET EEST|-20 -30|010101010101010101010|1BVy0 1qM0 11A0 1o00 11A0 4bX0 Dd0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0","Asia/Anadyr|ANAT ANAST ANAT|-c0 -c0 -b0|0120|1BWe0 1qN0 WM0","Asia/Aqtau|AQTT|-50|0|","Asia/Ashgabat|TMT|-50|0|","Asia/Baku|AZT AZST|-40 -50|01010101010101010101010|1BWo0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Asia/Bangkok|ICT|-70|0|","Asia/Beirut|EET EEST|-20 -30|01010101010101010101010|1BWm0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0","Asia/Bishkek|KGT|-60|0|","Asia/Brunei|BNT|-80|0|","Asia/Calcutta|IST|-5u|0|","Asia/Chita|YAKT YAKST YAKT IRKT|-90 -a0 -a0 -80|01023|1BWh0 1qM0 WM0 8Hz0","Asia/Choibalsan|CHOT CHOST|-80 -90|0101010101010|1O8G0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0","Asia/Chongqing|CST|-80|0|","Asia/Dacca|BDT|-60|0|","Asia/Damascus|EET EEST|-20 -30|01010101010101010101010|1C0m0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0","Asia/Dili|TLT|-90|0|","Asia/Dubai|GST|-40|0|","Asia/Dushanbe|TJT|-50|0|","Asia/Gaza|EET EEST|-20 -30|01010101010101010101010|1BVW1 SKX 1xd1 MKX 1AN0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nz0 1210 1nz0 14N0 1nz0 1210 1nz0 1210 1nz0 1210 1nz0","Asia/Hebron|EET EEST|-20 -30|0101010101010101010101010|1BVy0 Tb0 1xd1 MKX bB0 cn0 1cN0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nz0 1210 1nz0 14N0 1nz0 1210 1nz0 1210 1nz0 1210 1nz0","Asia/Hong_Kong|HKT|-80|0|","Asia/Hovd|HOVT HOVST|-70 -80|0101010101010|1O8H0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0","Asia/Irkutsk|IRKT IRKST IRKT|-80 -90 -90|01020|1BWi0 1qM0 WM0 8Hz0","Asia/Istanbul|EET EEST|-20 -30|01010101010101010101010|1BWp0 1qM0 Xc0 1qo0 WM0 1qM0 11A0 1o00 1200 1nA0 11A0 1tA0 U00 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Asia/Jakarta|WIB|-70|0|","Asia/Jayapura|WIT|-90|0|","Asia/Jerusalem|IST IDT|-20 -30|01010101010101010101010|1BVA0 17X0 1kp0 1dz0 1c10 1aL0 1eN0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0","Asia/Kabul|AFT|-4u|0|","Asia/Kamchatka|PETT PETST PETT|-c0 -c0 -b0|0120|1BWe0 1qN0 WM0","Asia/Karachi|PKT|-50|0|","Asia/Kashgar|XJT|-60|0|","Asia/Kathmandu|NPT|-5J|0|","Asia/Khandyga|VLAT VLAST VLAT YAKT YAKT|-a0 -b0 -b0 -a0 -90|010234|1BWg0 1qM0 WM0 17V0 7zD0","Asia/Krasnoyarsk|KRAT KRAST KRAT|-70 -80 -80|01020|1BWj0 1qM0 WM0 8Hz0","Asia/Kuala_Lumpur|MYT|-80|0|","Asia/Magadan|MAGT MAGST MAGT MAGT|-b0 -c0 -c0 -a0|01023|1BWf0 1qM0 WM0 8Hz0","Asia/Makassar|WITA|-80|0|","Asia/Manila|PHT|-80|0|","Asia/Nicosia|EET EEST|-20 -30|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Asia/Novokuznetsk|KRAT NOVST NOVT NOVT|-70 -70 -60 -70|01230|1BWj0 1qN0 WM0 8Hz0","Asia/Novosibirsk|NOVT NOVST NOVT|-60 -70 -70|01020|1BWk0 1qM0 WM0 8Hz0","Asia/Omsk|OMST OMSST OMST|-60 -70 -70|01020|1BWk0 1qM0 WM0 8Hz0","Asia/Oral|ORAT|-50|0|","Asia/Pyongyang|KST KST|-90 -8u|01|1P4D0","Asia/Qyzylorda|QYZT|-60|0|","Asia/Rangoon|MMT|-6u|0|","Asia/Sakhalin|SAKT SAKST SAKT|-a0 -b0 -b0|01020|1BWg0 1qM0 WM0 8Hz0","Asia/Samarkand|UZT|-50|0|","Asia/Seoul|KST|-90|0|","Asia/Singapore|SGT|-80|0|","Asia/Srednekolymsk|MAGT MAGST MAGT SRET|-b0 -c0 -c0 -b0|01023|1BWf0 1qM0 WM0 8Hz0","Asia/Tbilisi|GET|-40|0|","Asia/Tehran|IRST IRDT|-3u -4u|01010101010101010101010|1BTUu 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0","Asia/Thimbu|BTT|-60|0|","Asia/Tokyo|JST|-90|0|","Asia/Ulaanbaatar|ULAT ULAST|-80 -90|0101010101010|1O8G0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0","Asia/Ust-Nera|MAGT MAGST MAGT VLAT VLAT|-b0 -c0 -c0 -b0 -a0|010234|1BWf0 1qM0 WM0 17V0 7zD0","Asia/Vladivostok|VLAT VLAST VLAT|-a0 -b0 -b0|01020|1BWg0 1qM0 WM0 8Hz0","Asia/Yakutsk|YAKT YAKST YAKT|-90 -a0 -a0|01020|1BWh0 1qM0 WM0 8Hz0","Asia/Yekaterinburg|YEKT YEKST YEKT|-50 -60 -60|01020|1BWl0 1qM0 WM0 8Hz0","Asia/Yerevan|AMT AMST|-40 -50|01010|1BWm0 1qM0 WM0 1qM0","Atlantic/Azores|AZOT AZOST|10 0|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Atlantic/Canary|WET WEST|0 -10|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Atlantic/Cape_Verde|CVT|10|0|","Atlantic/South_Georgia|GST|20|0|","Atlantic/Stanley|FKST FKT|30 40|010|1C6R0 U10","Australia/ACT|AEDT AEST|-b0 -a0|01010101010101010101010|1C140 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0","Australia/Adelaide|ACDT ACST|-au -9u|01010101010101010101010|1C14u 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0","Australia/Brisbane|AEST|-a0|0|","Australia/Darwin|ACST|-9u|0|","Australia/Eucla|ACWST|-8J|0|","Australia/LHI|LHDT LHST|-b0 -au|01010101010101010101010|1C130 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu","Australia/Perth|AWST|-80|0|","Chile/EasterIsland|EASST EAST EAST|50 60 50|010101010102|1C1f0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 1wn0","Eire|GMT IST|0 -10|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Etc/GMT+1|GMT+1|10|0|","Etc/GMT+10|GMT+10|a0|0|","Etc/GMT+11|GMT+11|b0|0|","Etc/GMT+12|GMT+12|c0|0|","Etc/GMT+2|GMT+2|20|0|","Etc/GMT+3|GMT+3|30|0|","Etc/GMT+4|GMT+4|40|0|","Etc/GMT+5|GMT+5|50|0|","Etc/GMT+6|GMT+6|60|0|","Etc/GMT+7|GMT+7|70|0|","Etc/GMT+8|GMT+8|80|0|","Etc/GMT+9|GMT+9|90|0|","Etc/GMT-1|GMT-1|-10|0|","Etc/GMT-10|GMT-10|-a0|0|","Etc/GMT-11|GMT-11|-b0|0|","Etc/GMT-12|GMT-12|-c0|0|","Etc/GMT-13|GMT-13|-d0|0|","Etc/GMT-14|GMT-14|-e0|0|","Etc/GMT-2|GMT-2|-20|0|","Etc/GMT-3|GMT-3|-30|0|","Etc/GMT-4|GMT-4|-40|0|","Etc/GMT-5|GMT-5|-50|0|","Etc/GMT-6|GMT-6|-60|0|","Etc/GMT-7|GMT-7|-70|0|","Etc/GMT-8|GMT-8|-80|0|","Etc/GMT-9|GMT-9|-90|0|","Etc/UCT|UCT|0|0|","Etc/UTC|UTC|0|0|","Europe/Belfast|GMT BST|0 -10|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Chisinau|EET EEST|-20 -30|01010101010101010101010|1BWo0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Europe/Kaliningrad|EET EEST FET|-20 -30 -30|01020|1BWo0 1qM0 WM0 8Hz0","Europe/Minsk|EET EEST FET MSK|-20 -30 -30 -30|01023|1BWo0 1qM0 WM0 8Hy0","Europe/Moscow|MSK MSD MSK|-30 -40 -40|01020|1BWn0 1qM0 WM0 8Hz0","Europe/Samara|SAMT SAMST SAMT|-40 -40 -30|0120|1BWm0 1qN0 WM0","Europe/Simferopol|EET EEST MSK MSK|-20 -30 -40 -30|01010101023|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11z0 1nW0","HST|HST|a0|0|","Indian/Chagos|IOT|-60|0|","Indian/Christmas|CXT|-70|0|","Indian/Cocos|CCT|-6u|0|","Indian/Kerguelen|TFT|-50|0|","Indian/Mahe|SCT|-40|0|","Indian/Maldives|MVT|-50|0|","Indian/Mauritius|MUT|-40|0|","Indian/Reunion|RET|-40|0|","Kwajalein|MHT|-c0|0|","MET|MET MEST|-10 -20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","NZ-CHAT|CHADT CHAST|-dJ -cJ|01010101010101010101010|1C120 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00","Pacific/Apia|SST SDT WSDT WSST|b0 a0 -e0 -d0|01012323232323232323232|1Dbn0 1ff0 1a00 CI0 AQ0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00","Pacific/Bougainville|PGT BST|-a0 -b0|01|1NwE0","Pacific/Chuuk|CHUT|-a0|0|","Pacific/Efate|VUT|-b0|0|","Pacific/Enderbury|PHOT|-d0|0|","Pacific/Fakaofo|TKT TKT|b0 -d0|01|1Gfn0","Pacific/Fiji|FJST FJT|-d0 -c0|01010101010101010101010|1BWe0 1o00 Rc0 1wo0 Ao0 1Nc0 Ao0 1Q00 xz0 1SN0 uM0 1SM0 uM0 1VA0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0 1SM0","Pacific/Funafuti|TVT|-c0|0|","Pacific/Galapagos|GALT|60|0|","Pacific/Gambier|GAMT|90|0|","Pacific/Guadalcanal|SBT|-b0|0|","Pacific/Guam|ChST|-a0|0|","Pacific/Kiritimati|LINT|-e0|0|","Pacific/Kosrae|KOST|-b0|0|","Pacific/Marquesas|MART|9u|0|","Pacific/Midway|SST|b0|0|","Pacific/Nauru|NRT|-c0|0|","Pacific/Niue|NUT|b0|0|","Pacific/Norfolk|NFT NFT|-bu -b0|01|1PoCu","Pacific/Noumea|NCT|-b0|0|","Pacific/Palau|PWT|-90|0|","Pacific/Pohnpei|PONT|-b0|0|","Pacific/Port_Moresby|PGT|-a0|0|","Pacific/Rarotonga|CKT|a0|0|","Pacific/Tahiti|TAHT|a0|0|","Pacific/Tarawa|GILT|-c0|0|","Pacific/Tongatapu|TOT|-d0|0|","Pacific/Wake|WAKT|-c0|0|","Pacific/Wallis|WFT|-c0|0|"],links:["Africa/Abidjan|Africa/Accra","Africa/Abidjan|Africa/Bamako","Africa/Abidjan|Africa/Banjul","Africa/Abidjan|Africa/Bissau","Africa/Abidjan|Africa/Conakry","Africa/Abidjan|Africa/Dakar","Africa/Abidjan|Africa/Freetown","Africa/Abidjan|Africa/Lome","Africa/Abidjan|Africa/Monrovia","Africa/Abidjan|Africa/Nouakchott","Africa/Abidjan|Africa/Ouagadougou","Africa/Abidjan|Africa/Sao_Tome","Africa/Abidjan|Africa/Timbuktu","Africa/Abidjan|America/Danmarkshavn","Africa/Abidjan|Atlantic/Reykjavik","Africa/Abidjan|Atlantic/St_Helena","Africa/Abidjan|Etc/GMT","Africa/Abidjan|Etc/GMT+0","Africa/Abidjan|Etc/GMT-0","Africa/Abidjan|Etc/GMT0","Africa/Abidjan|Etc/Greenwich","Africa/Abidjan|GMT","Africa/Abidjan|GMT+0","Africa/Abidjan|GMT-0","Africa/Abidjan|GMT0","Africa/Abidjan|Greenwich","Africa/Abidjan|Iceland","Africa/Addis_Ababa|Africa/Asmara","Africa/Addis_Ababa|Africa/Asmera","Africa/Addis_Ababa|Africa/Dar_es_Salaam","Africa/Addis_Ababa|Africa/Djibouti","Africa/Addis_Ababa|Africa/Juba","Africa/Addis_Ababa|Africa/Kampala","Africa/Addis_Ababa|Africa/Khartoum","Africa/Addis_Ababa|Africa/Mogadishu","Africa/Addis_Ababa|Africa/Nairobi","Africa/Addis_Ababa|Indian/Antananarivo","Africa/Addis_Ababa|Indian/Comoro","Africa/Addis_Ababa|Indian/Mayotte","Africa/Algiers|Africa/Tunis","Africa/Bangui|Africa/Brazzaville","Africa/Bangui|Africa/Douala","Africa/Bangui|Africa/Kinshasa","Africa/Bangui|Africa/Lagos","Africa/Bangui|Africa/Libreville","Africa/Bangui|Africa/Luanda","Africa/Bangui|Africa/Malabo","Africa/Bangui|Africa/Ndjamena","Africa/Bangui|Africa/Niamey","Africa/Bangui|Africa/Porto-Novo","Africa/Blantyre|Africa/Bujumbura","Africa/Blantyre|Africa/Gaborone","Africa/Blantyre|Africa/Harare","Africa/Blantyre|Africa/Kigali","Africa/Blantyre|Africa/Lubumbashi","Africa/Blantyre|Africa/Lusaka","Africa/Blantyre|Africa/Maputo","Africa/Cairo|Egypt","Africa/Casablanca|Africa/El_Aaiun","Africa/Ceuta|Arctic/Longyearbyen","Africa/Ceuta|Atlantic/Jan_Mayen","Africa/Ceuta|CET","Africa/Ceuta|Europe/Amsterdam","Africa/Ceuta|Europe/Andorra","Africa/Ceuta|Europe/Belgrade","Africa/Ceuta|Europe/Berlin","Africa/Ceuta|Europe/Bratislava","Africa/Ceuta|Europe/Brussels","Africa/Ceuta|Europe/Budapest","Africa/Ceuta|Europe/Busingen","Africa/Ceuta|Europe/Copenhagen","Africa/Ceuta|Europe/Gibraltar","Africa/Ceuta|Europe/Ljubljana","Africa/Ceuta|Europe/Luxembourg","Africa/Ceuta|Europe/Madrid","Africa/Ceuta|Europe/Malta","Africa/Ceuta|Europe/Monaco","Africa/Ceuta|Europe/Oslo","Africa/Ceuta|Europe/Paris","Africa/Ceuta|Europe/Podgorica","Africa/Ceuta|Europe/Prague","Africa/Ceuta|Europe/Rome","Africa/Ceuta|Europe/San_Marino","Africa/Ceuta|Europe/Sarajevo","Africa/Ceuta|Europe/Skopje","Africa/Ceuta|Europe/Stockholm","Africa/Ceuta|Europe/Tirane","Africa/Ceuta|Europe/Vaduz","Africa/Ceuta|Europe/Vatican","Africa/Ceuta|Europe/Vienna","Africa/Ceuta|Europe/Warsaw","Africa/Ceuta|Europe/Zagreb","Africa/Ceuta|Europe/Zurich","Africa/Ceuta|Poland","Africa/Johannesburg|Africa/Maseru","Africa/Johannesburg|Africa/Mbabane","Africa/Tripoli|Libya","America/Adak|America/Atka","America/Adak|US/Aleutian","America/Anchorage|America/Juneau","America/Anchorage|America/Nome","America/Anchorage|America/Sitka","America/Anchorage|America/Yakutat","America/Anchorage|US/Alaska","America/Anguilla|America/Antigua","America/Anguilla|America/Aruba","America/Anguilla|America/Barbados","America/Anguilla|America/Blanc-Sablon","America/Anguilla|America/Curacao","America/Anguilla|America/Dominica","America/Anguilla|America/Grenada","America/Anguilla|America/Guadeloupe","America/Anguilla|America/Kralendijk","America/Anguilla|America/Lower_Princes","America/Anguilla|America/Marigot","America/Anguilla|America/Martinique","America/Anguilla|America/Montserrat","America/Anguilla|America/Port_of_Spain","America/Anguilla|America/Puerto_Rico","America/Anguilla|America/Santo_Domingo","America/Anguilla|America/St_Barthelemy","America/Anguilla|America/St_Kitts","America/Anguilla|America/St_Lucia","America/Anguilla|America/St_Thomas","America/Anguilla|America/St_Vincent","America/Anguilla|America/Tortola","America/Anguilla|America/Virgin","America/Argentina/Buenos_Aires|America/Argentina/Catamarca","America/Argentina/Buenos_Aires|America/Argentina/ComodRivadavia","America/Argentina/Buenos_Aires|America/Argentina/Cordoba","America/Argentina/Buenos_Aires|America/Argentina/Jujuy","America/Argentina/Buenos_Aires|America/Argentina/La_Rioja","America/Argentina/Buenos_Aires|America/Argentina/Mendoza","America/Argentina/Buenos_Aires|America/Argentina/Rio_Gallegos","America/Argentina/Buenos_Aires|America/Argentina/Salta","America/Argentina/Buenos_Aires|America/Argentina/San_Juan","America/Argentina/Buenos_Aires|America/Argentina/San_Luis","America/Argentina/Buenos_Aires|America/Argentina/Tucuman","America/Argentina/Buenos_Aires|America/Argentina/Ushuaia","America/Argentina/Buenos_Aires|America/Buenos_Aires","America/Argentina/Buenos_Aires|America/Catamarca","America/Argentina/Buenos_Aires|America/Cordoba","America/Argentina/Buenos_Aires|America/Jujuy","America/Argentina/Buenos_Aires|America/Mendoza","America/Argentina/Buenos_Aires|America/Rosario","America/Atikokan|America/Coral_Harbour","America/Atikokan|America/Jamaica","America/Atikokan|America/Panama","America/Atikokan|EST","America/Atikokan|Jamaica","America/Belem|America/Fortaleza","America/Belem|America/Maceio","America/Belem|America/Recife","America/Belem|America/Santarem","America/Belize|America/Costa_Rica","America/Belize|America/El_Salvador","America/Belize|America/Guatemala","America/Belize|America/Managua","America/Belize|America/Regina","America/Belize|America/Swift_Current","America/Belize|America/Tegucigalpa","America/Belize|Canada/East-Saskatchewan","America/Belize|Canada/Saskatchewan","America/Boa_Vista|America/Manaus","America/Boa_Vista|America/Porto_Velho","America/Boa_Vista|Brazil/West","America/Boise|America/Cambridge_Bay","America/Boise|America/Denver","America/Boise|America/Edmonton","America/Boise|America/Inuvik","America/Boise|America/Ojinaga","America/Boise|America/Shiprock","America/Boise|America/Yellowknife","America/Boise|Canada/Mountain","America/Boise|MST7MDT","America/Boise|Navajo","America/Boise|US/Mountain","America/Campo_Grande|America/Cuiaba","America/Chicago|America/Indiana/Knox","America/Chicago|America/Indiana/Tell_City","America/Chicago|America/Knox_IN","America/Chicago|America/Matamoros","America/Chicago|America/Menominee","America/Chicago|America/North_Dakota/Center","America/Chicago|America/North_Dakota/New_Salem","America/Chicago|America/Rainy_River","America/Chicago|America/Rankin_Inlet","America/Chicago|America/Resolute","America/Chicago|America/Winnipeg","America/Chicago|CST6CDT","America/Chicago|Canada/Central","America/Chicago|US/Central","America/Chicago|US/Indiana-Starke","America/Chihuahua|America/Mazatlan","America/Chihuahua|Mexico/BajaSur","America/Creston|America/Dawson_Creek","America/Creston|America/Hermosillo","America/Creston|America/Phoenix","America/Creston|MST","America/Creston|US/Arizona","America/Dawson|America/Ensenada","America/Dawson|America/Los_Angeles","America/Dawson|America/Tijuana","America/Dawson|America/Vancouver","America/Dawson|America/Whitehorse","America/Dawson|Canada/Pacific","America/Dawson|Canada/Yukon","America/Dawson|Mexico/BajaNorte","America/Dawson|PST8PDT","America/Dawson|US/Pacific","America/Dawson|US/Pacific-New","America/Detroit|America/Fort_Wayne","America/Detroit|America/Indiana/Indianapolis","America/Detroit|America/Indiana/Marengo","America/Detroit|America/Indiana/Petersburg","America/Detroit|America/Indiana/Vevay","America/Detroit|America/Indiana/Vincennes","America/Detroit|America/Indiana/Winamac","America/Detroit|America/Indianapolis","America/Detroit|America/Iqaluit","America/Detroit|America/Kentucky/Louisville","America/Detroit|America/Kentucky/Monticello","America/Detroit|America/Louisville","America/Detroit|America/Montreal","America/Detroit|America/Nassau","America/Detroit|America/New_York","America/Detroit|America/Nipigon","America/Detroit|America/Pangnirtung","America/Detroit|America/Thunder_Bay","America/Detroit|America/Toronto","America/Detroit|Canada/Eastern","America/Detroit|EST5EDT","America/Detroit|US/East-Indiana","America/Detroit|US/Eastern","America/Detroit|US/Michigan","America/Eirunepe|America/Porto_Acre","America/Eirunepe|America/Rio_Branco","America/Eirunepe|Brazil/Acre","America/Glace_Bay|America/Halifax","America/Glace_Bay|America/Moncton","America/Glace_Bay|America/Thule","America/Glace_Bay|Atlantic/Bermuda","America/Glace_Bay|Canada/Atlantic","America/Havana|Cuba","America/Merida|America/Mexico_City","America/Merida|America/Monterrey","America/Merida|Mexico/General","America/Metlakatla|Pacific/Pitcairn","America/Noronha|Brazil/DeNoronha","America/Santiago|Antarctica/Palmer","America/Santiago|Chile/Continental","America/Sao_Paulo|Brazil/East","America/St_Johns|Canada/Newfoundland","Antarctica/McMurdo|Antarctica/South_Pole","Antarctica/McMurdo|NZ","Antarctica/McMurdo|Pacific/Auckland","Asia/Aden|Asia/Baghdad","Asia/Aden|Asia/Bahrain","Asia/Aden|Asia/Kuwait","Asia/Aden|Asia/Qatar","Asia/Aden|Asia/Riyadh","Asia/Aqtau|Asia/Aqtobe","Asia/Ashgabat|Asia/Ashkhabad","Asia/Bangkok|Asia/Ho_Chi_Minh","Asia/Bangkok|Asia/Phnom_Penh","Asia/Bangkok|Asia/Saigon","Asia/Bangkok|Asia/Vientiane","Asia/Calcutta|Asia/Colombo","Asia/Calcutta|Asia/Kolkata","Asia/Chongqing|Asia/Chungking","Asia/Chongqing|Asia/Harbin","Asia/Chongqing|Asia/Macao","Asia/Chongqing|Asia/Macau","Asia/Chongqing|Asia/Shanghai","Asia/Chongqing|Asia/Taipei","Asia/Chongqing|PRC","Asia/Chongqing|ROC","Asia/Dacca|Asia/Dhaka","Asia/Dubai|Asia/Muscat","Asia/Hong_Kong|Hongkong","Asia/Istanbul|Europe/Istanbul","Asia/Istanbul|Turkey","Asia/Jakarta|Asia/Pontianak","Asia/Jerusalem|Asia/Tel_Aviv","Asia/Jerusalem|Israel","Asia/Kashgar|Asia/Urumqi","Asia/Kathmandu|Asia/Katmandu","Asia/Kuala_Lumpur|Asia/Kuching","Asia/Makassar|Asia/Ujung_Pandang","Asia/Nicosia|EET","Asia/Nicosia|Europe/Athens","Asia/Nicosia|Europe/Bucharest","Asia/Nicosia|Europe/Helsinki","Asia/Nicosia|Europe/Kiev","Asia/Nicosia|Europe/Mariehamn","Asia/Nicosia|Europe/Nicosia","Asia/Nicosia|Europe/Riga","Asia/Nicosia|Europe/Sofia","Asia/Nicosia|Europe/Tallinn","Asia/Nicosia|Europe/Uzhgorod","Asia/Nicosia|Europe/Vilnius","Asia/Nicosia|Europe/Zaporozhye","Asia/Samarkand|Asia/Tashkent","Asia/Seoul|ROK","Asia/Singapore|Singapore","Asia/Tehran|Iran","Asia/Thimbu|Asia/Thimphu","Asia/Tokyo|Japan","Asia/Ulaanbaatar|Asia/Ulan_Bator","Atlantic/Canary|Atlantic/Faeroe","Atlantic/Canary|Atlantic/Faroe","Atlantic/Canary|Atlantic/Madeira","Atlantic/Canary|Europe/Lisbon","Atlantic/Canary|Portugal","Atlantic/Canary|WET","Australia/ACT|Australia/Canberra","Australia/ACT|Australia/Currie","Australia/ACT|Australia/Hobart","Australia/ACT|Australia/Melbourne","Australia/ACT|Australia/NSW","Australia/ACT|Australia/Sydney","Australia/ACT|Australia/Tasmania","Australia/ACT|Australia/Victoria","Australia/Adelaide|Australia/Broken_Hill","Australia/Adelaide|Australia/South","Australia/Adelaide|Australia/Yancowinna","Australia/Brisbane|Australia/Lindeman","Australia/Brisbane|Australia/Queensland","Australia/Darwin|Australia/North","Australia/LHI|Australia/Lord_Howe","Australia/Perth|Australia/West","Chile/EasterIsland|Pacific/Easter","Eire|Europe/Dublin","Etc/UCT|UCT","Etc/UTC|Etc/Universal","Etc/UTC|Etc/Zulu","Etc/UTC|UTC","Etc/UTC|Universal","Etc/UTC|Zulu","Europe/Belfast|Europe/Guernsey","Europe/Belfast|Europe/Isle_of_Man","Europe/Belfast|Europe/Jersey","Europe/Belfast|Europe/London","Europe/Belfast|GB","Europe/Belfast|GB-Eire","Europe/Chisinau|Europe/Tiraspol","Europe/Moscow|Europe/Volgograd","Europe/Moscow|W-SU","HST|Pacific/Honolulu","HST|Pacific/Johnston","HST|US/Hawaii","Kwajalein|Pacific/Kwajalein","Kwajalein|Pacific/Majuro","NZ-CHAT|Pacific/Chatham","Pacific/Chuuk|Pacific/Truk","Pacific/Chuuk|Pacific/Yap","Pacific/Guam|Pacific/Saipan","Pacific/Midway|Pacific/Pago_Pago","Pacific/Midway|Pacific/Samoa","Pacific/Midway|US/Samoa","Pacific/Pohnpei|Pacific/Ponape"]
}),a})},{"./../../moment/moment.js":16}],15:[function(a,b,c){!function(d,e){"object"===(void 0===c?"undefined":_typeof(c))&&void 0!==b?e(a("../moment")):"function"==typeof define&&define.amd?define(["moment"],e):e(d.moment)}(this,function(a){"use strict";return a.defineLocale("ja",{months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"Ah時m分",LTS:"Ah時m分s秒",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah時m分",LLLL:"YYYY年M月D日Ah時m分 dddd"},meridiemParse:/午前|午後/i,isPM:function(a){return"午後"===a},meridiem:function(a,b,c){return 12>a?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:"[来週]dddd LT",lastDay:"[昨日] LT",lastWeek:"[前週]dddd LT",sameElse:"L"},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}})})},{"../moment":16}],16:[function(a,b,c){!function(a,d){"object"===(void 0===c?"undefined":_typeof(c))&&void 0!==b?b.exports=d():"function"==typeof define&&define.amd?define(d):a.moment=d()}(this,function(){"use strict";function a(){return Hc.apply(null,arguments)}function c(a){return"[object Array]"===Object.prototype.toString.call(a)}function d(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function e(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function f(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function g(a,b){for(var c in b)f(b,c)&&(a[c]=b[c]);return f(b,"toString")&&(a.toString=b.toString),f(b,"valueOf")&&(a.valueOf=b.valueOf),a}function h(a,b,c,d){return Ca(a,b,c,d,!0).utc()}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function j(a){return null==a._pf&&(a._pf=i()),a._pf}function k(a){if(null==a._isValid){var b=j(a);a._isValid=!(isNaN(a._d.getTime())||!(b.overflow<0)||b.empty||b.invalidMonth||b.invalidWeekday||b.nullInput||b.invalidFormat||b.userInvalidated),a._strict&&(a._isValid=a._isValid&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour)}return a._isValid}function l(a){var b=h(NaN);return null!=a?g(j(b),a):j(b).userInvalidated=!0,b}function m(a,b){var c,d,e;if(void 0!==b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject),void 0!==b._i&&(a._i=b._i),void 0!==b._f&&(a._f=b._f),void 0!==b._l&&(a._l=b._l),void 0!==b._strict&&(a._strict=b._strict),void 0!==b._tzm&&(a._tzm=b._tzm),void 0!==b._isUTC&&(a._isUTC=b._isUTC),void 0!==b._offset&&(a._offset=b._offset),void 0!==b._pf&&(a._pf=j(b)),void 0!==b._locale&&(a._locale=b._locale),Jc.length>0)for(c in Jc)d=Jc[c],void 0!==(e=b[d])&&(a[d]=e);return a}function n(b){m(this,b),this._d=new Date(null!=b._d?b._d.getTime():NaN),!1===Kc&&(Kc=!0,a.updateOffset(this),Kc=!1)}function o(a){return a instanceof n||null!=a&&null!=a._isAMomentObject}function p(a){return 0>a?Math.ceil(a):Math.floor(a)}function q(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=p(b)),c}function r(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&q(a[d])!==q(b[d]))&&g++;return g+f}function s(){}function t(a){return a?a.toLowerCase().replace("_","-"):a}function u(a){for(var b,c,d,e,f=0;f<a.length;){for(e=t(a[f]).split("-"),b=e.length,c=t(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=v(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&r(e,c,!0)>=b-1)break;b--}f++}return null}function v(a){var c=null;if(!Lc[a]&&void 0!==b&&b&&b.exports)try{c=Ic._abbr,d("./locale/"+a),w(c)}catch(d){}return Lc[a]}function w(a,b){var c;return a&&(c=void 0===b?y(a):x(a,b))&&(Ic=c),Ic._abbr}function x(a,b){return null!==b?(b.abbr=a,Lc[a]=Lc[a]||new s,Lc[a].set(b),w(a),Lc[a]):(delete Lc[a],null)}function y(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Ic;if(!c(a)){if(b=v(a))return b;a=[a]}return u(a)}function z(a,b){var c=a.toLowerCase();Mc[c]=Mc[c+"s"]=Mc[b]=a}function A(a){return"string"==typeof a?Mc[a]||Mc[a.toLowerCase()]:void 0}function B(a){var b,c,d={};for(c in a)f(a,c)&&(b=A(c))&&(d[b]=a[c]);return d}function C(b,c){return function(d){return null!=d?(E(this,b,d),a.updateOffset(this,c),this):D(this,b)}}function D(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function E(a,b,c){return a._d["set"+(a._isUTC?"UTC":"")+b](c)}function F(a,b){var c;if("object"===(void 0===a?"undefined":_typeof(a)))for(c in a)this.set(c,a[c]);else if(a=A(a),"function"==typeof this[a])return this[a](b);return this}function G(a,b,c){var d=""+Math.abs(a),e=b-d.length;return(a>=0?c?"+":"":"-")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}function H(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(Qc[a]=e),b&&(Qc[b[0]]=function(){return G(e.apply(this,arguments),b[1],b[2])}),c&&(Qc[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function I(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function J(a){var b,c,d=a.match(Nc);for(b=0,c=d.length;c>b;b++)Qc[d[b]]?d[b]=Qc[d[b]]:d[b]=I(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function K(a,b){return a.isValid()?(b=L(b,a.localeData()),Pc[b]=Pc[b]||J(b),Pc[b](a)):a.localeData().invalidDate()}function L(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Oc.lastIndex=0;d>=0&&Oc.test(a);)a=a.replace(Oc,c),Oc.lastIndex=0,d-=1;return a}function M(a){return"function"==typeof a&&"[object Function]"===Object.prototype.toString.call(a)}function N(a,b,c){Uc[a]=M(b)?b:function(a){return a&&c?c:b}}function O(a,b){return f(Uc,a)?Uc[a](b._strict,b._locale):new RegExp(P(a))}function P(a){return a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Q(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),"number"==typeof b&&(d=function(a,c){c[b]=q(a)}),c=0;c<a.length;c++)Vc[a[c]]=d}function R(a,b){Q(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function S(a,b,c){null!=b&&f(Vc,a)&&Vc[a](b,c._a,c,a)}function T(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function U(a){return this._months[a.month()]}function V(a){return this._monthsShort[a.month()]}function W(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=h([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function X(a,b){var c;return"string"==typeof b&&"number"!=typeof(b=a.localeData().monthsParse(b))?a:(c=Math.min(a.date(),T(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a)}function Y(b){return null!=b?(X(this,b),a.updateOffset(this,!0),this):D(this,"Month")}function Z(){return T(this.year(),this.month())}function $(a){var b,c=a._a;return c&&-2===j(a).overflow&&(b=c[Xc]<0||c[Xc]>11?Xc:c[Yc]<1||c[Yc]>T(c[Wc],c[Xc])?Yc:c[Zc]<0||c[Zc]>24||24===c[Zc]&&(0!==c[$c]||0!==c[_c]||0!==c[ad])?Zc:c[$c]<0||c[$c]>59?$c:c[_c]<0||c[_c]>59?_c:c[ad]<0||c[ad]>999?ad:-1,j(a)._overflowDayOfYear&&(Wc>b||b>Yc)&&(b=Yc),j(a).overflow=b),a}function _(b){!1===a.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn}function aa(a,b){var c=!0;return g(function(){return c&&(_(a+"\n"+(new Error).stack),c=!1),b.apply(this,arguments)},b)}function ba(a,b){dd[a]||(_(b),dd[a]=!0)}function ca(a){var b,c,d=a._i,e=ed.exec(d);if(e){for(j(a).iso=!0,b=0,c=fd.length;c>b;b++)if(fd[b][1].exec(d)){a._f=fd[b][0];break}for(b=0,c=gd.length;c>b;b++)if(gd[b][1].exec(d)){a._f+=(e[6]||" ")+gd[b][0];break}d.match(Sc)&&(a._f+="Z"),va(a)}else a._isValid=!1}function da(b){var c=hd.exec(b._i);return null!==c?void(b._d=new Date(+c[1])):(ca(b),void(!1===b._isValid&&(delete b._isValid,a.createFromInputFallback(b))))}function ea(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function fa(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function ga(a){return ha(a)?366:365}function ha(a){return a%4==0&&a%100!=0||a%400==0}function ia(){return ha(this.year())}function ja(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=Da(a).add(f,"d"),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function ka(a){return ja(a,this._week.dow,this._week.doy).week}function la(){return this._week.dow}function ma(){return this._week.doy}function na(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function oa(a){var b=ja(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function pa(a,b,c,d,e){var f,g=6+e-d,h=fa(a,0,1+g),i=h.getUTCDay();return e>i&&(i+=7),c=null!=c?1*c:e,f=1+g+7*(b-1)-i+c,{year:f>0?a:a-1,dayOfYear:f>0?f:ga(a-1)+f}}function qa(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")}function ra(a,b,c){return null!=a?a:null!=b?b:c}function sa(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function ta(a){var b,c,d,e,f=[];if(!a._d){for(d=sa(a),a._w&&null==a._a[Yc]&&null==a._a[Xc]&&ua(a),a._dayOfYear&&(e=ra(a._a[Wc],d[Wc]),a._dayOfYear>ga(e)&&(j(a)._overflowDayOfYear=!0),c=fa(e,0,a._dayOfYear),a._a[Xc]=c.getUTCMonth(),a._a[Yc]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;7>b;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[Zc]&&0===a._a[$c]&&0===a._a[_c]&&0===a._a[ad]&&(a._nextDay=!0,a._a[Zc]=0),a._d=(a._useUTC?fa:ea).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[Zc]=24)}}function ua(a){var b,c,d,e,f,g,h;b=a._w,null!=b.GG||null!=b.W||null!=b.E?(f=1,g=4,c=ra(b.GG,a._a[Wc],ja(Da(),1,4).year),d=ra(b.W,1),e=ra(b.E,1)):(f=a._locale._week.dow,g=a._locale._week.doy,c=ra(b.gg,a._a[Wc],ja(Da(),f,g).year),d=ra(b.w,1),null!=b.d?(e=b.d)<f&&++d:e=null!=b.e?b.e+f:f),h=pa(c,d,e,g,f),a._a[Wc]=h.year,a._dayOfYear=h.dayOfYear}function va(b){if(b._f===a.ISO_8601)return void ca(b);b._a=[],j(b).empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,k=0;for(e=L(b._f,b._locale).match(Nc)||[],c=0;c<e.length;c++)f=e[c],d=(h.match(O(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&j(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),k+=d.length),Qc[f]?(d?j(b).empty=!1:j(b).unusedTokens.push(f),S(f,d,b)):b._strict&&!d&&j(b).unusedTokens.push(f);j(b).charsLeftOver=i-k,h.length>0&&j(b).unusedInput.push(h),!0===j(b).bigHour&&b._a[Zc]<=12&&b._a[Zc]>0&&(j(b).bigHour=void 0),b._a[Zc]=wa(b._locale,b._a[Zc],b._meridiem),ta(b),$(b)}function wa(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&12>b&&(b+=12),d||12!==b||(b=0),b):b}function xa(a){var b,c,d,e,f;if(0===a._f.length)return j(a).invalidFormat=!0,void(a._d=new Date(NaN));for(e=0;e<a._f.length;e++)f=0,b=m({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],va(b),k(b)&&(f+=j(b).charsLeftOver,f+=10*j(b).unusedTokens.length,j(b).score=f,(null==d||d>f)&&(d=f,c=b));g(a,c||b)}function ya(a){if(!a._d){var b=B(a._i);a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],ta(a)}}function za(a){var b=new n($(Aa(a)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}function Aa(a){var b=a._i,e=a._f;return a._locale=a._locale||y(a._l),null===b||void 0===e&&""===b?l({nullInput:!0}):("string"==typeof b&&(a._i=b=a._locale.preparse(b)),o(b)?new n($(b)):(c(e)?xa(a):e?va(a):d(b)?a._d=b:Ba(a),a))}function Ba(b){var f=b._i;void 0===f?b._d=new Date:d(f)?b._d=new Date(+f):"string"==typeof f?da(b):c(f)?(b._a=e(f.slice(0),function(a){return parseInt(a,10)}),ta(b)):"object"===(void 0===f?"undefined":_typeof(f))?ya(b):"number"==typeof f?b._d=new Date(f):a.createFromInputFallback(b)}function Ca(a,b,c,d,e){var f={};return"boolean"==typeof c&&(d=c,c=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=e,f._l=c,f._i=a,f._f=b,f._strict=d,za(f)}function Da(a,b,c,d){return Ca(a,b,c,d,!1)}function Ea(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return Da();for(d=b[0],e=1;e<b.length;++e)b[e].isValid()&&!b[e][a](d)||(d=b[e]);return d}function Fa(){return Ea("isBefore",[].slice.call(arguments,0))}function Ga(){return Ea("isAfter",[].slice.call(arguments,0))}function Ha(a){var b=B(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=y(),this._bubble()}function Ia(a){return a instanceof Ha}function Ja(a,b){H(a,0,0,function(){var a=this.utcOffset(),c="+";return 0>a&&(a=-a,c="-"),c+G(~~(a/60),2)+b+G(~~a%60,2)})}function Ka(a){var b=(a||"").match(Sc)||[],c=b[b.length-1]||[],d=(c+"").match(md)||["-",0,0],e=60*d[1]+q(d[2]);return"+"===d[0]?e:-e}function La(b,c){var e,f;return c._isUTC?(e=c.clone(),f=(o(b)||d(b)?+b:+Da(b))-+e,e._d.setTime(+e._d+f),a.updateOffset(e,!1),e):Da(b).local()}function Ma(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Na(b,c){var d,e=this._offset||0;return null!=b?("string"==typeof b&&(b=Ka(b)),Math.abs(b)<16&&(b*=60),!this._isUTC&&c&&(d=Ma(this)),this._offset=b,this._isUTC=!0,null!=d&&this.add(d,"m"),e!==b&&(!c||this._changeInProgress?bb(this,Ya(b-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?e:Ma(this)}function Oa(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Pa(a){return this.utcOffset(0,a)}function Qa(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Ma(this),"m")),this}function Ra(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ka(this._i)),this}function Sa(a){return a=a?Da(a).utcOffset():0,(this.utcOffset()-a)%60==0}function Ta(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ua(){if(void 0!==this._isDSTShifted)return this._isDSTShifted;var a={};if(m(a,this),a=Aa(a),a._a){var b=a._isUTC?h(a._a):Da(a._a);this._isDSTShifted=this.isValid()&&r(a._a,b.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Va(){return!this._isUTC}function Wa(){return this._isUTC}function Xa(){return this._isUTC&&0===this._offset}function Ya(a,b){var c,d,e,g=a,h=null;return Ia(a)?g={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(g={},b?g[b]=a:g.milliseconds=a):(h=nd.exec(a))?(c="-"===h[1]?-1:1,g={y:0,d:q(h[Yc])*c,h:q(h[Zc])*c,m:q(h[$c])*c,s:q(h[_c])*c,ms:q(h[ad])*c}):(h=od.exec(a))?(c="-"===h[1]?-1:1,g={y:Za(h[2],c),M:Za(h[3],c),d:Za(h[4],c),h:Za(h[5],c),m:Za(h[6],c),s:Za(h[7],c),w:Za(h[8],c)}):null==g?g={}:"object"===(void 0===g?"undefined":_typeof(g))&&("from"in g||"to"in g)&&(e=_a(Da(g.from),Da(g.to)),g={},g.ms=e.milliseconds,g.M=e.months),d=new Ha(g),Ia(a)&&f(a,"_locale")&&(d._locale=a._locale),d}function Za(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function $a(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function _a(a,b){var c;return b=La(b,a),a.isBefore(b)?c=$a(a,b):(c=$a(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c}function ab(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(ba(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=Ya(c,d),bb(this,e,a),this}}function bb(b,c,d,e){var f=c._milliseconds,g=c._days,h=c._months;e=null==e||e,f&&b._d.setTime(+b._d+f*d),g&&E(b,"Date",D(b,"Date")+g*d),h&&X(b,D(b,"Month")+h*d),e&&a.updateOffset(b,g||h)}function cb(a,b){var c=a||Da(),d=La(c,this).startOf("day"),e=this.diff(d,"days",!0),f=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse";return this.format(b&&b[f]||this.localeData().calendar(f,this,Da(c)))}function db(){return new n(this)}function eb(a,b){return b=A(void 0!==b?b:"millisecond"),"millisecond"===b?(a=o(a)?a:Da(a),+this>+a):(o(a)?+a:+Da(a))<+this.clone().startOf(b)}function fb(a,b){var c;return b=A(void 0!==b?b:"millisecond"),"millisecond"===b?(a=o(a)?a:Da(a),+a>+this):(c=o(a)?+a:+Da(a),+this.clone().endOf(b)<c)}function gb(a,b,c){return this.isAfter(a,c)&&this.isBefore(b,c)}function hb(a,b){var c;return b=A(b||"millisecond"),"millisecond"===b?(a=o(a)?a:Da(a),+this==+a):(c=+Da(a),+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))}function ib(a,b,c){var d,e,f=La(a,this),g=6e4*(f.utcOffset()-this.utcOffset());return b=A(b),"year"===b||"month"===b||"quarter"===b?(e=jb(this,f),"quarter"===b?e/=3:"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-g)/864e5:"week"===b?(d-g)/6048e5:d),c?e:p(e)}function jb(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return 0>b-f?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)}function kb(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function lb(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():K(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):K(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function mb(b){var c=K(this,b||a.defaultFormat);return this.localeData().postformat(c)}function nb(a,b){return this.isValid()?Ya({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function ob(a){return this.from(Da(),a)}function pb(a,b){return this.isValid()?Ya({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function qb(a){return this.to(Da(),a)}function rb(a){var b;return void 0===a?this._locale._abbr:(b=y(a),null!=b&&(this._locale=b),this)}function sb(){return this._locale}function tb(a){switch(a=A(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function ub(a){return a=A(a),void 0===a||"millisecond"===a?this:this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")}function vb(){return+this._d-6e4*(this._offset||0)}function wb(){return Math.floor(+this/1e3)}function xb(){return this._offset?new Date(+this):this._d}function yb(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function zb(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function Ab(){return k(this)}function Bb(){return g({},j(this))}function Cb(){return j(this).overflow}function Db(a,b){H(0,[a,a.length],0,b)}function Eb(a,b,c){return ja(Da([a,11,31+b-c]),b,c).week}function Fb(a){var b=ja(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")}function Gb(a){var b=ja(this,1,4).year;return null==a?b:this.add(a-b,"y")}function Hb(){return Eb(this.year(),1,4)}function Ib(){var a=this.localeData()._week;return Eb(this.year(),a.dow,a.doy)}function Jb(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Kb(a,b){return"string"!=typeof a?a:isNaN(a)?(a=b.weekdaysParse(a),"number"==typeof a?a:null):parseInt(a,10)}function Lb(a){return this._weekdays[a.day()]}function Mb(a){return this._weekdaysShort[a.day()]}function Nb(a){return this._weekdaysMin[a.day()]}function Ob(a){var b,c,d;for(this._weekdaysParse=this._weekdaysParse||[],b=0;7>b;b++)if(this._weekdaysParse[b]||(c=Da([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b}function Pb(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Kb(a,this.localeData()),this.add(a-b,"d")):b}function Qb(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function Rb(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)}function Sb(a,b){H(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Tb(a,b){return b._meridiemParse}function Ub(a){return"p"===(a+"").toLowerCase().charAt(0)}function Vb(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function Wb(a,b){b[ad]=q(1e3*("0."+a))}function Xb(){return this._isUTC?"UTC":""}function Yb(){return this._isUTC?"Coordinated Universal Time":""}function Zb(a){return Da(1e3*a)}function $b(){return Da.apply(null,arguments).parseZone()}function _b(a,b,c){var d=this._calendar[a];return"function"==typeof d?d.call(b,c):d}function ac(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])}function bc(){return this._invalidDate}function cc(a){return this._ordinal.replace("%d",a)}function dc(a){return a}function ec(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)}function fc(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)}function gc(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function hc(a,b,c,d){var e=y(),f=h().set(d,b);return e[c](f,a)}function ic(a,b,c,d,e){if("number"==typeof a&&(b=a,a=void 0),a=a||"",null!=b)return hc(a,b,c,e);var f,g=[];for(f=0;d>f;f++)g[f]=hc(a,f,c,e);return g}function jc(a,b){return ic(a,b,"months",12,"month")}function kc(a,b){return ic(a,b,"monthsShort",12,"month")}function lc(a,b){return ic(a,b,"weekdays",7,"day")}function mc(a,b){return ic(a,b,"weekdaysShort",7,"day")}function nc(a,b){return ic(a,b,"weekdaysMin",7,"day")}function oc(){var a=this._data;return this._milliseconds=Hd(this._milliseconds),this._days=Hd(this._days),this._months=Hd(this._months),a.milliseconds=Hd(a.milliseconds),a.seconds=Hd(a.seconds),a.minutes=Hd(a.minutes),a.hours=Hd(a.hours),a.months=Hd(a.months),a.years=Hd(a.years),this}function pc(a,b,c,d){var e=Ya(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function qc(a,b){return pc(this,a,b,1)}function rc(a,b){return pc(this,a,b,-1)}function sc(a){return 0>a?Math.floor(a):Math.ceil(a)}function tc(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,i=this._data;return f>=0&&g>=0&&h>=0||0>=f&&0>=g&&0>=h||(f+=864e5*sc(vc(h)+g),g=0,h=0),i.milliseconds=f%1e3,a=p(f/1e3),i.seconds=a%60,b=p(a/60),i.minutes=b%60,c=p(b/60),i.hours=c%24,g+=p(c/24),e=p(uc(g)),h+=e,g-=sc(vc(e)),d=p(h/12),h%=12,i.days=g,i.months=h,i.years=d,this}function uc(a){return 4800*a/146097}function vc(a){return 146097*a/4800}function wc(a){var b,c,d=this._milliseconds;if("month"===(a=A(a))||"year"===a)return b=this._days+d/864e5,c=this._months+uc(b),"month"===a?c:c/12;switch(b=this._days+Math.round(vc(this._months)),a){case"week":return b/7+d/6048e5;case"day":return b+d/864e5;case"hour":return 24*b+d/36e5;case"minute":return 1440*b+d/6e4;case"second":return 86400*b+d/1e3;case"millisecond":return Math.floor(864e5*b)+d;default:throw new Error("Unknown unit "+a)}}function xc(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*q(this._months/12)}function yc(a){return function(){return this.as(a)}}function zc(a){return a=A(a),this[a+"s"]()}function Ac(a){return function(){return this._data[a]}}function Bc(){return p(this.days()/7)}function Cc(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function Dc(a,b,c){var d=Ya(a).abs(),e=Xd(d.as("s")),f=Xd(d.as("m")),g=Xd(d.as("h")),h=Xd(d.as("d")),i=Xd(d.as("M")),j=Xd(d.as("y")),k=e<Yd.s&&["s",e]||1===f&&["m"]||f<Yd.m&&["mm",f]||1===g&&["h"]||g<Yd.h&&["hh",g]||1===h&&["d"]||h<Yd.d&&["dd",h]||1===i&&["M"]||i<Yd.M&&["MM",i]||1===j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,Cc.apply(null,k)}function Ec(a,b){return void 0!==Yd[a]&&(void 0===b?Yd[a]:(Yd[a]=b,!0))}function Fc(a){var b=this.localeData(),c=Dc(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function Gc(){var a,b,c,d=Zd(this._milliseconds)/1e3,e=Zd(this._days),f=Zd(this._months);a=p(d/60),b=p(a/60),d%=60,a%=60,c=p(f/12),f%=12;var g=c,h=f,i=e,j=b,k=a,l=d,m=this.asSeconds();return m?(0>m?"-":"")+"P"+(g?g+"Y":"")+(h?h+"M":"")+(i?i+"D":"")+(j||k||l?"T":"")+(j?j+"H":"")+(k?k+"M":"")+(l?l+"S":""):"P0D"}var Hc,Ic,Jc=a.momentProperties=[],Kc=!1,Lc={},Mc={},Nc=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Oc=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Pc={},Qc={},Rc=/[+-]?\d{6}/,Sc=/Z|[+-]\d\d:?\d\d/gi,Tc=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Uc={},Vc={},Wc=0,Xc=1,Yc=2,Zc=3,$c=4,_c=5,ad=6;H("M",["MM",2],"Mo",function(){return this.month()+1}),H("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),H("MMMM",0,0,function(a){return this.localeData().months(this,a)}),z("month","M"),N("M",/\d\d?/),N("MM",/\d\d?/,/\d\d/),N("MMM",Tc),N("MMMM",Tc),Q(["M","MM"],function(a,b){b[Xc]=q(a)-1}),Q(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[Xc]=e:j(c).invalidMonth=a});var bd="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),cd="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),dd={};a.suppressDeprecationWarnings=!1;var ed=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,fd=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],gd=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],hd=/^\/?Date\((\-?\d+)/i;a.createFromInputFallback=aa("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),H(0,["YY",2],0,function(){return this.year()%100}),H(0,["YYYY",4],0,"year"),H(0,["YYYYY",5],0,"year"),H(0,["YYYYYY",6,!0],0,"year"),z("year","y"),N("Y",/[+-]?\d+/),N("YY",/\d\d?/,/\d\d/),N("YYYY",/\d{1,4}/,/\d{4}/),N("YYYYY",/[+-]?\d{1,6}/,Rc),N("YYYYYY",/[+-]?\d{1,6}/,Rc),Q(["YYYYY","YYYYYY"],Wc),Q("YYYY",function(b,c){c[Wc]=2===b.length?a.parseTwoDigitYear(b):q(b)}),Q("YY",function(b,c){c[Wc]=a.parseTwoDigitYear(b)}),a.parseTwoDigitYear=function(a){return q(a)+(q(a)>68?1900:2e3)};var id=C("FullYear",!1);H("w",["ww",2],"wo","week"),H("W",["WW",2],"Wo","isoWeek"),z("week","w"),z("isoWeek","W"),N("w",/\d\d?/),N("ww",/\d\d?/,/\d\d/),N("W",/\d\d?/),N("WW",/\d\d?/,/\d\d/),R(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=q(a)});var jd={dow:0,doy:6};H("DDD",["DDDD",3],"DDDo","dayOfYear"),z("dayOfYear","DDD"),N("DDD",/\d{1,3}/),N("DDDD",/\d{3}/),Q(["DDD","DDDD"],function(a,b,c){c._dayOfYear=q(a)}),a.ISO_8601=function(){};var kd=aa("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var a=Da.apply(null,arguments);return this>a?this:a}),ld=aa("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var a=Da.apply(null,arguments);return a>this?this:a});Ja("Z",":"),Ja("ZZ",""),N("Z",Sc),N("ZZ",Sc),Q(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=Ka(a)});var md=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var nd=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,od=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Ya.fn=Ha.prototype;var pd=ab(1,"add"),qd=ab(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var rd=aa("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});H(0,["gg",2],0,function(){return this.weekYear()%100}),H(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Db("gggg","weekYear"),Db("ggggg","weekYear"),Db("GGGG","isoWeekYear"),Db("GGGGG","isoWeekYear"),z("weekYear","gg"),z("isoWeekYear","GG"),N("G",/[+-]?\d+/),N("g",/[+-]?\d+/),N("GG",/\d\d?/,/\d\d/),N("gg",/\d\d?/,/\d\d/),N("GGGG",/\d{1,4}/,/\d{4}/),N("gggg",/\d{1,4}/,/\d{4}/),N("GGGGG",/[+-]?\d{1,6}/,Rc),N("ggggg",/[+-]?\d{1,6}/,Rc),R(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=q(a)}),R(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),H("Q",0,0,"quarter"),z("quarter","Q"),N("Q",/\d/),Q("Q",function(a,b){b[Xc]=3*(q(a)-1)}),H("D",["DD",2],"Do","date"),z("date","D"),N("D",/\d\d?/),N("DD",/\d\d?/,/\d\d/),N("Do",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient}),Q(["D","DD"],Yc),Q("Do",function(a,b){b[Yc]=q(a.match(/\d\d?/)[0],10)});var sd=C("Date",!0);H("d",0,"do","day"),H("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),H("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),H("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),H("e",0,0,"weekday"),H("E",0,0,"isoWeekday"),z("day","d"),z("weekday","e"),z("isoWeekday","E"),N("d",/\d\d?/),N("e",/\d\d?/),N("E",/\d\d?/),N("dd",Tc),N("ddd",Tc),N("dddd",Tc),R(["dd","ddd","dddd"],function(a,b,c){var d=c._locale.weekdaysParse(a);null!=d?b.d=d:j(c).invalidWeekday=a}),R(["d","e","E"],function(a,b,c,d){b[d]=q(a)});var td="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ud="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),vd="Su_Mo_Tu_We_Th_Fr_Sa".split("_");H("H",["HH",2],0,"hour"),H("h",["hh",2],0,function(){return this.hours()%12||12}),Sb("a",!0),Sb("A",!1),z("hour","h"),N("a",Tb),N("A",Tb),N("H",/\d\d?/),N("h",/\d\d?/),N("HH",/\d\d?/,/\d\d/),N("hh",/\d\d?/,/\d\d/),Q(["H","HH"],Zc),Q(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),Q(["h","hh"],function(a,b,c){b[Zc]=q(a),j(c).bigHour=!0});var wd=C("Hours",!0);H("m",["mm",2],0,"minute"),z("minute","m"),N("m",/\d\d?/),N("mm",/\d\d?/,/\d\d/),Q(["m","mm"],$c);var xd=C("Minutes",!1);H("s",["ss",2],0,"second"),z("second","s"),N("s",/\d\d?/),N("ss",/\d\d?/,/\d\d/),Q(["s","ss"],_c);var yd=C("Seconds",!1);H("S",0,0,function(){return~~(this.millisecond()/100)}),H(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),H(0,["SSS",3],0,"millisecond"),H(0,["SSSS",4],0,function(){return 10*this.millisecond()}),H(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),H(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),H(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),H(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),H(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),z("millisecond","ms"),N("S",/\d{1,3}/,/\d/),N("SS",/\d{1,3}/,/\d\d/),N("SSS",/\d{1,3}/,/\d{3}/);
var zd;for(zd="SSSS";zd.length<=9;zd+="S")N(zd,/\d+/);for(zd="S";zd.length<=9;zd+="S")Q(zd,Wb);var Ad=C("Milliseconds",!1);H("z",0,0,"zoneAbbr"),H("zz",0,0,"zoneName");var Bd=n.prototype;Bd.add=pd,Bd.calendar=cb,Bd.clone=db,Bd.diff=ib,Bd.endOf=ub,Bd.format=mb,Bd.from=nb,Bd.fromNow=ob,Bd.to=pb,Bd.toNow=qb,Bd.get=F,Bd.invalidAt=Cb,Bd.isAfter=eb,Bd.isBefore=fb,Bd.isBetween=gb,Bd.isSame=hb,Bd.isValid=Ab,Bd.lang=rd,Bd.locale=rb,Bd.localeData=sb,Bd.max=ld,Bd.min=kd,Bd.parsingFlags=Bb,Bd.set=F,Bd.startOf=tb,Bd.subtract=qd,Bd.toArray=yb,Bd.toObject=zb,Bd.toDate=xb,Bd.toISOString=lb,Bd.toJSON=lb,Bd.toString=kb,Bd.unix=wb,Bd.valueOf=vb,Bd.year=id,Bd.isLeapYear=ia,Bd.weekYear=Fb,Bd.isoWeekYear=Gb,Bd.quarter=Bd.quarters=Jb,Bd.month=Y,Bd.daysInMonth=Z,Bd.week=Bd.weeks=na,Bd.isoWeek=Bd.isoWeeks=oa,Bd.weeksInYear=Ib,Bd.isoWeeksInYear=Hb,Bd.date=sd,Bd.day=Bd.days=Pb,Bd.weekday=Qb,Bd.isoWeekday=Rb,Bd.dayOfYear=qa,Bd.hour=Bd.hours=wd,Bd.minute=Bd.minutes=xd,Bd.second=Bd.seconds=yd,Bd.millisecond=Bd.milliseconds=Ad,Bd.utcOffset=Na,Bd.utc=Pa,Bd.local=Qa,Bd.parseZone=Ra,Bd.hasAlignedHourOffset=Sa,Bd.isDST=Ta,Bd.isDSTShifted=Ua,Bd.isLocal=Va,Bd.isUtcOffset=Wa,Bd.isUtc=Xa,Bd.isUTC=Xa,Bd.zoneAbbr=Xb,Bd.zoneName=Yb,Bd.dates=aa("dates accessor is deprecated. Use date instead.",sd),Bd.months=aa("months accessor is deprecated. Use month instead",Y),Bd.years=aa("years accessor is deprecated. Use year instead",id),Bd.zone=aa("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Oa);var Cd=Bd,Dd={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ed={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Fd={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Gd=s.prototype;Gd._calendar=Dd,Gd.calendar=_b,Gd._longDateFormat=Ed,Gd.longDateFormat=ac,Gd._invalidDate="Invalid date",Gd.invalidDate=bc,Gd._ordinal="%d",Gd.ordinal=cc,Gd._ordinalParse=/\d{1,2}/,Gd.preparse=dc,Gd.postformat=dc,Gd._relativeTime=Fd,Gd.relativeTime=ec,Gd.pastFuture=fc,Gd.set=gc,Gd.months=U,Gd._months=bd,Gd.monthsShort=V,Gd._monthsShort=cd,Gd.monthsParse=W,Gd.week=ka,Gd._week=jd,Gd.firstDayOfYear=ma,Gd.firstDayOfWeek=la,Gd.weekdays=Lb,Gd._weekdays=td,Gd.weekdaysMin=Nb,Gd._weekdaysMin=vd,Gd.weekdaysShort=Mb,Gd._weekdaysShort=ud,Gd.weekdaysParse=Ob,Gd.isPM=Ub,Gd._meridiemParse=/[ap]\.?m?\.?/i,Gd.meridiem=Vb,w("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10;return a+(1===q(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")}}),a.lang=aa("moment.lang is deprecated. Use moment.locale instead.",w),a.langData=aa("moment.langData is deprecated. Use moment.localeData instead.",y);var Hd=Math.abs,Id=yc("ms"),Jd=yc("s"),Kd=yc("m"),Ld=yc("h"),Md=yc("d"),Nd=yc("w"),Od=yc("M"),Pd=yc("y"),Qd=Ac("milliseconds"),Rd=Ac("seconds"),Sd=Ac("minutes"),Td=Ac("hours"),Ud=Ac("days"),Vd=Ac("months"),Wd=Ac("years"),Xd=Math.round,Yd={s:45,m:45,h:22,d:26,M:11},Zd=Math.abs,$d=Ha.prototype;return $d.abs=oc,$d.add=qc,$d.subtract=rc,$d.as=wc,$d.asMilliseconds=Id,$d.asSeconds=Jd,$d.asMinutes=Kd,$d.asHours=Ld,$d.asDays=Md,$d.asWeeks=Nd,$d.asMonths=Od,$d.asYears=Pd,$d.valueOf=xc,$d._bubble=tc,$d.get=zc,$d.milliseconds=Qd,$d.seconds=Rd,$d.minutes=Sd,$d.hours=Td,$d.days=Ud,$d.weeks=Bc,$d.months=Vd,$d.years=Wd,$d.humanize=Fc,$d.toISOString=Gc,$d.toString=Gc,$d.toJSON=Gc,$d.locale=rb,$d.localeData=sb,$d.toIsoString=aa("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Gc),$d.lang=rd,H("X",0,0,"unix"),H("x",0,0,"valueOf"),N("x",/[+-]?\d+/),N("X",/[+-]?\d+(\.\d{1,3})?/),Q("X",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),Q("x",function(a,b,c){c._d=new Date(q(a))}),a.version="2.10.6",function(a){Hc=a}(Da),a.fn=Cd,a.min=Fa,a.max=Ga,a.utc=h,a.unix=Zb,a.months=jc,a.isDate=d,a.locale=w,a.invalid=l,a.duration=Ya,a.isMoment=o,a.weekdays=lc,a.parseZone=$b,a.localeData=y,a.isDuration=Ia,a.monthsShort=kc,a.weekdaysMin=nc,a.defineLocale=x,a.weekdaysShort=mc,a.normalizeUnits=A,a.relativeTimeThreshold=Ec,a})},{}],17:[function(a,b,c){!function(a,b){"use strict";"function"==typeof define&&define.amd?define(["angular"],function(a){return b(a)}):b(a)}(window.angular||null,function(a){"use strict";var b=a.module("ngTable",[]);return b.value("ngTableDefaults",{params:{},settings:{}}),b.factory("NgTableParams",["$q","$log","ngTableDefaults",function(b,c,d){var e=function(a){return!isNaN(parseFloat(a))&&isFinite(a)};return function(f,g){var h=this,i=function(){k.debugMode&&c.debug&&c.debug.apply(this,arguments)};this.data=[],this.parameters=function(b,c){if(c=c||!1,a.isDefined(b)){for(var d in b){var f=b[d];if(c&&d.indexOf("[")>=0){for(var g=d.split(/\[(.*)\]/).reverse(),h="",k=0,l=g.length;l>k;k++){var m=g[k];if(""!==m){var n=f;f={},f[h=m]=e(n)?parseFloat(n):n}}"sorting"===h&&(j[h]={}),j[h]=a.extend(j[h]||{},f[h])}else j[d]=e(b[d])?parseFloat(b[d]):b[d]}return i("ngTable: set parameters",j),this}return j},this.settings=function(b){return a.isDefined(b)?(a.isArray(b.data)&&(b.total=b.data.length),k=a.extend(k,b),i("ngTable: set settings",k),this):k},this.page=function(b){return a.isDefined(b)?this.parameters({page:b}):j.page},this.total=function(b){return a.isDefined(b)?this.settings({total:b}):k.total},this.count=function(b){return a.isDefined(b)?this.parameters({count:b,page:1}):j.count},this.filter=function(b){return a.isDefined(b)?this.parameters({filter:b,page:1}):j.filter},this.sorting=function(b){if(2==arguments.length){var c={};return c[b]=arguments[1],this.parameters({sorting:c}),this}return a.isDefined(b)?this.parameters({sorting:b}):j.sorting},this.isSortBy=function(b,c){return a.isDefined(j.sorting[b])&&a.equals(j.sorting[b],c)},this.orderBy=function(){var a=[];for(var b in j.sorting)a.push(("asc"===j.sorting[b]?"+":"-")+b);return a},this.getData=function(b,c){return b.resolve(a.isArray(this.data)&&a.isObject(c)?this.data.slice((c.page()-1)*c.count(),c.page()*c.count()):[]),b.promise},this.getGroups=function(c,d){var e=b.defer();return e.promise.then(function(b){var e={};a.forEach(b,function(b){var c=a.isFunction(d)?d(b):b[d];e[c]=e[c]||{data:[]},e[c].value=c,e[c].data.push(b)});var f=[];for(var g in e)f.push(e[g]);i("ngTable: refresh groups",f),c.resolve(f)}),this.getData(e,h)},this.generatePagesArray=function(a,b,c,d){var e,f,g,h,i;if(d=d&&6>d?6:d,i=[],(h=Math.ceil(b/c))>1){i.push({type:"prev",number:Math.max(1,a-1),active:a>1}),i.push({type:"first",number:1,active:a>1,current:1===a}),f=Math.round((k.paginationMaxBlocks-k.paginationMinBlocks)/2),g=Math.max(2,a-f),e=Math.min(h-1,a+2*f-(a-g)),g=Math.max(2,g-(2*f-(e-g)));for(var j=g;e>=j;)i.push(j===g&&2!==j||j===e&&j!==h-1?{type:"more",active:!1}:{type:"page",number:j,active:a!==j,current:a===j}),j++;i.push({type:"last",number:h,active:a!==h,current:a===h}),i.push({type:"next",number:Math.min(h,a+1),active:h>a})}return i},this.url=function(b){b=b||!1;var c=b?[]:{};for(var d in j)if(j.hasOwnProperty(d)){var e=j[d],f=encodeURIComponent(d);if("object"==(void 0===e?"undefined":_typeof(e))){for(var g in e)if(!a.isUndefined(e[g])&&""!==e[g]){var h=f+"["+encodeURIComponent(g)+"]";b?c.push(h+"="+e[g]):c[h]=e[g]}}else a.isFunction(e)||a.isUndefined(e)||""===e||(b?c.push(f+"="+encodeURIComponent(e)):c[f]=encodeURIComponent(e))}return c},this.reload=function(){var a=b.defer(),c=this,d=null;return k.$scope?(k.$loading=!0,d=k.groupBy?k.getGroups(a,k.groupBy,this):k.getData(a,this),i("ngTable: reload data"),d||(d=a.promise),d.then(function(a){return k.$loading=!1,i("ngTable: current scope",k.$scope),k.groupBy?(c.data=a,k.$scope&&(k.$scope.$groups=a)):(c.data=a,k.$scope&&(k.$scope.$data=a)),k.$scope&&(k.$scope.pages=c.generatePagesArray(c.page(),c.total(),c.count()),k.$scope.$emit("ngTableAfterReloadData")),a})):void 0},this.reloadPages=function(){var a=this;k.$scope.pages=a.generatePagesArray(a.page(),a.total(),a.count())};var j=this.$params={page:1,count:1,filter:{},sorting:{},group:{},groupBy:null};a.extend(j,d.params);var k={$scope:null,$loading:!1,data:null,total:0,defaultSort:"desc",filterDelay:750,counts:[10,25,50,100],paginationMaxBlocks:11,paginationMinBlocks:5,sortingIndicator:"span",getGroups:this.getGroups,getData:this.getData};return a.extend(k,d.settings),this.settings(g),this.parameters(f,!0),this}}]),b.factory("ngTableParams",["NgTableParams",function(a){return a}]),b.controller("ngTableController",["$scope","NgTableParams","$timeout","$parse","$compile","$attrs","$element","ngTableColumn",function(b,c,d,e,f,g,h,i){function j(){b.params.$params.page=1}var k=!0;b.$filterRow={},b.$loading=!1,b.hasOwnProperty("params")||(b.params=new c,b.params.isNullInstance=!0),b.params.settings().$scope=b;var l=function(){var a=0;return function(b,c){d.cancel(a),a=d(b,c)}}();b.$watch("params.$params",function(c,d){if(c!==d){if(b.params.settings().$scope=b,a.equals(c.filter,d.filter))b.params.reload();else{var e=k?a.noop:j;l(function(){e(),b.params.reload()},b.params.settings().filterDelay)}b.params.isNullInstance||(k=!1)}},!0),this.compileDirectiveTemplates=function(){if(!h.hasClass("ng-table")){b.templates={header:g.templateHeader?g.templateHeader:"ng-table/header.html",pagination:g.templatePagination?g.templatePagination:"ng-table/pager.html"},h.addClass("ng-table");var c=null;0===h.find("> thead").length&&(c=a.element(document.createElement("thead")).attr("ng-include","templates.header"),h.prepend(c));var d=a.element(document.createElement("div")).attr({"ng-table-pagination":"params","template-url":"templates.pagination"});h.after(d),c&&f(c)(b),f(d)(b)}},this.loadFilterData=function(c){a.forEach(c,function(c){var d;return d=c.filterData(b,{$column:c}),d?a.isObject(d)&&a.isObject(d.promise)?(delete c.filterData,d.promise.then(function(b){a.isArray(b)||a.isFunction(b)||a.isObject(b)?a.isArray(b)&&b.unshift({title:"-",id:""}):b=[],c.data=b})):c.data=d:void delete c.filterData})},this.buildColumns=function(a){return a.map(function(a){return i.buildColumn(a,b)})},this.setupBindingsToInternalScope=function(c){var d=e(c);b.$watch(d,function(c){a.isUndefined(c)||(b.paramsModel=d,b.params=c)},!1),g.showFilter&&b.$parent.$watch(g.showFilter,function(a){b.show_filter=a}),g.disableFilter&&b.$parent.$watch(g.disableFilter,function(a){b.$filterRow.disabled=a})},b.sortBy=function(a,c){var d=a.sortable&&a.sortable();if(d){var e=b.params.settings().defaultSort,f="asc"===e?"desc":"asc",g=b.params.sorting()&&b.params.sorting()[d]&&b.params.sorting()[d]===e,h=c.ctrlKey||c.metaKey?b.params.sorting():{};h[d]=g?f:e,b.params.parameters({sorting:h})}}}]),b.factory("ngTableColumn",[function(){function b(b,d){var e=Object.create(b);for(var f in c)void 0===e[f]&&(e[f]=c[f]),a.isFunction(e[f])||function(a){e[a]=function(){return b[a]}}(f),function(a){var c=e[a];e[a]=function(){return 0===arguments.length?c.call(b,d):c.apply(b,arguments)}}(f);return e}var c={"class":function(){return""},filter:function(){return!1},filterData:a.noop,headerTemplateURL:function(){return!1},headerTitle:function(){return""},sortable:function(){return!1},show:function(){return!0},title:function(){return""},titleAlt:function(){return""}};return{buildColumn:b}}]),b.directive("ngTable",["$q","$parse",function(b,c){return{restrict:"A",priority:1001,scope:!0,controller:"ngTableController",compile:function(b){var d=[],e=0,f=null;return a.forEach(a.element(b.find("tr")),function(b){b=a.element(b),b.hasClass("ng-table-group")||f||(f=b)}),f?(a.forEach(f.find("td"),function(b){var f=a.element(b);if(!f.attr("ignore-cell")||"true"!==f.attr("ignore-cell")){var g=function(a){return f.attr("x-data-"+a)||f.attr("data-"+a)||f.attr(a)},h=function(b){var e=g(b);return e?function(b,f){return c(e)(b,a.extend(f||{},{$columns:d}))}:void 0},i=g("title-alt")||g("title");i&&f.attr("data-title-text","{{"+i+"}}"),d.push({id:e++,title:h("title"),titleAlt:h("title-alt"),headerTitle:h("header-title"),sortable:h("sortable"),"class":h("header-class"),filter:h("filter"),headerTemplateURL:h("header"),filterData:h("filter-data"),show:f.attr("ng-show")?function(a){return c(f.attr("ng-show"))(a)}:void 0})}}),function(a,b,c,e){a.$columns=d=e.buildColumns(d),e.setupBindingsToInternalScope(c.ngTable),e.loadFilterData(d),e.compileDirectiveTemplates()}):void 0}}}]),b.directive("ngTableDynamic",["$parse",function(){function b(a){if(!a||a.indexOf(" with ")>-1){var b=a.split(/\s+with\s+/);return{tableParams:b[0],columns:b[1]}}throw new Error("Parse error (expected example: ng-table-dynamic='tableParams with cols')")}return{restrict:"A",priority:1001,scope:!0,controller:"ngTableController",compile:function(c){var d;return a.forEach(a.element(c.find("tr")),function(b){b=a.element(b),b.hasClass("ng-table-group")||d||(d=b)}),d?(a.forEach(d.find("td"),function(b){var c=a.element(b);(function(a){return c.attr("x-data-"+a)||c.attr("data-"+a)||c.attr(a)})("title")||c.attr("data-title-text","{{$columns[$index].titleAlt(this) || $columns[$index].title(this)}}"),c.attr("ng-show")||c.attr("ng-show","$columns[$index].show(this)")}),function(a,c,d,e){var f=b(d.ngTableDynamic);e.setupBindingsToInternalScope(f.tableParams),e.compileDirectiveTemplates(),a.$watchCollection(f.columns,function(b){a.$columns=e.buildColumns(b),e.loadFilterData(a.$columns)})}):void 0}}}]),b.directive("ngTablePagination",["$compile",function(b){return{restrict:"A",scope:{params:"=ngTablePagination",templateUrl:"="},replace:!1,link:function(c,d){var e=c.params.settings();e.$scope.$on("ngTableAfterReloadData",function(){var a=c.params.page(),b=c.params.total(),d=c.params.count(),f=e.paginationMaxBlocks;c.pages=c.params.generatePagesArray(a,b,d,f)},!0),c.$watch("templateUrl",function(e){if(!a.isUndefined(e)){var f=a.element(document.createElement("div"));f.attr({"ng-include":"templateUrl"}),d.append(f),b(f)(c)}})}}}]),a.module("ngTable").run(["$templateCache",function(a){a.put("ng-table/filters/select-multiple.html",'<select ng-options="data.id as data.title for data in $column.data" ng-disabled="$filterRow.disabled" multiple ng-multiple="true" ng-model="params.filter()[name]" ng-show="filter==\'select-multiple\'" class="filter filter-select-multiple form-control" name="{{name}}"> </select>'),a.put("ng-table/filters/select.html",'<select ng-options="data.id as data.title for data in $column.data" ng-disabled="$filterRow.disabled" ng-model="params.filter()[name]" ng-show="filter==\'select\'" class="filter filter-select form-control" name="{{name}}"> </select>'),a.put("ng-table/filters/text.html",'<input type="text" name="{{name}}" ng-disabled="$filterRow.disabled" ng-model="params.filter()[name]" ng-if="filter==\'text\'" class="input-filter form-control"/>'),a.put("ng-table/header.html",'<tr> <th title="{{$column.headerTitle(this)}}" ng-repeat="$column in $columns | orderBy:\'position\'" ng-class="{ \'sortable\': $column.sortable(this), \'sort-asc\': params.sorting()[$column.sortable(this)]==\'asc\', \'sort-desc\': params.sorting()[$column.sortable(this)]==\'desc\' }" ng-click="sortBy($column, $event)" ng-show="$column.show(this)" ng-init="template=$column.headerTemplateURL(this)" class="header {{$column.class(this)}}"> <div ng-if="!template" ng-show="!template" class="ng-table-header" ng-class="{\'sort-indicator\': params.settings().sortingIndicator==\'div\'}"> <span ng-bind="$column.title(this)" ng-class="{\'sort-indicator\': params.settings().sortingIndicator==\'span\'}"></span> </div> <div ng-if="template" ng-show="template" ng-include="template"></div> </th> </tr> <tr ng-show="show_filter" class="ng-table-filters"> <th data-title-text="{{$column.titleAlt(this) || $column.title(this)}}" ng-repeat="$column in $columns | orderBy:\'position\'" ng-show="$column.show(this)" class="filter"> <div ng-repeat="(name, filter) in $column.filter(this)"> <div ng-if="filter.indexOf(\'/\') !==-1" ng-include="filter"></div> <div ng-if="filter.indexOf(\'/\')===-1" ng-include="\'ng-table/filters/\' + filter + \'.html\'"></div> </div> </th> </tr> '),a.put("ng-table/pager.html",'<div class="ng-cloak ng-table-pager" ng-if="params.data.length"> <div ng-if="params.settings().counts.length" class="ng-table-counts btn-group pull-right"> <button ng-repeat="count in params.settings().counts" type="button" ng-class="{\'active\':params.count()==count}" ng-click="params.count(count)" class="btn btn-default"> <span ng-bind="count"></span> </button> </div> <ul class="pagination ng-table-pagination"> <li ng-class="{\'disabled\': !page.active && !page.current, \'active\': page.current}" ng-repeat="page in pages" ng-switch="page.type"> <a ng-switch-when="prev" ng-click="params.page(page.number)" href="">&laquo;</a> <a ng-switch-when="first" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a> <a ng-switch-when="page" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a> <a ng-switch-when="more" ng-click="params.page(page.number)" href="">&#8230;</a> <a ng-switch-when="last" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a> <a ng-switch-when="next" ng-click="params.page(page.number)" href="">&raquo;</a> </li> </ul> </div> ')}]),b})},{}],18:[function(a,b,c){!function(){"use strict";var a={backspace:8,tab:9,enter:13,escape:27,space:32,up:38,down:40,left:37,right:39,"delete":46,comma:188},b=["text","email","url"],c=angular.module("ngTagsInput",[]);c.directive("tagsInput",["$timeout","$document","$window","$q","tagsInputConfig","tiUtil",function(c,d,e,f,g,h){function i(a,b,c,d){var e,g,i,j,k={};return e=function(b){return h.safeToString(b[a.displayProperty])},g=function(b,c){b[a.displayProperty]=c},i=function(b){var d=e(b),g=d&&d.length>=a.minLength&&d.length<=a.maxLength&&a.allowedTagsPattern.test(d)&&!h.findInObjectArray(k.items,b,a.keyProperty||a.displayProperty);return f.when(g&&c({$tag:b})).then(h.promisifyValue)},j=function(a){return f.when(d({$tag:a})).then(h.promisifyValue)},k.items=[],k.addText=function(a){var b={};return g(b,a),k.add(b)},k.add=function(c){var d=e(c);return a.replaceSpacesWithDashes&&(d=h.replaceSpacesWithDashes(d)),g(c,d),i(c).then(function(){k.items.push(c),b.trigger("tag-added",{$tag:c})})["catch"](function(){d&&b.trigger("invalid-tag",{$tag:c})})},k.remove=function(a){var c=k.items[a];return j(c).then(function(){return k.items.splice(a,1),k.clearSelection(),b.trigger("tag-removed",{$tag:c}),c})},k.select=function(a){0>a?a=k.items.length-1:a>=k.items.length&&(a=0),k.index=a,k.selected=k.items[a]},k.selectPrior=function(){k.select(--k.index)},k.selectNext=function(){k.select(++k.index)},k.removeSelected=function(){return k.remove(k.index)},k.clearSelection=function(){k.selected=null,k.index=-1},k.clearSelection(),k}function j(a){return-1!==b.indexOf(a)}return{restrict:"E",require:"ngModel",scope:{tags:"=ngModel",text:"=?",templateScope:"=?",tagClass:"&",onTagAdding:"&",onTagAdded:"&",onInvalidTag:"&",onTagRemoving:"&",onTagRemoved:"&",onTagClicked:"&"},replace:!1,transclude:!0,templateUrl:"ngTagsInput/tags-input.html",controller:["$scope","$attrs","$element",function(a,b,c){a.events=h.simplePubSub(),g.load("tagsInput",a,b,{template:[String,"ngTagsInput/tag-item.html"],type:[String,"text",j],placeholder:[String,"Add a tag"],tabindex:[Number,null],removeTagSymbol:[String,String.fromCharCode(215)],replaceSpacesWithDashes:[Boolean,!0],minLength:[Number,3],maxLength:[Number,9007199254740991],addOnEnter:[Boolean,!0],addOnSpace:[Boolean,!1],addOnComma:[Boolean,!0],addOnBlur:[Boolean,!0],addOnPaste:[Boolean,!1],pasteSplitPattern:[RegExp,/,/],allowedTagsPattern:[RegExp,/.+/],enableEditingLastTag:[Boolean,!1],minTags:[Number,0],maxTags:[Number,9007199254740991],displayProperty:[String,"text"],keyProperty:[String,""],allowLeftoverText:[Boolean,!1],addFromAutocompleteOnly:[Boolean,!1],spellcheck:[Boolean,!0]}),a.tagList=new i(a.options,a.events,h.handleUndefinedResult(a.onTagAdding,!0),h.handleUndefinedResult(a.onTagRemoving,!0)),this.registerAutocomplete=function(){return c.find("input"),{addTag:function(b){return a.tagList.add(b)},getTags:function(){return a.tagList.items},getCurrentTagText:function(){return a.newTag.text()},getOptions:function(){return a.options},getTemplateScope:function(){return a.templateScope},on:function(b,c){return a.events.on(b,c,!0),this}}},this.registerTagItem=function(){return{getOptions:function(){return a.options},removeTag:function(b){a.disabled||a.tagList.remove(b)}}}}],link:function(b,f,g,i){var j,k,l=[a.enter,a.comma,a.space,a.backspace,a["delete"],a.left,a.right],m=b.tagList,n=b.events,o=b.options,p=f.find("input"),q=["minTags","maxTags","allowLeftoverText"];j=function(){i.$setValidity("maxTags",m.items.length<=o.maxTags),i.$setValidity("minTags",m.items.length>=o.minTags),i.$setValidity("leftoverText",!(!b.hasFocus&&!o.allowLeftoverText&&b.newTag.text()))},k=function(){c(function(){p[0].focus()})},i.$isEmpty=function(a){return!a||!a.length},b.newTag={text:function(a){return angular.isDefined(a)?(b.text=a,void n.trigger("input-change",a)):b.text||""},invalid:null},b.track=function(a){return a[o.keyProperty||o.displayProperty]},b.getTagClass=function(a,c){var d=a===m.selected;return[b.tagClass({$tag:a,$index:c,$selected:d}),{selected:d}]},b.$watch("tags",function(a){a?(m.items=h.makeObjectArray(a,o.displayProperty),b.tags=m.items):m.items=[]}),b.$watch("tags.length",function(){j(),i.$validate()}),g.$observe("disabled",function(a){b.disabled=a}),b.eventHandlers={input:{keydown:function(a){n.trigger("input-keydown",a)},focus:function(){b.hasFocus||(b.hasFocus=!0,n.trigger("input-focus"))},blur:function(){c(function(){var a=d.prop("activeElement"),c=a===p[0],e=f[0].contains(a);!c&&e||(b.hasFocus=!1,n.trigger("input-blur"))})},paste:function(a){a.getTextData=function(){var b=a.clipboardData||a.originalEvent&&a.originalEvent.clipboardData;return b?b.getData("text/plain"):e.clipboardData.getData("Text")},n.trigger("input-paste",a)}},host:{click:function(){b.disabled||k()}},tag:{click:function(a){n.trigger("tag-clicked",{$tag:a})}}},n.on("tag-added",b.onTagAdded).on("invalid-tag",b.onInvalidTag).on("tag-removed",b.onTagRemoved).on("tag-clicked",b.onTagClicked).on("tag-added",function(){b.newTag.text("")}).on("tag-added tag-removed",function(){b.tags=m.items,i.$setDirty(),k()}).on("invalid-tag",function(){b.newTag.invalid=!0}).on("option-change",function(a){-1!==q.indexOf(a.name)&&j()}).on("input-change",function(){m.clearSelection(),b.newTag.invalid=null}).on("input-focus",function(){f.triggerHandler("focus"),i.$setValidity("leftoverText",!0)}).on("input-blur",function(){o.addOnBlur&&!o.addFromAutocompleteOnly&&m.addText(b.newTag.text()),f.triggerHandler("blur"),j()}).on("input-keydown",function(c){var d,e,f,g,i=c.keyCode,j={};h.isModifierOn(c)||-1===l.indexOf(i)||(j[a.enter]=o.addOnEnter,j[a.comma]=o.addOnComma,j[a.space]=o.addOnSpace,d=!o.addFromAutocompleteOnly&&j[i],e=(i===a.backspace||i===a["delete"])&&m.selected,g=i===a.backspace&&0===b.newTag.text().length&&o.enableEditingLastTag,f=(i===a.backspace||i===a.left||i===a.right)&&0===b.newTag.text().length&&!o.enableEditingLastTag,d?m.addText(b.newTag.text()):g?(m.selectPrior(),m.removeSelected().then(function(a){a&&b.newTag.text(a[o.displayProperty])})):e?m.removeSelected():f&&(i===a.left||i===a.backspace?m.selectPrior():i===a.right&&m.selectNext()),(d||f||e||g)&&c.preventDefault())}).on("input-paste",function(a){if(o.addOnPaste){var b=a.getTextData(),c=b.split(o.pasteSplitPattern);c.length>1&&(c.forEach(function(a){m.addText(a)}),a.preventDefault())}})}}}]),c.directive("tiTagItem",["tiUtil",function(a){return{restrict:"E",require:"^tagsInput",template:'<ng-include src="$$template"></ng-include>',scope:{$scope:"=scope",data:"="},link:function(b,c,d,e){var f=e.registerTagItem(),g=f.getOptions();b.$$template=g.template,b.$$removeTagSymbol=g.removeTagSymbol,b.$getDisplayText=function(){return a.safeToString(b.data[g.displayProperty])},b.$removeTag=function(){f.removeTag(b.$index)},b.$watch("$parent.$index",function(a){b.$index=a})}}}]),c.directive("autoComplete",["$document","$timeout","$sce","$q","tagsInputConfig","tiUtil",function(b,c,d,e,f,g){function h(a,b,c){var d,f,h,i={};return h=function(){return b.tagsInput.keyProperty||b.tagsInput.displayProperty},d=function(a,c){return a.filter(function(a){return!g.findInObjectArray(c,a,h(),function(a,c){return b.tagsInput.replaceSpacesWithDashes&&(a=g.replaceSpacesWithDashes(a),c=g.replaceSpacesWithDashes(c)),g.defaultComparer(a,c)})})},i.reset=function(){f=null,i.items=[],i.visible=!1,i.index=-1,i.selected=null,i.query=null},i.show=function(){b.selectFirstMatch?i.select(0):i.selected=null,i.visible=!0},i.load=g.debounce(function(c,j){i.query=c;var k=e.when(a({$query:c}));f=k,k.then(function(a){k===f&&(a=g.makeObjectArray(a.data||a,h()),a=d(a,j),i.items=a.slice(0,b.maxResultsToShow),i.items.length>0?i.show():i.reset())})},b.debounceDelay),i.selectNext=function(){i.select(++i.index)},i.selectPrior=function(){i.select(--i.index)},i.select=function(a){0>a?a=i.items.length-1:a>=i.items.length&&(a=0),i.index=a,i.selected=i.items[a],c.trigger("suggestion-selected",a)},i.reset(),i}function i(a,b){var c=a.find("li").eq(b),d=c.parent(),e=c.prop("offsetTop"),f=c.prop("offsetHeight"),g=d.prop("clientHeight"),h=d.prop("scrollTop");h>e?d.prop("scrollTop",e):e+f>g+h&&d.prop("scrollTop",e+f-g)}return{restrict:"E",require:"^tagsInput",scope:{source:"&",matchClass:"&"},templateUrl:"ngTagsInput/auto-complete.html",controller:["$scope","$element","$attrs",function(a,b,c){a.events=g.simplePubSub(),f.load("autoComplete",a,c,{template:[String,"ngTagsInput/auto-complete-match.html"],debounceDelay:[Number,100],minLength:[Number,3],highlightMatchedText:[Boolean,!0],maxResultsToShow:[Number,10],loadOnDownArrow:[Boolean,!1],loadOnEmpty:[Boolean,!1],loadOnFocus:[Boolean,!1],selectFirstMatch:[Boolean,!0],displayProperty:[String,""]}),a.suggestionList=new h(a.source,a.options,a.events),this.registerAutocompleteMatch=function(){return{getOptions:function(){return a.options},getQuery:function(){return a.suggestionList.query}}}}],link:function(b,c,d,e){var f,h=[a.enter,a.tab,a.escape,a.up,a.down],j=b.suggestionList,k=e.registerAutocomplete(),l=b.options,m=b.events;l.tagsInput=k.getOptions(),f=function(a){return a&&a.length>=l.minLength||!a&&l.loadOnEmpty},b.templateScope=k.getTemplateScope(),b.addSuggestionByIndex=function(a){j.select(a),b.addSuggestion()},b.addSuggestion=function(){var a=!1;return j.selected&&(k.addTag(angular.copy(j.selected)),j.reset(),a=!0),a},b.track=function(a){return a[l.tagsInput.keyProperty||l.tagsInput.displayProperty]},b.getSuggestionClass=function(a,c){var d=a===j.selected;return[b.matchClass({$match:a,$index:c,$selected:d}),{selected:d}]},k.on("tag-added tag-removed invalid-tag input-blur",function(){j.reset()}).on("input-change",function(a){f(a)?j.load(a,k.getTags()):j.reset()}).on("input-focus",function(){var a=k.getCurrentTagText();l.loadOnFocus&&f(a)&&j.load(a,k.getTags())}).on("input-keydown",function(c){var d=c.keyCode,e=!1;return g.isModifierOn(c)||-1===h.indexOf(d)?void 0:(j.visible?d===a.down?(j.selectNext(),e=!0):d===a.up?(j.selectPrior(),e=!0):d===a.escape?(j.reset(),e=!0):d!==a.enter&&d!==a.tab||(e=b.addSuggestion()):d===a.down&&b.options.loadOnDownArrow&&(j.load(k.getCurrentTagText(),k.getTags()),e=!0),e?(c.preventDefault(),c.stopImmediatePropagation(),!1):void 0)}),m.on("suggestion-selected",function(a){i(c,a)})}}}]),c.directive("tiAutocompleteMatch",["$sce","tiUtil",function(a,b){return{restrict:"E",require:"^autoComplete",template:'<ng-include src="$$template"></ng-include>',scope:{$scope:"=scope",data:"="},link:function(c,d,e,f){var g=f.registerAutocompleteMatch(),h=g.getOptions();c.$$template=h.template,c.$index=c.$parent.$index,c.$highlight=function(c){return h.highlightMatchedText&&(c=b.safeHighlight(c,g.getQuery())),a.trustAsHtml(c)},c.$getDisplayText=function(){return b.safeToString(c.data[h.displayProperty||h.tagsInput.displayProperty])}}}}]),c.directive("tiTranscludeAppend",function(){return function(a,b,c,d,e){e(function(a){b.append(a)})}}),c.directive("tiAutosize",["tagsInputConfig",function(a){return{restrict:"A",require:"ngModel",link:function(b,c,d,e){var f,g,h=a.getTextAutosizeThreshold();f=angular.element('<span class="input"></span>'),f.css("display","none").css("visibility","hidden").css("width","auto").css("white-space","pre"),c.parent().append(f),g=function(a){var b,e=a;return angular.isString(e)&&0===e.length&&(e=d.placeholder),e&&(f.text(e),f.css("display",""),b=f.prop("offsetWidth"),f.css("display","none")),c.css("width",b?b+h+"px":""),a},e.$parsers.unshift(g),e.$formatters.unshift(g),d.$observe("placeholder",function(a){e.$modelValue||g(a)})}}}]),c.directive("tiBindAttrs",function(){return function(a,b,c){a.$watch(c.tiBindAttrs,function(a){angular.forEach(a,function(a,b){try{c.$set(b,a)}catch(a){}})},!0)}}),c.provider("tagsInputConfig",function(){var a={},b={},c=3;this.setDefaults=function(b,c){return a[b]=c,this},this.setActiveInterpolation=function(a,c){return b[a]=c,this},this.setTextAutosizeThreshold=function(a){return c=a,this},this.$get=["$interpolate",function(d){var e={};return e[String]=function(a){return a},e[Number]=function(a){return parseInt(a,10)},e[Boolean]=function(a){return"true"===a.toLowerCase()},e[RegExp]=function(a){return new RegExp(a)},{load:function(c,f,g,h){var i=function(){return!0};f.options={},angular.forEach(h,function(h,j){var k,l,m,n,o,p;k=h[0],l=h[1],m=h[2]||i,n=e[k],o=function(){var b=a[c]&&a[c][j];return angular.isDefined(b)?b:l},p=function(a){f.options[j]=a&&m(a)?n(a):o()},b[c]&&b[c][j]?g.$observe(j,function(a){p(a),f.events.trigger("option-change",{name:j,newValue:a})}):p(g[j]&&d(g[j])(f.$parent))})},getTextAutosizeThreshold:function(){return c}}}]}),c.factory("tiUtil",["$timeout","$q",function(a,b){var c={};return c.debounce=function(b,c){var d;return function(){var e=arguments;a.cancel(d),d=a(function(){b.apply(null,e)},c)}},c.makeObjectArray=function(a,b){if(!angular.isArray(a)||0===a.length||angular.isObject(a[0]))return a;var c=[];return a.forEach(function(a){var d={};d[b]=a,c.push(d)}),c},c.findInObjectArray=function(a,b,d,e){var f=null;return e=e||c.defaultComparer,a.some(function(a){return e(a[d],b[d])?(f=a,!0):void 0}),f},c.defaultComparer=function(a,b){return c.safeToString(a).toLowerCase()===c.safeToString(b).toLowerCase()},c.safeHighlight=function(a,b){if(!b)return a;a=c.encodeHTML(a),b=c.encodeHTML(b);var d=new RegExp("&[^;]+;|"+function(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}(b),"gi");return a.replace(d,function(a){return a.toLowerCase()===b.toLowerCase()?"<em>"+a+"</em>":a})},c.safeToString=function(a){return angular.isUndefined(a)||null==a?"":a.toString().trim()},c.encodeHTML=function(a){return c.safeToString(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},c.handleUndefinedResult=function(a,b){return function(){var c=a.apply(null,arguments);return angular.isUndefined(c)?b:c}},c.replaceSpacesWithDashes=function(a){return c.safeToString(a).replace(/\s/g,"-")},c.isModifierOn=function(a){return a.shiftKey||a.ctrlKey||a.altKey||a.metaKey},c.promisifyValue=function(a){return a=!!angular.isUndefined(a)||a,b[a?"when":"reject"]()},c.simplePubSub=function(){var a={};return{on:function(b,c,d){return b.split(" ").forEach(function(b){a[b]||(a[b]=[]),(d?[].unshift:[].push).call(a[b],c)}),this},trigger:function(b,d){return(a[b]||[]).every(function(a){return c.handleUndefinedResult(a,!0)(d)}),this}}},c}]),c.run(["$templateCache",function(a){a.put("ngTagsInput/tags-input.html",'<div class="host" tabindex="-1" ng-click="eventHandlers.host.click()" ti-transclude-append><div class="tags" ng-class="{focused: hasFocus}"><ul class="tag-list"><li class="tag-item" ng-repeat="tag in tagList.items track by track(tag)" ng-class="getTagClass(tag, $index)" ng-click="eventHandlers.tag.click(tag)"><ti-tag-item scope="templateScope" data="::tag"></ti-tag-item></li></ul><input class="input" autocomplete="off" ng-model="newTag.text" ng-model-options="{getterSetter: true}" ng-keydown="eventHandlers.input.keydown($event)" ng-focus="eventHandlers.input.focus($event)" ng-blur="eventHandlers.input.blur($event)" ng-paste="eventHandlers.input.paste($event)" ng-trim="false" ng-class="{\'invalid-tag\': newTag.invalid}" ng-disabled="disabled" ti-bind-attrs="{type: options.type, placeholder: options.placeholder, tabindex: options.tabindex, spellcheck: options.spellcheck}" ti-autosize></div></div>'),
a.put("ngTagsInput/tag-item.html",'<span ng-bind="$getDisplayText()"></span> <a class="remove-button" ng-click="$removeTag()" ng-bind="::$$removeTagSymbol"></a>'),a.put("ngTagsInput/auto-complete.html",'<div class="autocomplete" ng-if="suggestionList.visible"><ul class="suggestion-list"><li class="suggestion-item" ng-repeat="item in suggestionList.items track by track(item)" ng-class="getSuggestionClass(item, $index)" ng-click="addSuggestionByIndex($index)" ng-mouseenter="suggestionList.select($index)"><ti-autocomplete-match scope="templateScope" data="::item"></ti-autocomplete-match></li></ul></div>'),a.put("ngTagsInput/auto-complete-match.html",'<span ng-bind-html="$highlight($getDisplayText())"></span>')}])}()},{}],19:[function(a,b,c){var d;d=angular.module("infinite-scroll",[]),d.value("THROTTLE_MILLISECONDS",null),d.directive("infiniteScroll",["$rootScope","$window","$interval","THROTTLE_MILLISECONDS",function(a,b,c,d){return{scope:{infiniteScroll:"&",infiniteScrollContainer:"=",infiniteScrollDistance:"=",infiniteScrollDisabled:"=",infiniteScrollUseDocumentBottom:"=",infiniteScrollListenForEvent:"@"},link:function(e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;return z=angular.element(b),u=null,v=null,j=null,k=null,r=!0,y=!1,x=null,i=!1,q=function(a){return a=a[0]||a,isNaN(a.offsetHeight)?a.document.documentElement.clientHeight:a.offsetHeight},s=function(a){return a[0].getBoundingClientRect&&!a.css("none")?a[0].getBoundingClientRect().top+t(a):void 0},t=function(a){return a=a[0]||a,isNaN(window.pageYOffset)?a.document.documentElement.scrollTop:a.ownerDocument.defaultView.pageYOffset},p=function(){var b,d,g,h,l;return k===z?(b=q(k)+t(k[0].document.documentElement),g=s(f)+q(f)):(b=q(k),d=0,void 0!==s(k)&&(d=s(k)),g=s(f)-d+q(f)),y&&(g=q((f[0].ownerDocument||f[0].document).documentElement)),h=g-b,l=h<=q(k)*u+1,l?(j=!0,v?e.$$phase||a.$$phase?e.infiniteScroll():e.$apply(e.infiniteScroll):void 0):(i&&c.cancel(i),j=!1)},w=function(a,b){var d,e,f;return f=null,e=0,d=function(){return e=(new Date).getTime(),c.cancel(f),f=null,a.call(),null},function(){var g,h;return g=(new Date).getTime(),h=b-(g-e),0>=h?(clearTimeout(f),c.cancel(f),f=null,e=g,a.call()):f?void 0:f=c(d,h,1)}},null!=d&&(p=w(p,d)),e.$on("$destroy",function(){return k.unbind("scroll",p),null!=x?(x(),x=null):void 0}),n=function(a){return u=parseFloat(a)||0},e.$watch("infiniteScrollDistance",n),n(e.infiniteScrollDistance),m=function(a){return(v=!a)&&j?(j=!1,p()):void 0},e.$watch("infiniteScrollDisabled",m),m(e.infiniteScrollDisabled),o=function(a){return y=a},e.$watch("infiniteScrollUseDocumentBottom",o),o(e.infiniteScrollUseDocumentBottom),h=function(a){return null!=k&&k.unbind("scroll",p),k=a,null!=a?k.bind("scroll",p):void 0},h(z),e.infiniteScrollListenForEvent&&(x=a.$on(e.infiniteScrollListenForEvent,p)),l=function(a){if(null!=a&&0!==a.length){if(a instanceof HTMLElement?a=angular.element(a):"function"==typeof a.append?a=angular.element(a[a.length-1]):"string"==typeof a&&(a=angular.element(document.querySelector(a))),null!=a)return h(a);throw new Exception("invalid infinite-scroll-container attribute.")}},e.$watch("infiniteScrollContainer",l),l(e.infiniteScrollContainer||[]),null!=g.infiniteScrollParent&&h(angular.element(f.parent())),null!=g.infiniteScrollImmediateCheck&&(r=e.$eval(g.infiniteScrollImmediateCheck)),i=c(function(){return r?p():void 0},0)}}}])},{}],20:[function(a,b,c){!function(a,c,d){function e(a){var b=v(),c=b.querySelector("h2"),d=b.querySelector("p"),e=b.querySelector("button.cancel"),f=b.querySelector("button.confirm");if(c.innerHTML=a.html?a.title:B(a.title).split("\n").join("<br>"),d.innerHTML=a.html?a.text:B(a.text||"").split("\n").join("<br>"),a.text&&D(d),a.customClass)z(b,a.customClass),b.setAttribute("data-custom-class",a.customClass);else{var g=b.getAttribute("data-custom-class");A(b,g),b.setAttribute("data-custom-class","")}if(F(b.querySelectorAll(".sa-icon")),a.type&&!m()){for(var h=!1,j=0;j<t.length;j++)if(a.type===t[j]){h=!0;break}if(!h)return n("Unknown alert type: "+a.type),!1;var k,l=["success","error","warning","info"];-1!==l.indexOf(a.type)&&(k=b.querySelector(".sa-icon.sa-"+a.type),D(k));var o=w();switch(a.type){case"success":z(k,"animate"),z(k.querySelector(".sa-tip"),"animateSuccessTip"),z(k.querySelector(".sa-long"),"animateSuccessLong");break;case"error":z(k,"animateErrorIcon"),z(k.querySelector(".sa-x-mark"),"animateXMark");break;case"warning":z(k,"pulseWarning"),z(k.querySelector(".sa-body"),"pulseWarningIns"),z(k.querySelector(".sa-dot"),"pulseWarningIns");break;case"input":case"prompt":o.setAttribute("type",a.inputType),z(b,"show-input"),setTimeout(function(){o.focus(),o.addEventListener("keyup",s.resetInputError)},400)}}if(a.imageUrl){var p=b.querySelector(".sa-icon.sa-custom");p.style.backgroundImage="url("+a.imageUrl+")",D(p);var q=80,r=80;if(a.imageSize){var u=a.imageSize.toString().split("x"),x=u[0],y=u[1];x&&y?(q=x,r=y):n("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+a.imageSize)}p.setAttribute("style",p.getAttribute("style")+"width:"+q+"px; height:"+r+"px")}b.setAttribute("data-has-cancel-button",a.showCancelButton),a.showCancelButton?e.style.display="inline-block":F(e),b.setAttribute("data-has-confirm-button",a.showConfirmButton),a.showConfirmButton?f.style.display="inline-block":F(f),a.cancelButtonText&&(e.innerHTML=B(a.cancelButtonText)),a.confirmButtonText&&(f.innerHTML=B(a.confirmButtonText)),a.confirmButtonColor&&(f.style.backgroundColor=a.confirmButtonColor,i(f,a.confirmButtonColor)),b.setAttribute("data-allow-ouside-click",a.allowOutsideClick);var C=!!a.doneFunction;b.setAttribute("data-has-done-function",C),a.animation?"string"==typeof a.animation?b.setAttribute("data-animation",a.animation):b.setAttribute("data-animation","pop"):b.setAttribute("data-animation","none"),b.setAttribute("data-timer",a.timer)}function f(a,b){a=String(a).replace(/[^0-9a-f]/gi,""),a.length<6&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]),b=b||0;var c,d,e="#";for(d=0;3>d;d++)c=parseInt(a.substr(2*d,2),16),c=Math.round(Math.min(Math.max(0,c+c*b),255)).toString(16),e+=("00"+c).substr(c.length);return e}function g(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function h(a){var b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return b?parseInt(b[1],16)+", "+parseInt(b[2],16)+", "+parseInt(b[3],16):null}function i(a,b){var c=h(b);a.style.boxShadow="0 0 2px rgba("+c+", 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)"}function j(){var a=v();I(x(),10),D(a),z(a,"showSweetAlert"),A(a,"hideSweetAlert"),o=c.activeElement,a.querySelector("button.confirm").focus(),setTimeout(function(){z(a,"visible")},500);var b=a.getAttribute("data-timer");"null"!==b&&""!==b&&(a.timeout=setTimeout(function(){r.close()},b))}function k(){var a=v(),b=w();A(a,"show-input"),b.value="",b.setAttribute("type",u.inputType),s.resetInputError()}function l(){v().style.marginTop=H(v())}function m(){return!(!a.attachEvent||a.addEventListener)}function n(b){a.console&&a.console.log("SweetAlert: "+b)}var o,p,q,r,s,t=["error","warning","info","success","input","prompt"],u={title:"",text:"",type:null,allowOutsideClick:!1,showConfirmButton:!0,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonColor:"#AEDEF4",cancelButtonText:"Cancel",imageUrl:null,imageSize:null,timer:null,customClass:"",html:!1,animation:!0,allowEscapeKey:!0,inputType:"text"},v=function N(){var a=c.querySelector(".sweet-alert");return a||(M(),a=N()),a},w=function(){var a=v();return a?a.querySelector("input"):void 0},x=function(){return c.querySelector(".sweet-overlay")},y=function(a,b){return new RegExp(" "+b+" ").test(" "+a.className+" ")},z=function(a,b){y(a,b)||(a.className+=" "+b)},A=function(a,b){var c=" "+a.className.replace(/[\t\r\n]/g," ")+" ";if(y(a,b)){for(;c.indexOf(" "+b+" ")>=0;)c=c.replace(" "+b+" "," ");a.className=c.replace(/^\s+|\s+$/g,"")}},B=function(a){var b=c.createElement("div");return b.appendChild(c.createTextNode(a)),b.innerHTML},C=function(a){a.style.opacity="",a.style.display="block"},D=function(a){if(a&&!a.length)return C(a);for(var b=0;b<a.length;++b)C(a[b])},E=function(a){a.style.opacity="",a.style.display="none"},F=function(a){if(a&&!a.length)return E(a);for(var b=0;b<a.length;++b)E(a[b])},G=function(a,b){for(var c=b.parentNode;null!==c;){if(c===a)return!0;c=c.parentNode}return!1},H=function(a){a.style.left="-9999px",a.style.display="block";var b,c=a.clientHeight;return b="undefined"!=typeof getComputedStyle?parseInt(getComputedStyle(a).getPropertyValue("padding-top"),10):parseInt(a.currentStyle.padding),a.style.left="",a.style.display="none","-"+parseInt((c+b)/2)+"px"},I=function(a,b){if(+a.style.opacity<1){b=b||16,a.style.opacity=0,a.style.display="block";var c=+new Date;!function d(){a.style.opacity=+a.style.opacity+(new Date-c)/100,c=+new Date,+a.style.opacity<1&&setTimeout(d,b)}()}a.style.display="block"},J=function(a,b){b=b||16,a.style.opacity=1;var c=+new Date;!function d(){a.style.opacity=+a.style.opacity-(new Date-c)/100,c=+new Date,+a.style.opacity>0?setTimeout(d,b):a.style.display="none"}()},K=function(b){if("function"==typeof MouseEvent){var d=new MouseEvent("click",{view:a,bubbles:!1,cancelable:!0});b.dispatchEvent(d)}else if(c.createEvent){var e=c.createEvent("MouseEvents");e.initEvent("click",!1,!1),b.dispatchEvent(e)}else c.createEventObject?b.fireEvent("onclick"):"function"==typeof b.onclick&&b.onclick()},L=function(b){"function"==typeof b.stopPropagation?(b.stopPropagation(),b.preventDefault()):a.event&&a.event.hasOwnProperty("cancelBubble")&&(a.event.cancelBubble=!0)},M=function(){var a=c.createElement("div");for(a.innerHTML='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert"><div class="sa-icon sa-error"><span class="sa-x-mark"><span class="sa-line sa-left"></span><span class="sa-line sa-right"></span></span></div><div class="sa-icon sa-warning"> <span class="sa-body"></span> <span class="sa-dot"></span> </div> <div class="sa-icon sa-info"></div> <div class="sa-icon sa-success"> <span class="sa-line sa-tip"></span> <span class="sa-line sa-long"></span> <div class="sa-placeholder"></div> <div class="sa-fix"></div> </div> <div class="sa-icon sa-custom"></div> <h2>Title</h2><p>Text</p><fieldset><input type="text" tabIndex="3" /><div class="sa-input-error"></div></fieldset> <div class="sa-error-container"><div class="icon">!</div> <p>Not valid!</p></div> <button class="cancel" tabIndex="2">Cancel</button><button class="confirm" tabIndex="1">OK</button></div>';a.firstChild;)c.body.appendChild(a.firstChild)};r=s=function(){function b(a){var b=s;return void 0!==b[a]?b[a]:u[a]}function h(){var a=!0;y(D,"show-input")&&((a=D.querySelector("input").value)||(a="")),t.doneFunction(a),t.closeOnConfirm&&r.close()}function m(){var a=String(t.doneFunction).replace(/\s/g,"");"function("===a.substring(0,9)&&")"!==a.substring(9,10)&&t.doneFunction(!1),t.closeOnCancel&&r.close()}function o(b){var c=b||a.event,e=c.keyCode||c.which;if(-1!==[9,13,32,27].indexOf(e)){for(var f=c.target||c.srcElement,g=-1,h=0;h<M.length;h++)if(f===M[h]){g=h;break}9===e?(f=-1===g?I:g===M.length-1?M[0]:M[g+1],L(c),f.focus(),t.confirmButtonColor&&i(f,t.confirmButtonColor)):13===e?("INPUT"===f.tagName&&(f=I,I.focus()),f=-1===g?I:d):27===e&&!0===t.allowEscapeKey?(f=J,K(f,c)):f=d}}var s=arguments[0];if(z(c.body,"stop-scrolling"),k(),arguments[0]===d)return n("SweetAlert expects at least 1 attribute!"),!1;var t=g({},u);switch(_typeof(arguments[0])){case"string":t.title=arguments[0],t.text=arguments[1]||"",t.type=arguments[2]||"";break;case"object":if(arguments[0].title===d)return n('Missing "title" argument!'),!1;t.title=arguments[0].title;for(var w=["text","type","customClass","allowOutsideClick","showConfirmButton","showCancelButton","closeOnConfirm","closeOnCancel","timer","confirmButtonColor","cancelButtonText","imageUrl","imageSize","html","animation","allowEscapeKey","inputType"],A=w.length,B=0;A>B;B++){var C=w[B];t[C]=b(C)}t.confirmButtonText=t.showCancelButton?"Confirm":u.confirmButtonText,t.confirmButtonText=b("confirmButtonText"),t.doneFunction=arguments[1]||null;break;default:return n('Unexpected type of argument! Expected "string" or "object", got '+_typeof(arguments[0])),!1}e(t),l(),j();for(var D=v(),E=function(b){var c=b||a.event,d=c.target||c.srcElement,e=-1!==d.className.indexOf("confirm"),g=-1!==d.className.indexOf("sweet-overlay"),i=y(D,"visible"),j=t.doneFunction&&"true"===D.getAttribute("data-has-done-function");switch(c.type){case"mouseover":e&&t.confirmButtonColor&&(d.style.backgroundColor=f(t.confirmButtonColor,-.04));break;case"mouseout":e&&t.confirmButtonColor&&(d.style.backgroundColor=t.confirmButtonColor);break;case"mousedown":e&&t.confirmButtonColor&&(d.style.backgroundColor=f(t.confirmButtonColor,-.14));break;case"mouseup":e&&t.confirmButtonColor&&(d.style.backgroundColor=f(t.confirmButtonColor,-.04));break;case"focus":var k=D.querySelector("button.confirm"),l=D.querySelector("button.cancel");e?l.style.boxShadow="none":k.style.boxShadow="none";break;case"click":e&&j&&i?h():j&&i||g?m():G(D,d)&&"BUTTON"===d.tagName&&r.close()}},F=D.querySelectorAll("button"),H=0;H<F.length;H++)F[H].onclick=E,F[H].onmouseover=E,F[H].onmouseout=E,F[H].onmousedown=E,F[H].onmouseup=E,F[H].onfocus=E;x().onclick=E;var I=D.querySelector("button.confirm"),J=D.querySelector("button.cancel"),M=D.querySelectorAll("button[tabindex]");p=a.onkeydown,a.onkeydown=o,a.onfocus=function(){a.setTimeout(function(){q!==d&&(q.focus(),q=d)},0)}},r.setDefaults=s.setDefaults=function(a){if(!a)throw new Error("userParams is required");if("object"!==(void 0===a?"undefined":_typeof(a)))throw new Error("userParams has to be a object");g(u,a)},r.close=s.close=function(){var b=v();J(x(),5),J(b,5),A(b,"showSweetAlert"),z(b,"hideSweetAlert"),A(b,"visible");var e=b.querySelector(".sa-icon.sa-success");A(e,"animate"),A(e.querySelector(".sa-tip"),"animateSuccessTip"),A(e.querySelector(".sa-long"),"animateSuccessLong");var f=b.querySelector(".sa-icon.sa-error");A(f,"animateErrorIcon"),A(f.querySelector(".sa-x-mark"),"animateXMark");var g=b.querySelector(".sa-icon.sa-warning");A(g,"pulseWarning"),A(g.querySelector(".sa-body"),"pulseWarningIns"),A(g.querySelector(".sa-dot"),"pulseWarningIns"),A(c.body,"stop-scrolling"),a.onkeydown=p,o&&o.focus(),q=d,clearTimeout(b.timeout)},r.showInputError=s.showInputError=function(a){var b=v(),c=b.querySelector(".sa-input-error");z(c,"show");var d=b.querySelector(".sa-error-container");z(d,"show"),d.querySelector("p").innerHTML=a,b.querySelector("input").focus()},r.resetInputError=s.resetInputError=function(a){if(a&&13===a.keyCode)return!1;var b=v(),c=b.querySelector(".sa-input-error");A(c,"show");var d=b.querySelector(".sa-error-container");A(d,"show")},"function"==typeof define&&define.amd?define(function(){return r}):void 0!==b&&b.exports?b.exports=r:void 0!==a&&(a.sweetAlert=a.swal=r)}(window,document)},{}],21:[function(a,b,c){!function(){"use strict";var a={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(b){switch(b.which){case a.COMMAND:case a.SHIFT:case a.CTRL:case a.ALT:return!0}return!!(b.metaKey||b.ctrlKey||b.altKey)},isFunctionKey:function(a){return(a=a.which?a.which:a)>=112&&123>=a},isVerticalMovement:function(b){return~[a.UP,a.DOWN].indexOf(b)},isHorizontalMovement:function(b){return~[a.LEFT,a.RIGHT,a.BACKSPACE,a.DELETE].indexOf(b)},toSeparator:function(b){var c={ENTER:"\n",TAB:"	",SPACE:" "}[b];return c||(a[b]?void 0:b)}};void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(a){return angular.element(this[0].querySelectorAll(a))}),void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(a){for(var b=this[0],c=b.matches||b.webkitMatchesSelector||b.mozMatchesSelector||b.msMatchesSelector;b;){if(c.bind(b)(a))return b;b=b.parentElement}return!1});var b=0,c=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,skipFocusser:!1,dropdownPosition:"auto",generateId:function(){return b++},appendToBody:!1}).service("uiSelectMinErr",function(){var a=angular.$$minErr("ui.select");return function(){var b=a.apply(this,arguments),c=b.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(c)}}).directive("uisTranscludeAppend",function(){return{link:function(a,b,c,d,e){e(a,function(a){b.append(a)})}}}).filter("highlight",function(){function a(a){return(""+a).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(b,c){return c&&b?(""+b).replace(new RegExp(a(c),"gi"),'<span class="ui-select-highlight">$&</span>'):b}}).factory("uisOffset",["$document","$window",function(a,b){return function(c){var d=c[0].getBoundingClientRect();return{width:d.width||c.prop("offsetWidth"),height:d.height||c.prop("offsetHeight"),top:d.top+(b.pageYOffset||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].documentElement.scrollLeft)}}}]);c.factory("$$uisDebounce",["$timeout",function(a){return function(b,c){var d;return function(){var e=this,f=Array.prototype.slice.call(arguments);d&&a.cancel(d),d=a(function(){b.apply(e,f)},c)}}}]),c.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile","$window",function(a,b,c,d,e){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(b){return b.addClass("ui-select-choices"),(b.parent().attr("theme")||a.theme)+"/choices.tpl.html"},compile:function(d,f){if(!f.repeat)throw c("repeat","Expected 'repeat' expression.");var g=f.groupBy,h=f.groupFilter;if(g){var i=d.querySelectorAll(".ui-select-choices-group");if(1!==i.length)throw c("rows","Expected 1 .ui-select-choices-group but got '{0}'.",i.length);i.attr("ng-repeat",b.getGroupNgRepeatExpression())}var j=b.parse(f.repeat),k=d.querySelectorAll(".ui-select-choices-row");if(1!==k.length)throw c("rows","Expected 1 .ui-select-choices-row but got '{0}'.",k.length);k.attr("ng-repeat",j.repeatExpression(g)).attr("ng-if","$select.open");var l=d.querySelectorAll(".ui-select-choices-row-inner");if(1!==l.length)throw c("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",l.length);return l.attr("uis-transclude-append",""),(e.document.addEventListener?k:l).attr("ng-click","$select.select("+j.itemName+",$select.skipFocusser,$event)"),function(b,c,d,e){e.parseRepeatAttr(d.repeat,g,h),e.disableChoiceExpression=d.uiDisableChoice,e.onHighlightCallback=d.onHighlight,e.dropdownPosition=d.position?d.position.toLowerCase():a.dropdownPosition,b.$on("$destroy",function(){k.remove()}),b.$watch("$select.search",function(a){a&&!e.open&&e.multiple&&e.activate(!1,!0),e.activeIndex=e.tagging.isActivated?-1:0,!d.minimumInputLength||e.search.length>=d.minimumInputLength?e.refresh(d.refresh):e.items=[]}),d.$observe("refreshDelay",function(){var c=b.$eval(d.refreshDelay);e.refreshDelay=void 0!==c?c:a.refreshDelay})}}}}]),c.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","$$uisDebounce","uisRepeatParser","uiSelectMinErr","uiSelectConfig","$parse","$injector","$window",function(b,c,d,e,f,g,h,i,j,k,l){function m(a,b,c){if(a.findIndex)return a.findIndex(b,c);for(var d,e=Object(a),f=e.length>>>0,g=0;f>g;g++)if(d=e[g],b.call(c,d,g,e))return g;return-1}function n(){(r.resetSearchInput||void 0===r.resetSearchInput&&i.resetSearchInput)&&(r.search=s,r.selected&&r.items.length&&!r.multiple&&(r.activeIndex=m(r.items,function(a){return angular.equals(this,a)},r.selected)))}function o(a,b){var c,d,e=[];for(c=0;c<b.length;c++)for(d=0;d<a.length;d++)a[d].name==[b[c]]&&e.push(a[d]);return e}function p(b){var c=!0;switch(b){case a.DOWN:!r.open&&r.multiple?r.activate(!1,!0):r.activeIndex<r.items.length-1&&r.activeIndex++;break;case a.UP:!r.open&&r.multiple?r.activate(!1,!0):(r.activeIndex>0||0===r.search.length&&r.tagging.isActivated&&r.activeIndex>-1)&&r.activeIndex--;break;case a.TAB:r.multiple&&!r.open||r.select(r.items[r.activeIndex],!0);break;case a.ENTER:r.open&&(r.tagging.isActivated||r.activeIndex>=0)?r.select(r.items[r.activeIndex],r.skipFocusser):r.activate(!1,!0);break;case a.ESC:r.close();break;default:c=!1}return c}function q(){var a=c.querySelectorAll(".ui-select-choices-content"),b=a.querySelectorAll(".ui-select-choices-row");if(b.length<1)throw h("choices","Expected multiple .ui-select-choices-row but got '{0}'.",b.length);if(!(r.activeIndex<0)){var d=b[r.activeIndex],e=d.offsetTop+d.clientHeight-a[0].scrollTop,f=a[0].offsetHeight;e>f?a[0].scrollTop+=e-f:e<d.clientHeight&&(r.isGrouped&&0===r.activeIndex?a[0].scrollTop=0:a[0].scrollTop-=d.clientHeight-e)}}var r=this,s="";if(r.placeholder=i.placeholder,r.searchEnabled=i.searchEnabled,r.sortable=i.sortable,r.refreshDelay=i.refreshDelay,r.paste=i.paste,r.removeSelected=!1,r.closeOnSelect=!0,r.skipFocusser=!1,r.search=s,r.activeIndex=0,r.items=[],r.open=!1,r.focus=!1,r.disabled=!1,r.selected=void 0,r.dropdownPosition="auto",r.focusser=void 0,r.resetSearchInput=!0,r.multiple=void 0,r.disableChoiceExpression=void 0,r.tagging={isActivated:!1,fct:void 0},r.taggingTokens={isActivated:!1,tokens:void 0},r.lockChoiceExpression=void 0,r.clickTriggeredSelect=!1,r.$filter=e,r.$element=c,r.$animate=function(){try{return k.get("$animate")}catch(a){return null}}(),r.searchInput=c.querySelectorAll("input.ui-select-search"),1!==r.searchInput.length)throw h("searchInput","Expected 1 input.ui-select-search but got '{0}'.",r.searchInput.length);r.isEmpty=function(){return angular.isUndefined(r.selected)||null===r.selected||""===r.selected||r.multiple&&0===r.selected.length},r.activate=function(a,e){if(!r.disabled&&!r.open){e||n(),b.$broadcast("uis:activate"),r.open=!0,r.activeIndex=r.activeIndex>=r.items.length?0:r.activeIndex,-1===r.activeIndex&&!1!==r.taggingLabel&&(r.activeIndex=0);var f=c.querySelectorAll(".ui-select-choices-content"),g=c.querySelectorAll(".ui-select-search");if(r.$animate&&r.$animate.enabled(f[0])){var h=function i(b,c){"start"===c&&0===r.items.length?(r.$animate.off("removeClass",g[0],i),d(function(){r.focusSearchInput(a)})):"close"===c&&(r.$animate.off("enter",f[0],i),d(function(){r.focusSearchInput(a)}))};r.items.length>0?r.$animate.on("enter",f[0],h):r.$animate.on("removeClass",g[0],h)}else d(function(){r.focusSearchInput(a),!r.tagging.isActivated&&r.items.length>1&&q()})}},r.focusSearchInput=function(a){r.search=a||r.search,r.searchInput[0].focus()},r.findGroupByName=function(a){return r.groups&&r.groups.filter(function(b){return b.name===a})[0]},r.parseRepeatAttr=function(a,c,d){function e(a){var e=b.$eval(c);if(r.groups=[],angular.forEach(a,function(a){var b=angular.isFunction(e)?e(a):a[e],c=r.findGroupByName(b);c?c.items.push(a):r.groups.push({name:b,items:[a]})}),d){var f=b.$eval(d);angular.isFunction(f)?r.groups=f(r.groups):angular.isArray(f)&&(r.groups=o(r.groups,f))}r.items=[],r.groups.forEach(function(a){r.items=r.items.concat(a.items)})}function f(a){r.items=a}r.setItemsFn=c?e:f,r.parserResult=g.parse(a),r.isGrouped=!!c,r.itemProperty=r.parserResult.itemName;var i=r.parserResult.source,k=function(){var a=i(b);b.$uisSource=Object.keys(a).map(function(b){var c={};return c[r.parserResult.keyName]=b,c.value=a[b],c})};r.parserResult.keyName&&(k(),r.parserResult.source=j("$uisSource"+r.parserResult.filters),b.$watch(i,function(a,b){a!==b&&k()},!0)),r.refreshItems=function(a){a=a||r.parserResult.source(b);var c=r.selected;if(r.isEmpty()||angular.isArray(c)&&!c.length||!r.removeSelected)r.setItemsFn(a);else if(void 0!==a){var d=a.filter(function(a){return c.every(function(b){return!angular.equals(a,b)})});r.setItemsFn(d)}"auto"!==r.dropdownPosition&&"up"!==r.dropdownPosition||b.calculateDropdownPos()},b.$watchCollection(r.parserResult.source,function(a){if(void 0===a||null===a)r.items=[];else{if(!angular.isArray(a))throw h("items","Expected an array but got '{0}'.",a);r.refreshItems(a),angular.isDefined(r.ngModel.$modelValue)&&(r.ngModel.$modelValue=null)}})};var t;r.refresh=function(a){void 0!==a&&(t&&d.cancel(t),t=d(function(){b.$eval(a)},r.refreshDelay))},r.isActive=function(a){if(!r.open)return!1;var b=r.items.indexOf(a[r.itemProperty]),c=b==r.activeIndex;return!(!c||0>b)&&(c&&!angular.isUndefined(r.onHighlightCallback)&&a.$eval(r.onHighlightCallback),c)},r.isDisabled=function(a){if(r.open){var b,c=r.items.indexOf(a[r.itemProperty]),d=!1;return c>=0&&!angular.isUndefined(r.disableChoiceExpression)&&(b=r.items[c],d=!!a.$eval(r.disableChoiceExpression),b._uiSelectChoiceDisabled=d),d}},r.select=function(a,c,e){if(void 0===a||!a._uiSelectChoiceDisabled){if(!r.items&&!r.search&&!r.tagging.isActivated)return;if(!a||!a._uiSelectChoiceDisabled){if(r.tagging.isActivated){if(!1===r.taggingLabel)if(r.activeIndex<0){if(!(a=void 0!==r.tagging.fct?r.tagging.fct(r.search):r.search)||angular.equals(r.items[0],a))return}else a=r.items[r.activeIndex];else if(0===r.activeIndex){if(void 0===a)return;if(void 0!==r.tagging.fct&&"string"==typeof a){if(!(a=r.tagging.fct(a)))return}else"string"==typeof a&&(a=a.replace(r.taggingLabel,"").trim())}if(r.selected&&angular.isArray(r.selected)&&r.selected.filter(function(b){return angular.equals(b,a)}).length>0)return void r.close(c)}b.$broadcast("uis:select",a);var f={};f[r.parserResult.itemName]=a,d(function(){r.onSelectCallback(b,{$item:a,$model:r.parserResult.modelMapper(b,f)})}),r.closeOnSelect&&r.close(c),e&&"click"===e.type&&(r.clickTriggeredSelect=!0)}}},r.close=function(a){r.open&&(r.ngModel&&r.ngModel.$setTouched&&r.ngModel.$setTouched(),n(),r.open=!1,b.$broadcast("uis:close",a))},r.setFocus=function(){r.focus||r.focusInput[0].focus()},r.clear=function(a){r.select(void 0),a.stopPropagation(),d(function(){r.focusser[0].focus()},0,!1)},r.toggle=function(a){r.open?(r.close(),a.preventDefault(),a.stopPropagation()):r.activate()},r.isLocked=function(a,b){var c,d=r.selected[b];return d&&!angular.isUndefined(r.lockChoiceExpression)&&(c=!!a.$eval(r.lockChoiceExpression),d._uiSelectChoiceLocked=c),c};var u=null,v=!1;r.sizeSearchInput=function(){var a=r.searchInput[0],c=r.searchInput.parent().parent()[0],e=function(){return c.clientWidth*!!a.offsetParent},f=function(b){if(0===b)return!1;var c=b-a.offsetLeft-10;return 50>c&&(c=b),r.searchInput.css("width",c+"px"),!0};r.searchInput.css("width","10px"),d(function(){null!==u||f(e())||(u=b.$watch(angular.noop,function(){v||(v=!0,b.$$postDigest(function(){v=!1,f(e())&&(u(),u=null)}))}))})},r.searchInput.on("keydown",function(c){var e=c.which;~[a.ENTER,a.ESC].indexOf(e)&&(c.preventDefault(),c.stopPropagation()),b.$apply(function(){var b=!1;if((r.items.length>0||r.tagging.isActivated)&&(p(e),r.taggingTokens.isActivated)){for(var f=0;f<r.taggingTokens.tokens.length;f++)r.taggingTokens.tokens[f]===a.MAP[c.keyCode]&&r.search.length>0&&(b=!0);b&&d(function(){r.searchInput.triggerHandler("tagged");var b=r.search.replace(a.MAP[c.keyCode],"").trim();r.tagging.fct&&(b=r.tagging.fct(b)),b&&r.select(b,!0)})}}),a.isVerticalMovement(e)&&r.items.length>0&&q(),e!==a.ENTER&&e!==a.ESC||(c.preventDefault(),c.stopPropagation())}),r.searchInput.on("paste",function(b){var c;if(c=window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):(b.originalEvent||b).clipboardData.getData("text/plain"),(c=r.search+c)&&c.length>0)if(r.taggingTokens.isActivated){for(var d=[],e=0;e<r.taggingTokens.tokens.length;e++){var f=a.toSeparator(r.taggingTokens.tokens[e])||r.taggingTokens.tokens[e];if(c.indexOf(f)>-1){d=c.split(f);break}}if(0===d.length&&(d=[c]),d.length>0){var g=r.search;angular.forEach(d,function(a){var b=r.tagging.fct?r.tagging.fct(a):a;b&&r.select(b,!0)}),r.search=g||s,b.preventDefault(),b.stopPropagation()}}else r.paste&&(r.paste(c),r.search=s,b.preventDefault(),b.stopPropagation())}),r.searchInput.on("tagged",function(){d(function(){n()})});var w=f(function(){r.sizeSearchInput()},50);angular.element(l).bind("resize",w),b.$on("$destroy",function(){r.searchInput.off("keyup keydown tagged blur paste"),angular.element(l).off("resize",w)})}]),c.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function(a,b,c,d,e,f,g){return{restrict:"EA",templateUrl:function(a,c){return(c.theme||b.theme)+(angular.isDefined(c.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(e,h){var i=/{(.*)}\s*{(.*)}/.exec(h.ngClass);if(i){var j="{"+i[1]+", "+i[2]+"}";h.ngClass=j,e.attr("ng-class",j)}return angular.isDefined(h.multiple)?e.append("<ui-select-multiple/>").removeAttr("multiple"):e.append("<ui-select-single/>"),h.inputId&&(e.querySelectorAll("input.ui-select-search")[0].id=h.inputId),function(e,h,i,j,k){function l(a){if(o.open){if(!(window.jQuery?window.jQuery.contains(h[0],a.target):h[0].contains(a.target))&&!o.clickTriggeredSelect){var b;if(o.skipFocusser)b=!0;else{var c=["input","button","textarea","select"],d=angular.element(a.target).controller("uiSelect");b=d&&d!==o,b||(b=~c.indexOf(a.target.tagName.toLowerCase()))}o.close(b),e.$digest()}o.clickTriggeredSelect=!1}}function m(){var b=d(h);r=angular.element('<div class="ui-select-placeholder"></div>'),r[0].style.width=b.width+"px",r[0].style.height=b.height+"px",h.after(r),s=h[0].style.width,a.find("body").append(h),h[0].style.position="absolute",h[0].style.left=b.left+"px",h[0].style.top=b.top+"px",h[0].style.width=b.width+"px"}function n(){null!==r&&(r.replaceWith(h),r=null,h[0].style.position="",h[0].style.left="",h[0].style.top="",h[0].style.width=s,o.setFocus())}var o=j[0],p=j[1];o.generatedId=b.generateId(),o.baseTitle=i.title||"Select box",o.focusserTitle=o.baseTitle+" focus",o.focusserId="focusser-"+o.generatedId,o.closeOnSelect=function(){return angular.isDefined(i.closeOnSelect)?f(i.closeOnSelect)():b.closeOnSelect}(),e.$watch("skipFocusser",function(){var a=e.$eval(i.skipFocusser);o.skipFocusser=void 0!==a?a:b.skipFocusser}),o.onSelectCallback=f(i.onSelect),o.onRemoveCallback=f(i.onRemove),o.limit=angular.isDefined(i.limit)?parseInt(i.limit,10):void 0,o.ngModel=p,o.choiceGrouped=function(a){return o.isGrouped&&a&&a.name},i.tabindex&&i.$observe("tabindex",function(a){o.focusInput.attr("tabindex",a),h.removeAttr("tabindex")}),e.$watch("searchEnabled",function(){var a=e.$eval(i.searchEnabled);o.searchEnabled=void 0!==a?a:b.searchEnabled}),e.$watch("sortable",function(){var a=e.$eval(i.sortable);o.sortable=void 0!==a?a:b.sortable}),i.$observe("disabled",function(){o.disabled=void 0!==i.disabled&&i.disabled}),i.$observe("resetSearchInput",function(){var a=e.$eval(i.resetSearchInput);o.resetSearchInput=void 0===a||a}),i.$observe("paste",function(){o.paste=e.$eval(i.paste)}),i.$observe("tagging",function(){if(void 0!==i.tagging){var a=e.$eval(i.tagging);o.tagging={isActivated:!0,fct:!0!==a?a:void 0}}else o.tagging={isActivated:!1,fct:void 0}}),i.$observe("taggingLabel",function(){void 0!==i.tagging&&("false"===i.taggingLabel?o.taggingLabel=!1:o.taggingLabel=void 0!==i.taggingLabel?i.taggingLabel:"(new)");
}),i.$observe("taggingTokens",function(){if(void 0!==i.tagging){var a=void 0!==i.taggingTokens?i.taggingTokens.split("|"):[",","ENTER"];o.taggingTokens={isActivated:!0,tokens:a}}}),angular.isDefined(i.autofocus)&&g(function(){o.setFocus()}),angular.isDefined(i.focusOn)&&e.$on(i.focusOn,function(){g(function(){o.setFocus()})}),a.on("click",l),e.$on("$destroy",function(){a.off("click",l)}),k(e,function(a){var b=angular.element("<div>").append(a),d=b.querySelectorAll(".ui-select-match");if(d.removeAttr("ui-select-match"),d.removeAttr("data-ui-select-match"),1!==d.length)throw c("transcluded","Expected 1 .ui-select-match but got '{0}'.",d.length);h.querySelectorAll(".ui-select-match").replaceWith(d);var e=b.querySelectorAll(".ui-select-choices");if(e.removeAttr("ui-select-choices"),e.removeAttr("data-ui-select-choices"),1!==e.length)throw c("transcluded","Expected 1 .ui-select-choices but got '{0}'.",e.length);h.querySelectorAll(".ui-select-choices").replaceWith(e);var f=b.querySelectorAll(".ui-select-no-choice");f.removeAttr("ui-select-no-choice"),f.removeAttr("data-ui-select-no-choice"),1==f.length&&h.querySelectorAll(".ui-select-no-choice").replaceWith(f)});var q=e.$eval(i.appendToBody);(void 0!==q?q:b.appendToBody)&&(e.$watch("$select.open",function(a){a?m():n()}),e.$on("$destroy",function(){n()}));var r=null,s="",t=null;e.$watch("$select.open",function(){"auto"!==o.dropdownPosition&&"up"!==o.dropdownPosition||e.calculateDropdownPos()});var u=function(a,b){a=a||d(h),b=b||d(t),t[0].style.position="absolute",t[0].style.top=-1*b.height+"px",h.addClass("direction-up")},v=function(a,b){h.removeClass("direction-up"),a=a||d(h),b=b||d(t),t[0].style.position="",t[0].style.top=""};e.calculateDropdownPos=function(){if(o.open){if(t=angular.element(h).querySelectorAll(".ui-select-dropdown"),0===t.length)return;t[0].style.opacity=0,g(function(){if("up"===o.dropdownPosition)u();else{h.removeClass("direction-up");var b=d(h),c=d(t),e=a[0].documentElement.scrollTop||a[0].body.scrollTop;b.top+b.height+c.height>e+a[0].documentElement.clientHeight?u(b,c):v(b,c)}t[0].style.opacity=1})}else{if(null===t||0===t.length)return;t[0].style.position="",t[0].style.top="",h.removeClass("direction-up")}}}}}}]),c.directive("uiSelectMatch",["uiSelectConfig",function(a){function b(a,b){return a[0].hasAttribute(b)?a.attr(b):a[0].hasAttribute("data-"+b)?a.attr("data-"+b):a[0].hasAttribute("x-"+b)?a.attr("x-"+b):void 0}return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(c){c.addClass("ui-select-match");var d=c.parent();return(b(d,"theme")||a.theme)+(angular.isDefined(b(d,"multiple"))?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(b,c,d,e){function f(a){e.allowClear=!!angular.isDefined(a)&&(""===a||"true"===a.toLowerCase())}e.lockChoiceExpression=d.uiLockChoice,d.$observe("placeholder",function(b){e.placeholder=void 0!==b?b:a.placeholder}),d.$observe("allowClear",f),f(d.allowClear),e.multiple&&e.sizeSearchInput()}}}]),c.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(b,c){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function(a,b){var c,d=this,e=a.$select;angular.isUndefined(e.selected)&&(e.selected=[]),a.$evalAsync(function(){c=a.ngModel}),d.activeMatchIndex=-1,d.updateModel=function(){c.$setViewValue(Date.now()),d.refreshComponent()},d.refreshComponent=function(){e.refreshItems(),e.sizeSearchInput()},d.removeChoice=function(c){var f=e.selected[c];if(!f._uiSelectChoiceLocked){var g={};g[e.parserResult.itemName]=f,e.selected.splice(c,1),d.activeMatchIndex=-1,e.sizeSearchInput(),b(function(){e.onRemoveCallback(a,{$item:f,$model:e.parserResult.modelMapper(a,g)})}),d.updateModel()}},d.getPlaceholder=function(){return e.selected&&e.selected.length?void 0:e.placeholder}}],controllerAs:"$selectMultiple",link:function(d,e,f,g){function h(a){return angular.isNumber(a.selectionStart)?a.selectionStart:a.value.length}function i(b){var c=h(l.searchInput[0]),d=l.selected.length,e=d-1,f=n.activeMatchIndex,g=n.activeMatchIndex+1,i=n.activeMatchIndex-1,j=f;return!(c>0||l.search.length&&b==a.RIGHT||(l.close(),j=function(){switch(b){case a.LEFT:return~n.activeMatchIndex?i:e;case a.RIGHT:return~n.activeMatchIndex&&f!==e?g:(l.activate(),!1);case a.BACKSPACE:return~n.activeMatchIndex?(n.removeChoice(f),i):e;case a.DELETE:return!!~n.activeMatchIndex&&(n.removeChoice(n.activeMatchIndex),f)}}(),l.selected.length&&!1!==j?n.activeMatchIndex=Math.min(e,Math.max(0,j)):n.activeMatchIndex=-1,0))}function j(a){return void 0!==a&&void 0!==l.search&&a.filter(function(a){return void 0!==l.search.toUpperCase()&&void 0!==a&&a.toUpperCase()===l.search.toUpperCase()}).length>0}function k(a,b){var c=-1;if(angular.isArray(a))for(var d=angular.copy(a),e=0;e<d.length;e++)if(void 0===l.tagging.fct)d[e]+" "+l.taggingLabel===b&&(c=e);else{var f=d[e];angular.isObject(f)&&(f.isTag=!0),angular.equals(f,b)&&(c=e)}return c}var l=g[0],m=d.ngModel=g[1],n=d.$selectMultiple;l.multiple=!0,l.removeSelected=!0,l.focusInput=l.searchInput,m.$isEmpty=function(a){return!a||0===a.length},m.$parsers.unshift(function(){for(var a,b={},c=[],e=l.selected.length-1;e>=0;e--)b={},b[l.parserResult.itemName]=l.selected[e],a=l.parserResult.modelMapper(d,b),c.unshift(a);return c}),m.$formatters.unshift(function(a){var b,c=l.parserResult&&l.parserResult.source(d,{$select:{search:""}}),e={};if(!c)return a;var f=[],g=function(a,c){if(a&&a.length){for(var g=a.length-1;g>=0;g--){if(e[l.parserResult.itemName]=a[g],b=l.parserResult.modelMapper(d,e),l.parserResult.trackByExp){var h=/(\w*)\./.exec(l.parserResult.trackByExp),i=/\.([^\s]+)/.exec(l.parserResult.trackByExp);if(h&&h.length>0&&h[1]==l.parserResult.itemName&&i&&i.length>0&&b[i[1]]==c[i[1]])return f.unshift(a[g]),!0}if(angular.equals(b,c))return f.unshift(a[g]),!0}return!1}};if(!a)return f;for(var h=a.length-1;h>=0;h--)g(l.selected,a[h])||g(c,a[h])||f.unshift(a[h]);return f}),d.$watchCollection(function(){return m.$modelValue},function(a,b){b!=a&&(angular.isDefined(m.$modelValue)&&(m.$modelValue=null),n.refreshComponent())}),m.$render=function(){if(!angular.isArray(m.$viewValue)){if(!angular.isUndefined(m.$viewValue)&&null!==m.$viewValue)throw b("multiarr","Expected model value to be array but got '{0}'",m.$viewValue);l.selected=[]}l.selected=m.$viewValue,n.refreshComponent(),d.$evalAsync()},d.$on("uis:select",function(a,b){l.selected.length>=l.limit||(l.selected.push(b),n.updateModel())}),d.$on("uis:activate",function(){n.activeMatchIndex=-1}),d.$watch("$select.disabled",function(a,b){b&&!a&&l.sizeSearchInput()}),l.searchInput.on("keydown",function(b){var c=b.which;d.$apply(function(){var d=!1;a.isHorizontalMovement(c)&&(d=i(c)),d&&c!=a.TAB&&(b.preventDefault(),b.stopPropagation())})}),l.searchInput.on("keyup",function(b){if(a.isVerticalMovement(b.which)||d.$evalAsync(function(){l.activeIndex=!1===l.taggingLabel?-1:0}),l.tagging.isActivated&&l.search.length>0){if(b.which===a.TAB||a.isControl(b)||a.isFunctionKey(b)||b.which===a.ESC||a.isVerticalMovement(b.which))return;if(l.activeIndex=!1===l.taggingLabel?-1:0,!1===l.taggingLabel)return;var c,e,f,g,h=angular.copy(l.items),i=angular.copy(l.items),m=!1,n=-1;if(void 0!==l.tagging.fct){if(f=l.$filter("filter")(h,{isTag:!0}),f.length>0&&(g=f[0]),h.length>0&&g&&(m=!0,h=h.slice(1,h.length),i=i.slice(1,i.length)),c=l.tagging.fct(l.search),i.some(function(a){return angular.equals(a,c)})||l.selected.some(function(a){return angular.equals(a,c)}))return void d.$evalAsync(function(){l.activeIndex=0,l.items=h});c&&(c.isTag=!0)}else{if(f=l.$filter("filter")(h,function(a){return a.match(l.taggingLabel)}),f.length>0&&(g=f[0]),e=h[0],void 0!==e&&h.length>0&&g&&(m=!0,h=h.slice(1,h.length),i=i.slice(1,i.length)),c=l.search+" "+l.taggingLabel,k(l.selected,l.search)>-1)return;if(j(i.concat(l.selected)))return void(m&&(h=i,d.$evalAsync(function(){l.activeIndex=0,l.items=h})));if(j(i))return void(m&&(l.items=i.slice(1,i.length)))}m&&(n=k(l.selected,c)),n>-1?h=h.slice(n+1,h.length-1):(h=[],c&&h.push(c),h=h.concat(i)),d.$evalAsync(function(){if(l.activeIndex=0,l.items=h,l.isGrouped){var a=c?h.slice(1):h;l.setItemsFn(a),c&&(l.items.unshift(c),l.groups.unshift({name:"",items:[c],tagging:!0}))}})}}),l.searchInput.on("blur",function(){c(function(){n.activeMatchIndex=-1})})}}}]),c.directive("uiSelectNoChoice",["uiSelectConfig",function(a){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(b){return(b.parent().attr("theme")||a.theme)+"/no-choice.tpl.html"}}}]),c.directive("uiSelectSingle",["$timeout","$compile",function(b,c){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(d,e,f,g){var h=g[0],i=g[1];i.$parsers.unshift(function(a){var b={};return b[h.parserResult.itemName]=a,h.parserResult.modelMapper(d,b)}),i.$formatters.unshift(function(a){var b,c=h.parserResult&&h.parserResult.source(d,{$select:{search:""}}),e={};if(c){var f=function(c){return e[h.parserResult.itemName]=c,(b=h.parserResult.modelMapper(d,e))===a};if(h.selected&&f(h.selected))return h.selected;for(var g=c.length-1;g>=0;g--)if(f(c[g]))return c[g]}return a}),d.$watch("$select.selected",function(a){i.$viewValue!==a&&i.$setViewValue(a)}),i.$render=function(){h.selected=i.$viewValue},d.$on("uis:select",function(a,b){h.selected=b}),d.$on("uis:close",function(a,c){b(function(){h.focusser.prop("disabled",!1),c||h.focusser[0].focus()},0,!1)}),d.$on("uis:activate",function(){j.prop("disabled",!0)});var j=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");c(j)(d),h.focusser=j,h.focusInput=j,e.parent().append(j),j.bind("focus",function(){d.$evalAsync(function(){h.focus=!0})}),j.bind("blur",function(){d.$evalAsync(function(){h.focus=!1})}),j.bind("keydown",function(b){return b.which===a.BACKSPACE?(b.preventDefault(),b.stopPropagation(),h.select(void 0),void d.$apply()):void(b.which===a.TAB||a.isControl(b)||a.isFunctionKey(b)||b.which===a.ESC||(b.which!=a.DOWN&&b.which!=a.UP&&b.which!=a.ENTER&&b.which!=a.SPACE||(b.preventDefault(),b.stopPropagation(),h.activate()),d.$digest()))}),j.bind("keyup input",function(b){b.which===a.TAB||a.isControl(b)||a.isFunctionKey(b)||b.which===a.ESC||b.which==a.ENTER||b.which===a.BACKSPACE||(h.activate(j.val()),j.val(""),d.$digest())})}}}]),c.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function(a,b,c){return{require:["^^uiSelect","^ngModel"],link:function(b,d,e,f){if(null===b[e.uiSelectSort])throw c("sort","Expected a list to sort");var g=f[0],h=f[1],i=angular.extend({axis:"horizontal"},b.$eval(e.uiSelectSortOptions)),j=i.axis;b.$watch(function(){return g.sortable},function(a){a?d.attr("draggable",!0):d.removeAttr("draggable")}),d.on("dragstart",function(a){d.addClass("dragging"),(a.dataTransfer||a.originalEvent.dataTransfer).setData("text",b.$index.toString())}),d.on("dragend",function(){m("dragging")});var k,l=function(a,b){this.splice(b,0,this.splice(a,1)[0])},m=function(a){angular.forEach(g.$element.querySelectorAll("."+a),function(b){angular.element(b).removeClass(a)})},n=function(a){a.preventDefault(),("vertical"===j?a.offsetY||a.layerY||(a.originalEvent?a.originalEvent.offsetY:0):a.offsetX||a.layerX||(a.originalEvent?a.originalEvent.offsetX:0))<this["vertical"===j?"offsetHeight":"offsetWidth"]/2?(m("dropping-after"),d.addClass("dropping-before")):(m("dropping-before"),d.addClass("dropping-after"))},o=function(b){b.preventDefault();var c=parseInt((b.dataTransfer||b.originalEvent.dataTransfer).getData("text"),10);a.cancel(k),k=a(function(){p(c)},20)},p=function(a){var c=b.$eval(e.uiSelectSort),f=c[a],g=null;g=d.hasClass("dropping-before")?a<b.$index?b.$index-1:b.$index:a<b.$index?b.$index:b.$index+1,l.apply(c,[a,g]),h.$setViewValue(Date.now()),b.$apply(function(){b.$emit("uiSelectSort:change",{array:c,item:f,from:a,to:g})}),m("dropping"),m("dropping-before"),m("dropping-after"),d.off("drop",o)};d.on("dragenter",function(){d.hasClass("dragging")||(d.addClass("dropping"),d.on("dragover",n),d.on("drop",o))}),d.on("dragleave",function(a){a.target==d&&(m("dropping"),m("dropping-before"),m("dropping-after"),d.off("dragover",n),d.off("drop",o))})}}}]),c.service("uisRepeatParser",["uiSelectMinErr","$parse",function(a,b){var c=this;c.parse=function(c){var d;if(!(d=c.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(\s*[\s\S]+?)?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/)))throw a("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",c);var e=d[5],f="";if(d[3]){e=d[5].replace(/(^\()|(\)$)/g,"");var g=d[5].match(/^\s*(?:[\s\S]+?)(?:[^\|]|\|\|)+([\s\S]*)\s*$/);g&&g[1].trim()&&(f=g[1],e=e.replace(f,""))}return{itemName:d[4]||d[2],keyName:d[3],source:b(e),filters:f,trackByExp:d[6],modelMapper:b(d[1]||d[4]||d[2]),repeatExpression:function(a){var b=this.itemName+" in "+(a?"$group.items":"$select.items");return this.trackByExp&&(b+=" track by "+this.trackByExp),b}}},c.getGroupNgRepeatExpression=function(){return"$group in $select.groups"}}])}(),angular.module("ui.select").run(["$templateCache",function(a){a.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" role="listbox" ng-show="$select.open && $select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><a href="" class="ui-select-choices-row-inner"></a></div></li></ul>'),a.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'),a.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open && $select.searchEnabled" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty() && ($select.disabled !== true)" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'),a.put("bootstrap/no-choice.tpl.html",'<ul class="ui-select-no-choice dropdown-menu" ng-show="$select.items.length == 0"><li ng-transclude=""></li></ul>'),a.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div></div>'),a.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.searchEnabled && $select.open"><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),a.put("select2/choices.tpl.html",'<ul tabindex="-1" class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'),a.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'),a.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'),a.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open || $select.items.length === 0}"><div class="ui-select-choices"></div></div></div>'),a.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="select2-search" ng-show="$select.searchEnabled"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div></div></div>'),a.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'),a.put("selectize/match.tpl.html",'<div ng-hide="$select.searchEnabled && ($select.open || $select.isEmpty())" class="ui-select-match" ng-transclude=""></div>'),a.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.searchEnabled || ($select.selected && !$select.open)" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div></div>')}])},{}],22:[function(a,b,c){"use strict";function d(a,b,c){var d=b.apiRoot;return{getProducts:function(){var b=d+"account/products"+c.current();return a.get(b)}}}d.$inject=["$http","InsightsConfig","AccountService"],a("./").factory("Account",d)},{"./":36}],23:[function(a,b,c){"use strict";function d(a,b){var c=b.apiRoot;return{get:function(){return a.get(c+"account/settings")},update:function(b){return a.post(c+"account/settings",b)}}}d.$inject=["$http","InsightsConfig"],a("./").factory("AccountSettings",d)},{"./":36}],24:[function(a,b,c){"use strict";function d(a,b,c,d,e){function g(){return a.get(h+"acks?include=rule"+d.current("&")).success(function(a){i.length=0,Array.prototype.push.apply(i,a),angular.extend(j,f(i,"rule_id"))})}var h=e.apiRoot,i=[],j={},k=!1;return c.$on("reload:data",g),{init:function(){k||(g(),k=!0)},acks:i,ackMap:j,createAck:function(c){var e=b.defer();return a.post(h+"acks"+d.current(),{rule_id:c.rule_id||c.id}).success(function(a){i.push(a),j[a.rule_id]=a,e.resolve(a)}),e.promise},deleteAck:function(b){return a["delete"](h+"acks/"+b.id+d.current()).success(function(){for(var a=i.length,c=0;a>c;c++)if(i[c].id===b.id)return i.splice(c,1),void delete j[b.rule_id]})},reload:g}}d.$inject=["$http","$q","$rootScope","AccountService","InsightsConfig"];var e=a("./"),f=a("lodash/keyBy");e.factory("Ack",d)},{"./":36,"lodash/keyBy":483}],25:[function(a,b,c){"use strict";function d(a,b){var c=b.apiRoot;return{reports:function(){return a.get(c+"analytics/reports")},systems:function(){return a.get(c+"analytics/systems")}}}d.$inject=["$http","InsightsConfig"],a("./").factory("Analytic",d)},{"./":36}],26:[function(a,b,c){"use strict";function d(a,b){var c=b.apiRoot,d={};return d.getAnnouncements=function(b){var d=f(c+"announcements");return b&&d.addSearch(b),a.get(d.toString())},d.byId=function(b){return a.get(c+"announcements/"+b)},d.bySlug=function(b){return a.get(c+"announcements/"+b)},d.createAnnouncement=function(b){return a.post(c+"announcements?internal=true",b)},d.updateAnnouncement=function(b){return a.put(c+"announcements/"+b.id,b)},d.deleteAnnouncement=function(b){return a["delete"](c+"announcements/"+b.id)},d.acknowledge=function(b){return a.post(c+"announcements/"+b.id+"/ack")},d}d.$inject=["$http","InsightsConfig"];var e=a("./"),f=a("urijs");e.factory("Announcement",d)},{"./":36,urijs:776}],27:[function(a,b,c){"use strict";function d(a,b,c){var d=c.apiRoot;return{getArticles:function(){return a.get(d+"articles")},get:function(b){return a.get(d+"articles/"+(b||c.overviewKey))},update:function(b,e){return a.put(d+"articles/"+(b||c.overviewKey),e)},preview:function(b){return a.post(d+"articles/preview",b)}}}d.$inject=["$http","AccountService","InsightsConfig"],a("./").factory("Article",d)},{"./":36}],28:[function(a,b,c){"use strict";function d(a){var b={};return b.subscribe=function(){var b=f("/api").segment("redhat_node").segment("2184921").segment("subscribe").toString();return a.post(b).then(function(a){return a.data})},b}d.$inject=["$http"];var e=a("./"),f=a("urijs");e.factory("Blog",d)},{"./":36,urijs:776}],29:[function(a,b,c){"use strict";function d(a,b,c,d){var e,f,g=c.apiRoot;return b.$on("reload:data",function(){e=null}),{clusters:f,getClusters:function(){if(e)return e;var c=g+"systems?type=cluster&product=osp"+d.current("&");return e=a.get(c).then(function(a){return f=a.data,b.$broadcast("clusters:loaded",f),a})},getClusterReports:function(b){return a.get(g+"reports?system_id="+b+"&type=all&product=osp")}}}d.$inject=["$http","$rootScope","InsightsConfig","AccountService"],a("./").factory("Cluster",d)},{"./":36}],30:[function(a,b,c){"use strict";function d(a,b,c){var d=b.apiRoot;return{getDigest:function(b){var e=d+"digests/"+b+c.current();return a.get(e)},getDigestsByType:function(b){var e=d+"digests?remote_branch=-1&digest_type_id="+b+c.current("&");return a.get(e)}}}d.$inject=["$http","InsightsConfig","AccountService"],a("./").factory("Digest",d)},{"./":36}],31:[function(a,b,c){"use strict";function d(a,b){var c=b.apiRoot,d={};return d.getEvaluationStatus=function(){var b=f(c).segment("evaluation").segment("status").toString();return a.get(b).then(function(a){return a.data})},d.activate=function(b){var d=f(c).segment("evaluation").toString();return a.post(d,{type:b}).then(function(a){return a.data})},d}d.$inject=["$http","InsightsConfig"];var e=a("./"),f=a("urijs");e.factory("Evaluation",d)},{"./":36,urijs:776}],32:[function(a,b,c){"use strict";function d(a,b){var c=b.apiRoot,d={};return d.create=function(b){var d=f(c).segment("evaluation_invite").toString();return a.post(d,b).then(function(a){return a.data})},d.getAll=function(){var b=f(c).segment("evaluation_invite").toString();return a.get(b).then(function(a){return a.data})},d}d.$inject=["$http","InsightsConfig"];var e=a("./"),f=a("urijs");e.factory("EvaluationInvite",d)},{"./":36,urijs:776}],33:[function(a,b,c){"use strict";function d(a,b,c,d){return{getReports:function(a,e,g,h){var i=f(b.apiRoot);i.segment("exports"),i.segment("reports"),a&&i.addSearch("topic",a),e&&i.addSearch("rules",e),g&&i.addSearch("group",g),void 0!==h&&i.addSearch("stale",h),i.addSearch(c.queryParam()),d.location.assign(i.toString())},getSystems:function(a,e,g){var h=f(b.apiRoot);h.segment("exports"),h.segment("systems"),a&&h.addSearch("group",a),void 0!==e&&h.addSearch("stale",e),g&&h.addSearch("search",g),h.addSearch(c.queryParam()),d.location.assign(h.toString())}}}d.$inject=["$http","InsightsConfig","AccountService","$window"];var e=a("./"),f=a("urijs");e.factory("Export",d)},{"./":36,urijs:776}],34:[function(a,b,c){"use strict";function d(a,b){var c=b.apiRoot;return{sendFeedback:function(b){var d=c+"feedback";return a.post(d,b)}}}d.$inject=["$http","InsightsConfig"],a("./").factory("Feedback",d)},{"./":36}],35:[function(a,b,c){"use strict";function d(a,b,c,d,e){function f(){return a.get(j+"groups?include=systems"+e.current("&")).success(function(a){k.length=0,Array.prototype.push.apply(k,a)})}function g(a,b){for(var c=k.length,d=0;c>d;d++)if(k[d].id===a.id)for(var e=k[d].systems.length,f=0;e>f;f++)if(k[d].systems[f].system_id===b.system_id)return void k[d].systems.splice(f,1)}function h(b,c){return g(b,c),a["delete"](j+"groups/"+b.id+"/systems/"+c.system_id+e.current())}function i(a){for(var b=k.length,c=0;b>c;c++)if(k[c].id===a.id)return void k.splice(c,1)}var j=d.apiRoot,k=[],l={},m=!1;return c.$on("reload:data",f),{init:function(){m||(f(),m=!0)},groups:k,current:function(){return l},appendCurrentGroup:function(a){var b=l;return b&&b.id&&(a+="&group="+b.id),a},setCurrent:function(a){l=a||{}},removeSystem:h,removeSystems:function(a,c){var d=[];return angular.forEach(c,function(b){d.push(h(a,{system_id:b}))}),b.all(d)},addSystems:function(b,c){return b.systems||(b.systems=[]),Array.prototype.push.apply(b.systems,c),a.put(j+"groups/"+b.id+"/systems"+e.current(),c)},createGroup:function(c){var d=b.defer();return a.post(j+"groups"+e.current(),c).then(function(a){c.display_name="";var b=a.data;201===a.status&&(b.systems=[],k.push(b)),d.resolve(b)}),d.promise},deleteGroup:function(b){return i(b),a["delete"](j+"groups/"+b.id+e.current())},reload:f,queryParam:function(){return l&&l.id?{group:l.id}:{}}}}d.$inject=["$http","$q","$rootScope","InsightsConfig","AccountService"],a("./").factory("Group",d)},{"./":36}],36:[function(a,b,c){"use strict";b.exports=angular.module("insights.api",[]),function(){var b=a("./index.js");b.account=a("./account.js"),b.account_settings=a("./account_settings.js"),b.ack=a("./ack.js"),b.analytic=a("./analytic.js"),b.announcement=a("./announcement.js"),b.article=a("./article.js"),b.blog=a("./blog.js"),b.cluster=a("./cluster.js"),b.digest=a("./digest.js"),b.evaluation=a("./evaluation.js"),b.evaluation_invite=a("./evaluation_invite.js"),b["export"]=a("./export.js"),b.feedback=a("./feedback.js"),b.group=a("./group.js"),b.index=a("./index.js"),b.maintenance=a("./maintenance.js"),b.messaging=a("./messaging.js"),b.permission=a("./permission.js"),b.plugin=a("./plugin.js"),b.report=a("./report.js"),b.rule=a("./rule.js"),b.stats=a("./stats.js"),b.subset=a("./subset.js"),b.system=a("./system.js"),b.topic=a("./topic.js"),b.user=a("./user.js"),b.user_permissions=a("./user_permissions.js"),b.user_settings=a("./user_settings.js")}()},{"./account.js":22,"./account_settings.js":23,"./ack.js":24,"./analytic.js":25,"./announcement.js":26,"./article.js":27,"./blog.js":28,"./cluster.js":29,"./digest.js":30,"./evaluation.js":31,"./evaluation_invite.js":32,"./export.js":33,"./feedback.js":34,"./group.js":35,"./index.js":36,"./maintenance.js":37,"./messaging.js":38,"./permission.js":39,"./plugin.js":40,"./report.js":41,"./rule.js":42,"./stats.js":43,"./subset.js":44,"./system.js":45,"./topic.js":46,"./user.js":47,"./user_permissions.js":48,"./user_settings.js":49}],37:[function(a,b,c){"use strict";function d(a,b,c,d,e,h){function i(b){return a.get(j+"maintenance?filter="+b+c.current("&")).success(e.readArray(e.readPlan))}var j=b.apiRoot,k={};return k.getFutureMaintenancePlans=function(){return i("future")},k.getPastMaintenancePlans=function(){return i("past")},k.getOverdueMaintenancePlans=function(){
return i("overdue")},k.getMaintenancePlans=function(){return a.get(j+"maintenance"+c.current()).then(function(a){return a.data.forEach(e.readPlan),a.data})},k.getMaintenancePlan=function(b){return a.get(j+"maintenance/"+b+c.current()).success(e.readPlan)},k.silence=function(a){return k.updatePlan(a.maintenance_id,{silenced:!0})},k.createPlan=function(b){return a.post(j+"maintenance"+c.current(),b)},k.updatePlan=function(b,d){return a.put(j+"maintenance/"+b+c.current(),d).then(function(){h.$broadcast("maintenance:planChanged",b)})},k.deletePlan=function(b){return a["delete"](j+"maintenance/"+b.maintenance_id+c.current()).then(function(){h.$broadcast("maintenance:planDeleted",b.maintenance_id)})},k.addAction=function(b,d){return a.post(j+"maintenance/"+b+"/actions?report="+d+c.current("&"))},k.deleteAction=function(b,d){return a["delete"](j+"maintenance/"+b+"/actions/"+d+c.current())},k.deleteActions=function(b,d){var e={"delete":f(d,"id")};return a.put(j+"maintenance/"+b+c.current(),e)},k.exportPlan=function(a){var b=j+"maintenance/"+a+"?accept=csv"+c.current("&");d.location.assign(b)},k.generatePlaybook=function(b,d){d=d||{};var e=g(j);return e.segment("maintenance"),e.segment(String(b)),e.segment("playbook"),e.addSearch(c.queryParam()),a.post(e.toString(),d)},k.SUGGESTION=Object.freeze({PROPOSED:"proposed",ACCEPTED:"accepted",REJECTED:"rejected"}),k}d.$inject=["$http","InsightsConfig","AccountService","$window","DataUtils","$rootScope"];var e=a("./"),f=a("lodash/map"),g=a("urijs");e.factory("Maintenance",d)},{"./":36,"lodash/map":487,urijs:776}],38:[function(a,b,c){"use strict";function d(a,b){function c(){return a.get(f+"messaging/campaigns")}function d(b){return a.post(f+"messaging/users",b)}function e(){return a.post(f+"messaging/optin",{autoOptedIn:!0})}var f=b.apiRoot;return{getCampaigns:c,saveCampaigns:d,saveOptedIn:e}}d.$inject=["$http","InsightsConfig"],a("./").factory("Messaging",d)},{"./":36}],39:[function(a,b,c){"use strict";function d(a,b){var c=b.apiRoot+"permissions/:permissionId",d={permissionId:"@id"},e=a(c,d);return e.init=function(){e.initial=e.query().$promise},e}d.$inject=["$resource","InsightsConfig"],a("./").factory("Permission",d)},{"./":36}],40:[function(a,b,c){"use strict";function d(a,b){return{update:function(c,d){return a.put(b.apiRoot+"plugins/"+c,d)}}}d.$inject=["$http","InsightsConfig"],a("./").factory("Plugin",d)},{"./":36}],41:[function(a,b,c){"use strict";function d(a,b,c,d,e,f,g,h,i){var j,k=d.apiRoot;return b.$on("reload:data",function(){j=null}),{groupByHost:function(){return a.get(k+"reports?accept=host"+e.current("&"))},exportReports:function(a){var b=d.apiPrefix+"v1/",g=b+"reports?accept=csv"+e.current("&");a&&(g+="&category="+a),g=f.appendCurrentGroup(g),c.location.assign(g)},ruleReports:function(b,c){b=encodeURIComponent(b);var d=c?"rule_id=":"rule=",g=k+"reports?"+d+b+e.current("&");return g=f.appendCurrentGroup(g),c&&(g+="&"+c+"=true"),g=h.appendProductToUrl(g,"all"),a.get(g)},headReports:function(b){var c=k+"reports";return c+=e.current("?"),c=g.addQueryToUrl(c,b),a.head(c)},getAllReports:function(){return a.get(k+"reports?type=all&expand=system,rule"+e.current("&")).then(function(a){return a.data.resources.forEach(i.readReport),a.data.resources})},getReportsLatest:function(b){var c=k+"reports";return c+=e.current("?"),c=g.addQueryToUrl(c,b),a.get(c)},getReports:function(b){return b=b||"rhel",a.get(k+"reports?product="+b+e.current("&")).success(i.readArray(i.readReport))}}}d.$inject=["$http","$rootScope","$window","InsightsConfig","AccountService","Group","Utils","PreferenceService","DataUtils"],a("./").factory("Report",d)},{"./":36}],42:[function(a,b,c){"use strict";function d(a,b,c,d,e,g,h){var i=e.apiRoot;return{getRulesLatest:function(b){var d=i+"rules";return d+=c.current("?"),d=h.addQueryToUrl(d,b),a.get(d)},plugins:function(){return a.get(i+"rules?plugins=true")},summary:function(){var b=i+"rules?summary=true"+c.current("&");return b=g.appendProductToUrl(b,"all"),a.get(b)},admin:function(){return a.get(i+"rules/admin?internal=true")},create:function(b){return a.post(i+"rules?internal=true",b)},update:function(a){throw new Error("updates not supported")},"delete":function(b){var c=encodeURIComponent(b.rule_id);return a["delete"](i+"rules/"+c+"?internal=true")},preview:function(b,c){return a.post(i+"rules/preview?internal=true",{rule:b,debug:c})},byId:function(b,c){return b=encodeURIComponent(b),a.get(i+"rules/"+b,{cache:!0!==c})},getAvailableTags:function(){return a.get(i+"rules/tags")},deleteTag:function(b){return a["delete"](i+"rules/tags/"+encodeURIComponent(b))},updateTag:function(a){throw new Error("updates not supported")},exportRules:function(){b.location.assign(i+"rules/admin?internal=true&accept=csv")},listAnsibleResolutions:function(b,c){var d=f(i);return d.segment("rules"),d.segment(b),d.segment("ansible-resolutions"),d.segment(String(c)),a.get(d.toString())},getRulesWithHits:function(b){var e=f(i);return e.segment("rules"),e.addSearch("report_count","gt0"),e.addSearch(c.queryParam()),void 0!==b&&e.addSearch({group:b}),a.get(e.toString()).success(function(a){a.resources.forEach(d.readRule)})}}}d.$inject=["$http","$window","AccountService","DataUtils","InsightsConfig","PreferenceService","Utils"];var e=a("./"),f=a("urijs");e.factory("Rule",d)},{"./":36,urijs:776}],43:[function(a,b,c){"use strict";function d(a,b,c,d){function e(a,e){var g=f(b.apiRoot);return g.segment("stats"),a&&g.segment(a),g.addSearch(c.queryParam()),g.addSearch(d.queryParam()),e&&g.addSearch(e),g.toString()}return{getAll:function(b){return a.get(e(null,b))},getSystems:function(b){return a.get(e("systems",b))},getRules:function(b){return a.get(e("rules",b))}}}d.$inject=["$http","InsightsConfig","AccountService","Group"];var e=a("./"),f=a("urijs");e.factory("Stats",d)},{"./":36,urijs:776}],44:[function(a,b,c){"use strict";function d(a,b,c,d){var e=b.apiRoot;return{create:function(b,d){var g=f(e);return g.segment("subsets"),g.addSearch(c.queryParam()),a.post(g.toString(),{branch_id:b,system_ids:d})},getRulesWithHits:function(b){var g=f(e);return g.segment("subsets"),g.segment(b),g.segment("rules"),g.addSearch("report_count","gt0"),g.addSearch(c.queryParam()),a.get(g.toString()).success(function(a){a.resources.forEach(d.readRule)})}}}d.$inject=["$http","InsightsConfig","AccountService","DataUtils"];var e=a("./"),f=a("urijs");e.factory("Subset",d)},{"./":36,urijs:776}],45:[function(a,b,c){"use strict";function d(a,b,c,d,e,g,h,i,j,k,l){function m(a){return a.product_code===j.docker.code?a.role===j.docker.roles.host.code?(a.imageClass=j.docker.roles.host.icon,a.displayName=j.docker.roles.host.fullName,a.displayNameShort=j.docker.shortName2+" "+j.docker.roles.host.shortName):a.role===j.docker.roles.container.code?(a.imageClass=j.docker.roles.container.icon,a.displayName=j.docker.roles.container.fullName,a.displayNameShort=j.docker.roles.container.shortName):a.role===j.docker.roles.image.code&&(a.imageClass=j.docker.roles.image.icon,a.displayName=j.docker.roles.image.fullName,a.displayNameShort=j.docker.shortName2+" "+j.docker.roles.image.shortName):a.product_code===j.ocp.code?a.role===j.ocp.roles.cluster.code?(a.imageClass=j.ocp.roles.cluster.icon,a.displayName=j.ocp.roles.cluster.fullName,a.displayNameShort=j.ocp.shortName+" "+j.ocp.roles.cluster.shortName):a.role===j.ocp.roles.master.code?(a.imageClass=j.ocp.roles.master.icon,a.displayName=j.ocp.roles.master.fullName,a.displayNameShort=j.ocp.shortName+" "+j.ocp.roles.master.shortName):a.role===j.ocp.roles.node.code&&(a.imageClass=j.ocp.roles.node.icon,a.displayName=j.ocp.roles.node.fullName,a.displayNameShort=j.ocp.shortName+" "+j.ocp.roles.node.shortName):a.product_code===j.osp.code?a.role===j.osp.roles.controller.code?(a.imageClass=j.osp.roles.controller.icon,a.displayName=j.osp.roles.controller.fullName,a.displayNameShort=j.osp.shortName+" "+j.osp.roles.controller.shortName):a.role===j.osp.roles.compute.code?(a.imageClass=j.osp.roles.compute.icon,a.displayName=j.osp.roles.compute.fullName,a.displayNameShort=j.osp.shortName+" "+j.osp.roles.compute.shortName):a.role===j.osp.roles.director.code?(a.imageClass=j.osp.roles.director.icon,a.displayName=j.osp.roles.director.fullName,a.displayNameShort=j.osp.shortName+" "+j.osp.roles.director.shortName):a.role===j.osp.roles.cluster.code&&(a.imageClass=j.osp.roles.cluster.icon,a.displayName=j.osp.roles.cluster.fullName,a.displayNameShort=j.osp.shortName+" "+j.osp.roles.cluster.shortName):a.product_code===j.rhev.code?a.role===j.rhev.roles.manager.code?(a.imageClass=j.rhev.roles.manager.icon,a.displayName=j.rhev.roles.manager.fullName,a.displayNameShort=j.rhev.shortName+" "+j.rhev.roles.manager.shortName):a.role===j.rhev.roles.hypervisor.code?(a.imageClass=j.rhev.roles.hypervisor.icon,a.displayName=j.rhev.roles.hypervisor.fullName,a.displayNameShort=j.rhev.shortName+" "+j.rhev.roles.hypervisor.shortName):a.role===j.rhev.roles.cluster.code&&(a.imageClass=j.rhev.roles.cluster.icon,a.displayName=j.rhev.roles.cluster.fullName,a.displayNameShort=j.rhev.shortName+" "+j.rhev.roles.cluster.shortName):a.product_code===j.rhel.code&&(a.imageClass=j.rhel.icon,a.displayName=j.rhel.fullName,a.displayNameShort=j.rhel.shortName),a}function n(a){for(var b=0;b<a.length;b++)a[b]=m(a[b]);return a}var o,p,q=d.apiRoot;return c.$on("reload:data",function(){o=null}),{ackStaleSystems:function(){var b=q+"systems/stale/ack";return b+=e.current("?"),a.put(b)},getSingleSystem:function(b){var c=q+"systems/"+b;return c+=e.current("?"),a.get(c)},getSystemTypes:function(){var b=q+"system_types";return a.get(b).then(function(a){return n(a.data),a})},getSystems:function(){var b;return o||(b=q+"systems"+e.current(),o=a.get(b))},getSystemLinks:function(b,c){var d=q+"systems/"+encodeURIComponent(b)+"/links";return d+=e.current("?"),d=h.addQueryToUrl(d,c),a.get(d)},headSystemsLatest:function(b){var c=q+"systems";return c+=e.current("?"),c=h.addQueryToUrl(c,b),a.head(c)},getSystemsLatest:function(b){var c=q+"systems";return c+=e.current("?"),c=h.addQueryToUrl(c,b),a.get(c)},getSystemStatus:function(b){var c;return!b&&p?p:(c=q+"systems/status"+e.current(),c=k.appendProductToUrl(c,"machine"),p=a.get(c))},getSystemSummary:function(b){var c,d=q+"systems?summary=true"+e.current("&");return d=k.appendProductToUrl(d,"machine"),c=g.current(),c&&c.id&&(d+="&group="+c.id),d=h.addQueryToUrl(d,b),a.get(d)},getSystemReports:function(b){return a.get(q+"systems/"+encodeURIComponent(b)+"/reports"+e.current()).success(function(a){a.reports.forEach(function(a){return l.readRule(a.rule)})})},getSystemMetadata:function(b){return a.get(q+"systems/"+encodeURIComponent(b)+"/metadata"+e.current())},deleteSystem:function(b){return p=null,a["delete"](q+"systems/"+encodeURIComponent(b)+e.current())},populateOCPDeployments:function(){var a={product_code:"ocp",role:"cluster"};return this.getSystemsLatest(a).then(function(a){var b,c;a&&a.data&&a.data.resources&&(c=a.data.resources,c.splice(0,0,{display_name:"All Deployments",system_id:"all"}),i.setOCPDeployments(c),i.getSelectedOCPDeployment().system_id?(b=f(i.getOCPDeployments(),{system_id:i.getSelectedOCPDeployment().system_id}),i.setSelectedOCPDeployment(b)):i.setSelectedOCPDeployment(c[0]))})},populateOSPDeployments:function(){var a={product_code:"osp",role:"cluster"};return this.getSystemsLatest(a).then(function(a){var b,c;a&&a.data&&a.data.resources&&(c=a.data.resources,c.splice(0,0,{display_name:"All Deployments",system_id:"all"}),i.setOSPDeployments(c),i.getSelectedOSPDeployment().system_id?(b=f(i.getOSPDeployments(),{system_id:i.getSelectedOSPDeployment().system_id}),i.setSelectedOSPDeployment(b)):i.setSelectedOSPDeployment(c[0]))})},populateDockerHosts:function(){var a={product_code:"docker",role:"host"};return this.getSystemsLatest(a).then(function(a){var b,c;a&&a.data&&a.data.resources&&(c=a.data.resources,c.splice(0,0,{hostname:"All Hosts",system_id:"all"}),i.setDockerHosts(c),i.getSelectedDockerHost().system_id?(b=f(i.getDockerHosts(),{system_id:i.getSelectedDockerHost().system_id}),i.setSelectedDockerHost(b)):i.setSelectedDockerHost(c[0]))})},getProductSpecificData:function(){var a;return"docker"===i.getSelectedProduct()?this.populateDockerHosts():"osp"===i.getSelectedProduct()?this.populateOSPDeployments():(a=b.defer(),a.resolve(),a.promise)}}}d.$inject=["$http","$q","$rootScope","InsightsConfig","AccountService","Group","Utils","FilterService","Products","PreferenceService","DataUtils"];var e=a("./"),f=a("lodash/find");e.factory("System",d)},{"./":36,"lodash/find":457}],46:[function(a,b,c){"use strict";function d(a,b,c,d,e){var g=c.apiRoot;return{getAll:function(b,c){var h=b||{},i=f(g+"topics"+d.current()).addSearch(h);return angular.isDefined(c)&&i.addSearch("limit",c),i.addSearch(e.queryParam()),a.get(i.toString())},admin:function(){return a.get(g+"topics/admin")},get:function(b,c){var h=f(g+"topics/"+b+d.current());return c&&h.addSearch("product",c),h.addSearch(e.queryParam()),a.get(h.toString())},create:function(b){return a.post(g+"topics",b)},update:function(b){return a.put(g+"topics/"+b.id,b)},preview:function(b){return a.post(g+"topics/preview",b)},remove:function(b){return a["delete"](g+"topics/"+b)}}}d.$inject=["$http","$q","InsightsConfig","AccountService","Group"];var e=a("./"),f=a("urijs");e.factory("Topic",d)},{"./":36,urijs:776}],47:[function(a,b,c){"use strict";function d(a,b,c,d,e,h){function i(){return d.absUrl().indexOf("insightsbeta")>-1}function j(){b.get(e.apiRoot+"me").success(function(b){angular.extend(l,b),l.permissions=f(l.permissions,"code"),l.is_super=l.is_internal,l.current_entitlements&&l.current_entitlements.unlimitedRHEL&&(l.current_entitlements.systemLimitReached=!1),null!==window.localStorage.getItem("insights:user:isInternal")&&!0===l.is_super&&(l.is_internal="true"===window.localStorage.getItem("insights:user:isInternal")),l.loaded=!0,h.set("loaded",!0,!1),g.tryFakeUser(l),a.$broadcast("user:loaded"),"true"===window.localStorage.getItem("tapi:demo")&&(l.is_internal=!1,l.demo_mode=!0),k.resolve(l)})}var k,l={loaded:!1};return{init:function(){return angular.isDefined(k)||(k=c.defer(),j()),k.promise},current:l,asyncCurrent:function(a){return l&&l.loaded?a(l):void(k&&k.promise&&k.promise.then(a))},isOnOSPWhitelist:function(){var a=!1;return!!i()&&(l&&l.current_entitlements&&(a=l.current_entitlements.whitelist.osp),a)}}}d.$inject=["$rootScope","$http","$q","$location","InsightsConfig","PreferenceService"];var e=a("./"),f=a("lodash/keyBy"),g={};g.tryFakeUser=function(a){var b;try{b=JSON.parse(window.localStorage.getItem("insights:fake:entitlements")),void 0!==b&&null!==b&&(a.current_entitlements=b)}catch(a){}},e.factory("User",d)},{"./":36,"lodash/keyBy":483}],48:[function(a,b,c){"use strict";function d(a,b){var c=b.apiRoot+"user_permissions/:userPermissionId",d={userPermissionId:"@id"},e=a(c,d);return e.init=function(){e.initial=e.query().$promise},e}d.$inject=["$resource","InsightsConfig"],a("./").service("UserPermissions",d)},{"./":36}],49:[function(a,b,c){"use strict";function d(a,b){var c=b.apiRoot;return{update:function(b){return a.post(c+"me/settings",b)}}}d.$inject=["$http","InsightsConfig"],a("./").factory("UserSettings",d)},{"./":36}],50:[function(a,b,c){"use strict";function d(a){a.state("app",{templateUrl:"js/states/base/base.html","abstract":!0,controller:"AppCtrl"}),a.state("info",{templateUrl:"js/states/base/info.html","abstract":!0})}d.$inject=["$stateProvider"],b.exports=d},{}],51:[function(a,b,c){"use strict";function d(a,b,c,d,g,h,i,j){a.$on("$stateChangeSuccess",function(){b.clearHttpError()}),j.checkAndRedirect();var k=g.coerce(d.get("rh_locale"));c.setCurrentLanguage(k),f.locale(k),d.get("locale_debug")&&(c.debug=!0),k&&"en"!==k&&c.loadRemote("translations/"+k+"/"+k+".json"),e.process(h.get(),i)}d.$inject=["$rootScope","AlertService","gettextCatalog","$cookies","CoercionService","$state","InsightsConfig","BetaRedirectService"];var e=a("./state_customizer"),f=a("./../bower_components/moment/moment.js");a("./../bower_components/moment/locale/ja"),b.exports=d},{"./../bower_components/moment/locale/ja":15,"./../bower_components/moment/moment.js":16,"./state_customizer":230}],52:[function(a,b,c){"use strict";function d(a,b,c,d,e){var f=window.sessionStorage.getItem(c.acctKey);a.showAccountSelector=function(){var b=a.user,c=e.PERMS;return!(!b||!b.permissions||!b.permissions[c.SU]&&!b.permissions[c.ACCOUNT_SWITCHER])},a.Utils=d,a.accountChange=function(a){a&&(window.sessionStorage.setItem(c.acctKey,a),window.location.reload())},a.reset=function(){a.user&&(a.account_number=a.user.account_number,a.user.is_internal&&(a.account_number=""+a.user.account_number),a.accountChange(a.account_number))},"true"===window.localStorage.getItem("tapi:demo")&&(f="6"),f&&(a.account_number=f),b.asyncCurrent(function(){a.user=b.current,a.isInternal!==a.user.is_internal&&(a.isInternal=a.user.is_internal),f||(a.account_number=a.user.account_number)}),a.changeInternal=function(){a.user.isInternal=a.isInternal,window.localStorage.setItem("insights:user:isInternal",JSON.stringify(a.user.isInternal)),window.location.reload()}}function e(){return{templateUrl:"js/components/accountSelect/accountSelect.html",restrict:"E",controller:d}}d.$inject=["$scope","User","InsightsConfig","Utils","PermissionService"],a("../").directive("accountSelect",e)},{"../":101}],53:[function(a,b,c){"use strict";function d(a,b,c){a.myActions=c.actions,b.$on("$stateChangeStart",function(){c.clear()})}function e(){return{templateUrl:"js/components/actionbar/actionbar.html",restrict:"E",replace:!0,controller:d}}d.$inject=["$scope","$rootScope","ActionbarService"],a("../").directive("actionbar",e)},{"../":101}],54:[function(a,b,c){"use strict";function d(a,b){a.loading=b.vars.loading,a.getTotal=b.getTotal,a.isActions=b.isActions,a.getCategory=b.getCategory}function e(){return{templateUrl:"js/components/actions/actions.html",restrict:"E",replace:!0,scope:{},controller:d}}d.$inject=["$scope","RhaTelemetryActionsService"],a("../").directive("rhaTelemetryActions",e)},{"../":101}],55:[function(a,b,c){"use strict";function d(a,b,c){a.goBack=function(){"app.actions-rule"===b.current.name?b.go("app.topic",{id:c.category}):"app.topic"===b.current.name&&b.go("app.actions")},a.$on("telemetry:esc",function(b){b.defaultPrevented||a.goBack()})}function e(){return{restrict:"EC",scope:{},controller:d}}d.$inject=["$scope","$state","$stateParams"],a("../../").directive("actionsBack",e)},{"../../":101}],56:[function(a,b,c){"use strict";function d(a,b,c){a.crumbs=c.crumbs,a.getCrumbs=c.get,a.crumbClick=function(a){b.go(a.state,a.params)}}function e(){return{templateUrl:"js/components/actions/actionsBreadcrumbs/actionsBreadcrumbs.html",restrict:"E",replace:!0,controller:d}}d.$inject=["$scope","$state","ActionsBreadcrumbs"],a("../../").directive("actionsBreadcrumbs",e)},{"../../":101}],57:[function(a,b,c){"use strict";function d(a,b,c,d,e,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C){function D(){h.loading=!0;var a=u.populateDetails().then(function(){var a=u.getRuleDetails();a&&(h.ruleDetails=a,l.setCrumb({label:a.description,params:{category:j.category,rule:a.rule_id}},2)),u.setIsScrolling(!0),u.resetPaging(),u.orderRuleSystems(h.predicate,h.reverse),h.ruleSystems=u.getRuleSystemsPage(),h.allSystems=u.getRuleSystems(),u.setIsScrolling(!1)}),b=x.get(j.category).success(function(a){l.setCrumb({label:a.title,state:"app.topic",params:{id:a.slug?a.slug:a.id}},1)}),c=v.getProductSpecificData();d.all([a,w.getSystemTypesAsync(),b,c])["finally"](function(){h.loading=!1,F.initialDisplay()})}var E=j.category,F={};h.allSystems=[],h.getListType=o.getType,h.listTypes=o.types(),h.noSystemsSelected=!1,h.permalink=q.make,h.ruleSystems=[],h.QuickFilters=s,h.config=n,h.predicate="toString",h.reverse=!1,m.parseBrowserQueryParams(),m.setShowFilters(!1),m.setSearchTerm(""),h.doScroll=function(){u.nextPage(),u.setIsScrolling(!0),h.ruleSystems=h.ruleSystems.concat(u.getRuleSystemsPage()),u.setIsScrolling(!1)},h.disableScroll=function(){var a=!1;return(u.getIsScrolling()||!h.ruleSystems||h.ruleSystems.length>=u.getTotalRuleSystems())&&(a=!0),a},h.setNoSystemsSelected=function(a){h.noSystemsSelected=a,a&&k(function(){h.permalink("noSystemsSelected",!0,50,500)},100)},h.$on("group:change",D),h.$on("filterService:doFilter",function(){"app.actions-rule"===i.current.name&&D()}),l.init(j),u.setCategory(E),u.setRule(j.rule),h.getReportDetails=u.getReportDetails,h.loading=!0,h.loadingSystems=!0,h.ospRuleResolution="",h.search={filters:["system_id","hostname","display_name"].map(function(a){return function(b,c){return String(g(b,a)).includes(c)}}),doFilter:function(a){h.ruleSystems=a?h.allSystems.filter(function(b){return h.search.filters.some(function(c){return c(b,a)})}):h.allSystems}},h.checkboxes=new z.Checkboxes("system_id"),h.$watchCollection("checkboxes.items",function(){h.checkboxes.update(h.ruleSystems),h.checkboxes.totalChecked>0&&(h.noSystemsSelected=!1)}),h.plans=p.plans,h.showSystem=function(a){var b=void 0;return"function"==typeof n.actionsShowSystem?n.actionsShowSystem(a.toString()):(b=u.getClusterAffectedSystems(),"string"==typeof a&&b&&b.hasOwnProperty(a)&&(a=b[a]),c.open({templateUrl:"js/components/system/systemModal/systemModal.html",windowClass:"system-modal ng-animate-enabled",backdropClass:"system-backdrop ng-animate-enabled",controller:"SystemModalCtrl",resolve:{system:function(){return a},rule:function(){return!1}}}),void 0)},h.systemToString=function(a){return z.getSystemDisplayName(a)},F.initialDisplay=function(){var a=b.search(),c=a.machine;if(c){var d=f(h.allSystems,{system_id:c});d&&h.showSystem(d)}},F.initCtrl=function(){y.asyncCurrent(function(){h.isInternal=y.current.is_internal}),D()},e.$on("productFilter:change",function(){"app.actions-rule"===i.current.name&&D()}),h.$on("account:change",D),n.authenticate&&!r.get("loaded")?e.$on("user:loaded",F.initCtrl):F.initCtrl(),h.addToPlan=function(a){return function(){var b=h.checkboxes.getSelected(h.ruleSystems);return h.setNoSystemsSelected(0===b.length),b.length?a.apply(null,arguments):void 0}}(function(a){var b=h.checkboxes.getSelected(h.ruleSystems);if(b.length){var c=u.getRuleDetails();p.showMaintenanceModal(b,c,a)}}),h.sort=function(a){h.loading=!0,h.reverse=!h.reverse,h.predicate!==a&&(h.reverse=!1,"last_check_in"===a&&(h.reverse=!0)),h.predicate=a,u.setIsScrolling(!0),u.resetPaging(),u.orderRuleSystems(h.predicate,h.reverse),h.ruleSystems=u.getRuleSystemsPage(),u.setIsScrolling(!1),h.loading=!1},n.allowExport&&A.addExportAction(function(){B.getReports(null,j.rule,C.current().id)})}d.$inject=["$filter","$location","$modal","$q","$rootScope","$scope","$state","$stateParams","$timeout","ActionsBreadcrumbs","FilterService","InsightsConfig","ListTypeService","MaintenanceService","PermalinkService","PreferenceService","QuickFilters","Report","RhaTelemetryActionsService","System","SystemsService","Topic","User","Utils","ActionbarService","Export","Group"];var e=a("../../"),f=a("lodash/find"),g=a("lodash/get");e.controller("ActionsRuleCtrl",d)},{"../../":101,"lodash/find":457,"lodash/get":463}],58:[function(a,b,c){"use strict";function d(a,b,c,d){a.getShowFilters=b.getShowFilters,a.getSelectedProduct=b.getSelectedProduct,a.validSummaryFields=["product","group","osp_deployment","docker_host"],a.resetFilters=function(){b.clearAll(),d.setCurrent({}),a.$emit("group:change",{}),a.$broadcast(c.filters.reset)}}function e(){return{templateUrl:"js/components/actions/actionsRuleFilters/actionsRuleFilters.html",restrict:"E",replace:!0,controller:d}}d.$inject=["$scope","FilterService","Events","Group"],a("../../").directive("actionsRuleFilters",e)},{"../../":101}],59:[function(a,b,c){"use strict";function d(a){a.loaded=!1,a.ruleCount={total:0,info:0,warn:0,error:0,critical:0},a.max=0,a.$watch("stats.rules",function(b){b&&(a.ruleCount=b,a.max=Math.max(b.info,b.warn,b.error,b.critical),a.loaded=!0)},!0)}function e(){return{templateUrl:"js/components/actions/severitySummary/severitySummary.html",restrict:"E",scope:{stats:"="},controller:d}}d.$inject=["$scope"],a("../../").directive("severitySummary",e)},{"../../":101}],60:[function(a,b,c){"use strict";function d(){return{templateUrl:"js/components/actions/systemSummary/systemSummary.html",restrict:"E",scope:{stats:"="},link:function(a){a.loaded=!1,a.ratio=0,a.$watch("stats.systems",function(b){b&&b.total&&(a.ratio=100*b.affected/b.total,a.loaded=!0)},!0)}}}a("../../").directive("systemSummary",d)},{"../../":101}],61:[function(a,b,c){"use strict";function d(a,b,c,d,e,f,g,h,i){a.params={showAll:!0},e.init(a.params),a.announcements=e.announcements,a.canCreate=!1,a.permalink=g.make,c.announcementId&&d(function(){a.permalink(c.announcementId.toString(),10,30)},100),a.reload=function(){e.reload(a.params)},a.ackAnnouncement=function(a){e.acknowledge(a)},a.editAnnouncement=function(a){b.go("app.edit-announcement",{id:a.id})},a.deleteAnnouncement=function(a){i.swal({title:"Are you sure?",type:"warning",confirmButtonColor:"#DD6B55",confirmButtonText:"Yes",showCancelButton:!0},function(b){b&&e.deleteAnnouncement(a)})},f.asyncCurrent(function(b){a.canCreate=b&&b.is_internal&&h.has(b,h.PERMS.CREATE_ANNOUNCEMENT)})}function e(){return{templateUrl:"js/components/announcements/announcementsScroll/announcementsScroll.html",restrict:"E",replace:!0,controller:d}}d.$inject=["$scope","$state","$stateParams","$timeout","AnnouncementService","User","PermalinkService","PermissionService","SweetAlert"],a("../../").directive("announcementsScroll",e)},{"../../":101}],62:[function(a,b,c){"use strict";function d(a,b){var c=b.getString("Use the Planner to generate an Ansible Playbook."),d=b.getString("This rule has Ansible support."),e=b.getString("This rules does not have Ansible support");a.$watch("value",function(b){a.icon=b?"images/l_ansible-blue.svg":"images/l_ansible-unsupported.svg",(a.showTooltip||void 0===a.showTooltip)&&(b?(a.tooltip=d,(a.showPlannerLine||void 0===a.showPlannerLine)&&(a.tooltip+=" "+c)):a.tooltip=e)})}function e(){return{scope:{value:"=",showTooltip:"=",showPlannerLine:"="},templateUrl:"js/components/ansibleIcon/ansibleIcon.html",restrict:"E",replace:!0,controller:d}}d.$inject=["$scope","gettextCatalog"],a("../").directive("ansibleIcon",e)},{"../":101}],63:[function(a,b,c){"use strict";function d(a,b){a.switchVersion=function(a){a?b.goToBeta():b.goToStable()},a.switchStatus=function(a){window.localStorage.setItem("betaOptIn",a)},a.leaveBeta=function(){a.switchStatus(!1),a.switchVersion(!1)},a.isOnBeta=function(){return window.insightsGlobal.isBeta},a.isOptedIn=function(){return JSON.parse(window.localStorage.getItem("betaOptIn"))}}function e(){return{templateUrl:"js/components/betaSwitchButton/betaSwitchButton.html",restrict:"E",controller:d,replace:!0}}d.$inject=["$scope","BetaRedirectService"],a("../").directive("betaSwitchButton",e)},{"../":101}],64:[function(a,b,c){"use strict";function d(a,b,c,d,e){function f(){b.loadingAnnouncements=!0,e.init().then(function(){b.items=e.announcements.slice(0,e.announcements.length<7?e.announcements.length:6),b.unackedCount=e.unseen.count,b.loadingAnnouncements=!1})}switch(b.loadingAnnouncements=!0,b.selectAnnouncement=function(a){c.go("app.announcements",{announcementId:a.id})},b.ack=function(a){b.loadingAnnouncements=!0,e.acknowledge(a).then(function(){b.selectAnnouncement(a),b.loadingAnnouncements=!1})},b.type){case"announcements":f()}a.$on("announcement:changed",function(){f()})}function e(){return{templateUrl:"js/components/bullhorn/bullhorn.html",restrict:"E",replace:!0,scope:{type:"@type",icon:"@icon"},controller:d}}d.$inject=["$rootScope","$scope","$state","Announcement","AnnouncementService"],a("../").directive("bullhorn",e)},{"../":101}],65:[function(a,b,c){"use strict";function d(a,b,c,d){var e={},f={};e.toggleContent=function(){a.collapsed=!a.collapsed},a.collapsed=!angular.isDefined(a.initCollapsed)||Boolean(a.initCollapsed),b.generateAccessors(a,f),a.toggleContent=function(){a.expandable&&d.when(a.onToggle({ctx:{collapsing:!a.collapsed}})).then(e.toggleContent)},a.$on(c.cards.expandAll,function(){a.collapsed&&a.toggleContent()}),a.$on(c.cards.collapseAll,function(){a.collapsed||a.toggleContent()}),this.api=a}function e(a,b,c,d){a.card=d.api}function f(a,b,c,d){a.card=d.api}function g(a,b,c,d){a.card=d.api}function h(){return{templateUrl:"js/components/card/card.html",restrict:"E",replace:!0,transclude:!0,controller:d,scope:{expandable:"@",initCollapsed:"=",onToggle:"&"},link:function(a,b){function c(a,b,c,d){a.$watch(c,function(a){a?b.addClass(d):b.removeClass(d)})}c(a,b,"!collapsed","expanded"),c(a,b,"expandable","content-block-expandable")}}}function i(){return{templateUrl:"js/components/card/cardHeader.html",restrict:"E",replace:!0,transclude:!0,link:e,require:"^card"}}function j(){return{templateUrl:"js/components/card/cardContent.html",restrict:"E",replace:!0,transclude:!0,link:f,require:"^card"}}function k(){return{templateUrl:"js/components/card/cardFooter.html",restrict:"E",replace:!0,transclude:!0,link:g,require:"^card"}}d.$inject=["e","t","n","r"],d.$inject=["$scope","Utils","Events","$q"],e.$inject=["scope","element","attrs","card"],f.$inject=["scope","element","attrs","card"],g.$inject=["scope","element","attrs","card"];var l=a("../");l.directive("card",h),l.directive("cardHeader",i),l.directive("cardContent",j),l.directive("cardFooter",k)},{"../":101}],66:[function(a,b,c){"use strict";function d(a,b,c,d,e,f,k,l,m,n,o,p){a.getSystemName=d.getSystemDisplayName,a.hostnameTitle=null,a.selected=!1,a.plans=o.plans.all,a.config=p,a.systemHostnameHover=function(b){var c=b.relatedTarget;!a.hostnameTitle&&c.offsetWidth<c.scrollWidth&&(a.hostnameTitle=a.system.hostname)},a.toggleContent=function(b){if(!b.collapsing){var c={includeSelf:!1};a.loading=!0,f.getSystemLinks(a.system.system_id,c).then(function(b){var c,d;b&&b.data&&b.data.resources&&l.getSystemTypesAsync().then(function(e){a.links=b.data.resources,c=j(a.links,function(a){return a.system_type_id}),d=[g(e,{product_code:k.osp.code,role:k.osp.roles.cluster.code}),g(e,{product_code:k.rhev.code,role:k.rhev.roles.cluster.code}),g(e,{product_code:k.ocp.code,role:k.ocp.roles.cluster.code}),g(e,{product_code:k.osp.code,role:k.osp.roles.director.code}),g(e,{product_code:k.rhev.code,role:k.rhev.roles.manager.code}),g(e,{product_code:k.ocp.code,role:k.ocp.roles.master.code}),g(e,{product_code:k.docker.code,role:k.docker.roles.host.code}),g(e,{product_code:k.osp.code,role:k.osp.roles.compute.code}),g(e,{product_code:k.osp.code,role:k.osp.roles.controller.code}),g(e,{product_code:k.rhev.code,role:k.rhev.roles.hypervisor.code}),g(e,{product_code:k.docker.code,role:k.docker.roles.container.code}),g(e,{product_code:k.docker.code,role:k.docker.roles.image.code}),g(e,{product_code:k.ocp.code,role:k.ocp.roles.node.code}),g(e,{product_code:k.rhel.code,role:k.rhel.roles.host.code})],a.linkGroups=i(c,function(a,b){return{priority:h(d,{id:parseInt(b)}),system_type_id:b,members:a}})})}).then(function(){a.loading=!1})}},a.getGroupPriority=function(a){return a.priority},a.hasFamilyMembers=function(){return!!(a.links&&a.links.length>0)},a.showActions=function(){e.showSystemModal(a.system)},a.unregister=function(){l.unregisterSelectedSystems([a.system])},c.asyncCurrent(function(){a.isInternal=c.current.is_internal})}function e(){return{templateUrl:"js/components/card/systemCard/systemCard.html",restrict:"E",replace:!0,controller:d,scope:{rule:"=",system:"=",checkboxes:"=",selectableVal:"=selectable",checkboxTooltipExp:"&checkboxTooltip"},link:function(a,b,c){c.checkboxTooltip?a.checkboxTooltip=a.checkboxTooltipExp({defaultTooltip:"Select System"}):a.checkboxTooltip="Select System",angular.isDefined(a.selectableVal)?a.selectable=a.selectableVal:a.selectable=!0}}}d.$inject=["$scope","$modal","User","Utils","InventoryService","System","Products","SystemsService","$q","AnsibleService","MaintenanceService","InsightsConfig"];var f=a("../../"),g=a("lodash/find"),h=a("lodash/findIndex"),i=a("lodash/map"),j=a("lodash/groupBy");f.animation(".slide",["$timeout",function(a){
return{beforeAddClass:function(a,b,c){"ng-hide"===b?jQuery(a).slideUp(c):"no-border-bottom"===b&&jQuery(a).addClass("no-border-bottom")},removeClass:function(b,c,d){function e(){jQuery(b).css("overflow","visible"),d()}"ng-hide"===c?jQuery(b).hide().slideDown(e):"no-border-bottom"===c&&(jQuery(b).addClass("no-border-bottom"),a(function(){jQuery(b).removeClass("no-border-bottom")},399))}}}]),f.directive("systemCard",e)},{"../../":101,"lodash/find":457,"lodash/findIndex":458,"lodash/groupBy":464,"lodash/map":487}],67:[function(a,b,c){"use strict";function d(){return{scope:{category:"="},templateUrl:"js/components/categoryIcon/categoryIcon.html",restrict:"E",replace:!0}}a("../").directive("categoryIcon",d)},{"../":101}],68:[function(a,b,c){"use strict";function d(a,b,c){function d(){return"true"===window.localStorage.getItem("tapi:demo")}a.user=b.current,a.tmp={apiPrefix:c.apiPrefix,apiVersion:c.apiVersion,entitlements:{}},a.presets={apiPrefix:{"default":c.defaultApiPrefix,local:"local/"},apiVersions:["v1","v2","v3"],entitlements:{paid:{unlimitedRHEL:!1,whitelist:{rhel:!1,osp:!1},totalRHEL:32,skus:[{skuName:"MCT3292",quantity:2,system_count:1,unlimited:!1}],activeSystemCount:1,systemLimitReached:!1},paidWithFewSystems:{unlimitedRHEL:!1,whitelist:{rhel:!1,osp:!1},totalRHEL:9,skus:[{skuName:"MCT3292",quantity:2,system_count:1,unlimited:!1}],activeSystemCount:1,systemLimitReached:!1},unpaid:{activeSystemCount:1,skus:[{skuName:"SER0482",quantity:2,system_count:0,unlimited:!1}],systemLimitReached:!1,totalRHEL:8,unlimitedRHEL:!1,whitelist:{osp:!1,rhel:!1}},unpaidSystemLimitReached:{activeSystemCount:10,skus:[{skuName:"SER0482",quantity:2,system_count:0,unlimited:!1}],systemLimitReached:!0,totalRHEL:10,unlimitedRHEL:!1,whitelist:{osp:!1,rhel:!1}},whitelisted:{whitelist:{rhel:!0,osp:!0}}}},a.getPretty=function(a){return JSON.stringify(a,null,2)},a.setEntitlements=function(){a.user.current_entitlements=a.presets.entitlements[a.tmp.tmpEnt],window.localStorage.setItem("insights:fake:entitlements",JSON.stringify(a.user.current_entitlements))},a.setEntitlementsByKey=function(a){var b;try{b=JSON.parse(c.tmp.entitlements[a]),c.user.current_entitlements[a]=b}catch(c){}},a.save=function(){window.localStorage.setItem("insights:apiVersion",a.tmp.apiVersion),window.localStorage.setItem("insights:apiPrefix",a.tmp.apiPrefix),window.location.reload()},a.injectNewKey=function(){a.user.current_entitlements[a.newKey]={}},a.getDemoModeButtonText=function(){return d()?"Disable Demo Mode":"Enable Demo Mode"},a.demoModeButtonOnClick=function(){d()?window.localStorage.setItem("tapi:demo",!1):window.localStorage.setItem("tapi:demo",!0),window.location.reload()}}function e(){return{templateUrl:"js/components/config/dev/dev.html",restrict:"E",scope:!1,controller:d}}d.$inject=["$scope","User","InsightsConfig"],a("../../").directive("configDev",e)},{"../../":101}],69:[function(a,b,c){"use strict";function d(a,b){b.init(),a.isCreating=!1,a.groups=b.groups}function e(){return{templateUrl:"js/components/config/groups/groups.html",restrict:"EA",scope:!1,controller:d}}d.$inject=["$scope","Group"],a("../../").directive("configGroups",e)},{"../../":101}],70:[function(a,b,c){"use strict";function d(a,b){b.init(),a.acks=b.acks,a["delete"]=b.deleteAck}function e(){return{templateUrl:"js/components/config/hidden/hidden.html",restrict:"EA",scope:{},controller:d}}d.$inject=["$scope","Ack"],a("../../").directive("configHidden",e)},{"../../":101}],71:[function(a,b,c){"use strict";function d(a,b){b.getCampaigns().success(function(b){a.campaigns=b}),a.save=function(c){b.saveCampaigns(a.campaigns).then(function(){c.$setPristine()})}}function e(){return{templateUrl:"js/components/config/messaging/messaging.html",restrict:"EA",scope:{},controller:d}}d.$inject=["$scope","Messaging"],a("../../").directive("configMessaging",e)},{"../../":101}],72:[function(a,b,c){"use strict";function d(a,b,c,d,e,f){var j={};a.newPermission={},j.swalConfig={title:"Are you sure?",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",closeOnConfirm:!0},j.removeAll=function(c){var e=[];c.forEach(function(a){e.push(d["delete"]({userPermissionId:a.id}).$promise)}),b.all(e)["finally"](function(){a.init()})},a.isCreating=!1,a.addNewPermission=function(){var b;a.newPermission.permission_id=a.tmpPermission.id,b=new d(a.newPermission),b.$save()["finally"](function(){a.init()})},a.removeSingle=function(b){a.removeAll([{id:b.id}])},a.removeAll=function(a){var b=j.swalConfig;a[0].sso_username===f.current.sso_username&&(b=JSON.parse(JSON.stringify(j.swalConfig)),b.text="Delete yourself?? Remember... no dumb here!"),c.swal(b,function(b){b&&j.removeAll(a)})},a.init=function(){e.query().$promise.then(function(b){a.permissions=b}),d.query().$promise.then(function(b){a.users=i(h(b,"sso_username")),a.userMap=g(b,function(a){return a.sso_username})})},a.init()}function e(){return{templateUrl:"js/components/config/permissions/permissions.html",restrict:"EA",scope:!1,controller:d}}d.$inject=["$scope","$q","SweetAlert","UserPermissions","Permission","User"];var f=a("../../"),g=a("lodash/groupBy"),h=a("lodash/map"),i=a("lodash/uniq");f.directive("configPermissions",e)},{"../../":101,"lodash/groupBy":464,"lodash/map":487,"lodash/uniq":512}],73:[function(a,b,c){"use strict";function d(a,b){a.loading=!0,b.get().success(function(b){a.settings=b})["finally"](function(){a.loading=!1}),a.save=function(){a.loading=!0,b.update(a.settings)["catch"](function(){window.alert("Only an org admin is allowed to change this setting")})["finally"](function(){a.loading=!1})}}function e(){return{templateUrl:"js/components/config/settings/settings.html",restrict:"EA",scope:{},controller:d}}d.$inject=["$scope","AccountSettings"],a("../../").directive("configSettings",e)},{"../../":101}],74:[function(a,b,c){"use strict";function d(a,b){a.demoAccountEnabled="6"===a.account_number,a.toggleDemoAccount=function(){a.demoAccountEnabled?a.accountChange(a.user.account_number):a.accountChange("6")},a.showDemoSwitcher=function(){return!(!a.user||!a.user.is_internal&&!a.demoAccountEnabled||b.has(a.user,b.PERMS.SU))}}function e(){return{templateUrl:"js/components/demoAccountSwitcher/demoAccountSwitcher.html",controller:d}}d.$inject=["$scope","PermissionService"],a("../").directive("demoAccountSwitcher",e)},{"../":101}],75:[function(a,b,c){"use strict";function d(a){var b=window.jQuery,c=h.select("[digest-key="+a.digestKey+"] .digest-graph").append("div").style({width:"100%",height:"400px"}).node();g.newPlot(c,a.digest.data,a.digest.layout,a.digest.options),window.addEventListener("resize",function(){g.Plots.resize(c)}),b('a[data-toggle="tab"]').on("shown.bs.tab",function(){g.Plots.resize(c)}),a.toggleTrace=function(a){a.enable=!a.enabled;var b=!!a.enabled||"legendonly";g.restyle(c,"visible",[b],[a.index])},i.initTraces(a,c)}function e(){return{templateUrl:"js/components/digest/digestGraph.html",restrict:"E",controller:d,replace:!0,scope:{dropDown:"@",digest:"=",digestKey:"@",width:"@",chartType:"@"}}}d.$inject=["$scope"];var f=a("../"),g=a("plotly.js/lib/index-basic"),h=g.d3,i={};i.initTraces=function(a){var b=window.jQuery("#metrics g.traces");a.traces=[],a.digest.data.forEach(function(c,d){var e={index:d,legendElement:window.jQuery(b[d]),name:c.name,enabled:!0};a.traces.push(e),e.legendElement.click(function(){e.enabled=!e.enabled,a.$apply()})})},f.directive("digestGraph",e)},{"../":101,"plotly.js/lib/index-basic":521}],76:[function(a,b,c){"use strict";function d(a,b){return{restrict:"AC",link:function(){b.on("keydown",function(b){27===b.keyCode&&a.$broadcast("telemetry:esc")})}}}d.$inject=["$rootScope","$document"],a("../").directive("escKey",d)},{"../":101}],77:[function(a,b,c){"use strict";function d(a,b){a.expand=!0,a.onClick=function(){var c=a.expand?b.cards.expandAll:b.cards.collapseAll;a.$broadcast(c),a.expand=!a.expand}}function e(){return{templateUrl:"js/components/expandAllButton/expandAllButton.html",restrict:"E",replace:!0,controller:d}}d.$inject=["$scope","Events"],a("../").directive("expandAllButton",e)},{"../":101}],78:[function(a,b,c){"use strict";function d(a,b,c,d,e){a.openFeedbackPage=function(){e.asyncCurrent(function(a){d.open({templateUrl:"js/components/feedback/feedbackModal.html",windowClass:"system-modal ng-animate-enabled",backdropClass:"ng-animate-enabled",controller:"feedbackModalCtrl",resolve:{feedbackInfo:function(){return{fromPage:c.url(),fromState:b.current.name,user:a}}}})})}}function e(){return{templateUrl:"js/components/feedback/feedbackButton.html",restrict:"E",controller:d,replace:!0}}d.$inject=["$scope","$state","$location","$modal","User"],a("../").directive("feedbackButton",e)},{"../":101}],79:[function(a,b,c){"use strict";function d(a,b,c,d){a.feedbackInfo=c,a.isError=!1,a.setEmailOverride=function(){a.emailOverride=!0},a.isCommentPopulated=function(){return""!==a.comment&&void 0!==a.comment},a.submitForm=function(){var b={comment:a.comment,email:a.feedbackInfo.user.email,from_page:c.fromPage};d.sendFeedback(b).success(function(){a.close()})["catch"](function(){a.isError=!0})},a.close=function(){b.dismiss("close")}}d.$inject=["$scope","$modalInstance","feedbackInfo","Feedback"],a("../").controller("feedbackModalCtrl",d)},{"../":101}],80:[function(a,b,c){"use strict";function d(a,b,c,d,e){a.options=[{id:"all",label:b.getString("All"),withActions:!0,withoutActions:!0},{id:"affected",label:b.getString("Affected"),withActions:!0,withoutActions:!1},{id:"healthy",label:b.getString("Healthy"),withActions:!1,withoutActions:!0}],a.select=function(b){a.selected=b,d.setState("inventoryWithActions",b.withActions),d.setState("inventoryWithoutActions",b.withoutActions),e.doFilter()},function(){if(a.selected=g(a.options,{withActions:d.getState("inventoryWithActions"),withoutActions:d.getState("inventoryWithoutActions")}),!a.selected)throw new Error("Invalid system health selector state: "+d.getState("inventoryWithActions")+":"+d.getState("inventoryWithoutActions"))}(),a.$on(c.filters.reset,function(){a.select(g(a.options,function(a){return"all"===a.id}))})}function e(){return{templateUrl:"js/components/filterComponents/actionsSelect/actionsSelect.html",restrict:"E",controller:d,scope:{}}}d.$inject=["$scope","gettextCatalog","Events","MultiButtonService","FilterService"];var f=a("../../"),g=a("lodash/find");f.directive("actionsSelect",e)},{"../../":101,"lodash/find":457}],81:[function(a,b,c){"use strict";function d(a,b,c){var d=a.key||"categoryFilters";a.categoryButtons=[],b.forEach(function(b){a.categoryButtons.push({label:b,stateKey:d+b,icon:["category-icon",b.toLowerCase()],toggleCallback:function(){c.doFilter(),a.onClick()}})})}function e(){return{templateUrl:"js/components/filterComponents/categoryMultiButton/categoryMultiButton.html",restrict:"E",controller:d,scope:{key:"=?",onClick:"&"}}}d.$inject=["$scope","Categories","FilterService"],a("../../").directive("categoryMultiButton",e)},{"../../":101}],82:[function(a,b,c){"use strict";function d(a,b,c,d){a.options=[{id:"all",label:b.getString("All"),online:!0,offline:!0},{id:"online",label:b.getString("Checking In"),online:!0,offline:!1},{id:"offline",label:b.getString("Stale"),online:!1,offline:!0}],a.select=function(b){a.selected=b,d.setOnline(b.online),d.setOffline(b.offline),d.doFilter()},function(){if(a.selected=g(a.options,{online:d.getOnline(),offline:d.getOffline()}),!a.selected)throw new Error("Invalid online selector state: "+d.getOnline()+":"+d.getOffline())}(),a.$on(c.filters.reset,function(){a.select(g(a.options,function(a){return"all"===a.id}))})}function e(){return{templateUrl:"js/components/filterComponents/checkInSelect/checkInSelect.html",restrict:"E",controller:d,scope:{}}}d.$inject=["$scope","gettextCatalog","Events","FilterService"];var f=a("../../"),g=a("lodash/find");f.directive("checkInSelect",e)},{"../../":101,"lodash/find":457}],83:[function(a,b,c){"use strict";function d(a,b){a.getShowFilters=b.getShowFilters,a.toggleShowFilters=b.toggleShowFilters}function e(){return{templateUrl:"js/components/filterComponents/filterButton/filterButton.html",restrict:"E",replace:!0,controller:d}}d.$inject=["$scope","FilterService"],a("../../").directive("filterButton",e)},{"../../":101}],84:[function(a,b,c){"use strict";function d(a,b,c,d,e,f,g,h){function i(b){return-1!==a.validFields.indexOf(b)}function j(a){return a.length>0&&(a+=", "),a}a.fields=[],a.summaryLabels={platform:"Platform",host:"Host",actions:"Actions",group:"Group",types:"Types",cluster:"Deployment",category:"Category",severity:"Severity",offline:"Offline"},a.getSummaryText=function(){var e,k,l="",m="",n=d.current().display_name,o=c.getSelectedProduct(),p="";return a.fields=[],a.validFields||(a.validFields=[]),i("product")&&!c.getRHELOnly()&&(c.getSelectedProduct()===g.rhel.code?a.fields.push({name:a.summaryLabels.platform,value:g.rhel.shortName}):c.getSelectedProduct()===g.osp.code?(a.fields.push({name:a.summaryLabels.platform,value:g.osp.shortName}),(e=c.getSelectedOSPDeployment())&&i("osp_deployment")&&(m="all"===e.system_id?"All Deployments":e.display_name?e.display_name:e.hostname?e.hostname:e.system_id,a.fields.push({name:g.osp.roles.cluster.shortName,value:m}))):c.getSelectedProduct()===g.ocp.code?a.fields.push({name:a.summaryLabels.platform,value:g.ocp.shortName}):c.getSelectedProduct()===g.rhev.code?a.fields.push({name:a.summaryLabels.platform,value:g.rhev.shortName}):c.getSelectedProduct()===g.docker.code?(a.fields.push({name:a.summaryLabels.platform,value:g.docker.shortName}),(k=c.getSelectedDockerHost())&&i("docker_host")&&(l="all"===k.system_id?"All Hosts":k.display_name?k.display_name:k.hostname?k.hostname:k.system_id,a.fields.push({name:a.summaryLabels.host,value:l}))):"all"===c.getSelectedProduct()&&a.fields.push({name:a.summaryLabels.platform,value:"All"})),i("actions")&&(b.getState("inventoryWithActions")&&b.getState("inventoryWithoutActions")?a.fields.push({name:a.summaryLabels.actions,value:"With or Without"}):b.getState("inventoryWithActions")?a.fields.push({name:a.summaryLabels.actions,value:"With"}):b.getState("inventoryWithoutActions")&&a.fields.push({name:a.summaryLabels.actions,value:"Without"})),i("group")&&(n?a.fields.push({name:a.summaryLabels.group,value:n}):a.fields.push({name:a.summaryLabels.group,value:"All"})),i("category")&&h.forEach(function(c){b.getState("categoryFilters"+c)&&a.fields.push({name:a.summaryLabels.category,value:c})}),i("severity")&&f.forEach(function(c){b.getState("severityFilters"+c)&&a.fields.push({name:a.summaryLabels.severity,value:c})}),i("role")&&o!==g.rhel.code&&"all"!==o&&(o===g.osp.code?(b.getState("inventoryOSPCluster")&&(p=j(p),p+=g.osp.roles.cluster.shortName),b.getState("inventoryOSPDirector")&&(p=j(p),p+=g.osp.roles.director.shortName),b.getState("inventoryOSPCompute")&&(p=j(p),p+=g.osp.roles.compute.shortName),b.getState("inventoryOSPController")&&(p=j(p),p+=g.osp.roles.controller.shortName)):o===g.ocp.code?(b.getState("inventoryOCPCluster")&&(p=j(p),p+=g.ocp.roles.cluster.shortName),b.getState("inventoryOCPMasters")&&(p=j(p),p+=g.osp.roles.master.shortName),b.getState("inventoryOCPNodes")&&(p=j(p),p+=g.ocp.roles.node.shortName)):o===g.rhev.code?(b.getState("inventoryRHEVHypervisors")&&(p=j(p),p+=g.rhev.roles.hypervisor.shortName),b.getState("inventoryRHEVManagers")&&(p=j(p),p+=g.rhev.roles.manager.shortName),b.getState("inventoryRHEVDeployments")&&(p=j(p),p+=g.rhev.roles.cluster.shortName)):o===g.docker.code&&(b.getState("inventoryDockerHosts")&&(p=j(p),p+=g.docker.roles.host.shortName),b.getState("inventoryDockerImages")&&(p=j(p),p+=g.docker.roles.image.shortName),b.getState("inventoryDockerContainers")&&(p=j(p),p+=g.docker.roles.container.shortName)),a.fields.push({name:a.summaryLabels.types,value:p})),i("offline")&&c.getOffline()&&a.fields.push({name:a.summaryLabels.offline,value:"Yes"}),""},a.$on("filterService:doFilter",a.getSummaryText),a.$on(e.filters.populatedProducts,a.getSummaryText),a.getSummaryText()}function e(){return{templateUrl:"js/components/filterComponents/filterSummary/filterSummary.html",restrict:"E",controller:d,scope:{validFields:"="}}}d.$inject=["$scope","MultiButtonService","FilterService","Group","Events","Severities","Products","Categories"],a("../../").directive("filterSummary",e)},{"../../":101}],85:[function(a,b,c){"use strict";function d(){}function e(){return{templateUrl:"js/components/filterComponents/hideIgnoredToggle/hideIgnoredToggle.html",restrict:"E",controller:d}}a("../../").directive("hideIgnoredToggle",e)},{"../../":101}],86:[function(a,b,c){"use strict";function d(a,b){a.getSelectedDockerHost=b.getSelectedDockerHost,a.getDockerHosts=b.getDockerHosts,a.doSelectDockerHost=function(a){b.setSelectedDockerHost(a),"all"===b.getSelectedDockerHost().system_id?b.setParentNode(null):b.setParentNode(a.system_id),b.doFilter()}}function e(){return{templateUrl:"js/components/filterComponents/productFilters/docker/dockerHostSelect/dockerHostSelect.html",restrict:"E",replace:!0,controller:d}}d.$inject=["$scope","FilterService"],a("../../../../").directive("dockerHostSelect",e)},{"../../../../":101}],87:[function(a,b,c){"use strict";function d(a,b){a.dockerNodeTypes=[{label:"Hosts",stateKey:"inventoryDockerHosts",icon:"fa-ship",toggleCallback:function(){b.setRolesQueryParam("host","inventoryDockerHosts"),b.doFilter()}},{label:"Containers",stateKey:"inventoryDockerContainers",icon:"fa-cube",toggleCallback:function(){b.setRolesQueryParam("container","inventoryDockerContainers"),b.doFilter()}},{label:"Images",stateKey:"inventoryDockerImages",icon:"fa-archive",toggleCallback:function(){b.setRolesQueryParam("image","inventoryDockerImages"),b.doFilter()}}]}function e(){return{templateUrl:"js/components/filterComponents/productFilters/docker/dockerTypeMultiButton/dockerTypeMultiButton.html",restrict:"E",replace:!0,controller:d}}d.$inject=["$scope","FilterService"],a("../../../../").directive("dockerTypeMultiButton",e)},{"../../../../":101}],88:[function(a,b,c){"use strict";function d(a,b,c,d){a.getSelectedOSPDeployment=d.getSelectedOSPDeployment,a.getOSPDeployments=d.getOSPDeployments,a.doSelectOSPDeployment=function(a){d.setSelectedOSPDeployment(a),d.doFilter()}}function e(){return{templateUrl:"js/components/filterComponents/productFilters/osp/ospDeploymentSelect/ospDeploymentSelect.html",restrict:"E",replace:!0,controller:d}}d.$inject=["$scope","$rootScope","InventoryService","FilterService"],a("../../../../").directive("ospDeploymentSelect",e)},{"../../../../":101}],89:[function(a,b,c){"use strict";function d(a,b,c){a.ospNodeTypes=[{label:"Deployment",stateKey:"inventoryOSPCluster",icon:c.osp.roles.cluster.icon,toggleCallback:function(){b.setRolesQueryParam("cluster","inventoryOSPCluster"),b.doFilter()}},{label:"Director",stateKey:"inventoryOSPDirector",icon:c.osp.roles.director.icon,toggleCallback:function(){b.setRolesQueryParam("director","inventoryOSPDirector"),b.doFilter()}},{label:"Compute",stateKey:"inventoryOSPCompute",icon:c.osp.roles.compute.icon,toggleCallback:function(){b.setRolesQueryParam("compute","inventoryOSPCompute"),b.doFilter()}},{label:"Controller",stateKey:"inventoryOSPController",icon:c.osp.roles.controller.icon,toggleCallback:function(){b.setRolesQueryParam("controller","inventoryOSPController"),b.doFilter()}}]}function e(){return{templateUrl:"js/components/filterComponents/productFilters/osp/ospTypeMultiButton/ospTypeMultiButton.html",restrict:"E",controller:d}}d.$inject=["$scope","FilterService","Products"],a("../../../../").directive("ospTypeMultiButton",e)},{"../../../../":101}],90:[function(a,b,c){"use strict";function d(a,b,c){a.rhevNodeTypes=[{label:"Deployments",stateKey:"inventoryRHEVDeployments",icon:c.rhev.roles.deployment.icon,toggleCallback:function(){b.setRolesQueryParam("cluster","inventoryRHEVDeployments"),b.doFilter()}},{label:"Managers",stateKey:"inventoryRHEVManagers",icon:c.rhev.roles.manager.icon,toggleCallback:function(){b.setRolesQueryParam("manager","inventoryRHEVManagers"),b.doFilter()}},{label:"Hypervisors",stateKey:"inventoryRHEVHypervisors",icon:c.rhev.roles.hypervisor.icon,toggleCallback:function(){b.setRolesQueryParam("hypervisor","inventoryRHEVHypervisors"),b.doFilter()}}]}function e(){return{templateUrl:"js/components/filterComponents/productFilters/rhev/rhevTypeMultiButton/rhevTypeMultiButton.html",restrict:"E",controller:d}}d.$inject=["$scope","FilterService","Products"],a("../../../../").directive("rhevTypeMultiButton",e)},{"../../../../":101}],91:[function(a,b,c){"use strict";function d(a,b,c,d,e,f,g,h){function i(){h.setRolesQueryParam("manager","inventoryRHEVManagers"),h.setRolesQueryParam("hypervisor","inventoryRHEVHypervisors")}function j(){h.setRolesQueryParam("host","inventoryDockerHosts"),h.setRolesQueryParam("container","inventoryDockerContainers"),h.setRolesQueryParam("image","inventoryDockerImages")}function k(){h.setRolesQueryParam("director","inventoryOSPDirector"),h.setRolesQueryParam("cluster","inventoryOSPCluster"),h.setRolesQueryParam("compute","inventoryOSPCompute"),h.setRolesQueryParam("controller","inventoryOSPController")}function l(){h.setRolesQueryParam("director","inventoryOCPDirector"),h.setRolesQueryParam("master","inventoryOCPMaster"),h.setRolesQueryParam("node","inventoryOCPNodes")}function m(){c.getProducts().then(function(c){a.products=c.data,c.data&&c.data.length<=1?h.setRHELOnly(!0):(h.setRHELOnly(!1),a.products.splice(0,0,"all")),b.$broadcast(d.filters.populatedProducts)})}a.products=[],a.getSelectedProduct=h.getSelectedProduct,a.getRHELOnly=h.getRHELOnly,a.getProductLabel=function(a){return"all"===a?"All Platforms":a===g.rhel.code?g.rhel.fullName:a===g.osp.code?g.osp.fullName:a===g.rhev.code?g.rhev.fullName:a===g.ocp.code?g.ocp.fullName:a===g.docker.code?g.docker.fullName:void 0},a.doSelectProduct=function(a){h.setSelectedProduct(a),b.$broadcast(d.checkboxes.reset),a===g.rhev.code?(h.setParentNode(null),i(),h.doFilter()):a===g.docker.code?e.populateDockerHosts().then(function(){j(),h.doFilter()}):a===g.ocp.code?e.populateOCPDeployments().then(function(){l(),h.doFilter()}):a===g.osp.code?e.populateOSPDeployments().then(function(){k(),h.doFilter()}):(h.setParentNode(null),h.doFilter())},b.$on("reload:data",m),m()}function e(){return{templateUrl:"js/components/filterComponents/productSelect/productSelect.html",restrict:"E",controller:d}}d.$inject=["$scope","$rootScope","Account","Events","System","SystemsService","Products","FilterService"],a("../../").directive("productSelect",e)},{"../../":101}],92:[function(a,b,c){"use strict";function d(a,b,c){function d(b){a.onChange({state:b})}var e="rule-admin-state";a.ruleStateButtons=b.map(function(a){var b=a.replace(" ","-");return{label:a,stateKey:e+b,icon:b+"-rule-state-icon",toggleCallback:function(){window.localStorage.setItem("insights:rule-admin-state",b),d(b)}}}),a.ruleStateButtons.forEach(function(a){c.initState(a.stateKey)});var f=window.localStorage.getItem("insights:rule-admin-state")||"all";c.setState(e+f,!0),d(f)}function e(){return{templateUrl:"js/components/filterComponents/ruleStateMultiButton/ruleStateMultiButton.html",restrict:"E",controller:d,scope:{onChange:"&"}}}d.$inject=["$scope","RuleStates","MultiButtonService"],a("../../").directive("ruleStateMultiButton",e)},{"../../":101}],93:[function(a,b,c){"use strict";function d(a,b,c){function d(){a.onSearch&&a.onSearch({model:a.model||""})}a.placeholder=a.placeholder||b.getString("Search…"),a.keyPressed=function(b){13===b.keyCode&&(a.change.cancel&&a.change.cancel(),d())};var e=function(){if(a.throttle){var b=parseInt(a.throttle);if(isNaN(b))throw new Error("Unknown throttle value "+a.throttle);return b}return h}();a.change=0===e?d:g(function(b){return function(){var c=a.$root.$$phase;"$apply"===c||"$digest"===c?b():a.$apply(b)}}(d),e,{leading:!1,trailing:!0}),a.$on(c.filters.reset,function(){a.model=""})}function e(){return{templateUrl:"js/components/filterComponents/searchBox/searchBox.html",restrict:"E",replace:!0,controller:d,scope:{placeholder:"@",model:"=?ngModel",onSearch:"&?",throttle:"@"}}}d.$inject=["$scope","gettextCatalog","Events"];var f=a("../../"),g=a("lodash/throttle"),h=500;f.directive("searchBox",e)},{"../../":101,"lodash/throttle":507}],94:[function(a,b,c){"use strict";function d(a,b,c,d,e){a.severityButtons=[];var f=!1;c.forEach(function(b){a.severityButtons.push({label:b,icon:b+"-severity-icon",stateKey:"severityFilters"+b,toggleCallback:d.doFilter}),e.getState("severityFilters"+b)&&(e.setState("severityFilters"+b,!0),f=!0)}),f||e.setState("severityFiltersAll",!0)}function e(){return{templateUrl:"js/components/filterComponents/severityMultiButton/severityMultiButton.html",restrict:"E",replace:!0,controller:d}}d.$inject=["$scope","$location","Severities","FilterService","MultiButtonService"],a("../../").directive("severityMultiButton",e)},{"../../":101}],95:[function(a,b,c){"use strict";function d(a){return function(b){return a.trustAsHtml(b)}}function e(){function a(a){return a.toString().toLowerCase().replace(/\b([a-z])/g,function(a){return a.toUpperCase()})}return function(b){var c=[];return b=void 0===b||null===b?"":b,Array.isArray(b)?(angular.forEach(b,function(b){c.push(a(b))}),c):a(b)}}function f(){return function(a,b,c){return a?a!==b||c?a===b&&c?"sort-desc":"":"sort-asc":""}}function g(){return function(a,b,c){var d=q(a,b);return c?d.reverse():d}}function h(){return function(a,b){return b=parseInt(b,10),a?a.slice(b):[]}}function i(){return function(a){return a?a.replace("Red Hat Enterprise Linux","RHEL"):a}}function j(){return function(a){return a=isNaN(a)?0:Math.max(0,Math.min(1,a)),{width:Math.round(100*a)+"%"}}}function k(){return function(a){return a.isCheckingIn?"text-success":"text-danger"}}function l(){return function(a,b,c){var d=t(a);return c&&(d=d.tz(c)),d.format(b)}}function m(a){return function(b,c){function d(a){return a&&"string"!=typeof a&&(a=a.toString()),a&&a.toLowerCase().indexOf(c.toLowerCase())>-1}function e(a){return function(b){return d(b[a])}}function f(a,b){return function(c){return u(c[a],b).some(d)}}if(!b||!s(b))return[];if(!c)return b;var g=[e("maintenance_id"),e("name"),function(b){return d(a("date")(b.start,"fullDate"))},f("systems","hostname"),f("systems","display_name"),f("rules","description"),f("rules","rule_id")],h=v(g);return b.filter(h)}}function n(){return function(a){return t(a).fromNow()}}function o(a){return function(b){return a.getSystemDisplayName(b)}}d.$inject=["e"],m.$inject=["e"],o.$inject=["e"],d.$inject=["$sce"],m.$inject=["$filter"],o.$inject=["Utils"];var p=a("../"),q=a("lodash/sortBy"),r=a("lodash/isEmpty"),s=a("lodash/isArray"),t=a("./../../../bower_components/moment-timezone/builds/moment-timezone-with-data-2010-2020.js"),u=a("lodash/map"),v=a("lodash/overSome");p.filter("trust_html",d),p.filter("titlecase",e),p.filter("sortClass",f),p.filter("productShortName",i),p.filter("orderObjectBy",g),p.filter("offset",h),p.filter("toWidth",j),p.filter("checkInStyle",k),p.filter("searchMaintenancePlans",m),p.filter("moment",l),p.filter("getSystemDisplayName",o),p.filter("isEmpty",function(){return r}),p.filter("timeAgo",n)},{"../":101,"./../../../bower_components/moment-timezone/builds/moment-timezone-with-data-2010-2020.js":14,"lodash/isArray":471,"lodash/isEmpty":475,"lodash/map":487,"lodash/overSome":493,"lodash/sortBy":501}],96:[function(a,b,c){"use strict";function d(){return{templateUrl:"js/components/gettingStartedTabs/gettingStartedTabs.html",restrict:"ECA",replace:!0}}a("../").directive("gettingStartedTabs",d)},{"../":101}],97:[function(a,b,c){"use strict";function d(a,b,c,d){a.isCollapsed=!1,a.deleteGroup=function(a){var e=d.getString("You will not be able to recover <code>{{name}}</code>",{name:a.display_name});b.swal({title:"Are you sure?",text:e,type:"warning",html:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes",showCancelButton:!0},function(b){b&&c.deleteGroup(a)})}}function e(){return{templateUrl:"js/components/group/views/group.html",restrict:"E",controller:d}}d.$inject=["$scope","SweetAlert","Group","gettextCatalog"],a("../").directive("group",e)},{"../":101}],98:[function(a,b,c){"use strict";function d(a,b,c,d){a.create=function(e){a.isCreating=!0,b.createGroup(e).then(function(b){a.isCreating=!1,b&&b.id&&d(function(){c.scrollTo(document.getElementById("group-"+b.id),20,300)},0)},function(){a.isCreating=!1}),a.newGroup={display_name:""}},a.newGroup={display_name:""}}function e(){return{templateUrl:"js/components/group/views/form.html",restrict:"EC",controller:d}}d.$inject=["$scope","Group","$document","$timeout"],a("../").directive("groupForm",e)},{"../":101}],99:[function(a,b,c){"use strict";function d(a,b,c,d){c.init(),a.groups=c.groups,a.group=c.current(),a.triggerChange=function(d){a.group=d,c.setCurrent(d),b.$broadcast("group:change",d)},a.$on("account:change",function(){a.triggerChange(null)}),a.isGroupSelected=function(){return!g(a.group)},a.$on(d.filters.reset,function(){a.group=c.current()})}function e(){return{templateUrl:"js/components/groupSelect/groupSelect.html",restrict:"E",replace:!0,controller:d,scope:{round:"=",disabled:"<"}}}d.$inject=["$scope","$rootScope","Group","Events"];var f=a("../"),g=a("lodash/isEmpty");f.directive("groupSelect",e)},{"../":101,"lodash/isEmpty":475}],100:[function(a,b,c){"use strict";function d(){return{restrict:"A",link:function(a,b,c){a.$watch(c.ngIndeterminate,function(a){b.prop("indeterminate",!!a)})}}}a("../").directive("ngIndeterminate",d)},{"../":101}],101:[function(a,b,c){"use strict";b.exports=angular.module("insights.components",[]),function(){var b=a("./index.js");b.accountSelect={"accountSelect.directive":a("./accountSelect/accountSelect.directive.js")},b.actionbar={"actionbar.directive":a("./actionbar/actionbar.directive.js")},b.actions={"actions.directive":a("./actions/actions.directive.js"),actionsBack:{"actionsBack.directive":a("./actions/actionsBack/actionsBack.directive.js")},actionsBreadcrumbs:{"actionsBreadcrumbs.directive":a("./actions/actionsBreadcrumbs/actionsBreadcrumbs.directive.js")},actionsRule:{"actionsRule.controller":a("./actions/actionsRule/actionsRule.controller.js")},actionsRuleFilters:{"actionsRuleFilters.controller":a("./actions/actionsRuleFilters/actionsRuleFilters.controller.js")},severitySummary:{"severitySummary.directive":a("./actions/severitySummary/severitySummary.directive.js")},systemSummary:{"systemSummary.directive":a("./actions/systemSummary/systemSummary.directive.js")}},b.announcements={announcementsScroll:{"announcementsScroll.directive":a("./announcements/announcementsScroll/announcementsScroll.directive.js")}},b.ansibleIcon={"ansibleIcon.directive":a("./ansibleIcon/ansibleIcon.directive.js")},b.betaSwitchButton={"betaSwitchButton.directive":a("./betaSwitchButton/betaSwitchButton.directive.js")},b.bullhorn={"bullhorn.directive":a("./bullhorn/bullhorn.directive.js")},b.card={"card.directive":a("./card/card.directive.js"),systemCard:{"systemCard.directive":a("./card/systemCard/systemCard.directive.js")}},b.categoryIcon={"categoryIcon.directive":a("./categoryIcon/categoryIcon.directive.js")},b.config={dev:{"dev.directive":a("./config/dev/dev.directive.js")},groups:{"groups.directive":a("./config/groups/groups.directive.js")},hidden:{"hidden.directive":a("./config/hidden/hidden.directive.js")},messaging:{"messaging.directive":a("./config/messaging/messaging.directive.js")},permissions:{"permissions.directive":a("./config/permissions/permissions.directive.js")},settings:{"settings.directive":a("./config/settings/settings.directive.js")}},b.demoAccountSwitcher={"demoAccountSwitcher.directive":a("./demoAccountSwitcher/demoAccountSwitcher.directive.js")},b.digest={"digestGraph.directive":a("./digest/digestGraph.directive.js")},b.escKey={"escKey.directive":a("./escKey/escKey.directive.js")},b.expandAllButton={"expandAllButton.directive":a("./expandAllButton/expandAllButton.directive.js")},b.feedback={"feedbackButton.directive":a("./feedback/feedbackButton.directive.js"),"feedbackModal.directive":a("./feedback/feedbackModal.directive.js")},b.filterComponents={
actionsSelect:{"actionsSelect.directive":a("./filterComponents/actionsSelect/actionsSelect.directive.js")},categoryMultiButton:{"categoryMultiButton.directive":a("./filterComponents/categoryMultiButton/categoryMultiButton.directive.js")},checkInSelect:{"checkInSelect.directive":a("./filterComponents/checkInSelect/checkInSelect.directive.js")},filterButton:{"filterButton.directive":a("./filterComponents/filterButton/filterButton.directive.js")},filterSummary:{"filterSummary.directive":a("./filterComponents/filterSummary/filterSummary.directive.js")},hideIgnoredToggle:{"hideIgnoredToggle.directive":a("./filterComponents/hideIgnoredToggle/hideIgnoredToggle.directive.js")},productFilters:{docker:{dockerHostSelect:{"dockerHostSelect.directive":a("./filterComponents/productFilters/docker/dockerHostSelect/dockerHostSelect.directive.js")},dockerTypeMultiButton:{"dockerTypeMultiButton.directive":a("./filterComponents/productFilters/docker/dockerTypeMultiButton/dockerTypeMultiButton.directive.js")}},osp:{ospDeploymentSelect:{"ospDeploymentSelect.directive":a("./filterComponents/productFilters/osp/ospDeploymentSelect/ospDeploymentSelect.directive.js")},ospTypeMultiButton:{"ospTypeMultiButton.directive":a("./filterComponents/productFilters/osp/ospTypeMultiButton/ospTypeMultiButton.directive.js")}},rhev:{rhevTypeMultiButton:{"rhevTypeMultiButton.directive":a("./filterComponents/productFilters/rhev/rhevTypeMultiButton/rhevTypeMultiButton.directive.js")}}},productSelect:{"productSelect.directive":a("./filterComponents/productSelect/productSelect.directive.js")},ruleStateMultiButton:{"ruleStateMultiButton.directive":a("./filterComponents/ruleStateMultiButton/ruleStateMultiButton.directive.js")},searchBox:{"searchBox.directive":a("./filterComponents/searchBox/searchBox.directive.js")},severityMultiButton:{"severityMultiButton.directive":a("./filterComponents/severityMultiButton/severityMultiButton.directive.js")}},b.filters={filters:a("./filters/filters.js")},b.gettingStartedTabs={"gettingStartedTabs.directive":a("./gettingStartedTabs/gettingStartedTabs.directive.js")},b.group={"group.directive":a("./group/group.directive.js"),"groupForm.directive":a("./group/groupForm.directive.js")},b.groupSelect={"groupSelect.directive":a("./groupSelect/groupSelect.directive.js")},b.indeterminate={"indeterminate.directive":a("./indeterminate/indeterminate.directive.js")},b.index=a("./index.js"),b.insightsLogo={"insightsLogo.directive":a("./insightsLogo/insightsLogo.directive.js")},b.insightsTagline={"insightsTagline.directive":a("./insightsTagline/insightsTagline.directive.js")},b.inventory={inventoryActions:{"inventoryActions.directive":a("./inventory/inventoryActions/inventoryActions.directive.js")},inventoryFilters:{"inventoryFilters.directive":a("./inventory/inventoryFilters/inventoryFilters.directive.js")},system:{"system.directive":a("./inventory/system/system.directive.js")}},b.linkGroup={"linkGroup.directive":a("./linkGroup/linkGroup.directive.js")},b.listType={"listType.controller":a("./listType/listType.controller.js"),"listType.directive":a("./listType/listType.directive.js")},b.maintenance={maintenanceCategorySelect:{"maintenanceCategorySelect.directive":a("./maintenance/maintenanceCategorySelect/maintenanceCategorySelect.directive.js")},maintenanceModal:{"maintenanceModal.directive":a("./maintenance/maintenanceModal/maintenanceModal.directive.js")},maintenancePlan:{"maintenancePlan.directive":a("./maintenance/maintenancePlan/maintenancePlan.directive.js")},maintenancePlaybook:{"maintenancePlaybook.controller":a("./maintenance/maintenancePlaybook/maintenancePlaybook.controller.js")},maintenanceTable:{"maintenanceTable.controller":a("./maintenance/maintenanceTable/maintenanceTable.controller.js"),"maintenanceTable.directive":a("./maintenance/maintenanceTable/maintenanceTable.directive.js"),"maintenanceTableFooter.directive":a("./maintenance/maintenanceTable/maintenanceTableFooter.directive.js")}},b.misc={trimmedText:{"trimmedText.directive":a("./misc/trimmedText/trimmedText.directive.js")}},b.mitigationTrend={"mitigationTrend.directive":a("./mitigationTrend/mitigationTrend.directive.js")},b.multiButton={"multiButton.directive":a("./multiButton/multiButton.directive.js")},b.namespace={"namespace.directive":a("./namespace/namespace.directive.js")},b.notifications={"notifications.directive":a("./notifications/notifications.directive.js")},b.overview={articleModal:{articleModal:a("./overview/articleModal/articleModal.js")},widgets:{goals:{goalsBar:{"goalsBar.directive":a("./overview/widgets/goals/goalsBar/goalsBar.directive.js")},goalsGauge:{"goalsGauge.directive":a("./overview/widgets/goals/goalsGauge/goalsGauge.directive.js")},"goalsLite.directive":a("./overview/widgets/goals/goalsLite.directive.js")},handcraftedContent:{"handcraftedContent.directive":a("./overview/widgets/handcraftedContent/handcraftedContent.directive.js")},highPrio:{"highPrio.directive":a("./overview/widgets/highPrio/highPrio.directive.js")},maintenancePlanLite:{"maintenancePlanLite.directive":a("./overview/widgets/maintenancePlanLite/maintenancePlanLite.directive.js"),maintenancePlanLiteTable:{"maintenancePlanLiteTable.directive":a("./overview/widgets/maintenancePlanLite/maintenancePlanLiteTable/maintenancePlanLiteTable.directive.js")}},newSystems:{"newSystems.directive":a("./overview/widgets/newSystems/newSystems.directive.js")}}},b.platformFilter={"platformFilter.directive":a("./platformFilter/platformFilter.directive.js")},b.recommendedKbase={"recommendedKbase.directive":a("./recommendedKbase/recommendedKbase.directive.js")},b.relativeHash={"relativeHash.directive":a("./relativeHash/relativeHash.directive.js")},b.rhDonut={"rhDonut.directive":a("./rhDonut/rhDonut.directive.js")},b.rule={ruleBreadcrumb:{"ruleBreadcrumb.directive":a("./rule/ruleBreadcrumb/ruleBreadcrumb.directive.js")},ruleFilter:{"ruleFilter.directive":a("./rule/ruleFilter/ruleFilter.directive.js")},ruleGroupCard:{"ruleGroupCard.directive":a("./rule/ruleGroupCard/ruleGroupCard.directive.js")},ruleListSimple:{"ruleListSimple.directive":a("./rule/ruleListSimple/ruleListSimple.directive.js")},ruleReason:{"ruleReason.directive":a("./rule/ruleReason/ruleReason.directive.js")},ruleResolution:{"ruleResolution.directive":a("./rule/ruleResolution/ruleResolution.directive.js")},ruleSummaries:{"ruleSummaries.directive":a("./rule/ruleSummaries/ruleSummaries.directive.js")},ruleSummary:{"ruleSummary.directive":a("./rule/ruleSummary/ruleSummary.directive.js")},ruleToggle:{"ruleToggle.directive":a("./rule/ruleToggle/ruleToggle.directive.js")}},b.ruleStateIcon={"ruleStateIcon.directive":a("./ruleStateIcon/ruleStateIcon.directive.js")},b.severities={severities:a("./severities/severities.js")},b.severityIcon={"allSeverityIcons.directive":a("./severityIcon/allSeverityIcons.directive.js"),"severityIcon.directive":a("./severityIcon/severityIcon.directive.js")},b.sideNav={actionsSideNav:{"actionsSideNav.directive":a("./sideNav/actionsSideNav/actionsSideNav.directive.js")},"sideNav.directive":a("./sideNav/sideNav.directive.js")},b.simpleSelect={"simpleSelect.directive":a("./simpleSelect/simpleSelect.directive.js")},b.statusIcon={"statusIcon.directive":a("./statusIcon/statusIcon.directive.js")},b.stickyNav={"stickyNav.directive":a("./stickyNav/stickyNav.directive.js")},b.system={addSystemModal:{"addSystemModal.controller":a("./system/addSystemModal/addSystemModal.controller.js")},systemModal:{"systemModal.controller":a("./system/systemModal/systemModal.controller.js")},systemSummaryTable:{"systemSummaryTable.directive":a("./system/systemSummaryTable/systemSummaryTable.directive.js")},systemTable:{"systemTable.directive":a("./system/systemTable/systemTable.directive.js")}},b.systemMetadata={"systemMetadata.directive":a("./systemMetadata/systemMetadata.directive.js")},b.targetBlank={"targetBlank.directive":a("./targetBlank/targetBlank.directive.js")},b.timeRange={"timeRange.directive":a("./timeRange/timeRange.directive.js")},b.topbar={alerts:{"alerts.directive":a("./topbar/alerts/alerts.directive.js")},"topbar.directive":a("./topbar/topbar.directive.js")},b.topics={otherTopic:{"otherTopic.directive":a("./topics/otherTopic/otherTopic.directive.js")},topicAdminHelpBar:{"topicAdminHelpBar.directive":a("./topics/topicAdminHelpBar/topicAdminHelpBar.directive.js")},topicDetails:{"topicDetails.directive":a("./topics/topicDetails/topicDetails.directive.js")},topicPreviewModal:{topicPreviewModal:a("./topics/topicPreviewModal/topicPreviewModal.js")},topicRuleList:{"topicRuleList.directive":a("./topics/topicRuleList/topicRuleList.directive.js")}},b.typeIcon={"typeIcon.directive":a("./typeIcon/typeIcon.directive.js")},b["ui-bootstrap-custom"]=a("./ui-bootstrap-custom.js"),b.userInfo={"userInfo.directive":a("./userInfo/userInfo.directive.js")},b.validators={kbaseSolution:{"kbaseSolution.directive":a("./validators/kbaseSolution/kbaseSolution.directive.js")}},b.yesNo={"yesNo.directive":a("./yesNo/yesNo.directive.js")}}()},{"./accountSelect/accountSelect.directive.js":52,"./actionbar/actionbar.directive.js":53,"./actions/actions.directive.js":54,"./actions/actionsBack/actionsBack.directive.js":55,"./actions/actionsBreadcrumbs/actionsBreadcrumbs.directive.js":56,"./actions/actionsRule/actionsRule.controller.js":57,"./actions/actionsRuleFilters/actionsRuleFilters.controller.js":58,"./actions/severitySummary/severitySummary.directive.js":59,"./actions/systemSummary/systemSummary.directive.js":60,"./announcements/announcementsScroll/announcementsScroll.directive.js":61,"./ansibleIcon/ansibleIcon.directive.js":62,"./betaSwitchButton/betaSwitchButton.directive.js":63,"./bullhorn/bullhorn.directive.js":64,"./card/card.directive.js":65,"./card/systemCard/systemCard.directive.js":66,"./categoryIcon/categoryIcon.directive.js":67,"./config/dev/dev.directive.js":68,"./config/groups/groups.directive.js":69,"./config/hidden/hidden.directive.js":70,"./config/messaging/messaging.directive.js":71,"./config/permissions/permissions.directive.js":72,"./config/settings/settings.directive.js":73,"./demoAccountSwitcher/demoAccountSwitcher.directive.js":74,"./digest/digestGraph.directive.js":75,"./escKey/escKey.directive.js":76,"./expandAllButton/expandAllButton.directive.js":77,"./feedback/feedbackButton.directive.js":78,"./feedback/feedbackModal.directive.js":79,"./filterComponents/actionsSelect/actionsSelect.directive.js":80,"./filterComponents/categoryMultiButton/categoryMultiButton.directive.js":81,"./filterComponents/checkInSelect/checkInSelect.directive.js":82,"./filterComponents/filterButton/filterButton.directive.js":83,"./filterComponents/filterSummary/filterSummary.directive.js":84,"./filterComponents/hideIgnoredToggle/hideIgnoredToggle.directive.js":85,"./filterComponents/productFilters/docker/dockerHostSelect/dockerHostSelect.directive.js":86,"./filterComponents/productFilters/docker/dockerTypeMultiButton/dockerTypeMultiButton.directive.js":87,"./filterComponents/productFilters/osp/ospDeploymentSelect/ospDeploymentSelect.directive.js":88,"./filterComponents/productFilters/osp/ospTypeMultiButton/ospTypeMultiButton.directive.js":89,"./filterComponents/productFilters/rhev/rhevTypeMultiButton/rhevTypeMultiButton.directive.js":90,"./filterComponents/productSelect/productSelect.directive.js":91,"./filterComponents/ruleStateMultiButton/ruleStateMultiButton.directive.js":92,"./filterComponents/searchBox/searchBox.directive.js":93,"./filterComponents/severityMultiButton/severityMultiButton.directive.js":94,"./filters/filters.js":95,"./gettingStartedTabs/gettingStartedTabs.directive.js":96,"./group/group.directive.js":97,"./group/groupForm.directive.js":98,"./groupSelect/groupSelect.directive.js":99,"./indeterminate/indeterminate.directive.js":100,"./index.js":101,"./insightsLogo/insightsLogo.directive.js":102,"./insightsTagline/insightsTagline.directive.js":103,"./inventory/inventoryActions/inventoryActions.directive.js":104,"./inventory/inventoryFilters/inventoryFilters.directive.js":105,"./inventory/system/system.directive.js":106,"./linkGroup/linkGroup.directive.js":107,"./listType/listType.controller.js":108,"./listType/listType.directive.js":109,"./maintenance/maintenanceCategorySelect/maintenanceCategorySelect.directive.js":110,"./maintenance/maintenanceModal/maintenanceModal.directive.js":111,"./maintenance/maintenancePlan/maintenancePlan.directive.js":112,"./maintenance/maintenancePlaybook/maintenancePlaybook.controller.js":113,"./maintenance/maintenanceTable/maintenanceTable.controller.js":114,"./maintenance/maintenanceTable/maintenanceTable.directive.js":115,"./maintenance/maintenanceTable/maintenanceTableFooter.directive.js":116,"./misc/trimmedText/trimmedText.directive.js":117,"./mitigationTrend/mitigationTrend.directive.js":118,"./multiButton/multiButton.directive.js":119,"./namespace/namespace.directive.js":120,"./notifications/notifications.directive.js":121,"./overview/articleModal/articleModal.js":122,"./overview/widgets/goals/goalsBar/goalsBar.directive.js":123,"./overview/widgets/goals/goalsGauge/goalsGauge.directive.js":124,"./overview/widgets/goals/goalsLite.directive.js":125,"./overview/widgets/handcraftedContent/handcraftedContent.directive.js":126,"./overview/widgets/highPrio/highPrio.directive.js":127,"./overview/widgets/maintenancePlanLite/maintenancePlanLite.directive.js":128,"./overview/widgets/maintenancePlanLite/maintenancePlanLiteTable/maintenancePlanLiteTable.directive.js":129,"./overview/widgets/newSystems/newSystems.directive.js":130,"./platformFilter/platformFilter.directive.js":131,"./recommendedKbase/recommendedKbase.directive.js":132,"./relativeHash/relativeHash.directive.js":133,"./rhDonut/rhDonut.directive.js":134,"./rule/ruleBreadcrumb/ruleBreadcrumb.directive.js":135,"./rule/ruleFilter/ruleFilter.directive.js":136,"./rule/ruleGroupCard/ruleGroupCard.directive.js":137,"./rule/ruleListSimple/ruleListSimple.directive.js":138,"./rule/ruleReason/ruleReason.directive.js":139,"./rule/ruleResolution/ruleResolution.directive.js":140,"./rule/ruleSummaries/ruleSummaries.directive.js":141,"./rule/ruleSummary/ruleSummary.directive.js":142,"./rule/ruleToggle/ruleToggle.directive.js":143,"./ruleStateIcon/ruleStateIcon.directive.js":144,"./severities/severities.js":145,"./severityIcon/allSeverityIcons.directive.js":146,"./severityIcon/severityIcon.directive.js":147,"./sideNav/actionsSideNav/actionsSideNav.directive.js":148,"./sideNav/sideNav.directive.js":149,"./simpleSelect/simpleSelect.directive.js":150,"./statusIcon/statusIcon.directive.js":151,"./stickyNav/stickyNav.directive.js":152,"./system/addSystemModal/addSystemModal.controller.js":153,"./system/systemModal/systemModal.controller.js":154,"./system/systemSummaryTable/systemSummaryTable.directive.js":155,"./system/systemTable/systemTable.directive.js":156,"./systemMetadata/systemMetadata.directive.js":157,"./targetBlank/targetBlank.directive.js":158,"./timeRange/timeRange.directive.js":159,"./topbar/alerts/alerts.directive.js":160,"./topbar/topbar.directive.js":161,"./topics/otherTopic/otherTopic.directive.js":162,"./topics/topicAdminHelpBar/topicAdminHelpBar.directive.js":163,"./topics/topicDetails/topicDetails.directive.js":164,"./topics/topicPreviewModal/topicPreviewModal.js":165,"./topics/topicRuleList/topicRuleList.directive.js":166,"./typeIcon/typeIcon.directive.js":167,"./ui-bootstrap-custom.js":168,"./userInfo/userInfo.directive.js":169,"./validators/kbaseSolution/kbaseSolution.directive.js":170,"./yesNo/yesNo.directive.js":171}],102:[function(a,b,c){"use strict";function d(){return{templateUrl:"js/components/insightsLogo/insightsLogo.html",restrict:"EC",replace:!0}}a("../").directive("insightsLogo",d)},{"../":101}],103:[function(a,b,c){"use strict";function d(){return{templateUrl:"js/components/insightsTagline/insightsTagline.html",restrict:"EC",replace:!0}}a("../").directive("insightsTagline",d)},{"../":101}],104:[function(a,b,c){"use strict";function d(a,b,c,d,e,f,m,n,o,p,q,r,s){a.getTotal=c.getTotal,a.listTypes=r.types(),a.listType=r.getType,a.config=s,a.plans=f.plans,a.getSortLabel=function(b){return g(a.sortItems,{field:b}).label},a.$watch("checkboxes.items",function(){a.systemsToAction().length&&!a.isUnregistrableSelected()?a.unregisterButtonTooltip=o.getString("Selected systems cannot be unregistered alone. Remove their respective deployment."):a.unregisterButtonTooltip=null},!0),a.doUnregisterSelected=function(){function b(){e.unregisterSelectedSystems(d[0])}var c=a.systemsToAction(),d=h(c,a.canUnregisterSystem);if(d[1].length){var f=j(d[1],"system_type_id");f=k(f,function(a){var b=a[0];return{name:q[b.product_code].roles[b.role].fullName,count:a.length}}),p.renderTemplate(l,{roles:f,validCount:d[0].length}).then(function(a){var b=i(m.DEFAULT_WARNING_OPTS);return b.title=o.getPlural(d[1].length,"1 system cannot be unregistered","{{count}} systems cannot be unregistered",{count:d[1].length}),b.text=a,m.swal(b)}).then(function(a){a&&n(b,200)})}else b()},a.isUnregistrableSelected=function(){return a.systemsToAction().filter(a.canUnregisterSystem).length>0},a.isFixableSelected=function(){return a.systemsToAction().some(function(a){return a.report_count})},a.sortItems=[{field:"toString",label:o.getString("Name")},{field:"created_at",label:o.getString("Registration Date")},{field:"last_check_in",label:o.getString("Last Check In")},{field:"report_count",label:o.getString("Number of Actions")},{field:"system_type_id",label:o.getString("Type")}],a.getSortDirection=c.getSortDirection,a.getSortField=c.getSortField,a.sortLabel="Hostname",a.getSortType=function(){var a=c.getSortField();return"created_at"===a||"last_check_in"===a?"num":"report_count"===a?"amount":"alpha"},a.doSort=function(b){c.setSortField(b.field),a.sortLabel=b.label,"hostname"===b.field?c.setSortDirection("ASC"):c.setSortDirection("DESC"),d.doFilter()},a.toggleSortDirection=function(){"ASC"===c.getSortDirection()?c.setSortDirection("DESC"):c.setSortDirection("ASC"),d.doFilter()},a.getSortIconClasses=function(){return{"fa-sort-alpha-asc":"ASC"===a.getSortDirection()&&"alpha"===a.getSortType(),"fa-sort-alpha-desc":"DESC"===a.getSortDirection()&&"alpha"===a.getSortType(),"fa-sort-numeric-asc":"ASC"===a.getSortDirection()&&"num"===a.getSortType(),"fa-sort-numeric-desc":"DESC"===a.getSortDirection()&&"num"===a.getSortType(),"fa-sort-amount-asc":"ASC"===a.getSortDirection()&&"amount"===a.getSortType(),"fa-sort-amount-desc":"DESC"===a.getSortDirection()&&"amount"===a.getSortType()}},a.addToPlan=function(b){var c=a.systemsToAction();c.length&&f.showMaintenanceModal(c,null,b)},a.systemsToAction=function(){return a.reallyAllSelected?a.allSystems.filter(function(b){return!a.checkboxes.items.hasOwnProperty(b.system_id)||a.checkboxes.items.hasOwnProperty(b.system_id)&&!0===a.checkboxes.items[b.system_id]}):a.checkboxes.getSelected(a.systems)}}function e(){return{templateUrl:"js/components/inventory/inventoryActions/inventoryActions.html",restrict:"E",replace:!0,controller:d}}d.$inject=["$scope","$rootScope","InventoryService","FilterService","SystemsService","MaintenanceService","SweetAlert","$timeout","gettextCatalog","TemplateService","Products","ListTypeService","InsightsConfig"];var f=a("../../"),g=a("lodash/find"),h=a("lodash/partition"),i=a("lodash/clone"),j=a("lodash/groupBy"),k=a("lodash/map"),l="js/components/inventory/inventoryActions/unregisterConflict.html";f.directive("inventoryActions",e)},{"../../":101,"lodash/clone":448,"lodash/find":457,"lodash/groupBy":464,"lodash/map":487,"lodash/partition":494}],105:[function(a,b,c){"use strict";function d(a,b,c,d,e){a.getShowFilters=c.getShowFilters,a.getSelectedProduct=c.getSelectedProduct,a.filter=c,a.MultiButtonService=e,a.validSummaryFields=["product","actions","group","osp_deployment","docker_host","role","offline"],a.doShowEnvironmentFilters=function(){var a=!1;return-1!==["osp","rhev","docker","ocp"].indexOf(c.getSelectedProduct())&&(a=!0),a},a.resetFilters=function(){c.clearAll(),d.setCurrent({}),a.$emit("group:change",{}),a.$broadcast(b.filters.reset)}}function e(){return{templateUrl:"js/components/inventory/inventoryFilters/inventoryFilters.html",restrict:"E",replace:!0,controller:d}}d.$inject=["$scope","Events","FilterService","Group","MultiButtonService"],a("../../").directive("inventoryFilters",e)},{"../../":101}],106:[function(a,b,c){"use strict";function d(){}function e(){return{templateUrl:"js/components/inventory/system/system.html",restrict:"E",replace:!0,controller:d}}a("../../").directive("system",e)},{"../../":101}],107:[function(a,b,c){"use strict";function d(a,b,c,d){a.collapsed=!0,a.toggleCollapsed=function(){a.collapsed=!a.collapsed},a.hasReports=function(){var b=!1;return a.group.forEach(function(a){a.report_count>0&&!b&&(b=!0)}),b},d.getSystemTypeAsync(a.typeid).then(function(b){var c="";b&&(c=a.group.length+" "+b.displayName,1!==a.group.length&&(c+="s")),a.linkGroupText=c}),a.getLinkReportCount=function(a){var b=a.report_count,c="";return void 0!==b&&null!==b&&(c=b+" Action",1!==b&&(c+="s")),c},a.getLinkStatus=function(a){return a.report_count>0?'["fa-exclamation-circle", "fail"]':'["fa-check-circle", "success"]'},a.getLinkName=function(a){return void 0!==a.display_name&&null!==a.display_name&&""!==a.display_name?a.display_name:a.hostname},a.goToSystem=function(a){c.showSystemModal(a)}}function e(){return{templateUrl:"js/components/linkGroup/linkGroup.html",restrict:"E",controller:d,scope:{group:"=",typeid:"="}}}d.$inject=["$scope","$state","InventoryService","SystemsService"],a("../").directive("linkGroup",e)},{"../":101}],108:[function(a,b,c){},{}],109:[function(a,b,c){"use strict";function d(a,b){a.setListType=b.setType,a.getListType=b.getType,a.listTypes=b.types()}function e(){return{templateUrl:"js/components/listType/listType.html",restrict:"E",replace:!0,transclude:!0,controller:d}}d.$inject=["$scope","ListTypeService"],a("../").directive("listType",e)},{"../":101}],110:[function(a,b,c){"use strict";function d(a,b,c){a.plans=c.plans,a.options=[{id:"suggested",label:b.getString("Suggestions")},{id:"past",label:b.getString("Past plans")},{id:"unscheduled",label:b.getString("Not scheduled plans")},{id:"future",label:b.getString("Future plans")}],a.select=function(b){a.onSelect({category:b.id})},a.$watch("category",function(b){a.selected=g(a.options,{id:b})})}function e(){return{templateUrl:"js/components/maintenance/maintenanceCategorySelect/maintenanceCategorySelect.html",restrict:"E",controller:d,replace:!0,scope:{category:"=",onSelect:"&"}}}d.$inject=["$scope","gettextCatalog","MaintenanceService"];var f=a("../../"),g=a("lodash/find");f.directive("maintenanceCategorySelect",e)},{"../../":101,"lodash/find":457}],111:[function(a,b,c){"use strict";function d(a,b,c,d,e,f,n,o,p,q,r,s,t,u,v,w,x){function y(){a.plan=a.newPlan?{}:a.selected.plan,a.mode===m.multi?a.tableParams=B():a.tableParams=A(),a.$broadcast("maintenance:reload-table")}function z(a,b){var c=a.getAvailableActions;a.getAvailableActions=function(){return c.call(a).then(function(a){return a.forEach(function(a){a.selected=b(a)}),a})}}function A(){a.noActions=!1;var b=null;if(a.mode===m.system){var c=a.selected.system;!a.newPlan&&a.selected.plan&&a.selected.plan.systems&&(c=g(a.selected.plan.systems,{system_id:c.system_id})||c),b=f.actionTableParams(c,a.getPlan(),c.actions,a.loader),d&&z(b,function(a){return a.rule.rule_id===d.rule_id})}else if(a.mode===m.rule){var i=d;!a.newPlan&&a.selected.plan&&a.selected.plan.rules&&(i=g(a.selected.plan.rules,{id:d.rule_id})||i),b=f.systemTableParams(i,a.getPlan(),i.actions,a.loader);var j=h(e,"system_id"),l=b.getAvailableActions;b.getAvailableActions=function(){return l.call(b).then(function(a){return a.filter(function(a){return a.system.system_id in j})})},z(b,k(!0)),b.getActions=k([])}var n=b.update;return b.update=function(c){return a.selected.plan&&!a.newPlan?n.call(b,c):f.plans.create({name:a.newPlanAlias,add:c}).then(function(b){return a.selected.plan=b,b})},b}function B(){var b=C();return{getActions:function(){return[]},getAvailableActions:function(){return b},implicitOrder:{predicate:"rule.severityNum",reverse:!0},save:function(b){var c=j(b,function(a){return a.systemIds?i(a.systemIds,function(b){return{system_id:b,rule_id:a.rule.rule_id}}):a.groupId?[{group_id:a.groupId,rule_id:a.rule.rule_id}]:[{rule_id:a.rule.rule_id}]}),d={name:a.newPlanAlias,add:c};return!a.newPlan&&a.selected.plan?f.plans.update(a.selected.plan,d):f.plans.create(d).then(function(b){return a.selected.plan=b,b})}}}function C(){if("preselected"===a.systemSelection)return a.fixableSystems=a.systems.filter(function(a){return a.report_count>0}),E(i(a.fixableSystems,"system_id"));if("all"===a.systemSelection)return w.getRulesWithHits().then(function(b){return a.noActions=0===b.data.resources.length,i(b.data.resources,D())});if("group"===a.systemSelection){if(!a.selected.group||!a.selected.group.id)throw new Error("No group selected");return w.getRulesWithHits(a.selected.group.id).then(function(b){return a.noActions=0===b.data.resources.length,i(b.data.resources,D(null,a.selected.group.id))})}throw new Error("Unexpected systemSelection value: "+a.systemSelection)}function D(a,b){return function(c){var d={id:c.rule_id,display:c.description,mid:c.rule_id,rule:c,done:!1};return a&&(d.systemIds=a),b&&(d.groupId=b),d}}function E(b){return 0===b.length?(a.noActions=!0,s.resolve([])):v.create(null,b).then(function(c){return v.getRulesWithHits(c.data.hash).then(function(c){return a.noActions=0===c.data.resources.length,i(c.data.resources,D(b))})})}if(a.MODES=m,a.tableEdit=!0,a.selected={},a.plans=f.plans,a.loader=new o.Loader,a.loadingSystems=!1,a.rule=d,a.systems=e,a.Group=x,angular.isObject(u)?(a.newPlan=!1,f.plans.load().then(function(){a.selected.plan=g(f.plans.all,{maintenance_id:u.maintenance_id})})):a.newPlan=!0!==u,e&&1===e.length&&(a.selected.system=e[0]),!d&&e)1===e.length?(e=!1,a.mode=m.system):(a.mode=m.multi,a.systemSelection="preselected");else if(d&&e)a.mode=m.rule,a.systemSelection="preselected";else{if(d||e)throw new Error("Invalid parameters "+d+", "+e);a.mode=m.multi,x.groups.length?a.systemSelection="group":a.systemSelection="all"}x.groups.length&&(x.current().id?(a.systemSelection="group",a.selected.group=x.current()):a.selected.group=l(x.groups,["display_name","id"])[0]),a.getPlan=function(){return!a.newPlan&&a.selected.plan?a.selected.plan:{}},a.$watchGroup(["selected.plan","newPlan","selected.group","selected.system"],y),a.systemSelectionChanged=function(b){return a.systemSelection=b,"system"===b?(a.mode=m.system,a.tableParams=null,void(a.selected.system&&y())):(a.mode=m.multi,void y())},a.close=function(){c.dismiss("close")},a.postSave=function(){a.close(),p.go("app.maintenance",{maintenance_id:a.selected.plan.maintenance_id})},a.$watch("plans.all",function(){f.plans.future&&(a.availablePlans=f.plans.future.concat(f.plans.unscheduled),!a.selected.plan&&a.availablePlans.length&&(a.selected.plan=a.availablePlans[0]))}),a.planGroupFn=function(a){return a.start?q.getString("Future plans"):q.getString("Not scheduled plans")},a.planOrderFn=function(a){return l(a,["items.length"])},a.getPlanName=function(a){return a.name&&a.name.length?a.name:q.getString("Unnamed plan")},a.searchSystems=function(b){var c={page_size:30,page:1,report_count:"gt0"};b&&b.length&&(c.search_term=b);var d=String(b);return a.loadingSystems=d,n.getSystemsLatest(c).then(function(b){a.availableSystems=b.data.resources})["finally"](function(){a.loadingSystems===d&&(a.loadingSystems=!1)})},a.searchSystems().then(function(){a.availableSystems.length&&(a.selected.system=l(a.availableSystems,["toString","system_id"])[0])}),f.plans.load(!1),r.suppressEscNavigation(c)}function e(){return{templateUrl:"js/components/maintenance/maintenanceModal/maintenanceModal.html",restrict:"E",controller:d,replace:!0}}d.$inject=["$scope","$rootScope","$modalInstance","rule","systems","MaintenanceService","System","Utils","$state","gettextCatalog","ModalUtils","$q","DataUtils","existingPlan","Subset","Rule","Group"];var f=a("../../"),g=a("lodash/find"),h=a("lodash/keyBy"),i=a("lodash/map"),j=a("lodash/flatMap"),k=a("lodash/constant"),l=a("lodash/sortBy"),m={rule:"rule",system:"system",multi:"multi"};f.directive("maintenanceModal",e),f.controller("maintenanceModalCtrl",d)},{"../../":101,"lodash/constant":450,"lodash/find":457,"lodash/flatMap":459,"lodash/keyBy":483,"lodash/map":487,"lodash/sortBy":501}],112:[function(a,b,c){"use strict";function d(a,b,c,d,f,g,p,q,r,s,t,u,v,w){function x(a,b){return b?j(c.plan.rules,{id:a.rule_id}):j(c.plan.systems,{system_id:a.system_id})}function y(b,d){a.open({templateUrl:"js/components/maintenance/maintenancePlaybook/maintenancePlaybook.html",windowClass:"modal-playbook modal-wizard ng-animate-enabled",backdropClass:"system-backdrop ng-animate-enabled",controller:"MaintenancePlaybook",resolve:{plan:function(){return c.plan},questions:function(){return b},unsupportedRules:function(){return d}}})}function z(){c.error=null,c.ansibleSupport=m(c.plan.actions,"rule.ansible")}c.pager=new w.Pager(10),c.loader=new w.Loader,c.exportPlan=s.exportPlan,c.error=null,c.MaintenanceService=t,c.editDateTooltip=f.getString("Date, time and duration of a maintenance window can be defined here. If a maintenance window for this plan is set then Insights will verify that all the actions in this plan are resolved once the window ends. Insights will warn you this plan is not fully resolved when the maintenance window ends.");var A=f.getString("Current Group");c.editBasic=new c.BasicEditHandler(c.plan,s,w,c.loader.bind(function(a,b,d,e,f){return c.plan.description=b,s.updatePlan(c.plan.maintenance_id,{name:a,description:b,start:d,end:e}).then(function(){f.active=!1,c.plan.end!==e||c.plan.start!==d?c.loadPlans(!0).then(function(){c.scrollToPlan(c.plan.maintenance_id)}):(c.plan.name=a,f.plan=c.plan)})})),c.removeActions=c.loader.bind(function(a){return t.plans.update(c.plan,{"delete":i(a,"id")})}),c.silence=c.loader.bind(function(){c.plan.silenced=!0,s.silence(c.plan).then(function(){c.edit.isActive(c.plan.maintenance_id)&&c.edit.toggle(c.plan.maintenance_id)})}),c["delete"]=function(){u.swal({title:f.getString("Are you sure?"),text:f.getString("You will not be able to recover this maintenance plan"),type:"warning",html:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes",showCancelButton:!0},c.loader.bind(function(a){return a?(c.edit.deactivate(c.plan.maintenance_id),s.deletePlan(c.plan)):void 0}))},c.showSystemModal=t.showSystemModal,c.addSystem=new e(c),c.addRule=new e(c),c.systemTableParams=t.systemTableParams,c.actionTableParams=t.actionTableParams,c.tableParams=function(a,b,d){var e=x(a,b),f=e?e.actions:[],g=d?c.loader:void 0;return b?t.systemTableParams(e||a,c.plan,f,g):t.actionTableParams(e||a,c.plan,f,g)},c.minimize=function(){d(function(){c.error=null,c.edit.deactivate(c.plan.maintenance_id)})},c["export"]=function(){s.exportPlan(c.plan.maintenance_id)},c.generatePlaybook=function(){s.generatePlaybook(c.plan.maintenance_id).then(function(a){if(200===a.status){var b=a.headers("content-disposition"),c=l(b).filename.replace(/"/g,""),d=new Blob([a.data],{type:a.headers("content-type")});k.saveAs(d,c)}},function(a){400===a.status?a.data.error.key===g.AmbiguousResolution?y(a.data.error.details,null):a.data.error.key===g.UnsupportedRule?y(null,a.data.error.details):a.data.error.key===g.MaintenanceNothingToFix||a.data.error.key===g.MaintenanceEmpty?c.error=p.NoActions:c.error=p.GeneralFailure:c.error=p.GeneralFailure})},c.dateChanged=function(a,b,d){d&&c.editBasic.dateChanged(b)},c.minimize=function(){c.editBasic.active&&c.editBasic.toggle(),c.error=null,c.edit.deactivate(c.plan.maintenance_id)},c.$on("telemetry:esc",function(a){a.defaultPrevented||c.edit.isActive(c.plan.maintenance_id)&&!c.editBasic.active&&(c.error=null,c.edit.deactivate(c.plan.maintenance_id))}),c.update=c.loader.bind(function(a){return c.error=null,s.updatePlan(c.plan.maintenance_id,a)}),c.hidden=function(a){function d(){var d={hidden:a};c.plan.suggestion===s.SUGGESTION.REJECTED&&(d.suggestion=s.SUGGESTION.PROPOSED),
c.update(d).then(function(){h(c.plan,d),b.$broadcast("maintenance:planChanged",c.plan.maintenance_id)})}a?d():u.swal({title:f.getString("Are you sure?"),text:f.getString("You are about to send a plan suggestion to the customer."),type:"warning",html:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes",showCancelButton:!0},function(a){a&&d()})},c.accept=function(){var a={suggestion:s.SUGGESTION.ACCEPTED};c.update(a).then(function(){h(c.plan,a),b.$broadcast("maintenance:planChanged",c.plan.maintenance_id),c.scrollToPlan(c.plan.maintenance_id)})},c.reject=function(){var a={suggestion:s.SUGGESTION.REJECTED};c.update(a).then(function(){h(c.plan,a),c.plan.hidden=!0,b.$broadcast("maintenance:planChanged",c.plan.maintenance_id),t.plans.suggested.length||c.setCategory("unscheduled")})},c.isReadOnly=function(){return c.plan.isReadOnly()&&!c.isInternal},c.registerGroupChangeListener=function(a){var d=b.$on("group:change",function(){a.refreshItems&&a.refreshItems()});c.$on("$destroy",d)},c.groupBySystemType=function(a){var b=r.current();return void 0!==b.display_name&&j(b.systems,{system_id:a.system_id})?A+": "+b.display_name:n(v.getSystemTypeUnsafe(a.system_type_id),"displayName")},c.groupFilter=function(a){return o(a,[function(a){return!a.name.startsWith(A)},"name"])},c.$watch("plan.actions",z)}function e(a){var b=this;b.reset(),a.$watch("edit.isActive(plan.maintenance_id)",function(){b.reset()})}function f(a){function b(b,c){for(var d=a[0].getElementsByClassName(c),e=0;e<d.length;e++)if(d.item(e).contains(b.target))return!0}return{templateUrl:"js/components/maintenance/maintenancePlan/maintenancePlan.html",restrict:"E",controller:d,replace:!0,link:function(c,d){function e(e){if(!c.editBasic.active&&!(b(e,"modal")||b(e,"sweet-alert")||b(e,"top-bar")||e.target.classList.contains("action")||e.target.parentElement&&e.target.parentElement.classList.contains("action"))){var f=d[0].contains(e.target),g=a[0].body.contains(e.target),h=c.edit.isActive(c.plan.maintenance_id);h&&a[0].getElementsByClassName("ui-select-choices-row").length||(h&&!f&&g||!h&&f)&&c.edit.toggle(c.plan.maintenance_id)}}a.on("click",e),c.$on("$destroy",function(){a.off("click",e)})}}}d.$inject=["e","t","n","r","i","o","g","m","v","y","b","x","_","w"],f.$inject=["e"],d.$inject=["$modal","$rootScope","$scope","$timeout","gettextCatalog","AnsibleAPIErrors","AnsibleErrors","DataUtils","Group","Maintenance","MaintenanceService","SweetAlert","SystemsService","Utils"],f.$inject=["$document"];var g=a("../../"),h=a("lodash/assign"),i=a("lodash/map"),j=a("lodash/find"),k=a("file-saver"),l=a("parse-http-header"),m=a("lodash/some"),n=a("lodash/get"),o=a("lodash/sortBy");e.prototype.reset=function(){this.selected=null},g.directive("maintenancePlan",f)},{"../../":101,"file-saver":260,"lodash/assign":446,"lodash/find":457,"lodash/get":463,"lodash/map":487,"lodash/some":500,"lodash/sortBy":501,"parse-http-header":516}],113:[function(a,b,c){"use strict";function d(a,b,c,d,e,l,m,n,o,p,q,r,s){function t(){b.error=null,b.plan=d,b.currentQuestion=null,b.listLimit=b.MINIMUM_NUMBER_OF_ITEMS,s.getSystemTypesAsync().then(function(){null===l?(o.init(e,b.plan,!1),b.questions=o.questions,v()):u(),w()})}function u(){b.rulesWithoutPlays=[],l.forEach(function(a){var c=b.plan.rules.find(function(b){return b.id===a.rule_id}),d={rule_id:a.rule_id,system_type:s.getSystemTypeUnsafe(a.system_type_id),description:c.description,category:c.category,severity:c.severity,actions:c.actions};b.rulesWithoutPlays.push(d)})}function v(){var a=k(b.plan.actions,function(a){return a.rule.rule_id+":"+a.system.system_type_id});void 0!==b.rulesWithoutPlays&&b.rulesWithoutPlays.length>0&&(a=a.filter(function(a){return!i(b.rulesWithoutPlays,function(b){return a.system.system_type_id===b.system_type.id&&a.rule.rule_id===b.rule_id})}));var c=a.map(function(a){return{rule_id:a.rule.rule_id,category:a.rule.category,description:a.rule.description,system_type:s.getSystemTypeUnsafe(a.system.system_type_id)}});h(c,function(a){e&&i(e,{rule_id:a.rule_id,system_type_id:a.system_type.id})?a.solution=function(){var b=o.getResolution(a.rule_id,a.system_type.id);return void 0!==b?b.description:void 0}:r.listAnsibleResolutions(a.rule_id,a.system_type.id).success(function(b){if(1!==b.length)throw new Error("Unexpected number of resolutions ("+b.length+") for "+a.rule_id+", "+a.system_type.id);a.solution=j(b[0].description)})}),b.rulesWithPlays=c}function w(){null!==l?b.step=b.RULES_WITHOUT_PLAYS:(b.step=b.RESOLVE_QUESTIONS,y(0))}function x(){var a=b.currentQuestion.resolutions.find(function(a){return a.resolution_type===b.currentQuestion.resolution_type});o.saveResolution(b.currentQuestion.rule_id,b.currentQuestion.system_type_id,b.currentQuestion.resolution_type,b.currentQuestion.index,a.description)}function y(a){var c=b.plan.rules.find(function(c){return c.id===b.questions[a].rule_id});b.currentQuestion=b.questions[a],b.currentQuestion.index=a,b.currentQuestion.resolution_type=o.getResolutionType(b.currentQuestion),b.currentQuestion.system_type=s.getSystemTypeUnsafe(b.currentQuestion.system_type_id),b.currentQuestion.systemsAffected=c.actions.filter(function(a){return a.system.system_type_id===b.currentQuestion.system_type_id}),b.currentQuestion.rule={rule_id:b.currentQuestion.rule_id,category:c.category,description:c.description}}function z(){if(null===b.currentQuestion)y(0);else if(b.currentQuestion.index<b.questions.length-1){var a=b.currentQuestion.index+1;y(a)}else b.currentQuestion=null}b.RULES_WITHOUT_PLAYS=0,b.RESOLVE_QUESTIONS=1,b.SUMMARY=2,b.MINIMUM_NUMBER_OF_ITEMS=5,b.close=function(){a.dismiss("close")},b.goToStep=function(a){b.listLimit=b.MINIMUM_NUMBER_OF_ITEMS,b.step===b.RESOLVE_QUESTIONS&&void 0!==b.currentQuestion.resolution_type&&x(),a===b.questions.length?(b.step=b.SUMMARY,b.currentQuestion=null):(b.step=b.RESOLVE_QUESTIONS,y(a))},b.nextStep=function(){b.listLimit=b.MINIMUM_NUMBER_OF_ITEMS,b.error=null,b.step===b.RESOLVE_QUESTIONS&&void 0!==b.currentQuestion.resolution_type&&x(),null===b.step?w():(b.step=b.RESOLVE_QUESTIONS,z(),null===b.currentQuestion&&(b.step=b.SUMMARY))},b.prevStep=function(){if(b.listLimit=b.MINIMUM_NUMBER_OF_ITEMS,b.error=null,b.step===b.RESOLVE_QUESTIONS&&void 0!==b.currentQuestion.resolution_type&&x(),b.step===b.SUMMARY)b.step=b.RESOLVE_QUESTIONS,y(b.questions.length-1);else if(0===b.currentQuestion.index)b.step=b.RULES_WITHOUT_PLAYS,b.currentQuestion=null;else{var a=b.currentQuestion.index-1;y(a)}},b.validateQuestions=function(){return o.hasAllQuestionsAnswered()},b.downloadPlaybook=function(){b.validateQuestions?b.generatePlaybook(b.plan.maintenance_id,o.getFormattedResolutions()):b.error=n.AnswerAllQuestions},b.generatePlaybook=function(a,c){null!==c&&void 0!==c||(c={ignoreUnsupported:!0}),p.generatePlaybook(a,c).then(function(a){if(200===a.status){var c=a.headers("content-disposition"),d=g(c).filename.replace(/"/g,""),e=new Blob([a.data],{type:a.headers("content-type")});f.saveAs(e,d),b.close()}},function(a){400===a.status&&(a.data.error.key===m.AmbiguousResolution?(e=a.data.error.details,l=null,t()):a.data.error.key===m.MaintenanceNothingToFix||a.data.error.key===m.MaintenanceEmpty?b.error=n.NoActions:b.error=n.GeneralFailure)})},t(),q.suppressEscNavigation(a)}d.$inject=["$modalInstance","$scope","$timeout","plan","questions","unsupportedRules","AnsibleAPIErrors","AnsibleErrors","AnsibleService","Maintenance","ModalUtils","Rule","SystemsService"];var e=a("../../"),f=a("file-saver"),g=a("parse-http-header"),h=a("lodash/forEach"),i=a("lodash/some"),j=a("lodash/constant"),k=a("lodash/uniqBy");e.controller("MaintenancePlaybook",d)},{"../../":101,"file-saver":260,"lodash/constant":450,"lodash/forEach":461,"lodash/some":500,"lodash/uniqBy":513,"parse-http-header":516}],114:[function(a,b,c){"use strict";function d(a,b,c,d,e,j){function k(){o.filter={},l()}function l(){a.item&&(o.params=a.paramsCallback(),o.savedActions=o.params.getActions(),a.checkboxes.items={},o.savedActions.forEach(function(b){a.checkboxes.items[b.id]=!0,angular.isDefined(b._type)||(b._type=d.MAINTENANCE_ACTION_TYPE.PLANNED)}),p())}function m(){o.orderedActions=b("orderBy")(o.filteredActions,["_type",o.sorter.reverse?"-"+o.sorter.predicate:o.sorter.predicate]),o.pager.reset(),o.page()}function n(){var b=o.actions.filter(function(b){return b._type!==d.MAINTENANCE_ACTION_TYPE.PLANNED&&a.checkboxes.isChecked(b.id)}),c=o.actions.filter(function(b){return b._type===d.MAINTENANCE_ACTION_TYPE.PLANNED&&!a.checkboxes.isChecked(b.id)});return o.params.save(b,c).then(function(){return a.edit=!1,a.onSave?a.onSave():void 0})}var o=this;o.params=a.paramsCallback(),o.pager=new c.Pager,o.sorter=new c.Sorter(o.params.implicitOrder,m),o.showSystemModal=d.showSystemModal,o.loader=new c.Loader(!1),a.checkboxes=new c.Checkboxes,a.checkboxRowClick=function(b,c){a.edit&&a.checkboxes.rowClick(b,c)},a.checkboxUpdate=function(){a.checkboxes.update(o.filteredActions)},a.$watchCollection("checkboxes.items",a.checkboxUpdate),a.checkboxChecked=function(){if(a.checkboxes.checked){var b=h(o.filteredActions,"_type")[d.MAINTENANCE_ACTION_TYPE.PLANNED_ELSEWHERE];if(b)return e.swal({title:j.getString("Select overlapping actions?"),text:j.getPlural(b,"This selection contains an action that  is already part of another plan. Do you want to include this action?","This selection contains {{count}} actions that are already part of another plan. Do you want to include these actions?",{count:b}),type:"info",confirmButtonColor:"#DD6B55",confirmButtonText:"Yes",showCancelButton:!0,cancelButtonText:"No"},function(b){var c=o.filteredActions;b||(c=i(c,{_type:d.MAINTENANCE_ACTION_TYPE.PLANNED_ELSEWHERE})),a.checkboxes.checkboxChecked(a.checkboxes.checked,c)})}a.checkboxes.checkboxChecked(a.checkboxes.checked,o.filteredActions)},a.$on("maintenance:reload-table",k),a.$watchGroup(["item","edit"],k);var p=o.loader.bind(function(){return o.actions=o.savedActions,o.doFilter(),a.edit?o.params.getAvailableActions().then(function(b){var c=g(o.savedActions,"id");b=b.filter(function(a){return!(a.id in c)}),b.forEach(function(b){angular.isDefined(b._type)||(b._type=d.MAINTENANCE_ACTION_TYPE.AVAILABLE),b.selected&&(a.checkboxes.items[b.id]=!0)}),o.actions=o.savedActions.concat(b),o.doFilter()}):void 0});o.doFilter=function(){f(o.filter)?o.filteredActions=o.actions:o.filteredActions=b("filter")(o.actions,o.filter),a.checkboxUpdate(),m()},o.page=function(){o.pager.update();var a=b("offset")(o.orderedActions,o.pager.offset);a=b("limitTo")(a,o.pager.perPage),o.data=a},o.params.loader?o.save=o.params.loader.bind(n):o.save=o.loader.bind(n),o.cancel=function(){return a.edit=!1,a.onCancel?a.onCancel():void 0}}d.$inject=["$scope","$filter","Utils","MaintenanceService","SweetAlert","gettextCatalog"];var e=a("../../"),f=a("lodash/isEmpty"),g=a("lodash/keyBy"),h=a("lodash/countBy"),i=a("lodash/reject");e.controller("MaintenanceTableCtrl",d)},{"../../":101,"lodash/countBy":451,"lodash/isEmpty":475,"lodash/keyBy":483,"lodash/reject":498}],115:[function(a,b,c){"use strict";function d(a){return function(){return{restrict:"E",controller:"MaintenanceTableCtrl",controllerAs:"table",scope:{paramsCallback:"&params",edit:"=",item:"=",onSave:"&",onCancel:"&"},templateUrl:"js/components/maintenance/maintenanceTable/"+a,replace:!0}}}var e=a("../../");e.directive("maintenanceTableSystems",d("maintenanceTableSystems.html")),e.directive("maintenanceTableActions",d("maintenanceTableActions.html")),e.directive("maintenanceTableMulti",d("maintenanceTableMulti.html"))},{"../../":101}],116:[function(a,b,c){"use strict";a("../../").directive("maintenanceTableFooter",function(){return{restrict:"A",templateUrl:"js/components/maintenance/maintenanceTable/maintenanceTableFooter.html"}})},{"../../":101}],117:[function(a,b,c){"use strict";function d(a){a.showTooltip=!1,a.text.length>a.length?(a.trimmedText=a.text.slice(0,a.length)+"…",a.showTooltip=!0):a.trimmedText=a.text}function e(){return{templateUrl:"js/components/misc/trimmedText/trimmedText.html",restrict:"E",replace:!0,transclude:!0,controller:d,scope:{length:"@",text:"@"}}}d.$inject=["$scope"],a("../../").directive("trimmedText",e)},{"../../":101}],118:[function(a,b,c){"use strict";function d(){g.generate({bindto:".mitigation-chart",size:{width:400,height:300},data:{columns:[["Security",30,200,100,400,150,250],["Availability",50,20,10,40,15,25],["Stability",130,150,200,300,200,100],["Performance",230,190,300,500,300,400]],type:"spline"}})}function e(){return{templateUrl:"js/components/mitigationTrend/mitigationTrend.html",restrict:"E",controller:d,replace:!0}}var f=a("../"),g=a("./../../../bower_components/c3/c3.js");f.directive("mitigationTrend",e)},{"../":101,"./../../../bower_components/c3/c3.js":12}],119:[function(a,b,c){"use strict";function d(a,b){a.oneButtonSelected=!1,a.showDenyClickCursor=function(c){return!(!a.oneButtonSelected||!b.getState(c.stateKey))},a.getButtonJqueryId=function(b){return"#"+a.getButtonId(b)+".btn"},a.getButtonId=function(a){return"rha-multibutton-"+a.stateKey},a.getButtonIconClass=function(a){return a.icon},a.getButtonClass=function(b){var c="";return a.buttonHasIconClass(b)&&(c=a.getButtonIconClass(b)),c},a.buttonHasIconClass=function(a){return!!a.icon},a.lastButtonSelected=function(c){var d=0,e=null,f=!1;return a.buttons.forEach(function(a){b.getState(a.stateKey)&&(e=a,d+=1)}),1===d&&e&&c&&c.stateKey===e.stateKey&&(f=!0),f},a.toggleButton=function(c){if(a.multiselect||b.getState(c.stateKey)){if(a.multiselect)if(a.allownone||!a.lastButtonSelected(c))b.setState(c.stateKey,!b.getState(c.stateKey));else if(a.lastButtonSelected(c))return void jQuery(a.getButtonJqueryId(c)).button("toggle")}else a.buttons.forEach(function(d){d.stateKey!==c.stateKey&&b.getState(d.stateKey)&&(jQuery(a.getButtonJqueryId(d)).button("toggle"),b.setState(d.stateKey,!1))}),b.setState(c.stateKey,!0);c.toggleCallback&&c.toggleCallback(c.stateKey)}}function e(a){return{templateUrl:"js/components/multiButton/multiButton.html",restrict:"E",replace:!0,controller:d,scope:{buttons:"=",multiselect:"=",allownone:"="},link:function(b){var c=function(a){return"rha-multibutton-"+a.stateKey},d=function(a){return"#"+c(a)+".btn"},e=function(){b.buttons.forEach(function(b){a.getState(b.stateKey)&&jQuery(d(b)).button("toggle")})},f=function g(){jQuery(d(b.buttons[0])).button?e():window.setTimeout(function(){g()},50)};window.setTimeout(f,0)}}}d.$inject=["$scope","MultiButtonService"],e.$inject=["MultiButtonService"],a("../").directive("multiButton",e)},{"../":101}],120:[function(a,b,c){"use strict";function d(a,b){var c=this;a.$on("$stateChangeSuccess",function(){c.current="insights-"+b.current.name.replace(/\./g,"-")})}function e(){return{restrict:"A",controller:d,controllerAs:"insightsNamespacer"}}d.$inject=["$scope","$state"],a("../").directive("insightsNamespacer",e)},{"../":101}],121:[function(a,b,c){"use strict";function d(a,b,c,d){a.alerts=c.alerts,a.dismiss=function(c,e){a.alerts.splice(c,1),"http"===e&&b.current.actions?d.reload():"http"===e&&b.reload()}}function e(){return{templateUrl:"js/components/notifications/notifications.html",restrict:"C",replace:!0,controller:d}}d.$inject=["$scope","$state","AlertService","RhaTelemetryActionsService"],a("../").directive("rhaNotifications",e)},{"../":101}],122:[function(a,b,c){"use strict";function d(a,b,c,d,e,h){a.selected={},a.close=function(){c.dismiss("close")},a.save=function(){b.update(a.selected.article.id,a.article).then(a.close)},a.preview=function(){d.preview(a.article).then(function(b){a.previewData=b.data})},a.load=function(b){d.get(b).then(function(b){a.article=f(b.data,["title","content"])})},d.getArticles().then(function(b){var c={id:e.overviewKey};a.articles=b.data,g(a.articles,c)||(a.articles.push(c),a.selected.article=c)}),a.$watch("selected.article",function(b){b&&b.id&&(a.load(b.id),a.previewData=null)}),a.selected.article=b.article,h.suppressEscNavigation(c)}d.$inject=["$scope","OverviewService","$modalInstance","Article","InsightsConfig","ModalUtils"];var e=a("../../"),f=a("lodash/pick"),g=a("lodash/find");e.controller("ArticleModalCtrl",d)},{"../../":101,"lodash/find":457,"lodash/pick":495}],123:[function(a,b,c){"use strict";function d(a,b){a.buildBar=function(c){a.chartMax=c.chartMax,a.goalsBar=g.generate({bindto:b[0].getElementsByClassName("bar-chart-wrapper")[0],size:{height:200,width:100},bar:{width:{ratio:.5},expand:!0},data:{columns:[["maxSystems",c.chartMax],["systemsRegistered",c.systemCount<=c.chartMax?c.systemCount:c.chartMax]],type:"bar"},axis:{x:{show:!1},y:{show:!1}},legend:{show:!1},grid:{x:{show:!0},y:{show:!0}},tooltip:{format:{},contents:function(a){var b;return b='<div class="'+this.CLASS.tooltip+'"><text class="goal-bar-tooltip">Register more systems to complete the goal</text></div>',a[1].value!=a[0].value?b:""}}}),a.$watch("systemCount",function(b){void 0!==b&&a.goalsBar.load({columns:[["maxSystems",a.chartMax],["systemsRegistered",b<=a.chartMax?b:a.chartMax]]})})}}function e(){return{templateUrl:"js/components/goals/goalsBar/goalsBar.html",restrict:"E",replace:!0,controller:d}}d.$inject=["$scope","$element"];var f=a("../../../../"),g=a("./../../../../../../bower_components/c3/c3.js");f.directive("goalsBar",e)},{"../../../../":101,"./../../../../../../bower_components/c3/c3.js":12}],124:[function(a,b,c){"use strict";function d(a,b){a.buildGauge=function(c){c.getGaugeNumber().then(function(d){a.goalsGauge=h.putGaugeOnPage(b,d,c.getGaugeMax()),h.updateScope(a,d,c.getGaugeMax())}),a.$on("account:change",function(){a.gaugeMax=c.getGaugeMax(),c.getGaugeNumber().then(function(b){a.goalsGauge.load({columns:[["systems",b]]}),h.updateScope(a,b,c.getGaugeMax())})})}}function e(){return{templateUrl:"js/components/overview/widgets/goals/goalsGauge/goalsGauge.html",restrict:"E",replace:!0,scope:!0,controller:d}}d.$inject=["$scope","$element"];var f=a("../../../../"),g=a("./../../../../../../bower_components/c3/c3.js"),h={};h.putGaugeOnPage=function(a,b,c){return g.generate({bindto:a[0].getElementsByClassName("chart-wrapper")[0],size:{height:80,width:80},gauge:{width:10,max:c,expand:!0,label:{format:function(a){return a+"/"+c},show:!1},fullCircle:!0,startingAngle:-Math.PI/2},data:{columns:[["systems",b]],type:"gauge"},color:{pattern:["#FF0000","#F97600","#F6C600","#0095DB"],threshold:{values:[c/4,2*c/4,3*c/4,c]}}})},h.updateScope=function(a,b,c){a.gaugeNumber=b,a.gaugeMax=c},f.directive("goalsGauge",e)},{"../../../../":101,"./../../../../../../bower_components/c3/c3.js":12}],125:[function(a,b,c){"use strict";function d(a,b,c,d,e,f){var h={};a.getMaxFreeSystems=function(){return a.maxFreeSystems},h.getSevCount=function(a,b){return g(b,function(b,c){return c.severity===a?b+1:0},0)},h.getActionsData=function(){a.actionsLoading=!0;var g=[],h=f.headReports({category:"Security",severity:"ERROR"}).then(function(b){a.securityErrors=b.headers(d.resourceCount)});g.push(h);var i=f.headReports({category:"Stability",severity:"ERROR"}).then(function(b){a.stabilityErrors=b.headers(d.resourceCount)});g.push(i),a.loadingSystemLimit=!0;var j=b.getSystems(!1).then(function(a){return a.data.total}),k=c.getEvaluationStatus().then(function(b){return j.then(function(c){var d=b.current;if(a.systemCount=c,a.maxFreeSystems=d?d.systems:0,a.systemLimitReached=c>=a.maxFreeSystems,d){var e=new Date(Date.parse(d.created_at));e.setDate(e.getDate()+d.duration),a.expiration=e.toDateString()}})})["catch"](function(){a.errored=!0})["finally"](function(){a.loadingSystemLimit=!1});a.getSystemCount=function(){return j},g.push(k),e.all(g)["finally"](function(){a.actionsLoading=!1})},a.$on("account:change",function(){h.getActionsData()}),h.getActionsData()}function e(){return{templateUrl:"js/components/overview/widgets/goals/goalsLite.html",restrict:"E",controller:d,replace:!0}}d.$inject=["$scope","System","Evaluation","HttpHeaders","$q","Report"];var f=a("../../../"),g=a("lodash/reduce");f.directive("goalsLite",e)},{"../../../":101,"lodash/reduce":497}],126:[function(a,b,c){"use strict";function d(a,b,c){a.accountNumber=b.number,a.overview=c}function e(){return{templateUrl:"js/components/overview/widgets/handcraftedContent/handcraftedContent.html",restrict:"E",replace:!0,scope:{},controller:d}}d.$inject=["$scope","AccountService","OverviewService"],a("../../../").directive("handcraftedContent",e)},{"../../../":101}],127:[function(a,b,c){"use strict";function d(a,b){a.loading=!0,a.refresh=function(){a.loading=!0,a.items={},b.getSystemStatus(!0).then(function(b){b.data&&b.data.stale&&(a.items.staleSystems=b.data.stale),a.loading=!1})},a.itemCount=function(){return Object.keys(a.items).length},a.$on("account:change",a.refresh),a.refresh()}function e(){return{templateUrl:"js/components/overview/widgets/highPrio/highPrio.html",restrict:"E",replace:!0,scope:{},controller:d}}d.$inject=["$scope","System"],a("../../../").directive("highPrio",e)},{"../../../":101}],128:[function(a,b,c){"use strict";function d(a,b,c,d){a.MaintenanceService=c,a.plans=c.plans,a.duration=function(a,b){return g.duration(g(b).diff(g(a))).asMinutes()},a.silence=function(a){return a.silenced=!0,b.silence(a)},a.getFirstSuggestion=function(){return h(c.plans.suggested,{hidden:!1})},a.openPlan=function(a){d.go("app.maintenance",{maintenance_id:a.maintenance_id})}}function e(){return{templateUrl:"js/components/overview/widgets/maintenancePlanLite/maintenancePlanLite.html",restrict:"E",replace:!0,scope:!0,controller:d}}d.$inject=["$scope","Maintenance","MaintenanceService","$state"];var f=a("../../../"),g=a("./../../../../../bower_components/moment-timezone/builds/moment-timezone-with-data-2010-2020.js"),h=a("lodash/find");f.directive("maintenancePlanLite",e)},{"../../../":101,"./../../../../../bower_components/moment-timezone/builds/moment-timezone-with-data-2010-2020.js":14,"lodash/find":457}],129:[function(a,b,c){"use strict";function d(){return{templateUrl:"js/components/overview/widgets/maintenancePlanLite/maintenancePlanLiteTable/maintenancePlanLiteTable.html",restrict:"E",replace:!0,scope:!0,link:function(a,b,c){a.plans=a.$parent.$eval(c.plans),angular.isDefined(c.overdue)&&(a.overdue=a.$parent.$eval(c.overdue))}}}a("../../../../").directive("maintenancePlanLiteTable",d)},{"../../../../":101}],130:[function(a,b,c){"use strict";function d(a,b,c,d){a.loader=new c.Loader(!1),a.showSystemModal=d.showSystemModal;var e=a.loader.bind(function(){return b.populateNewestSystems().then(function(){a.systems=b.getNewestSystems()})});a.$on("account:change",e),a.$on("group:change",e),e()}function e(){return{templateUrl:"js/components/overview/widgets/newSystems/newSystems.html",restrict:"E",replace:!0,scope:{},controller:d}}d.$inject=["$scope","SystemsService","Utils","InventoryService"],a("../../../").directive("newSystems",e)},{"../../../":101}],131:[function(a,b,c){"use strict";function d(a,b,c,d,e,f,g,h,i,j,k){function l(){return[{product:d.rhel,displayName:d.rhel.fullName,doFilter:function(){b.setSelectedProduct(d.rhel.code)}},{product:d.docker,displayName:d.docker.fullName,subFilters:[{displayName:d.docker.roles.host.shortName,doFilter:function(){b.setSelectedProduct(d.docker.code),c.setState("inventoryDockerContainers",!1),c.setState("inventoryDockerImages",!1),c.setState("inventoryDockerHosts",!0)}},{displayName:d.docker.roles.container.shortName,doFilter:function(){b.setSelectedProduct(d.docker.code),c.setState("inventoryDockerContainers",!0),c.setState("inventoryDockerImages",!1),c.setState("inventoryDockerHosts",!1)}},{displayName:d.docker.roles.image.shortName,doFilter:function(){b.setSelectedProduct(d.docker.code),c.setState("inventoryDockerContainers",!1),c.setState("inventoryDockerImages",!0),c.setState("inventoryDockerHosts",!1)}}],doFilter:function(){b.setSelectedProduct(d.docker.code),c.setState("inventoryDockerContainers",!0),c.setState("inventoryDockerImages",!0),c.setState("inventoryDockerHosts",!0)}},{product:d.ocp,displayName:d.ocp.fullName,subFilters:[{displayName:d.ocp.roles.cluster.shortName,doFilter:function(){b.setSelectedProduct(d.ocp.code),c.setState("inventoryOCPMasters",!1),c.setState("inventoryOCPNodes",!1),c.setState("inventoryOCPClusters",!0)}},{displayName:d.ocp.roles.master.shortName,doFilter:function(){b.setSelectedProduct(d.ocp.code),c.setState("inventoryOCPMasters",!0),c.setState("inventoryOCPNodes",!1),c.setState("inventoryOCPClusters",!1)}},{displayName:d.ocp.roles.node.shortName,doFilter:function(){b.setSelectedProduct(d.ocp.code),c.setState("inventoryOCPMasters",!1),c.setState("inventoryOCPNodes",!0),c.setState("inventoryOCPClusters",!1)}}],doFilter:function(){b.setSelectedProduct(d.ocp.code),c.setState("inventoryOCPMasters",!0),c.setState("inventoryOCPNodes",!0),c.setState("inventoryOCPClusters",!0)}},{product:d.rhev,displayName:d.rhev.fullName,subFilters:[{displayName:d.rhev.roles.cluster.shortName,doFilter:function(){b.setSelectedProduct(d.rhev.code),c.setState("inventoryRHEVManagers",!1),c.setState("inventoryRHEVHypervisors",!1),c.setState("inventoryRHEVClusters",!0)}},{displayName:d.rhev.roles.manager.shortName,doFilter:function(){b.setSelectedProduct(d.rhev.code),c.setState("inventoryRHEVManagers",!0),c.setState("inventoryRHEVHypervisors",!1),c.setState("inventoryRHEVClusters",!1)}},{displayName:d.rhev.roles.hypervisor.shortName,doFilter:function(){b.setSelectedProduct(d.rhev.code),c.setState("inventoryRHEVManagers",!1),c.setState("inventoryRHEVHypervisors",!0),c.setState("inventoryRHEVClusters",!1)}}],doFilter:function(){b.setSelectedProduct(d.rhev.code),c.setState("inventoryRHEVManagers",!0),c.setState("inventoryRHEVHypervisors",!0),c.setState("inventoryRHEVClusters",!0)}},{product:d.osp,displayName:d.osp.fullName,subFilters:[{displayName:d.osp.roles.cluster.shortName,doFilter:function(){b.setSelectedProduct(d.osp.code),c.setState("inventoryOSPCluster",!0),c.setState("inventoryOSPDirector",!1),c.setState("inventoryOSPCompute",!1),c.setState("inventoryOSPController",!1)}},{displayName:d.osp.roles.director.shortName,doFilter:function(){b.setSelectedProduct(d.osp.code),c.setState("inventoryOSPCluster",!1),c.setState("inventoryOSPDirector",!0),c.setState("inventoryOSPCompute",!1),c.setState("inventoryOSPController",!1)}},{displayName:d.osp.roles.compute.shortName,doFilter:function(){b.setSelectedProduct(d.osp.code),c.setState("inventoryOSPCluster",!1),c.setState("inventoryOSPDirector",!1),c.setState("inventoryOSPCompute",!0),c.setState("inventoryOSPController",!1)}},{displayName:d.osp.roles.controller.shortName,doFilter:function(){b.setSelectedProduct(d.osp.code),c.setState("inventoryOSPCluster",!1),c.setState("inventoryOSPDirector",!1),c.setState("inventoryOSPCompute",!1),c.setState("inventoryOSPController",!0)}}],doFilter:function(){b.setSelectedProduct(d.osp.code),c.setState("inventoryOSPCluster",!0),c.setState("inventoryOSPDirector",!0),c.setState("inventoryOSPCompute",!0),c.setState("inventoryOSPController",!0)}}]}function m(b){var c=[];for(var g in d)if(b.includes(g))for(var i=0;i<e.length;i++){var k=e[i];if("all"!==k){var l=d[g].code;a.summaryCounts[l]={};var m=f.headReports({product_code:l,category:k}).then(function(b,c){return function(d){a.summaryCounts[b][c]=d.headers(h.resourceCount)}}(l,k));c.push(m)}}return j.all(c).then(function(){a.loadingSummary=!1})}function n(b){var c=[];for(var e in d)if(b.includes(e)){a.summaryCounts[e]={};var f=d[e].roles;for(var i in f)c.push(function(b,c){return g.headSystemsLatest({product_code:b,role:c}).then(function(d){a.summaryCounts[b][c]=d.headers(h.resourceCount)})}(e,i))}return j.all(c).then(function(){a.loadingSummary=!1})}function o(b){a.summaryType===i.summaryTypes.systems?n(b):a.summaryType===i.summaryTypes.categories&&m(b)}function p(){a.platforms=[],k.getPlatforms().then(function(b){var c=l();a.platforms=c.filter(function(a){return b.includes(a.product.code)}),o(b)}),a.getSelectedProduct=b.getSelectedProduct}a.summaryTypes=i.summaryTypes,a.loadingSummary=!0,a.summaryCounts={},a.$on("group:change",p),a.$on("account:change",p),a.getSummaryItems=function(b){var c=[];if(a.summaryType===i.summaryTypes.systems)for(var e in d[b].roles){var f=d[b].roles[e];c.push(a.summaryCounts[b][f.code]+" "+f.shortName+"s")}else a.summaryType===i.summaryTypes.categories&&(c.push(a.summaryCounts[b].stability+" Stability"),c.push(a.summaryCounts[b].performance+" Performance"),c.push(a.summaryCounts[b].security+" Security"),c.push(a.summaryCounts[b].availability+" Availability"));return c},a.getFilterIconClass=function(a){return a.icon},a.getPlatform=function(a){return d[a]},a.selectFilter=function(a){a.active=!0,a.doFilter(),b.doFilter()},a.viewAll=function(){b.setSelectedProduct("all"),c.setState("inventoryRHEVManagers",!0),c.setState("inventoryRHEVHypervisors",!0),c.setState("inventoryRHEVClusters",!0),c.setState("inventoryDockerContainers",!0),c.setState("inventoryDockerImages",!0),c.setState("inventoryDockerHosts",!0),c.setState("inventoryOSPCluster",!0),c.setState("inventoryOSPDirector",!0),c.setState("inventoryOSPCompute",!0),c.setState("inventoryOSPController",!0),b.doFilter()},a.selectSubFilter=function(b){a.selectFilter(b)},a.getImage=function(){var b=a.getSelectedProduct();return!(!b||"all"===b)&&"images/l_"+b+".svg"},p()}function e(){return{templateUrl:"js/components/platformFilter/platformFilter.html",restrict:"E",replace:!0,controller:d,scope:{summaryType:"="}}}d.$inject=["$scope","FilterService","MultiButtonService","Products","Categories","Report","System","HttpHeaders","QuickFilters","$q","PlatformService"],a("../").directive("platformFilter",e)},{"../":101}],132:[function(a,b,c){"use strict";function d(a,b,c,d){c.fetchRelatedSolution&&(a.showLabel=!angular.isDefined(a.showLabelParam)||a.showLabelParam,a.loading=!1,a.node&&(g[a.node]?(a.solution={},a.solution.viewUri=g[a.node].viewUri,a.solution.title=a.kcsTitle||g[a.node].title):(a.loading=!0,d.searchById(a.node).then(function(b){b.length&&(a.solution={},a.solution.viewUri=b[0].viewUri||b[0].view_uri,a.solution.title=a.kcsTitle||b[0].title,g[a.node]={title:b[0].title,viewUri:a.solution.viewUri})})["finally"](function(){a.loading=!1}))))}function e(){return{scope:{node:"=",showLabelParam:"=showLabel",kcsTitle:"@"},templateUrl:"js/components/recommendedKbase/recommendedKbase.html",restrict:"EC",controller:d}}d.$inject=["$scope","$http","InsightsConfig","StrataService"];var f=a("../"),g={};f.directive("recommendedKbase",e)},{"../":101}],133:[function(a,b,c){"use strict";function d(a){return{link:function(b,c,d){d.href?(e(c,d.href),b.$watch(function(){return window.location.pathname},function(){e(c,d.href)})):f(c,d),d.permalink&&c.bind("click",function(b){b.ctrlKey||b.metaKey||(b.stopPropagation(),a.make(d.href,!0))})}}}function e(a,b){a[0].href=window.location.pathname+b}function f(a,b){var c=b.$observe("href",function(b){e(a,b),c()})}d.$inject=["PermalinkService"],a("../").directive("relativeHash",d)},{"../":101}],134:[function(a,b,c){"use strict";function d(a){return g.generate({bindto:".rha-telemetry-donut",size:{width:320,height:320},pie:{label:{threshold:.07}},data:{columns:[],colors:{Availability:"#1F77B4",Performance:"#2c96cb",Security:"#6d868d",Stability:"#46b631"},type:"pie"},legend:{show:!1},tooltip:{format:{name:a,value:function(a,b){return b>=.07?a:a+" ("+h.format("0.3p")(b)+")"}}}})}function e(a,b,c,e,f,g){return{restrict:"C",replace:!0,link:function(b){c.setDonutChart(d(c.mapName));var e=g.filter(function(a){return"all"!==a}),h=function(b){function d(a){return".c3-arc-"+a.replace(/[|._]/g,"-")}if(b){var g=c.getDonutChart(),h=e.map(function(a){return[i(a),b[a]]}).filter(function(a){return a[1]>0});!function(b,c){g.load({columns:b,unload:c,done:function(){angular.forEach(b,function(b){var c=b[0],e=d(c),g=document.querySelector(e);angular.element(g).on("touchend click",function(){a.go("app.topic",{id:c.toLowerCase(),product:f.getSelectedProduct()})})})}})}(h,e.map(i))}};b.$on("filterService:doFilter",h),b.$watch("stats.rules",h,!0)}}}e.$inject=["$state","$timeout","RhaTelemetryActionsService","Stats","FilterService","Categories"];var f=a("../"),g=a("./../../../bower_components/c3/c3.js"),h=a("./../../../bower_components/d3/d3.js"),i=a("lodash/capitalize");
f.directive("rhaTelemetryDonut",e)},{"../":101,"./../../../bower_components/c3/c3.js":12,"./../../../bower_components/d3/d3.js":13,"lodash/capitalize":447}],135:[function(a,b,c){"use strict";function d(){return{templateUrl:"js/components/rule/ruleBreadcrumb/ruleBreadcrumb.html",restrict:"ECA"}}a("../../").directive("ruleBreadcrumb",d)},{"../../":101}],136:[function(a,b,c){"use strict";function d(a,b){a.getShowFilters=b.getShowFilters,a.getSelectedProduct=b.getSelectedProduct,a.filter=b,a.validSummaryFields=["product","category","osp_deployment","docker_host","role"]}function e(){return{templateUrl:"js/components/rule/ruleFilter/ruleFilter.html",restrict:"E",controller:d}}d.$inject=["$scope","FilterService"],a("../../").directive("ruleFilter",e)},{"../../":101}],137:[function(a,b,c){"use strict";function d(a,b,c,d){function e(b){i&&(b.keyCode===f&&a.previous(),b.keyCode===g&&a.next())}function h(){a.swapping=!0,b(function(){a.swapping=!1},0)}var i=!1;a.config=d,a.setActive=function(a){i=a},c.on("keydown",e),a.$on("$destroy",function(){c.off("keydown",e)}),a.index=0,a.$watch("plugin",function(b){b&&(a.rule=b.rules[a.index])}),a.hasNext=function(){return a.index+1<a.plugin.rules.length},a.next=function(){a.hasNext()&&(a.index++,a.rule=a.plugin.rules[a.index],h())},a.hasPrevious=function(){return a.index>0},a.previous=function(){a.hasPrevious()&&(a.index--,a.rule=a.plugin.rules[a.index],h())}}function e(){return{templateUrl:"js/components/rule/ruleGroupCard/ruleGroupCard.html",restrict:"E",scope:{plugin:"="},controller:d}}d.$inject=["$scope","$timeout","$document","InsightsConfig"];var f=37,g=39;a("../../").directive("ruleGroupCard",e)},{"../../":101}],138:[function(a,b,c){"use strict";function d(){return{templateUrl:"js/components/rule/ruleListSimple/ruleListSimple.html",restrict:"E",scope:{rules:"=",onDelete:"&",onSelect:"&",order:"="},link:function(a,b,c){a.readOnly=!c.onDelete,a.$watch("rules",function(){a.limit=10})}}}a("../../").directive("ruleListSimple",d)},{"../../":101}],139:[function(a,b,c){"use strict";function d(){return{templateUrl:"js/components/rule/ruleReason/ruleReason.html",restrict:"EC"}}a("../../").directive("ruleReason",d)},{"../../":101}],140:[function(a,b,c){"use strict";function d(a,b){b.getSystemNameFromId=function(b){var c=a.getSystemNames();return c&&c.hasOwnProperty(b)?c[b]:b}}function e(){return{templateUrl:"js/components/rule/ruleResolution/ruleResolution.html",restrict:"EC",replace:!0,controller:d}}d.$inject=["RhaTelemetryActionsService","$scope"],a("../../").directive("ruleResolution",e)},{"../../":101}],141:[function(a,b,c){"use strict";function d(a,b,c,d,e,f){a.getLoadingMessage=function(){var b="Loading report(s)";return a.system.hostname&&(b=b+" for "+a.system.hostname),b+"…"},a.rule?a.rule_id=a.rule:a.rule_id=b.rule,a.machineId&&!a.system.__fake&&(a.rule_id&&(a.ruleFilter=!0),a.system&&(a.system.reports=[],function(){a.loading.isLoading=!0,d.getSystemReports(a.machineId).success(function(b){angular.extend(a.system,b),a.rule_id&&a.system.reports.sort(function(b,c){return b.rule_id===a.rule_id?-1:c.rule_id===a.rule_id?1:0}),a.loading.isLoading=!1}).error(function(b,c,d,e){f.getReportsErrorCallback&&(a.errorMessage=f.getReportsErrorCallback(b,c,d,e)),a.loading.isLoading=!1})}()))}function e(){return{controller:d,templateUrl:"js/components/rule/ruleSummaries/ruleSummaries.html",restrict:"EC",scope:{system:"=",machineId:"=",rule:"=",ruleFilter:"=",loading:"="}}}d.$inject=["$scope","$stateParams","$location","System","Report","InsightsConfig"],a("../../").directive("ruleSummaries",e)},{"../../":101}],142:[function(a,b,c){"use strict";function d(a,b){a.config=b,a.show={moreInfo:!1},a.initCollapsed=!1,a.ruleFilter&&a.ruleId&&a.ruleId!==a.report.rule_id&&(a.initCollapsed=!0),a.resetShowMore=function(b){b.collapsing&&(a.show.moreInfo=!1)}}function e(){return{controller:d,templateUrl:"js/components/rule/ruleSummary/ruleSummary.html",restrict:"EC",scope:{report:"=",rule:"=",ruleId:"=",ruleFilter:"=",loading:"="}}}d.$inject=["$scope","InsightsConfig"],a("../../").directive("ruleSummary",e)},{"../../":101}],143:[function(a,b,c){"use strict";function d(a,b,c,d){function e(){a.text=d.getString("Permanently Ignore Rule"),a.rule&&a.rule.ack_id&&(a.text=d.getString("Unignore Rule"))}a.ackAction=function(){a.rule&&a.rule.ack_id?(b.deleteAck({id:a.rule.ack_id}),a.rule.ack_id=null):b.createAck(a.rule).then(function(b){a.rule.ack_id=b.id})},a.isSystemAlert=function(a){return c.systemAlerts[a]},e(),a.$watch("rule.ack_id",e)}function e(){return{templateUrl:"js/components/rule/ruleToggle/ruleToggle.html",restrict:"E",scope:{rule:"="},controller:d}}d.$inject=["$scope","Ack","InsightsConfig","gettextCatalog"],a("../../").directive("ruleToggle",e)},{"../../":101}],144:[function(a,b,c){"use strict";function d(){return{scope:{state:"="},templateUrl:"js/components/ruleStateIcon/ruleStateIcon.html",restrict:"E",replace:!0}}a("../").directive("ruleStateIcon",d)},{"../":101}],145:[function(a,b,c){"use strict";function d(a){a("All"),a("INFO"),a("WARN"),a("ERROR"),a("CRITICAL")}d.$inject=["gettext"];var e=a("../");e.constant("Severities",["All","INFO","WARN","ERROR","CRITICAL"]),e.controller("__Severities",d)},{"../":101}],146:[function(a,b,c){"use strict";function d(){return{scope:{rule:"<"},templateUrl:"js/components/severityIcon/allSeverityIcons.html",restrict:"E",replace:!0}}a("../").directive("allSeverityIcons",d)},{"../":101}],147:[function(a,b,c){"use strict";function d(a,b){var c={};c.iconClass=function(a){switch(a){case 1:return"low";case 2:return"med";case 3:return"high";case 4:return"critical";default:return"unknown"}},c.checkTypes=function(){if(a.type&&a.type){if(g(c.typeMap,a.type))return;throw new Error("Invalid severity-icon type selected! "+a.type)}throw new Error("No severity-icon type selected! "+a.type)},c.typeMap={impact:b.getString("Impact"),likelihood:b.getString("Likelihood"),severity:b.getString("Total Risk")},c.sevClassMap={INFO:c.iconClass(1),WARN:c.iconClass(2),ERROR:c.iconClass(3),CRITICAL:c.iconClass(4),UNKNOWN:c.iconClass(-1),1:c.iconClass(1),2:c.iconClass(2),3:c.iconClass(3),4:c.iconClass(4)},c.numberToStringMap={1:b.getString("Low"),2:b.getString("Medium"),3:b.getString("High"),4:b.getString("Critical"),INFO:b.getString("Low"),WARN:b.getString("Medium"),ERROR:b.getString("High"),CRITICAL:b.getString("Critical"),UNKNOWN:b.getString("Unknown")},a.init=function(){c.checkTypes(),a.severity||(a.severity="UNKNOWN"),a.type&&!a.label&&(a.label=c.typeMap[a.type]),a.tooltip=c.typeMap[a.type]+": "+c.numberToStringMap[a.severity],a.sevClass=c.sevClassMap[a.severity]}}function e(){return{scope:{type:"@",label:"@",severity:"<"},templateUrl:"js/components/severityIcon/severityIcon.html",restrict:"E",replace:!0,controller:d}}d.$inject=["$scope","gettextCatalog"];var f=a("../"),g=a("lodash/has");f.directive("severityIcon",e)},{"../":101,"lodash/has":465}],148:[function(a,b,c){"use strict";function d(a,b,c,d,e,f){function g(){d.getRules({product:a.product}).then(function(b){a.categoryCounts=b.data})}a.product=f.getSelectedProduct(),"all"===a.product&&(a.product=void 0),a.categoryCounts={},a.categories=e,a.actions=!1,a.isActive=function(b){return a.actions&&c.id===b},a.$watch(function(){return b.current&&b.current.actions},function(b){a.actions=b}),a.$on("group:change",g),g()}function e(){return{templateUrl:"js/components/sideNav/actionsSideNav/actionsSideNav.html",restrict:"E",replace:!0,controller:d}}d.$inject=["$scope","$state","$stateParams","Stats","Categories","FilterService"],a("../../").directive("rhaTelemetryActionsSideNav",e)},{"../../":101}],149:[function(a,b,c){"use strict";function d(a,b,c,d){a.isHidden=!1,a.toggleNav=function(){a.isHidden=!a.isHidden},a.utils=b,a.state=c,a.includes=g,a.config=d,a.states={rules:["app.rules","app.admin-rules","app.admin-rule-tags","app.create-rule","app.show-rule","app.edit-rule"],actions:["app.actions","app.actions-rule","app.topic"]}}function e(){return{templateUrl:"js/components/sideNav/sideNav.html",restrict:"E",replace:!0,controller:d}}d.$inject=["$scope","Utils","$state","InsightsConfig"];var f=a("../"),g=a("lodash/includes");f.directive("sideNav",e)},{"../":101,"lodash/includes":468}],150:[function(a,b,c){"use strict";function d(a){function b(){void 0===a.model&&a.options&&a.options.length&&(a.selected=g(a.options,{id:null}))}a.$watch("options",b),a.$watch("model",function(c){a.selected=g(a.options,function(a){return String(a.id).toLowerCase()===String(c).toLowerCase()}),b()}),a.select=function(b){a.selected=b,a.model=b.id}}function e(){return{scope:{model:"=",options:"=",disabled:"="},templateUrl:"js/components/simpleSelect/simpleSelect.html",restrict:"E",replace:!0,controller:d}}d.$inject=["$scope"];var f=a("../"),g=a("lodash/find");f.directive("simpleSelect",e)},{"../":101,"lodash/find":457}],151:[function(a,b,c){"use strict";function d(a){a.statusClass="",a.status?a.statusClass="fa-check-circle-o":a.statusClass="fa-circle-o"}function e(){return{scope:{status:"="},templateUrl:"js/components/statusIcon/statusIcon.html",restrict:"E",replace:!0,controller:d}}d.$inject=["$scope"],a("../").directive("statusIcon",e)},{"../":101}],152:[function(a,b,c){"use strict";function d(a,b,c,d){var e=document.body.scrollTop,f=c.getBoundingClientRect(),g=f.top+document.body.scrollTop+d,h=b.getBoundingClientRect(),i=h.top+e+h.height,j=e+document.body.offsetHeight,k="",l="";g>e?(k="absolute-top",l="absolute-bottom fixed-bottom"):j>i?(k="absolute-bottom",l="absolute-top fixed-bottom"):(k="fixed-bottom",l="absolute-top absolute-bottom"),a.addClass(k).removeClass(l)}function e(a){var b,c=document.body.scrollTop,d=a[0];void 0===a.originalOffset?(a.removeClass("stuck"),b=d.getBoundingClientRect().top,a.originalOffset=b+c):b=d.getBoundingClientRect().top,c>=a.originalOffset?a.addClass("stuck"):a.removeClass("stuck")}function f(a,b,c,f){a&&b&&c?d(a,b,c,f):a&&e(a)}function g(a){function b(a){return a&&"resize"===a.type&&delete c.originalOffset,f(c,d,e,g)}var c,d,e,g,h;a.child&&(c=angular.element(document.querySelector(a.child)),d=document.querySelector(a.parent),e=document.querySelector(a.sibling),g=a.offset,void 0===g&&(g=0),g=parseInt(g,10),h=angular.element(window),h.on("scroll",b),h.on("resize",b),a.$on("$destroy",function(){h.off("scroll",b),h.off("resize",b)}))}function h(){return{restrict:"CA",scope:{parent:"@",child:"@",sibling:"@",offset:"@"},link:g}}g.$inject=["$scope"],a("../").directive("stickyNav",h)},{"../":101}],153:[function(a,b,c){"use strict";function d(a,b){a.close=function(){b.dismiss("close")}}d.$inject=["$scope","$modalInstance"],a("../../").controller("AddSystemModalCtrl",d)},{"../../":101}],154:[function(a,b,c){"use strict";function d(a,b,c,d,e,f,g,h,i,j){function k(){e.dismiss("close")}a.report={},h.triggerEvent("InsightsCompletion"),a.system=f,a.rule=g,a.loading={isLoading:!0},!1===f&&(a.system={hostname:"this.is.a.fake.system",machine_id:"fakemachineidfakemachineidfakemachineid",__fake:!0}),a.close=k,j.setMachine(a.system.system_id);var l=b.$on("$stateChangeStart",k),m=b.$on("telemetry:esc",function(a){return a.preventDefault(),!1});e.result.then(angular.noop,function(){d(function(){m(),l()})}),a.$on("modal.closing",function(){j.setMachine(null),m()}),a.getUUID=function(){return a.system.machine_id?a.system.machine_id:a.system.system_id}}d.$inject=["$scope","$rootScope","$location","$timeout","$modalInstance","system","rule","AnalyticsService","Utils","FilterService"],a("../../").controller("SystemModalCtrl",d)},{"../../":101}],155:[function(a,b,c){"use strict";function d(a,b,c,d,e,f,l,m,n,o,p,q,r){function s(a){if("app.systems"===b.current.name&&a&&a.length){if(a=a[0].split(B),3!==a.length)return;var c={sort:a[2],dir:"+"===a[1]?"asc":"desc"},d=e.search();e.replace(),d.ospProducts&&(c.ospProducts=d.ospProducts),d.standaloneProducts&&(c.standaloneProducts=d.standaloneProducts),e.search(c)}}function t(a){var b=[],c=null,d=q.get("dashboard_mode");return"osp"===d&&(c=q.get("osp_deployment")),a.forEach(function(a){a.metadata&&i(a.metadata)&&(a.metadata=JSON.parse(a.metadata)),"osp"===d&&a.parent_id===c?b.push(a):"rhel"!==d&&void 0!==d||a.parent_id||b.push(a)}),b}function u(){var b=e.search(),c=b.machine;if(c){var d=h(z,{machine_id:c});return d?a.showSystem(d):void 0}}function v(){a.tableParams.reload()}function w(){var b=n.itemsChanged(A,a.checkboxes.items);a.totalChecked=b.totalChecked,a.indeterminate=b.indeterminate,angular.isDefined(b.checked)&&(a.checkboxes.checked=b.checked)}function x(a){C||(C=d.open(a),C.result["finally"](function(){C=null}))}a.canUnregisterSystems=!0,a.getSystemsLabel=q.getSystemsLabel,a.systemToString=function(a){return n.getSystemDisplayName(a)},a.isOspMode=function(){return"osp"===q.get("dashboard_mode")},a.getNumCols=function(){var a=3;return"osp"===q.get("dashboard_mode")&&(a=4),a};var y=void 0;a.checkboxes={checked:!1,items:{}},"boolean"==typeof o.canUnregisterSystems?a.canUnregisterSystems=o.canUnregisterSystems:"function"==typeof o.canUnregisterSystems&&(a.canUnregisterSystems=!1,o.canUnregisterSystems(function(b){a.canUnregisterSystems=b}));var z=a.systems||[],A=z,B=/(\+|-)/;a.filters={hostname:""};var C=null;a.systemIsHeader=function(a){var b=!1;return a&&a.metadata&&a.metadata.role&&"header"===a.metadata.role&&(b=!0),b};var D=n.resetChecked(a.checkboxes),E=angular.extend({page:1,count:30,filter:a.filters,sorting:{last_check_in:"desc"}},function(){var a=e.search();if(a.sort){var b={sorting:{}};return b.sorting[a.sort]=a.dir||"desc",b}}());a.tableParams=new l(E,{total:z.length,counts:[],getData:function(b,d){D(),s(d.orderBy()),A=t(z),A=d.filter()?c("filter")(A,d.filter().hostname):A,A=d.sorting()?c("orderBy")(A,d.orderBy()):A,a.onlyOffline&&(A=g(A,function(b){return b.last_check_in&&a.isStale(b)})),a.actionFilter&&"with"===a.actionFilter?A=g(A,function(a){return a.reports.length>0}):a.actionFilter&&"without"===a.actionFilter&&(A=g(A,function(a){return 0===a.reports.length}));var e=A.length,f=d.page(),h=d.count();if(f>1&&h>e&&(d.page(1),f=1),d.total(e),"osp"===q.get("dashboard_mode")){A=k(A,"metadata.role").reverse();var i={metadata:{role:null}},j=angular.copy(A),l=0;j.forEach(function(a,b){a.metadata.role!==i.metadata.role&&(A.splice(b+l,0,{machine_id:a.metadata.role,metadata:{role:"header"}}),l+=1),i=a})}else A=A.slice((f-1)*h,f*h);b.resolve(A)}}),a.$watch("systems",function(b){b&&(z=b,a.tableParams.total(z.length),v(),b.length&&u())}),a.$on("productFilter:change",function(){"app.systems"===b.current.name&&v()}),a.$watch("onlyOffline",v),a.$watch("actionFilter",v),a.rowClick=function(b,c){if(c.metadata&&"header"!==c.metadata.role){var d=b.target||b.srcElement;if("A"===d.tagName)return;if(b.shiftKey&&"mousedown"===b.type)return b.preventDefault(),!1;if("TD"===d.tagName&&"click"===b.type&&(a.checkboxes.items[c.system_id]=!a.checkboxes.items[c.system_id]),d=b.currentTarget,!y)return void(y=d);b.shiftKey&&n.selectBetween(d,y,a.checkboxes.items),y=d}},a.$watch("checkboxes.checked",function(b){n.checkboxChecked(b,A,a.checkboxes.items)}),a.$watchCollection("checkboxes.items",w),a.showSystem=function(a){return"function"==typeof o.systemShowSystem?o.systemShowSystem(a):void x({templateUrl:"js/components/system/systemModal/systemModal.html",windowClass:"system-modal ng-animate-enabled",backdropClass:"system-backdrop ng-animate-enabled",controller:"SystemModalCtrl",resolve:{system:function(){return a},rule:function(){return!1}}})},a.unregisterSystems=function(){var b=[];for(var c in a.checkboxes.items)!0===a.checkboxes.items[c]&&b.push(c);var d=b.length,e=p.getPlural(d,"<h5>This will unregister the selected system from Red Hat Insights.</h5><p>To undo this action<code>redhat-access-insights --register</code>must be run from the unregistered system.</p>","<h5>This will unregister the {{count}} selected systems from Red Hat Insights.</h5><p>To undo this action <code>redhat-access-insights --register</code>must be run from each unregistered system.</p>",{count:d});m.swal({title:"Are you sure?",text:e,type:"warning",confirmButtonColor:"#DD6B55",confirmButtonText:"Yes",html:!0,showCancelButton:!0},function(c){if(c){for(var d=0;d<b.length;d++)f.deleteSystem(b[d]);for(var e=z.length-1;e>=0;e--){var g=z[e];-1!==b.indexOf(g.machine_id)&&(z.splice(e,1),a.summary&&g.reports&&g.reports.length?a.summary.red--:a.summary&&g.reports&&!g.reports.length&&a.summary.green--)}a.tableParams.reload()}})},a.registerSystem=function(){var a=!1;r.asyncCurrent(function(b){a=b.current_entitlements?b.current_entitlements.systemLimitReached:!b.is_internal,b.current_entitlements&&b.current_entitlements.unlimitedRHEL&&(a=!1)}),x({templateUrl:"js/components/system/addSystemModal/"+(a?"upgradeSubscription.html":"addSystemModal.html"),windowClass:"system-modal ng-animate-enabled",backdropClass:"system-backdrop ng-animate-enabled",controller:"AddSystemModalCtrl"})},a.actionTooltip=function(a){return 1===a?"1 Action":a+" Actions"},a.isPortal=o.isPortal,a.cleanRole=function(a){return i(a)&&(a=JSON.parse(a)),j(a)?void 0:a.role},a.showRegisterButton=function(){var b=!1;return!a.isOspMode()&&a.isPortal&&(b=!0),b}}function e(){return{templateUrl:"js/components/system/systemSummaryTable/systemSummaryTable.html",restrict:"EC",scope:{systems:"=",summary:"=",onlyOffline:"=",actionFilter:"="},controller:d}}d.$inject=["$scope","$state","$filter","$modal","$location","System","NgTableParams","SweetAlert","Utils","InsightsConfig","gettextCatalog","PreferenceService","User"];var f=a("../../"),g=a("lodash/filter"),h=a("lodash/find"),i=a("lodash/isString"),j=a("lodash/isEmpty"),k=a("lodash/sortBy");f.directive("systemSummaryTable",e)},{"../../":101,"lodash/filter":456,"lodash/find":457,"lodash/isEmpty":475,"lodash/isString":480,"lodash/sortBy":501}],156:[function(a,b,c){"use strict";function d(a,b,c,d,e,f){function i(){if(k&&k.length){var b=g(a.group.systems,"system_id");a.systems=h(k,function(a){return!!b[a.system_id]}),b=null,a.filterSystems()}}function j(){var b=d.itemsChanged(a._filteredSystems,a.checkboxes.items);a.totalChecked=b.totalChecked,a.indeterminate=b.indeterminate,angular.isDefined(b.checked)&&(a.checkboxes.checked=b.checked)}var k,l,m=a.type;a._filteredSystems=[],a.indeterminate=!1,a.items=[10,25,50,100],a.itemsPerPage=10,a.title=f("in"===m?"Systems in This Group":"Available Systems"),a.currentPage=1,a.total=0,a.maxPages=4,a.systemFilter="",a.checkboxes={checked:!1,items:{}},a.filterSystems=function(){a.filteredSystems=e("filter")(a.systems,{hostname:a.systemsFilter}),a.total=a.filteredSystems.length};var n=d.resetChecked(a.checkboxes);a.pageChanged=n,a.addSystems=function(){var b=[],d=g(a._filteredSystems,"system_id");for(var e in a.checkboxes.items)a.checkboxes.items[e]&&d[e]&&b.push(d[e]);c.addSystems(a.group,b),n()},a.removeSystems=function(){var b=[];for(var d in a.checkboxes.items)a.checkboxes.items[d]&&b.push(d);c.removeSystems(a.group,b),n()},a.rowClick=function(b){if(b.shiftKey&&"mousedown"===b.type)return b.preventDefault(),!1;var c=b.currentTarget;return l?(b.shiftKey&&d.selectBetween(c,l,a.checkboxes.items),void(l=c)):void(l=c)},"in"===m?(a.systems=a.group.systems,a.filterSystems(),a.$watchCollection("group.systems",function(){a.filterSystems()})):(b.getSystems(!1).success(function(a){k=a.resources,i()}),a.$watchCollection("group.systems",i)),a.$watch("checkboxes.checked",function(b){d.checkboxChecked(b,a._filteredSystems,a.checkboxes.items)}),a.$watchCollection("checkboxes.items",j)}function e(){return{templateUrl:"js/components/system/systemTable/systemTable.html",restrict:"E",scope:{group:"=",type:"@"},controller:d}}d.$inject=["$scope","System","Group","Utils","$filter","gettext"];var f=a("../../"),g=a("lodash/keyBy"),h=a("lodash/reject");f.directive("systemTable",e)},{"../../":101,"lodash/keyBy":483,"lodash/reject":498}],157:[function(a,b,c){"use strict";function d(a,b,c){a.loading=!1,a.system&&a.system.system_id&&(a.loading=!0,b.getSystemMetadata(a.system.system_id).then(function(b){a.systemFacts=c.getSystemFacts(a.system,b.data),a.loading=!1}))}function e(){return{templateUrl:"js/components/systemMetadata/systemMetadata.html",restrict:"E",controller:d,scope:{system:"="}}}d.$inject=["$scope","System","SystemsService"],a("../").directive("systemMetadata",e)},{"../":101}],158:[function(a,b,c){"use strict";function d(a){function b(a){for(var b=a.querySelectorAll("a"),c=0;c<b.length;c++)b[c].target="_blank"}return{link:function(c,d){a(function(){d&&d[0]&&b(d[0])},0,!1)}}}d.$inject=["$timeout"],a("../").directive("targetBlank",d)},{"../":101}],159:[function(a,b,c){"use strict";function d(a,b){return a.year()===b.year()&&a.month()===b.month()&&a.date()===b.date()}function e(a){function b(){a.startTime=h(a.start),a.endTime=h(a.end),a.timezone&&(a.startTime=a.startTime.tz(a.timezone),a.endTime=a.endTime.tz(a.timezone));var b=h(a.start);a.startDate=!1,a.endDate=!1,d(b,a.startTime)||(a.startDate=a.startTime.format(e)),d(b,a.endTime)||(a.endDate=a.endTime.format(e)),a.startTime=a.startTime.format(c),a.endTime=a.endTime.format(c)}var c="LT",e="MMM D";b(),a.$watchGroup(["start","end","timezone"],b)}function f(){return{templateUrl:"js/components/timeRange/timeRange.html",restrict:"E",controller:e,replace:!0,scope:{start:"=start",end:"=end",timezone:"=?timezone"}}}e.$inject=["$scope"];var g=a("../"),h=a("./../../../bower_components/moment-timezone/builds/moment-timezone-with-data-2010-2020.js");g.directive("timeRange",f)},{"../":101,"./../../../bower_components/moment-timezone/builds/moment-timezone-with-data-2010-2020.js":14}],160:[function(a,b,c){"use strict";function d(a,b,c,d,e,f,g,h,i,j){function k(){b.loading=!0,g.removeAll("stale"),f.getSystemStatus(!0).then(function(a){a.data&&a.data.hasOwnProperty("stale")&&a.data.hasOwnProperty("ackedStale")&&a.data.stale-a.data.ackedStale>0&&g.push({type:"stale",msg:d.getPlural(a.data.stale-a.data.ackedStale,"1 new system not checking in","{{count}} new systems not checking in",{count:a.data.stale-a.data.ackedStale}),acked:!1,icon:"fa-server",onAck:l,onSelect:n})})["finally"](function(){b.loading=!1})}function l(){return f.ackStaleSystems().then(k)}function m(){i.setOnline(!1),i.setOffline(!0),j.setSort({field:"last_check_in",direction:"DESC"}),c.go("app.inventory",{offline:!0})}function n(a){!1===a.acked?l().then(m):m()}b.service=g,k(),h.plans.load()}function e(){return{templateUrl:"js/components/topbar/alerts/alerts.html",restrict:"E",replace:!0,scope:{icon:"@icon"},controller:d}}d.$inject=["$rootScope","$scope","$state","gettextCatalog","RhaTelemetryActionsService","System","TopbarAlertsService","MaintenanceService","FilterService","InventoryService"],a("../../").directive("alerts",e)},{"../../":101}],161:[function(a,b,c){"use strict";function d(a,b,c){function d(){a.disabled=g(h,c.current.name)}a.isPortal=b.isPortal,a.$on("$stateChangeSuccess",d),d()}function e(){return{templateUrl:"js/components/topbar/topbar.html",restrict:"E",controller:d,replace:!0}}d.$inject=["$scope","InsightsConfig","$state"];var f=a("../"),g=a("lodash/includes"),h=["app.config","app.digests","app.rules"];f.directive("topbar",e)},{"../":101,"lodash/includes":468}],162:[function(a,b,c){"use strict";function d(a){return{templateUrl:"js/components/topics/otherTopic/otherTopic.html",restrict:"E",replace:!0,scope:{topic:"="},link:function(b){b.getSelectedProduct=a.getSelectedProduct}}}d.$inject=["FilterService"],a("../../").directive("otherTopic",d)},{"../../":101}],163:[function(a,b,c){"use strict";function d(a){return{scope:!0,templateUrl:"js/components/topics/topicAdminHelpBar/topicAdminHelpBar.html",restrict:"E",replace:!0,link:function(b,c,d){function e(a){var c=f.selectionStart,d=f.value;d||(d="");var e=d.substring(0,c),g=d.substring(c);f.value=e+a+g,f.selectionStart=f.selectionEnd=c+a.length,b.topic.content=f.value}var f;if(angular.forEach(a.find("textarea"),function(a){a.id===d.textArea&&(f=a)}),!f)throw new Error("Unable to find text area with id: "+d.textArea);b.help={show:!1},b.help.appendInterpolation=function(a){var b="topic.actions.totalCount";a&&(b=a.target.text.trim()),e("{{= "+b+" }}")},b.help.appendConditional=function(){e("\n{{? topic.actions.totalCount}}\nActions found!\n{{??}}\nNo actions found!\n{{?}}\n")},b.help.interpolations=[],b.help.createInterpolations=function(){if(b.topic&&b.topic.rules){var a=[{key:"systems.totalCount",value:"Number of systems with a given product (or all systems combined if no product selected)"},{key:"systems.affectedCount",value:"Number of systems affected by this topic"},{key:"product.code",value:"Product code (rhel, rhev, osp or docker)"},{key:"topic.rules.totalCount",value:"Number of rules that belong to this topic"},{key:"topic.rules.ackedCount",value:"Number of rules that belong to this topic and are ignored (acked) by the customer"},{key:"topic.actions.totalCount",value:"Number of actions (rule violations on systems) for this topic"}],c=[{key:"topic.rule.actionCount",value:"Number of actions for the given rule"},{key:"topic.rule.description",value:"Name of the rule"},{key:"topic.rule.link",value:"Link to a page for the given rule"},{key:"topic.rule.category",value:"Rule category (Security, Performance, Availability or Stability)"},{key:"topic.rule.severity",value:"Rule severity (ERROR, WARN, INFO)"},{key:"topic.rule.acked",value:"Indicated whether this rule has been ignored (acked) by the user"}];if("explicit"===b.ruleBinding&&1===b.topic.rules.length)b.help.interpolations=a.concat(c);else{var d=b.selectedRule;b.help.interpolations=a.concat([{key:"topic.rules.byId['"+d+"'].actionCount",value:c[0].value},{key:"topic.rules.byId['"+d+"'].description",value:c[1].value},{key:"topic.rules.byId['"+d+"'].link",value:c[2].value},{key:"topic.rules.byId['"+d+"'].category",value:c[3].value},{key:"topic.rules.byId['"+d+"'].severity",value:c[4].value},{key:"topic.rules.byId['"+d+"'].acked",value:c[5].value}])}}},b.$watchCollection("topic.rules",b.help.createInterpolations),b.$watch("selectedRule",b.help.createInterpolations)}}}d.$inject=["$document"],a("../../").directive("topicAdminHelpBar",d)},{"../../":101}],164:[function(a,b,c){"use strict";function d(a){return{templateUrl:"js/components/topics/topicDetails/topicDetails.html",restrict:"E",replace:!0,scope:{topic:"="},link:function(b){a.$watch("isContentManager",function(a){b.isContentManager=a})}}}d.$inject=["$rootScope"],a("../../").directive("topicDetails",d)},{"../../":101}],165:[function(a,b,c){"use strict";function d(a,b,c,d,e,h,i){a.summary=d,a.details=e,a.editData=!1,a.loader=new i.Loader,a.topic={};var j=a.loader.bind(function(b){return c.preview(b).then(function(b){a.topic=b.data,a.topic.rules.forEach(h.readRule),a.sampleData={rules:f(a.topic.rules),systems:{affectedCount:a.topic.affectedSystemCount}}},function(b){404===b.status&&(a.topic=null)})});a.updateSampleData=function(){var c=g(b,["title","content","summary","alwaysShow","tag","category","rules"]);c.overrides={rules:a.sampleData.rules.map(function(a){return{rule_id:a.rule_id,hitCount:a.hitCount,acked:a.acked}}),systems:a.sampleData.systems},j(c)},j(b)}d.$inject=["$scope","topic","Topic","summary","details","DataUtils","Utils"];var e=a("../../"),f=a("lodash/cloneDeep"),g=a("lodash/pick");e.controller("TopicPreviewModalCtrl",d)},{"../../":101,"lodash/cloneDeep":449,"lodash/pick":495}],166:[function(a,b,c){"use strict";function d(a,b,c,d,e,f,h,i){function j(){c.showRulesWithNoHits=!1,c.hiddenCount=0}function k(a){a&&l(a.rules)}function l(a){if(c.showRulesWithNoHits)c.plugins=h.groupRulesByPlugin(a);else{var b=g(a,function(a){return a.hitCount&&!a.acked});c.plugins=h.groupRulesByPlugin(b[0]),c.hiddenCount=b[1].length}}function m(){c.topic.rules=a("orderBy")(c.topic.rules,["_type",c.sorter.reverse?"-"+c.sorter.predicate:c.sorter.predicate]),l(c.topic.rules)}c.config=e,c.listTypes=f.types(),c.getListType=f.getType,c.sorter=new i.Sorter({predicate:["acked","hitCount === 0","-severityNum","-hitCount"],reverse:!1},m),c.filterZero=function(a){return!!(c.showRulesWithNoHits||a.hitCount>0&&!a.acked)},b.$on("account:change",j),c.$watch("topic",function(a){c.showRulesWithNoHits=a&&0===a.hitCount,k(a)}),c.showAll=function(){c.showRulesWithNoHits=!0,k(c.topic)},c.viewImpactedSystems=function(a,b){d.go("app.actions-rule",{category:a,rule:b})},j()}function e(){return{templateUrl:"js/components/topics/topicRuleList/topicRuleList.html",restrict:"E",replace:!0,controller:d,scope:{topic:"="}}}d.$inject=["$filter","$rootScope","$scope","$state","InsightsConfig","ListTypeService","RuleService","Utils"];var f=a("../../"),g=a("lodash/partition");f.directive("topicRuleList",e)},{"../../":101,"lodash/partition":494}],167:[function(a,b,c){"use strict";function d(a,b){a.systemTypeIcon="",a.systemTypeDisplayName="",a.systemTypeDisplayNameShort="",b.getSystemTypeAsync(a.typeId).then(function(b){b&&(a.systemTypeIcon=b.imageClass,a.systemTypeDisplayName=b.displayName,a.systemTypeDisplayNameShort=b.displayNameShort)})}function e(){return{scope:{typeId:"=",includeText:"="},templateUrl:"js/components/typeIcon/typeIcon.html",restrict:"EC",replace:!0,controller:d}}d.$inject=["$scope","SystemsService"],a("../").directive("typeIcon",e)},{"../":101}],168:[function(a,b,c){angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.alert","ui.bootstrap.dropdown","ui.bootstrap.position","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.bindHtml","ui.bootstrap.tabs"]),angular.module("ui.bootstrap.tpls",["template/alert/alert.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/tabs/tab.html","template/tabs/tabset.html"]),angular.module("ui.bootstrap.collapse",[]).directive("collapse",["$animate",function(a){return{link:function(b,c,d){function e(){c.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),a.addClass(c,"in",{to:{height:c[0].scrollHeight+"px"}}).then(f)}function f(){c.removeClass("collapsing"),c.css({height:"auto"})}function g(){return c.hasClass("collapse")||c.hasClass("in")?(c.css({height:c[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),void a.removeClass(c,"in",{to:{height:"0"}}).then(h)):h()}function h(){c.css({height:"0"}),c.removeClass("collapsing"),c.addClass("collapse")}b.$watch(d.collapse,function(a){a?g():e()})}}}]),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(a,b){a.closeable=!!b.close,this.close=a.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(a){return{require:"alert",link:function(b,c,d,e){a(function(){e.close()},parseInt(d.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document","$rootScope",function(a,b){var c=null;this.open=function(b){c||(a.bind("click",d),a.bind("keydown",e)),c&&c!==b&&(c.isOpen=!1),c=b},this.close=function(b){c===b&&(c=null,a.unbind("click",d),a.unbind("keydown",e))};var d=function(a){if(c&&(!a||"disabled"!==c.getAutoClose())){var d=c.getToggleElement();if(!(a&&d&&d[0].contains(a.target))){var e=c.getDropdownElement();a&&"outsideClick"===c.getAutoClose()&&e&&e[0].contains(a.target)||(c.isOpen=!1,b.$$phase||c.$apply())}}},e=function(a){27===a.which?(c.focusToggleElement(),d()):c.isKeynavEnabled()&&/(38|40)/.test(a.which)&&c.isOpen&&(a.preventDefault(),a.stopPropagation(),c.focusDropdownEntry(a.which))}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate","$position","$document","$compile","$templateRequest",function(a,b,c,d,e,f,g,h,i,j){
var k,l,m=this,n=a.$new(),o=d.openClass,p=angular.noop,q=b.onToggle?c(b.onToggle):angular.noop,r=!1,s=!1;this.init=function(d){m.$element=d,b.isOpen&&(l=c(b.isOpen),p=l.assign,a.$watch(l,function(a){n.isOpen=!!a})),r=angular.isDefined(b.dropdownAppendToBody),s=angular.isDefined(b.keyboardNav),r&&m.dropdownMenu&&(h.find("body").append(m.dropdownMenu),d.on("$destroy",function(){m.dropdownMenu.remove()}))},this.toggle=function(a){return n.isOpen=arguments.length?!!a:!n.isOpen},this.isOpen=function(){return n.isOpen},n.getToggleElement=function(){return m.toggleElement},n.getAutoClose=function(){return b.autoClose||"always"},n.getElement=function(){return m.$element},n.isKeynavEnabled=function(){return s},n.focusDropdownEntry=function(a){var b=m.dropdownMenu?angular.element(m.dropdownMenu).find("a"):angular.element(m.$element).find("ul").eq(0).find("a");switch(a){case 40:angular.isNumber(m.selectedOption)?m.selectedOption=m.selectedOption===b.length-1?m.selectedOption:m.selectedOption+1:m.selectedOption=0;break;case 38:if(!angular.isNumber(m.selectedOption))return;m.selectedOption=0===m.selectedOption?0:m.selectedOption-1}b[m.selectedOption].focus()},n.getDropdownElement=function(){return m.dropdownMenu},n.focusToggleElement=function(){m.toggleElement&&m.toggleElement[0].focus()},n.$watch("isOpen",function(b,c){if(r&&m.dropdownMenu){var d=g.positionElements(m.$element,m.dropdownMenu,"bottom-left",!0),h={top:d.top+"px",display:b?"block":"none"};m.dropdownMenu.hasClass("dropdown-menu-right")?(h.left="auto",h.right=window.innerWidth-(d.left+m.$element.prop("offsetWidth"))+"px"):(h.left=d.left+"px",h.right="auto"),m.dropdownMenu.css(h)}if(f[b?"addClass":"removeClass"](m.$element,o).then(function(){angular.isDefined(b)&&b!==c&&q(a,{open:!!b})}),b)m.dropdownMenuTemplateUrl&&j(m.dropdownMenuTemplateUrl).then(function(a){k=n.$new(),i(a.trim())(k,function(a){var b=a;m.dropdownMenu.replaceWith(b),m.dropdownMenu=b})}),n.focusToggleElement(),e.open(n);else{if(m.dropdownMenuTemplateUrl){k&&k.$destroy();var l=angular.element('<ul class="dropdown-menu"></ul>');m.dropdownMenu.replaceWith(l),m.dropdownMenu=l}e.close(n),m.selectedOption=null}angular.isFunction(p)&&p(a,b)}),a.$on("$locationChangeSuccess",function(){"disabled"!==n.getAutoClose()&&(n.isOpen=!1)}),a.$on("$destroy",function(){n.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(a,b,c,d){d.init(b),b.addClass("dropdown")}}}).directive("dropdownMenu",function(){return{restrict:"AC",require:"?^dropdown",link:function(a,b,c,d){if(d){var e=c.templateUrl;e&&(d.dropdownMenuTemplateUrl=e),d.dropdownMenu||(d.dropdownMenu=b)}}}}).directive("keyboardNav",function(){return{restrict:"A",require:"?^dropdown",link:function(a,b,c,d){b.bind("keydown",function(a){if(-1!==[38,40].indexOf(a.which)){a.preventDefault(),a.stopPropagation();var c=angular.element(b).find("a");switch(a.keyCode){case 40:angular.isNumber(d.selectedOption)?d.selectedOption=d.selectedOption===c.length-1?d.selectedOption:d.selectedOption+1:d.selectedOption=0;break;case 38:d.selectedOption=0===d.selectedOption?0:d.selectedOption-1}c[d.selectedOption].focus()}})}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(a,b,c,d){if(d){b.addClass("dropdown-toggle"),d.toggleElement=b;var e=function(e){e.preventDefault(),b.hasClass("disabled")||c.disabled||a.$apply(function(){d.toggle()})};b.bind("click",e),b.attr({"aria-haspopup":!0,"aria-expanded":!1}),a.$watch(d.isOpen,function(a){b.attr("aria-expanded",!!a)}),a.$on("$destroy",function(){b.unbind("click",e)})}}}}),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(a,b){function c(a,c){return a.currentStyle?a.currentStyle[c]:b.getComputedStyle?b.getComputedStyle(a)[c]:a.style[c]}function d(a){return"static"===(c(a,"position")||"static")}var e=function(b){for(var c=a[0],e=b.offsetParent||c;e&&e!==c&&d(e);)e=e.offsetParent;return e||c};return{position:function(b){var c=this.offset(b),d={top:0,left:0},f=e(b[0]);f!=a[0]&&(d=this.offset(angular.element(f)),d.top+=f.clientTop-f.scrollTop,d.left+=f.clientLeft-f.scrollLeft);var g=b[0].getBoundingClientRect();return{width:g.width||b.prop("offsetWidth"),height:g.height||b.prop("offsetHeight"),top:c.top-d.top,left:c.left-d.left}},offset:function(c){var d=c[0].getBoundingClientRect();return{width:d.width||c.prop("offsetWidth"),height:d.height||c.prop("offsetHeight"),top:d.top+(b.pageYOffset||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].documentElement.scrollLeft)}},positionElements:function(a,b,c,d){var e,f,g,h,i=c.split("-"),j=i[0],k=i[1]||"center";e=d?this.offset(a):this.position(a),f=b.prop("offsetWidth"),g=b.prop("offsetHeight");var l={center:function(){return e.left+e.width/2-f/2},left:function(){return e.left},right:function(){return e.left+e.width}},m={center:function(){return e.top+e.height/2-g/2},top:function(){return e.top},bottom:function(){return e.top+e.height}};switch(j){case"right":h={top:m[k](),left:l[j]()};break;case"left":h={top:m[k](),left:e.left-f};break;case"bottom":h={top:m[j](),left:l[k]()};break;default:h={top:e.top-g,left:l[k]()}}return h}}}]),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b==a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b==a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}}).directive("modalBackdrop",["$animate","$modalStack",function(a,b){function c(c,d,e){e.modalInClass&&(a.addClass(d,e.modalInClass),c.$on(b.NOW_CLOSING_EVENT,function(b,c){var f=c();a.removeClass(d,e.modalInClass).then(f)}))}return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(a,b){return a.addClass(b.backdropClass),c}}}]).directive("modalWindow",["$modalStack","$q","$animate",function(a,b,c){return{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/modal/window.html"},link:function(d,e,f){e.addClass(f.windowClass||""),d.size=f.size,d.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!=c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))},d.$isRendered=!0;var g=b.defer();f.$observe("modalRender",function(a){"true"==a&&g.resolve()}),g.promise.then(function(){f.modalInClass&&(c.addClass(e,f.modalInClass),d.$on(a.NOW_CLOSING_EVENT,function(a,b){var d=b();c.removeClass(e,f.modalInClass).then(d)}));var b=e[0].querySelectorAll("[autofocus]");b.length?b[0].focus():e[0].focus();var g=a.getTop();g&&a.modalRendered(g.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(a,b){b.modalAnimation&&a.addClass(b.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function(a,b,c,d,e){e(a.$parent,function(a){b.empty(),b.append(a)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$$stackedMap",function(a,b,c,d,e,f,g){function h(){for(var a=-1,b=q.keys(),c=0;c<b.length;c++)q.get(b[c]).value.backdrop&&(a=c);return a}function i(a,b){var d=c.find("body").eq(0),e=q.get(a).value;q.remove(a),k(e.modalDomEl,e.modalScope,function(){d.toggleClass(p,q.length()>0)}),j(),b&&b.focus?b.focus():d.focus()}function j(){if(m&&-1==h()){var a=n;k(m,n,function(){a=null}),m=void 0,n=void 0}}function k(b,c,d){function e(){e.done||(e.done=!0,a.leave(b),c.$destroy(),d&&d())}var g,h=null,i=function(){return g||(g=f.defer(),h=g.promise),function(){g.resolve()}};return c.$broadcast(r.NOW_CLOSING_EVENT,i),f.when(h).then(e)}function l(a,b,c){return!a.value.modalScope.$broadcast("modal.closing",b,c).defaultPrevented}var m,n,o,p="modal-open",q=g.createNew(),r={NOW_CLOSING_EVENT:"modal.stack.now-closing"},s=0;return e.$watch(h,function(a){n&&(n.index=a)}),c.bind("keydown",function(a){var b=q.top();if(b&&b.value.keyboard)switch(a.which){case 27:a.preventDefault(),e.$apply(function(){r.dismiss(b.key,"escape key press")});break;case 9:r.loadFocusElementList(b);var c=!1;a.shiftKey?r.isFocusInFirstItem(a)&&(c=r.focusLastFocusableElement()):r.isFocusInLastItem(a)&&(c=r.focusFirstFocusableElement()),c&&(a.preventDefault(),a.stopPropagation())}}),r.open=function(a,b){var f=c[0].activeElement;q.add(a,{deferred:b.deferred,renderDeferred:b.renderDeferred,modalScope:b.scope,backdrop:b.backdrop,keyboard:b.keyboard});var g=c.find("body").eq(0),i=h();if(i>=0&&!m){n=e.$new(!0),n.index=i;var j=angular.element('<div modal-backdrop="modal-backdrop"></div>');j.attr("backdrop-class",b.backdropClass),b.animation&&j.attr("modal-animation","true"),m=d(j)(n),g.append(m)}var k=angular.element('<div modal-window="modal-window"></div>');k.attr({"template-url":b.windowTemplateUrl,"window-class":b.windowClass,size:b.size,index:q.length()-1,animate:"animate"}).html(b.content),b.animation&&k.attr("modal-animation","true");var l=d(k)(b.scope);q.top().value.modalDomEl=l,q.top().value.modalOpener=f,g.append(l),g.addClass(p),r.clearFocusListCache()},r.close=function(a,b){var c=q.get(a);return c&&l(c,b,!0)?(c.value.deferred.resolve(b),i(a,c.value.modalOpener),!0):!c},r.dismiss=function(a,b){var c=q.get(a);return c&&l(c,b,!1)?(c.value.deferred.reject(b),i(a,c.value.modalOpener),!0):!c},r.dismissAll=function(a){for(var b=this.getTop();b&&this.dismiss(b.key,a);)b=this.getTop()},r.getTop=function(){return q.top()},r.modalRendered=function(a){var b=q.get(a);b&&b.value.renderDeferred.resolve()},r.focusFirstFocusableElement=function(){return o.length>0&&(o[0].focus(),!0)},r.focusLastFocusableElement=function(){return o.length>0&&(o[o.length-1].focus(),!0)},r.isFocusInFirstItem=function(a){return o.length>0&&(a.target||a.srcElement)==o[0]},r.isFocusInLastItem=function(a){return o.length>0&&(a.target||a.srcElement)==o[o.length-1]},r.clearFocusListCache=function(){o=[],s=0},r.loadFocusElementList=function(a){if((void 0===o||!o.length0)&&a){var b=a.value.modalDomEl;b&&b.length&&(o=b[0].querySelectorAll("a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]"))}},r}]).provider("$modal",function(){var a={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function(b,c,d,e,f,g){function h(a){return a.template?d.when(a.template):e(angular.isFunction(a.templateUrl)?a.templateUrl():a.templateUrl)}function i(a){var c=[];return angular.forEach(a,function(a){(angular.isFunction(a)||angular.isArray(a))&&c.push(d.when(b.invoke(a)))}),c}var j={};return j.open=function(b){var e=d.defer(),j=d.defer(),k=d.defer(),l={result:e.promise,opened:j.promise,rendered:k.promise,close:function(a){return g.close(l,a)},dismiss:function(a){return g.dismiss(l,a)}};if(b=angular.extend({},a.options,b),b.resolve=b.resolve||{},!b.template&&!b.templateUrl)throw new Error("One of template or templateUrl options is required.");var m=d.all([h(b)].concat(i(b.resolve)));return m.then(function(a){var d=(b.scope||c).$new();d.$close=l.close,d.$dismiss=l.dismiss;var h,i={},j=1;b.controller&&(i.$scope=d,i.$modalInstance=l,angular.forEach(b.resolve,function(b,c){i[c]=a[j++]}),h=f(b.controller,i),b.controllerAs&&(b.bindToController&&angular.extend(h,d),d[b.controllerAs]=h)),g.open(l,{scope:d,deferred:e,renderDeferred:k,content:a[0],animation:b.animation,backdrop:b.backdrop,keyboard:b.keyboard,backdropClass:b.backdropClass,windowClass:b.windowClass,windowTemplateUrl:b.windowTemplateUrl,size:b.size})},function(a){e.reject(a)}),m.then(function(){j.resolve(!0)},function(a){j.reject(a)}),l},j}]};return a}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(a,b,c){var d=this,e={$setViewValue:angular.noop},f=b.numPages?c(b.numPages).assign:angular.noop;this.init=function(g,h){e=g,this.config=h,e.$render=function(){d.render()},b.itemsPerPage?a.$parent.$watch(c(b.itemsPerPage),function(b){d.itemsPerPage=parseInt(b,10),a.totalPages=d.calculateTotalPages()}):this.itemsPerPage=h.itemsPerPage,a.$watch("totalItems",function(){a.totalPages=d.calculateTotalPages()}),a.$watch("totalPages",function(b){f(a.$parent,b),a.page>b?a.selectPage(b):e.$render()})},this.calculateTotalPages=function(){var b=this.itemsPerPage<1?1:Math.ceil(a.totalItems/this.itemsPerPage);return Math.max(b||0,1)},this.render=function(){a.page=parseInt(e.$viewValue,10)||1},a.selectPage=function(b,c){(!a.ngDisabled||!c)&&a.page!==b&&b>0&&b<=a.totalPages&&(c&&c.target&&c.target.blur(),e.$setViewValue(b),e.$render())},a.getText=function(b){return a[b+"Text"]||d.config[b+"Text"]},a.noPrevious=function(){return 1===a.page},a.noNext=function(){return a.page===a.totalPages}}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(a,b){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(c,d,e,f){function g(a,b,c){return{number:a,text:b,active:c}}function h(a,b){var c=[],d=1,e=b,f=angular.isDefined(k)&&b>k;f&&(l?(d=Math.max(a-Math.floor(k/2),1),(e=d+k-1)>b&&(e=b,d=e-k+1)):(d=(Math.ceil(a/k)-1)*k+1,e=Math.min(d+k-1,b)));for(var h=d;e>=h;h++){var i=g(h,h,h===a);c.push(i)}if(f&&!l){if(d>1){var j=g(d-1,"...",!1);c.unshift(j)}if(b>e){var m=g(e+1,"...",!1);c.push(m)}}return c}var i=f[0],j=f[1];if(j){var k=angular.isDefined(e.maxSize)?c.$parent.$eval(e.maxSize):b.maxSize,l=angular.isDefined(e.rotate)?c.$parent.$eval(e.rotate):b.rotate;c.boundaryLinks=angular.isDefined(e.boundaryLinks)?c.$parent.$eval(e.boundaryLinks):b.boundaryLinks,c.directionLinks=angular.isDefined(e.directionLinks)?c.$parent.$eval(e.directionLinks):b.directionLinks,i.init(j,b),e.maxSize&&c.$parent.$watch(a(e.maxSize),function(a){k=parseInt(a,10),i.render()});var m=i.render;i.render=function(){m(),c.page>0&&c.page<=c.totalPages&&(c.pages=h(c.page,c.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(a){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(b,c,d,e){var f=e[0],g=e[1];g&&(b.align=angular.isDefined(d.align)?b.$parent.$eval(d.align):a.align,f.init(g,a))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function a(a){return a.replace(/[A-Z]/g,function(a,b){return(b?"-":"")+a.toLowerCase()})}var b={placement:"top",animation:!0,popupDelay:0,useContentExp:!1},c={mouseenter:"mouseleave",click:"click",focus:"blur"},d={};this.options=function(a){angular.extend(d,a)},this.setTriggers=function(a){angular.extend(c,a)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(e,f,g,h,i,j){return function(e,k,l,m){function n(a){var b=a||m.trigger||l;return{show:b,hide:c[b]||b}}m=angular.extend({},b,d,m);var o=a(e),p=j.startSymbol(),q=j.endSymbol(),r="<div "+o+'-popup title="'+p+"title"+q+'" '+(m.useContentExp?'content-exp="contentExp()" ':'content="'+p+"content"+q+'" ')+'placement="'+p+"placement"+q+'" popup-class="'+p+"popupClass"+q+'" animation="animation" is-open="isOpen"origin-scope="origScope" ></div>';return{restrict:"EA",compile:function(a,b){var c=f(r);return function(a,b,d,f){function j(){E.isOpen?o():l()}function l(){D&&!a.$eval(d[k+"Enable"])||(t(),E.popupDelay?A||(A=g(p,E.popupDelay,!1),A.then(function(a){a()})):p()())}function o(){a.$apply(function(){q()})}function p(){return A=null,z&&(g.cancel(z),z=null),(m.useContentExp?E.contentExp():E.content)?(r(),x.css({top:0,left:0,display:"block"}),E.$digest(),F(),E.isOpen=!0,E.$apply(),F):angular.noop}function q(){E.isOpen=!1,g.cancel(A),A=null,E.animation?z||(z=g(s,500)):s()}function r(){x&&s(),y=E.$new(),x=c(y,function(a){B?h.find("body").append(a):b.after(a)}),m.useContentExp&&y.$watch("contentExp()",function(a){G(),!a&&E.isOpen&&q()})}function s(){z=null,x&&(x.remove(),x=null),y&&(y.$destroy(),y=null)}function t(){u(),v(),w()}function u(){E.popupClass=d[k+"Class"]}function v(){var a=d[k+"Placement"];E.placement=angular.isDefined(a)?a:m.placement}function w(){var a=d[k+"PopupDelay"],b=parseInt(a,10);E.popupDelay=isNaN(b)?m.popupDelay:b}var x,y,z,A,B=!!angular.isDefined(m.appendToBody)&&m.appendToBody,C=n(void 0),D=angular.isDefined(d[k+"Enable"]),E=a.$new(!0),F=function(){if(x){var a=i.positionElements(b,x,E.placement,B);a.top+="px",a.left+="px",x.css(a)}},G=function(){g(F,0,!1)};E.origScope=a,E.isOpen=!1,E.contentExp=function(){return a.$eval(d[e])},m.useContentExp||d.$observe(e,function(a){E.content=a,G(),!a&&E.isOpen&&q()}),d.$observe("disabled",function(a){a&&E.isOpen&&q()}),d.$observe(k+"Title",function(a){E.title=a,G()}),d.$observe(k+"Placement",function(){E.isOpen&&g(function(){v(),p()()},0,!1)});var H=function(){b.unbind(C.show,l),b.unbind(C.hide,o)};!function(){var a=d[k+"Trigger"];H(),C=n(a),C.show===C.hide?b.bind(C.show,j):(b.bind(C.show,l),b.bind(C.hide,o))}();var I=a.$eval(d[k+"Animation"]);E.animation=angular.isDefined(I)?!!I:m.animation;var J=a.$eval(d[k+"AppendToBody"]);B=angular.isDefined(J)?J:B,B&&a.$on("$locationChangeSuccess",function(){E.isOpen&&q()}),a.$on("$destroy",function(){g.cancel(z),g.cancel(A),H(),s(),E=null})}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(a,b,c,d){return{link:function(e,f,g){var h,i,j,k=e.$eval(g.tooltipTemplateTranscludeScope),l=0,m=function(){i&&(i.remove(),i=null),h&&(h.$destroy(),h=null),j&&(a.leave(j).then(function(){i=null}),i=j,j=null)};e.$watch(b.parseAsResourceUrl(g.tooltipTemplateTransclude),function(b){var g=++l;b?(d(b,!0).then(function(d){if(g===l){var e=k.$new(),i=d,n=c(i)(e,function(b){m(),a.enter(b,f)});h=e,j=n,h.$emit("$includeContentLoaded",b)}},function(){g===l&&(m(),e.$emit("$includeContentError",b))}),e.$emit("$includeContentRequested",b)):m()}),e.$on("$destroy",m)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(a,b,c){a.placement&&b.addClass(a.placement),a.popupClass&&b.addClass(a.popupClass),a.animation()&&b.addClass(c.tooltipAnimationClass)}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(a){return a("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html"}}).directive("tooltipTemplate",["$tooltip",function(a){return a("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html"}}).directive("tooltipHtml",["$tooltip",function(a){return a("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).value("tooltipHtmlUnsafeSuppressDeprecated",!1).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function(a,b,c){return b||c.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead."),a("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.bindHtml",[]).value("$bindHtmlUnsafeSuppressDeprecated",!1).directive("bindHtmlUnsafe",["$log","$bindHtmlUnsafeSuppressDeprecated",function(a,b){return function(c,d,e){b||a.warn("bindHtmlUnsafe is now deprecated. Use ngBindHtml instead"),d.addClass("ng-binding").data("$binding",e.bindHtmlUnsafe),c.$watch(e.bindHtmlUnsafe,function(a){d.html(a||"")})}}]),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(a){var b=this,c=b.tabs=a.tabs=[];b.select=function(a){angular.forEach(c,function(b){b.active&&b!==a&&(b.active=!1,b.onDeselect())}),a.active=!0,a.onSelect()},b.addTab=function(a){c.push(a),1===c.length&&!1!==a.active?a.active=!0:a.active?b.select(a):a.active=!1},b.removeTab=function(a){var e=c.indexOf(a);if(a.active&&c.length>1&&!d){var f=e==c.length-1?e-1:e+1;b.select(c[f])}c.splice(e,1)};var d;a.$on("$destroy",function(){d=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(a,b,c){a.vertical=!!angular.isDefined(c.vertical)&&a.$parent.$eval(c.vertical),a.justified=!!angular.isDefined(c.justified)&&a.$parent.$eval(c.justified)}}}).directive("tab",["$parse","$log",function(a,b){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(c,d,e,f,g){c.$watch("active",function(a){a&&f.select(c)}),c.disabled=!1,e.disable&&c.$parent.$watch(a(e.disable),function(a){c.disabled=!!a}),e.disabled&&(b.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),c.$parent.$watch(a(e.disabled),function(a){c.disabled=!!a})),c.select=function(){c.disabled||(c.active=!0)},f.addTab(c),c.$on("$destroy",function(){f.removeTab(c)}),c.$transcludeFn=g}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(a,b,c,d){a.$watch("headingElement",function(a){a&&(b.html(""),b.append(a))})}}}]).directive("tabContentTransclude",function(){function a(a){return a.tagName&&(a.hasAttribute("tab-heading")||a.hasAttribute("data-tab-heading")||"tab-heading"===a.tagName.toLowerCase()||"data-tab-heading"===a.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(b,c,d){var e=b.$eval(d.tabContentTransclude);e.$transcludeFn(e.$parent,function(b){angular.forEach(b,function(b){a(b)?e.headingElement=b:c.append(b)})})}}}),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(a){a.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close($event)">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(a){a.put("template/modal/backdrop.html",'<div class="modal-backdrop"\n     modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(a){a.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    modal-animation-class="fade"\n    modal-in-class="in"\n   ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(a){a.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(a){a.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href="#" ng-click="$event.preventDefault(); select()" ng-disabled="disabled" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-faux-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}])},{}],169:[function(a,b,c){"use strict";function d(a,b,c,d){c.getAnnouncements({showAll:!0}).then(function(b){a.accountNumber=b.data,a.alerts={unseen:g(b.data,{seen:!1})}}),d.asyncCurrent(function(b){a.user=b})}function e(){return{templateUrl:"js/components/userInfo/userInfo.html",restrict:"E",replace:!0,scope:{},controller:d}}d.$inject=["$scope","AccountService","AnnouncementService","User"];var f=a("../"),g=a("lodash/filter");f.directive("userInfo",e)},{"../":101,"lodash/filter":456}],170:[function(a,b,c){"use strict";a("../../").directive("kbaseSolution",["$q","$http","StrataService",function(a,b,c){function d(b,c){return function(d){1===d.length&&d[0][b].trim()===c.trim()||a.reject("no match")}}function e(a){return c.searchById(a).then(d("display_id",a))}function f(a){return c.searchByUri(a).then(d("view_uri",a))}return{require:"ngModel",link:function(b,c,d,g){g.$asyncValidators.kbaseSolution=function(b){return g.$isEmpty(b)?a.when():/^\d+$/.test(b)?e(b):b.indexOf("http")>-1?f(b):a.reject()}}}}])},{"../../":101}],171:[function(a,b,c){"use strict";function d(){return{scope:{yes:"=",no:"=",text:"@"},templateUrl:"js/components/yesNo/yesNo.html",restrict:"EC"}}a("../").directive("yesNo",d)},{"../":101}],172:[function(a,b,c){"use strict";function d(a,b,c,d,h,i,j,k,l,m,n){c.strictMode(!1),d.html5Mode(!0).hashPrefix("!"),b.otherwise("/"),b.when("/error_infos","/rules/admin/"),b.when("/info/security","/security/"),b.rule(function(a,b){var c=b.url();return"/"===c[c.length-1]||c.indexOf("/?")>-1?void 0:c.indexOf("?")>-1?c.replace("?","/?"):c+"/"}),j.disableAutoScrolling(),h.interceptors.push(f),h.interceptors.push(e),h.interceptors.push(g),k.classNameFilter(/ng-animate-enabled/),i.debugInfoEnabled(!1),l.options({appendToBody:!0,trigger:"mouseenter",placement:"top"}),m.setDefaults("tagsInput",{allowedTagsPattern:/^[a-z0-9\.\-]+$/,keyProperty:"name",displayProperty:"name",minLength:"2",template:"js/components/tag/tag.html"}),m.setDefaults("autoComplete",{minLength:"0",loadOnFocus:"true",loadOnEmpty:"true",selectFirstMatch:"false"}),n.maxSize=5,n.previousText="«",n.nextText="»"}d.$inject=["$stateProvider","$urlRouterProvider","$urlMatcherFactoryProvider","$locationProvider","$httpProvider","$compileProvider","$anchorScrollProvider","$animateProvider","$tooltipProvider","tagsInputConfigProvider","paginationConfig"];var e=a("./interceptors/auth"),f=a("./interceptors/xomit"),g=a("./interceptors/error");b.exports=d},{"./interceptors/auth":181,"./interceptors/error":182,"./interceptors/xomit":183}],173:[function(a,b,c){"use strict";function d(a){a("all"),a("availability"),a("stability"),a("performance"),a("security")}d.$inject=["gettext"];var e=a("./");e.constant("Categories",["all","availability","stability","performance","security"]),e.controller("__Categories",d)},{"./":176}],174:[function(a,b,c){"use strict";var d=a("./");d.constant("GettingStartedUrl","https://access.redhat.com/products/red-hat-insights"),d.constant("QuickFilters",{summaryTypes:{systems:"systems",categories:"categories"}}),d.constant("TrialSku","SER0482"),d.constant("TableToCardsBreakpoint","650px"),d.constant("HttpHeaders",{resourceCount:"X-Resource-Count"}),d.constant("IgnoreAccountList",["939082","1070555","5361051","636204","5526886","730731","5506478","1298305","1337999","5463389","5341931","5557007","5586766","1494526","1460290","1568253","5491806","631105","1191423","5387712","5301816","5606428","5348764","901578","5364511","5597433","633200","5345665","971738","5496022","5582724","5496024","1455657","5538252","5273074","5457785","5301467","5254297","5535221","5274410","5597794","5385776","5596826","5243891","5673127","5594202","5375112","5463401","477931","5582531","5445856","720046","1061991","939054","5351378","761015","895158","5471870","5582336","6","1640157","5357088","1495773","901532","5258694","5505446","940527","5530698","853019","1292438","1212729","5453171","5645132","972614","1034029","958959","1262852","5644938","1626050","1191884","5574082","5618348","5436601","5305464","941133","1456379","5547202","1546454","5309654","540155","1650204","5591454","5440919","1446047","000006","1469411","5524039","5632300","5455085","5513381"]);
},{"./":176}],175:[function(a,b,c){"use strict";function d(a){var b={};return b={},a.events.forEach(function(c){b[c]=a.name+":"+c}),b}var e=a("./"),f=[{name:"cards",events:["expandAll","collapseAll"]},{name:"filters",events:["populatedProducts","reset"]},{name:"checkboxes",events:["reset"]}];e.constant("Events",function(a){var b={};return a.forEach(function(a){b[a.name]=d(a)}),b}(f))},{"./":176}],176:[function(a,b,c){"use strict";b.exports=angular.module("insights.constants",[]),function(){var b=a("./index.js");b.categories=a("./categories.js"),b.constants=a("./constants.js"),b.events=a("./events.js"),b.index=a("./index.js"),b.playbooks=a("./playbooks.js"),b.products=a("./products.js"),b.ruleStates=a("./ruleStates.js")}()},{"./categories.js":173,"./constants.js":174,"./events.js":175,"./index.js":176,"./playbooks.js":177,"./products.js":178,"./ruleStates.js":179}],177:[function(a,b,c){"use strict";var d=a("./");d.constant("AnsibleAPIErrors",{AmbiguousResolution:"AMBIGUOUS_RESOLUTION",MaintenanceEmpty:"MAINTENANCE_EMPTY",MaintenanceNothingToFix:"MAINTENANCE_NOTHING_TO_FIX",UnsupportedRule:"UNSUPPORTED_RULE"}),d.constant("AnsibleErrors",{AnswerAllQuestions:"Please verify all questions have been answered",NoActions:"There are no Playbooks available for the selected Maintenance Plan",GeneralFailure:"Can not create a Playbook with the information provided."})},{"./":176}],178:[function(a,b,c){"use strict";a("./").constant("Products",{rhel:{shortName:"RHEL Server",fullName:"Red Hat Enterprise Linux",code:"rhel",icon:"fa-linux",roles:{host:{code:"host",icon:"fa-linux",fullName:"Red Hat Enterprise Linux System",shortName:"System"}}},rhev:{shortName:"RHEV",fullName:"Red Hat Enterprise Virtualization",code:"rhev",icon:"",roles:{cluster:{code:"cluster",fullName:"Red Hat Enterprise Virtualization Deployment",shortName:"Deployment",icon:"fa-object-group"},manager:{code:"manager",fullName:"Red Hat Enterprise Virtualization Manager",shortName:"Manager",icon:"fa-building"},hypervisor:{code:"hypervisor",fullName:"Red Hat Enterprise Virtualization Hypervisor",shortName:"Hypervisor",icon:"fa-server"}}},ocp:{shortName:"OCP",fullName:"Openshift Compute Platform",code:"ocp",icon:"",roles:{cluster:{code:"cluster",fullName:"Red Hat Openshift Compute Platform",shortName:"Deployment",icon:"fa-cubes"},master:{code:"master",fullName:"Red Hat Openshift Compute Platform Master",shortName:"Master",icon:"fa-home"},node:{code:"node",fullName:"Red Hat Openshift Compute Platform Node",shortName:"Node",icon:"fa-cogs"}}},osp:{shortName:"OSP",fullName:"Red Hat OpenStack Platform",code:"osp",icon:"",roles:{cluster:{code:"cluster",fullName:"Red Hat OpenStack Platform Deployment",shortName:"Deployment",icon:"fa-cubes"},director:{code:"director",fullName:"Red Hat OpenStack Platform Director",shortName:"Director",icon:"fa-home"},compute:{code:"compute",fullName:"Red Hat OpenStack Platform Compute Node",shortName:"Compute",icon:"fa-cogs"},controller:{code:"controller",fullName:"Red Hat OpenStack Platform Controller Node",shortName:"Controller",icon:"fa-wrench"}}},docker:{shortName2:"Container",shortName:"Containers",fullName:"Red Hat Containers",code:"docker",icon:"",roles:{host:{code:"host",fullName:"Red Hat Container Host",shortName:"Host",icon:"fa-ship"},image:{code:"image",fullName:"Red Hat Container Image",shortName:"Image",icon:"fa-archive"},container:{code:"container",fullName:"Red Hat Container",shortName:"Container",icon:"fa-cube"}}}})},{"./":176}],179:[function(a,b,c){"use strict";a("./").constant("RuleStates",["all","active","needs content","inactive","retired"])},{"./":176}],180:[function(a,b,c){"use strict";function d(){angular.bootstrap(document,["insights"])}function e(){var a=document.querySelectorAll(".tools-menu .col-sm-4:first-child a");[].forEach.call(a,function(a){a.target="_self"})}var f=void 0!==window.chrometwo_ready;void 0===window.angular&&a("./../bower_components/angular/angular.js"),a("./../bower_components/angular-resource/angular-resource.js"),a("./../bower_components/angular-animate/angular-animate.js"),a("./../bower_components/angular-ui-router/release/angular-ui-router.js"),a("./../bower_components/angular-sanitize/angular-sanitize.js"),a("./../bower_components/angular-scroll/angular-scroll.js"),a("./../bower_components/angular-gettext/dist/angular-gettext.js"),a("./../bower_components/angular-cookies/angular-cookies.js"),a("./../bower_components/ui-select/dist/select.js"),a("./../bower_components/angular-gravatar/build/angular-gravatar.js"),a("./../bower_components/ng-table/dist/ng-table.min.js"),a("./../bower_components/angular-datepicker/dist/angular-datepicker.js"),a("./../bower_components/ng-tags-input/ng-tags-input.js"),a("./../bower_components/ngInfiniteScroll/build/ng-infinite-scroll.js"),a("./components/ui-bootstrap-custom"),a("./api"),a("./services"),a("./constants"),a("./providers"),a("./states"),a("./components"),a("./templates");var g=["insights.api","insights.services","insights.constants","insights.providers","insights.components","insights.states","insights.templates","ui.router","ui.bootstrap","ngResource","ngAnimate","gettext","ngTable","duScroll","ngCookies","ui.select","ngSanitize","ui.gravatar","datePicker","ngTagsInput","infinite-scroll"];f&&(a("./../bower_components/angular-loading-bar/build/loading-bar.js"),g.push("angular-loading-bar")),angular.module("insights",g),angular.module("insights").value("duScrollBottomSpy",!0),f?(angular.module("insights").run(a("./portal/boot")),angular.module("insights").factory("Email",a("./portal/emailOptIn")),angular.module("insights").config(a("./portal/config")),angular.module("insights").config(a("./portal/base_routes")),angular.module("insights").config(a("./portal/routes")),window.chrometwo_ready(function(){d(),e()})):angular.module("insights").config(a("./base_routes")),angular.module("insights").run(a("./boot")),angular.module("insights").config(a("./routes")),angular.module("insights").config(a("./config")),angular.module("ui.select").run(["$animate",function(a){var b=a.enabled;a.enabled=function(a){return(!a||!a.className.includes("ui-select-choices"))&&b(a)}}])},{"./../bower_components/angular-animate/angular-animate.js":1,"./../bower_components/angular-cookies/angular-cookies.js":2,"./../bower_components/angular-datepicker/dist/angular-datepicker.js":3,"./../bower_components/angular-gettext/dist/angular-gettext.js":4,"./../bower_components/angular-gravatar/build/angular-gravatar.js":5,"./../bower_components/angular-loading-bar/build/loading-bar.js":6,"./../bower_components/angular-resource/angular-resource.js":7,"./../bower_components/angular-sanitize/angular-sanitize.js":8,"./../bower_components/angular-scroll/angular-scroll.js":9,"./../bower_components/angular-ui-router/release/angular-ui-router.js":10,"./../bower_components/angular/angular.js":11,"./../bower_components/ng-table/dist/ng-table.min.js":17,"./../bower_components/ng-tags-input/ng-tags-input.js":18,"./../bower_components/ngInfiniteScroll/build/ng-infinite-scroll.js":19,"./../bower_components/ui-select/dist/select.js":21,"./api":36,"./base_routes":50,"./boot":51,"./components":101,"./components/ui-bootstrap-custom":168,"./config":172,"./constants":176,"./portal/base_routes":184,"./portal/boot":185,"./portal/config":186,"./portal/emailOptIn":187,"./portal/routes":188,"./providers":190,"./routes":191,"./services":207,"./states":241,"./templates":255}],181:[function(a,b,c){"use strict";function d(a,b,c){return{responseError:function(d){if(401===d.status)c.bounce();else if(402===d.status){var e=b.get("$state");e&&e.go("app.paymentrequired")}return a.reject(d)}}}d.$inject=["$q","$injector","BounceService"],b.exports=d},{}],182:[function(a,b,c){"use strict";function d(a){return a>=500&&600>a}function e(a,b){return{responseError:function(c){return d(c.status)&&b.setHttpError(c),a.reject(c)}}}e.$inject=["$q","AlertService"],b.exports=e},{}],183:[function(a,b,c){"use strict";function d(){return{request:function(a){return a&&a.headers&&(a.headers["X-Omit"]="WWW-Authenticate"),a}}}b.exports=d},{}],184:[function(a,b,c){"use strict";function d(a){a.state("app",{templateUrl:"js/states/base/app.html","abstract":!0,controller:"AppCtrl"}),a.state("info",{templateUrl:"js/states/base/info.html","abstract":!0}),a.state("login",{url:"/login/",controller:"LoginCtrl"})}d.$inject=["$stateProvider"],b.exports=d},{}],185:[function(a,b,c){"use strict";function d(){window.scrollTo(0,0)}function e(a,b){"function"==typeof b.scrollTop?b.scrollTop(a,b,function(a){a&&d()}):b.scrollTop&&d()}function f(a,b,c,d,f,g,h,i,j,k,l,m,n){if(c.$on("$locationChangeSuccess",function(){l.pageLoad()}),c.$on("$stateChangeSuccess",function(a,b,c,d){b&&b.triggerComplete&&l.triggerEvent("InsightsCompletion"),m.set(b.title),e(d,b)}),l.triggerEvent("InsightsBegin"),g.authenticate){var o=!0;c.$on("$stateChangeStart",function(b,c,e){var i=c.name;"evaluation"===i&&(o=!1),o&&i.startsWith("app.")&&(o=!1,b.preventDefault(),d.go("evaluation",{originalPath:window.location.toString()}));var j=a.hash();j&&(e["#"]=j),!c.unauthenticated&&g.authenticate&&(h.init(),n.optUserIntoCampaigns());var l=h.current;c.permission&&!l.loaded?(b.preventDefault(),h.asyncCurrent(function(a){k.has(a,k.PERMS[c.permission])?f.sync():d.go("app.forbidden")})):c.permission&&!k.has(l,k.PERMS[c.permission])&&d.go("app.forbidden")}),b(function(){j(a.hash())},1)}}f.$inject=["$location","$timeout","$rootScope","$state","$urlRouter","InsightsConfig","User","$document","$anchorScroll","PermissionService","AnalyticsService","TitleService","Email"],b.exports=f},{}],186:[function(a,b,c){"use strict";function d(a,b){a.includeSpinner=!1,a.loadingBarTemplate='<div id="loading-bar" class="ng-animate-enabled">\n            <div class="bar">\n                <div class="peg"></div>\n            </div>\n        </div>';var c=window.localStorage.getItem("insights:apiPrefix");c&&b.setApiPrefix(c);var d=window.localStorage.getItem("insights:apiVersion");d&&b.setApiVersion(d),b.setAuthenticate(!0),b.setAllowExport(!0),b.setDoPaf(!0),b.setFetchRelatedSolution(!0),b.setAutoRefresh(36e5),b.setPortal(!0)}d.$inject=["cfpLoadingBarProvider","InsightsConfigProvider"],b.exports=d},{}],187:[function(a,b,c){"use strict";function d(a,b,c,d){function e(){g||(g=!0,a.init().then(function(a){!1===a.autoOptedIn&&b.getSystemStatus().success(function(a){return a.count>0?f():void 0})}))}function f(){return d.subscribe(),c.getCampaigns().success(function(a){return a.forEach(function(a){a.enrolled=!0}),c.saveCampaigns(a).then(function(){return c.saveOptedIn()})})}var g=!1;return{optUserIntoCampaigns:e}}d.$inject=["User","System","Messaging","Blog"],b.exports=d},{}],188:[function(a,b,c){"use strict";function d(a,b,c,d){function e(a,b){c.when(a,function(){window.location=d+b})}a.state("app.admin-rules",{url:"/rules/admin/?tags",templateUrl:"js/states/rules/views/admin-rules.html",controller:"AdminRuleCtrl",title:"Rules Admin",hideGroup:!0}).state("app.admin-rule-tags",{url:"/rules/admin/tags",templateUrl:"js/states/rules/views/admin-rule-tags.html",controller:"AdminRuleTagCtrl",title:"Rule Tag Admin",hideGroup:!0}).state("app.create-rule",{url:"/rules/new/",templateUrl:"js/states/rules/views/create-rules.html",controller:"NewRuleCtrl",scrollTop:!0,hideGroup:!0}).state("app.show-rule",{url:"/rules/:id/",templateUrl:"js/states/rules/views/show-rules.html",controller:"ShowRuleCtrl",scrollTop:!0,hideGroup:!0}),a.state("app.forbidden",{url:"/403/",templateUrl:"js/states/pages/views/403.html"}),a.state("app.paymentrequired",{url:"/402/",templateUrl:"js/states/pages/views/402.html"}),a.state("app.config",{url:"/config/:tab",templateUrl:"js/states/config/views/config.html",controller:"ConfigCtrl",params:{tab:null},title:"Configuration",hideGroup:!0}),a.state("app.new-announcement",{url:"/announcements/new/",templateUrl:"js/states/announcements/new-announcement.html",controller:"NewAnnouncementCtrl",permission:"CREATE_ANNOUNCEMENT"}).state("app.edit-announcement",{url:"/announcements/:id/edit/",templateUrl:"js/states/announcements/edit-announcement.html",controller:"EditAnnouncementCtrl",permission:"CREATE_ANNOUNCEMENT"}),a.state("app.analytics",{url:"/__analytics",templateUrl:"js/states/analytics/analytics.html",controller:"AnalyticsCtrl"}),a.state("info.root",{url:"/",templateUrl:"js/states/splash/splash.html",controller:"SplashCtrl",bounceLoggedin:!0,scrollTop:!0,unauthenticated:!0}),a.state("info.splash",{url:"/splash/",templateUrl:"js/states/splash/splash.html",controller:"SplashCtrl",scrollTop:!0,unauthenticated:!0}),e("/getting-started/cloudforms/","#cloudforms"),e("/getting-started/containers/","#containers"),e("/getting-started/direct/","#direct"),e("/getting-started/openshift/","#openshift"),e("/getting-started/osp/","#osp"),e("/getting-started/rhev/","#rhv"),e("/getting-started/rhv/","#rhv"),e("/getting-started/satellite/6/","#satellite6"),e("/getting-started/satellite/5/","#satellite5"),e("/getting-started","#getstarted"),e("/getting-started/","#getstarted"),a.state("info.info",{url:"/info/",templateUrl:"js/states/splash/splash.html",controller:"SplashCtrl",title:"Learn More",scrollTop:!0,unauthenticated:!0}).state("info.security",{url:"/security/",templateUrl:"js/states/security/security.html",controller:"SecurityCtrl",title:"Security",scrollTop:!0,unauthenticated:!0}),a.state("app.edit-topic",{url:"/topics/:id/edit/",templateUrl:"js/states/topics/views/edit-topics.html",controller:"EditTopicCtrl",hideGroup:!0}),a.state("app.admin-topic",{url:"/topics/admin",templateUrl:"js/states/topics/views/topic-admin.html",controller:"TopicAdminCtrl",hideGroup:!0}),a.state("invites",{url:"/invite",templateUrl:"js/states/invites/invites.html",controller:"InvitesCtrl"}),c.when("/invite/","/invite")}d.$inject=["$stateProvider","$locationProvider","$urlRouterProvider","GettingStartedUrl"],b.exports=d},{}],189:[function(a,b,c){"use strict";function d(){function a(){return m+n+"/"}var b="Red Hat Insights",c=0,d=!1,e=!1,f=!1,g=null,h=null,i=null,j=!0,k=!1,l=null,m="/r/insights/",n="v3",o=a(),p=m,q=null,r=null,s=!1,t={"other_linux_system|OTHER_LINUX_SYSTEM":1,"other_linux_system|OTHER_LINUX_SYSTEM_DETECTED":1,"insights_heartbeat|INSIGHTS_HEARTBEAT":1},u=null,v={},w=!0;return{setTitle:function(a){b=a},setAutoRefresh:function(a){c=a},setAuthenticate:function(a){d=a},setAllowExport:function(a){e=a},setDoPaf:function(a){f=a},setGetReportsErrorCallback:function(a){g=a},setFetchRelatedSolution:function(a){k=a},setActionsShowSystem:function(a){h=a},setSystemShowSystem:function(a){i=a},setGetSystemStatus:function(a){j=a},setGettingStartedLink:function(a){l=a},setApiPrefix:function(b){m=b,o=a()},setApiVersion:function(b){n=b,o=a()},setCanUnregisterSystems:function(a){q=a},setCanIgnoreRules:function(a){r=a},setPortal:function(a){s=a},setRouteStateConfig:function(a){v=a},setOverviewKey:function(a){u=a},setPlannerEnabled:function(a){w=a},$get:["Utils",function(a){return u=u||(a.isBeta()?"overview-beta":"overview-stable"),{title:b,autoRefresh:c,authenticate:d,allowExport:e,doPaf:f,getReportsErrorCallback:g,fetchRelatedSolution:k,actionsShowSystem:h,systemShowSystem:i,getSystemStatus:j,gettingStartedLink:l,apiRoot:o,apiPrefix:m,apiVersion:n,defaultApiPrefix:p,acctKey:"telemetry:account_number",systemAlerts:t,canUnregisterSystems:q,canIgnoreRules:r,isPortal:s,routeStateConfig:v,overviewKey:u,isPlannerEnabled:w}}]}}a("./").provider("InsightsConfig",d)},{"./":190}],190:[function(a,b,c){"use strict";b.exports=angular.module("insights.providers",[]),function(){var b=a("./index.js");b["config.provider"]=a("./config.provider.js"),b.index=a("./index.js")}()},{"./config.provider.js":189,"./index.js":190}],191:[function(a,b,c){"use strict";function d(a){a.state("app.initial",{template:"",controller:"InitialCtrl"}).state("evaluation",{url:"/evaluation",templateUrl:"js/states/evaluation/evaluation.html",controller:"EvaluationCtrl",title:"evaluation",params:{originalPath:null}}),a.state("app.actions",{url:"/actions",templateUrl:"js/states/actions/actions.html",controller:"ActionsCtrl",params:{category:{value:null,squash:!0}},title:"Actions",actions:!0}).state("app.actions-rule",{url:"/actions/:category/:rule",templateUrl:"js/components/actions/actionsRule/actionsRule.html",controller:"ActionsRuleCtrl",actions:!0,title:"Actions",triggerComplete:!0}).state("app.topic",{url:"/actions/:id?product",templateUrl:"js/states/topics/views/topic-list.html",controller:"TopicRuleListCtrl",title:"Actions",actions:!0}),a.state("app.overview",{url:"/overview/",templateUrl:"js/states/overview/overview.html",controller:"OverviewCtrl",title:"Overview"}),a.state("app.components",{url:"/hidden/components/",templateUrl:"js/states/hidden/components/components.html",controller:"ComponentsCtrl",title:"Components"}),a.state("app.digests",{url:"/reports/executive/",templateUrl:"js/states/digests/digests.html",controller:"DigestsCtrl",title:"Executive Reports"}),a.state("app.inventory",{url:"/inventory?product&roles&osp_deployment&docker_host&search_term&sort_field&sort_dir&offline&online&machine",templateUrl:"js/states/inventory/inventory.html",controller:"InventoryCtrl",title:"Inventory",reloadOnSearch:!1}),a.state("app.rules",{url:"/rules?product&roles&osp_deployment&docker_host&category",templateUrl:"js/states/rules/list-rules.html",controller:"ListRuleCtrl",title:"Rules",hideGroup:!0}),a.state("app.maintenance",{url:"/planner/{maintenance_id}",templateUrl:"js/states/maintenance/maintenance.html",controller:"MaintenanceCtrl",title:"Planner",params:{newPlan:!1}}),a.state("app.announcements",{url:"/announcements/",templateUrl:"js/states/announcements/announcements.html",controller:"ListAnnouncementCtrl",params:{announcementId:null}}).state("app.view-announcement",{url:"/announcements/:slug/",templateUrl:"js/states/announcements/view-announcement.html",controller:"ViewAnnouncementCtrl"})}d.$inject=["$stateProvider"],b.exports=d},{}],192:[function(a,b,c){"use strict";function d(a,b,c){var d=b.current,e=d.account_number,f=window.sessionStorage.getItem(c.acctKey);return f&&(e=f),a.$on("account:change",function(b,c){e!=c&&(e=c,a.$broadcast("reload:data"))}),{current:function(a){var b;return e?(b=a||"?",b+="account_number="+e):""},number:function(){return e},queryParam:function(){return{account_number:e}}}}d.$inject=["$rootScope","User","InsightsConfig"],a("./").service("AccountService",d)},{"./":207}],193:[function(a,b,c){"use strict";function d(a){var b=[],c={actions:b,add:function(a){b.push(a)},set:function(a){b.length=0,Array.prototype.push.apply(b,a)},clear:function(){b.length=0}};return c.addExportAction=function(b){c.add({icon:"fa-download",title:a.getString("Export CSV"),fn:b})},c}d.$inject=["gettextCatalog"],a("./").factory("ActionbarService",d)},{"./":207}],194:[function(a,b,c){"use strict";function d(a,b,c,d,e,m,n,o,p,q,r,s,t){var u={},v={},w={};return w.priv=u,w.vars=v,v.category=null,v.clusterAffectedSystems=null,v.counts={},v.data={},v.dataLoaded=!1,v.donutChart=null,v.initialSeverity=null,v.isScrolling=!1,v.loading=!1,v.loadingDetails=!1,v.oldCols=[],v.page=0,v.pageSize=10,v.ruleSystems=null,v.rules=[],v.rule=null,v.ruleDetails=null,v.totalRuleSystems=0,v.severities={},v.severityNames=q,v.total=0,v.systemNames=null,t.generateAccessors(w,v),angular.forEach(v.severityNames,function(a){v.severities[a]={selected:!0,count:0}}),u.severityFilter=function(a){return v.severities[a.severity].selected},w.isActions=function(){return!w.getCategory()},u.ackFilter=function(a){try{return o.ackMap[a.rule_id]}catch(a){}},w.mapName=function(a){return v.data[a]&&v.data[a].name?v.data[a].name:a},u.processRules=function(){var a=f(v.rules,u.ackFilter),b=null,d=0;u.updateCounts(a),u.updateSeverityCounts(a),a=g(a,u.severityFilter),w.isActions()?(b=k(a,function(a){return a.category}),b=h(b,function(a,b){return{id:b,name:b,value:i(a,function(a,b){return a+b.report_count},0),category:!0}}),b=l(b,"id")):(b=g(a,function(a){return a.category.toLowerCase()===v.category.toLowerCase()}),b=h(b,function(a){return{id:a.rule_id,name:a.description,severityNum:j(v.severityNames,a.severity),severity:a.severity,category:a.category,value:a.report_count,color:""}}),b=l(b,"id")),d=i(b,function(a,b){return a+b.value},0),w.setData(b),w.setTotal(d),c.$broadcast("rha-telemetry-refreshdonut")},w.populateData=function(){var a,c,d,e;return v.dataLoaded?(e=b(function(a){a("norefresh")}),e.then(function(){u.processRules()}),e):(a=s.buildRequestQueryParams([],["role"]),a.report_count="gt0",c=m.getRulesLatest(a),d=o.reload(),d.then(c),c.success(function(a){w.setRules(a.resources),u.processRules()}),c["finally"](function(){w.setLoading(!1),v.dataLoaded=!0}),c)},u.updateCounts=function(a){var b=0,c={security:0,stability:0,performance:0};a=k(a,function(a){return a.category}),i(a,function(a,c,d){var e=d.toLowerCase();return a[e]=i(c,function(a,b){return a+b.report_count},0),b+=a[e],a},c),w.setCounts(c)},u.updateSeverityCounts=function(a){var b,c=0;w.isActions()||(a=g(a,function(a){return a.category.toLowerCase()===v.category.toLowerCase()})),b=k(a,"severity"),angular.forEach(v.severityNames,function(a){angular.isDefined(b[a])?(v.severities[a].count=i(b[a],function(a,b){return a+b.report_count},0),c+=v.severities[a].count):v.severities[a].count=0}),v.severities.All.count=c},w.arcClick=function(a){return!0===a.category?d.go("app.actions",{category:a.id.toLowerCase()}):void d.go("app.actions-rule",{category:a.category.toLowerCase(),rule:a.id})},w.ackAction=function(a){o.createAck(a).then(u.processRules)},w.populateDetails=function(){var a,c,d=w.getRule(),e=s.buildRequestQueryParams(null,["role"]),f=[];return s.getOffline()!==s.getOnline()&&(e.offline=s.getOffline().toString()),w.setLoadingDetails(!0),e.rule=encodeURIComponent(d),s.getParentNode()?(e.includeSelf=!0,a=n.getSystemLinks(s.getParentNode(),e).success(function(a){v.ruleSystems=a.resources,v.totalRuleSystems=v.ruleSystems.length})):a=n.getSystemsLatest(e).success(function(a){v.ruleSystems=a.resources,v.totalRuleSystems=v.ruleSystems.length}),c=m.byId(d).success(function(a){v.ruleDetails=a}),b.all([a,c]).then(function(a){var c=!1;if(a&&a[0]&&a[0].data&&a[0].data.length>0){c=[];for(var d in a[0].data)c.push(a[0].data[d].system_id)}if(c){for(var e in c)f.push(n.getSingleSystem(c[e]).success(function(a){return a}));return b.all(f).then(function(a){if(a){v.systemNames={},v.systems={};for(var b in a){var c=a[b].data,d=c.system_id,e=c.toString;v.systems[d]=c,v.systemNames[d]=e}}w.setLoadingDetails(!1)})}w.setLoadingDetails(!1)})},w.resetPaging=function(){v.page=0},w.nextPage=function(){v.page++},w.getRuleSystemsPage=function(){if(null===v.ruleSystems)return[];var a=v.ruleSystems,b=v.page*v.pageSize;return v.isScrolling&&b<v.ruleSystems.length&&(a=v.ruleSystems.slice(b,w.getPageEnd()),JSON.stringify(a)),a},w.getPageEnd=function(){if(null===v.ruleSystems)return 0;var a=v.page*v.pageSize;return a+v.pageSize<v.ruleSystems.length?a+v.pageSize:v.ruleSystems.length},w.reload=function(){v.dataLoaded&&(w.setDataLoaded(!1),w.populateData().then(function(){w.setLoading(!1)}))},w.setInitialSeverity=function(a){a&&angular.forEach(v.severityNames,function(b){a===b||"all"===a.toLowerCase()?v.severities[b].selected=!0:v.severities[b].selected=!1})},w.orderRuleSystems=function(b,c){v.ruleSystems=a("orderBy")(v.ruleSystems,c?"-"+b:b)},p.autoRefresh&&!isNaN(p.autoRefresh)&&window.setInterval(w.reload,parseInt(p.autoRefresh,10)),w}d.$inject=["$filter","$q","$rootScope","$state","Report","Rule","System","Ack","InsightsConfig","Severities","ReloadService","FilterService","Utils"];var e=a("./"),f=a("lodash/reject"),g=a("lodash/filter"),h=a("lodash/map"),i=a("lodash/reduce"),j=a("lodash/indexOf"),k=a("lodash/groupBy"),l=a("lodash/keyBy");e.factory("RhaTelemetryActionsService",d)},{"./":207,"lodash/filter":456,"lodash/groupBy":464,"lodash/indexOf":469,"lodash/keyBy":483,"lodash/map":487,"lodash/reduce":497,"lodash/reject":498}],195:[function(a,b,c){"use strict";function d(){function a(a){return d=angular.copy(a)}function b(a,b){if(d.length<b)throw new Error("Cannot set crumb with index "+b+" to array of length "+d.length);d[b]=a}function c(a){d.push(a)}var d=[];return{init:function(b){var c=[{label:"Actions",state:"app.actions",params:{category:null}}];b.category&&c.push({label:b.category,state:"app.topic",params:{id:b.category}}),a(c)},crumbs:d,clear:function(){a([])},get:function(){return d},set:a,setCrumb:b,add:c}}a("./").factory("ActionsBreadcrumbs",d)},{"./":207}],196:[function(a,b,c){"use strict";function d(){var a=[];return{alerts:a,clearHttpError:function(){e(a,"http")},setHttpError:function(b){var c="There was an error retrieving data.";b&&b.data&&(b.data.message&&(c+="<br>"+b.data.message),b.data.internal_error&&b.data.internal_error.reference&&(c+="<br><small>Reference: #"+b.data.internal_error.reference+"</small>")),e(a,"http"),a.push({type:"http",msg:c,level:"danger"})},clear:function(){a.length=0}}}function e(a,b){for(var c=0,d=a.length;d>c;c++)a[c].type===b&&a.splice(c,1)}a("./").service("AlertService",d)},{"./":207}],197:[function(a,b,c){"use strict";function d(a,b,c,d){return g.pageLoad=function(){a.doPaf&&window.chrometwo_require&&(f.doGoogleAnalytics(b,d,c),window.chrometwo_require(["analytics/main","analytics/attributes"],function(a,b){a.init(["omniture"]),b.harvest(),a.wipe("LabsBegin"),a.wipe("InsightsBegin"),a.wipe("LabsCompletion"),a.wipe("InsightsCompletion"),a.report()}))},g.triggerEvent=function(b){a.doPaf&&window.chrometwo_require&&window.chrometwo_require(["analytics/main"],function(a){a.trigger(b)})},g}d.$inject=["InsightsConfig","$location","IgnoreAccountList","User"];var e=a("./"),f={},g={};f.sendable=function(a,b){return-1===b.indexOf(a)},f.doGoogleAnalytics=function(a,b,c){b.asyncCurrent(function(){window.ga&&f.sendable(b.current.account_number,c)&&(b.current&&b.current.sso_username&&window.ga("set","dimension1",b.current.sso_username),b.current&&b.current.account_number&&window.ga("set","dimension2",b.current.account_number),window.ga("set","page","/"+window.insightsGlobal.appName+a.path()),window.ga("send","pageview"))})},e.service("AnalyticsService",d)},{"./":207}],198:[function(a,b,c){"use strict";function d(a,b){var c={},d={showAll:!0};c.unseen={count:0},c.announcements=[],c.loaded=!1;var e=function(a){return b.getAnnouncements(a).success(function(a){c.announcements.length=0,c.unseen.count=0,a.forEach(function(a){!1===a.acked&&(c.unseen.count+=1)}),Array.prototype.push.apply(c.announcements,a)})};return c.init=function(a){return c.loaded=!1,e(a).success(function(){c.loaded=!0})},c.updateAnnouncement=function(a){return b.updateAnnouncement(a)},c.deleteAnnouncement=function(d){b.deleteAnnouncement(d).success(function(){var b=c.announcements.findIndex(function(a){return a.id===d.id});-1!==b&&(c.announcements.splice(b,1),a.$broadcast("announcement:changed",d))})},c.acknowledge=function(d){return b.acknowledge(d).success(function(){c.unseen.count-=1,d.acked=!0,a.$broadcast("announcement:changed",d)})},c.reload=function(a){return e(a||d)},c}d.$inject=["$rootScope","Announcement"],a("./").service("AnnouncementService",d)},{"./":207}],199:[function(a,b,c){"use strict";function d(){var a={},b=null;return a.questions=[],a.resolutions={},a.init=function(c,d,e){null!==b&&d.maintenance_id===b.maintenance_id&&!0!==e||(b=d,a.resolutions={},a.questions=[],c.forEach(function(b){b.hasAnswer=!1,a.questions.push(b)}))},a.saveResolution=function(b,c,d,e,f){a.resolutions[b+"-"+c]={rule_id:b,system_type_id:c,resolution_type:d,description:f},a.questions[e].hasAnswer=!0},a.hasAllQuestionsAnswered=function(){return a.questions.length===Object.keys(a.resolutions).length},a.getResolutionType=function(b){var c=a.getResolution(b.rule_id,b.system_type_id);return void 0===c&&(c=b.resolutions[0]),c=c.resolution_type},a.getResolution=function(b,c){return a.resolutions[b+"-"+c]},a.getFormattedResolutions=function(){var b={ignoreUnsupported:!0,resolutions:[]},c=void 0,d=void 0;for(c in a.resolutions)d=a.resolutions[c],b.resolutions.push({rule_id:d.rule_id,system_type_id:d.system_type_id,resolution_type:d.resolution_type});return b},a}a("./").service("AnsibleService",d)},{"./":207}],200:[function(a,b,c){"use strict";function d(a,b){function c(c,d){var e=b.absUrl().replace(c,d);a.location.href=f(e).addSearch("utm_campaign","BetaSwitchButton").addSearch("utm_medium","webpage").addSearch("utm_source",d.replace(/\//g,"")).toString()}return{goToBeta:function(){c("/insights/","/insightsbeta/")},goToStable:function(){c("/insightsbeta/","/insights/")},checkAndRedirect:function(){JSON.parse(window.localStorage.getItem("betaOptIn"))&&!window.insightsGlobal.isBeta&&c("/insights/","/insightsbeta/")}}}d.$inject=["$window","$location"];var e=a("./"),f=a("urijs");e.service("BetaRedirectService",d)},{"./":207,urijs:776}],201:[function(a,b,c){"use strict";function d(a,b){function c(){var a=b.get("$state"),c=a.params.originalPath;if(c)return c;var d=f(window.location.toString()),e=d.segment()[0];return d.segment([e,"overview"]),d.toString()}return{bounce:function(){if(a.authenticate){var b=f(window.location);b.duplicateQueryParameters(!1),b.path("/login"),b.addQuery("redirectTo",c()),window.location=b.toString()}}}}d.$inject=["InsightsConfig","$injector"];var e=a("./"),f=a("urijs");e.service("BounceService",d)},{"./":207,urijs:776}],202:[function(a,b,c){"use strict";function d(){var a={en:"en",es:"es",de:"de",it:"it",ko:"ko",fr:"fr",ja:"ja",pt:"pt",zh:"zh_cn",ru:"ru",zh_CN:"zh_cn"};return{coerce:function(b){if(!b)return"en";var c=void 0;return b=b.toLowerCase(),a.hasOwnProperty(b)?a[b]:b.length>2&&(c=b.slice(0,2),a.hasOwnProperty(c))?a[c]:"en"}}}a("./").service("CoercionService",d)},{"./":207}],203:[function(a,b,c){"use strict";function d(a,b){function c(a){return!!a.overdue||new Date(a.end)>new Date}function d(a){"actions"in a&&(a.actionsDone=a.actions.filter(function(a){return a.done}).length)}function e(a){var b;return a&&(b=new Date(a),b.getTime())?b:null}function h(a){return a.active?"active":a.needs_content?"needs-content":a.retired?"retired":"inactive"}var i={};return i.readArray=function(a){return function(b){return b.map(function(b){return a(b)})}},i.readPlan=function(b){return b.actions=b.actions.filter(function(a){return null!==a.system&&null!==a.rule}),b.actions.forEach(function(a){a.system=i.readSystem(a.system),a.rule.rule_id=a.rule.id,i.readRule(a.rule)}),b.rules=a.groupByObject(b.actions,"rule.id","rule","actions").map(f),b.systems=a.groupByObject(b.actions,"system.system_id","system","actions"),d(b),b.systems.forEach(d),b.rules.forEach(d),b.rules.forEach(function(a){a.ansible=g(a.actions,"rule.ansible")}),b.start=e(b.start),b.end=e(b.end),b.end||(b.overdue=!1),b.pending=c(b),b.description&&(b.description=b.description.trim()),b.isReadOnly=function(){return"proposed"===b.suggestion},b},i.readSystem=function(a){return a._name=a.display_name||a.hostname,a},i.readReport=function(a){a.system=i.readSystem(a.system)},i.readRule=function(a){a.severityNum=b.indexOf(a.severity)},i.readRuleState=function(a){a.state=h(a)},i}d.$inject=["Utils","Severities"];var e=a("./"),f=a("lodash/clone"),g=a("lodash/some");e.service("DataUtils",d)},{"./":207,"lodash/clone":448,"lodash/some":500}],204:[function(a,b,c){"use strict";function d(a){return{get:function(b){return a.getDigest(b)},digestsByType:function(b){return a.getDigestsByType(b)}}}d.$inject=["Digest"],a("./").service("DigestService",d)},{"./":207}],205:[function(a,b,c){"use strict";function d(a,b,c,d,e,f){var g={},h="all",i=null,j=[],k=[],l=[],m={},n={},o={},p=null,q=!1,r=!1,s=!0,t=!0,u=null;return g.setMachine=function(a){u=a,g.setQueryParam("machine",a)},g.getMachine=function(){return u},g.setRHELOnly=function(a){r=a},g.getRHELOnly=function(){return r},g.toggleShowFilters=function(){q=!q},g.getShowFilters=function(){return q},g.setShowFilters=function(a){q=a},g.setRolesQueryParam=function(b,d){var e,f=c.search().roles;f=f?f.split(","):[],a.getState(d)?f.push(b):(e=f.indexOf(b),f.splice(e,1)),g.setQueryParam("roles",f.join(","))},g.setOffline=function(a){
s=a,g.setQueryParam("offline",a.toString())},g.setOnline=function(a){t=a,g.setQueryParam("online",a.toString())},g.getOffline=function(){return s},g.getOnline=function(){return t},g.deleteQueryParam=function(a){var b=c.search();b[a]=null,c.search(b)},g.setQueryParam=function(a,b){var d=c.search();d[a]=b,c.search(d)},g.getSearchTerm=function(){return p},g.setSearchTerm=function(a){p=a,g.setQueryParam("search_term",a)},g.clearAll=function(){var b={system_id:"all"};g.setSearchTerm(""),g.setSelectedDockerHost(b),g.setSelectedOSPDeployment(b),g.setSelectedProduct("all"),g.setOnline(!0),g.setOffline(!0),a.setState("inventoryWithActions",!0),a.setState("inventoryWithoutActions",!0),g.doFilter()},g.doFilter=function(){d.$broadcast("filterService:doFilter")},g.getSelectedProduct=function(){return h},g.setSelectedProduct=function(a){h=a,g.setQueryParam("product",a)},g.setParentNode=function(a){i=a},g.getParentNode=function(){return i},g.setDockerHosts=function(a){j=a},g.getDockerHosts=function(){return j},g.setSelectedDockerHost=function(a){m=a,"all"===g.getSelectedDockerHost().system_id?g.setParentNode(null):g.setParentNode(a.system_id),g.setQueryParam("docker_host",a.system_id)},g.getSelectedDockerHost=function(){return m},g.setOCPDeployments=function(a){l=a},g.getSelectedOCPDeployment=function(){return o},g.setSelectedOCPDeployment=function(a){o=a,"all"===g.getSelectedOCPDeployment().system_id?g.setParentNode(null):g.setParentNode(a.system_id),g.setQueryParam("ocp_deployment",a.system_id)},g.setOSPDeployments=function(a){k=a},g.getOSPDeployments=function(){return k},g.setSelectedOSPDeployment=function(a){n=a,"all"===g.getSelectedOSPDeployment().system_id?g.setParentNode(null):g.setParentNode(a.system_id),g.setQueryParam("osp_deployment",a.system_id)},g.getSelectedOSPDeployment=function(){return n},g.buildOSPRolesString=function(){var b=[];return a.getState("inventoryOSPCluster")&&b.push("cluster"),a.getState("inventoryOSPDirector")&&b.push("director"),a.getState("inventoryOSPCompute")&&b.push("compute"),a.getState("inventoryOSPController")&&b.push("controller"),b.toString()},g.buildDockerRolesString=function(){var b=[];return a.getState("inventoryDockerHosts")&&b.push("host"),a.getState("inventoryDockerImages")&&b.push("image"),a.getState("inventoryDockerContainers")&&b.push("container"),b.toString()},g.updateParams=function(a){return!a.search_term&&g.getSearchTerm()&&(a.search_term=g.getSearchTerm()),!a.product&&g.getSelectedProduct()&&(a.product=g.getSelectedProduct()),!a.role&&g.getSelectedProduct()&&("rhev"===g.getSelectedProduct()?a.role=g.buildRHEVRolesString():"docker"===g.getSelectedProduct()?a.role=g.buildDockerRolesString():"osp"===g.getSelectedProduct()&&(a.role=g.buildOSPRolesString())),!a.osp_deployment&&g.getSelectedOSPDeployment()&&g.getSelectedOSPDeployment().system_id&&(a.osp_deployment=g.getSelectedOSPDeployment().system_id),!a.docker_host&&g.getSelectedDockerHost()&&g.getSelectedDockerHost().system_id&&(a.docker_host=g.getSelectedDockerHost().system_id),a.offline||(a.offline=g.getOffline()),a.online||(a.online=g.getOnline()),a},g.parseBrowserQueryParams=function(){var b,d=c.search();if(d.product&&g.setSelectedProduct(d.product),d.actions&&("all"===d.actions?(a.setState("inventoryWithoutActions",!0),a.setState("inventoryWithActions",!0)):"with"===d.actions?(a.setState("inventoryWithoutActions",!1),a.setState("inventoryWithActions",!0)):"without"===d.actions&&(a.setState("inventoryWithoutActions",!0),a.setState("inventoryWithActions",!1))),d.search_term&&g.setSearchTerm(d.search_term),d.osp_deployment&&g.setSelectedOSPDeployment({system_id:d.osp_deployment}),d.docker_host&&g.setSelectedDockerHost({system_id:d.docker_host}),d.roles?(b=d.roles.split(","),b.forEach(function(b){"cluster"===b?a.setState("inventoryOSPCluster",!0):"compute"===b?a.setState("inventoryOSPCompute",!0):"director"===b?a.setState("inventoryOSPDirector",!0):"controller"===b?a.setState("inventoryOSPController",!0):"host"===b?a.setState("inventoryDockerHosts",!0):"container"===b?a.setState("inventoryDockerContainers",!0):"image"===b?a.setState("inventoryDockerImages",!0):"hypervisor"===b?a.setState("inventoryRHEVHypervisors",!0):"manager"===b&&a.setState("inventoryRHEVManagers",!0)})):(a.setState("inventoryOSPCluster",!0),a.setState("inventoryOSPCompute",!0),a.setState("inventoryOSPDirector",!0),a.setState("inventoryOSPController",!0),a.setState("inventoryDockerHosts",!0),a.setState("inventoryDockerContainers",!0),a.setState("inventoryDockerImages",!0),a.setState("inventoryOCPCluster",!0),a.setState("inventoryOCPMaster",!0),a.setState("inventoryOCPNodes",!0),a.setState("inventoryRHEVHypervisors",!0),a.setState("inventoryRHEVManagers",!0)),d.severity&&e.forEach(function(b){b===d.severity?a.setState("severityFilters"+b,!0):a.setState("severityFilters"+b,!1)}),d.category&&f.forEach(function(b){b===d.category?a.setState("categoryFilters"+b,!0):a.setState("categoryFilters"+b,!1)}),"false"===d.offline&&"false"===d.online)g.setOffline(!0),g.setOnline(!0);else{if(d.offline){var h="true"===d.offline;g.setOffline(h)}if(d.online){var i="true"===d.online;g.setOnline(i)}}d.machine&&g.setMachine(d.machine)},g.buildRHEVRolesString=function(){var b=[];return a.getState("inventoryRHEVManagers")&&b.push("manager"),a.getState("inventoryRHEVHypervisors")&&b.push("hypervisor"),a.getState("inventoryRHEVDeployments")&&b.push("cluster"),b.toString()},g.buildRequestQueryParams=function(c,d){function h(a,b){var c=!1;return-1!==b.indexOf(a)&&(c=!0),c}function i(a){var b=!0;return h(a,d)&&!h(a,c)&&(b=!1),b}var j={},k=g.getSelectedOSPDeployment().system_id,l=g.getSelectedDockerHost().system_id;return c||(c=[]),d||(d=[]),g.getSearchTerm()&&i("search_term")&&(j.search_term=g.getSearchTerm()),i("report_count")&&(a.getState("inventoryWithActions")&&!a.getState("inventoryWithoutActions")?j.report_count="gt0":!a.getState("inventoryWithActions")&&a.getState("inventoryWithoutActions")&&(j.report_count="lt1")),"rhel"===g.getSelectedProduct()&&i("product_code")?j.product_code="rhel":"osp"===g.getSelectedProduct()?(i("product_code")&&(j.product_code="osp"),i("role")&&(j.role=g.buildOSPRolesString())):"rhev"===g.getSelectedProduct()?(i("product_code")&&(j.product_code="rhev"),i("role")&&(j.role=g.buildRHEVRolesString())):"docker"===g.getSelectedProduct()?(i("product_code")&&(j.product_code="docker"),i("role")&&(j.role=g.buildDockerRolesString())):"ocp"===g.getSelectedProduct()&&i("product_code")&&(j.product_code="ocp"),k&&"all"!==k&&i("root")&&(j.root=k),l&&"all"!==l&&i("root")&&(j.root=l),b.current().id&&i("group")&&(j.group=b.current().id),i("severity")&&e.forEach(function(b){a.getState("severityFilters"+b)&&"All"!==b&&(j.severity=b)}),i("category")&&f.forEach(function(b){a.getState("categoryFilters"+b)&&"all"!==b&&(j.category=b)}),j},g}d.$inject=["MultiButtonService","Group","$location","$rootScope","Severities","Categories"],a("./").factory("FilterService",d)},{"./":207}],206:[function(a,b,c){"use strict";function d(){function a(a){return c.length=0,Array.prototype.push.apply(c,a),c}function b(a){c.push(a)}var c=[];return{sections:function(){return c},setSections:a,addSection:b}}a("./").factory("GettingStarted",d)},{"./":207}],207:[function(a,b,c){"use strict";b.exports=angular.module("insights.services",[]),function(){var b=a("./index.js");b["account.service"]=a("./account.service.js"),b["actionbar.service"]=a("./actionbar.service.js"),b["actions.service"]=a("./actions.service.js"),b["actionsBreadcrumbs.service"]=a("./actionsBreadcrumbs.service.js"),b["alert.service"]=a("./alert.service.js"),b["analytics.service"]=a("./analytics.service.js"),b["announcement.service"]=a("./announcement.service.js"),b["ansible.service"]=a("./ansible.service.js"),b["betaRedirect.service"]=a("./betaRedirect.service.js"),b["bounce.service"]=a("./bounce.service.js"),b["coercion.service"]=a("./coercion.service.js"),b["dataUtils.service"]=a("./dataUtils.service.js"),b["digest.service"]=a("./digest.service.js"),b["filter.service"]=a("./filter.service.js"),b["gettingStarted.service"]=a("./gettingStarted.service.js"),b.index=a("./index.js"),b["inventory.service"]=a("./inventory.service.js"),b["listType.service"]=a("./listType.service.js"),b["maintenance.service"]=a("./maintenance.service.js"),b.modalUtils=a("./modalUtils.js"),b["multibutton.service"]=a("./multibutton.service.js"),b["overview.service"]=a("./overview.service.js"),b["permalink.service"]=a("./permalink.service.js"),b["permission.service"]=a("./permission.service.js"),b["platform.service"]=a("./platform.service.js"),b["preference.service"]=a("./preference.service.js"),b["reload.service"]=a("./reload.service.js"),b["rule.service"]=a("./rule.service.js"),b["ruleAdmin.service"]=a("./ruleAdmin.service.js"),b["rulePreview.service"]=a("./rulePreview.service.js"),b["strata.service"]=a("./strata.service.js"),b["sweetalert.service"]=a("./sweetalert.service.js"),b["systems.service"]=a("./systems.service.js"),b["template.service"]=a("./template.service.js"),b["title.service"]=a("./title.service.js"),b["topbarAlerts.service"]=a("./topbarAlerts.service.js"),b["topic.service"]=a("./topic.service.js"),b["utils.service"]=a("./utils.service.js")}()},{"./account.service.js":192,"./actionbar.service.js":193,"./actions.service.js":194,"./actionsBreadcrumbs.service.js":195,"./alert.service.js":196,"./analytics.service.js":197,"./announcement.service.js":198,"./ansible.service.js":199,"./betaRedirect.service.js":200,"./bounce.service.js":201,"./coercion.service.js":202,"./dataUtils.service.js":203,"./digest.service.js":204,"./filter.service.js":205,"./gettingStarted.service.js":206,"./index.js":207,"./inventory.service.js":208,"./listType.service.js":209,"./maintenance.service.js":210,"./modalUtils.js":211,"./multibutton.service.js":212,"./overview.service.js":213,"./permalink.service.js":214,"./permission.service.js":215,"./platform.service.js":216,"./preference.service.js":217,"./reload.service.js":218,"./rule.service.js":219,"./ruleAdmin.service.js":220,"./rulePreview.service.js":221,"./strata.service.js":222,"./sweetalert.service.js":223,"./systems.service.js":224,"./template.service.js":225,"./title.service.js":226,"./topbarAlerts.service.js":227,"./topic.service.js":228,"./utils.service.js":229}],208:[function(a,b,c){"use strict";function d(a,b,c,d){var e={},f={field:"toString",direction:"ASC"},g=0,h=15,i=!1,j=0,k=[];return e.loading=!0,e.allExpanded=!1,e.getSortField=function(){return f.field},e.setSortField=function(a){f.field=a,c.setQueryParam("sort_field",a)},e.getSortDirection=function(){return f.direction},e.setSortDirection=function(a){f.direction=a,c.setQueryParam("sort_dir",a)},e.toggleSortDirection=function(){f.direction="ASC"===f.direction?"DESC":"ASC"},e.getSort=function(){return f},e.setSort=function(a){f=a,c.setQueryParam("sort_dir",a.direction),c.setQueryParam("sort_field",a.field)},e.getPage=function(){return g},e.setPage=function(a){g=a},e.setPageSize=function(a){h=a},e.getPageSize=function(){return h},e.getIsScrolling=function(){return i},e.setIsScrolling=function(a){i=a},e.nextPage=function(){g+=1},e.previousPage=function(){g-=1},e.goToPage=function(a){g=a},e.setTotal=function(a){j=a},e.getTotal=function(){return j},e.setAccountProducts=function(a){k=a},e.getAccountProducts=function(){return k},e._systemModal=null,e.showSystemModal=function(a,c){function f(a){!function(a){e._systemModal||(e._systemModal=b.open(a),e._systemModal.result["finally"](function(){e._systemModal=null}))}({templateUrl:"js/components/system/systemModal/systemModal.html",windowClass:"system-modal ng-animate-enabled",backdropClass:"system-backdrop ng-animate-enabled",controller:"SystemModalCtrl",resolve:{system:function(){return a},rule:function(){return!1}}})}c?d.getSingleSystem(a.system_id).then(function(a){f(a.data)}):f(a)},e}d.$inject=["$location","$modal","FilterService","System"],a("./").factory("InventoryService",d)},{"./":207}],209:[function(a,b,c){"use strict";function d(a){var b=Object.freeze({card:"card",table:"table"}),c=b.card,d=function(a){c=a.matches?b.table:b.card},e=window.matchMedia("(min-width: "+a+")");return d(e),e.addListener(d),{types:function(){return b},getType:function(){return c},setType:function(a){return c=b[a]}}}d.$inject=["TableToCardsBreakpoint"],a("./").service("ListTypeService",d)},{"./":207}],210:[function(a,b,c){"use strict";function d(a,b,c,d,e,o,p,q,r,s,t,u,v,w,x){function y(){var a=new Date,b=f(A.plans.all,function(b){return(null===b.suggestion||b.suggestion===r.SUGGESTION.ACCEPTED)&&(!b.end||b.end>a)});return i(j(h(b,"actions"),"done"),"current_report.id")}function z(a,b,c,d){this.plan=a,this.item=b,this.savedActions=c||[],this.loader=d,this.implicitOrder={predicate:"display",reverse:!1}}var A={},B=!1,C=Object.freeze({PLANNED:0,AVAILABLE:1,PLANNED_ELSEWHERE:2});return A.MAINTENANCE_ACTION_TYPE=C,A.showSystemModal=function(a,b){b&&(b=b.rule_id),o.getSystemReports(a.system_id).success(function(a){return"function"==typeof p.actionsShowSystem?p.actionsShowSystem(a,b):void q.open({templateUrl:"js/components/system/systemModal/systemModal.html",windowClass:"system-modal ng-animate-enabled",backdropClass:"system-backdrop ng-animate-enabled",controller:"SystemModalCtrl",resolve:{system:function(){return a},rule:function(){return b}}})})},A.showMaintenanceModal=function(a,b,c){q.open({templateUrl:"js/components/maintenance/maintenanceModal/maintenanceModal.html",windowClass:"maintenance-modal modal-wizard ng-animate-enabled",backdropClass:"system-backdrop ng-animate-enabled",controller:"maintenanceModalCtrl",resolve:{systems:function(){return a||!1},rule:function(){return b||!1},existingPlan:function(){return c}}})},z.prototype.getActions=function(){return this.savedActions.map(this.actionMapper)},z.prototype.update=function(a,b){return A.plans.update(this.plan,{add:a,"delete":b})},z.prototype.save=function(a,b){return this.update(g(a,function(a){return n(a,["rule_id","system_id"])}),g(b,"mid"))},A.systemTableParams=function(a,b,d,e){var f=new z(b,a,d,e);return f.actionMapper=function(a){return{id:a.system.system_id,display:a.system._name,mid:a.id,system:a.system,done:a.done,systemTypeIconId:a.system.system_type_id}},f.getAvailableActions=function(){var b={rule:a.rule_id,expand:"system"};return c.getReportsLatest(b).then(function(b){var c=y(),d=b.data.resources,e=[];return d.forEach(function(b){b.system=u.readSystem(b.system),e.push({id:b.system.system_id,display:b.system._name,system:b.system,done:!1,system_id:b.system.system_id,rule_id:a.rule_id,_type:b.id in c?C.PLANNED_ELSEWHERE:C.AVAILABLE,systemTypeIconId:b.system.system_type_id})}),e})},f},A.actionTableParams=function(a,b,c,d){var e=new z(b,a,c,d);return e.actionMapper=function(a){return{id:a.rule.rule_id,display:a.rule.description,mid:a.id,rule:a.rule,done:a.done}},e.getAvailableActions=function(){return o.getSystemReports(a.system_id).then(function(b){var c=y(),d=b.data.reports,e=[];return d.forEach(function(b){e.push({id:b.rule.rule_id,display:b.rule.description,rule:b.rule,done:!1,system_id:a.system_id,rule_id:b.rule.rule_id,_type:b.id in c?C.PLANNED_ELSEWHERE:C.AVAILABLE})}),e})},e.implicitOrder={predicate:"rule.severityNum",reverse:!0},e},A.plans={all:[]},A.plans.load=function(a){return!a&&B||(B=r.getMaintenancePlans().then(function(a){return A.plans.all=a,A.plans.process()})),B},A.plans.process=function(){var a=new Date;return s.init().then(function(b){var c=b.is_internal;A.plans.future=[],A.plans.past=[],A.plans.overdue=[],A.plans.unscheduled=[],A.plans.suggested=[],A.plans.all.forEach(function(b){b.hidden&&!c||(b.suggestion===r.SUGGESTION.PROPOSED||b.suggestion===r.SUGGESTION.REJECTED?A.plans.suggested.push(b):b.end?b.end>a?A.plans.future.push(b):(A.plans.past.push(b),b.overdue&&!b.silenced&&A.plans.overdue.push(b)):A.plans.unscheduled.push(b))}),v.removeAll("maintenance"),A.plans.overdue.length&&v.push({type:"maintenance",msg:x.getPlural(A.plans.overdue.length,"A plan was not completed on time","{{$count}} plans were not completed on time",{}),acked:!1,icon:"fa-calendar-times-o red",onSelect:function(){w.go("app.maintenance",{maintenance_id:A.plans.overdue[0].maintenance_id})},onAck:function(){var a=A.plans.overdue.map(function(a){return r.silence(a).then(function(){a.silenced=!0})});t.all(a).then(function(){A.plans.process()})}});var d=A.plans.suggested.filter(function(a){return!a.hidden});d.length&&v.push({type:"maintenance",msg:x.getPlural(d.length,"You have a new plan suggestion","You have {{$count}} new plan suggestions",{}),acked:!1,icon:"fa-wrench",onSelect:function(){w.go("app.maintenance",{maintenance_id:d[0].maintenance_id})}})})},A.plans.findCategory=function(a){function b(b){return b.maintenance_id==a}for(var c=["future","unscheduled","past","suggested"],d=0;d<c.length;d++)if(l(A.plans[c[d]],b))return c[d]},A.plans.remove=function(a){return k(A.plans.all,function(b){return b.maintenance_id===a}),A.plans.process()},A.plans.add=function(a){return A.plans.all.push(a),A.plans.process()},A.plans.create=function(a){return r.createPlan(a).then(function(a){return r.getMaintenancePlan(a.data.id).then(function(a){return A.plans.add(a.data).then(function(){return a.data})})})},A.plans.update=function(a,b){return r.updatePlan(a.maintenance_id,b).then(function(){return r.getMaintenancePlan(a.maintenance_id).then(function(b){return m(a,b.data),a})})},A.getPlanName=function(a){return a.name&&a.name.length?a.name:x.getString("Unnamed plan")+" ("+a.maintenance_id+")"},d.$on("maintenance:planChanged",function(){A.plans.process()}),d.$on("maintenance:planDeleted",function(a,b){A.plans.remove(b)}),A}d.$inject=["Utils","Severities","Report","$rootScope","Rule","System","InsightsConfig","$modal","Maintenance","User","$q","DataUtils","TopbarAlertsService","$state","gettextCatalog"];var e=a("./"),f=a("lodash/filter"),g=a("lodash/map"),h=a("lodash/flatMap"),i=a("lodash/keyBy"),j=a("lodash/reject"),k=a("lodash/remove"),l=a("lodash/some"),m=a("lodash/assign"),n=a("lodash/pick");e.service("MaintenanceService",d)},{"./":207,"lodash/assign":446,"lodash/filter":456,"lodash/flatMap":459,"lodash/keyBy":483,"lodash/map":487,"lodash/pick":495,"lodash/reject":498,"lodash/remove":499,"lodash/some":500}],211:[function(a,b,c){"use strict";function d(a,b){function c(c){var d=a.$on("telemetry:esc",function(a){return a.preventDefault(),!1});c.result.then(angular.noop,function(){b(function(){d()})})}return{suppressEscNavigation:c}}d.$inject=["$rootScope","$timeout"],a("./").service("ModalUtils",d)},{"./":207}],212:[function(a,b,c){"use strict";function d(a,b){var c={};c.RULE_ADMIN_CAT_FILTER_KEY="rule-admin-category",c.inventoryWithActions={state:!0},c.inventoryWithoutActions={state:!0},c.inventoryInfo={state:!0},c.inventoryWarn={state:!0},c.inventoryError={state:!0},c.inventoryAvailability={state:!0},c.inventoryStability={state:!0},c.inventoryPerformance={state:!0},c.inventorySecurity={state:!0},c.inventoryStandalone={state:!0},c.inventoryRHEVClusters={state:!0},c.inventoryRHEVManagers={state:!0},c.inventoryRHEVHypervisors={state:!0},c.inventoryDockerHosts={state:!0},c.inventoryDockerContainers={state:!0},c.inventoryDockerImages={state:!0},c.inventoryOSPCluster={state:!0},c.inventoryOSPDirector={state:!0},c.inventoryOSPCompute={state:!0},c.inventoryOSPController={state:!0},b.forEach(function(a){var b="severityFilters"+a,d=!1;"all"===a&&(d=!0),c[b]={state:d}}),a.forEach(function(a){var b="categoryFilters"+a,d=!1;"all"===a&&(d=!0),c[b]={state:d}}),a.forEach(function(a){c[c.RULE_ADMIN_CAT_FILTER_KEY+a]={state:!1}});var d=window.localStorage.getItem("insights:"+c.RULE_ADMIN_CAT_FILTER_KEY)||"all";return c[c.RULE_ADMIN_CAT_FILTER_KEY+d].state=!0,c.getState=function(a){return!!c[a]&&c[a].state},c.setState=function(a,b){c[a]&&(c[a].state=b)},c.initState=function(a){c[a]={state:!1}},c}d.$inject=["Categories","Severities"],a("./").service("MultiButtonService",d)},{"./":207}],213:[function(a,b,c){"use strict";function d(a){function b(){a.get().then(function(a){c.article=a.data})}var c={};return c.loading=!1,c.update=function(c,d){return a.update(c,d).then(b)},b(),c}d.$inject=["Article"],a("./").factory("OverviewService",d)},{"./":207}],214:[function(a,b,c){"use strict";function d(a,b,c){function d(b,c,d){void 0===c&&(c=e.offset),void 0===d&&(d=e.speed),a.scrollTo(document.getElementById(b),c,d)}var e={offset:10,speed:300};return{make:function(a,c,e,f){a=a.replace("#",""),b.hash(a),!0===c&&d(a,e,f)},scroll:function(a,e,f){var g=b.hash();a||(a=g),a&&c(function(){c(function(){d(a,e,f)},0)},0)}}}d.$inject=["$document","$location","$timeout"],a("./").service("PermalinkService",d)},{"./":207}],215:[function(a,b,c){"use strict";function d(){function a(a,b){return!(!a||!a.permissions||!a.is_internal||!a.permissions[f.SU]&&!a.permissions[b])}return{has:a,PERMS:f}}var e=a("./"),f={SU:"SU",INTERNAL:"INTERNAL",CREATE_ANNOUNCEMENT:"CREATE_ANNOUNCEMENT",ACCOUNT_SWITCHER:"ACCOUNT_SWITCHER",CONTENT_MANAGER:"CONTENT_MANAGER"};e.service("PermissionService",d)},{"./":207}],216:[function(a,b,c){"use strict";function d(a,b){function c(){d=b.getProducts().then(function(a){return a.data})}var d;return a.$on("account:change",c),c(),{getPlatforms:function(){return d}}}d.$inject=["$rootScope","Account"],a("./").service("PlatformService",d)},{"./":207}],217:[function(a,b,c){"use strict";function d(a,b,c){var d={};return{set:function(b,c,e){d[b]=c,(e||void 0===e)&&a.update(d)},get:function(a){return d[a]},appendProductToUrl:function(a,b){var d=c.getNextQueryPrependChar(a),e=this.get("dashboard_mode"),f=null,g=b||"machine";return e&&(a+=d+"product="+e,d=c.getNextQueryPrependChar(a)),a+=d+"type="+g,d=c.getNextQueryPrependChar(a),"osp"===e&&(f=this.get("osp_deployment"))&&(a+=d+"environments="+f),a}}}d.$inject=["UserSettings","$rootScope","Utils"],a("./").service("PreferenceService",d)},{"./":207}],218:[function(a,b,c){"use strict";function d(a){var b={};return b.begin=function(){a.defaults.headers.common[f]=!0},b.end=function(){delete a.defaults.headers.common[f]},b.wrap=function(a){b.begin(),a(function(){b.end()})},b}d.$inject=["$http"];var e=a("./"),f="x-insights-autoreload";e.service("ReloadService",d)},{"./":207}],219:[function(a,b,c){"use strict";function d(a){var b={},c=a("orderBy");return b.groupRulesByPlugin=function(a){var b=f(a,"plugin");return k(b,function(a,b){a=c(a,["acked","hitCount === 0","-severityNum","-hitCount"]);var d={rules:a,plugin_id:b};return 1===d.rules.length?(d.rule=d.rules[0],d.type="rule"):d.type="group",d.severityNum=g(d.rules,"severityNum").severityNum,d.categories=j(k(d.rules,"category")),d.hitCount=h(d.rules,"hitCount"),d.acked=i(d.rules,"acked"),d.display_name=d.rules[0].plugin_name,d.display_name in l&&(d.display_name=l[d.display_name]),d})},b}d.$inject=["$filter"];var e=a("./"),f=a("lodash/groupBy"),g=a("lodash/maxBy"),h=a("lodash/sumBy"),i=a("lodash/every"),j=a("lodash/uniq"),k=a("lodash/map"),l={CVE_2016_0800_openssl_drown:"DROWN",CVE_2016_0728_kernel:"Kernel keychain vulnerability (CVE-2016-0728)",CVEs_samba_badlock:"Badlock (Samba)",CVE_2016_2315_24_git:"CVE-2016-2315, CVE-2016-2324 (Git)",heartbleed:"Heartbleed",httpd_poodle:"POODLE (Httpd)",vsftpd_local_enable:"vsftpd",CVE_2016_3714_imagemagick:"ImageMagick",httpd_weak_ciphers:"Weak Ciphers (Apache)",network_skb_panic_after_add_grhead:"Networking caused kernel panic",sanity_check_fstab:"/etc/fstab misconfigurations",docker_journald_stop:"Docker crashes after journald is stopped",cifs_share_lost:"Interruption in CIFS shares",rhev_qla2xxx_firmware_failed:"RHEV Qla2xxx firmware failed",docker_mount_dev:"Docker mounting",unsupported_journal_mode:"Unsupported journal mode",panic_anon_vma_degree:"unlink_anon_vmas() kernel panic",sosreport_load_bridge_module:"sosreport loads the bridge kernel module unintentionally",rpm_database_problems:"RPM database problems",xinetd_per_source_limit:"xinetd per_source_limit messages",crashkernel_with_3w_modules:"Kernel crash with 3w-sas or 3w-9xxx modules loaded",fs_resize2fs_bug:"resize2fs utility issue on ext4 file system",multipathd_start_failed:"Multipathd service failing to start at boot time",rport_delete_crash:"Kernel panic on SCSI host removal",tg3_driver_issue:"tg3 driver bug causes network instability",ilo:"HP iLO memory corruption",missing_boot_files:"Grub configuration: missing files",nproc_common_entries:"Common entries in both limits.conf and 90-nproc.conf",tsc_reboot_uptime:"Clock overflow panic after 200+ days uptime",rsyslogd_shutdown_crash:"Rsyslogd crashing during shutdown",rx_crc_errors:"Interface RX CRC errors",vm_swappiness_oom:"vm.swappiness value at risk of OOM termination condition"};e.service("RuleService",d)},{"./":207,"lodash/every":455,"lodash/groupBy":464,"lodash/map":487,"lodash/maxBy":488,"lodash/sumBy":505,"lodash/uniq":512}],220:[function(a,b,c){"use strict";function d(a){var b={};return b.get=function(c){return b.contains(c)||(b[c]=a.getReportsLatest({rule:c,expand:"system",account_number:"*"}).then(function(a){return a.data.resources})["catch"](function(){delete b[c]})),b[c]},b.contains=function(a){return a in b},{globalCache:b}}d.$inject=["Report"],a("./").service("RuleAdminService",d)},{"./":207}],221:[function(a,b,c){"use strict";function d(a,b){return{preview:function(a){b.open({templateUrl:"js/components/system/systemModal/systemModal.html",windowClass:"system-modal ng-animate-enabled",backdropClass:"system-backdrop ng-animate-enabled",controller:"SystemModalCtrl",resolve:{rule:function(){return a},system:function(){return!1}}})}}}d.$inject=["$http","$modal"],a("./").service("RulePreview",d)},{"./":207}],222:[function(a,b,c){"use strict";function d(a,b){function c(c,d){var e=f(g).addSearch("keyword",c+":"+d);return a.get(e.toString(),h).then(function(a){return a.data&&a.data.search_result?a.data.search_result:b.reject("no results")})}return{searchById:function(a){return c("id",a)},searchByUri:function(a){return c("view_uri",a)}}}d.$inject=["$http","$q"];var e=a("./"),f=a("urijs"),g="https://access.redhat.com/rs/search",h=Object.freeze({headers:{"Content-Type":"application/json",Accept:"application/json","X-Omit":"WWW-Authenticate"}});e.service("StrataService",d)},{"./":207,urijs:776}],223:[function(a,b,c){"use strict";function d(a,b){return{swal:function(c,d,e){var g=b.defer();return a.$evalAsync(function(){"function"==typeof d?f(c,function(b){a.$evalAsync(function(){d(b),g.resolve(b)})},e):"object"!==(void 0===c?"undefined":_typeof(c))||angular.isDefined(d)?f(c,d,e):f(c,function(a){g.resolve(a)})}),g.promise},success:function(b,c){a.$evalAsync(function(){f(b,c,"success")})},error:function(b,c){a.$evalAsync(function(){f(b,c,"error")})},warning:function(b,c){a.$evalAsync(function(){f(b,c,"warning")})},info:function(b,c){a.$evalAsync(function(){f(b,c,"info")})},DEFAULT_WARNING_OPTS:Object.freeze({title:"Are you sure?",type:"warning",confirmButtonColor:"#DD6B55",confirmButtonText:"Yes",html:!0,showCancelButton:!0})}}d.$inject=["$rootScope","$q"];var e=a("./"),f=a("./../../bower_components/sweetalert/lib/sweet-alert.js");e.factory("SweetAlert",d)},{"./":207,"./../../bower_components/sweetalert/lib/sweet-alert.js":20}],224:[function(a,b,c){"use strict";function d(a,b,c,d,e,j,k,l){function m(a){var e,f=a.length,g=c.defer(),h=[],i=d.getPlural(f,q,r,{count:f});return k.swal({title:"Are you sure?",text:i,type:"warning",confirmButtonColor:"#DD6B55",confirmButtonText:"Yes",html:!0,showCancelButton:!0},function(d){if(d){for(var i=0;f>i;i++)e=l.deleteSystem(a[i].system_id),h.push(e);c.all(h).then(function(){b.$broadcast("systems:unregistered"),g.resolve()})}}),g.promise}function n(a){var b=["system_information.product_name","system_information.version","system_information.family","system_information.manufacturer"],c=0,d=f(a,b[b.length-1]);for(c=0;c<b.length-1;c++)if(f(a,b[c])&&f(a,b[c]).substring(1).indexOf(" ")>=0){d=f(a,b[c]);break}return d}var o={},p=null,q="<h5>This will unregister the selected system from Red Hat Insights.</h5><p>To undo this action <code>redhat-access-insights --register</code> must be run from the unregistered system.</p>",r="<h5>This will unregister the {{count}} selected systems from Red Hat Insights.</h5><p>To undo this action <code>redhat-access-insights --register</code> must be run from each unregistered system.</p>",s=[],t=l.getSystemTypes().then(function(a){return s=a.data,a.data});return o.getSystemTypeUnsafe=function(a){return h(s,{id:parseInt(a)})},o.getSystemTypesAsync=function(){return t},o.getSystemTypeAsync=function(a){return o.getSystemTypesAsync().then(function(){return o.getSystemTypeUnsafe(a)})},o.unregisterSelectedSystems=function(a){return m(a)},o.getSystemFacts=function(b,c){var d=[];return d.push({label:"OS",value:a("productShortName")(f(c,"release"))}),d.push({label:"Hardware Platform",value:n(c)}),b.product_code===j.docker.code&&(b.role===j.docker.roles.container.code?(d.push({label:"Container ID",value:f(c,"docker_container_id")}),d.push({label:"Built On Image",value:f(c,"docker_image_id")})):b.role===j.docker.roles.image.code&&d.push({label:"Image ID",value:f(c,"docker_image_id")})),d.push({label:"BIOS Version",value:f(c,"bios_information.vendor")+" "+f(c,"bios_information.version")}),d.push({label:"BIOS Release Date",value:f(c,"bios_information.release_date")}),(b.product_code===j.rhel.code||b.product_code===j.osp.code&&b.role===j.osp.roles.cluster.code)&&d.push({label:"Registration Date",value:a("timeAgo")(f(b,"created_at"))}),d.push({label:"Last Check-in",value:a("timeAgo")(f(b,"last_check_in"))}),g(d,function(a){return void 0===a.value||"undefined undefined"===a.value||a.value.indexOf("NaN")>-1}),[d.slice(0,Math.ceil(d.length/2)),d.slice(Math.ceil(d.length/2),d.length)]},o.populateNewestSystems=function(a){var b={page_size:5,page:0,sort_by:"created_at",sort_dir:"DESC"};return a&&"all"!==a&&(b.product_code=a),i(b,e.queryParam()),l.getSystemsLatest(b).success(function(a){p=a.resources})},o.getNewestSystems=function(){return p},o}d.$inject=["$filter","$rootScope","$q","gettextCatalog","Group","Products","SweetAlert","System"];var e=a("./"),f=a("lodash/get"),g=a("lodash/remove"),h=a("lodash/find"),i=a("lodash/assign");e.factory("SystemsService",d)},{"./":207,"lodash/assign":446,"lodash/find":457,"lodash/get":463,"lodash/remove":499}],225:[function(a,b,c){"use strict";function d(a,b,c,d,e){var g={};return g.renderTemplate=function(g,h){var i=e.$new(!0);f(i,h);var j=a(b.get(g)),k=j(i),l=c.defer();return d(function(){l.resolve(k.html())},0),l.promise},g}d.$inject=["$compile","$templateCache","$q","$timeout","$rootScope"];var e=a("./"),f=a("lodash/assign");e.service("TemplateService",d)},{"./":207,"lodash/assign":446}],226:[function(a,b,c){"use strict";function d(a){return{set:function(b){var c=a.title;document.title=b?b+" | "+c:c}}}d.$inject=["InsightsConfig"],a("./").service("TitleService",d)},{"./":207}],227:[function(a,b,c){"use strict";function d(){function a(){b.unackedCount=f(b.items,function(a){return a.acked?0:1})}var b={items:[],unackedCount:0};return b.push=function(c){b.items.push(c),a()},b.removeAll=function(c){g(b.items,{type:c}),a()},b}var e=a("./"),f=a("lodash/sumBy"),g=a("lodash/remove");e.service("TopbarAlertsService",d)},{"./":207,"lodash/remove":499,"lodash/sumBy":505}],228:[function(a,b,c){"use strict";function d(a){var b={};return b.topics=[],b.reload=function(c){var d=c&&"all"!==c?{product:c}:null;return a.getAll(d,14).then(function(a){b.topics=a.data})},b.init=function(){return b.reload()},b}d.$inject=["Topic"],a("./").service("TopicService",d)},{"./":207}],229:[function(a,b,c){"use strict";function d(a){this.perPage=a||15,this.reset()}function e(a,b,c){function e(a,b,c){var d;return a.length&&b in a[0]&&null!==a[0][b]?(d=a[0][b],d[c]=a,d):{}}var f={};return f.generateAccessors=function(a,b){g(b,function(c,d){var e=h(d),f="get"+e,g="set"+e;a[f]=function(){return b[d]},a[g]=function(a){b[d]=a}})},f.selectBetween=function(a,b,c){function d(a){return a.getAttribute("data-id")}a=f.findFirstAncestor(a,d),b=f.findFirstAncestor(b,d);var e=a.parentElement,g=Array.prototype.slice.call(angular.element(e).children()),h=g.indexOf(a),i=g.indexOf(b);
angular.forEach(g.slice(Math.min(h,i),Math.max(h,i)+1),function(a){var b=a.getAttribute("data-id");c[b]=!0})},f.escapeHtml=function(a){var b=document.createElement("div");return b.appendChild(document.createTextNode(a)),b.innerHTML},f.resetChecked=function(a){return function(){a.checked=!1,a.items={}}},f.checkboxChecked=function(a,b,c,d){d=d||"system_id",angular.forEach(b,function(b){angular.isDefined(b[d])&&(c[b[d]]=a)})},f.itemsChanged=function(a,b,c){if(c=c||"system_id",!a||!a.length)return{checked:!1,totalChecked:0,indeterminate:!1};var d=0,e=0,f=a.length;angular.forEach(a,function(a){d+=b[a[c]]||0,e+=!b[a[c]]||0});var g={totalChecked:d,indeterminate:0!==d&&0!==e};return 0!==e&&0!==d||(g.checked=d===f),g},f.rowClick=function(a){return function(b,c){var d=b.target||b.srcElement;if("A"!==d.tagName){if(b.shiftKey&&"mousedown"===b.type)return b.preventDefault(),!1;if("TD"!==d.tagName&&"SPAN"!==d.tagName||"click"!==b.type||(a.items[c]=!a.items[c]),d=b.currentTarget,!a.lastClicked)return void(a.lastClicked=d);b.shiftKey&&f.selectBetween(d,a.lastClicked,a.items),a.lastClicked=d}}},f.findFirstAncestor=function(a,b){for(;!b(a)&&a;)a=a.parentElement;return a},f.isBeta=function(){return window.insightsGlobal&&window.insightsGlobal.isBeta},f.groupByObject=function(a,b,c,d){return j(i(a,b)).map(function(a){return e(a,c,d)})},f.alias=function(a,b){return function(c){angular.isObject(c)&&a in c&&(c[b]=c[a])}},f.watchOnce=function(a,b,c){var d=a.$watch(b,function(){c.apply(null,arguments),d()})},f.Pager=d,f.Checkboxes=function(a){var d=this;this.idProperty=a||"id",this.reset=f.resetChecked(this),this.reset(),this.rowClick=f.rowClick(this),b.$on(c.checkboxes.reset,function(){d.reset()})},f.Checkboxes.prototype.checkboxChecked=function(a,b){f.checkboxChecked(a,b,this.items,this.idProperty)},f.Checkboxes.prototype.update=function(a){var b=f.itemsChanged(a,this.items,this.idProperty);this.totalChecked=b.totalChecked,this.indeterminate=b.indeterminate,angular.isDefined(b.checked)&&(this.checked=b.checked)},f.Checkboxes.prototype.isChecked=function(a){return a in this.items&&this.items[a]},f.Checkboxes.prototype.getSelected=function(a){var b=this;return a.filter(function(a){return b.isChecked(a[b.idProperty])})},f.Sorter=function(a,b){a?(this.predicate=a.predicate,this.reverse=a.reverse):(this.predicate="",this.reverse=!1),this.cb=b},f.Sorter.prototype.sort=function(a){this.predicate=a,this.reverse=!this.reverse,this.cb&&this.cb()},f.Sorter.prototype.getSortClass=function(b){return a("sortClass")(this.predicate,b,this.reverse)},f.Loader=function(a){this.loading=!1,angular.isDefined(a)?this.deflectWhenLoading=a:this.deflectWhenLoading=!0},f.Loader.prototype.bind=function(a,b){function c(a){return e.loading=!1,a}var d,e=this;return function(){return e.deflectWhenLoading&&e.loading?void 0:(e.loading=!0,d=a.apply(b,arguments),angular.isDefined(d)&&angular.isDefined(d.then)?d.then(c,c):(c(),d))}},f.getNextQueryPrependChar=function(a){var b="?";return a.indexOf("?")>-1&&(b="&"),b},f.addQueryToUrl=function(a,b){var c,d;for(c in b)d=this.getNextQueryPrependChar(a),a+=d+c+"="+b[c];return a},f.getSystemDisplayName=function(a){var b=!1;return a&&(b=a.display_name?a.display_name:a.hostname?a.hostname:"UUID: "+a.system_id),a.displayName=b,b},f.get=function(a,b,c){var d=k(a,b,c);return null===d&&angular.isDefined(c)?c:d},f}e.$inject=["$filter","$rootScope","Events"];var f=a("./"),g=a("lodash/forOwn"),h=a("lodash/upperFirst"),i=a("lodash/groupBy"),j=a("lodash/values"),k=a("lodash/get");d.prototype.update=function(){this.offset=(this.currentPage-1)*this.perPage},d.prototype.reset=function(){this.currentPage=1,this.update()},f.service("Utils",e)},{"./":207,"lodash/forOwn":462,"lodash/get":463,"lodash/groupBy":464,"lodash/upperFirst":514,"lodash/values":515}],230:[function(a,b,c){"use strict";var d=a("lodash/assign"),e=a("lodash/isArray");c.process=function(a,b){a&&e(a)&&b&&b.routeStateConfig&&a.forEach(function(a){var c=b.routeStateConfig[a.name];c&&d(a,c.customConfig)})}},{"lodash/assign":446,"lodash/isArray":471}],231:[function(a,b,c){"use strict";function d(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){function t(){var a=i.getSelectedProduct();"all"===a&&(a=void 0),o.getRules({product:a}).then(function(a){b.stats.rules=a.data,u(a.data)}),o.getSystems({product:a,minSeverity:"CRITICAL"}).then(function(a){b.stats.systems=a.data})}function u(a){var c=void 0;b.categoryTopics=[],g.forEach(function(d){void 0!==(c=a[d])&&c>0&&"all"!==d&&b.categoryTopics.push({id:d,count:c})})}var v=d.params;b.stats={},b.show={extraTopics:!1},i.parseBrowserQueryParams(),i.setShowFilters(!1),i.setSearchTerm(""),n.setDataLoaded(!1),d.transitionTo("app.actions",i.updateParams(v),{notify:!1}),b.QuickFilters=m,b.loader=new s.Loader(!1),b.getSelectedProduct=i.getSelectedProduct;var w=b.loader.bind(function(){return n.reload(),r.reload(i.getSelectedProduct()).then(function(){var a=r.topics.filter(function(a){return"implicit"!==a.ruleBinding});b.featuredTopics=a.slice(0,3),b.extraTopics=a.slice(3)})});b.$on("filterService:doFilter",w),b.$on("osp:deployment_changed",w),b.$on("group:change",w),n.setInitialSeverity(c.initialSeverity),n.setCategory(c.category),n.setRule(null),f.init(c);var x=b.loader.bind(function(){return p.getProductSpecificData().then(function(){n.populateData()}),w()});j.authenticate&&!l.get("loaded")?a.$on("user:loaded",x):x(),b.$on("filterService:doFilter",t),b.$on("group:change",t),t(),j.allowExport&&e.addExportAction(function(){h.getReports()})}d.$inject=["$rootScope","$scope","$stateParams","$state","ActionbarService","ActionsBreadcrumbs","Categories","Export","FilterService","InsightsConfig","InventoryService","PreferenceService","QuickFilters","RhaTelemetryActionsService","Stats","System","SystemsService","TopicService","Utils"],a("../").controller("ActionsCtrl",d)},{"../":241}],232:[function(a,b,c){"use strict";function d(a){var b=f.generate({data:{x:"x",xFormat:"%Y-%m-%dT%H:%M:%S.%LZ",columns:[]},axis:{x:{type:"timeseries",tick:{format:"%Y-%m-%d"}}}});a.reports().success(function(a){var c=a.map(function(a){return a.date}),d=a.map(function(a){return a.total});d.unshift("Totals"),c.unshift("x"),b.load({columns:[c,d]})})}d.$inject=["Analytic"];var e=a("../"),f=a("./../../../bower_components/c3/c3.js");e.controller("AnalyticsCtrl",d)},{"../":241,"./../../../bower_components/c3/c3.js":12}],233:[function(a,b,c){"use strict";function d(a,b,c,d,e,f,g,h,j,k){a.params=i,g.init(a.params),a.announcements=g.announcements,a.canCreate=!1,a.permalink=j.make,d.announcementId&&(a.announcementId=d.announcementId.toString()),a.reload=function(){g.reload(a.params)},h.asyncCurrent(function(b){a.canCreate=b&&k.has(b,k.PERMS.CREATE_ANNOUNCEMENT)}),a.$on("reload:data",a.reload)}function e(a,b,c){a.loadingAnnouncement=!0,c.bySlug(b.slug).then(function(b){a.announcement=b.data,a.loadingAnnouncement=!1})}function f(a,b,c,d,e,f){a.loadingAnnouncement=!0,f.init(),e.byId(d.id).then(function(b){a.announcement=b.data,a.loadingAnnouncement=!1}),a.save=function(){f.updateAnnouncement(a.announcement).success(function(){b.$broadcast("announcement:changed"),c.go("app.announcements")}).error(function(b){a.announcementError=b})}}function g(a,b,c,d){a.announcement={hidden:!1,start:(new Date).toISOString()},a.create=function(){d.createAnnouncement(a.announcement).success(function(){b.$broadcast("announcement:changed"),c.go("app.announcements")}).error(function(b){a.announcementError=b})}}d.$inject=["e","t","n","r","a","i","o","s","c","u"],e.$inject=["e","t","n"],f.$inject=["e","t","n","r","a","i"],g.$inject=["e","t","n","r"],d.$inject=["$scope","$location","$state","$stateParams","$timeout","Announcement","AnnouncementService","User","PermalinkService","PermissionService"],e.$inject=["$scope","$stateParams","Announcement"],f.$inject=["$scope","$rootScope","$state","$stateParams","Announcement","AnnouncementService"],g.$inject=["$scope","$rootScope","$state","Announcement"];var h=a("../"),i={showAll:!0};h.controller("ListAnnouncementCtrl",d),h.controller("ViewAnnouncementCtrl",e),h.controller("EditAnnouncementCtrl",f),h.controller("NewAnnouncementCtrl",g)},{"../":241}],234:[function(a,b,c){"use strict";function d(a,b,c,d){c.asyncCurrent(function(a){b.isContentManager=d.has(a,d.PERMS.CONTENT_MANAGER)}),a.toggleFullScreen=function(){window&&window.jQuery&&window.jQuery("html").toggleClass("fullscreen")}}d.$inject=["$scope","$rootScope","User","PermissionService"],a("../").controller("AppCtrl",d)},{"../":241}],235:[function(a,b,c){"use strict";function d(a,b,c,d,e){a.current={hidden:!0},d.asyncCurrent(function(b){a.user=b}),c.tab&&(a.current.hidden=!1,a.current[c.tab]=!0),a.tabClick=function(a){b.go("app.config",{tab:a},{notify:!1})},a.perms=e}d.$inject=["$scope","$state","$stateParams","User","PermissionService"],a("../").controller("ConfigCtrl",d)},{"../":241}],236:[function(a,b,c){"use strict";function d(a,b,c,d,e,l){function m(a){var b=a[1]-a[0];return b>0?1:0>b?-1:0}function n(a,b,c,d){return{data:[{x:f(a.timeseries,k),y:f(a[b],k),mode:"lines",name:c,line:{width:3,color:d}}],layout:{margin:{t:10,l:40,r:10,b:40},showlegend:!0,legend:{orientation:"h"}},options:{displayModeBar:!1}}}function o(a,b,c){return{current:g(b),direction:m(f(b,2)),icon:c,label:a}}function p(a){return a=f(h(a,function(a){return a.report_count}),10),a=i(a,function(a){return a.report_count>0}),a.reverse(),a}function q(a){return a=h(a,function(a){var b="0000000000"+a.report_count;return b=b.substr((""+a.report_count).length),[l.indexOf(a.severity),b]}).filter(function(a){return a.report_count>0}),a.reverse(),a}function r(a){return j(f(a.resolved,k))}var s=b.digestsByType("eval"),t=c.getSystems(),u=d.getRulesLatest();a.checkboxValues={availability:!0,security:!0,stability:!0,performance:!0},a.timePeriod=function(){return k},a.dateFormat=function(a){var b=new Date(a);return b.getMonth()+"-"+b.getDay()+"-"+b.getFullYear()},a.loading=!0,a.showSystem=e.showSystemModal,Promise.all([s,t,u]).then(function(b){function c(a,b,c){return{x:f(h.timeseries,k),y:f(b,k),type:"scatter",name:a,marker:{color:c}}}var d=b[0],e=b[1],g=b[2],h=d.data.resources[0].data;a.latest_score=f(h.scores,1)[0];var i=Math.ceil((a.latest_score-250)/150)||1;angular.element(document.querySelector(".gauge.gauge-circle.score")).addClass("score_lvl"+i),a.digest_hits_per_cat=[o("Security",h.security,"fa-shield"),o("Availability",h.availability,"fa-hand-paper-o"),o("Stability",h.stability,"fa-cubes"),o("Performance",h.performance,"fa-tachometer")],a.digest_metrics_data=[{x:f(h.timeseries,k),y:f(h.distinct_rules,k),type:"bar",name:"Total Actions",marker:{color:"#c7e7f6"}},c("Security",h.security,"#e77baf"),c("Availability",h.availability,"#f3923e"),c("Stability",h.stability,"#3badde"),c("Performance",h.performance,"#a5d786")],a.digest_metrics={data:angular.copy(a.digest_metrics_data),layout:{margin:{t:10,l:40,r:10,b:40},showlegend:!0,legend:{orientation:"h"}},options:{displayModeBar:!1}},a.digest_registered=n(h,"checkins_per_day","Registered Systems","#97cde6"),a.digest_score=n(h,"scores","Score","#3083FB"),a.systemsTilTen=10-e.data.resources.length,a.topTenWorstSystems=p(e.data.resources),a.topTenRules=p(g.data.resources),a.allRuleHits=q(g.data.resources),a.resolvedIssues=r(h),a.loading=!1})}d.$inject=["$scope","DigestService","System","Rule","InventoryService","Severities"];var e=a("../"),f=a("lodash/takeRight"),g=a("lodash/last"),h=a("lodash/sortBy"),i=a("lodash/filter"),j=a("lodash/sum"),k=30;e.controller("DigestsCtrl",d)},{"../":241,"lodash/filter":456,"lodash/last":486,"lodash/sortBy":501,"lodash/sum":504,"lodash/takeRight":506}],237:[function(a,b,c){"use strict";function d(a,b,c,d){function e(){h(j().type)}function g(){h(k().type)}function h(b){a.loading=!0,d.activate(b).then(function(){return d.getEvaluationStatus().then(function(b){a.loading=!1,a.successfulActivation=!0,a.status=b})})["catch"](function(){a.loading=!1,a.error="Could not activate Insights."})}function i(){window.location="https://access.redhat.com/"}function j(){var b=a.status.available.find(function(a){return a.type.startsWith("sales")});return b||a.status.available.find(function(a){return"self"===a.type})}function k(){return a.status.available.find(function(a){return"legacy"===a.type})}function l(){var b=a.status.current,c=new Date(Date.parse(b.created_at));return c.setDate(c.getDate()+b.duration),c.toDateString()}a.loading=!0,a.successfulActivation=!1,a.cancel=i,a.getExpiration=l,a.getNonLegacyEval=j,a.getLegacyEval=k,a.activateLegacy=g,a.activateNonLegacy=e,function(){d.getEvaluationStatus().then(function(d){var e=c.originalPath;if(e&&(d.purchased||d.current)){var g=f(e);return g.segment(g.segment().slice(1)),void b.url(g.pathname()+g.search())}a.loading=!1,a.status=d})["catch"](function(b){401!==b.status&&(a.loading=!1,a.error="Could not load evaluation status.")})}()}d.$inject=["$scope","$location","$stateParams","Evaluation"];var e=a("../"),f=a("urijs");e.controller("EvaluationCtrl",d)},{"../":241,urijs:776}],238:[function(a,b,c){"use strict";function d(a,b,c){b.setSections(c)}d.$inject=["$scope","GettingStarted","sections"],a("../").controller("GettingStartedCtrl",d)},{"../":241}],239:[function(a,b,c){"use strict";function d(a,b,c){a.sections=c.sections,b.scroll()}d.$inject=["$scope","PermalinkService","GettingStarted"],a("../").controller("GettingStartedRootCtrl",d)},{"../":241}],240:[function(a,b,c){"use strict";function d(){}a("../../").controller("ComponentsCtrl",d)},{"../../":241}],241:[function(a,b,c){"use strict";b.exports=angular.module("insights.states",[]),function(){var b=a("./index.js");b.actions={"actions.controller":a("./actions/actions.controller.js")},b.analytics={"analytics.controller":a("./analytics/analytics.controller.js")},b.announcements={"announcements.controller":a("./announcements/announcements.controller.js")},b.base={"app.controller":a("./base/app.controller.js")},b.config={"config.controller":a("./config/config.controller.js")},b.digests={"digests.controller":a("./digests/digests.controller.js")},b.evaluation={"evaluation.controller":a("./evaluation/evaluation.controller.js")},b["getting-started"]={"getting-started.controller":a("./getting-started/getting-started.controller.js"),"getting-started.root.controller":a("./getting-started/getting-started.root.controller.js")},b.hidden={components:{"components.controller":a("./hidden/components/components.controller.js")}},b.index=a("./index.js"),b.info={"info.controller":a("./info/info.controller.js")},b.initial={"initial.controller":a("./initial/initial.controller.js")},b.inventory={"inventory.controller":a("./inventory/inventory.controller.js")},b.invites={"invites.controller":a("./invites/invites.controller.js")},b.login={"login.controller":a("./login/login.controller.js")},b.maintenance={"maintenance.controller":a("./maintenance/maintenance.controller.js")},b.overview={"overview.controller":a("./overview/overview.controller.js")},b.rules={"list.rules.controller":a("./rules/list.rules.controller.js")},b.security={"security.controller":a("./security/security.controller.js")},b.splash={"splash.controller":a("./splash/splash.controller.js")},b.topics={controllers:{"edit.topics.controller":a("./topics/controllers/edit.topics.controller.js"),"list.topics.controller":a("./topics/controllers/list.topics.controller.js"),"topic.admin.controller":a("./topics/controllers/topic.admin.controller.js")}}}()},{"./actions/actions.controller.js":231,"./analytics/analytics.controller.js":232,"./announcements/announcements.controller.js":233,"./base/app.controller.js":234,"./config/config.controller.js":235,"./digests/digests.controller.js":236,"./evaluation/evaluation.controller.js":237,"./getting-started/getting-started.controller.js":238,"./getting-started/getting-started.root.controller.js":239,"./hidden/components/components.controller.js":240,"./index.js":241,"./info/info.controller.js":242,"./initial/initial.controller.js":243,"./inventory/inventory.controller.js":244,"./invites/invites.controller.js":245,"./login/login.controller.js":246,"./maintenance/maintenance.controller.js":247,"./overview/overview.controller.js":248,"./rules/list.rules.controller.js":249,"./security/security.controller.js":250,"./splash/splash.controller.js":251,"./topics/controllers/edit.topics.controller.js":252,"./topics/controllers/list.topics.controller.js":253,"./topics/controllers/topic.admin.controller.js":254}],242:[function(a,b,c){"use strict";function d(a){a.scroll()}d.$inject=["PermalinkService"],a("../").controller("InfoCtrl",d)},{"../":241}],243:[function(a,b,c){"use strict";function d(a,b){return f.doOverview(b)}d.$inject=["Report","$state"];var e=a("../"),f={};f.doOverview=function(a){a.go("app.overview",{},{location:"replace"})},f.doLegacy=function(a,b,c,d){var e="app.actions";a.headReports().success(function(a){a.headers(d.resourceCount)<=0&&(e="app.inventory")})["finally"](function(){b.go(e,{},{location:"replace"})})},e.controller("InitialCtrl",d)},{"../":241}],244:[function(a,b,c){"use strict";function d(a,b,c,d,e,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){function y(){d.checkboxes.reset()}function z(){d.loading=!0,l.getSystemTypesAsync().then(function(){B(!1)})}function A(a){var b=p.buildRequestQueryParams();return p.getOffline()!==p.getOnline()&&(b.offline=p.getOffline().toString()),p.getSearchTerm()&&(b.search_term=p.getSearchTerm()),j.getSortField()&&(b.sort_by=j.getSortField()),j.getSortDirection()&&(b.sort_dir=j.getSortDirection()),a&&(b.page_size=j.getPageSize(),b.page=j.getPage()),b}function B(a){function b(b){p.getParentNode()||b.resources,a?(d.systems=d.systems.concat(b.resources),j.setIsScrolling(!1),j.setTotal(b.total)):(d.systems=b.resources,j.setTotal(b.total)),l.systems=d.systems}d.loading=!0,a||(d.reloading=!0,j.goToPage(0));var c=A(!0),e=null;null!==p.getParentNode()?(c.includeSelf=!0,e=i.getSystemLinks(p.getParentNode(),c)):e=i.getSystemsLatest(c),e.success(b).error(function(){d.errored=!0})["finally"](function(){j.loading=d.loading=d.reloading=!1})}function C(){d.checkboxes.update(d.getSelectableSystems()),G()!==d.systems.length||d.loading?d.allSelected=!1:d.allSelected=!0,F()}function D(a,b){d.reallyAllSelected&&d.checkboxes.checkboxChecked(!0,h(a,b))}function E(){d.systems=a("orderBy")(d.systems,["_type",d.sorter.reverse?"-"+d.sorter.predicate:d.sorter.predicate])}function F(){d.systems.length===j.getTotal()?d.totalSystemsSelected=G():d.reallyAllSelected?(d.totalSystemsSelected=j.getTotal(),d.totalSystemsSelected-=Object.keys(d.checkboxes.items).length-G()):d.totalSystemsSelected=G()}function G(){return d.systems.filter(function(a){return d.checkboxes.items.hasOwnProperty(a.system_id)&&!0===d.checkboxes.items[a.system_id]}).length}function H(a){J||(J=b.open(a),J.result["finally"](function(){J=null}))}d.getSystemName=t.getSystemDisplayName,d.showActions=j.showSystemModal,d.listTypes=u.types(),d.setListType=u.setType,p.setSearchTerm(""),p.setShowFilters(!1);var I=e.params;e.transitionTo("app.inventory",function(a){return a=p.updateParams(a),a.sort_field||(a.sort_field=j.getSortField()),a.sort_dir||(a.sort_dir=j.getSortDirection()),a}(I),{notify:!1}),d.QuickFilters=q,d.systems=[],d.allSystems=null,d.errored=!1,d.actionFilter=null,d.loading=j.loading,d.reloading=!1,d.sorter=new t.Sorter(!1,E),d.sorter.predicate="toString",d.allSelected=!1,d.reallyAllSelected=!1,d.$on("reload:data",function(){y(),z()}),d.$on("group:change",function(){y(),z()}),d.$on("filterService:doFilter",function(){y(),B(!1)}),d.$on("osp:deployment_changed",function(){y(),z()}),d.$on("systems:unregistered",function(){y(),z()});var J=null;if(d.isPortal=m.isPortal,d.applyActionFilter=function(a){d.actionFilter=a},d.doScroll=function(){j.nextPage(),j.setIsScrolling(!0),B(!0)},d.disableScroll=function(){var a=!1;return(j.getIsScrolling()||!d.systems||d.systems.length>=j.getTotal())&&(a=!0),a},function(){p.parseBrowserQueryParams(),I.sort_field&&(j.setSortField(I.sort_field),I.sort_dir&&j.setSortDirection(I.sort_dir))}(),i.getProductSpecificData(),m.authenticate&&!r.get("loaded")?c.$on("user:loaded",function(){z()}):z(),d.getSelectableSystems=function(){return d.systems},d.checkboxes=new t.Checkboxes("system_id"),F(),d.$watchCollection("checkboxes.items",C),d.$watchCollection("systems",D),d.canUnregisterSystem=function(a){var b=!0,c=[{product_code:"osp",role:"compute"},{product_code:"osp",role:"controller"},{product_code:"osp",role:"director"},{product_code:"docker",role:"image"},{product_code:"docker",role:"container"},{product_code:"rhev",role:"manager"},{product_code:"rhev",role:"hypervisor"}],d=g(l.getSystemTypeUnsafe(a.system_type_id),"product_code","role");return f(c,d)&&(b=!1),b},d.sort=function(a){d.loading=!0,d.predicate=a,a===j.getSortField()?(j.toggleSortDirection(),d.reverse=!d.reverse):(j.setSortField(a),j.setSortDirection("ASC"),d.reverse=!1,"last_check_in"===a&&j.setSortDirection("DESC")),d.systems.length===j.getTotal()?(d.sorter.predicate=a,d.sorter.reverse=d.reverse,E(),d.loading=!1):(y(),B(!1))},d.selectAll=function(){d.allSelected=!d.allSelected,d.reallyAllSelected&&(d.reallyAllSelected=!1)},d.reallySelectAll=function(){null===d.allSystems?(d.loading=!0,function(){var a=A(!1),b=null;return null!==p.getParentNode()?(a.includeSelf=!0,b=i.getSystemLinks(p.getParentNode(),a)):b=i.getSystemsLatest(a),b}().then(function(a){d.allSystems=a.data.resources,d.reallyAllSelected=!0,d.totalSystemsSelected=d.allSystems.length,d.loading=!1})):(d.reallyAllSelected=!0,d.totalSystemsSelected=d.allSystems.length)},d.totalSystems=function(){return j.getTotal()},d.allSystemsShown=function(){return j.getTotal()===d.systems.length},d.registerSystem=function(){var a=!1;s.asyncCurrent(function(b){a=b.current_entitlements?b.current_entitlements.systemLimitReached:!b.is_internal,b.current_entitlements&&b.current_entitlements.unlimitedRHEL&&(a=!1)}),H({templateUrl:"js/components/system/addSystemModal/"+(a?"upgradeSubscription.html":"addSystemModal.html"),windowClass:"system-modal ng-animate-enabled",backdropClass:"system-backdrop ng-animate-enabled",controller:"AddSystemModalCtrl"})},m.allowExport&&v.addExportAction(function(){var a=void 0;p.getOnline()&&!p.getOffline()&&(a=!1),!p.getOnline()&&p.getOffline()&&(a=!0),w.getSystems(x.current().id,a,p.getSearchTerm())}),I.machine){var K={system_id:I.machine};d.showActions(K,!0)}}d.$inject=["$filter","$modal","$rootScope","$scope","$state","System","InventoryService","MultiButtonService","SystemsService","InsightsConfig","ReloadService","Account","FilterService","QuickFilters","PreferenceService","User","Utils","ListTypeService","ActionbarService","Export","Group"];var e=a("../"),f=a("lodash/find"),g=a("lodash/pick"),h=a("lodash/difference");e.controller("InventoryCtrl",d)},{"../":241,"lodash/difference":453,"lodash/find":457,"lodash/pick":495}],245:[function(a,b,c){"use strict";function d(a,b,c){function d(){a.failedInvite=null,a.successfulInvite=null}var e=[{type:"sales100",systems:100},{type:"sales250",systems:250},{type:"sales500",systems:500},{type:"sales750",systems:750},{type:"sales1000",systems:1e3}];a.data={},a.evals=e,a.data.newInvite=e[0],a.loading=!0,c.asyncCurrent(function(b){a.forbidden=!b.is_internal,a.loading=!1}),a.reset=d,a.createNewInvite=function(){if(a.successfulInvite=null,!a.data.account)return void alert("Account Number cannot be blank");var c={account_number:a.data.account,email:a.data.email,type:a.data.newInvite.type};a.loading=!0,b.create(c).then(function(){a.successfulInvite=c,a.data.account=null,a.data.email=null})["catch"](function(b){a.failedInvite=c,a.error=b})["finally"](function(){a.loading=!1})}}d.$inject=["$scope","EvaluationInvite","User"],a("../").controller("InvitesCtrl",d)},{"../":241}],246:[function(a,b,c){"use strict";function d(a){return window.LOGGED_IN?a.go("app.initial"):void(window.location="https://www.redhat.com/wapps/sso/login.html?redirect="+window.encodeURIComponent(window.location.toString()))}d.$inject=["$state"],a("../").controller("LoginCtrl",d)},{"../":241}],247:[function(a,b,c){"use strict";function d(a,b){this.items={},this.$state=a,this.$stateParams=b}function e(a,b,c,d){this.active=!1,this.plan=a,this.Maintenance=b,this.Utils=c,this.cb=d}function f(a,b,c,f,g,n,o,p,q,r,s){function t(b){return g.plans.create(b).then(function(b){a.scrollToPlan(b.maintenance_id)})}function u(){a.redrawPlans()}if(a.BasicEditHandler=e,a.isDefined=angular.isDefined,a.loader=new c.Loader,a.MaintenanceService=g,a.calendarDates=[],a.refreshCalendar=function(){a.calendarDates=g.plans.all.filter(function(a){return angular.isDefined(a.start)}).map(function(a){return k(a.start)})},a.plans=g.plans,a.edit=new d(q,f),a.loadPlans=a.loader.bind(function(b){return g.plans.load(b).then(function(){if(1===Object.keys(a.edit.items).length){var b=Object.keys(a.edit.items)[0];a.scrollToPlan(b)}})}),a.scrollToPlan=function(b,c){var d=c||g.plans.findCategory(b);a.setCategory(d),a.edit.activate(b),p.scroll("maintenance-plan-"+b)},a.redrawPlans=function(){var b=a.category||m,c=g.plans[b];if("future"===a.category||"past"===a.category){c=i(c,"start");var d=j(h(c,function(a){var b=k(a.start);return b.year()+"-"+b.month()}));"past"===b&&d.reverse(),a.shownPlansByMonth=d}else c=i(c,"maintenance_id");a.shownPlans=c},a.category=o.get(l)||m,f.maintenance_id){var v=parseInt(f.maintenance_id);isNaN(v)||a.edit.activate(v)}a.setCategory=function(b,c){b&&(a.category=b,o.set(l,a.category,!1),a.redrawPlans(),c||a.edit.reset())},a.broadcast=function(b){a.$broadcast(b)},a.newSuggestion=function(){return t({suggestion:b.SUGGESTION.PROPOSED,hidden:!0})},a.$watchCollection("plans.all",u),a.loadPlans(!0),s.getSystemTypesAsync().then(function(b){a.systemTypes=b}),r.$on("reload:data",function(){a.loader.loading=!1,a.loadPlans(!0)})}f.$inject=["$scope","Maintenance","Utils","$stateParams","MaintenanceService","$filter","PreferenceService","PermalinkService","$state","$rootScope","SystemsService"];var g=a("../"),h=a("lodash/groupBy"),i=a("lodash/sortBy"),j=a("lodash/values"),k=a("./../../../bower_components/moment-timezone/builds/moment-timezone-with-data-2010-2020.js"),l="maintenance_plan_category",m="unscheduled";d.prototype.isActive=function(a){return a in this.items},d.prototype.toggle=function(a){this.isActive(a)?this.deactivate(a):this.activate(a)},d.prototype.reset=function(){this.items={},this.transition()},d.prototype.activate=function(a){this.items={},this.items[a]=!0,this.updateUrl()},d.prototype.deactivate=function(a){delete this.items[a],this.updateUrl()},d.prototype.updateUrl=function(){var a=Object.keys(this.items);1===a.length?this.transition(a[0]):this.transition()},d.prototype.transition=function(a){this.$state.transitionTo(this.$state.current,{maintenance_id:a},{notify:!1,reload:!1,location:"replace"})},e.prototype.init=function(){if(this.plan)if(this.name=this.plan.name,this.description=this.plan.description,this.plan.start){this.start=k(this.plan.start);var a=this.start;this.time=new Date(a.year(),a.month(),a.day(),a.hour(),a.minute()),this.duration=Math.round((this.plan.end-this.plan.start)/6e4)}else this.start=null,this.time=null,this.duration=null;else this.name="",this.description="",this.start=k().startOf("day"),this.dateChanged(this.start)},e.prototype.dateChanged=function(a){a&&!this.time&&(this.time=new Date(this.start.year(),this.start.month(),this.start.day(),22,0),this.duration=60,this.sync())},e.prototype.sync=function(){this.start&&this.time&&(this.start.hours(this.time.getHours()),this.start.minutes(this.time.getMinutes()))},e.prototype.toggle=function(){this.active||this.init(),this.active=!this.active},e.prototype.getStart=function(){return this.start?this.start.clone().toDate():null},e.prototype.getEnd=function(){return this.start?this.start.clone().add(Math.max(this.duration,1),"m").toDate():null},e.prototype.save=function(){return this.sync(),this.cb?this.cb(this.name,this.description,this.getStart(),this.getEnd(),this):void 0},g.controller("MaintenanceCtrl",f)},{"../":241,"./../../../bower_components/moment-timezone/builds/moment-timezone-with-data-2010-2020.js":14,"lodash/groupBy":464,"lodash/sortBy":501,"lodash/values":515}],248:[function(a,b,c){"use strict";function d(a,b,c,d,e,f,g){function h(a){e.plans.load(a)}function i(){g.getRules({include:"ansible"}).then(function(b){a.stats.rules=b.data})}a.stats={},b.asyncCurrent(function(b){a.paid=function(){var a=b.current_entitlements,c=!1;return a&&(a.whitelist&&(a.whitelist.rhel||a.whitelist.osp)?c=!0:a.unlimitedRHEL?c=!0:Array.isArray(a.skus)&&void 0!==a.skus.find(function(a){return a.skuName!==d})&&(c=!0)),c}}),a.edit=function(){c.open({templateUrl:"js/components/overview/articleModal/articleModal.html",windowClass:"handcrafted-content-modal ng-animate-enabled",backdropClass:"system-backdrop ng-animate-enabled",controller:"ArticleModalCtrl"})},h(!1),f.$on("reload:data",function(){h(!0)}),i(),a.$on("group:change",i)}d.$inject=["$scope","User","$modal","TrialSku","MaintenanceService","$rootScope","Stats"],a("../").controller("OverviewCtrl",d)},{"../":241}],249:[function(a,b,c){"use strict";function d(a,b,c,d,e,g,h,i,j,k,l,m){function n(b){return a("filter")(d._rules,{category:b})}function o(){var a=r[d.tab];a&&a()}function p(){var a=[],c=h.buildRequestQueryParams();c.include="article";var e=m.getRulesLatest(c).success(function(a){d._rules=f(a.resources,function(a){return"insights_heartbeat|INSIGHTS_HEARTBEAT"===a.rule_id}),j.scroll(null,30)}).error(function(){d.errored=!0});a.push(e),b.all(a).then(function(){d.loading=!1})}h.parseBrowserQueryParams(),h.setShowFilters(!1),h.setSearchTerm(""),d.QuickFilters=l;var q=e.params;e.transitionTo("app.rules",h.updateParams(q),{notify:!1});var r={All:function(){d.rules=d._rules},availability:function(){d.rules=n("Availability")},performance:function(){d.rules=n("Performance")},stability:function(){d.rules=n("Stability")},security:function(){d.rules=n("Security")}};d.canIgnoreRules=!0,d.hideIgnored=!1,"boolean"==typeof i.canIgnoreRules?d.canIgnoreRules=i.canIgnoreRules:"function"==typeof i.canIgnoreRules&&(d.canIgnoreRules=!1,i.canIgnoreRules(function(a){d.canIgnoreRules=a})),d.setHideIgnored=function(a){d.hideIgnored=a},k.get("loaded")?d.setHideIgnored(k.get("hide_ignored_rules")):d.$on("user:loaded",function(){var a=k.get("hide_ignored_rules");d.setHideIgnored(a)}),d.filter="",d.categoryNames=["All","availability","stability","performance","security"],d.tab="All",d.loading=!0,d.errored=!1,d.$watchCollection("_rules",o),d.permalink=j.make,d.activateTab=function(a){d.tab=a,o()},d.buttonGroupClass=function(a){return d.tab===a?"btn-default":"btn-secondary"},d.toggle=function(a){d.tab=a,o()},d.filterClass=function(a){return d.tab===a?"filter-on":void 0},d.persistHideIgnored=function(){k.set("hide_ignored_rules",d.hideIgnored,!0)},d.getClusterImpactedText=function(a){return a.impacted_systems>0?"OpenStack Deployment Impacted":"OpenStack Deployment not Impacted"},d.$on("filterService:doFilter",p),i.authenticate&&!k.get("loaded")?c.$on("user:loaded",p):p()}d.$inject=["$filter","$q","$rootScope","$scope","$state","Cluster","FilterService","InsightsConfig","PermalinkService","PreferenceService","QuickFilters","Rule"];var e=a("../"),f=a("lodash/reject");e.controller("ListRuleCtrl",d)},{"../":241,"lodash/reject":498}],250:[function(a,b,c){"use strict";function d(){}a("../").controller("SecurityCtrl",d)},{"../":241}],251:[function(a,b,c){"use strict";function d(a,b){a.logged_in=window.LOGGED_IN,window.LOGGED_IN&&b.current&&b.current.bounceLoggedin&&b.go("app.initial",{},{location:"replace"}),jQuery("body").addClass("landing-page"),a.$on("$destroy",function(){jQuery("body").removeClass("landing-page")})}d.$inject=["$scope","$state"],a("../").controller("SplashCtrl",d)},{"../":241}],252:[function(a,b,c){"use strict";function d(a,b,c,d,e,m,n,o,p,q){function r(b){var c=h(b,["id","title","summary","content","hidden","listed","tag","category","slug","severity"]);return"tagged"===a.ruleBinding?c.category=c.severity=null:"implicit"===a.ruleBinding?c.tag=null:"explicit"===a.ruleBinding&&(c.tag=c.category=c.severity=null,
c.rules=b.rules.map(function(a){return{rule_id:a.rule_id}})),c}function s(){o.onbeforeunload=void 0,v()}a.categories=n.slice(1).map(function(a){return{id:l(a),label:l(a)}}),a.categories.unshift({id:null,label:"Any category"}),a.severities=[{id:"CRITICAL",label:"Critical"},{id:"ERROR",label:"High"},{id:"WARN",label:"Medium"},{id:"INFO",label:"Low"}],a.severities.unshift({id:null,label:"Any Risk"}),a.error={},a.selectedRule="RULE_ID";var t=c.admin().then(function(b){a.availableRules=b.data.filter(function(a){return a.rule.active&&!a.rule.retired}).map(function(a){return m.readRule(a.rule),a.rule.count=a.count,a.rule})});a.$watchGroup(["topic.category","topic.severity","availableRules"],function(){if(a.topic&&a.availableRules){if(!a.topic.category&&!a.topic.severity)return void(a.implicitRules=[]);var b=a.topic.category,c=a.topic.severity;a.implicitRules=a.availableRules.filter(function(a){return!(b&&b!==a.category||c&&c!==a.severity)})}}),a.availableTags=[],a.select={},b.get(e.id).then(function(b){a.topic=b.data,a.ruleBinding=a.topic.ruleBinding,a.topic.rules.forEach(function(a){m.readRule(a)}),"explicit"===a.ruleBinding?a.topic.rules=k(a.topic.rules,"severityNum").reverse():a.topic.rules=[],a.ruleBinding=a.topic.ruleBinding,a.updateTaggedRules()}),c.getAvailableTags().then(function(b){a.availableTags=g(b.data,"name")}),a.update=function(c){var d=r(c);b.update(d).then(a.goBack,function(b){a.error={},400===b.status&&b.data.fields&&(a.error=b.data.fields)})},a.goBack=function(){s(),d.go("app.admin-topic")},a.addRule=function(b){a.topic.rules.push(b),delete a.select.rule},a.removeRule=function(b){i(a.topic.rules,function(a){return a.rule_id===b.rule_id})},a.getAvailableRules=function(){return a.topic&&a.topic.rules&&a.topic.rules.length?j(a.availableRules,function(b){return f(a.topic.rules,function(a){return b.rule_id===a.rule_id})}):a.availableRules},a.updateTaggedRules=function(){a.topic.tag&&t.then(function(){a.taggedRules=a.availableRules.filter(function(b){return f(b.tags,{name:a.topic.tag})})})};var u="Do you want to leave this form? Changes you made might not be saved.";o.onbeforeunload=function(){return u};var v=p.$on("$stateChangeStart",function(a){confirm(u)||a.preventDefault(),s()});a.preview=function(a,b,c){var d=r(a);q.open({templateUrl:"js/components/topics/topicPreviewModal/topicPreviewModal.html",windowClass:"topic-preview-modal ng-animate-enabled",backdropClass:"system-backdrop ng-animate-enabled",controller:"TopicPreviewModalCtrl",resolve:{topic:function(){return d},summary:function(){return b},details:function(){return c}}})}}d.$inject=["$scope","Topic","Rule","$state","$stateParams","DataUtils","Categories","$window","$rootScope","$modal"];var e=a("../../"),f=a("lodash/find"),g=a("lodash/map"),h=a("lodash/pick"),i=a("lodash/remove"),j=a("lodash/reject"),k=a("lodash/sortBy"),l=a("lodash/capitalize");e.controller("EditTopicCtrl",d)},{"../../":241,"lodash/capitalize":447,"lodash/find":457,"lodash/map":487,"lodash/pick":495,"lodash/reject":498,"lodash/remove":499,"lodash/sortBy":501}],253:[function(a,b,c){"use strict";function d(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(){b.go("app.actions")}function o(){var b=void 0;"all"!==f.getSelectedProduct()&&(b=f.getSelectedProduct()),e.get(d.id,b).success(function(b){return b.hidden&&!a.isInternal?n():(a._topic=b,b.rules.forEach(g.readRule),j.init(d),j.add({label:b.title,state:"app.topic",params:{id:d.id}}),i.scroll(null,30),a.topic=a._topic,a.loading=!1,void 0)})["catch"](function(b){return 404===b.status?n():void(a.errored=!0)})}f.parseBrowserQueryParams(),f.setShowFilters(!1),a.loading=!0,a.QuickFilters=h,c.$on("reload:data",o),a.$on("group:change",o),o(),k.allowExport&&l.addExportAction(function(){m.getReports(d.id)})}d.$inject=["$scope","$state","$rootScope","$stateParams","Topic","FilterService","DataUtils","QuickFilters","PermalinkService","ActionsBreadcrumbs","InsightsConfig","ActionbarService","Export"],a("../../").controller("TopicRuleListCtrl",d)},{"../../":241}],254:[function(a,b,c){"use strict";function d(a,b,c,d,e){function f(){if(angular.isDefined(a.topics))for(var b=0;b<a.topics.length;b++)a.topics[b].priority=b}function g(a,b){c.update({id:a.id,hidden:b}).then(function(){a.hidden=b})}function h(a,c,d,e){b.swal({title:a,text:c,type:"warning",html:!0,confirmButtonColor:"#DD6B55",confirmButtonText:d,showCancelButton:!0},function(a){a&&e()})}a.loader=new e.Loader,a.loader.bind(function(){return c.admin().then(function(b){a.topics=b.data})})(),a.$watchCollection("topics",f),a.newTopic=function(){c.create({title:"Unnamed topic"}).then(function(a){d.go("app.edit-topic",{id:a.data.id})})},a.move=function(b,d){if(!(0===b.priority&&d||b.priority===a.topics.length-1&&!d)){var e=(d?-1:1)+b.priority,g=a.topics[b.priority]=a.topics[e],h=a.topics[e]=b;f(),c.update({id:g.id,priority:g.priority}),c.update({id:h.id,priority:h.priority})}},a["delete"]=function(b){h("Are you sure?","Topic will be lost.","Yes",function(){c.remove(b.id).then(function(){a.topics.splice(a.topics.indexOf(b),1)})})},a.hide=function(a,b){return b?void g(a,b):h("Are you sure?","Publishing this topic makes it visible to customers.","Publish",function(){g(a,b)})}}d.$inject=["$scope","SweetAlert","Topic","$state","Utils"],a("../../").controller("TopicAdminCtrl",d)},{"../../":241}],255:[function(a,b,c){"use strict";b.exports=angular.module("insights.templates",[]).run(["$templateCache",function(a){a.put("js/components/accountSelect/accountSelect.html",'<div ng-show="showAccountSelector()" class="header-block account-select"><div class="tam"><div class="account-number"><label>Account Number</label><div ng-click="reset()" class="fa fa-home pull-right pointer"></div><div ng-click="accountChange(account_number)" class="fa fa-refresh pull-right tam-icon pointer"></div><input ng-model="account_number" ng-keyup="$event.keyCode == 13 &amp;&amp; accountChange(account_number)" class="accNumbInput"/></div><div class="internal"><label><span class="icon-inline"><div class="fa fa-eye"></div></span>Internal</label><input type="checkbox" ng-model="isInternal" ng-change="changeInternal()" class="pull-right action"/></div></div></div>'),a.put("js/components/actionbar/actionbar.html",'<div class="actionbar"><button ng-repeat="action in myActions" ng-click="action.fn()" class="action btn btn-sm btn-open-blue"><i ng-class="action.icon" class="pointer fa"></i>{{action.title | translate}}</button></div>'),a.put("js/components/actions/actions.html",'<div class="chart-container"><span ng-show="loading" class="preloader"></span><div class="donut-container"><div class="donut-hole"><div class="content"><span class="num">{{getTotal()}}</span><div translate="translate" translate-n="getTotal()" translate-plural="Actions" class="text">Action</div></div></div><div class="rha-telemetry-donut"></div><div class="row row-tall"></div><div class="col-sm-10 col-sm-offset-1"><p translate="translate">Use this chart to drill down and discover problems within your organization.</p><hr/><p ng-if="isActions()" translate="translate" translate-n="getTotal()" translate-plural="There are &lt;strong&gt;{{$count}}&lt;/strong&gt; actions detected from systems in your organization." class="light"> \nThere is <strong>1 </strong>action detected from systems in your organization.</p><p ng-if="!isActions()" translate="translate" translate-n="getTotal()" translate-plural="There are &lt;strong&gt;{{$count}}&lt;/strong&gt; {{getCategory()|translate}} actions detected from systems in your organization." class="light"> \nThere is <strong>1</strong>{{getCategory() | translate}} action detected from systems in your organization.</p></div></div></div>'),a.put("js/components/ansibleIcon/ansibleIcon.html",'<i tooltip="{{tooltip}}" class="svg ansible-icon"><img ng-src="{{icon}}" alt="{{tooltip}}"/></i>'),a.put("js/components/betaSwitchButton/betaSwitchButton.html",'<div class="beta-switch"><a ng-click="switchVersion(true)" ng-show="!isOnBeta()" class="btn btn-default"><!-- The default "take me to the Beta page" option--><span translate="translate">Try Insights Beta</span></a><a ng-show="isOnBeta() &amp;&amp; !isOptedIn()" ng-click="switchStatus(true)"><!-- in this case we are on Beta, but it is not our default--><span translate="translate">Default to</span><span translate="translate" class="btn btn-blue">Beta</span></a><a ng-click="leaveBeta()" ng-show="isOnBeta() &amp;&amp; isOptedIn()"><!-- in this case the user is on Beta and Opted in... if they click they want to leave the Beta experience--><span translate="translate">Leave</span><span translate="translate" class="btn">Beta</span></a></div>'),a.put("js/components/bullhorn/bullhorn.html",'<span dropdown="" on-toggle="toggled(open)" class="dropdown dropdown-notification"><a href="" dropdown-toggle="" class="dropdown-toggle"><i class="fa {{icon}}"></i><span ng-if="unackedCount !== 0" class="count">{{unackedCount}}</span></a><ul class="dropdown-menu preview"><li ng-repeat="item in items" ng-class="{ acked: (item.acked) }" ng-click="item.acked ? selectAnnouncement(item) : ack(item)" class="announcement"><div class="row"><div class="col-sm-12"><b>{{item.title}}</b><div class="message-status-toggle"><i ng-if="item.acked" class="fa fa-check-circle-o acked"></i><i ng-if="!item.acked" class="fa fa-circle-o"></i></div></div></div><div class="row"><div class="col-sm-12"><div class="message">{{item.body.length > 140 ? item.body.substring(0, 140) + \'...\' : item.body.substring(0, item.body.length)}}</div></div></div></li><li ng-if="items.length === 0"><strong translate="translate">You have no announcements</strong></li><li ng-if="items.length !== 0" class="view-all"><a ui-sref="app.announcements" translate="translate" class="btn btn-accent">View All</a></li></ul></span>'),a.put("js/components/card/card.html",'<div class="content-block content-block-card"><div ng-click="toggleContent()" ng-if="expandable" class="expandable-toggle hidden-xs"><i class="fa fa-caret-right"></i></div><div ng-transclude="ng-transclude"></div></div>'),a.put("js/components/card/cardContent.html",'<div ng-hide="card.expandable &amp;&amp; (card.collapsed || card.loading)" class="content"><div ng-show="card.loading" ng-if="card.expandable" class="spinner spinner-xs"></div><div ng-transclude="ng-transclude"></div></div>'),a.put("js/components/card/cardFooter.html",'<button ng-click="card.toggleContent()" class="btn btn-accent footer footer-with-toggle visible-xs"><div class="footer-toggle"><i class="fa fa-caret-down"></i></div><div ng-transclude="ng-transclude"></div></button>'),a.put("js/components/card/cardHeader.html",'<header class="header"><!-- we do this click wrap junk because angular adds clickable styles to--><!-- an ng-click (hand pointer), and we cant remove the ng-click itself conditionally--><div ng-click="card.toggleContent()" ng-if="$parent.expandable" class="click-wrap"><div ng-transclude="ng-transclude"></div></div><div ng-transclude="ng-transclude" ng-if="!$parent.expandable"></div></header>'),a.put("js/components/categoryIcon/categoryIcon.html",'<i ng-class="category.toLowerCase() + \'-category-icon\'" class="fa"></i>'),a.put("js/components/demoAccountSwitcher/demoAccountSwitcher.html",'<div class="demo-account-switcher"><a ng-show="showDemoSwitcher() &amp;&amp; !demoAccountEnabled" ng-click="toggleDemoAccount()" translate="translate">Enable Demo Account</a><a ng-show="showDemoSwitcher() &amp;&amp; demoAccountEnabled" ng-click="toggleDemoAccount()" translate="translate">Disable Demo Account</a></div>'),a.put("js/components/digest/digestGraph.html",'<div class="graph-container"><div ng-if="dropDown" class="graph graph-filters"><div class="row"><div class="col-sm-3 col-sm-offset-9"><div class="dropdown show"><a data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><div translate="translate">{{dropDown}}</div><span class="caret"></span></a><ul class="dropdown-menu"><li ng-repeat="trace in traces" ng-click="$event.stopPropagation()"><label class="checkbox-inline"><input type="checkbox" name="availability" ng-model="trace.enabled" ng-click="toggleTrace(trace)"/><div translate="translate">{{trace.name}}</div></label></li></ul></div></div></div></div><div class="digest-graph"></div></div>'),a.put("js/components/expandAllButton/expandAllButton.html",'<a ng-click="onClick()"><strong translate="translate" ng-hide="expand">Collapse All</strong><strong translate="translate" ng-show="expand">Expand All</strong><i ng-class="{\'fa-compress\': !expand, \'fa-expand\': expand}" class="fa inline-left"></i></a>'),a.put("js/components/feedback/feedbackButton.html",'<a ng-click="openFeedbackPage()" class="btn"><i aria-hidden="true" class="fa fa-comments"></i><strong translate="translate" class="small">Provide feedback</strong></a>'),a.put("js/components/feedback/feedbackModal.html",'<div class="page"><div class="section"><div class="row push-top"><div class="col-sm-12"><!-- This needs form validation--><form name="form"><div class="form-group"><label translate="translate" class="control-label">Page Reported</label><p class="form-control-static">{{ feedbackInfo.fromPage }}</p></div><div class="form-group"><label translate="translate" class="control-label">Email</label><p translate="translate">{{ feedbackInfo.user.email }}&nbsp;<small translate="translate">(to change your Red Hat email address&nbsp;<a translate="translate" href="https://www.redhat.com/wapps/ugc/protected/emailChange.html">click here</a>)</small></p><input ng-if="emailOverride" type="email" ng-model="feedbackInfo.user.email" class="form-control"/></div><div class="form-group"><label translate="translate" class="control-label">Comment</label><textarea type="text" rows="5" ng-model="comment" class="form-control"></textarea></div><div class="pull-right"><small ng-show="isError" translate="translate" class="text-danger">An error occurred. Please try again later.&nbsp;</small><div class="btn-group"><button name="cancel" ng-click="close()" translate="translate" class="btn btn-accent">Cancel</button><button name="submit" ng-click="submitForm()" ng-disabled="!form.$valid || !isCommentPopulated()" translate="translate" class="btn btn-accent">Submit</button></div></div></form></div></div></div></div>'),a.put("js/components/gettingStartedTabs/gettingStartedTabs.html",'<nav class="system-selector"><div class="row"><div class="col-lg-5"><h4 translate="translate">Select your registration method</h4></div><div class="col-lg-7 nomari"><div class="filters"><button ui-sref="info.getting-started.direct" ui-sref-active="active" ui-sref-opts="{location: \'replace\'}" type="button" translate="translate">Direct</button><button ui-sref="info.getting-started.sat5" ui-sref-active="active" ui-sref-opts="{location: \'replace\'}" type="button" translate="translate">Satellite 5</button><button ui-sref="info.getting-started.sat6" ui-sref-active="active" ui-sref-opts="{location: \'replace\'}" type="button" translate="translate">Satellite 6</button><button ui-sref="info.getting-started.cloudforms" ui-sref-active="active" ui-sref-opts="{location: \'replace\'}" type="button" translate="translate">CloudForms</button><button ui-sref="info.getting-started.rhv" ui-sref-active="active" ui-sref-opts="{location: \'replace\'}" type="button" translate="translate">RHV</button><button ui-sref="info.getting-started.osp" ui-sref-active="active" ui-sref-opts="{location: \'replace\'}" type="button" translate="translate">Openstack</button><button ui-sref="info.getting-started.containers" ui-sref-active="active" ui-sref-opts="{location: \'replace\'}" type="button" translate="translate">Containers</button></div></div></div></nav>'),a.put("js/components/groupSelect/groupSelect.html",'<div class="hidden-in-product group-select"><label><i aria-hidden="true" class="fa fa-globe"></i><span translate="translate">Global filters</span></label><div class="dropdown"><button type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ng-disabled="disabled" class="btn dropdown-toggle"><span ng-show="!disabled &amp;&amp; !isGroupSelected() &amp;&amp; !groups.length" translate="translate" class="text">Group select</span><span ng-show="disabled || (!isGroupSelected() &amp;&amp; groups.length)" translate="translate" class="text">All Systems</span><span ng-show="isGroupSelected() &amp;&amp; !disabled" class="text active">{{group.display_name}}</span><span class="caret"></span></button><ul class="dropdown-menu"><li><a ng-click="triggerChange(null)" translate="translate">All Systems</a></li><li ng-repeat="g in groups | orderBy:&quot;display_name&quot; track by g.id"><a ng-click="triggerChange(g)"><trimmed-text length="35" text="{{g.display_name}}"></trimmed-text></a></li><li role="separator" class="divider"></li><li><a ui-sref="app.config({tab: \'groups\'})" translate="translate">Create a group</a></li></ul></div><a ui-sref="app.config({tab: \'groups\'})" tooltip="Create a new group" translate="translate" class="add-group"><i aria-hidden="true" class="fa fa-plus-circle pad-left"></i></a></div>'),a.put("js/components/insightsLogo/insightsLogo.html",'<h1 class="logo-insights"><span>Red Hat</span><div class="block"><span translate="translate">Insights</span></div></h1>'),a.put("js/components/insightsTagline/insightsTagline.html",'<p class="intro text-center text-white hidden"> </p>'),a.put("js/components/linkGroup/linkGroup.html",'<div ng-if="group.length === 1" class="member-group"><strong></strong><type-icon type-id="group[0].system_type_id" include-text="true"></type-icon>&nbsp;&nbsp;<i ng-class="{{getLinkStatus(group[0])}}" title="{{getLinkReportCount(group[0])}}" class="fa link-status">&nbsp;&nbsp;</i><a ng-click="goToSystem(group[0])">{{getLinkName(group[0])}}</a></div><div ng-if="group.length &gt; 1" class="member-group"><div ng-click="toggleCollapsed()" class="member-group-head"><i ng-if="!collapsed" class="group-twisty fa fa-caret-down">&nbsp;&nbsp;</i><i ng-if="collapsed" class="group-twisty fa fa-caret-right">&nbsp;&nbsp;</i><type-icon type-id="typeid" include-text="false"></type-icon><span ng-if="hasReports()">&nbsp;&nbsp;<i tooltip="A system in this group has actions!" tooltip-trigger="mouseenter" tooltip-append-to-body="true" tooltip-placement="top" class="fa fa-exclamation-triangle i-warning"></i></span>{{linkGroupText}}</div><div ng-if="!collapsed" class="member-group-content"><div class="row"><div ng-repeat="link in group" class="link-text"><div class="col-sm-4"><i ng-class="{{getLinkStatus(link)}}" title="{{getLinkReportCount(link)}}" class="fa link-status"></i><a ng-click="goToSystem(link)" title="{{getLinkName(link)}}">&nbsp; {{getLinkName(link)}}</a></div></div></div></div></div>'),a.put("js/components/listType/listType.html",'<div class="list-switch"><a ng-click="setListType(listTypes.card)" ng-class="{active: getListType() === listTypes.card}" class="link"><i class="fa fa-list"></i></a><a ng-click="setListType(listTypes.table)" ng-class="{active: getListType() === listTypes.table}" class="link"><i class="fa fa-table"></i></a></div>'),a.put("js/components/mitigationTrend/mitigationTrend.html",'<div class="mitigation-chart"></div>'),a.put("js/components/multiButton/multiButton.html",'<div class="multi-button"><div data-toggle="buttons" class="btn-group"><a id="{{getButtonId(button)}}" ng-class="{&quot;deny-click-cursor&quot;: showDenyClickCursor(button)}" style="margin-left: 0px !important;" ng-repeat="button in buttons" ng-click="toggleButton(button)" class="btn btn-xs"><i ng-if="buttonHasIconClass(button)" ng-class="getButtonClass(button)" class="fa"></i><input type="checkbox" autocomplete="off"/>&nbsp;{{button.label}}</a></div></div>'),a.put("js/components/notifications/notifications.html",'<div class="notifications"><alert ng-repeat="alert in alerts" type="{{alert.level}}" close="dismiss($index, alert.type)"><span ng-bind-html="alert.msg | trust_html"></span></alert></div>'),a.put("js/components/platformFilter/platformFilter.html",'<section ng-class="{active: getSelectedProduct() !== \'all\'}" ng-show="platforms.length &gt; 1" class="platform-select platform-{{getSelectedProduct()}}"><div class="row"><div class="col-sm-12"><div class="pull-right"><a translate="translate" ng-click="viewAll()" ng-show="getSelectedProduct() !== \'all\'" class="btn btn-rounded"><i aria-hidden="true" class="fa fa-refresh"></i>View all platforms</a></div></div></div><div class="row row-short"><div ng-if="getSelectedProduct() !== \'all\'" class="platform"><div class="col-sm-6"><img ng-src="{{getImage()}}"/></div></div><div ng-if="getSelectedProduct() === \'all\'" class="platform-filters"><div ng-repeat="filter in platforms" class="col-sm-6 col-md-3"><div ng-class="{active: filter.active}" ng-click="selectFilter(filter)" class="btn btn-quick-filter platform-{{filter.product.code}}"><div class="platform quick-filter-btn-content">{{filter.displayName}}</div><!--.summary(ng-show=\'summaryType === "categories" && !loadingSummary\') --><div ng-show="!loadingSummary" class="summary"> <span ng-repeat="item in getSummaryItems(filter.product.code)"><span>{{item}}</span><div ng-if="!$last" class="sep"></div></span></div><!--.summary(ng-show=\'summaryType === "systems" && !loadingSummary\')//a(ng-repeat=\'subFilter in filter.subFilters\',\n  //ng-click=\'selectSubFilter(subFilter); $event.stopPropagation()\') ({{subFilter.count}}) {{subFilter.displayName}}\n  //.sep(ng-if=\'!$last\') |--></div></div></div></div></section>'),a.put("js/components/recommendedKbase/recommendedKbase.html",'<div ng-show="solution &amp;&amp; !loading" class="matched-solution"><span ng-if="showLabel" class="link-label"><i class="fa fa-circular fa-lightbulb-o"></i><strong translate="translate"> Related Knowledgebase articles:</strong></span><a target="_blank" href="{{solution.viewUri}}"> {{solution.title}}</a></div><div ng-show="loading" class="spinner spinner-sm spinner-inline"></div>'),a.put("js/components/ruleStateIcon/ruleStateIcon.html",'<i ng-class="state + \'-rule-state-icon\'" class="fa"></i>'),a.put("js/components/severityIcon/allSeverityIcons.html",'<div class="icon-group icon-group-severity"><severity-icon type="impact" severity="rule.rec_impact"></severity-icon><severity-icon type="likelihood" severity="rule.rec_likelihood"></severity-icon><severity-icon type="severity" severity="rule.severity"></severity-icon></div>'),a.put("js/components/severityIcon/severityIcon.html",'<div ng-init="init()" class="severity-icon {{type}}"><span ng-if="label" translate="translate" class="title {{type}}">{{label}}</span><i tooltip="{{tooltip}}" class="{{sevClass}}"></i></div>'),a.put("js/components/sideNav/sideNav.html",'<div class="dashboard-navigation-container"><!--aside.dashboard-navigation(ng-class="(!isHidden) ? \'profile-image-visible\': \'profile-image-hidden\'")--><aside class="dashboard-navigation"><!--.header-block.user-profile(ng-if="utils.isBeta()").profile-image\n  img(gravatar-src="user.email" gravatar-size="200" gravatar-d="blank")\n  a(href="#") Edit Info\n.profile-info {{user.first_name}} {{user.last_name}}\n  .toggleProfile.hidden-xs(ng-class="(!isHidden) ? \'expanded\': \'compressed\'", ng-click="toggleNav()")\n    i.fa.fa-compress\n    i.fa.fa-expand--><account-select></account-select><menu class="nav"><ul><li><a ui-sref="app.overview" ui-sref-active="current" translate="translate">Overview</a></li><rha-telemetry-actions-side-nav></rha-telemetry-actions-side-nav><li><a ui-sref="app.inventory" ui-sref-active="current" translate="translate">Inventory</a></li><li ng-if="config.isPlannerEnabled"><a ui-sref="app.maintenance" ui-sref-active="current" translate="translate">Planner</a></li><li><a ui-sref="app.rules" ng-class="{current: includes(states.rules, state.current.name)}" translate="translate">Rules</a></li><li><a ui-sref="app.digests" ui-sref-active="current" translate="translate">Executive Report</a></li><li><a ui-sref="app.config" ui-sref-active="current" translate="translate">Configuration</a></li></ul></menu></aside></div>'),a.put("js/components/simpleSelect/simpleSelect.html",'<div class="dropdown gray"><button type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ng-disabled="disabled" class="btn btn-default dropdown-toggle"><strong>{{selected.label}}</strong><span class="caret"></span></button><ul class="dropdown-menu"><li ng-repeat="option in options"><a ng-click="select(option)">{{option.label}}</a></li></ul></div>'),a.put("js/components/statusIcon/statusIcon.html",'<span><i ng-show="status" tooltip="{{\'This issue has been resolved\' | translate}}" class="fa fa-check"></i><i ng-hide="status" tooltip="{{\'This issue has NOT yet been resolved. This field will be updated automatically once the system checks in.\' | translate}}" class="fa fa-minus"></i></span>'),a.put("js/components/systemMetadata/systemMetadata.html",'<div ng-if="loading" class="row"><div class="col-sm-12"><i class="fa spinner-xs spinner"></i><span>Loading...</span></div></div><div ng-if="!loading" class="row system-metadata"><div ng-repeat="facts in systemFacts" class="col-sm-6"><table class="meta-table table-fixed"><tbody><tr ng-repeat="data in facts"><td translate="translate">{{data.label}}</td><td translate="translate" class="metadata-value">{{data.value}}</td></tr></tbody></table></div></div>'),a.put("js/components/tag/tag.html",'<span ng-bind="$getDisplayText()" tooltip="{{data.description}}"></span><a ng-click="$removeTag()" ng-bind="::$$removeTagSymbol" class="remove-button"></a>'),a.put("js/components/timeRange/timeRange.html",'<time><span class="from">{{startTime | lowercase}}</span><span ng-if="startDate">&nbsp;({{startDate}})</span><span>&nbsp;-&nbsp;</span><span class="to">{{endTime | lowercase}}</span><span ng-if="endDate">&nbsp;({{endDate}})</span></time>'),a.put("js/components/topbar/topbar.html",'<div class="top-bar"><feedback-button class="btn-feedback"></feedback-button><div class="row"><div class="col-sm-7 col-md-8"><!-- .global-filters.disabled.disabled class added if the filters are not applicable to view--><div ng-class="{disabled: disabled}" class="global-filters"><group-select disabled="disabled"></group-select></div></div><div class="col-sm-5 col-md-4 text-right-sm"><menu class="notifications"><bullhorn icon="fa-bullhorn" type="announcements"></bullhorn><alerts icon="fa-bell" type="alerts"></alerts></menu><span class="sep"></span><span dropdown="" on-toggle="toggled(open)" class="dropdown help"><a href="" dropdown-toggle="" class="dropdown-toggle"><strong translate="translate" class="small">Help</strong><i class="inline-left fa fa-question-circle"></i></a><ul class="dropdown-menu"><li><a href="https://access.redhat.com/products/red-hat-insights#getstarted" target="_blank" translate="translate">Getting Started</a><a ui-sref="info.info" translate="translate">More Info</a><a ui-sref="info.security" translate="translate">Security</a><!-- if this is the Portal hosted Insights... link to the Portal Browser Support Policy page--><a href="/help/browsers" target="_self" translate="translate" ng-if="isPortal">Browser Support</a><a href="/r/insights/docs/" translate="translate">Insights API Documentation</a><demo-account-switcher></demo-account-switcher></li></ul></span></div></div></div>'),a.put("js/components/typeIcon/typeIcon.html",'<span><span tooltip="{{systemTypeDisplayName}}" tooltip-trigger="mouseenter" tooltip-append-to-body="true" tooltip-placement="top" class="title"><i ng-class="systemTypeIcon" class="fa spinner-xs system-type-icon"></i></span><strong ng-if="includeText">&nbsp;&nbsp;{{systemTypeDisplayNameShort}}</strong></span>'),a.put("js/components/userInfo/userInfo.html",'<div class="user-info"><h2 class="title-widget"><i class="fa fa-user"></i><span translate="translate">Profile</span></h2><menu class="messaging-menu"><div class="heading heading-w-profile-image"><div class="profile-image"><img gravatar-src="user.email" gravatar-size="100" gravatar-d="blank"/></div><div class="info"><div class="name"><strong>{{user.first_name}} {{user.last_name}}</strong></div><div class="last-login"><strong>Last login:</strong><date>07/22/15</date></div></div></div><nav class="user-info-nav"><li><a ui-sref="app.announcements"><i class="fa fa-bullhorn"></i><span translate="translate">Announcements</span><span class="count">{{ alerts.unseen.length }}</span></a></li><li ng-if="false"><a><i class="fa fa-bell"></i><span translate="translate">Alerts</span><span class="count unread">50</span></a></li><li ng-if="false"><a><i class="fa fa-bullseye"></i><span translate="translate">Goals</span><span class="count">120</span></a></li><li ng-if="false"><a><i class="fa fa-envelope"></i><span translate="translate">Messages</span><span class="count unread">100</span></a></li><li ng-if="false"><a><i class="fa fa-comments-o"></i><span translate="translate">Mentions</span><span class="count">10</span></a></li><li ng-if="false"><a><i class="fa fa-certificate"></i><span translate="translate">Marketing</span><span class="count">120</span></a></li></nav></menu></div>'),a.put("js/components/yesNo/yesNo.html","<span><i ng-class=\"{'fa-times fail': no, 'fa-check success': yes}\" class=\"fa\"> </i><strong> {{text}}</strong></span>"),a.put("js/states/actions/actions.html",'<div class="actions-page"><!--platform-filter--><new-actions-graph></new-actions-graph><div class="content-wrap"><section class="metrics"><div class="rha-notifications"></div><div class="row"><div class="col-md-7 chart-col clearfix"><div class="chart-container text-center"><span ng-show="loading" class="preloader"></span><div class="donut-container"><div class="donut-hole"><div class="content"><div class="num">{{stats.rules.total}}</div><div translate="translate" class="text">Issues</div></div></div><div stats="stats" class="rha-telemetry-donut"></div></div></div><div class="row"><div class="col-lg-10 col-lg-offset-1"><table class="legend"><tbody><tr><td ng-repeat="category in categoryTopics.slice(0,(categoryTopics.length &gt; 3 ? 2 : categoryTopics.length))"><a ng-class="category.id" ui-sref="app.topic({id: category.id, product: getSelectedProduct()})"><i ng-class="category.id + \'-color\'" aria-hidden="true" class="fa fa-square inline-right"></i><span translate="translate" class="desc">{{category.id | titlecase}}</span><span class="count">&nbsp;({{category.count}})</span></a></td></tr><tr ng-if="categoryTopics.length &gt; 3"><td ng-repeat="category in categoryTopics.slice(2,categoryTopics.length)"><a ng-class="category.id" ui-sref="app.topic({id: category.id, product: getSelectedProduct()})"><i ng-class="category.id + \'-color\'" aria-hidden="true" class="fa fa-square inline-right"></i><span translate="translate" class="desc">{{category.id | titlecase}}</span><span class="count">&nbsp;({{category.count}})</span></a></td></tr></tbody></table></div></div></div><div class="col-md-5"><card><card-header class="gray"><h4 translate="translate">Risk summary</h4></card-header><card-content><severity-summary stats="stats"></severity-summary></card-content></card><card ng-if="stats.systems"><card-header class="gray"><h4 translate="translate">Systems with critical risk</h4></card-header><card-content><system-summary stats="stats"></system-summary></card-content></card></div></div></section><section class="gray full-width"><span ng-show="isContentManager" class="pull-right">[<a ui-sref="app.admin-topic">edit</a>]</span><h2 translate="translate" class="section-title section-title-red">Featured Topics</h2><div class="flexgrid equalheights other-topics"><div ng-if="loader.loading" class="row"><div class="spinner spinner-lg"></div></div><div ng-if="featuredTopics.length" class="row"><other-topic ng-repeat="topic in featuredTopics | orderBy:\'topic.order\' track by topic.id" ng-show="!loader.loading" topic="topic"></other-topic></div><div ng-if="!show.extraTopics &amp;&amp; extraTopics.length" class="row"><div class="text-center extra-topics"><button ng-click="show.extraTopics = true" translate="translate" class="btn btn-sm btn-default">More topics</button></div></div><div ng-if="!featuredTopics.length &amp;&amp; !loader.loading" class="row"><div class="col-xs-12 text-center"><strong>No topics currently available.&nbsp;<a ui-sref="info.getting-started.direct" translate="translate">Register more systems.</a></strong></div></div></div></section><section ng-if="show.extraTopics" class="full-width"><div class="flexgrid equalheights other-topics"><div class="row"><other-topic ng-repeat="topic in extraTopics | orderBy:\'topic.order\' track by topic.id" ng-show="!loader.loading" topic="topic"></other-topic></div></div></section></div></div>'),
a.put("js/states/analytics/analytics.html",'<div class="page"><div class="section"><div class="row margin-top"><div class="col-sm-12"><h1 class="page-title">Analytics</h1></div></div><div class="row margin-top"><div class="col-sm-12"><div id="chart"></div></div></div></div></div>'),a.put("js/states/announcements/announcements.html",'<div class="page-standard page-announcements section-announcements"><div class="row"><div class="col-sm-12"><h1 translate="translate" class="page-title">Announcements</h1></div></div><div ng-if="canCreate" class="row"><div class="col-sm-12"><label translate="translate" class="full-width">Show hidden</label><div class="switch"><input id="cmn-toggle-2" type="checkbox" ng-model="params.showHidden" ng-change="reload()" class="cmn-toggle cmn-toggle-square"/><label for="cmn-toggle-2"></label></div></div></div><div class="row"><announcements-scroll announcementId="{{$scope.announcementId}}"></announcements-scroll></div><div class="row row-short"><div class="col-xs-12"><a ui-sref="app.new-announcement" ng-if="canCreate" class="pull-right btn btn-app">Create Announcement</a></div></div></div>'),a.put("js/states/announcements/edit-announcement.html",'<div class="page-standard page-announcements section-announcements"><div class="row"><div class="col-xs-12"><h1 class="page-title">Edit Announcement</h1></div></div><div ng-if="announcementError" class="row"><div class="col-xs-12 col-lg-8 alert alert-danger"><span class="col-xs-9"><span class="icon-inline"><i class="glyphicon glyphicon-exclamation-sign"></i></span><span translate="translate">{{announcementError}}</span></span></div></div><div class="row"><div ng-if="loadingAnnouncement" class="col-xs-12 col-m-8"><div class="spinner spinner-lg"></div></div><div ng-if="!loadingAnnouncement" class="col-xs-12 col-m-8"><form ng-submit="save()" name="form" class="form-horizontal"><fieldset><div class="row"><div class="col-xs-12"><label class="control-label">Title</label><input ng-model="announcement.title" type="text" placeholder="Announcement Title" required="required" class="form-control"/></div></div><div class="row row-short"><div class="col-xs-12"><label class="control-label">Slug</label><input ng-model="announcement.slug" type="text" placeholder="Slug" required="required" class="form-control"/></div></div><div class="row row-short"><div class="col-xs-12"><label class="control-label">Body</label><textarea ng-model="announcement.body" type="text" placeholder="Body" class="form-control"></textarea></div></div><div class="row row-short"><div class="col-xs-12"><label class="control-label">Start Date&nbsp;<small>ex: 2016-01-01T12:00:00.000Z</small></label><input ng-model="announcement.start" type="text" placeholder="Start Date" required="required" class="form-control"/></div></div><div class="row row-short"><div class="col-xs-12"><label class="control-label">End Date&nbsp;<small>ex: 2016-01-01T12:00:00.000Z</small></label><input ng-model="announcement.end" type="text" placeholder="End Date" class="form-control"/></div></div><div class="row row-short"><div class="col-xs-12"><label class="checkbox-inline"><input type="checkbox" name="hidden" value="true" ng-model="announcement.hidden"/>&nbsp;</label><label for="hidden" class="control-label">Hidden</label></div></div><div class="row row-short"><div class="col-xs-12"><label class="checkbox-inline"><input type="checkbox" name="important" value="false" ng-model="announcement.important"/>&nbsp;</label><label for="hidden" class="control-label">Important</label></div></div><div class="row"><div class="col-xs-12"><a ui-sref="app.announcements">Back to Announcements</a><button name="submit" ng-disabled="form.$error.required" class="btn btn-app pull-right">Save Announcement</button></div></div></fieldset></form></div></div></div>'),a.put("js/states/announcements/new-announcement.html",'<div class="page-standard page-announcements section-announcements"><div class="row"><div class="col-xs-12"><h1 class="page-title">New Announcement</h1></div></div><div ng-if="announcementError" class="row"><div class="col-xs-12 col-lg-8 alert alert-danger"><span class="col-xs-9"><span class="icon-inline"><i class="glyphicon glyphicon-exclamation-sign"></i></span><span translate="translate">{{announcementError}}</span></span></div></div><div class="row"><div class="col-xs-12 col-m-8"><form ng-submit="create()" name="form" class="form-horizontal"><fieldset><div class="row"><div class="col-xs-12"><label class="control-label">Title</label><input ng-model="announcement.title" type="text" placeholder="Announcement Title" required="required" class="form-control"/></div></div><div class="row row-short"><div class="col-xs-12"><label class="control-label">Slug</label><input ng-model="announcement.slug" type="text" placeholder="Slug" required="required" class="form-control"/></div></div><div class="row row-short"><div class="col-xs-12"><label class="control-label">Body</label><textarea ng-model="announcement.body" type="text" placeholder="Body" class="form-control"></textarea></div></div><div class="row row-short"><div class="col-xs-12"><label class="control-label">Start Date&nbsp;<small>ex: 2016-01-01T12:00:00.000Z</small></label><input ng-model="announcement.start" type="text" placeholder="Start Date" required="required" class="form-control"/></div></div><div class="row row-short"><div class="col-xs-12"><label class="control-label">End Date&nbsp;<small>ex: 2016-01-01T12:00:00.000Z</small></label><input ng-model="announcement.end" type="text" placeholder="End Date" class="form-control"/></div></div><div class="row row-short"><div class="col-xs-12"><label class="checkbox-inline"><input type="checkbox" name="hidden" value="true" ng-model="announcement.hidden"/>&nbsp;</label><label for="hidden" class="control-label">Hidden</label></div></div><div class="row row-short"><div class="col-xs-12"><label class="checkbox-inline"><input type="checkbox" name="important" value="false" ng-model="announcement.important"/>&nbsp;</label><label for="hidden" class="control-label">Important</label></div></div><div class="row"><div class="col-xs-12"><a ui-sref="app.announcements">Back to Announcements</a><button name="submit" ng-disabled="form.$error.required" class="btn btn-app pull-right">Create Announcement</button></div></div></fieldset></form></div></div></div>'),a.put("js/states/announcements/view-announcement.html",'<div class="page-standard page-announcements section-announcements"><div class="row"><div ng-if="loadingAnnouncement" class="col-xs-12"><div class="spinner spinner-lg"></div></div><div ng-if="!loadingAnnouncement" class="col-xs-12"><strong class="pull-right">{{announcement.created_at | date}}</strong><h1 class="page-title">{{announcement.title}}</h1></div></div><div class="row push-top border-top"><div ng-if="loadingAnnouncement" class="col-xs-12"><div class="spinner spinner-lg"></div></div><div ng-if="!loadingAnnouncement" class="col-xs-12"><div ng-bind-html="announcement.body_html | trust_html" target-blank=""></div></div></div></div>'),a.put("js/states/base/app.html",'<!--#fullscreen.fullscreen--><!--  a(ng-click="toggleFullScreen()", translate) Fullscreen--><div id="telemetry" class="page-wrap container"><beta-switch-button></beta-switch-button><side-nav></side-nav><div data-esc-key="" class="main-content insights-main-content"><topbar></topbar><div ui-view="" class="wrapper"></div><actionbar></actionbar></div></div>'),a.put("js/states/base/base.html",'<div ui-view="" class="ng-cloak"></div>'),a.put("js/states/base/info.html",'<div ui-view="" class="ng-cloak ng-animate-enabled fade-in"></div>'),a.put("js/states/digests/digests.html",'<div class="digests-page"><div ng-class="{\'inactive\': !expandBar, \'active\': expandBar}" class="page-header"><h1 class="page-title"><i class="fa fa-bar-chart">&nbsp;</i><span translate="translate">Executive Report</span></h1></div><div ng-show="loading" class="content-wrap margin-top"><div class="text-center"><div class="spinner spinner-lg"></div></div></div><div ng-show="!loading &amp;&amp; systemsTilTen &gt; 0" class="content-wrap margin-top"><div class="row"><div class="col-sm-12 col-md-8 col-md-offset-2 text-center"><h1 translate="translate">Executive Reporting requires 10 or more systems to be registered with Insights.</h1><h2 translate="translate">Please register <span translate="translate" translate-n="systemsTilTen" translate-plural="{{$count}} more systems">{{systemsTilTen}} more system</span>&nbsp;to enable reporting for your account.</h2></div></div></div><div ng-show="!loading &amp;&amp; systemsTilTen &lt; 1" class="content-wrap margin-top"><section><div class="row"><div class="col-sm-3"><h2 translate="translate" class="section-title">Overall score</h2><div tooltip="The average system score for your entire account. A system\'s score is based on the number of actions, weighted by severity. You can improve this score by fixing issues in your infrastructure. Score ranges from 250 to 850." tooltip-trigger="mouseenter" tooltip-append-to-body="true" tooltip-placement="right" translate="translate" class="gauge gauge-circle score"><span>{{latest_score}}</span></div></div><div class="col-sm-9"><h2 translate="translate" class="section-title">Weekly action count by category</h2><div class="row padding-top"><div ng-repeat="cat in digest_hits_per_cat" class="col-xs-6 col-md-3"><div class="gauge gauge-count-and-change"><div class="count-and-change"><div class="count large bold">{{cat.current}}</div><div class="change"><i ng-if="cat.direction &gt; 0" class="fa fa-caret-up increase"></i><i ng-if="cat.direction &lt; 0" class="fa fa-caret-down decrease"></i><i ng-if="cat.direction === 0" class="fa fa-minus no-change"></i></div></div><div class="title"><i aria-hidden="true" ng-class="cat.icon" class="fa"></i><strong class="uppercase">&nbsp;{{cat.label}}</strong></div></div></div></div></div></div><div class="row"><div class="col-sm-3"></div><div class="col-sm-9"><span ng-show="!loading" translate="translate" class="large-text"><i ng-if="resolvedIssues &gt; 0" class="fa fa-check-circle green"></i><i ng-if="resolvedIssues === 0" class="fa fa-exclamation-circle red"></i>&nbsp;You\'ve resolved&nbsp;<strong ng-class="{&quot;green&quot;: resolvedIssues &gt; 0, &quot;red&quot;: resolvedIssues === 0}" translate="translate" translate-n="resolvedIssues" translate-plural="{{$count}} issues">{{resolvedIssues}} issue</strong>&nbsp;in the past {{timePeriod()}} days.</span></div></div></section><section class="gray full-width"><ul role="tablist" class="nav nav-tabs-simple underline"><li role="presentation" class="active"><a href="#metrics" aria-controls="metrics" role="tab" data-toggle="tab" translate="translate">Action trends</a></li><li role="presentation"><a href="#systemsRegistered" aria-controls="systemsRegistered" role="tab" data-toggle="tab" translate="translate">System registration history</a></li><li role="presentation"><a href="#scoreHistory" aria-controls="messages" role="tab" data-toggle="tab" translate="translate">Score history</a></li><li role="presentation"><a href="#allRuleHits" aria-controls="allRules" role="tab" data-toggle="tab" translate="translate">All Rule hits</a></li></ul><!-- Tab panes--><div class="tab-content"><div id="metrics" role="tabpanel" class="metrics tab-pane fade in active"><digest-graph drop-down="Category" digest-key="metrics" digest="digest_metrics" height="400" ng-if="!loading"></digest-graph></div><div id="systemsRegistered" role="tabpanel" class="tab-pane fade"><digest-graph digest-key="registered" digest="digest_registered" height="400" ng-if="!loading"></digest-graph></div><div id="scoreHistory" role="tabpanel" class="tab-pane fade"><digest-graph digest-key="score" digest="digest_score" height="400" ng-if="!loading"></digest-graph></div><div id="allRuleHits" role="tabpanel" ng-if="!loading" class="tab-pane fade"><table style="background-color: #fff"><thead><tr><th translate="translate">Rule</th><th translate="translate">Impacted Systems</th><th translate="translate">Total Risk</th></tr></thead><tbody><tr ng-repeat="rule in allRuleHits"><td><a ui-sref="app.actions-rule({category: rule.category.toLowerCase(), rule: rule.rule_id})">{{ rule.description }}</a></td><td>{{rule.report_count}}</td><td><severity-icon severity="rule.severity" type="severity" label=""></severity-icon></td></tr></tbody></table></div></div></section><section><div class="row"><div class="col-md-6"><h2 translate="translate" class="section-title">Ten Most Impacted Systems</h2><!--with hostname, registered date, and score--><table class="table-break"><thead><tr><th translate="translate" class="hostname">Hostname</th><th translate="translate">Hits</th></tr></thead><tbody><tr ng-repeat="system in topTenWorstSystems"><td class="hostname"><a ng-click="showSystem(system)">{{ system | getSystemDisplayName }}</a></td><td>{{ system.report_count }}</td></tr></tbody></table></div><div class="col-md-6"><h2 class="section-title">Ten Most Frequently Hit Rules</h2><!-- grouped by criticality, sub grouped by count--><table><thead><tr><th translate="translate">Rule</th><th translate="translate">Impacted Systems</th><th translate="translate">Total Risk</th></tr></thead><tbody><tr ng-repeat="rule in topTenRules"><td><a ui-sref="app.actions-rule({category: rule.category.toLowerCase(), rule: rule.rule_id})">{{ rule.description }}</a></td><td>{{rule.impacted_systems}}</td><td><severity-icon severity="rule.severity" type="severity" label=""></severity-icon></td></tr></tbody></table></div></div></section></div></div>'),a.put("js/states/evaluation/evaluation.html",'<div class="page-wrap container eval"><div class="main-content insights-main-content full-width"><div class="row text-center"><i ng-if="loading" class="fa spinner-lg spinner"></i></div><div ng-if="!loading &amp;&amp; !error"><div ng-if="status.current" class="status-current"><div class="row"><div class="col-sm-12 col-md-8 col-md-offset-2 text-center"><h1 translate="translate">You are currently on a {{status.current.systems}} system evaluation of Red Hat Insights. It will expire on {{getExpiration()}}.</h1></div></div><div class="row text-center"><div class="col-sm-12"><button ui-sref="info.getting-started.direct" translate="translate" class="btn btn-lg btn-accent">Getting started guide</button><span translate="translate" class="strapline btn-seperator">or</span><button ui-sref="app.overview" translate="translate" class="btn btn-lg btn-accent">Go to the application</button></div></div></div><div ng-if="status.expired" class="status-expired"><div class="row"><div class="col-sm-12 col-md-8 col-md-offset-2 text-center"><h1 translate="translate">Your evaluation has expired. Thank you for trying Red Hat Insights.</h1></div></div><div class="row"><div class="col-sm-12 text-center"><h2 translate="translate" class="uppercase">Please contact sales to purchase Insights.</h2></div></div></div><div ng-if="getNonLegacyEval() &amp;&amp; !successfulActivation" class="status-available"><div class="row"><div class="col-sm-12 col-md-8 col-md-offset-2"><h1 translate="translate"><span aria-hidden="true" class="icon-check-alt"></span>&nbsp;Your {{getNonLegacyEval().systems}} system {{getNonLegacyEval().duration}} day evaluation is ready.</h1></div></div><div class="row"><div class="col-sm-12 text-center"><h2 translate="translate" class="uppercase">READ AND ACCEPT THESE TERMS TO GET STARTED.</h2></div></div><div class="row"><div class="col-sm-12"><p translate="translate">Red Hat is providing each Red Hat Subscription Evaluation for evaluation purposes subject to the terms of the <a href="http://www.redhat.com/licenses/" target="_blank">Red Hat Enterprise Agreement</a>. If you use the Red Hat Subscription for any purpose other than <b>evaluation</b>, you agree to pay Red Hat the Subscription Fee(s) for each Unit pursuant to the Enterprise Agreement, which is in addition to any and all other remedies available to Red Hat under applicable law.</p><div id="terms" translate="translate">Examples of situations where you would incur additional fees and be in violation of the Agreement include, but are not limited to:<ul><li>Using the service provided under the evaluation program for a production installation,</li><li>Offering support services to third parties, or</li><li>Complementing or supplementing third party support services with services received through the Red Hat Subscription evaluation program.</li></ul></div><p translate="translate">By proceeding, I acknowledge that I have read and agree to the terms and conditions of the <a href="http://www.redhat.com/licenses/" target="_blank">Red Hat Enterprise Agreement</a> which governs my use.</p></div></div><div class="row text-center"><div class="col-sm-12"><button ng-click="activateNonLegacy()" translate="translate" class="btn btn-lg btn-accent">Agree and Get Started</button></div></div><div class="row text-center"><div class="col-sm-12"><p><a href="https://access.redhat.com/insights/splash/" translate="translate">Decline</a><br/><small translate="translate">If you decline, you will not receive an evaluation at this time and will be redirected to additional information on Red Hat Insights</small></p></div></div></div><div ng-if="getLegacyEval() &amp;&amp; !successfulActivation" style="margin-top:60px"><a ng-click="activateLegacy()" translate="translate">Looking for the legacy 10 system evaluation? Click here to activate.</a></div><div ng-if="status.purchased" class="status-purchased"><div class="row"><div class="col-sm-12 col-md-8 col-md-offset-2"><h1 translate="translate"><span aria-hidden="true" class="icon-check-alt"></span>&nbsp;Thank you for purchasing Red Hat Insights.</h1></div></div><div class="row text-center"><div class="col-sm-12"><button ui-sref="app.overview" translate="translate" class="btn btn-lg btn-accent">Continue to Insights</button></div></div></div></div><div ng-if="error" class="status-error"><div class="row"><div class="col-sm-12 col-md-8 col-md-offset-2 text-center"><h1 translate="translate">An error occurred. Please try again: {{error}}</h1></div></div></div></div></div>'),a.put("js/states/info/info.html",'<div class="info-page"><div class="container info-page-intro text-center band band-hero"><div class="row"><div class="col-sm-12"><insights-logo></insights-logo></div><div class="col-sm-8 col-sm-offset-2"><insights-tagline></insights-tagline></div></div></div><div class="band band-white band-narrow"><div class="container"><div class="row"><div class="col-md-10 vcenter"><section class="section"><h2 translate="translate" class="section-title">Proactive systems management</h2><p translate="translate">Red Hat Insights is a hosted service designed to help you proactively identify and resolve technical issues in Red Hat Enterprise Linux and Red Hat Cloud Infrastructure environments. Decreasing time spent discovering, researching, and resolving critical issues allows you to focus on driving high value, strategic initiatives.</p></section></div><div class="col-md-2 info-image vcenter"><img src="images/Icon_RH_Misc_Lifestyle_RGB_Button.png" alt="Management"/></div></div></div></div><div class="band band-white band-narrow"><div class="container"><div class="row"><div class="col-md-10"><section class="section"><h2 translate="translate" class="section-title">Insights powered by Red Hat</h2><p translate="translate"><strong>The Insights engine </strong>is powered by the unparalleled expertise that comes from over 700 Red Hat Certified Engineers, over 30,000 documented technical solutions, and over 1,000,000 resolved issues. Based on Red Hat’s continuously expanding knowledge base, which includes expertise in third-party hardware and software integration, deterministic rules are constantly being created.</p></section></div></div></div></div><div class="band band-white band-narrow"><div class="container"><div class="row"><div class="col-md-2 info-image vcenter"><img src="images/Icon_RH_Software_Data_CMYK_Button.png" alt="Data Collection"/></div><div class="col-md-10 vcenter"><section class="section"><h2 translate="translate" class="section-title">Lightweight data collection</h2><p translate="translate">For analysis by the Insights engine, a minimal subset of information commonly provided in a standard support case is collected by the Insights client. This data is collected via secure protocols at defined intervals then analyzed and discarded at the next upload, or no longer than two weeks later.</p></section></div></div></div></div><div class="band band-white band-narrow"><div class="container"><div class="row"><div class="col-md-10 vcenter"><section class="section"><h2 translate="translate" class="section-title">Clear, tailored, and actionable intelligence</h2><p translate="translate">The Insights engine delivers results for review through the Insights UI in Red Hat Satellite and in the Red Hat Customer Portal. Through the intuitive Insights UI, configuration issues discovered during analysis are clearly displayed and prioritized by severity. Tailored remediation steps are presented to help you optimize workloads and confidently resolve critical issues and prevent future issues.</p></section></div><div class="col-md-2 info-image vcenter"><img src="images/Icon_RH_Document_Blueprint_RGB_Button.png" alt="Actionable Intelligences"/></div></div></div></div><div id="availability" class="band band-white band-narrow"><div class="container"><div class="row"><div class="col-md-12"><section class="section"><h2 translate="translate" class="section-title">Availability</h2><p translate="translate">Red Hat Insights is available for current Red Hat customers on Red Hat Enterprise Linux, delivered through either the Customer Portal or Red Hat Satellite. Your current subscription includes Red Hat Insights for up to 10 systems. To enroll additional systems, contact <a href="http://www.redhat.com/en/about/contact/sales">sales</a>.</p><div class="row"><div class="col-md-6"><table class="table table-cp table-striped table-bordered"><thead><tr><th translate="translate">Red Hat Insights supports</th></tr></thead><tbody><tr><td translate="translate">Red Hat Enterprise Linux 6</td></tr><tr><td translate="translate">Red Hat Enterprise Linux 7</td></tr></tbody></table></div><div class="col-md-6"><table class="table table-cp table-striped table-bordered"><thead><tr><th translate="translate">Delivered via</th></tr></thead><tbody><tr><td translate="translate">Red Hat Customer Portal</td></tr><tr><td translate="translate">Red Hat Satellite 5</td></tr><tr><td translate="translate">Red Hat Satellite 6</td></tr></tbody></table></div></div></section></div></div></div></div><div class="band band-white band-narrow"><div class="container"><div class="row"><div class="col-md-12"><section class="section"><h2 translate="translate" class="section-title">Security comes standard</h2><p translate="translate">Like all products and services from Red Hat, Red Hat Insights is developed with a focus on security and rigorous deployment controls. </p><p translate="translate"><a ui-sref="info.security">Learn more </a> about how Red Hat Insights keeps your data secure while enabling you to proactively manage systems.</p></section></div></div></div></div><div class="band band-white band-narrow"><div class="container"><div class="row"><div class="col-md-12"><section class="section"><h2 translate="translate" class="section-title">Additional resources</h2><div class="row"><div class="col-xs-12 col-sm-7 col-md-8 vcenter"><a href="/insights/static/datasheet.pdf" target="_blank" translate="translate" class="btn btn-app cta-link cta-link-sm cta-link-white info-links">Datasheet</a><a href="https://access.redhat.com/products/red-hat-insights#getstarted" translate="translate" class="btn btn-app cta-link cta-link-sm cta-link-white info-links">Getting started with Red Hat Insights</a><a ui-sref="login" translate="translate" class="btn btn-app cta-link cta-link-sm cta-link-white info-links">Log in to Red Hat Insights</a></div></div></section></div></div></div></div></div>'),a.put("js/states/inventory/inventory.html",'<section class="inventory"><!--platform-filter--><inventory-filters></inventory-filters><div class="rha-notifications"></div><div class="content-wrap"><inventory-actions ng-hide="reloading" class="ng-animate-enabled"></inventory-actions><div infinite-scroll="doScroll()" infinite-scroll-disabled="disableScroll()" infinite-scroll-immediate-check="false" infinite-scroll-distance=".5" ng-hide="reloading"><div ng-show="listType() === listTypes.card" class="card-table-header"><div class="row row-short"><div class="col-sm-4"><input tooltip="{{\'Select All\' | translate}}" tooltip-trigger="mouseenter" tooltip-append-to-body="true" tooltip-placement="top" type="checkbox" ng-indeterminate="checkboxes.indeterminate" ng-model="checkboxes.checked" ng-change="selectAll(); checkboxes.checkboxChecked(checkboxes.checked, getSelectableSystems())" class="action-checkbox"/><label translate="translate" ng-click="sort(\'system_type_id\')">&nbsp; Type</label></div><div class="col-sm-4"><strong translate="translate" ng-click="sort(\'toString\')">Name &nbsp;</strong><span ng-show="totalSystemsSelected">&nbsp;({{totalSystemsSelected}} Selected)</span></div><div class="col-sm-4 text-right"><strong translate="translate" ng-click="sort(\'report_count\')">Action Count</strong></div></div></div><div class="row row-short table-options"><div class="col-sm-4 col-lg-2"><div class="dropdown"><button data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" translate="translate" ng-disabled="!checkboxes.totalChecked" class="btn btn-default dropdown-toggle">Actions<span class="caret"></span></button><!--i.caret.dropdown-caret--><ul class="dropdown-menu"><li ng-if="config.isPlannerEnabled"><a ng-click="addToPlan(false)" ng-disabled="!isFixableSelected()" translate="translate">Create a new Plan/Playbook<ansible-icon value="isFixableSelected()" show-tooltip="false" class="inline-left"></ansible-icon></a></li><li ng-if="config.isPlannerEnabled"><a ng-click="addToPlan(true)" ng-disabled="!isFixableSelected() || (!plans.future.length &amp;&amp; !plans.unscheduled.length)" translate="translate">Add to existing Plan/Playbook<ansible-icon value="isFixableSelected() &amp;&amp; (plans.future.length || plans.unscheduled.length)" show-tooltip="false" class="inline-left"></ansible-icon></a></li><li tooltip="{{unregisterButtonTooltip}}"><a ng-disabled="!isUnregistrableSelected()" ng-click="isUnregistrableSelected() &amp;&amp; doUnregisterSelected()" translate="translate" class="pointer-events-auto">Unregister</a></li></ul></div></div><div class="col-sm-8 col-lg-10"><list-type class="text-right-sm"></list-type></div></div><div class="row row-short"><div class="col-md-12"><table ng-show="getListType() === listTypes.table" class="ng-table table"><thead><tr><th><input tooltip="Select All" tooltip-trigger="mouseenter" tooltip-append-to-body="true" tooltip-placement="top" type="checkbox" ng-indeterminate="checkboxes.indeterminate" ng-model="checkboxes.checked" ng-change="selectAll(); checkboxes.checkboxChecked(checkboxes.checked, getSelectableSystems())" class="selectme"/></th><th ng-class="predicate | sortClass:\'system_type_id\':reverse" ng-click="sort(\'system_type_id\')" class="sortable nowrap"><div translate="translate" class="sort-indicator">System Type</div></th><th ng-class="predicate | sortClass:\'toString\':reverse" ng-click="sort(\'toString\')" class="sortable nowrap"><div translate="translate" class="sort-indicator">System Name</div></th><th ng-class="predicate | sortClass:\'last_check_in\':!reverse" ng-click="sort(\'last_check_in\')" class="sortable nowrap"><div translate="translate" class="sort-indicator">Last Check In</div></th><th ng-class="predicate | sortClass:\'report_count\':reverse" ng-click="sort(\'report_count\')" class="sortable nowrap"><div translate="translate" class="sort-indicator">Status</div></th></tr></thead><tbody><tr ng-repeat="system in systems track by system.system_id" ng-class="{\'stale\': !system.isCheckingIn}" ng-click="checkboxes.rowClick($event, system.system_id)" ng-mousedown="checkboxes.rowClick($event, system.system_id)" data-id="{{system.system_id}}"><td><input type="checkbox" ng-model="checkboxes.items[system.system_id]" ng-click="checkboxes.rowClick($event, system.system_id); $event.stopPropagation();" class="selectme"/></td><td class="nowrap"><type-icon type-id="system.system_type_id" include-text="true"></type-icon></td><td class="nowrap long-name"><a ng-click="showActions(system)">{{system.toString}}</a></td><td class="nowrap">{{ system.last_check_in | timeAgo }}</td><td class="nowrap"><a ng-click="showActions(system)" class="action-count"><span translate="translate" translate-n="system.report_count" translate-plural="{{$count}} Actions" class="text">{{system.report_count}} Action</span><span ng-class="{\'success\': !system.report_count, \'fail\': system.report_count}" class="pull-right status-icon"><i ng-class="{\'no-action\': !system.report_count, \'yes-action\': system.report_count}" class="fa"></i></span></a></td></tr></tbody></table></div></div><div class="row row-short"><div class="col-sm-12"><system-card ng-show="getListType() === listTypes.card" ng-repeat="system in systems track by system.system_id" system="system" checkboxes="checkboxes" checkbox-tooltip="canSelectSystem(system) ? defaultTooltip : getDisabledCheckboxTooltip(system)" class="ng-animate-enabled"></system-card></div></div></div></div><div class="animate-wrapper"><div ng-show="loading" class="row row-short ng-animate-enabled"><div class="col-xs-12"><div class="load text-center"><div class="spinner spinner-lg"></div><span translate="translate">Loading system information…</span></div></div></div></div></section>'),a.put("js/states/invites/invites.html",'<div class="page-wrap container eval"><div class="main-content insights-main-content full-width"><div class="row"><div ng-if="loading" class="col-sm-12 text-center"><i class="fa spinner-lg spinner"></i></div></div><div ng-if="!loading &amp;&amp; forbidden" class="status-error"><div class="row"><div class="col-sm-12 col-md-8 col-md-offset-2 text-center"><h1>Your account is not authorized to view this page.</h1></div></div></div><div ng-if="!loading &amp;&amp; !forbidden" class="status-available"><div class="row"><div class="col-sm-12 col-md-8 col-md-offset-2 text-center"><h1><i aria-hidden="true" class="fa fa-address-book-o"></i>&nbsp;Insights Evaluation</h1></div></div><div class="row"><div class="col-sm-12 col-md-8 col-md-offset-2 text-left"><p>This internal form is used to invite an account to a 30 day evaluation of Red Hat Insights (more info available at &nbsp;<a href="https://mojo.redhat.com/docs/DOC-1104175" target="_blank"><b>Insights Evaluation guide</b></a>)</p></div><div class="col-sm-12 col-md-8 col-md-offset-2 text-left"><card ng-if="!failedInvite  &amp;&amp; !successfulInvite" class="invite"><card-content class="gray"><form class="form-horizontal"><div class="form-group"><label class="col-sm-4"><h4>Account Number</h4></label><div class="col-sm-8"><input ng-model="data.account"/></div></div><div class="form-group"><label class="col-sm-4"><h4>Customer Email</h4></label><div class="col-sm-8"><input ng-model="data.email"/></div></div><div class="form-group"><label class="col-sm-4"><h4>System Count</h4></label><div class="col-sm-8 text-left-md"><select ng-options="e as e.systems for e in evals" ng-model="data.newInvite"></select></div></div><div class="row"><div class="col-sm-12 text-center"><button ng-click="createNewInvite()" class="btn btn-lg btn-accent">Invite</button></div></div></form></card-content></card><card ng-if="successfulInvite" class="success"><card class="success"><card-content class="gray text-center"><div class="row"><div class="col-sm-12"><h4 class="nomar"><span aria-hidden="true" class="icon-check-alt green">&nbsp;</span><span class="light">You have successfully invited&nbsp;</span>{{successfulInvite.email}}&nbsp;<span class="light">with account number&nbsp;</span>{{successfulInvite.account_number}}.</h4></div></div><div class="row"><div class="col-sm-12 text-center"><button ng-click="reset()" class="btn btn-lg btn-accent">Reload form</button></div></div></card-content></card></card><card ng-if="failedInvite" class="failure"><card class="success"><card-content class="gray text-center"><div class="row"><div class="col-sm-12"><h4 class="nomar"><i aria-hidden="true" class="fa fa-times-circle red">&nbsp;</i>Invitation to {{failedInvite.email}} with account number {{failedInvite.account_number}} failed. &nbsp;<!--If its a duplicate error.  We have a specific message.--><span ng-if="error.status == 409">This account has previously activated a sales invited evaluation. &nbsp;\nPlease contact <a href="mailto:insights@redhat.com">insights@redhat.com</a>&nbsp; to grant additional invitations.</span><!--otherwise, just show the raw error from the api.--><span ng-if="error.status != 409">{{error.data}}</span></h4></div></div><div class="row"><div class="col-sm-12 text-center"><button ng-click="reset()" class="btn btn-lg btn-accent">Try again</button></div></div></card-content></card></card></div></div></div></div></div>'),
a.put("js/states/maintenance/maintenance.html",'<div class="maintenance-page"><div ng-class="{\'inactive\': !expandBar, \'active\': expandBar}" class="page-header"><div class="content-block"><div class="create-plan-actions text-right pull-right"><a ng-click="MaintenanceService.showMaintenanceModal()" class="create-plan"><span translate="translate">&nbsp;Create a plan</span><i class="fa fa-plus-circle"></i></a><a ng-click="newSuggestion()" ng-if="isInternal" class="create-plan"><small translate="translate" class="red">New suggested plan<i class="fa fa-plus-circle"></i></small></a></div><h1 class="page-title pull-left"><i class="fa fa-wrench">&nbsp;</i><span translate="translate">Planner</span></h1></div><maintenance-plan-bar></maintenance-plan-bar></div><div class="content-wrap"><div class="row search"><div class="col-sm-8 col-md-9"><search-box ng-model="searchTerm"></search-box></div><div class="col-sm-4 col-md-3 ui-filters"><maintenance-category-select category="category" on-select="setCategory(category)"></maintenance-category-select></div></div><div ng-show="loading" class="row row-short"><div class="col-xs-12"><div class="load text-center"><div class="spinner spinner-lg"></div><span translate="translate">Loading plans…</span></div></div></div><div class="rha-notifications"></div><div ng-if="!loading"><div ng-if="!shownPlans.length" class="row"><div class="text-center"><h4 translate="translate">No plans</h4></div></div><div ng-if="category === \'future\' || category === \'past\'" ng-repeat="plansPerMonth in shownPlansByMonth" class="row"><div class="col-sm-12"><h3>{{plansPerMonth[0].start | moment:\'MMMM YYYY\'}}</h3></div><maintenance-plan ng-repeat="plan in plansPerMonth | searchMaintenancePlans: searchTerm track by plan.maintenance_id"></maintenance-plan></div><div ng-if="category === \'unscheduled\' || category === \'suggested\'" class="row"><maintenance-plan ng-repeat="plan in shownPlans | searchMaintenancePlans: searchTerm | orderBy:\'-maintenance_id\' track by plan.maintenance_id"></maintenance-plan></div></div></div></div>'),a.put("js/states/overview/overview.html",'<div class="overview"><div class="header"><h1 translate="translate" class="page-title title"><i class="fa fa-bar-chart"></i><span translate="translate">Overview</span></h1><actions-light></actions-light></div><div class="page flexgrid equalheights"><div class="rha-notifications"></div><div class="row"><div class="col-md-5 col-lg-6 left-col"><div class="grid-block"><section class="widget-block"><span ng-show="isInternal" class="pull-right">[<a ng-click="edit()">edit</a>]</span><h2 class="title"><i class="fa fa-fire"></i><span translate="translate">Latest</span></h2><handcrafted-content></handcrafted-content></section></div><new-systems></new-systems></div><div class="col-md-7 col-lg-6 right-col border-bottom"><div class="grid-block"><section class="widget-block"><h2 class="title"><i class="fa fa-wrench"></i><span translate="translate">Actions&nbsp;</span><span translate="translate" class="light">Summary</span><a translate="translate" ui-sref="app.actions" class="cta-link">View actions</a></h2><severity-summary stats="stats"></severity-summary></section></div><div ng-if="!paid()" class="grid-block"><section class="widget-block"><h2 class="title"><i class="fa fa-bullseye">&nbsp;</i><span translate="translate">Optimize&nbsp;</span><span translate="translate" class="light">Your Experience</span></h2><goals-lite></goals-lite></section></div><div ng-if="config.isPlannerEnabled" class="grid-block"><maintenance-plan-lite></maintenance-plan-lite></div></div></div></div></div>'),a.put("js/states/rules/list-rules.html",'<section><!--platform-filter--><rule-filter></rule-filter><div class="content-wrap"><div class="section"><div class="row"><div class="col-sm-12"><div class="btn-group pull-right"><a ui-sref="app.admin-topic" ng-show="user.is_internal" class="btn btn-sm btn-app">Topics Admin</a></div><div ng-hide="loading" class="push-top-narrow rules-filters"></div></div></div><div class="row row-short"><div class="col-sm-12"><section ng-show="loading"><div class="spinner spinner-lg"></div></section><div class="rha-notifications"></div><div ng-hide="loading" class="rules-group"><div class="rules-group-content"><div ng-repeat="rule in rules | filter:filter | orderBy:\'description\'" ng-class="{faded: rule.ack_id, hidden: (hideIgnored &amp;&amp; rule.ack_id)}" class="content-block content-block-outline"><div id="{{::rule.rule_id}}" class="header"><!--TODO: activate new item--><!--.new-item NEW!--><div class="pull-right"><span translate="translate" ng-class="{\'rule-inactive\': rule.ack_id, \'rule-active\': !rule.ack_id}" class="label label-default inline-right">INACTIVE</span><ansible-icon value="rule.ansible" ng-if="config.isPlannerEnabled"></ansible-icon></div><span ng-click="permalink(rule.rule_id, true, 30)" class="title pointer"><i ng-class="rule.category.toLowerCase()" class="fa category-icon inline-right"></i><span>{{ ::rule.category }} &gt; {{ ::rule.description }}</span><i class="fa fa-link permalink"></i></span></div><div class="content ng-animate-enabled"><div ng-bind-html="::rule.summary_html | trust_html" target-blank="" class="gray"></div><div class="link-pinned gray top"><a ng-if="rule.article" href="{{rule.article}}" target="_blank">Knowledgebase</a></div></div><div ng-if="canIgnoreRules" class="footer footer-short"><div class="row"><div class="col-sm-6"><div class="icon-group icon-group-severity"><severity-icon severity="rule.rec_impact" type="impact"></severity-icon><severity-icon severity="rule.rec_likelihood" type="likelihood"></severity-icon><severity-icon severity="rule.severity" type="severity"></severity-icon></div></div><div class="col-sm-6 text-right"><strong ng-if="rule.impacted_systems !== undefined &amp;&amp; !rule.ack_id"><a ui-sref="app.actions-rule({category: rule.category.toLowerCase(), rule: rule.rule_id})" translate="translate" ng-disabled="rule.impacted_systems === 0">View Impacted Systems ({{rule.impacted_systems}})</a></strong><div class="sep"></div><rule-toggle rule="rule"></rule-toggle></div></div></div></div></div></div></div></div></div></div></section>'),a.put("js/states/security/security.html",'<div class="container info-page-intro text-center band band-hero"><div class="row"><div class="col-sm-12"><insights-logo></insights-logo></div></div></div><div class="band band-white info-page band-last"><div class="container info-page"><div class="row"><div class="col-md-12"><section class="section"><h1 translate="translate">Security</h1></section><section id="introduction" class="section introduction"><h3 translate="translate">Introduction</h3><p translate="translate">Red Hat Insights provides a mechanism for customers to get actionable intelligence regarding  suggested improvements to deployed Red Hat software. As part of this optional offering, Red Hat processes configuration data about a customer’s environment using Red Hat hosted and/or provided tools; this document covers the security measures Red Hat puts in place to provide secure transmission, processing, and analysis of this data by those tools.</p><p translate="translate">Red Hat is committed to evaluating, implementing and monitoring the industry security standards for those tools as they continue to evolve.</p></section><section id="on-premise" class="section on-premise"><h3 translate="translate">On Premise Security</h3><p translate="translate">Security of customer systems is paramount and Red Hat Insights has made extensive efforts to ensure that our shipped software meets the highest standards.</p><ul><li translate="translate">Insights software which executes on premise has been through a security review by Red Hat Product Security which is the same team that addresses security concerns in all other products across the Red Hat portfolio.</li><li translate="translate">Communication with Red Hat can be sent through secure proxies for audit and network ACLs.</li><li translate="translate">Enrollment is opt-in, which means we’ll never collect data from systems without your explicit approval and can be scheduled daily or weekly.</li><li translate="translate">All communication with Red Hat occurs over encrypted channels using TLS</li><li translate="translate">All TLS traffic with Red Hat servers is verified with a trusted certificate that is bundled with the application, ensuring that communications can not be intercepted, such as by a man in the middle attack.</li><li translate="translate">The default communication model from client systems to Red Hat servers occurs with mutual TLS or two-way authentication using digital certificates.</li></ul></section><section id="client-side" class="section client-side"><h3 translate="translate">Client Side On Premise Data Control</h3><p translate="translate">Red Hat Insights allows customers to have control of the information that is monitored for analytical purposes; and Red Hat Insights makes it simple for subscribers to view  the information which is monitored.</p><ul><li translate="translate">Red Hat Insights collects both targeted and minimal system information rather than entire logs.</li><li translate="translate">Red Hat automatically attempts to remove critical security information such as passwords before uploading when stored in standard locations</li><li translate="translate">Common types of sensitive information can be opted out of through pre-built configuration profiles</li><li translate="translate">Subscribers can blacklist any command, file, or piece of metadata that they prefer not be monitored by Red Hat Insights.</li><li translate="translate">The commands, files, and metadata monitored by Red Hat Insights are listed in a single file that is GPG signed and available at any time for easy inspection.</li><li translate="translate">Personally Identifiable Information is not collected.</li></ul></section><section id="infrastructure" class="section infrastructure"><h3 translate="translate">Infrastructure Security</h3><p translate="translate">Security of customer data in Red Hat is a priority and every effort is made to ensure that information is not unnecessarily persisted and that it is secured using industry standard best practices.</p><ul><li translate="translate">All customer data is stored within a secure physical data center with controlled access.</li><li translate="translate">Our internal 3-tiered infrastructure is compartmentalized into different physical networks and firewalled to ensure services are isolated for maximum security.</li><li translate="translate">All volumes containing customer data at rest are encrypted with LUKS encryption</li><li translate="translate">All parts of the internal infrastructure transmit their logs to a centralized log aggregator for inspection and analysis.</li></ul></section><section id="best-practices" class="section best-practices"><h3 translate="translate">Development Best Practices</h3><ul><li translate="translate">All software is analyzed with static code analyzers and all reported issues are fixed before code is deployed into production.</li><li translate="translate">Code is peer reviewed.</li></ul></section></div></div></div></div><div class="band band-alt band-narrow info-page"><div class="container"><div class="row"><div class="col-md-12"><section class="section"><h3 translate="translate">Additional Resources</h3><a href="https://access.redhat.com/products/red-hat-insights#getstarted" translate="translate" class="btn btn-app cta-link cta-link-sm cta-link-white info-links">Getting started with Red Hat Insights</a><a ui-sref="login" translate="translate" class="btn btn-app cta-link cta-link-sm cta-link-white info-links">Log in to Red Hat Insights</a></section></div></div></div></div>'),a.put("js/states/splash/splash.html",'<div class="landing-page-top band band-hero band-first band-narrow"><div class="container"><div class="row"><div class="col-sm-10 col-sm-offset-1"><h1 translate="translate" class="headline">You can\'t fix what you can\'t see</h1><div translate="translate" class="strapline">Take the guesswork out of infrastructure optimization with Red Hat Insights proactive analytics and real-time intelligence.</div></div></div><div class="row"><div class="col-sm-12 text-center"><a href="https://access.redhat.com/products/red-hat-insights#getstarted" translate="translate" class="btn btn-app">Getting started guide</a><span translate="translate" class="strapline btn-seperator">or</span><a ui-sref="app.overview" translate="translate" class="btn btn-app">Go to the application</a></div></div></div></div><div class="intro-video band band-whispy"><div class="container"><div class="row"><div class="col-sm-12"><h2 translate="translate" class="section-header text-center">Introduction to Red Hat Insights</h2><div class="videowrapper"><iframe width="752" height="423" src="https://www.youtube.com/embed/MfRnKe-xxLM" frameborder="0" allowfullscreen="allowfullscreen"></iframe></div></div></div></div></div><div id="ansible" class="ansible band band-white"><div class="container"><div class="row"><div class="col-sm-4 col-md-offset-1 hidden-xs text-center"><img src="images/g_ansible-venn.png"/></div><div class="col-sm-8 col-md-6"><!--img.logo.logo-ansible(src=\'../images/l_ansible.svg\')--><h2 translate="translate" class="section-title">Automate discovery and remediation</h2><p translate="translate">Automate the resolution of Insights findings through Ansible Playbooks.</p><p><strong>Red Hat Insights&nbsp;</strong><span translate="translate">creates significant time savings and helps avoid firefighting by enabling automatic resolution of critical issues before they affect your business. Optimize your environment and boost security with</span><strong>Red Hat Insights.</strong></p></div></div></div></div><div class="pre-footer band band-white"><div class="container text-center"><h2 translate="translate" class="section-header">Start proactively finding and fixing infrastructure risks today</h2><h2 translate="translate">Your current subscription provides a free 30-day evaluation</h2><a href="https://access.redhat.com/products/red-hat-insights#getstarted" translate="translate" class="btn btn-app">TRY IT</a></div></div><div class="core-values band band-gray-light"><div class="container"><div class="row"><div class="col-sm-4 core-value"><div class="text-center"><div class="icon icon-split"><i class="fa fa-sliders"></i></div><h4 translate="translate" class="uppercase bold">Avoid firefighting</h4><p translate="translate">Get in-depth analysis of risks on an individual system, topic, or site-wide level, so you can address them before they affect your business.</p></div></div><div class="col-sm-4 core-value"><div class="text-center"><div class="icon icon-split icon-split-orange"><i class="fa fa-crosshairs"></i></div><h4 translate="translate" class="uppercase bold">Act on advice you can trust</h4><p translate="translate">Resolve issues quickly and take the guesswork out of remediation using tailored resolutions created by domain experts and cross-referenced against thousands of similar environments.</p></div></div><div class="col-sm-4 core-value"><div class="text-center"><div class="icon icon-split icon-split-red"><i class="fa fa-cogs"></i></div><h4 translate="translate" class="uppercase bold">Master complexity</h4><p translate="translate">Ensure integration of high-priority security analysis in an operations-friendly workflow with a view of all actions prioritized by level of risk.</p></div></div></div></div></div><div class="testimonial band band-black"><div class="container"><blockquote><p translate="translate">...With Red Hat Insights, we can resolve critical issues before they occur. We no longer have to look at individual systems because we have one tool that gives us much more comprehensive and actionable information on our infrastructure.</p><p translate="translate">It\'s important to have a company like Red Hat that\'s working toward the same goals we are, that understands our business and what we\'re trying to accomplish, and understands our infrastructure and our businesses. As the market continues to change and new technologies are released, we\'ll continue to change as well, and we expect Red Hat to be an important partner to help us on that journey.</p></blockquote><author class="author"><strong>Jason Cornell,&nbsp;</strong>Manager of Cloud and Infrastructure Automation, Cox Automotive</author></div></div><div class="heartbleed band band-white"><div class="container"><h2 translate="translate" class="section-header text-center">Real-Time Risk Assessment</h2><div class="row"><div class="col-sm-8 col-sm-offset-2"><img src="images/g_heartbleed.png"/></div></div></div></div><div class="whitepaper band band-whispy"><div class="container"><h2 translate="translate" class="section-header text-center">Related Resources</h2><div class="flexgrid equalheights related-resources"><div class="row"><div class="col-sm-6 col-lg-3"><div class="card card-white"><h4 translate="translate" class="uppercase bold card-title">Red Hat Insights Blog</h4><p translate="translate">Want to learn about the newest Red Hat Insights features and discover how to get the most out of the Insights service?</p><div class="full-width-button-wrapper bottom"><a target="_blank" href="https://access.redhat.com/blogs/insights" translate="translate" class="btn">Read Blog Posts</a></div></div></div><div class="col-sm-6 col-lg-3"><div class="card card-white"><h4 translate="translate" class="uppercase bold card-title">Datasheet</h4><p translate="translate">Learn about the benefits Insights can provide and technical requirements.</p><div class="full-width-button-wrapper bottom"><a target="_blank" href="images/rh-insights-datasheet-3-2017.pdf" translate="translate" class="btn">Read More</a></div></div></div><div class="col-sm-6 col-lg-3"><div class="card card-white"><h4 translate="translate" class="uppercase bold card-title">2017 Summit Announcement</h4><p translate="translate">Predict and prevent problems before they occur in your IT infrastructure with actionable intelligence powered by Red Hat.</p><div class="full-width-button-wrapper bottom"><a target="_blank" href="https://www.redhat.com/en/about/press-releases/red-hat-delivers-analytics-driven-automation-latest-version-insights-ansible-integration" translate="translate" class="btn">View Press Release</a></div></div></div><div class="col-sm-6 col-lg-3"><div class="card card-white"><h4 translate="translate" class="uppercase bold card-title">Virtual Security Event</h4><p translate="translate">Hear Mayo Clinic explain how they used Red Hat Insights to proactively intercept security risks.</p><div class="full-width-button-wrapper bottom"><a target="_blank" href="https://vts.inxpo.com/Launch/Event.htm?ShowKey=31574" translate="translate" class="btn">View Virtual Event</a></div></div></div></div></div></div></div><div class="video band band-gray-light"><div class="container"><div class="row"><div class="col-sm-12"><h2 translate="translate" class="section-header text-center">See Insights in Action</h2></div></div><div class="row"><div class="col-sm-12 text-center"><div class="file-video"><iframe width="1139" height="641" src="https://www.youtube.com/embed/t1tlntxyJyc" frameborder="0" allowfullscreen="allowfullscreen" class="media-youtube-player rh-analytics-youtube"></iframe></div></div></div></div></div>'),a.put("js/components/actions/actionsBreadcrumbs/actionsBreadcrumbs.html",'<div class="actions-breadcrumbs"><ol ng-show="getCrumbs().length" class="breadcrumb actions-crumbs"><li ng-repeat="crumb in getCrumbs()" ng-class="{active: $last}" ng-show="getCrumbs().length &gt; 1"><a ng-hide="$last" ng-click="crumbClick(crumb)">{{crumb.label | translate | titlecase}}</a><span ng-show="$last &amp;&amp; $index &lt; 2">{{crumb.label| translate | titlecase }}</span><span ng-show="$last &amp;&amp; $index &gt;= 2">{{crumb.label| translate}}</span></li></ol></div>'),a.put("js/components/actions/actionsRule/actionsRule.html",'<!--platform-filter--><div class="row"><div class="col-sm-12"><actions-rule-filters></actions-rule-filters></div></div><div ng-hide="loading" class="content-wrap"><actions-breadcrumbs ng-hide="loading" class="actions-breadcrumbs push-top"></actions-breadcrumbs><section class="actions-rule-details gray"><h2><div ng-if="config.isPlannerEnabled" class="pull-right"><ansible-icon value="ruleDetails.ansible"></ansible-icon></div>{{ruleDetails.description}}</h2><p ng-bind-html="ruleDetails.generic_html | trust_html"></p><all-severity-icons rule="ruleDetails" ng-if="!loading"></all-severity-icons></section><section><div class="row"><div class="col-sm-12 text-center-sm"><h3 translate="translate" ng-if="ruleDetails.type !== &quot;osp&quot;">{{allSystems.length}} Impacted Systems</h3><h3 translate="translate" ng-if="ruleDetails.type === &quot;osp&quot;">Impacted Deployments</h3></div></div></section><div infinite-scroll="doScroll()" infinite-scroll-disabled="disableScroll()" infinite-scroll-immediate-check="false"><div ng-show="getListType() === listTypes.card" class="card-table-header"><div class="row"><div class="col-sm-4"><input tooltip="Select All" type="checkbox" ng-indeterminate="checkboxes.indeterminate" ng-model="checkboxes.checked" ng-change="checkboxes.checkboxChecked(checkboxes.checked, ruleSystems)" class="action-checkbox"/><label translate="translate" ng-click="sort(\'system_type_id\')">&nbsp; Type</label></div><div class="col-sm-4"><strong translate="translate" ng-click="sort(\'toString\')">Name &nbsp;</strong><span ng-if="checkboxes.totalChecked">&nbsp;({{checkboxes.totalChecked}} Selected)</span></div><div class="col-sm-4 text-right"><strong translate="translate" ng-click="sort(\'report_count\')">Action Count</strong></div></div></div><!-- Show Create Playbook, Add to Plan if at least one system has been selected--><div class="row row-short"><div class="col-sm-3 col-lg-2"><div class="dropdown"><button data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" translate="translate" ng-disabled="!checkboxes.totalChecked || !config.isPlannerEnabled" class="btn btn-default dropdown-toggle">Actions<span class="caret"></span></button><ul class="dropdown-menu"><li ng-if="config.isPlannerEnabled"><a ng-click="addToPlan(false)" translate="translate">Create a new Plan/Playbook<ansible-icon value="true" show-tooltip="false" class="inline-left"></ansible-icon></a></li><li ng-if="config.isPlannerEnabled"><a ng-click="addToPlan(true)" ng-disabled="!plans.future.length &amp;&amp; !plans.unscheduled.length" translate="translate">Add to existing Plan/Playbook<ansible-icon value="plans.future.length || plans.unscheduled.length" show-tooltip="false" class="inline-left"></ansible-icon></a></li></ul></div></div><div class="col-sm-6 col-sm-offset-3 col-lg-offset-4"><list-type class="text-right-sm"></list-type></div></div><div class="row row-short"><div class="col-sm-12"><system-card ng-repeat="system in ruleSystems" system="system" rule="ruleDetails" checkboxes="checkboxes" ng-show="getListType() === listTypes.card"></system-card></div></div><div ng-show="getListType() === listTypes.table" class="row row-short"><div class="col-sm-12"><table class="table nomar ng-table table-fixed"><thead><tr><th style="width: 30px"><input tooltip="Select All" type="checkbox" ng-indeterminate="checkboxes.indeterminate" ng-model="checkboxes.checked" ng-change="checkboxes.checkboxChecked(checkboxes.checked, ruleSystems)" class="action-checkbox"/></th><th style="width: 27%;" ng-class="predicate | sortClass:\'system_type_id\':reverse" ng-click="sort(\'system_type_id\')" class="sortable"><div translate="translate" class="sort-indicator">Type</div></th><th ng-class="predicate | sortClass:\'toString\':reverse" ng-click="sort(\'toString\')" class="sortable"><div translate="translate" class="sort-indicator">Name</div></th><th style="width: 27%;" ng-class="predicate | sortClass:\'last_check_in\':!reverse" ng-click="sort(\'last_check_in\')" class="sortable"><div translate="translate" class="sort-indicator">Reported </div></th></tr></thead><tbody><tr ng-click="checkboxes.rowClick($event, system.system_id)" ng-mousedown="checkboxes.rowClick($event, system.system_id)" ng-class="{\'stale\': !system.isCheckingIn}" ng-repeat="system in ruleSystems" data-id="{{system.system_id}}"><td style="width: 30px"><input type="checkbox" ng-model="checkboxes.items[system.system_id]" ng-click="checkboxes.rowClick($event, system.system_id); $event.stopPropagation();" class="selectme"/></td><td style="width: 27%;"><type-icon type-id="system.system_type_id" include-text="true"></type-icon></td><td class="break"><a ng-click="showSystem(system)">{{ system.toString }}</a></td><td style="width: 27%;">{{ ::system.last_check_in | timeAgo}}</td></tr></tbody></table></div></div></div><div ng-hide="loading" class="row row-short"><div class="col-xs-12"><div class="actions-back"></div></div></div></div><div ng-show="loading" class="margin-top"><div class="text-center"><div class="spinner spinner-lg"></div></div></div>'),a.put("js/components/actions/severitySummary/severitySummary.html",'<div class="widget severity-summary"><ul><li><div ng-if="ruleCount.info || !loaded" ui-sref="app.topic({id: \'low-risk\'})" class="pointer"><div class="metrics"><strong>{{\'Low\' | translate}}</strong><span ng-if="(ruleCount.info / ruleCount.total) &lt; 80" class="num">&nbsp;({{100 * ruleCount.info / ruleCount.total || 0 | number:1}}%)</span></div><div class="progress-bar"><div role="progressbar" aria-valuemin="0" aria-valuemax="100" ng-style="ruleCount.info / ruleCount.total | toWidth" class="progress green"></div><div class="bar"></div></div></div><div ng-if="!ruleCount.info &amp;&amp; loaded" class="no-errors"><i aria-hidden="true" class="fa fa-check-circle inline-right"></i><span translate="translate">You have no issues of low severity</span></div></li><li><div ng-if="ruleCount.warn || !loaded" ui-sref="app.topic({id: \'medium-risk\'})" class="pointer"><div class="metrics"><strong>{{\'Medium\' | translate}}</strong><span ng-if="(ruleCount.warn / ruleCount.total) &lt; 80" class="num">&nbsp;({{100 * ruleCount.warn / ruleCount.total || 0 | number:1}}%)</span></div><div class="progress-bar"><div role="progressbar" aria-valuemin="0" aria-valuemax="100" ng-style="ruleCount.warn / ruleCount.total | toWidth" class="progress yellow"></div><div class="bar"></div></div></div><div ng-if="!ruleCount.warn &amp;&amp; loaded" class="no-errors"><i aria-hidden="true" class="fa fa-check-circle inline-right"></i><span translate="translate">You have no issues of medium severity</span></div></li><li><div ng-if="ruleCount.error || !loaded" ui-sref="app.topic({id: \'high-risk\'})" class="pointer"><div class="metrics"><strong>{{\'High\' | translate}}</strong><span ng-if="(ruleCount.error / ruleCount.total) &lt; 80" class="num">&nbsp;({{100 * ruleCount.error / ruleCount.total || 0 | number:1}}%)</span></div><div class="progress-bar"><div role="progressbar" aria-valuemin="0" aria-valuemax="100" ng-style="ruleCount.error / ruleCount.total | toWidth" class="progress orange"></div><div class="bar"></div></div></div><div ng-if="!ruleCount.error &amp;&amp; loaded" class="no-errors"><i aria-hidden="true" class="fa fa-check-circle inline-right"></i><span translate="translate">You have no issues of high severity</span></div></li><li><div ng-if="ruleCount.critical || !loaded" ui-sref="app.topic({id: \'critical-risk\'})" class="pointer"><div class="metrics"><strong>{{\'Critical\' | translate}}</strong><span ng-if="(ruleCount.critical / ruleCount.total) &lt; 80" class="num">&nbsp;({{100 * ruleCount.critical / ruleCount.total || 0 | number:1}}%)</span></div><div class="progress-bar"><div role="progressbar" aria-valuemin="0" aria-valuemax="100" ng-style="ruleCount.critical / ruleCount.total | toWidth" class="progress red"></div><div class="bar"></div></div></div><div ng-if="!ruleCount.critical &amp;&amp; loaded" class="no-errors"><i aria-hidden="true" class="fa fa-check-circle inline-right"></i><span translate="translate">You have no issues of critical severity</span></div></li></ul></div>'),a.put("js/components/actions/actionsRuleFilters/actionsRuleFilters.html",'<div class="actions-rule-filters ui-filters"><div class="row"><!--.col-sm-4--><!--  product-select--><div class="col-sm-3"><check-in-select></check-in-select></div><div class="col-sm-6 col-sm-offset-3"><label translate="translate" class="invisible">Search</label><search-box on-search="search.doFilter(model)"></search-box></div><!--.col-sm-4div(ng-show=\'getSelectedProduct() === "osp"\')\n  osp-deployment-select\n  //osp-type-multi-button //GET /latest/rules doesn\'t support roles yet\ndiv(ng-show=\'getSelectedProduct() === "rhev"\')\n  //rhev-type-multi-button //GET /latest/rules doesn\'t support roles yet\ndiv(ng-show=\'getSelectedProduct() === "docker"\')\n  docker-host-select\n  //docker-type-multi-button //GET /latest/rules doesn\'t support roles yet--></div><div class="row row-short"><div class="col-sm-6"><a ng-click="resetFilters()"><strong>Reset filters &nbsp;</strong><i class="fa fa-refresh"></i></a></div><div class="col-sm-6 text-right"><expand-all-button ng-show="!loading &amp;&amp; !loadingSystems"></expand-all-button></div></div></div>'),a.put("js/components/actions/systemSummary/systemSummary.html",'<div class="widget key-issues"><div class="row"><div class="col-sm-12"><div ng-if="stats.systems.affected &gt; 0 || !loaded" ui-sref="app.topic({id: \'critical\'})" class="pointer"><div class="metrics"><strong translate="translate">{{stats.systems.affected}} of {{stats.systems.total}} systems have critical issues</strong></div><div class="progress-bar"><div role="progressbar" aria-valuemin="0" aria-valuemax="100" ng-style="stats.systems.affected / stats.systems.total | toWidth" class="progress red"></div><div class="bar"></div></div></div><div ng-if="stats.systems.affected === 0 &amp;&amp; loaded" class="no-errors"><i aria-hidden="true" class="fa fa-check-circle inline-right"></i><span translate="translate">You have no issues of critical severity</span></div></div></div></div>'),a.put("js/components/announcements/announcementsScroll/announcementsScroll.html",'<div class="col-sm-12"><!-- add the \'active\' class only when the caret has been clicked and the notification is expanded--><h3 ng-if="items.length === 0" translate="translate" class="text-center">You have no announcements.</h3><div ng-repeat="a in announcements" ng-class="{\'acked\': a.acked}" class="content-block content-block-outline announcement"><header id="{{::a.id.toString()}}" class="header gray"><div class="row"><div class="col-sm-8 col-md-9 col-lg-10"><div ng-click="permalink(a.id.toString(), true, 30)" class="title pointer"><span>{{a.title}}</span></div></div><div class="col-sm-4 col-md-3 col-lg-2 text-right"><date><strong>{{ (a.start || a.created_at) | date }}&nbsp;&nbsp;</strong></date><span ng-class="{\'read\' : read}" class="message-status-toggle"><i ng-if="a.acked" ng-click="ackAnnouncement(a)" class="fa fa-check-circle-o acked"></i><i ng-if="!a.acked" ng-click="ackAnnouncement(a)" class="fa fa-circle-o"></i></span></div></div></header><div class="content"><div ng-if="canCreate" class="row"><div class="col-sm-9"><div ng-if="canCreate &amp;&amp; a.start || a.end" class="row"><div class="col-sm-12"><strong translate="translate">Start/End:&nbsp;</strong>{{a.start | date}} - {{a.end | date}}</div></div><div ng-if="a.body" class="row row-short"><div class="col-sm-12"><p>{{a.body}}</p></div></div></div><div class="col-sm-3 text-right"><strong><a title="Delete" ng-click="deleteAnnouncement(a)">Delete</a><div class="sep"></div><a title="Edit" ng-click="editAnnouncement(a)">Edit</a></strong></div></div><!-- show dismiss button if announcement has not been acked--><div ng-if="!canCreate &amp;&amp; !a.acked" class="row"><div class="col-sm-8"><p>{{a.body}}</p></div><div class="col-sm-4"><button ng-click="ackAnnouncement(a)" class="btn">Dismiss</button></div></div><div ng-if="!canCreate &amp;&amp; a.acked" class="row"><div class="col-sm-12"><p>{{a.body}}</p></div></div></div><!--footer.footer.gray(ng-if="canCreate")--></div></div>'),
a.put("js/components/card/systemCard/systemCard.html",'<div ng-class="{\'stale\': !system.isCheckingIn}" class="system-card"><card expandable="expandable" on-toggle="toggleContent(ctx)"><card-header><div class="row"><div class="col-sm-4"><div style="display: inline-block;padding:1px;" tooltip="{{checkboxTooltip}}" tooltip-trigger="mouseenter" tooltip-append-to-body="true" tooltip-placement="top"><input ng-if="checkboxes" type="checkbox" ng-model="checkboxes.items[system.system_id]" ng-click="checkboxes.rowClick($event, system.system_id); $event.stopPropagation();" ng-disabled="!selectable" class="selectme"/>&nbsp;&nbsp;</div><type-icon type-id="system.system_type_id" ng-if="!loading" include-text="true"></type-icon><span ng-if="!system.isCheckingIn">&nbsp;(stale system)</span><i ng-if="loading" class="fa spinner-xs spinner"></i></div><div class="col-sm-4"><div class="ellipsis-wrapper"><strong title="{{hostnameTitle}}" ng-click="showActions(); $event.stopPropagation();" tooltip="{{getSystemName(system)}}" tooltip-trigger="mouseenter" tooltip-append-to-body="true" tooltip-placement="top" class="hostname">&nbsp;{{getSystemName(system)}}</strong></div></div><div class="col-sm-4 text-right"><a ng-click="showActions(); $event.stopPropagation();" class="action-count"><span translate="translate" translate-n="system.report_count" translate-plural="{{$count}} Actions" class="text">{{system.report_count}} Action</span><span ng-class="{\'success\': !system.report_count, \'fail\': system.report_count}" class="pull-right status-icon"><i ng-click="showActions(); $event.stopPropagation();" ng-class="{\'no-action\': !system.report_count, \'yes-action\': system.report_count}" class="fa"></i></span></a></div></div></card-header><card-content><div ng-if="!system.isCheckingIn"><strong>Last checkin:&nbsp;</strong><span ng-hide="system.last_check_in" translate="translate">never</span><span ng-show="system.last_check_in">{{system.last_check_in | timeAgo}}</span></div><div ng-if="hasFamilyMembers()" class="separation-header"><h4>Related Systems</h4></div><!-- Family members--><div class="row"><div class="col-sm-12"><div ng-if="hasFamilyMembers()" class="family-members"><div class="row"><link-group ng-repeat="linkGroup in linkGroups | orderBy: &quot;+priority&quot;" group="linkGroup.members" typeid="linkGroup.system_type_id" class="link-group col-md-12"></link-group></div><!-- System metadata--><div class="separation-header metadata-separator"><h4>System Metadata</h4></div></div></div></div><div class="row row-short"><div class="col-sm-12"><div class="metadata"><system-metadata ng-if="!$parent.card.collapsed" system="system"></system-metadata></div></div></div><div class="row row-short"><div class="col-sm-12"><div class="system-card-actions"><div translate="translate" ng-disabled="!selectable" ng-click="unregister()" class="btn btn-outline btn-xs">Unregister</div></div></div></div></card-content><card-footer></card-footer></card></div>'),a.put("js/components/config/dev/dev.html",'<div class="dev"><div class="user"><h2>Demo Mode<div><button ng-show="user.demo_mode || user.is_internal" ng-click="demoModeButtonOnClick()" class="btn btn-small">{{getDemoModeButtonText()}}</button></div></h2><h2>API Prefix</h2><table><tbody><tr><td>Presets</td><td><select ng-options="v as k for (k, v) in presets.apiPrefix" ng-model="tmp.apiPrefix" ng-change="updateApiPrefix()"></select></td></tr><tr><td>Choose your own adventure</td><td><input ng-model="tmp.apiPrefix" class="full-width"/></td></tr></tbody></table><h2>API Version</h2><table><tbody><tr><td>Presets</td><td><select ng-options="v for v in presets.apiVersions" ng-model="tmp.apiVersion" ng-change="updateApiVersion()"></select></td></tr></tbody></table><div style="padding-top: 20px;"><button ng-click="save()" class="btn btn-small pull-right">Save API Settings</button></div><h2>Fake user info</h2><table><tbody><tr><td>email</td><td><input ng-model="user.email"/></td></tr><tr><td>name</td><td><input ng-model="user.first_name"/><input ng-model="user.last_name"/></td></tr></tbody></table><h2>Fake Entitlements</h2><table><tbody><tr><td>Presets</td><td><select ng-options="k as k for (k, v) in presets.entitlements" ng-model="tmp.tmpEnt" ng-change="setEntitlements()"></select></td></tr><tr><td> State</td><td><pre>{{getPretty(user.current_entitlements)}}</pre></td></tr></tbody></table></div></div>'),a.put("js/components/config/groups/groups.html",'<div class="groups"><section><div ng-bind="message" ng-show="message.length &gt; 0" role="alert" class="alert alert-danger"></div><group-form></group-form></section><section ng-show="loading"><div class="spinner spinner-lg"></div><span translate="translate">Loading group list info …</span></section><section><div class="row"><div class="col-xs-12"><h2 ng-show="!loading" translate="translate" class="page-title">Groups List</h2><div ng-show="isCreating" class="text-center"><div class="spinner spinner-lg"></div><span translate="translate">Creating group …</span></div></div></div><div class="row"><div class="col-xs-12"><div class="group-list"><group ng-repeat="group in groups | orderBy:\'display_name\'" class="group"></group></div></div></div></section></div>'),a.put("js/components/config/hidden/hidden.html",'<div class="acks row active"><div class="col-md-8"><h2 translate="translate" class="page-title">Hidden Rules</h2><p translate="translate" translate-n="acks.length" translate-plural="You currently have {{$count}} hidden rules.">You currently have 1 hidden rule.</p><p translate="translate"><strong>Note: </strong>These are account wide. You must be an Org Admin to make these changes.</p></div><div class="col-md-12"><section ng-show="loading"><div class="spinner spinner-lg"></div><span translate="translate">Loading hidden rules…</span></section></div><div class="col-md-12"><section ng-hide="loading"><table ng-show="acks.length" class="table table-striped"><thead><tr><th translate="translate">Category</th><th translate="translate">Rule</th><th></th></tr></thead><tbody><tr ng-repeat="ack in acks"><td>{{ack.rule.category}}</td><td>{{ack.rule.description}}</td><td><div ng-click="delete(ack)" class="fa fa-times pointer pull-right"></div></td></tr></tbody></table></section></div></div>'),a.put("js/components/config/messaging/messaging.html",'<div class="acks row active"><div class="col-md-12"><h2 translate="translate" class="page-title">Messaging Preferences</h2><p translate="translate">Manage Red Hat Insights email subscriptions for your personal login. All emails will be sent to the email address associated with your login. To update your address see <a href="https://www.redhat.com/wapps/ugc/protected/personalInfo.html" target="_blank">Personal Info</a>.</p><form ng-submit="save(form)" name="form"><fieldset><div ng-repeat="campaign in campaigns | orderBy:\'id\' track by campaign.id" class="checkbox push-bottom-narrow"><label><input type="checkbox" ng-model="campaign.enrolled"/>{{campaign.label|translate}}<div ng-if="campaign.description" class="small"> {{campaign.description|translate}}</div></label></div><button name="submit" ng-disabled="form.$pristine" translate="translate" class="btn btn-app">Update</button></fieldset></form></div></div>'),a.put("js/components/config/permissions/permissions.html",'<div class="user-permissions"><div class="row"><div class="col-xs-12"><input ng-model="newPermission.sso_username"/><select ng-options="p as p.label for p in permissions" ng-model="tmpPermission"></select><div ng-click="addNewPermission()" class="btn">Add</div></div></div><div class="row group-list"><div ng-repeat="user in users | filter:newPermission.sso_username" class="col-sm-4"><div class="group user-permission"><div class="name header"><a ng-click="newPermission.sso_username = user">{{user}}</a></div><div class="content"><div class="permissions"><div ng-repeat="p in userMap[user]" class="perm">{{p.permission.label}}<div ng-click="removeSingle(p)" class="remove fa fa-times"></div></div></div><div class="remove pull-right"><a ng-click="removeAll(userMap[user])" class="fa fa-times">Remove all!</a></div></div></div></div></div></div>'),a.put("js/components/config/settings/settings.html",'<div class="acks row active"><div class="col-md-8"><h2 translate="translate" class="page-title">Settings</h2><p translate="translate"><strong>Note: </strong>These are account wide. You must be an Org Admin to make these changes.</p></div><div class="col-md-12"><section ng-show="loading"><div class="spinner spinner-lg"></div><span translate="translate">Loading Settings</span></section></div><div class="col-md-12"><section ng-hide="loading"><table class="table table-striped"><thead><tr><th translate="translate">Setting</th><th translate="translate">Value</th></tr></thead><tbody><tr ng-repeat="setting in settings"><td>{{setting.name}}</td><td> <input type="checkbox" ng-model="setting.value"/></td></tr></tbody></table><button ng-click="save()" translate="translate">Save</button></section></div></div>'),a.put("js/components/filterComponents/actionsSelect/actionsSelect.html",'<div class="actions-select"><label translate="translate">System Health</label><div class="dropdown"><button type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="btn btn-default dropdown-toggle"><span>{{selected.label}}</span><span class="caret"></span></button><ul class="dropdown-menu"><li ng-repeat="option in options"><a ng-click="select(option)">{{option.label}}</a></li></ul></div></div>'),a.put("js/components/filterComponents/categoryMultiButton/categoryMultiButton.html",'<div class="category-buttons"><multi-button buttons="categoryButtons" multiselect="false" allownone="false"></multi-button></div>'),a.put("js/components/filterComponents/checkInSelect/checkInSelect.html",'<div class="checkin-select"><label translate="translate">System Status</label><div class="dropdown"><button type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="btn btn-default dropdown-toggle"><span>{{selected.label}}</span><span class="caret"></span></button><ul class="dropdown-menu"><li ng-repeat="option in options"><a ng-click="select(option)">{{option.label}}</a></li></ul></div></div>'),a.put("js/components/filterComponents/filterButton/filterButton.html",'<a ng-class="{active: getShowFilters()}" ng-click="toggleShowFilters()" class="btn btn-outline btn-xs filter-label"><i class="fa fa-filter fa-2x filter-button"></i>Filter</a>'),a.put("js/components/filterComponents/filterSummary/filterSummary.html",'<div ng-repeat="f in fields" class="summary-text"><span class="summary-name">{{f.name}}:&nbsp; </span><span class="summary-value">{{f.value}}</span><span ng-if="!$last">&nbsp;&nbsp;&nbsp;&nbsp;</span></div>'),a.put("js/components/filterComponents/hideIgnoredToggle/hideIgnoredToggle.html",'<div class="col-toggle"><label translate="translate" class="full-width">Hide Ignored</label><div class="switch"><input id="cmn-toggle-2" type="checkbox" ng-model="hideIgnored" ng-change="persistHideIgnored()" class="cmn-toggle cmn-toggle-square"/><label for="cmn-toggle-2"></label></div></div>'),a.put("js/components/filterComponents/productSelect/productSelect.html",'<div ng-if="!getRHELOnly()" class="environment-buttons"><label translate="translate">Platform</label><div class="dropdown gray"><button type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="btn btn-default dropdown-toggle">{{getProductLabel(getSelectedProduct())}}<span class="caret"></span></button><ul class="dropdown-menu"><li ng-repeat="product in products"><a ng-click="doSelectProduct(product)">{{getProductLabel(product)}}</a></li></ul></div></div>'),a.put("js/components/filterComponents/ruleStateMultiButton/ruleStateMultiButton.html",'<div class="rule-state-buttons"><multi-button buttons="ruleStateButtons" multiselect="false" allownone="false"></multi-button></div>'),a.put("js/components/filterComponents/searchBox/searchBox.html",'<div class="input-group"><span class="input-group-addon"><div class="i fa fa-search"></div></span><input type="text" autofocus="autofocus" placeholder="{{placeholder}}" ng-keypress="keyPressed($event)" ng-model="model" ng-change="change()" class="search-box form-control"/></div>'),a.put("js/components/filterComponents/severityMultiButton/severityMultiButton.html",'<div class="severity-buttons"><multi-button buttons="severityButtons" multiselect="false" allownone="false"></multi-button></div>'),a.put("js/components/group/views/form.html",'<div class="row"><form ng-submit="create(newGroup)"><div class="col-xs-12 col-sm-8 col-md-7"><label translate="translate">Create a new group</label><input ng-model="newGroup.display_name" placeholder="{{\'Enter new group name\'|translate}}" class="full-width"/></div><div class="col-xs-12 col-sm-4 col-md-2"><a ng-disabled="!newGroup.display_name" ng-click="create(newGroup)" class="pointer add-group"><i class="fa fa-plus">&nbsp;</i><span translate="translate">Add Group</span></a></div></form></div>'),a.put("js/components/group/views/group.html",'<div ng-click="isCollapsed = !isCollapsed" id="group-{{group.id}}" class="header pointer"><div class="row"><div class="col-xs-8 col-sm-11"><div class="host-info"><h4 class="host">{{group.display_name}}<small> &mdash; <span translate="translate" translate-n="group.systems.length" translate-plural="{{$count}} systems">1 system</span></small></h4></div></div><div class="col-xs-4 col-sm-1"><div class="options pull-right"><div ng-class="{\'fa-minus-square-o\':!isCollapsed, \'fa-plus-square-o\':isCollapsed}" class="fa"></div></div></div></div></div><div collapse="isCollapsed" class="content ng-animate-enabled"><div class="row"><system-table group="group" type="available"></system-table><system-table group="group" type="in"></system-table></div></div><div class="footer"><div class="row"><div class="col-xs-12"><a ng-click="deleteGroup(group)" translate="translate" class="pull-right pointer">Delete Group</a></div></div></div>'),a.put("js/components/inventory/inventoryActions/inventoryActions.html",'<div class="inventory-actions"><div class="row"><div class="col-sm-12 text-center-sm"><h3 translate="translate" translate-n="getTotal()" translate-plural="{{$count}} Systems" class="system-count">1 System</h3><span ng-if="checkboxes.totalChecked" translate="translate">&nbsp; ({{totalSystemsSelected}} Selected)</span><br/><a ng-click="registerSystem()" ng-if="isPortal" class="link"><span class="icon icon-inline"><i class="fa fa-plus"></i></span><strong translate="translate">Register More</strong></a></div></div></div>'),a.put("js/components/inventory/inventoryActions/unregisterConflict.html",'<div class="wrapper"><div class="unregister-conflict"><p translate="translate">The following systems types cannot be unregistered on their own:</p><ul><li ng-repeat="role in roles">{{role.name}} ({{role.count}}x)</li></ul><p translate="translate">Unregister their entire deployment to remove them.</p><p><strong translate="translate" translate-n="validCount" translate-plural="Do you want to proceed with the remaining {{$count}} systems?"> \nDo you want to proceed with the remaining 1 system?</strong></p></div></div>'),a.put("js/components/inventory/inventoryFilters/inventoryFilters.html",'<section class="gray inventory-filters ui-filters"><div class="row"><div class="col-sm-3"><check-in-select></check-in-select></div><div class="col-sm-3"><actions-select></actions-select></div><div class="col-sm-6"><label translate="translate" class="invisible">Search</label><search-box on-search="filter.setSearchTerm(model); filter.doFilter();" throttle="1000"></search-box></div></div><div class="row row-short"><div class="col-sm-6"><a ng-click="resetFilters()"><strong>Reset filters &nbsp;</strong><i class="fa fa-refresh"></i></a></div></div></section>'),a.put("js/components/inventory/system/system.html",""),a.put("js/components/misc/trimmedText/trimmedText.html",'<span class="trimmed-text"><span ng-if="showTooltip" tooltip="{{text}}" class="trimmed">{{trimmedText}}</span><span ng-if="!showTooltip" class="not-trimmed">{{trimmedText}}</span></span>'),a.put("js/components/maintenance/maintenanceCategorySelect/maintenanceCategorySelect.html",'<div class="category-select"><div class="dropdown gray"><button type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="btn btn-default dropdown-toggle"><span>{{selected.label}} ({{plans[selected.id].length}})</span><span class="caret dropdown-caret"></span></button><ul class="dropdown-menu"><li ng-repeat="option in options" ng-if="plans[option.id].length || option.id !== &quot;suggested&quot;"><a ng-click="select(option)" ng-disabled="!plans[option.id].length &amp;&amp; option.id !== &quot;unscheduled&quot;">{{option.label}} ({{plans[option.id].length}})</a></li></ul></div></div>'),a.put("js/components/maintenance/maintenanceModal/maintenanceModal.html",'<div ng-class="{updating: loader.loading}" class="maintenance-plan-modal main-content updatable"><div ng-if="loader.loading" class="spinner spinner-lg"></div><div class="modal-actions"><div ng-click="close()" class="fa fa-close pull-right"></div></div><div class="modal-header"><div class="text-center"><i class="rh-icon-book"></i><h2 translate="translate">Plan / Playbook Builder</h2></div></div><div class="content-block"><div class="form-group"><div class="row row-short"><div class="radio col-sm-4"><label class="control-label"><input type="radio" ng-model="newPlan" ng-value="true"/><strong translate="translate">Create new plan</strong></label></div><div ng-click="!newPlan &amp;&amp; (newPlan = true)" class="col-sm-8"><input type="text" name="name" maxlength="255" ng-disabled="!newPlan" ng-model="newPlanAlias" placeholder="{{\'Plan Name\' | translate}}" autofocus="autofocus" class="form-control"/></div></div><div class="row row-short"><div class="radio col-sm-4"><label class="control-label"><input type="radio" ng-model="newPlan" ng-value="false" ng-disabled="!availablePlans.length"/><strong>Add to existing plan</strong></label></div><div ng-click="newPlan &amp;&amp; availablePlans.length &amp;&amp; (newPlan = false)" class="col-sm-8"><ui-select ng-model="selected.plan" append-to-body="false" ng-disabled="newPlan"><ui-select-match placeholder="{{\'Plan Name\' | translate}}" class="form-control ui-select-match"><span ng-if="!selected.plan.name.length" translate="translate">Unnamed plan ({{selected.plan.maintenance_id}})</span><span ng-if="selected.plan.name.length">{{selected.plan.name}} ({{selected.plan.maintenance_id}})</span><span ng-if="selected.plan.start">&nbsp;- {{selected.plan.start | moment:\'LL\'}}</span></ui-select-match><ui-select-choices repeat="plan in availablePlans | searchMaintenancePlans: $select.search | orderBy:[\'start\', getPlanName, \'maintenance_id\']" group-by="planGroupFn" group-filter="planOrderFn" class="ui-select-choices"><span ng-if="!plan.name.length" translate="translate">Unnamed plan ({{plan.maintenance_id}})</span><span ng-if="plan.name.length">{{plan.name}} ({{plan.maintenance_id}})</span><span ng-if="plan.start">&nbsp; - {{plan.start | moment:\'LL\'}}</span></ui-select-choices></ui-select></div></div></div><div ng-if="systemSelection !==&quot;preselected&quot;" class="form-group"><hr/><div class="row row-short"><div class="radio col-sm-4"><label class="control-label"><input type="radio" ng-model="systemSelection" ng-value="&quot;group&quot;" ng-disabled="!Group.groups.length" ng-change="systemSelectionChanged(systemSelection)"/><strong translate="translate">System Group</strong></label></div><div ng-click="systemSelection !== &quot;group&quot; &amp;&amp; Group.groups.length &amp;&amp; systemSelectionChanged(&quot;group&quot;)" class="col-sm-8"><ui-select ng-model="selected.group" append-to-body="false" ng-disabled="systemSelection !== &quot;group&quot;"><ui-select-match placeholder="{{\'Select group\' | translate}}" class="form-control ui-select-match"><span>{{selected.group.display_name}}</span></ui-select-match><ui-select-choices repeat="group in Group.groups | filter:{display_name: $select.search} | orderBy:[\'display_name\', \'id\']" class="ui-select-choices"><span>{{group.display_name}}</span></ui-select-choices></ui-select></div></div><div class="row row-short"><div class="radio col-sm-3"><label class="control-label"><input type="radio" ng-model="systemSelection" ng-value="&quot;system&quot;" ng-change="systemSelectionChanged(systemSelection)"/><strong translate="translate">Specific System</strong></label></div><div class="col-sm-1"><div ng-show="loadingSystems" class="spinner"></div></div><div ng-click="systemSelection !== &quot;system&quot; &amp;&amp; systemSelectionChanged(&quot;system&quot;)" class="col-sm-8"><ui-select ng-model="selected.system" append-to-body="false" ng-disabled="systemSelection !== &quot;system&quot;"><ui-select-match placeholder="{{\'Select system\' | translate}}" class="form-control ui-select-match"><span>{{selected.system.toString}} ({{selected.system.report_count}})</span></ui-select-match><ui-select-choices repeat="system in availableSystems | orderBy:[\'toString\', \'system_id\']" refresh="searchSystems($select.search)" refresh-delay="200" class="ui-select-choices"><span>{{system.toString}} ({{system.report_count}})</span></ui-select-choices></ui-select></div></div><div class="row row-short"><div class="radio col-sm-4"><label class="control-label"><input type="radio" ng-model="systemSelection" ng-value="&quot;all&quot;" ng-change="systemSelectionChanged(systemSelection)"/><strong translate="translate">All Systems</strong></label></div></div></div><hr/><div class="row available-actions"><div ng-if="plan &amp;&amp; tableParams &amp;&amp; mode === MODES.rule &amp;&amp; !noActions" class="content-block maintenance-plan rule"><div class="header bordered"><div class="title"><strong>{{rule.description}}</strong></div><all-severity-icons rule="rule" ng-if="!loader.loading"></all-severity-icons></div><div class="nopad table-responsive"><maintenance-table-systems params="tableParams" edit="tableEdit" item="rule" on-save="postSave()" on-cancel="close()"></maintenance-table-systems></div></div><div ng-if="plan &amp;&amp; tableParams &amp;&amp; mode === MODES.system &amp;&amp; !noActions" class="content-block maintenance-plan rule"><div class="header bordered"><span class="icon-inline"><type-icon type-id="selected.system.system_type_id" include-text="false"></type-icon></span><a ng-click="showSystemModal(system)"><strong>{{selected.system.toString}} &nbsp;&nbsp;</strong></a><span class="item"><strong translate="translate">Last check in:</strong><span ng-class="selected.system | checkInStyle">&nbsp;&nbsp;{{selected.system.last_check_in | timeAgo}}</span></span></div><div class="nopad table-responsive"><maintenance-table-actions params="tableParams" edit="tableEdit" item="true" on-save="postSave()" on-cancel="close()"></maintenance-table-actions></div></div><div ng-if="plan &amp;&amp; tableParams &amp;&amp; mode === MODES.multi &amp;&amp; !noActions" class="content-block maintenance-plan rule"><div class="header bordered"><strong translate="translate" translate-n="systems.length" translate-plural="Actions available for {{$count}} selected systems" ng-if="systemSelection === &quot;preselected&quot;">Actions available for selected system</strong><strong ng-if="systemSelection === &quot;group&quot;"><span translate="translate">Actions available for group: {{selected.group.display_name}}&nbsp;</span><span translate="translate" translate-n="2" translate-plural="({{$count}} systems)">(1 system)</span></strong><strong translate="translate" ng-if="systemSelection === &quot;all&quot;">Actions available for your inventory</strong></div><div class="nopad table-responsive"><maintenance-table-multi params="tableParams" edit="tableEdit" item="true" on-save="postSave()" on-cancel="close()"></maintenance-table-multi></div></div><div ng-if="tableParams &amp;&amp; noActions" class="content-block"><div class="text-center"><strong><i class="fa fa-check-circle success inline-right"></i><span translate="translate">No actions available on selected systems.</span></strong></div></div></div></div></div>'),a.put("js/components/maintenance/maintenancePlan/maintenancePlan.html",'<div ng-class="{\'col-md-12 active\' : edit.isActive(plan.maintenance_id), \'col-md-6\': !edit.isActive(plan.maintenance_id)}" id="maintenance-plan-{{plan.maintenance_id}}" class="plan-outer-wrap"><div ng-class="{\'active\' : edit.isActive(plan.maintenance_id), pointer: !edit.isActive(plan.maintenance_id)}" class="plan-wrap"><div ng-class="{\'overdue\': plan.overdue &amp;&amp; !plan.silenced, updating: loader.loading}" class="content-block maintenance-plan updatable"><div ng-if="loader.loading" class="spinner spinner-lg"></div><div class="header plan-header"><div ng-class="{\'active\': edit.isActive(plan.maintenance_id), \'inactive\' : !edit.isActive(plan.maintenance_id)}" class="actions-panel"><i ng-if="edit.isActive(plan.maintenance_id) &amp;&amp; !isReadOnly()" ng-click="delete()" tooltip="{{\'Delete this plan\' | translate}}" class="fa fa-trash-o action"></i><i ng-click="minimize()" ng-show="edit.isActive(plan.maintenance_id)" class="fa fa-compress action"></i><i ng-click="silence()" ng-if="plan.overdue &amp;&amp; !plan.silenced" tooltip="{{\'Snooze this plan\' | translate}}" class="fa fa-moon-o action"></i></div><div ng-if="!editBasic.active &amp;&amp; (!plan.suggestion || plan.suggestion === \'accepted\')" class="details"><div class="header-title editable"><span ng-if="plan.overdue" class="icon-inline"><i class="fa fa-calendar-times-o red"></i></span><span ng-if="!editBasic.active &amp;&amp; plan.hidden &amp;&amp; isInternal" class="icon-inline"><i class="fa fa-eye-slash"></i></span><h2 ng-class="{\'red\': plan.overdue}" ng-dblclick="editBasic.toggle()" class="title"><span ng-if="plan.name.length" ng-dblclick="editBasic.toggle()">{{plan.name}} ({{plan.maintenance_id}})</span><span ng-if="!plan.name || !plan.name.length" translate="translate">Unnamed plan ({{plan.maintenance_id}})</span><i ng-click="editBasic.toggle()" ng-if="!isReadOnly()" tooltip="{{\'Click to edit this plan\' | translate}}" class="fa fa-pencil-square-o edit-toggle"></i></h2><p ng-if="error" class="red">{{error}}</p></div><div ng-if="plan.start" class="date-time editable"><div ng-if="plan.start" class="start"><b>{{plan.start | moment:\'dddd, LL\'}}</b></div><div class="group"><i class="fa fa-clock-o"></i><time-range start="plan.start" end="plan.end" ng-dblclick="editBasic.toggle()" class="time-local"></time-range><i ng-click="editBasic.toggle()" ng-if="!isReadOnly()" tooltip="{{\'Click to edit this plan\' | translate}}" class="fa fa-pencil-square-o edit-toggle"></i></div><div class="group"><i class="fa fa-clock-o"></i><span translate="translate">UTC&nbsp;</span><time-range start="plan.start" end="plan.end" timezone="\'UTC\'" ng-dblclick="editBasic.toggle()" class="time-utc"></time-range></div></div></div><div ng-if="editBasic.active" class="details-edit pull-left"><form novalidate="novalidate" name="editBasicForm" ng-submit="editBasic.save()" class="editable-form"><div ng-if="plan.suggestion === \'proposed\' &amp;&amp; isInternal" class="form-group"><label class="full-width red">Suggested plan</label><textarea placeholder="Describe why Red Hat is suggesting this plan" ng-model="editBasic.description" class="form-control"></textarea><hr/></div><div ng-class="{\'has-error\': editBasicForm.name.$invalid}" class="form-group nick"><label translate="translate">Plan Name:&nbsp;</label><input type="text" name="name" placeholder="{{\'Unnamed plan\' | translate}}" maxlength="255" ng-model="editBasic.name" class="form-control"/></div><div ng-class="{\'has-error\': editBasicForm.date.$invalid}" class="form-group title"><label translate="translate">Date:&nbsp;<i tooltip="{{editDateTooltip}}" class="fa fa-question-circle"></i></label><input type="text" name="date" id="planEditDate-{{plan.maintenance_id}}" date-time="date-time" ng-model="editBasic.start" view="date" min-view="date" max-view="date" format="LL" auto-close="true" highlights="calendarDates" date-change="dateChanged" class="form-control"/></div><div class="date-time"><div ng-class="{\'has-error\': editBasicForm.time.$invalid}" class="form-group form-group-inline"><label class="full-width">Start time:&nbsp;</label><input type="time" name="time" ng-model="editBasic.time" ng-change="editBasic.sync()" step="900" ng-required="editBasic.start" class="time"/></div><div ng-class="{\'has-error\': editBasicForm.number.$invalid}" class="form-group form-group-inline"><label class="full-width">Duration:&nbsp;</label><input type="number" name="duration" min="0" step="15" ng-model="editBasic.duration" ng-required="editBasic.start" class="duration"/></div></div><div ng-if="editBasic.start" class="form-group form-group-inline"><label class="full-width">UTC time:&nbsp;</label>{{editBasic.start | moment:\'LLL\':\'UTC\'}}</div><div class="form-group"><div role="group" class="pull-right btn-group"><button type="button" ng-click="editBasic.toggle()" translate="translate" class="btn btn-sm btn-blank action">Cancel</button><button type="submit" ng-disabled="editBasicForm.$invalid" translate="translate" class="btn btn-sm btn-accent action">Save</button></div></div></form></div><div ng-if="!editBasic.active &amp;&amp; (plan.suggestion === \'proposed\' || plan.suggestion === \'rejected\')" class="details-suggested editable"><p class="description"><span ng-if="plan.hidden &amp;&amp; isInternal" class="icon-inline"><i class="fa fa-eye-slash"></i></span><span ng-if="plan.suggestion === \'rejected\'" class="icon-inline"><i tooltip="This suggestion was rejected by the customer" class="fa fa-meh-o red"></i></span><strong ng-show="plan.description" ng-dblclick="editBasic.toggle()">{{plan.description}}</strong><strong ng-hide="plan.description" ng-dblclick="editBasic.toggle()" translate="translate">This is a plan suggested by Red Hat</strong><i ng-click="editBasic.toggle()" ng-if="!isReadOnly()" tooltip="{{\'Click to edit this plan\' | translate}}" class="fa fa-pencil-square-o edit-toggle"></i></p></div></div><div ng-class="{\'hidden\' : edit.isActive(plan.maintenance_id)}" class="plan-summary"><div class="metrics"><strong>{{plan.actionsDone}}/{{plan.actions.length}}&nbsp;</strong><span translate="translate">Actions resolved</span></div><div class="progress-bar"><div ng-style="plan.actionsDone / plan.actions.length | toWidth" class="progress"></div><div class="bar"></div></div></div><!-- Edit mode--><div ng-if="edit.isActive(plan.maintenance_id)" class="content content-tabs nobordertop active"><tabset type="noformat" vertical="false" justified="true" role="tablist" class="nav nav-justified"><!-- Actions Tab--><tab role="tabpanel" heading="{{\'Actions\' | translate}}" deselect="addRule.reset()"><div ng-repeat="rule in (plan.rules | orderBy:[\'-severityNum\', \'-actions.length\', \'rule_id\'] | offset:pager.offset | limitTo:pager.perPage) track by rule.id" class="content-block rule"><div ng-init="tableEdit = false" class="header bordered"><div class="title"><ansible-icon value="rule.ansible" show-planner-line="false" class="inline-right"></ansible-icon><strong>{{rule.description}}</strong><span ng-hide="isReadOnly()" class="pull-right"><a ng-hide="tableEdit" ng-click="tableEdit = true"><strong translate="translate" tooltip="{{\'Click to add/remove affected systems\' | translate}}">Edit</strong></a><i ng-if="tableEdit" ng-click="removeActions(rule.actions)" tooltip="{{\'Remove this action\' | translate}}" class="fa fa-trash-o"></i></span></div><all-severity-icons rule="rule" ng-if="!loading"></all-severity-icons></div><div class="content nopad table-responsive"><maintenance-table-systems params="tableParams(rule, true, false)" edit="tableEdit" item="rule"></maintenance-table-systems></div></div><div translate="translate" ng-if="!plan.rules.length">This plan is empty</div><pagination ng-if="plan.rules.length &gt; pager.perPage" total-items="plan.rules.length" ng-model="pager.currentPage" items-per-page="pager.perPage" ng-change="pager.update()" class="pull-right pagination-blue"></pagination></tab><!-- Systems Tab--><tab role="tabpanel" heading="{{\'Systems\' | translate}}" deselect="addSystem.reset()"><div ng-repeat="system in (plan.systems | orderBy:[\'_name\', \'system_id\'] | offset:pager.offset | limitTo:pager.perPage) track by system.system_id" class="content-block system"><div class="header bordered"><span class="icon-inline"><type-icon type-id="system.system_type_id" include-text="false"></type-icon></span><a ng-click="showSystemModal(system)"><strong>{{system._name}} &nbsp;&nbsp;</strong></a><span class="item"><strong translate="translate">Last check in:</strong><span ng-class="system | checkInStyle">&nbsp;&nbsp;{{system.last_check_in | timeAgo}}</span></span><span ng-hide="isReadOnly()" class="pull-right"><a ng-hide="tableEdit" ng-click="tableEdit = true"><strong translate="translate" tooltip="{{\'Click to add/remove actions for this system\' | translate}}">Edit</strong></a><i ng-if="tableEdit" ng-click="removeActions(system.actions)" tooltip="{{\'Remove this system\' | translate}}" class="fa fa-trash-o"></i></span><div class="text-center red hidden"><strong>System restart required&nbsp;&nbsp;</strong><i class="fa fa-refresh"></i></div></div><div class="content nopad table-responsive"><maintenance-table-actions params="tableParams(system, false, false)" edit="tableEdit" item="system"></maintenance-table-actions></div></div><div translate="translate" ng-if="!plan.systems.length">This plan is empty</div><pagination ng-if="plan.systems.length &gt; pager.perPage" total-items="plan.systems.length" ng-model="pager.currentPage" items-per-page="pager.perPage" ng-change="pager.update()" class="pull-right pagination-blue"></pagination></tab></tabset></div><footer ng-show="edit.isActive(plan.maintenance_id)" class="footer"><a ng-if="isInternal &amp;&amp; !plan.hidden" ng-click="hidden(true)" class="btn btn-sm btn-default"><i class="fa fa-eye-slash inline-right"></i><span translate="translate">Hide</span></a><a ng-if="isInternal &amp;&amp; plan.hidden" ng-click="hidden(false)" class="btn btn-sm btn-default"><i class="fa fa-eye inline-right"></i><span translate="translate">Publish</span></a><a ng-if="plan.suggestion === \'proposed\' &amp;&amp; !plan.hidden" ng-click="accept()" class="btn btn-sm btn-accent"><i class="fa fa-check inline-right"></i><span translate="translate">Accept</span></a><a ng-if="plan.suggestion === \'proposed\' &amp;&amp; !plan.hidden" ng-click="reject()" class="btn btn-sm btn-default"><i class="fa fa-close inline-right"></i><span translate="translate">Ignore</span></a><a ng-click="MaintenanceService.showMaintenanceModal(null, null, plan)" ng-if="!isReadOnly()" class="btn btn-sm btn-accent pull-right"><span translate="translate">Add actions</span></a><a translate="translate" ng-click="exportPlan(plan.maintenance_id)" class="btn btn-sm btn-open-blue action pull-right"><i class="fa fa-download inline-right"></i><span translate="translate">Export CSV</span></a><a translate="translate" ng-click="generatePlaybook()" ng-disabled="!ansibleSupport" class="btn btn-sm btn-open-blue action pull-right"><i class="svg ansible-icon inline-right"><img src="images/l_ansible-blue.svg"/></i><span translate="translate">Generate Playbook</span></a></footer></div></div></div>'),
a.put("js/components/maintenance/maintenancePlaybook/maintenancePlaybook.html",'<div class="modal-actions"><i ng-click="close()" class="fa fa-close"></i></div><div class="modal-header"><div class="text-center"><i class="svg"><img src="images/l_ansible-black.svg"/></i><h2 translate="translate">Create Ansible Playbook</h2></div></div><!-- Screen 1 - Rules Without Plays--><div ng-if="step === RULES_WITHOUT_PLAYS &amp;&amp; rulesWithoutPlays.length &gt; 0" class="modal-body"><div class="row"><div class="col-sm-12"><p class="red"><b><span translate="translate">Some actions cannot be resolved automatically.&nbsp;</span><span translate="translate" translate-n="rulesWithoutPlays.length" translate-plural="The following rules">The following rule</span><span translate="translate">&nbsp;will not be included in this Playbook:</span></b></p></div></div><div class="row"><div class="col-sm-12"><ul><li ng-repeat="rule in rulesWithoutPlays | orderBy:[\'category\',\'description\'] | limitTo:listLimit"><i ng-class="rule.category.toLowerCase()" class="fa category-icon inline-right"></i><b>{{ rule.category }} </b>&gt; {{ rule.description }} for&nbsp;<b>{{rule.system_type.displayNameShort}}</b></li></ul><a ng-show="listLimit !== undefined &amp;&amp; listLimit &lt; rulesWithoutPlays.length" ng-click="listLimit = undefined" translate="translate">View More ({{rulesWithoutPlays.length - listLimit}})</a><a ng-show="listLimit === undefined" ng-click="listLimit = MINIMUM_NUMBER_OF_ITEMS" translate="translate">View Less</a></div></div><div class="row row-short"><div class="col-sm-12"><div class="text-center"><btn ng-click="generatePlaybook(plan.maintenance_id)" translate="translate" class="btn btn-accent">OK, proceed</btn></div></div></div></div><!-- Screen 2 - Resolve Ambiguous Resolutions--><div ng-if="step === RESOLVE_QUESTIONS" class="modal-body"><div class="row"><div class="col-sm-12"><div class="group"><div class="group-title group-title-table"><table><tbody><tr><td><i ng-class="currentQuestion.rule.category.toLowerCase()" class="fa category-icon inline-right"></i><b>{{ currentQuestion.rule.category }} &gt; {{ currentQuestion.rule.description }}</b></td></tr></tbody></table></div></div></div></div><div class="row"><div class="col-sm-12"><div class="group"><div class="group-title"><i ng-class="currentQuestion.system_type.imageClass" class="fa fa-times-circle"></i><b>&nbsp; {{currentQuestion.system_type.displayName}}</b></div><div class="group-content"><ul><li ng-repeat="action in currentQuestion.systemsAffected | limitTo:listLimit | orderBy:\'+system.toString\'">{{action.system.toString}}</li></ul><a ng-show="listLimit !== undefined &amp;&amp; listLimit &lt; currentQuestion.systemsAffected.length" ng-click="listLimit = undefined" translate="translate">View More ({{currentQuestion.systemsAffected.length - listLimit}})</a><a ng-show="listLimit === undefined" ng-click="listLimit = MINIMUM_NUMBER_OF_ITEMS" translate="translate">View Less</a></div></div></div></div><div class="row"><div class="col-sm-12"><div class="group"><div class="group-title"><b translate="translate">Would you like to:</b></div><div class="group-content"><div ng-repeat="resolution in currentQuestion.resolutions" class="radio"><label for="resolution-type-{{$index}}"><input type="radio" ng-model="currentQuestion.resolution_type" name="resolution-type" id="resolution-type-{{$index}}" ng-value="resolution.resolution_type"/>{{resolution.description}}</label></div></div></div></div></div><div class="row"><div class="col-sm-12"><nav aria-label="Selection navigation"><ul class="pagination pagination-dots"><li ng-repeat="question in questions track by $index" ng-class="{\'active\': currentQuestion.index === $index}"><a ng-click="goToStep($index)" ng-class="{\'sr-only\': currentQuestion.index === $index, disabled: currentQuestion.hasAnswer}">{{$index + 1}}</a></li><li><a ng-click="goToStep(questions.length)">{{questions.length + 1}}</a></li></ul></nav></div></div></div><!-- Screen 3--><div ng-if="step === SUMMARY" class="modal-body"><div ng-if="error !== null" class="row"><div class="col-sm-12"><p class="red"><b>{{error}}</b></p></div></div><div class="row"><div class="col-sm-12"><div class="group"><div class="group-pretitle"><b translate="translate">This Playbook will resolve the following rules:</b></div></div></div></div><div class="row row-short"><div class="col-sm-12"><div class="group"><div class="group-content"><ul><li ng-repeat="(key, rule) in rulesWithPlays | limitTo: listLimit"><i ng-class="rule.category.toLowerCase()" class="fa category-icon inline-right"></i><b>{{ rule.category }}</b>&gt; {{ rule.description }} for&nbsp;<b>{{ rule.system_type.displayNameShort }}</b><ul ng-show="rule.solution !== undefined"><li>{{ rule.solution() }}</li></ul></li></ul><a ng-show="listLimit !== undefined &amp;&amp; listLimit &lt; rulesWithPlays.length" ng-click="listLimit = undefined" translate="translate">View More ({{rulesWithPlays.length - listLimit}})</a><a ng-show="listLimit === undefined" ng-click="listLimit = MINIMUM_NUMBER_OF_ITEMS" translate="translate">View Less</a></div></div></div></div><div class="row"><div class="col-sm-12"><nav aria-label="Selection navigation"><ul class="pagination pagination-dots"><li ng-repeat="question in questions track by $index"><a ng-click="goToStep($index)">{{$index + 1}}</a></li><li class="active"><a ng-click="goToStep(questions.length)" class="sr-only">{{questions.length + 1}}</a></li></ul></nav></div></div></div><div class="modal-footer"><ul ng-if="step === RESOLVE_QUESTIONS || step === SUMMARY" class="row pager pager-steps"><li class="previous col-sm-6"><a ng-click="prevStep()" ng-if="step === SUMMARY || currentQuestion.index &gt; 0 || rulesWithoutPlays.length &gt; 0" translate="translate" class="btn btn-accent"><i class="fa fa-chevron-left"></i>&nbsp;&nbsp;Previous</a></li><li ng-if="step !== SUMMARY" class="next col-sm-6"><a ng-click="nextStep()" translate="translate" class="btn btn-accent">Next&nbsp;&nbsp;<i class="fa fa-chevron-right"></i></a></li><li ng-if="step === SUMMARY" class="next col-sm-6"><a ng-click="downloadPlaybook()" translate="translate" class="btn btn-accent">Download Playbook</a></li></ul></div>'),a.put("js/components/maintenance/maintenanceTable/maintenanceTableActions.html",'<div ng-class="{updating: table.loader.loading}" class="updatable"><div ng-show="table.loader.loading" class="spinner spinner-lg"></div><table class="table nomar ng-table maintenance-table"><thead><tr><th ng-show="edit" class="text-center"><input ng-model="checkboxes.checked" type="checkbox" ng-indeterminate="checkboxes.indeterminate" ng-change="checkboxChecked()" class="select-all"/></th><th ng-class="table.sorter.getSortClass(\'display\')" ng-click="table.sorter.sort(\'display\')" class="sortable"><div translate="translate" class="sort-indicator">Action</div></th><th ng-class="table.sorter.getSortClass(\'rule.severityNum\')" ng-click="table.sorter.sort(\'rule.severityNum\')" class="sortable text-center"><div translate="translate" class="sort-indicator">Total Risk</div></th><th ng-class="table.sorter.getSortClass(\'done\')" ng-click="table.sorter.sort(\'done\')" class="sortable text-center"><div translate="translate" class="sort-indicator">Status</div></th></tr><tr ng-show="edit"><th colspan="4" class="filter"><input type="text" placeholder="Filter by rule name" ng-model="table.filter.display" ng-change="table.doFilter()" class="form-control nomar-left input-sm"/></th></tr></thead><tbody><tr ng-repeat="action in table.data track by action.id" data-id="{{action.id}}" ng-click="checkboxRowClick($event, action.id)" ng-mousedown="checkboxRowClick($event, action.id)"><td ng-show="edit" class="text-center"><input ng-model="checkboxes.items[action.id]" type="checkbox"/></td><td class="overflow"><span ng-if="action._type === 2" class="icon-inline"><i tooltip="{{\'This action is already part of another plan\' | translate}}" class="fa fa-exclamation-circle"></i></span><a ng-click="table.showSystemModal(table.params.item, action.rule)" class="action">{{action.display}}</a></td><td class="text-center"><severity-icon severity="action.rule.severity" type="severity" label=""></severity-icon></td><td class="status text-center"><status-icon status="action.done"></status-icon></td></tr></tbody><tfoot maintenance-table-footer="maintenance-table-footer"></tfoot></table></div>'),a.put("js/components/maintenance/maintenanceTable/maintenanceTableFooter.html",'<tr ng-show="edit"><td colspan="{{cols || 4}}"><div role="group" class="pull-right btn-group"><button ng-click="table.cancel()" translate="translate" class="btn btn-sm btn-blank">Cancel</button><button ng-click="table.save()" ng-disabled="!checkboxes.totalChecked" translate="translate" class="btn btn-sm btn-accent">Save</button></div></td></tr><tr ng-if="table.filteredActions.length &gt; table.pager.perPage"><td colspan="{{cols || 4}}"><pagination total-items="table.filteredActions.length" ng-model="table.pager.currentPage" items-per-page="table.pager.perPage" ng-change="table.page()" class="pull-right pagination-blue"></pagination></td></tr>'),a.put("js/components/maintenance/maintenanceTable/maintenanceTableMulti.html",'<div ng-class="{updating: table.loader.loading}" class="updatable"><div ng-show="table.loader.loading" class="spinner spinner-lg"></div><!-- cols set so that footer knows how many cols to span--><table ng-init="cols = 5" class="table nomar ng-table maintenance-table"><thead><tr><th ng-show="edit" class="text-center"><input ng-model="checkboxes.checked" type="checkbox" ng-indeterminate="checkboxes.indeterminate" ng-change="checkboxChecked()" class="select-all"/></th><th ng-class="table.sorter.getSortClass(\'display\')" ng-click="table.sorter.sort(\'display\')" class="sortable"><div translate="translate" class="sort-indicator">Action</div></th><th ng-class="table.sorter.getSortClass(\'rule.severityNum\')" ng-click="table.sorter.sort(\'rule.severityNum\')" class="sortable text-center"><div translate="translate" class="sort-indicator">Total Risk</div></th><th ng-class="table.sorter.getSortClass(\'rule.ansible\')" ng-click="table.sorter.sort(\'rule.ansible\')" class="sortable text-center"><div translate="translate" class="sort-indicator">Ansible</div></th><th ng-class="table.sorter.getSortClass(\'rule.report_count\')" ng-click="table.sorter.sort(\'rule.report_count\')" class="sortable text-center"><div translate="translate" class="sort-indicator">Affected Systems</div></th></tr><tr ng-show="edit"><th colspan="5" class="filter"><input type="text" placeholder="Filter by rule name" ng-model="table.filter.display" ng-change="table.doFilter()" class="form-control nomar-left input-sm"/></th></tr></thead><tbody><tr ng-repeat="action in table.data track by action.id" data-id="{{action.id}}" ng-click="checkboxRowClick($event, action.id)" ng-mousedown="checkboxRowClick($event, action.id)"><td ng-show="edit" class="text-center"><input ng-model="checkboxes.items[action.id]" type="checkbox"/></td><td class="overflow"><a ng-href="./actions/{{action.rule.category}}/{{action.id}}" target="_blank"><span class="wrap">{{action.display}}</span></a></td><td class="text-center"><severity-icon severity="action.rule.severity" type="severity" label=""></severity-icon></td><td class="status text-center"><ansible-icon value="action.rule.ansible" show-planner-line="false"></ansible-icon></td><td class="status text-center">{{action.rule.report_count}}</td></tr></tbody><tfoot maintenance-table-footer="maintenance-table-footer"></tfoot></table></div>'),a.put("js/components/maintenance/maintenanceTable/maintenanceTableSystems.html",'<div ng-class="{updating: table.loader.loading}" class="updatable"><div ng-show="table.loader.loading" class="spinner spinner-lg"></div><table class="table nomar ng-table maintenance-table"><thead><tr><th width="6%" ng-show="edit" class="text-center"><input ng-model="checkboxes.checked" type="checkbox" ng-indeterminate="checkboxes.indeterminate" ng-change="checkboxChecked()" class="select-all"/></th><th ng-class="table.sorter.getSortClass(\'display\')" ng-click="table.sorter.sort(\'display\')" class="sortable"><div translate="translate" class="sort-indicator">System</div></th><th width="20%" ng-class="table.sorter.getSortClass(\'system.last_check_in\')" ng-click="table.sorter.sort(\'system.last_check_in\')" class="sortable"><div translate="translate" class="sort-indicator">Last check in</div></th><th width="12%" ng-class="table.sorter.getSortClass(\'done\')" ng-click="table.sorter.sort(\'done\')" class="sortable text-center"><div translate="translate" class="sort-indicator overflow">Status</div></th></tr><tr ng-show="edit"><th colspan="4" class="filter"><input type="text" placeholder="Filter by system name" ng-model="table.filter.display" ng-change="table.doFilter()" class="form-control nomar-left input-sm"/></th></tr></thead><tbody><tr ng-repeat="action in table.data track by action.id" data-id="{{action.id}}" ng-click="checkboxRowClick($event, action.id)" ng-mousedown="checkboxRowClick($event, action.id)"><td ng-show="edit" class="text-center"><input ng-model="checkboxes.items[action.id]" type="checkbox"/></td><td class="overflow"><span class="icon-inline"><type-icon type-id="action.systemTypeIconId" ng-if="action.systemTypeIconId" include-text="false"></type-icon></span><span ng-if="action._type === 2" class="icon-inline"><i tooltip="{{\'This action is already part of another plan\' | translate}}" class="fa fa-exclamation-circle"></i></span><a ng-click="table.showSystemModal(action.system, table.params.item)" class="hostname"><trimmed-text text="{{action.display}}" length="45"></trimmed-text></a></td><td><span ng-show="::action.system.last_check_in">{{::action.system.last_check_in | timeAgo}}</span><span ng-hide="::action.system.last_check_in">--</span></td><td width="19%" class="status text-center"><status-icon status="action.done"></status-icon></td></tr></tbody><tfoot maintenance-table-footer="maintenance-table-footer"></tfoot></table></div>'),a.put("js/components/overview/articleModal/articleModal.html",'<div class="article-modal"><form novalidate="novalidate" name="articleForm" class="form-horizontal"><h2>Overview content</h2><div class="form-group row"><label for="title" class="control-label col-sm-2">Article</label><div class="col-sm-10"><ui-select ng-model="selected.article" append-to-body="false" on-select="load($item.id)" search-enabled="false"><ui-select-match placeholder="Select an article" class="form-control ui-select-match">{{selected.article.id}}</ui-select-match><ui-select-choices repeat="article in articles" class="ui-select-choices">{{article.id}}</ui-select-choices></ui-select></div></div><div ng-class="{\'has-error\': articleForm.title.$invalid &amp;&amp; articleForm.title.$dirty}" class="form-group row row-short"><label for="title" class="control-label col-sm-2">Title</label><div class="col-sm-10"><input id="title" type="text" name="title" ng-model="article.title" maxlength="255" required="required" class="form-control"/></div></div><div ng-class="{\'has-error\': error.content}" class="form-group row row-short"><div class="col-sm-12"><div class="pull-right"><yes-no yes="true" text="markdown"></yes-no>&nbsp;<yes-no no="true" text="doT"></yes-no></div><textarea id="content" placeholder="Overview content" ng-model="article.content" rows="20" class="form-control content"></textarea></div></div><div class="row"><div class="col-sm-6"><button ng-click="preview()" ng-disabled="articleForm.$invalid" class="btn btn-sm btn-secondary"><span class="icon-inline"><i class="fa fa-picture-o"></i></span>Preview</button></div><div class="col-sm-6 text-right"><button ng-click="close()" class="btn btn-sm btn-default">Cancel</button><button ng-click="save()" ng-disabled="articleForm.$invalid" class="btn btn-sm btn-primary">Save</button></div></div></form><div ng-if="previewData" class="row"><hr/><div class="col-sm-12"><h3><strong>{{previewData.title}}</strong></h3><span ng-bind-html="previewData.content_html | trust_html" class="handcrafted-content"></span></div></div></div>'),a.put("js/components/rule/ruleBreadcrumb/ruleBreadcrumb.html",'<ol class="breadcrumb"><li><a translate="translate" ui-sref="app.rules">Rules</a></li><li><a ui-sref="app.admin-rules">Rules Admin</a></li><li ng-if="rule"><span>{{ rule.plugin }}|{{ rule.error_key }}</span></li><li ng-if="insightsNamespacer.current === \'insights-app-admin-rule-tags\'"><a ui-sref="app.admin-rule-tags">Tags</a></li></ol>'),a.put("js/components/rule/ruleFilter/ruleFilter.html",'<section class="gray rule-filters"><div class="row"><div class="col-md-12"><div class="search-box-wrapper"> <search-box on-search="filter.setSearchTerm(model); filter.doFilter();" throttle="1000"></search-box></div></div><div class="col-md-12"><category-multi-button></category-multi-button></div></div></section>'),a.put("js/components/rule/ruleGroupCard/ruleGroupCard.html",'<div ng-keypress="keyPressed($event)" class="card-group"><header class="header"><div translate="translate" translate-n="plugin.hitCount" translate-plural="{{$count}} Systems" class="count">1 System</div><div class="row"><div class="col-sm-9"><i aria-hidden="true" class="fa fa-users"></i><strong><span translate="translate" class="text-uppercase">Group: &nbsp;</span><span ng-if="plugin.categories.length === 1"><i ng-class="plugin.categories[0].toLowerCase()" class="fa category-icon inline-right"></i>{{plugin.categories[0]}} ></span><span>&nbsp; {{plugin.display_name}}</span></strong></div><div class="col-sm-3 text-right-sm"><span translate="translate" translate-n="plugin.rules.length" translate-plural="{{$count}} Rules in this group">1 Rule in this group</span></div></div></header><div ng-class="{swapping: swapping}" ng-mouseenter="setActive(true)" ng-mouseleave="setActive(false)" class="content disabled-start"><div ng-click="previous()" ng-class="{disabled: !hasPrevious()}" class="prev"><i class="fa fa-arrow-left"></i></div><div ng-click="next()" ng-class="{disabled: !hasNext()}" class="next"><i class="fa fa-arrow-right"></i></div><card><card-header class="flexgrid equalheights"><div class="row"><div class="col-sm-8"><div class="title"><strong>{{index + 1}}&nbsp;</strong><em class="light">of &nbsp;</em><strong>{{plugin.rules.length}}: {{rule.description}}</strong></div><span translate="translate" ng-show="rule.acked" class="label label-default pull-right text-uppercase">inactive</span></div><div ng-if="config.isPlannerEnabled" class="col-sm-4 text-right-sm"><ansible-icon value="rule.ansible"></ansible-icon></div></div></card-header><card-content><div ng-bind-html="rule.summary_html" target-blank="" class="gray"></div></card-content><div class="footer"><div class="row"><div class="col-sm-6"><all-severity-icons rule="rule" ng-if="!swapping"></all-severity-icons></div><div class="col-sm-6 text-right-sm"><strong><a ui-sref="app.actions-rule({category: rule.category, rule: rule.rule_id})" ng-disabled="rule.hitCount === 0" translate="translate" translate-n="rule.hitCount" translate-plural="View Impacted Systems ({{$count}})">View Impacted System (1)</a></strong></div></div></div></card></div></div>'),a.put("js/components/rule/ruleListSimple/ruleListSimple.html",'<ul class="rule-list list-unstyled"><li ng-repeat="rule in (rules | orderBy:order | limitTo:limit) track by rule.rule_id"><div class="title">{{rule.description}} &nbsp;</div><a ng-click="onSelect({rule: rule})">[{{rule.rule_id}}]&nbsp;</a><i ng-click="onDelete({rule: rule})" ng-hide="readOnly" class="fa fa-times"></i><!-- I know I know--><br/><all-severity-icons rule="rule"></all-severity-icons></li><li ng-show="rules.length &gt; 10 &amp;&amp; limit"><a ng-click="limit = undefined">… ({{rules.length - limit}} more)</a></li></ul>'),a.put("js/components/rule/ruleReason/ruleReason.html",'<div class="detail-part"><h4 translate="translate" class="section-heading"><i aria-hidden="true" class="fa fa-crosshairs">&nbsp;</i>Detected issues</h4><div class="reason"><div ng-if="report.rule.reason !== \'INSIGHTS-ERROR-INTERPOLATION\'" ng-bind-html="report.rule.reason | trust_html" target-blank="" class="detail-content"></div><div ng-if="report.rule.reason === \'INSIGHTS-ERROR-INTERPOLATION\'" class="detail-content"><p><i class="fa fa-exclamation-circle i-error inline-right"></i><strong translate="translate">There was a problem obtaining action details. Please try again later.</strong></p></div></div></div>'),a.put("js/components/rule/ruleResolution/ruleResolution.html",'<div class="detail-part"><div class="detail-content answer"><h4 translate="translate" class="section-heading"><i aria-hidden="true" class="fa fa-thumbs-up">&nbsp;</i>Steps to resolve</h4><span ng-if="report.rule.resolution !== \'INSIGHTS-ERROR-INTERPOLATION\'" ng-bind-html="report.rule.resolution | trust_html" target-blank=""></span><span ng-if="report.rule.resolution === \'INSIGHTS-ERROR-INTERPOLATION\'"><p><i class="fa fa-exclamation-circle i-error inline-right"></i><strong translate="translate">There was a problem obtaining action details. Please try again later.</strong></p></span></div><div ng-if="report.details.affected_hosts &amp;&amp; (report.rule.type === &quot;osp&quot; || report.rule.type === &quot;rhev&quot;)" class="osp-affected-hosts"><table class="table table-fixed"><thead><tr><th><div>Affected Hosts</div></th></tr></thead><tbody><tr ng-repeat="affected_host in report.details.affected_hosts"><td><div>{{getSystemNameFromId(affected_host)}}</div></td></tr></tbody></table></div></div>'),a.put("js/components/rule/ruleSummaries/ruleSummaries.html",'<div class="content-wrap"><div ng-if="loading.isLoading" class="row"><div class="col-xs-12"><div class="loading-block text-center"><div class="detail-part"><div class="spinner spinner-lg"></div>{{getLoadingMessage()}}</div></div></div></div><div ng-hide="!system.reports || !system.reports.length || loading.isLoading" class="row"><div class="col-xs-12 text-right"><expand-all-button></expand-all-button></div></div><div ng-if="(!system.reports || !system.reports.length) &amp;&amp; !loading.isLoading &amp;&amp; !system.__fake &amp;&amp; !errorMessage" class="row"><div class="col-xs-12"><p class="text-center"><span class="icon icon-inline success"><i class="fa fa-check-circle"></i></span><span translate="translate">No actions</span></p></div></div><div ng-if="!loading.isLoading &amp;&amp; !system.__fake &amp;&amp; errorMessage" class="row"><div class="col-xs-12"><div ng-bind-html="errorMessage | trust_html"></div></div></div><div report="report" rule-id="rule_id" rule-filter="ruleFilter" ng-repeat="report in system.reports" class="rule-summary system-overlay-item content-block"></div></div>'),a.put("js/components/rule/ruleSummary/ruleSummary.html",'<card expandable="true" init-collapsed="initCollapsed" on-toggle="resetShowMore(ctx)"><card-header><div class="row"><div class="col-sm-12"><h3 class="title"><ansible-icon value="report.rule.ansible" ng-if="config.isPlannerEnabled" class="inline-right"></ansible-icon>{{ report.rule.category }} &gt; {{ report.rule.description }}</h3></div></div><div class="row row-short"><div class="col-sm-12"><all-severity-icons rule="report.rule"></all-severity-icons></div></div></card-header><card-content class="content ng-animate-enabled"><div class="row"><div class="col-sm-12"><div class="rule-reason"></div></div></div><div class="row row-short"><div class="col-sm-12"><div class="rule-resolution"></div><div ng-if="report.rule.node_id" node="report.rule.node_id" class="recommended-kbase"></div></div></div><div ng-show="report.rule.more_info" class="row row-short"><div class="col-xs-12"><div class="text-center border-top"><div ng-click="show.moreInfo = !show.moreInfo" class="nomar push-top-narrow pointer"><a class="link"><strong>{{show.moreInfo ? \'Hide\' : \'Show\'}}  more info &nbsp;</strong><i ng-class="{\'fa-caret-up\': show.moreInfo, \'fa-caret-down\': !show.moreInfo}" class="fa"></i></a></div></div></div></div><div collapse="!show.moreInfo" class="footer more-info ng-animate-enabled"><div ng-bind-html="report.rule.more_info_html | trust_html" ng-show="report.rule.more_info" target-blank=""></div></div></card-content></card>'),a.put("js/components/rule/ruleToggle/ruleToggle.html",'<a ng-hide="isSystemAlert(rule.rule_id)" class="red"><strong ng-click="ackAction()">{{text}}</strong></a>'),a.put("js/components/sideNav/actionsSideNav/actionsSideNav.html",'<li><a ui-sref="app.actions" ng-class="{current: includes(states.actions, state.current.name)}" translate="translate">Actions</a><ul ng-show="actions"><li><a ui-sref="app.topic({id: c, product: product})" ng-class="{current: isActive(c)}" ng-repeat="c in categories" ng-if="categoryCounts[c]"><span translate="translate" translate-n="categoryCounts[c]" translate-plural="{{c | translate | titlecase}} ({{$count}})">{{c | translate | titlecase}} (1)</span></a></li></ul></li>'),a.put("js/components/system/addSystemModal/addSystemModal.html",'<div class="modal-actions"><i ng-click="close()" class="fa fa-close pull-right"></i></div><div id="info" class="info"><div class="content"><section id="install"><h2 translate="translate" class="section-header">Install the Red Hat Insights Client and Register More Systems</h2><p translate="translate">Register your system for updates with Red Hat Subscription Manager to resolve software dependencies:</p><pre class="code-block code-terminal"><code class="language-shell"> # subscription-manager register --auto-attach</code></pre><p translate="translate">Install the Red Hat Insights RPM:</p><pre class="code-block code-terminal"><code class="language-shell"> # yum install redhat-access-insights</code></pre></section><section id="register"><h2 translate="translate" class="section-header">Register the system to Red Hat Insights</h2><pre class="code-block code-terminal"><code># redhat-access-insights --register</code></pre><p translate="translate">After registration, the Insights client will upload initial system information to Red Hat Insights. You should be able to immediately see your system in the <a ui-sref="app.inventory" ng-click="close()">Insights user interface.</a></p><p translate="translate">The initial analysis results will be available shorty thereafter.</p></section><section id="more"><h2 translate="translate" class="section-header">Advanced configuration</h2><p translate="translate">For more advanced configuration see the <a href="https://access.redhat.com/products/red-hat-insights#getstarted" target="_blank" ng-click="close()" translate="translate">getting started guide</a>.</p></section></div></div>'),a.put("js/components/system/addSystemModal/upgradeSubscription.html",'<div class="modal-actions"><i ng-click="close()" class="fa fa-close pull-right"></i></div><div id="info" class="info"><div class="content"><section id="install"><h2 translate="translate" class="section-header">You have reached your maximum <br /> number of registered systems!</h2><p><span ng-if="isEvaluation" translate="translate">You have reached your evaluation limit of 10 registered systems for Red Hat Insights.</span><span ng-if="!isEvaluation" translate="translate">You have reached your maximum number of registered systems for Red Hat Insights.</span>&nbsp;<span translate="translate"> To increase your available Red Hat Insights registrations, please</span>&nbsp;<a href="http://www.redhat.com/en/about/contact/sales" translate="translate">contact your Red Hat sales representative</a>&nbsp;<span translate="translate">to purchase Insights or request a 90 day evaluation.</span></p><p><a href="http://access.redhat.com/insights/info/#availability" translate="translate">Learn more about Red Hat Insights availability</a></p></section></div></div>'),a.put("js/components/system/systemModal/systemModal.html",'<div class="system-overlay"><div class="modal-actions"><div ng-click="close()" class="fa fa-close pull-right"></div></div><div class="modal-title"><div class="icon"><span class="fa fa-globe"></span></div><h2 ng-if="system.display_name"><div class="ellipsis-overflow"><span>{{ system.display_name }}</span></div></h2><div ng-if="system.display_name" class="ellipsis-overflow"><!-- if the display name exists.... show the hostname small--><div class="ellipsis-overflow"><div ng-if="system.hostname" class="small-name-info">hostname: {{ system.hostname }}</div></div></div><!-- dont show hostname if it is not avalible--><h2 ng-if="system.hostname &amp;&amp; !system.display_name"><b translate="translate">hostname:</b><div class="ellipsis-overflow"><span>{{ system.hostname }}</span></div></h2><!-- always show the uuid.... it must exist--><div class="ellipsis-overflow"><div class="small-name-info">UUID: {{ getUUID() }}</div></div></div><system-metadata system="system"></system-metadata><div class="separator"></div><div class="insights-main-content"><div ng-if="!system.isCheckingIn" class="message alert alert-danger alert-systems-not-checking"><span class="glyphicon glyphicon-exclamation-sign rule-margin"></span><span translate="translate">This system is not checking in.</span></div><div system="system" machine-id="system.system_id" rule="rule" rule-filter="ruleFilter" loading="loading" class="rule-summaries"></div><div ng-if="system.__fake" report="report" rule="rule" loading="loading" class="rule-summary system-overlay-item content-block"></div></div></div>'),a.put("js/components/system/systemSummaryTable/systemSummaryTable.html",'<table id="rha-systems-summary-table" ng-table="tableParams" class="table"><thead><tr><th style="width: 3%;"><label><input type="checkbox" ng-model="checkboxes.checked" ng-indeterminate="indeterminate"/></label></th><th style="width: 6%;" ng-if="isOspMode()"><div translate="translate">Type</div></th><th ng-class="{\'sort-asc\': tableParams.isSortBy(\'hostname\', \'asc\'), \'sort-desc\': tableParams.isSortBy(\'hostname\', \'desc\')}" ng-click="tableParams.sorting({\'hostname\' : tableParams.isSortBy(\'hostname\', \'asc\') ? \'desc\' : \'asc\'})" class="sortable"><div translate="translate" class="sort-indicator">Name</div></th><th ng-class="{\'sort-asc\': tableParams.isSortBy(\'reports.length\', \'asc\'), \'sort-desc\': tableParams.isSortBy(\'reports.length\', \'desc\')}" ng-click="tableParams.sorting({\'reports.length\' : tableParams.isSortBy(\'reports.length\', \'asc\') ? \'desc\' : \'asc\'})" class="sortable"><div translate="translate" class="sort-indicator">Status</div></th></tr><tr><th colspan="{{getNumCols()}}"><input type="text" ng-model="filters.hostname" placeholder="{{\'Filter\' | translate}}" class="form-control nomar-left input-sm"/></th></tr></thead><tbody><tr ng-repeat="system in $data track by system.machine_id" ng-class="::{\'stale-system\': !system.isCheckingIn, \'danger\': !system.isCheckingIn}" data-id="{{system.machine_id}}" ng-click="rowClick($event, system)" ng-mousedown="rowClick($event, system)"><div ng-if="!systemIsHeader(system)"><td ng-if="!systemIsHeader(system)"><label><input type="checkbox" ng-model="checkboxes.items[system.machine_id]"/></label></td><td ng-if="!systemIsHeader(system) &amp;&amp; isOspMode()" class="text-center"><type-icon role="cleanRole(system.metadata)"></type-icon></td><!-- we show the system always, whether they have actions or not--><td ng-if="!systemIsHeader(system)" class="break"><a ng-click="showSystem(system)" class="pointer">{{::systemToString(system) || system.machine_id}}</a></td><td ng-if="!systemIsHeader(system)" class="text-center"><div tooltip="{{actionTooltip(system.reports.length)}}" tooltip-trigger="mouseenter" tooltip-append-to-body="true" tooltip-placement="top"><span ng-hide="::system.reports.length" class="icon success"><i class="fa fa-check-circle fa-1-5x text-success"></i></span><span ng-show="::system.reports.length" ng-click="showSystem(system)" class="pointer icon failure"><i class="fa fa-exclamation-circle fa-1-5x text-danger fail"></i></span></div></td><td colspan="{{getNumCols()}}" ng-if="systemIsHeader(system)">{{system.machine_id}}</td></div></tr></tbody><tfoot><tr><td colspan="{{getNumCols()}}"><a ng-click="unregisterSystems()" ng-disabled="totalChecked == 0" class="pointer link unregister-system"><i class="fa fa-close"><span translate="translate" ng-if="!totalChecked">Unregister {{getSystemsLabel()}}</span></i><span translate="translate" translate-n="totalChecked" translate-plural="Unregister {{$count}} {{getSystemsLabel()}}" ng-if="totalChecked">Unregister {{getSystemsLabel()}}</span></a><a ng-click="registerSystem()" ng-if="showRegisterButton()" class="pointer link pull-right"><span class="icon icon-inline success"><i class="fa fa-plus"></i></span><span translate="translate">Register new system</span></a></td></tr></tfoot></table><div ng-hide="systems.length" class="text-center"><h4>No {{getSystemsLabel()}}</h4></div>'),
a.put("js/components/system/systemTable/systemTable.html",'<div class="col-md-6 group-list"><label class="full-width">{{::title | translate}}</label><input placeholder="{{\'Filter\' | translate}}" type="text" ng-model="systemsFilter" ng-model-options="{ debounce: 100 }" ng-change="filterSystems()" class="filter full-width"/><div class="filters-table"><div class="row"><div class="col-xs-6"><label class="select-all"><input type="checkbox" ng-model="checkboxes.checked" ng-indeterminate="indeterminate"/><span translate="translate">Select Visible</span></label></div><div class="col-xs-6"><div class="pull-right flush-right"><span translate="translate">Items</span><div class="dropdown-select dropdown-select-horizontal"><select ng-model="itemsPerPage" ng-options="i for i in items track by i"></select></div></div></div></div></div><div ng-class="{\'scrollable scrollable-table\': _filteredSystems.length &gt; 10}"><table class="table no-header table-groups"><tbody><tr ng-repeat="system in _filteredSystems = (filteredSystems | offset:((currentPage-1)*itemsPerPage) | limitTo:itemsPerPage)" data-id="{{system.system_id}}" ng-click="rowClick($event)" ng-mousedown="rowClick($event)" class="ng-animate-disabled"><td><label><input type="checkbox" ng-model="checkboxes.items[system.system_id]"/><span class="hostname">{{::system.toString}}</span></label></td></tr></tbody></table></div><div class="row groups-footer"><div class="col-xs-12 col-md-5"><a ng-show="type === \'in\'" ng-disabled="!totalChecked" ng-click="removeSystems()" class="link"><i class="fa fa-minus"> </i><span translate="translate"> Remove Systems</span></a><a ng-hide="type === \'in\'" ng-disabled="!totalChecked" ng-click="addSystems()" class="link"><i class="fa fa-plus"> </i><span translate="translate"> Add Systems</span></a></div><div class="col-xs-12 col-md-7"><pagination ng-hide="total &lt;= itemsPerPage" total-items="total" ng-model="currentPage" previous-text="«" next-text="»" max-size="3" rotate="false" items-per-page="itemsPerPage" ng-change="pageChanged()" class="pull-right pagination-gray"></pagination></div></div></div>'),a.put("js/components/topbar/alerts/alerts.html",'<span dropdown="" on-toggle="toggled(open)" class="dropdown dropdown-notification"><div ng-if="loading" class="spinner spinner-sm"></div><a href="" dropdown-toggle="" ng-if="!loading" class="dropdown-toggle"><i class="fa {{icon}}"></i><span ng-if="service.unackedCount !== 0" class="count">{{service.unackedCount}}</span></a><ul ng-if="!loading" class="dropdown-menu preview"><li ng-repeat="item in service.items" ng-class="{ acked: (item.acked) }" class="announcement"><div class="row"><div class="col-sm-12"><div><i ng-if="item.icon" ng-class="item.icon" class="fa inline-right"></i><b ng-bind-html="item.msg | trust_html" ng-click="item.onSelect(item)"></b></div><div ng-if="item.onAck" style="position:absolute; right:12px; top:0; padding:20px; height:100%; width:40px" ng-click="!item.ack &amp;&amp; item.onAck(item)" tooltip="{{\'Dismiss\' | translate}}" class="message-status-toggle"><i ng-if="!item.acked" class="fa fa-circle-o"></i><i ng-if="item.acked" class="fa fa-check-circle-o acked"></i></div></div></div></li><li ng-if="service.items.length === 0"><strong translate="translate">You have no alerts</strong></li></ul></span>'),a.put("js/components/topics/otherTopic/otherTopic.html",'<div class="col-sm-4"><div class="content-block content-block-card anchored-footer topic-card"><header class="header"><h4>{{topic.title}}</h4><div><span translate="translate" translate-n="topic.affectedSystemCount" translate-plural="{{$count}} Systems" class="count">1 System</span></div></header><div ng-bind-html="topic.summary_html ? topic.summary_html : Xtopic.content_html | trust_html" class="description gray"></div><div class="footer text-right-sm"><strong><a translate="translate" ui-sref="app.topic({id: topic.slug ? topic.slug : topic.id, product: getSelectedProduct()})" class="pointer">View More</a></strong></div></div></div>'),a.put("js/components/topics/topicAdminHelpBar/topicAdminHelpBar.html",'<div class="help-bar"><a ng-click="help.show = !help.show"><span class="icon-inline"><i class="fa fa-question-circle"></i></span>Show help</a><div ng-show="help.show" class="panel panel-default"><div class="panel-body"><h5>Dynamic content</h5><p>There are multiple ways to make the content of a topic dynamic:</p><ul><li><a ng-click="help.appendInterpolation()">interpolation</a></li><li><a ng-click="help.appendConditional()">conditionals</a></li></ul><p>Here are some examples of values you can use for interpolation:<table><tbody><tr ng-repeat="tip in help.interpolations"><td><a ng-click="help.appendInterpolation($event)">{{tip.key}}</a></td><td>{{tip.value}}</td></tr></tbody></table></p><p>Also, you may find &nbsp;<a href="http://olado.github.io/doT/index.html" target="_blank">doT docs</a>&nbsp; useful</p></div></div></div>'),a.put("js/components/topics/topicDetails/topicDetails.html",'<div class="topic-summary"><div class="row"><div class="col-sm-12"><span ng-show="isContentManager" class="pull-right">[<a ui-sref="app.edit-topic({id: topic.id})">edit</a>]</span><h1 class="page-title"><span translate="translate">{{::topic.title}}</span><div tooltip="This topic is hidden. Only internal users can see it." ng-if="topic.hidden" class="fa fa-eye-slash inline-left red"></div></h1></div></div><div ng-if="topic.content_html" class="row"><div class="col-sm-12"><div ng-bind-html="topic.content_html" class="topic-content"></div></div></div></div>'),a.put("js/components/topics/topicPreviewModal/topicPreviewModal.html",'<div class="topic-preview"><div class="sample-data"><a ng-click="editData = !editData"><span class="icon-inline"><i ng-hide="editData" class="fa fa-plus"></i><i ng-show="editData" class="fa fa-minus"></i></span>Modify sample data</a><form novalidate="novalidate" ng-show="editData" name="tweaker" class="form-horizontal"><div class="form-group"><label for="affectedSystemCount" class="control-label col-sm-2">Number of affected systems</label><div class="col-sm-3"><input type="number" ng-model="sampleData.systems.affectedCount" min="0" class="form-contril"/></div></div><div class="form-group"><label for="affectedSystemCount" class="control-label col-sm-2">Rules</label><div class="col-sm-10"><table class="table table-bordered sample-data-table"><thead><tr><th>Rule ID</th><th>Description</th><th>Number of hits</th><th>Ignored by user (acked)</th></tr></thead><tbody><tr ng-repeat="rule in sampleData.rules track by rule.rule_id"><td class="rule-id">{{rule.rule_id}}</td><td>{{rule.description}}</td><td><input type="number" ng-model="rule.hitCount" required="required" min="0" class="form-control"/></td><td><input type="checkbox" ng-model="rule.acked"/></td></tr></tbody></table></div></div><div class="form-group"><button type="submit" ng-click="updateSampleData()" class="btn btn-sm btn-secondary pull-right">Update preview</button></div></form></div><hr/><div ng-show="loader.loading" class="spinner"></div><div ng-hide="topic" class="text-center"><p>This topic will not be shown when there are no hits for it (tweak sample data or switch to \'Shown always\' topic type to see it)</p></div><div ng-if="summary" ng-show="topic &amp;&amp; !loader.loading" class="actions-page"><section><h2 class="section-title section-title-red">Topics</h2><div class="row"><other-topic topic="topic"></other-topic></div></section></div><div ng-if="details" ng-show="topic &amp;&amp; !loader.loading" class="action-details"><section class="gray section-topic-details"><topic-details topic="topic"></topic-details></section><section class="section-rules-group-content"><topic-rule-list topic="topic"></topic-rule-list></section></div></div>'),a.put("js/components/topics/topicRuleList/topicRuleList.html",'<div class="topic-rule-list"><list-type class="text-right-sm"></list-type><div ng-show="getListType() === listTypes.card" class="row row-short"><div class="col-sm-12"><div class="card-list"><div ng-repeat="plugin in plugins | orderBy: sorter.predicate : sorter.reverse track by plugin.plugin_id" class="card-list-item"><rule-group-card ng-if="plugin.type === \'group\'" plugin="plugin"></rule-group-card><card ng-if="plugin.type === \'rule\'" ng-class="{faded: plugin.acked}"><card-header><i ng-class="plugin.rule.category.toLowerCase()" class="fa category-icon inline-right"></i><span class="title">{{ ::plugin.rule.category }} &gt; {{ ::plugin.rule.description }}</span><div translate="translate" translate-n="plugin.hitCount" translate-plural="{{$count}} Systems" class="count">1 System</div><div class="pull-right"><span ng-if="plugin.acked" translate="translate" class="label label-default inline-right rule-inactive">INACTIVE</span><ansible-icon value="rule.ansible" ng-if="config.isPlannerEnabled"></ansible-icon></div></card-header><card-content><div ng-bind-html="::plugin.rule.summary_html" target-blank="" class="gray"></div></card-content><div class="footer"><div class="row"><div class="col-sm-6"><all-severity-icons rule="plugin.rule"></all-severity-icons></div><div class="col-sm-6 text-right"><strong ng-hide="plugin.rule.acked"><a translate="translate" ui-sref="app.actions-rule({category: topic.slug ? topic.slug : topic.id, rule: plugin.rule.rule_id})" ng-disabled="plugin.rule.hitCount === 0">View Impacted Systems</a></strong></div></div></div></card></div></div></div></div><div ng-show="getListType() === listTypes.table" class="row row-short"><div class="col-sm-12"><table id="rha-rules-table" class="table ng-table break-word"><thead><tr><th ng-class="sorter.getSortClass(\'description\')" ng-click="sorter.sort(\'description\')" class="sortable"><div translate="translate" class="sort-indicator">Rule</div></th><!-- START UBER-SEV--><th ng-class="sorter.getSortClass(\'rec_likelihood\')" ng-click="sorter.sort(\'rec_likelihood\')" class="text-center sortable"><div translate="translate" class="sort-indicator">Likelihood</div></th><th ng-class="sorter.getSortClass(\'rec_impact\')" ng-click="sorter.sort(\'rec_impact\')" class="text-center sortable"><div translate="translate" class="sort-indicator">Impact</div></th><th ng-class="sorter.getSortClass(\'severityNum\')" ng-click="sorter.sort(\'severityNum\')" class="text-center sortable"><div translate="translate" class="sort-indicator">Total Risk</div></th><!-- END UBER-SEV--><th ng-class="sorter.getSortClass(\'hitCount\')" ng-click="sorter.sort(\'hitCount\')" class="text-center sortable"><div translate="translate" class="sort-indicator">Systems</div></th><th ng-if="config.isPlannerEnabled" ng-class="sorter.getSortClass(\'ansible\')" ng-click="sorter.sort(\'ansible\')" class="text-center sortable"><div translate="translate" class="sort-indicator">Ansible</div></th></tr></thead><tbody><tr ng-repeat="rule in topic.rules | filter:filterZero | orderBy: sorter.predicate : sorter.reverse track by rule.rule_id" ng-class="{acked: rule.acked}" class="legend-item"><td ng-click="!rule.acked &amp;&amp; viewImpactedSystems(topic.slug ? topic.slug : topic.id, rule.rule_id)"><a ng-if="!rule.acked">{{rule.description}}</a><div ng-if="rule.acked">{{rule.description}}<span translate="translate" class="label label-default inline-left rule-inactive">INACTIVE</span></div></td><!-- START UBER-SEV--><td ng-click="viewImpactedSystems(topic.slug ? topic.slug : topic.id, rule.rule_id)" class="filter-on text-center align-vertical"><severity-icon severity="rule.rec_likelihood" type="likelihood" label=""></severity-icon></td><td ng-click="viewImpactedSystems(topic.slug ? topic.slug : topic.id, rule.rule_id)" class="filter-on text-center align-vertical"><severity-icon severity="rule.rec_impact" type="impact" label=""></severity-icon></td><td ng-click="viewImpactedSystems(topic.slug ? topic.slug : topic.id, rule.rule_id)" class="filter-on text-center align-vertical"><severity-icon severity="rule.severity" type="severity" label=""></severity-icon></td><!-- END UBER-SEV--><td ng-click="viewImpactedSystems(topic.slug ? topic.slug : topic.id, rule.rule_id)" class="text-center align-vertical">{{ rule.hitCount }}</td><td ng-if="config.isPlannerEnabled" class="text-center align-vertical"><ansible-icon value="rule.ansible"></ansible-icon></td></tr></tbody></table></div></div><div ng-show="!showRulesWithNoHits &amp;&amp; hiddenCount" class="row row-short"><div class="col-sm-12 text-center"><button ng-click="showAll()" translate="translate" class="btn btn-sm btn-default">Show rules without actions ({{hiddenCount}} more)</button></div></div><div ng-show="!showCards" class="row row-short"><div class="col-xs-12"><div class="actions-back"></div></div></div></div>'),a.put("js/states/config/views/config.html",'<div class="page-header"><h1 translate="translate" class="title page-title">Configuration</h1></div><div class="content-wrap"><tabset class="config-tabs"><tab heading="{{\'Hidden Rules\'|translate}}" active="current.hidden" ng-click="tabClick(\'hidden\')"><config-hidden ng-if="current.hidden"></config-hidden></tab><tab heading="{{\'Groups\'|translate}}" active="current.groups" ng-click="tabClick(\'groups\')"><config-groups ng-if="current.groups"></config-groups></tab><tab heading="{{\'Messaging\'|translate}}" active="current.messaging" ng-click="tabClick(\'messaging\')"><config-messaging ng-if="current.messaging"></config-messaging></tab><tab heading="{{\'Settings\'|translate}}" active="current.settings" ng-click="tabClick(\'settings\')"><config-settings ng-if="current.settings"></config-settings></tab><!-- rh only--><tab heading="Permissions" active="current.permissions" ng-if="user.is_internal &amp;&amp; perms.has(user, perms.PERMS.SU)" ng-click="tabClick(\'permissions\')"><config-permissions ng-if="current.permissions"></config-permissions></tab><tab heading="Dev" active="current.dev" ng-click="tabClick(\'dev\')" ng-if="user.is_internal || user.demo_mode"><config-dev ng-if="current.dev"></config-dev></tab></tabset></div>'),a.put("js/states/getting-started/views/getting-started-cloudforms.html",'<section id="prerequisites" class="section"><div class="step-num">1</div><h2 translate="translate" class="section-header">Prerequisites</h2><ul><li translate="translate">Red Hat CloudForms version 4.0 or later</li><li translate="translate">The CloudForms 4.0 appliance must be registered to either Satellite Server version 6.1.5 or later or to Customer Portal Subscription Management hosted subscription service.</li><li translate="translate">Smart State Analysis capability is enabled for Red Hat Enterprise Linux virtual machines.</li></ul></section><section id="activate"><div class="step-num">2</div><h2 translate="translate" class="section-header">Activate your evaluation</h2><p translate="translate">If you have purchased an Insights subscription, please skip this step and proceed to the next step.</p><p translate="translate">To begin using Red Hat Insights, please visit  <a href=\'https://access.redhat.com/insights/evaluation\'>https://access.redhat.com/insights/evaluation</a> to activate any available evaluations associated with your account. This step must be completed prior to any system registration with Insights.</p></section><section id="registerappliance" class="section"><div class="step-num">3</div><h2 translate="translate" class="section-header">Verify CloudForms Appliance registration</h2><p translate="translate">All appliances configured for the UI role that will be used to view Red Hat Insights reports must be registered for Red Hat updates.  In the CloudForms Management Engine UI, navigate to <strong>Configure -&gt; Configuration</strong>. Select a zone and verify that the appropriate appliance is registered.</p><p translate="translate"><strong>Note:&nbsp;</strong>The Satellite Server organization to which the CloudForms appliance is registered must have Insights enabled.</p><img src="images/img-cfme-appliance-register.jpg" class="screenshot"/></section><section id="configuresmartstate" class="section"><div class="step-num">4</div><h2 translate="translate" class="section-header">Configure Smart State Analysis</h2><p translate="translate">Configure the Smart State Analysis profile for your appliances to collect the contents of the file <strong>/etc/redhat-access-insights/machine-id</strong></p><img src="images/img-cfme-smartstate-config.png" class="screenshot"/></section><section id="register" class="section"><div class="step-num">5</div><h2 translate="translate" class="section-header">Register Your Virtual Machines</h2><p translate="translate"><strong> Important:</strong> All virtual machines must be registered to the same Red Hat account as the CloudForms appliance.</p><p translate="translate">To register virtual machines to Red Hat Insights, you\'ll need to install the Insights client RPM and then register virtual machines to the Insights service.</p><p translate="translate">Install the RPM in the virtual machine:</p><pre class="code-block code-terminal"><code class="language-shell"># yum install redhat-access-insights</code></pre><p translate="translate">Register the system to Insights service:</p><pre class="code-block code-terminal"><code class="language-shell"># redhat-access-insights --register</code></pre><p translate="translate">These steps can be automated using the configuration tool of your choice.</p></section><section id="runsmartstate" class="section"><div class="step-num">6</div><h2 translate="translate" class="section-header">Run Smart State Analysis on RHEL virtual machines</h2><p translate="translate">A Smart State Analysis must be run once on all RHEL virtual machines you have registered to Red Hat Insights.  This step is only required once. If a new virtual machine is created afterward, then a Smart State Analysis need only be run on that new virtual machine after it has been registered to Insights.</p><p translate="translate">For more information on how to configure and run Smart State Analysis, see the official CloudForms &nbsp;<a href="https://access.redhat.com/documentation/en-US/Red_Hat_CloudForms/3.2/html/Insight_Guide/sect-Virtual_Machines.html#sect-Analyzing_Virtual_Machines_and_Templates">documentation.</a></p></section><section id="viewingandmanaging" class="section"><div class="step-num">7</div><h2 translate="translate" class="section-header">View Reports and Manage Red Hat Insights From the CloudForms UI</h2><p translate="translate" class="margin-top">To view Insights reports in the CloudForms UI, navigate to <strong>Red Hat Insights -&gt; Overview</strong>.</p><img src="images/img-cfme-insights-overview.png" class="screenshot"/><p translate="translate" class="margin-top">To view and manage Insights rules, navigate to <strong>Red Hat Insights -&gt; Rules</strong>.</p><img src="images/img-cfme-insights-rules.png" class="screenshot"/><p translate="translate" class="margin-top">To view the list of systems that are reporting data to Insights, navigate to <strong>Red Hat Insights -&gt; Systems</strong>.</p><img src="images/img-cfme-insights-systems.png" class="screenshot"/></section><section id="userroles" class="section"><div class="step-num">8</div><h2 translate="translate" class="section-header">Assign Red Hat Insights to user roles</h2><p translate="translate">By default, only super administrators can view Insights Report and Configuration screens. You can give users who are not super administrators access to the Insights screens by assigning the appropriate features to their roles.</p><img src="images/img-cfme-insights-features.png" class="screenshot"/><p translate="translate">In addition to the feature controls above, a user can only view Insights reports on those virtual machines to which the user has permission to view in CloudForms.</p></section>'),a.put("js/states/getting-started/views/getting-started-containers.html",'<section id="prerequisites" class="section"></section><h2 translate="translate" class="section-header">Prerequisites for Installing Red Hat Insights</h2><p translate="translate">Before proceeding with installing Red Hat Insights, ensure the following prerequisites are met:</p><ul><li translate="translate">Red Hat Enterprise Linux (RHEL) 7.0 or later host configured to run containers</li><li translate="translate">RHEL firewall rules must allow Red Hat Insights to make outbound connections to https://api.access.redhat.com:443 and https://cert-api.access.redhat.com:443</li></ul><section id="enablerepo"><div class="step-num">1</div><h2 translate="translate" class="section-header">Enable the Red Hat Insights Repository</h2><p translate="translate">To start the installation, the Red Hat Insights repository must be enabled:</p><pre class="code-block code-terminal"><code class="language-shell"> ~ $ sudo yum-config-manager --add-repo </code>http://copr.fedorainfracloud.org/coprs/insights/insights-client-beta/repo/epel-7/insights-insights-client-beta-epel-7.repo</pre></section><section id="install"><div class="step-num">2</div><h2 translate="translate" class="section-header">Install the Red Hat Insights Client</h2><p translate="translate">The following command will install the Red Hat Insights client:    </p><pre class="code-block code-terminal"><code>~ $ yum install insights-client -y --nogpgcheck</code></pre></section><section id="register"><div class="step-num">3</div><h2 translate="translate" class="section-header">Run and Register the Red Hat Insights Client</h2><p translate="translate">The following command will run and register the Insights client:</p><pre class="code-block code-terminal"><code>~ $ sudo insights-client --container --register  </code></pre><p translate="translate">After running the Insights client, it will upload initial system and image information to Red Hat Insights. You should be able to immediately see your system and image information in the Insights user interface.</p><p translate="translate">The initial analysis results will be available shortly thereafter.</p></section><div id="configOptional" class="content-block"><h2 translate="translate" class="section-header">Optional Configuration Steps</h2><div class="gray-dark"><section id="proxy"><div class="step-num">3</div><h3 translate="translate" class="section-header">Configure Insights Client to use an HTTP proxy</h3><p translate="translate">If you have a web-based proxy between your system and the Internet, you can configure the Insights client to connect through it:</p><pre class="code-block code-terminal"><code class="language-shell"># vi /etc/redhat-access-insights/redhat-access-insights.conf</code></pre><pre class="code-block code-terminal"><code># Optional proxy configuration. Example: http://user:pass@192.168.100.50:8080</code><br/><code>proxy=</code><br/></pre></section><section id="classic"><div class="step-num">4</div><h3 translate="translate" class="section-header">Red Hat Network Classic Instructions</h3><p translate="translate">If you\'ve registered your system with Red Hat Network Classic you\'ll also need to add a username and password:</p><pre class="code-block code-terminal"><code class="language-shell"># vi /etc/redhat-access-insights/redhat-access-insights.conf</code></pre><pre class="code-block code-terminal"><code># Red Hat Customer Portal Credentials</code><br/><code>username=</code><br/><code>password=</code><br/></pre></section></div></div>'),a.put("js/states/getting-started/views/getting-started-direct.html",'<section id="activate"><div class="step-num">1</div><h2 translate="translate" class="section-header">Activate your evaluation</h2><p translate="translate">If you have purchased an Insights subscription, please skip this step and proceed to the next step.</p><p translate="translate">To begin using Red Hat Insights, please visit  <a href=\'https://access.redhat.com/insights/evaluation\'>https://access.redhat.com/insights/evaluation</a> to activate any available evaluations associated with your account. This step must be completed prior to any system registration with Insights.</p></section><section id="install"><div class="step-num">2</div><h2 translate="translate" class="section-header">Install the Red Hat Insights Client and Register Your Systems</h2><p translate="translate">Register your system for updates with Red Hat Subscription Manager to resolve software dependencies:</p><pre class="code-block code-terminal"><code class="language-shell"> # subscription-manager register --auto-attach</code></pre><p translate="translate">Install the Red Hat Insights RPM:</p><pre class="code-block code-terminal"><code class="language-shell"> # yum install redhat-access-insights</code></pre></section><section id="register"><div class="step-num">3</div><h2 translate="translate" class="section-header">Register the system to Red Hat Insights</h2><p translate="translate"><strong>Note: </strong>Registration with <a href="https://access.redhat.com/solutions/11216" target="_blank">Red Hat Network Classic </a> is also available but requires <a href="#classic" relative-hash="relative-hash" permalink="permalink">additional configuration steps.</a></p><pre class="code-block code-terminal"><code># redhat-access-insights --register</code></pre><p translate="translate">After registration, the Insights client will upload initial system information to Red Hat Insights. You should be able to immediately see your system in the <a ui-sref="app.inventory">Insights user interface.</a></p><p translate="translate">The initial analysis results will be available shorty thereafter.</p></section><div id="configOptional" class="content-block"><h2 translate="translate" class="section-header">Optional Configuration Steps</h2><div class="gray-dark"><section id="proxy"><div class="step-num">4</div><h3 translate="translate" class="section-header">Configure Insights Client to use an HTTP proxy</h3><p translate="translate">If you have a web based proxy between your system and the Internet, you can configure the Insights client to connect through it:</p><pre class="code-block code-terminal"><code class="language-shell"># vi /etc/redhat-access-insights/redhat-access-insights.conf</code></pre><pre class="code-block code-terminal"><code># Optional proxy configuration. Example: http://user:pass@192.168.100.50:8080</code><br/><code>proxy=</code><br/></pre></section><section id="classic"><div class="step-num">5</div><h3 translate="translate" class="section-header">Red Hat Network Classic Instructions</h3><p translate="translate">If you\'ve registered your system with Red Hat Network Classic you\'ll also need to add a username and password:</p><pre class="code-block code-terminal"><code class="language-shell"># vi /etc/redhat-access-insights/redhat-access-insights.conf</code></pre><pre class="code-block code-terminal"><code># Red Hat Customer Portal Credentials</code><br/><code>username=</code><br/><code>password=</code><br/></pre></section></div></div>'),a.put("js/states/getting-started/views/getting-started-osp.html",'<section id="prerequisites"><div class="step-num">1</div><h2 translate="translate" class="section-header">Prerequisites for Installing the Red Hat Insights for OpenStack Private Beta</h2><p translate="translate">Before proceeding with installing the Red Hat Insights for OpenStack Private Beta, ensure the following prerequisites are met:</p><ul><li translate="translate">The OpenStack deployment must be Red Hat OpenStack Platform (OSP) 7 or later and set up with the OSP Director.</li><li translate="translate">The OSP Director node (also referred to as the Undercloud in these directions) must have the rhel-7-server-rh-common-rpms repository\nenabled.</li><li translate="translate">Firewall rules must allow the Insights Coordinator to make outbound connections to https://api.access.redhat.com:443 and https://cert-api.access.redhat.com:443</li></ul></section><section id="installrepo"><div class="step-num">2</div><h2 translate="translate" class="section-header">Install the Red Hat Insights for OpenStack Private Beta Repositories on the Undercloud</h2><p translate="translate">To start the installation, the Red Hat Insights for OpenStack Private Beta repositories must be installed on the OSP Director node.</p><pre class="code-block code-terminal"><code class="language-shell"> stack@undercloud $ sudo yum-config-manager --add-repo http://copr.fedorainfracloud.org/coprs/insights/insights-client/repo/epel-7/insights-insights-client-epel-7.repo</code><br/><code class="language-shell"> stack@undercloud $ sudo yum-config-manager --add-repo http://copr.fedorainfracloud.org/coprs/insights/insights-coordinator-rhosp/repo/epel-7/insights-insights-coordinator-rhosp-epel-7.repo</code></pre></section><section id="completeinstallation"><div class="step-num">3</div><h2 translate="translate" class="section-header">Install the Red Hat Insights for OpenStack Private Beta Components</h2><p translate="translate">Follow this set of instructions to install the Insights Coordinator and Client packages. </p><p translate="translate">The following command will install the OpenStack Coordinator on the Undercloud node:</p><pre class="code-block code-terminal"><code class="language-shell"> stack@undercloud $ sudo yum install insights-coordinator-rhosp --nogpgcheck -y</code></pre><p translate="translate">The following command will install the Client on the Undercloud and Overcloud nodes and register the stack with Red Hat Insights:</p><pre class="code-block code-terminal"><code class="language-shell">stack@undercloud $ sudo redhat-access-insights --register --no-schedule --no-upload --silent</code></pre><p translate="translate">The Client cron job and Coordinator cron jobs cannot be symlinked simultaneously or conflicts will occur. The following command will remove the symlink that will have been created in /etc/cron.daily for the Client:</p><pre class="code-block code-terminal"><code class="language-shell">sudo redhat-access-insights --no-schedule</code></pre><p translate="translate">Edit /etc/redhat-access-insights/redhat-access-insights.conf and add no_schedule=True. This value should already exist at the bottom of the file so it will just need to be uncommented and changed to True, but should it not exist it will need to be added.</p></section><p translate="translate">The following command will configure the Coordinator and Client installations:<pre class="code-block code-terminal"><code class="language-shell">stack@undercloud $ sudo insights-coordinator-rhosp --configure</code></pre><p translate="translate"><strong>Note: </strong>The Coordinator will attempt to auto-configure the communication to Red Hat based on the subscription-management information on the Undercloud node. However, using a proxy and/or using <a href="https://access.redhat.com/solutions/11216" target="_blank">Red Hat Network Classic</a>credentials is available but requires <a href="#proxy" relative-hash="relative-hash" permalink="permalink">additional configuration steps.</a></p><p translate="translate">If issues arise with these commands, examine /etc/redhat-access-insights/redhat-access-insights.conf and ensure everything is set properly.</p><p translate="translate">Last, run the following command to complete the installation and view any messages from the Coordinator during the execution and upload of the archive:</p><pre class="code-block code-terminal"><code class="language-shell"> stack@undercloud $ sudo insights-coordinator-rhosp --verbose</code></pre><p translate="translate">After the above command finishes, the Insights Coordinator has uploaded the initial deployment information to Red Hat Insights. \nYou should be able to immediately see your stack in the <a href="https://access.redhat.com/insightsbeta" target="_blank">Insights user interface.</a></p><p translate="translate">The initial analysis results will be available shortly thereafter.</p></p><section id="configOptional" class="content-block"><h2 translate="translate" class="section-header">Optional Configuration Steps</h2><div class="gray-dark"><section id="proxy"><div class="step-num">5</div><h3 translate="translate" class="section-header">Configure Insights Client to use an HTTP proxy</h3><p translate="translate">If you have a web-based proxy between your system and the Internet, you can configure the Insights client to connect through it:</p><pre class="code-block code-terminal"><code class="language-shell"># vi /etc/redhat-access-insights/redhat-access-insights.conf</code></pre><pre class="code-block code-terminal"><code># Optional proxy configuration. Example: http://user:pass@192.168.100.50:8080</code><br/><code>proxy=</code><br/></pre></section><section id="classic"><div class="step-num">6</div><h3 translate="translate" class="section-header">Red Hat Network Classic Instructions</h3><p translate="translate">If you\'ve registered your system with Red Hat Network Classic you\'ll also need to add a username and password:</p><pre class="code-block code-terminal"><code class="language-shell"># vi /etc/redhat-access-insights/redhat-access-insights.conf</code></pre><pre class="code-block code-terminal"><code># Red Hat Customer Portal Credentials</code><br/><code>username=</code><br/><code>password=</code><br/></pre></section></div></section>'),
a.put("js/states/getting-started/views/getting-started-rhv.html",'<section id="prerequisites"><div class="step-num">1</div><h2 translate="translate" class="section-header">Prerequisites for Installing Red Hat Insights for RHV</h2><p translate="translate">Before proceeding with installing Red Hat Insights on RHV, ensure the following prerequisites are met:</p><ul><li translate="translate">The RHV deployment must be Red Hat Enterprise Virtualization (RHV) 3.5 or later and RHV Manager must be running Red Hat Enterprise Linux 6.7 or later.</li><li translate="translate">Firewall rules must allow Red Hat Insights to make outbound connections to https://api.redhat.com:443 and https://cert-api.access.redhat.com:443 </li><li translate="translate">Ensure that the RHV Manager can SSH into all individual hypervisor nodes, and that the SSH fingerprints have been accepted for all hypervisor nodes. The manager must have access to all of the individual hypervisors via public key access (defined in the configuration files, or by running --configure).</li></ul></section><section id="installrepo"><div class="step-num">2</div><h2 translate="translate" class="section-header">Install the repositories</h2><p translate="translate">To start the installation, the Red Hat Insights repositories must be installed.</p><p translate="translate">Run the following commands on the RHV Manager to obtain the Red Hat Insights repositories:</p><pre class="code-block code-terminal"><code class="language-shell"> sudo yum-config-manager --add-repo </code>https://copr.fedorainfracloud.org/coprs/insights/insights-client/repo/epel-6/insights-insights-client-epel-6.repo<br/><code class="language-shell"> sudo yum-config-manager --add-repo </code>http://copr.fedorainfracloud.org/coprs/insights/insights-coordinator-rhev/repo/epel-6/insights-insights-coordinator-rhev-epel-6.repo</pre></section><section id="installclient"><div class="step-num">3</div><h2 translate="translate" class="section-header">Install the Red Hat Insights client</h2><p translate="translate">The following command installs Red Hat Insights on the RHV Manager, which will collect information from all the virtualization hosts in the environment.   </p><p translate="translate"><strong>Note: </strong>Registration with <a href="https://access.redhat.com/solutions/11216" target="_blank">Red Hat Network Classic </a>is also available but requires <a href="#classic" relative-hash="relative-hash" permalink="permalink">additional configuration steps.</a></p><pre class="code-block code-terminal"><code class="language-shell"> sudo yum install insights-coordinator-rhev --nogpgcheck</code></pre></section><section id="register"><div class="step-num">3</div><h2 translate="translate" class="section-header">Registration</h2><p translate="translate">When configuring your RHV Manager for Red Hat Insights, be sure to have your RHV Manager API and Hypervisor SSH information ready; Red Hat Insights will guide you through the configuration.</p><pre class="code-block code-terminal"><code># sudo insights-coordinator-rhev --configure</code></pre><p translate="translate">Once configured, this next step installs Red Hat Insights on the RHV Manager and all of the hypervisor nodes.</p><pre class="code-block code-terminal"><code># sudo insights-coordinator-rhev --verbose</code></pre><p translate="translate">After registration, the Insights client will upload initial system metadata to Red Hat Insights. You should be able to immediately see your system in the Insights user interface.</p><p translate="translate">The initial analysis results will be available shortly thereafter.</p></section><div id="configOptional" class="content-block"><h2 translate="translate" class="section-header">Optional Configuration Steps</h2><div class="gray-dark"><section id="proxy"><div class="step-num">5</div><h3 translate="translate" class="section-header">Configure Insights Client to use an HTTP proxy</h3><p translate="translate">If you have a web-based proxy between your system and the Internet, you can configure the Insights client to connect through it using the following commands on the RHV Manager:</p><pre class="code-block code-terminal"><code class="language-shell"># vi /etc/redhat-access-insights/redhat-access-insights.conf</code></pre><pre class="code-block code-terminal"><code># Optional proxy configuration. Example: http://user:pass@192.168.100.50:8080</code><br/><code>proxy=</code><br/></pre></section><section id="classic"><div class="step-num">6</div><h3 translate="translate" class="section-header">Red Hat Network Classic Instructions</h3><p translate="translate">If you\'ve registered your system with Red Hat Network Classic you\'ll also need to add a username and password using the following commands on the RHV Manager:</p><pre class="code-block code-terminal"><code class="language-shell"># vi /etc/redhat-access-insights/redhat-access-insights.conf</code></pre><pre class="code-block code-terminal"><code># Red Hat Customer Portal Credentials</code><br/><code>username=</code><br/><code>password=</code><br/></pre></section></div></div>'),a.put("js/states/getting-started/views/getting-started-sat5.html",'<section id="prerequisites"><div class="step-num">1</div><h2 translate="translate" class="section-header">Prerequisites</h2><ul><li translate="translate">Ensure that you\'re running Satellite 5.7.</li><li translate="translate">Install redhat-access-plugin-sat5:</li><pre class="code-block code-terminal"><code class="language-shell"># yum install redhat-access-plugin-sat5</code></pre><li translate="translate">Restart Satellite</li><pre class="code-block code-terminal"><code class="language-shell"># rhn-satellite restart</code></pre><li translate="translate">Satellite Organizations with Insights must be running in Connected mode. Any firewalls or proxies through which the Satellite server communicates to Red Hat must allow https communications to <a href="https://access.redhat.com">https://access.redhat.com</a></li></ul></section><section id="activate"><div class="step-num">2</div><h2 translate="translate" class="section-header">Activate your evaluation</h2><p translate="translate">If you have purchased an Insights subscription, please skip this step and proceed to the next step.</p><p translate="translate">To begin using Red Hat Insights, please visit  <a href=\'https://access.redhat.com/insights/evaluation\'>https://access.redhat.com/insights/evaluation</a> to activate any available evaluations associated with your account. This step must be completed prior to any system registration with Insights.</p></section><section id="enable"><div class="step-num">3</div><h2 translate="translate" class="section-header">Enable Red Hat Insights</h2><p translate="translate">Log in to the Satellite Administrator account. Navigate to the <strong>Admin --&gt; Insights</strong> page. Before enabling Insights, click \'Test Connection to Red Hat Insights API\'. If the test is successful you will see a green check circle next to the button. Otherwise you will see a red circle and a log will appear. When the test is successful, select "Enable Insights Service" then click the "Update" button. The Red Hat Insights GUI pieces will now appear in Satellite.</p><img src="images/img-sat5-step2-admin.png" class="screenshot"/></section><section id="rpm"><div class="step-num">4</div><h2 translate="translate" class="section-header">Install RPM on Systems</h2><p translate="translate">There are multiple ways to automate this process. See the <a href="#register" relative-hash="relative-hash" permalink="permalink">Register Systems</a> section for details.</p><p translate="translate">Navigate to the <strong>Systems --&gt; Insights --&gt; Setup</strong> tab as an Organization Administrator. Select the systems to install the redhat-access-insights RPM onto, then click "Apply".</p><img src="images/img-sat5-step3-setup.png" class="screenshot"/><p translate="translate">Check the status of the RPM installation by navigating to the <strong>Schedule --&gt; Pending Actions</strong> page.</p><img src="images/img-sat5-step3-pending.png" class="screenshot"/><p translate="translate">This could take some time depending on your Satellite configuration. <a href="https://access.redhat.com/documentation/en-US/Red_Hat_Satellite/5.7/html/Installation_Guide/Enabling_Push_to_Clients.html">Enabling push to clients</a> will speed up the install. When the RPM is installed you are ready to move on to the next step.</p><img src="images/img-sat5-step3-completed.png" class="screenshot"/></section><section id="register"><div class="step-num">5</div><h2 translate="translate" class="section-header">Register Your Systems</h2><p translate="translate">To register a system manually:</p><pre class="code-block code-terminal"><code class="language-shell"># redhat-access-insights --register</code></pre><p translate="translate">There are multiple ways to automate this process including Red Hat Satellite\'s built-in<a href="https://access.redhat.com/documentation/en-US/Red_Hat_Satellite/5.7/html/Getting_Started_Guide/sect-Managing_Configuration_Channels.html" target="_blank"> Configuration Management Channels.</a></p><p translate="translate">We\'ve also provided several options for popular configuration management tools below:</p><ul><li><a href="https://forge.puppetlabs.com/lphiri/access_insights_client" target="_blank" translate="translate">Puppet</a></li><li><a href="https://supermarket.chef.io/cookbooks/redhat-access-insights-client" target="_blank" translate="translate">Chef</a></li><li><a href="https://galaxy.ansible.com/list#/roles/4098" target="_blank" translate="translate">Ansible</a></li></ul></section><section id="validate"><div class="step-num">6</div><h2 translate="translate" class="section-header">Validate Data was Reported</h2><p translate="translate">Shortly after you execute `redhat-access-insights --register` on at least one machine, navigate to <strong>Systems --&gt; Overview</strong> in Satellite. Find the system you registered. The status should either be a green check or a red exclamation point.</p><img src="images/img-sat5-step5-systems.png" class="screenshot"/><p translate="translate">If you see a red exclamation, click it to see the reports about your system.</p><img src="images/img-sat5-step5-reports.png" class="screenshot"/><p translate="translate">To view an overview of all system reports, navigate to <strong>Systems --&gt; Insights</strong>.</p><img src="images/img-sat5-step5-overview.png" class="screenshot"/></section>'),a.put("js/states/getting-started/views/getting-started-sat6.html",'<section id="prerequisites" class="section"><div class="step-num">1</div><h2 translate="translate" class="section-header">Prerequisites</h2><ul><li translate="translate">Ensure that you’re running the latest Satellite 6.1.</li><li translate="translate">Ensure that you’ve synchronized the latest RHEL 6.7 and RHEL 7.1.z RPMs to your Satellite, and that they are available to your clients.</li><li translate="translate">In order for the Red Hat Satellite Server to be an Insights client, please follow the <a ui-sref="info.getting-started.direct">direct</a> registration instructions and run the following command prior to installing the redhat-access-insights client.</li><pre class="code-block code-terminal"><code class="language-shell"># yum update python-requests</code></pre><li translate="translate">A manifest must be downloaded and imported into the Satellite Organization in which Insights will be enabled.\nFor more information on managing manifests, see the official Satellite 6<a href="https://access.redhat.com/documentation/en-US/Red_Hat_Satellite/6.1/html/Installation_Guide/chap-Red_Hat_Satellite-Installation_Guide-Populating_Red_Hat_Satellite_with_Content.html#sect-Red_Hat_Satellite-Installation_Guide-Setting_up_a_Manifest"> documentation.</a></li><li translate="translate">Satellite Organizations with Insights must be running in Connected mode. Any firewalls or proxies through which the Satellite server communicates to Red Hat must allow https communications to <a href="https://cert-api.access.redhat.com">https://cert-api.access.redhat.com</a></li></ul></section><section id="activate"><div class="step-num">2</div><h2 translate="translate" class="section-header">Activate your evaluation</h2><p translate="translate">If you have purchased an Insights subscription, please skip this step and proceed to the next step.</p><p translate="translate">To begin using Red Hat Insights, please visit  <a href=\'https://access.redhat.com/insights/evaluation\'>https://access.redhat.com/insights/evaluation</a> to activate any available evaluations associated with your account. This step must be completed prior to any system registration with Insights.</p></section><section id="verifyconnection" class="section"><div class="step-num">3</div><h2 translate="translate" class="section-header">Verify Connection to Red Hat Insights</h2><p translate="translate">Verify that the Satellite server can successfully communicate with Red Hat Insights.  In the Satellite UI, navigate to <strong>Insights -&gt; Manage</strong>. Verify that the engine connection status is "Connected" and that the account number displayed is correct for your organization.</p><img src="images/img-sat6-step2-manage.jpg" class="screenshot"/></section><section id="register" class="section"><div class="step-num">4</div><h2 translate="translate" class="section-header">Register Your Systems</h2><p translate="translate">To register Satellite clients to Red Hat Insights, you\'ll need to install the client rpm and then register the system.</p><p translate="translate">Install the RPM:</p><pre class="code-block code-terminal"><code class="language-shell"># yum install redhat-access-insights</code></pre><p translate="translate">Register the system:</p><pre class="code-block code-terminal"><code class="language-shell"># redhat-access-insights --register</code></pre><p translate="translate">If you are using Red Hat Satellite’s configuration management provided by Puppet this process can be automated by applying the preinstalled Puppet class \'access_insights_clients\'. This class can be imported from the Puppet Master into the appropriate Puppet environment and applied to hosts that you wish to subscribe to Red Hat Insights.\nFor more information on using on Puppet with Satellite 6, refer to the official <a href="https://access.redhat.com/documentation/en-US/Red_Hat_Satellite/6.1/html/User_Guide/chap-Red_Hat_Satellite-User_Guide-Configuring_the_Provisioning_Environment.html#sect-Red_Hat_Satellite-User_Guide-Creating_a_Host_Group">documentation.</a></p></section><section id="viewingandmanaging" class="section"><div class="step-num">5</div><h2 translate="translate" class="section-header">Viewing Reports and Managing Access From the Satellite UI</h2><p translate="translate" class="margin-top">To view Insights reports, navigate to <strong>Insights -&gt; Overview</strong> in the Satellite 6 UI.</p><img src="images/img-sat6-step5-overview.jpg" class="screenshot"/><p translate="translate" class="margin-top">To view and manage Insights rules, navigate to <strong>Insights -&gt; Rules</strong>.</p><img src="images/img-sat6-step5-rules.jpg" class="screenshot"/><p translate="translate" class="margin-top">To view the list of systems that are reporting data to Red Hat Insights, navigate to <strong>Insights -&gt; Systems</strong>.</p><img src="images/img-sat6-step5-systems.jpg" class="screenshot"/><p translate="translate" class="margin-top">To view connection status or enable/disable Red Hat Insights globally for an Organization, navigate to <strong>Insights -&gt; Manage</strong>.</p><img src="images/img-sat6-step5-manage.jpg" class="screenshot"/></section><section id="userroles" class="section"><div class="step-num">6</div><h2 translate="translate" class="section-header">Assign Red Hat Insights Roles to Users</h2><p translate="translate">By default, only administrators can view Insights Report and Configuration screens. You can give users who are not administrators access to the Insights screens by assigning them the appropriate roles as follows.</p><ul><li translate="translate">To give users access to all Insights screens, including the "Manage" screen, assign them the "Insights Admin" role. In addition, users must be granted the "view_content_host" permission.</li><li translate="translate">To give users Insights report and rule viewing access, assign them the "Insights Viewer" role. In addition, users must be granted the "view_content_host" permission.</li></ul><p translate="translate">For more information on roles refer to the official Satellite 6 <a href="https://access.redhat.com/documentation/en-US/Red_Hat_Satellite/6.1/html/User_Guide/chap-Red_Hat_Satellite-User_Guide-Users_and_Roles.html">documentation.</a></p></section>'),a.put("js/states/getting-started/views/getting-started.html",'<div class="container getting-started-page-intro text-center"><div class="row"><div class="col-sm-12"><insights-logo></insights-logo></div><div class="col-sm-8 col-sm-offset-2"><insights-tagline></insights-tagline></div></div></div><div id="getting-started" class="band getting-started info-page fixed-scroll-content"><div class="container"><div class="row flex-container"><div id="navvy-container" class="col-md-3 hidden-xs hidden-sm navvy-container"><div id="navvy" data-sticky-nav="" parent="#getting-started" child="#navvy" sibling="#info" offset="40" class="navvy"><div class="header"><h2 translate="translate">Getting Started</h2></div><div class="content"><nav><ul><li ng-repeat="s in sections()" class="fade-in ng-animate-enabled"><a ng-href="{{s.id}}" du-scrollspy="du-scrollspy" relative-hash="relative-hash" permalink="permalink"><span class="arrow"></span>{{s.text | translate}}</a></li></ul></nav></div></div></div><div id="info" class="col-md-9 info"><div class="content"><getting-started-tabs></getting-started-tabs><div ui-view="" class="ng-animate-enabled fade-in"></div><section class="section"><h2 translate="translate" class="section-header">Additional resources</h2><a ui-sref="info.info" translate="translate" class="btn btn-app cta-link cta-link-sm cta-link-white info-links">Learn More about Red Hat Insights</a><a ui-sref="login" translate="translate" class="btn btn-app cta-link cta-link-sm cta-link-white info-links">Log in to Red Hat Insights</a></section></div></div></div></div></div>'),a.put("js/states/hidden/components/components.html",'<div class="components"><div class="page-header"><h1 class="page-title">Components Library</h1></div><section class="section-flex-grid"><h2>Brand new FLEX BOX MODEL layout with equal height layout</h2><h3 class="section-title red">2 column grid set on the flex-grid container</h3><div class="flexgrid equalheights"><div class="row"><div class="col-sm-2"><div class="content gray"><p>testing the content</p></div></div><div class="col-sm-2"><div class="content gray"><p>testing the content</p><p>and again</p></div></div></div><pre class="code-block code-terminal"><code class="code">.flexgrid.equalheights\n  .row\n    .col-sm-2\n      .content\n        p testing the content</code></pre><div class="row"><div class="col-sm-6"><div class="content gray"><p>testing the content</p></div></div><div class="col-sm-6"><div class="content gray"><p>testing the content</p><p>and again</p></div></div><div class="col-sm-6"><div class="content gray"><p>testing the content</p><p>and again</p></div></div><div class="col-sm-6"><div class="content gray"><p>testing the content</p><p>and again</p><p>and again</p><p>and again</p></div></div><div class="col-sm-6"><div class="content gray"><p>testing the content</p><p>and again</p><p>and again</p><p>and again</p><p>and again</p><p>and again</p><p>and again</p><p>and again</p></div></div><div class="col-sm-6"><div class="content gray"><p>testing the content</p><p>and again</p><p>and again</p><p>and again</p></div></div></div></div></section><section><h2>Regular Card</h2><card><card-header>Some header HTML</card-header><card-content>Some content HTML</card-content><card-footer></card-footer></card></section><section><h2>Expandable Card</h2><card expandable="expandable"><card-header>Some header HTML</card-header><card-content>Some content HTML</card-content><card-footer></card-footer></card></section></div>'),a.put("js/states/pages/views/402.html",'<div class="page"><section><h1> <i class="fa fa-lock"> </i> 402 <small> No Red Hat Account Found</small></h1></section></div>'),a.put("js/states/pages/views/403.html",'<div class="page"><section><h1> <i class="fa fa-lock"> </i> 403 <small> Forbidden</small></h1></section></div>'),a.put("js/states/topics/views/edit-topics.html",'<div class="page topic-form"><div class="row margin-top"></div><div class="rha-notifications"></div><form novalidate="novalidate" name="topicForm" class="form-horizontal"><section><h2>Topic details</h2><div ng-class="{\'has-error\': topicForm.title.$invalid &amp;&amp; topicForm.title.$dirty}" class="form-group"><label for="title" class="control-label col-sm-2">Title</label><div class="col-sm-10"><input id="title" type="text" name="title" ng-model="topic.title" required="required" class="form-control"/></div></div><div ng-class="{\'has-error\': topicForm.slug.$invalid &amp;&amp; topicForm.slug.$dirty}" class="form-group"><label for="title" class="control-label col-sm-2">Slug</label><div class="col-sm-10"><div class="input-group"><div class="input-group-addon"><strong>/actions/</strong></div><input id="slug" type="text" name="slug" ng-model="topic.slug" class="form-control"/></div></div></div><div class="form-group"><label for="priority" class="control-label col-sm-2">Priority</label><div class="col-sm-1"><p id="priority" class="form-control-static">{{topic.priority + 1}}</p></div><div class="col-sm-9"><p class="form-control-static">Priority is determined from the order of topics in the &nbsp;<a ui-sref="app.admin-topic">topic admin table</a></p></div></div><div class="form-group"><label class="control-label col-sm-2">Topic listing behavior<i tooltip="Controls when this topic shows up for a customer in the topic list (actions page)." class="fa fa-question-circle inline-left"></i></label><div class="col-sm-10"><label class="radio-inline"><input type="radio" ng-model="topic.listed" ng-value="\'always\'"/>Always<i tooltip="This topic will be shown always, no matter if customer\'s systems are affected or not. The topic content should use interpolation and conditionals to react to different scenarios (e.g. there are no hits, user has 0 systems registered, product with 0 hits selected, user ignored certain rules, ...)" class="fa fa-question-circle inline-left"></i></label><label class="radio-inline"><input type="radio" ng-model="topic.listed" ng-value="&quot;has_hits&quot;"/>Systems affected<i tooltip="This topic will only be shown to a customer if at least one of their systems is affected. More precisely, the topic is shown if any of the active non-ignored rules associated with this topic (see below) has hits (unresolved actions) on customer\'s systems. If the customer used the product filter to select a particular product, the topic is only shown if there are hits for the selected product." class="fa fa-question-circle inline-left"></i></label><label class="radio-inline"><input type="radio" ng-model="topic.listed" ng-value="&quot;never&quot;"/>Never<i tooltip="This topic is never shown in the topic list. It can still be accessed by a direct link. It can also be used for backing a widget. Implicit topics (based on severity or category) will typically use this option." class="fa fa-question-circle inline-left"></i></label></div></div><div ng-class="{\'has-error\': error.content}" class="form-group"><label for="content" class="control-label col-sm-2">Content</label><div class="col-sm-10"><div class="pull-right"><yes-no yes="true" text="markdown"></yes-no><yes-no yes="true" text="doT"></yes-no></div><topic-admin-help-bar text-area="content"></topic-admin-help-bar><textarea id="content" placeholder="Topic content" ng-model="topic.content" rows="20" class="form-control content"></textarea><div ng-show="error.content" class="error red"><strong>{{error.content}}</strong></div><button ng-click="preview(topic, false, true)" ng-disabled="topicForm.$invalid" class="btn btn-sm btn-secondary pull-right"><span class="icon-inline"><i class="fa fa-picture-o"></i></span>Preview</button></div></div><div ng-class="{\'has-error\': error.summary}" class="form-group"><label for="summary" class="control-label col-sm-2">Summary</label><div class="col-sm-10"><div class="pull-right"><yes-no yes="true" text="markdown"></yes-no><yes-no yes="true" text="doT"></yes-no></div><topic-admin-help-bar text-area="summary"></topic-admin-help-bar><textarea id="summary" placeholder="Topic summary" ng-model="topic.summary" rows="10" class="form-control summary"></textarea><div ng-show="error.summary" class="error red"><strong>{{error.summary}}</strong></div><button ng-click="preview(topic, true, false)" ng-disabled="topicForm.$invalid" class="btn btn-sm btn-secondary pull-right"><span class="icon-inline"><i class="fa fa-picture-o"></i></span>Preview</button></div></div><hr/></section><section><h2>Rule selection</h2><p>There are multiple ways of associating rules with this topic. Choose the one that best suits the type of this topic.</p><div ng-class="{selected: ruleBinding === \'tagged\'}" class="form-group"><div class="col-sm-2"><input type="radio" name="ruleBinding" ng-model="ruleBinding" value="tagged" class="col-sm-2"/><label ng-click="ruleBinding = \'tagged\'">Tagged</label></div><div class="col-sm-10"><ui-select ng-model="topic.tag" append-to-body="false" ng-disabled="ruleBinding !== \'tagged\'" on-select="updateTaggedRules()"><ui-select-match placeholder="Select a tag" class="form-control ui-select-match">{{$select.selected}}</ui-select-match><ui-select-choices repeat="tag in (availableTags | filter: $select.search)" class="ui-select-choices">{{tag}}</ui-select-choices></ui-select><p class="form-control-static"><span translate="translate" translate-n="taggedRules.length" translate-plural="There are {{$count}} rules currently tagged with this tag.">There is 1 rule currently tagged with this tag.</span><span>&nbsp;This number may change in the future if additional rules are tagged with &nbsp;<strong ng-show="topic.tag">{{topic.tag}}.</strong><strong ng-hide="topic.tag">the tag.</strong></span><span>(or if the tag is removed from any of these rules)</span></p><rule-list-simple rules="taggedRules" on-select="selectedRule = rule.rule_id" order="[\'-severityNum\', \'-count\']"></rule-list-simple><p class="form-control-static">If you select an existing tag then all the rules tagged with this tag become part of this topic.\nThis binding is dynamic so if more rules are tagged by this tag in the future, these rules will become part of this topic.\nYou can also create a&nbsp;<a ui-sref="app.admin-rule-tags">new tag</a></p></div></div><div ng-class="{selected: ruleBinding === \'explicit\'}" class="form-group"><div class="col-sm-2"><input type="radio" name="ruleBinding" ng-model="ruleBinding" value="explicit" class="col-sm-2"/><label ng-click="ruleBinding = \'explicit\'">Explicit</label></div><div class="col-sm-10"><ui-select ng-model="select.rule" append-to-body="false" ng-disabled="ruleBinding !== \'explicit\'" on-select="addRule($item)"><ui-select-match placeholder="Add a rule" class="form-control ui-select-match">{{$select.selected.description}}</ui-select-match><ui-select-choices repeat="rule in (getAvailableRules() | filter: {description: $select.search}) | orderBy:[\'-severityNum\', \'-date\'] track by rule.rule_id" class="ui-select-choices"><div class="title">{{rule.description}}</div><all-severity-icons rule="rule"></all-severity-icons></ui-select-choices></ui-select><p class="form-control-static">You can explicitly pick one or multiple rules.</p><p ng-hide="topic.rules.length">No rules selected</p><rule-list-simple rules="topic.rules" on-select="selectedRule = rule.rule_id" on-delete="removeRule(rule)"></rule-list-simple></div></div><div ng-class="{selected: ruleBinding === \'implicit\'}" class="form-group"><div class="col-sm-2"><input type="radio" name="ruleBinding" ng-model="ruleBinding" value="implicit" class="col-sm-2"/><label ng-click="ruleBinding = \'implicit\'" class="text-muted">Implicit</label></div><div class="col-sm-10"><div class="row"><div class="col-sm-5"><simple-select model="topic.category" options="categories" disabled="ruleBinding !== \'implicit\'"></simple-select></div><div class="col-sm-2 text-center"><strong>AND</strong></div><div class="col-sm-5"><simple-select model="topic.severity" options="severities" disabled="ruleBinding !== \'implicit\'"></simple-select></div></div><div class="row"><div class="col-sm-12"><p ng-hide="implicitRules.length" class="form-control-static">No rules with this category</p><p class="form-control-static"><rule-list-simple rules="implicitRules" on-select="selectedRule = rule.rule_id" order="[\'-severityNum\', \'-count\']"></rule-list-simple></p><p class="form-control-static text-muted">Binds all rules that are of certain severity, belong to a certain category or combination of there of.\nThis binding is dynamic so if more rules are added for this category/severity in the future, these rules will become part of this topic.</p></div></div></div></div><hr/></section><div class="btn-group pull-right"><button ng-click="goBack()" class="btn btn-sm btn-default">Cancel</button><button ng-click="update(topic)" ng-disabled="topicForm.$invalid" class="btn btn-sm btn-primary">Save</button></div></form></div>'),a.put("js/states/topics/views/topic-admin.html",'<div class="page"><div class="row margin-top"></div><div class="rha-notifications"></div><section><h2 class="push-top-narrow">Topic administration</h2><table class="table table-striped table-bordered ng-table"><thead><tr><th>Title&nbsp;<i tooltip="User-facing name of this topic" class="fa fa-question-circle"></i></th><th>URL</th><th>Rules</th><th>Visibility<i tooltip="Controls when this topic shows up for a customer in the topic list (actions page)." class="fa fa-question-circle inline-left"></i></th><th>Actions</th></tr></thead><tbody><tr ng-repeat="topic in topics track by topic.id" ng-show="!loader.loading" class="ng-cloak"><td><a ui-sref="app.topic({id: topic.slug ? topic.slug : topic.id})">{{topic.title}}</a></td><td><a ui-sref="app.topic({id: topic.slug ? topic.slug : topic.id})">/actions/{{topic.slug ? topic.slug : topic.id}}</a></td><td>{{topic.rules.length}} ({{topic.ruleBinding}})<span ng-show="topic.ruleBinding === \'tagged\'">&nbsp;-&nbsp;<em>{{topic.tag}}</em></span><span ng-show="topic.ruleBinding === \'implicit\'">&nbsp;-&nbsp;<em ng-if="topic.category">{{topic.category}}</em><em ng-if="topic.category &amp;&amp; topic.severity">,&nbsp;</em><em ng-if="topic.severity">{{topic.severity}}</em></span></td><td><span ng-if="topic.listed === &quot;always&quot;">Always</span><span ng-if="topic.listed === &quot;has_hits&quot;">If systems affected</span><span ng-if="topic.listed === &quot;never&quot;">Never</span><span ng-show="topic.hidden" class="icon-inline"><i tooltip="This topic is not published. Only internal users can see it. Use the actions column to publish this topic." class="red fa fa-eye-slash inline-left"></i></span></td><td><span ng-show="topic.hidden" ng-click="hide(topic, false)" class="icon-inline"><i tooltip="Publish this topic" class="fa fa-eye"></i></span><span ng-hide="topic.hidden" ng-click="hide(topic, true)" class="icon-inline"><i tooltip="Hide this topic" class="fa fa-eye-slash"></i></span><span class="icon-inline"><a ui-sref="app.edit-topic({id: topic.id})" tooltip="Edit this topic"><i class="fa fa-pencil-square-o pointer"></i></a></span><span class="icon-inline"><i ng-click="delete(topic)" tooltip="Remove this topic" class="fa fa-remove"></i></span><a ng-click="move(topic, true)" ng-disabled="topic.priority === 0" tooltip="Move this topic higher in the priority list. This affects the order in which topics are presented to customers." class="icon-inline"><i class="fa fa-arrow-up"></i></a><a ng-click="move(topic, false)" ng-disabled="topic.priority === topics.length - 1" tooltip="Move this topic lower in the priority list. This affects the order in which topics are presented to customers." class="icon-inline"><i class="fa fa-arrow-down"></i></a></td></tr><tr ng-show="loader.loading"><td colspan="5"><div class="spinner spinner-lg"></div></td></tr><tr ng-show="!loader.loading &amp;&amp; !topics.length"><td colspan="5" class="text-center">No topics</td></tr></tbody><tfoot><tr><td colspan="5"><button ng-click="newTopic()" class="btn btn-secondary btn-sm pull-right">New topic</button></td></tr></tfoot></table></section></div>'),
a.put("js/states/topics/views/topic-list.html",'<div class="actions-page actions-back"><!--platform-filter--><div ng-hide="loading" class="content-wrap"><actions-breadcrumbs ng-hide="loading" class="actions-breadcrumbs push-top"></actions-breadcrumbs><section class="gray section-topic-details"><topic-details ng-hide="loading" topic="topic"></topic-details></section><section class="section-rules-group-content"><topic-rule-list ng-hide="loading" topic="topic"></topic-rule-list></section></div><!-- Spinner--><div ng-show="loading" class="margin-top text-center"><div class="spinner spinner-lg"></div></div></div>'),a.put("js/components/overview/widgets/goals/goalsLite.html",'<div id="goals-lite"><div class="row"><div ng-if="loadingSystemLimit" class="col-sm-12 block-lg"><div class="spinner spinner-lg"></div></div></div><div class="goals-lite"><div class="info-box"><div ng-if="systemCount &gt; 0 &amp;&amp; !loadingSystemLimit" class="row"><div class="col-sm-12 block-lg"><goals-gauge ng-init="buildGauge({getGaugeMax: getMaxFreeSystems, getGaugeNumber: getSystemCount})"></goals-gauge><div class="info"><h4 translate="translate">Systems Registered</h4><div ng-if="!systemLimitReached" class="free"><span translate="translate">{{maxFreeSystems - systemCount}} more Insights entitlements available&nbsp;</span><br/><span>Your evaluation will expire on {{expiration}}</span></div><div ng-if="systemLimitReached" class="free full"><span translate="translate">Congratulations! You have registered all available systems.</span></div></div></div><div ng-if="actionsLoading" class="col sm-6 block-md"><div class="spinner spinner-lg"></div></div><div ng-if="securityErrors &amp;&amp; !actionsLoading" class="col-sm-6 block-md"><div class="count circle">{{securityErrors}}</div><h4 translate="translate">Protect yourself!</h4><p translate="translate">Fix all of your<br/>{{securityErrors}} security issues</p><a translate="translate" ui-sref="app.topic({id: \'security\'})" class="cta-link">View security issues</a></div><div ng-if="!securityErrors &amp;&amp; !actionsLoading" class="col-sm-6 block-md"><div class="check circle"><i class="fa fa-check"></i></div><h4 translate="translate">You have no high severity security errors</h4></div><div ng-if="actionsLoading" class="col sm-6 block-md"><div class="spinner spinner-lg"></div></div><div ng-if="stabilityErrors &amp;&amp; !actionsLoading" class="col-sm-6 block-md"><div class="count circle">{{stabilityErrors}}</div><h4 translate="translate">Increase your uptime!</h4><p translate="translate">Fix all of your<br/>{{stabilityErrors}} stability issues</p><a translate="translate" ui-sref="app.topic({id: \'stability\'})" class="cta-link">View stability issues</a></div><div ng-if="!stabilityErrors &amp;&amp; !actionsLoading" class="col-sm-6 block-md"><div class="check circle"><i class="fa fa-check"></i></div><h4 translate="translate">You have no high severity stability errors</h4></div></div></div><div ng-if="systemCount === 0" class="row"><div class="col-sm-12 text-center"><h3>You have no systems registered. Take full advantage of Red Hat Insights by&nbsp;<!-- need to make this link clickable--><a translate="translate" href="https://access.redhat.com/products/red-hat-insights#getstarted" target="_blank" class="link">registering systems.</a></h3></div></div></div></div>'),a.put("js/components/overview/widgets/handcraftedContent/handcraftedContent.html",'<div id="handcrafted-conent" class="handcrafted-conent"><h3><strong>{{overview.article.title}}</strong></h3><span ng-bind-html="overview.article.content_html | trust_html" class="handcrafted-content"></span></div>'),a.put("js/components/overview/widgets/highPrio/highPrio.html",'<div ng-show="items.staleSystems" class="grid-block"><section class="widget-block"><h2 class="title"><i class="fa fa-wrench"></i><span translate="translate">Alerts&nbsp;</span></h2><div class="high-prio list-alert"><div ng-if="loading" class="spinner spinner-lg"></div><table ng-if="items.staleSystems &amp;&amp; !loading" class="table table-separated error"><tbody><tr><td width="50%"><strong>{{items.staleSystems}}&nbsp;</strong>Systems not checking in</td><td class="text-right"><a ui-sref="app.inventory({offline:true})" class="link">View Offline Systems</a></td><td ng-if="false" class="dismiss"><i class="fa fa-moon-o"></i></td></tr></tbody></table></div></section></div>'),a.put("js/components/overview/widgets/maintenancePlanLite/maintenancePlanLite.html",'<section class="widget-block"><h2 class="title"><i class="fa fa-wrench"></i><span translate="translate">Plan&nbsp;</span><span translate="translate" class="light">Summary</span><a ui-sref="app.maintenance" translate="translate" class="cta-link">View planner</a></h2><div class="maintenance-plan-lite"><div ng-if="getFirstSuggestion()" class="row row-short padding-top"><div class="col-sm-12"><div class="maintenance-plan-lite"><a ng-click="openPlan(getFirstSuggestion())" class="link suggestions"><span class="icon icon-inline"><i aria-hidden="true" class="fa fa-check-square-o"></i></span><strong translate="translate" translate-n="plans.suggested[0].actions.length" translate-plural="You have a new plan suggestion ({{$count}} actions)" class="underline">You have a new plan suggestion (1 action)</strong></a></div></div></div><div ng-if="plans.future.length" class="row row-short"><div class="col-sm-12"><maintenance-plan-lite-table plans="plans.future" silence="silence" duration="duration"></maintenance-plan-lite-table></div></div><div ng-if="!plans.future.length &amp;&amp; plans.unscheduled.length" class="row"><div class="col-sm-12"><table class="table table-separated"><thead class="lite"><tr><th translate="translate"><b>Newest Plans</b></th><th width="11%" translate="translate"><b>Actions</b></th></tr></thead><tbody><tr ng-repeat="plan in (plans.unscheduled | limitTo:3 | orderBy:\'-maintenance_id\') track by plan.maintenance_id"><td ng-click="openPlan(plan)" class="start"><a>{{MaintenanceService.getPlanName(plan)}}</a></td><td ng-click="openPlan(plan)" class="action-count"><span>{{plan.actionsDone}}/{{plan.actions.length}}</span></td></tr></tbody></table></div></div><div ng-if="stats.rules.ansible" class="row row-short"><div class="col-sm-12 text-center"><strong translate="translate" translate-n="stats.rules.ansible" translate-plural="{{$count}} issues can be resolved automatically">1 issue can be resolved automatically</strong><span translate="translate">&nbsp;using&nbsp;</span><ansible-icon value="true" show-tooltip="false" class="inline-right"></ansible-icon><span translate="translate">Ansible</span></div></div><div class="row"><div class="col-sm-12 text-center"><a ng-click="MaintenanceService.showMaintenanceModal()" class="btn btn-accent"><strong translate="translate">Create a new Plan/Playbook</strong></a></div></div></div></section>'),a.put("js/components/overview/widgets/newSystems/newSystems.html",'<div class="grid-block"><section class="widget-block"><h2 class="title"><i class="fa fa-wrench"></i><span translate="translate">Newest Systems</span><a ui-sref="app.inventory" translate="translate" class="cta-link">View inventory</a></h2><div class="content"><div ng-show="loader.loading" class="spinner"></div><table ng-show="!loader.loading &amp;&amp; systems.length" class="table table-separated"><thead class="lite"><tr><th translate="translate">System</th><th translate="translate">Registration Date</th></tr></thead><tbody><tr ng-repeat="system in systems | orderBy:\'system.created_at\' track by system.system_id"><td><a ng-click="showSystemModal(system)" class="strong">{{system.toString}}</a></td><td><span>{{system.created_at | timeAgo}}</span></td></tr></tbody></table><p ng-show="!loader.loading &amp;&amp; !systems.length" translate="translate">No systems registered</p></div></section></div>'),a.put("js/components/filterComponents/productFilters/docker/dockerHostSelect/dockerHostSelect.html",'<div class="environment-filter"><label translate="translate">Host</label><div class="dropdown gray"><button data-toggle="dropdown" aria-haspopup="true" aria-expanded\'false="aria-expanded\'false" class="btn btn-default dropdown-toggle">{{getSelectedDockerHost().hostname}}<span class="caret"></span></button><ul class="dropdown-menu"><li ng-repeat="host in getDockerHosts()"><a ng-click="doSelectDockerHost(host)">{{host.hostname}}</a></li></ul></div></div>'),a.put("js/components/filterComponents/productFilters/docker/dockerTypeMultiButton/dockerTypeMultiButton.html",'<div class="environment-filter"><multi-button buttons="dockerNodeTypes" multiselect="true" allownone="false"></multi-button></div>'),a.put("js/components/filterComponents/productFilters/osp/ospDeploymentSelect/ospDeploymentSelect.html",'<div class="environment-filter"><label translate="translate">Deployment</label><div class="dropdown gray"><button type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="btn btn-default dropdown-toggle">{{getSelectedOSPDeployment().display_name}}<span class="caret"></span></button><ul class="dropdown-menu"><li ng-repeat="deployment in getOSPDeployments()"><a ng-click="doSelectOSPDeployment(deployment)">{{deployment.display_name}}</a></li></ul></div></div>'),a.put("js/components/filterComponents/productFilters/osp/ospTypeMultiButton/ospTypeMultiButton.html",'<div class="environment-filter"><multi-button buttons="ospNodeTypes" multiselect="true" allownone="false"></multi-button></div>'),a.put("js/components/filterComponents/productFilters/rhev/rhevTypeMultiButton/rhevTypeMultiButton.html",'<div class="environment-filter"><multi-button buttons="rhevNodeTypes" multiselect="true" allownone="false"></multi-button></div>'),a.put("js/components/overview/widgets/goals/goalsBar/goalsBar.html",'<div class="gauge"><div class="bar-chart-wrapper"></div></div>'),a.put("js/components/overview/widgets/goals/goalsGauge/goalsGauge.html",'<div class="gauge"><div class="chart-wrapper"></div><div class="chart-metrics"><span>{{gaugeNumber + \'/\' +  gaugeMax}}</span></div></div>'),a.put("js/components/overview/widgets/maintenancePlanLite/maintenancePlanLiteTable/maintenancePlanLiteTable.html",'<table class="table table-separated"><thead class="lite"><tr><th width="5%" class="count"><span>{{plans.length}}</span></th><th width="30%" translate="translate">Scheduled Plans</th><th translate="translate" class="start">Start</th><th translate="translate" class="duration">Duration</th><th width="11%" translate="translate">Actions</th></tr></thead><tbody><tr ng-repeat="plan in (plans | limitTo:3 | orderBy:\'start\') track by plan.maintenance_id"><td colspan="2" ng-click="openPlan(plan)" tooltip="{{MaintenanceService.getPlanName(plan)}}"><strong>{{plan.start | moment:\'LL\'}}</strong></td><td ng-click="openPlan(plan)" class="start">{{plan.start | moment:\'LT\' | lowercase}}</td><td ng-click="openPlan(plan)" translate="translate" translate-n="duration(plan.start, plan.end)" translate-plural="{{$count}} minutes" class="duration">1 minute</td><td ng-click="openPlan(plan)" class="action-count"><span>{{plan.actionsDone}}/{{plan.actions.length}}</span></td></tr></tbody></table>')}])},{}],256:[function(a,b,c){arguments[4][13][0].apply(c,arguments)},{dup:13}],257:[function(a,b,c){(function(d,e){!function(a,d){"object"===(void 0===c?"undefined":_typeof(c))&&void 0!==b?b.exports=d():"function"==typeof define&&define.amd?define(d):a.ES6Promise=d()}(this,function(){"use strict";function b(a){return"function"==typeof a||"object"===(void 0===a?"undefined":_typeof(a))&&null!==a}function c(a){return"function"==typeof a}function f(a){T=a}function g(a){U=a}function h(){return function(){S(j)}}function i(){var a=setTimeout;return function(){return a(j,1)}}function j(){for(var a=0;R>a;a+=2)$[a]($[a+1]),$[a]=void 0,$[a+1]=void 0;R=0}function k(a,b){var c=arguments,d=this,e=new this.constructor(m);void 0===e[aa]&&F(e);var f=d._state;return f?function(){var a=c[f-1];U(function(){return C(f,e,a,d._result)})}():y(d,e,a,b),e}function l(a){var b=this;if(a&&"object"===(void 0===a?"undefined":_typeof(a))&&a.constructor===b)return a;var c=new b(m);return u(c,a),c}function m(){}function n(){return new TypeError("You cannot resolve a promise with itself")}function o(){return new TypeError("A promises callback cannot return that same promise.")}function p(a){try{return a.then}catch(a){return ea.error=a,ea}}function q(a,b,c,d){try{a.call(b,c,d)}catch(a){return a}}function r(a,b,c){U(function(a){var d=!1,e=q(c,b,function(c){d||(d=!0,b!==c?u(a,c):w(a,c))},function(b){d||(d=!0,x(a,b))},"Settle: "+(a._label||" unknown promise"));!d&&e&&(d=!0,x(a,e))},a)}function s(a,b){b._state===ca?w(a,b._result):b._state===da?x(a,b._result):y(b,void 0,function(b){return u(a,b)},function(b){return x(a,b)})}function t(a,b,d){b.constructor===a.constructor&&d===k&&b.constructor.resolve===l?s(a,b):d===ea?x(a,ea.error):void 0===d?w(a,b):c(d)?r(a,b,d):w(a,b)}function u(a,c){a===c?x(a,n()):b(c)?t(a,c,p(c)):w(a,c)}function v(a){a._onerror&&a._onerror(a._result),z(a)}function w(a,b){a._state===ba&&(a._result=b,a._state=ca,0!==a._subscribers.length&&U(z,a))}function x(a,b){a._state===ba&&(a._state=da,a._result=b,U(v,a))}function y(a,b,c,d){var e=a._subscribers,f=e.length;a._onerror=null,e[f]=b,e[f+ca]=c,e[f+da]=d,0===f&&a._state&&U(z,a)}function z(a){var b=a._subscribers,c=a._state;if(0!==b.length){for(var d=void 0,e=void 0,f=a._result,g=0;g<b.length;g+=3)d=b[g],e=b[g+c],d?C(c,d,e,f):e(f);a._subscribers.length=0}}function A(){this.error=null}function B(a,b){try{return a(b)}catch(a){return fa.error=a,fa}}function C(a,b,d,e){var f=c(d),g=void 0,h=void 0,i=void 0,j=void 0;if(f){if(g=B(d,e),g===fa?(j=!0,h=g.error,g=null):i=!0,b===g)return void x(b,o())}else g=e,i=!0;b._state!==ba||(f&&i?u(b,g):j?x(b,h):a===ca?w(b,g):a===da&&x(b,g))}function D(a,b){try{b(function(b){u(a,b)},function(b){x(a,b)})}catch(b){x(a,b)}}function E(){return ga++}function F(a){a[aa]=ga++,a._state=void 0,a._result=void 0,a._subscribers=[]}function G(a,b){this._instanceConstructor=a,this.promise=new a(m),this.promise[aa]||F(this.promise),Q(b)?(this._input=b,this.length=b.length,this._remaining=b.length,this._result=new Array(this.length),0===this.length?w(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&w(this.promise,this._result))):x(this.promise,H())}function H(){return new Error("Array Methods must be provided an Array")}function I(a){return new G(this,a).promise}function J(a){var b=this;return new b(Q(a)?function(c,d){for(var e=a.length,f=0;e>f;f++)b.resolve(a[f]).then(c,d)}:function(a,b){return b(new TypeError("You must pass an array to race."))})}function K(a){var b=this,c=new b(m);return x(c,a),c}function L(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function M(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function N(a){this[aa]=E(),this._result=this._state=void 0,this._subscribers=[],m!==a&&("function"!=typeof a&&L(),this instanceof N?D(this,a):M())}function O(){var a=void 0;if(void 0!==e)a=e;else if("undefined"!=typeof self)a=self;else try{a=Function("return this")()}catch(a){throw new Error("polyfill failed because global object is unavailable in this environment")}var b=a.Promise;if(b){var c=null;try{c=Object.prototype.toString.call(b.resolve())}catch(a){}if("[object Promise]"===c&&!b.cast)return}a.Promise=N}var P=void 0;P=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)};var Q=P,R=0,S=void 0,T=void 0,U=function(a,b){$[R]=a,$[R+1]=b,2===(R+=2)&&(T?T(j):_())},V="undefined"!=typeof window?window:void 0,W=V||{},X=W.MutationObserver||W.WebKitMutationObserver,Y="undefined"==typeof self&&void 0!==d&&"[object process]"==={}.toString.call(d),Z="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,$=new Array(1e3),_=void 0;_=Y?function(){return function(){return d.nextTick(j)}}():X?function(){var a=0,b=new X(j),c=document.createTextNode("");return b.observe(c,{characterData:!0}),function(){c.data=a=++a%2}}():Z?function(){var a=new MessageChannel;return a.port1.onmessage=j,function(){return a.port2.postMessage(0)}}():void 0===V&&"function"==typeof a?function(){try{var a=c,b=a("vertx");return S=b.runOnLoop||b.runOnContext,h()}catch(c){return i()}}():i();var aa=Math.random().toString(36).substring(16),ba=void 0,ca=1,da=2,ea=new A,fa=new A,ga=0;return G.prototype._enumerate=function(){for(var a=this.length,b=this._input,c=0;this._state===ba&&a>c;c++)this._eachEntry(b[c],c)},G.prototype._eachEntry=function(a,b){var c=this._instanceConstructor,d=c.resolve;if(d===l){var e=p(a);if(e===k&&a._state!==ba)this._settledAt(a._state,b,a._result);else if("function"!=typeof e)this._remaining--,this._result[b]=a;else if(c===N){var f=new c(m);t(f,a,e),this._willSettleAt(f,b)}else this._willSettleAt(new c(function(b){return b(a)}),b)}else this._willSettleAt(d(a),b)},G.prototype._settledAt=function(a,b,c){var d=this.promise;d._state===ba&&(this._remaining--,a===da?x(d,c):this._result[b]=c),0===this._remaining&&w(d,this._result)},G.prototype._willSettleAt=function(a,b){var c=this;y(a,void 0,function(a){return c._settledAt(ca,b,a)},function(a){return c._settledAt(da,b,a)})},N.all=I,N.race=J,N.resolve=l,N.reject=K,N._setScheduler=f,N._setAsap=g,N._asap=U,N.prototype={constructor:N,then:k,"catch":function(a){return this.then(null,a)}},O(),N.polyfill=O,N.Promise=N,N})}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:772}],258:[function(a,b,c){function d(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function e(a){return"function"==typeof a}function f(a){return"number"==typeof a}function g(a){return"object"===(void 0===a?"undefined":_typeof(a))&&null!==a}function h(a){return void 0===a}b.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._maxListeners=void 0,d.defaultMaxListeners=10,d.prototype.setMaxListeners=function(a){if(!f(a)||0>a||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},d.prototype.emit=function(a){var b,c,d,f,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||g(this._events.error)&&!this._events.error.length)){if((b=arguments[1])instanceof Error)throw b;var k=new Error('Uncaught, unspecified "error" event. ('+b+")");throw k.context=b,k}if(c=this._events[a],h(c))return!1;if(e(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:f=Array.prototype.slice.call(arguments,1),c.apply(this,f)}else if(g(c))for(f=Array.prototype.slice.call(arguments,1),j=c.slice(),d=j.length,i=0;d>i;i++)j[i].apply(this,f);return!0},d.prototype.addListener=function(a,b){var c;if(!e(b))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,e(b.listener)?b.listener:b),this._events[a]?g(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,g(this._events[a])&&!this._events[a].warned&&(c=h(this._maxListeners)?d.defaultMaxListeners:this._maxListeners)&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.trace),this},d.prototype.on=d.prototype.addListener,d.prototype.once=function(a,b){function c(){this.removeListener(a,c),d||(d=!0,b.apply(this,arguments))}if(!e(b))throw TypeError("listener must be a function");var d=!1;return c.listener=b,this.on(a,c),this},d.prototype.removeListener=function(a,b){var c,d,f,h;if(!e(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],f=c.length,d=-1,c===b||e(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(g(c)){for(h=f;h-->0;)if(c[h]===b||c[h].listener&&c[h].listener===b){d=h;break}if(0>d)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(d,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},d.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],e(c))this.removeListener(a,c);else if(c)for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},d.prototype.listeners=function(a){return this._events&&this._events[a]?e(this._events[a])?[this._events[a]]:this._events[a].slice():[]},d.prototype.listenerCount=function(a){if(this._events){var b=this._events[a];if(e(b))return 1;if(b)return b.length}return 0},d.listenerCount=function(a,b){return a.listenerCount(b)}},{}],259:[function(a,b,c){"use strict";function d(a){for(var b,c=a.length,d=0;c>d;d++)if(((b=a.charCodeAt(d))<9||b>13)&&32!==b&&133!==b&&160!==b&&5760!==b&&6158!==b&&(8192>b||b>8205)&&8232!==b&&8233!==b&&8239!==b&&8287!==b&&8288!==b&&12288!==b&&65279!==b)return!1;return!0}b.exports=function(a){var b=void 0===a?"undefined":_typeof(a);if("string"===b){var c=a;if(0===(a=+a)&&d(c))return!1}else if("number"!==b)return!1;return 1>a-a}},{}],260:[function(a,b,c){var d=d||function(a){"use strict";if(!(void 0===a||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var b=a.document,c=function(){return a.URL||a.webkitURL||a},d=b.createElementNS("http://www.w3.org/1999/xhtml","a"),e="download"in d,f=function(a){var b=new MouseEvent("click");a.dispatchEvent(b)},g=/constructor/i.test(a.HTMLElement)||a.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent),i=function(b){(a.setImmediate||a.setTimeout)(function(){throw b},0)},j=function(a){var b=function(){"string"==typeof a?c().revokeObjectURL(a):a.remove()};setTimeout(b,4e4)},k=function(a,b,c){b=[].concat(b);for(var d=b.length;d--;){var e=a["on"+b[d]];if("function"==typeof e)try{e.call(a,c||a)}catch(a){i(a)}}},l=function(a){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob([String.fromCharCode(65279),a],{type:a.type}):a},m=function(b,i,m){m||(b=l(b));var n,o=this,p=b.type,q="application/octet-stream"===p,r=function(){k(o,"writestart progress write writeend".split(" "))};return o.readyState=o.INIT,e?(n=c().createObjectURL(b),void setTimeout(function(){d.href=n,d.download=i,f(d),r(),j(n),o.readyState=o.DONE})):void!function(){if((h||q&&g)&&a.FileReader){var d=new FileReader;return d.onloadend=function(){var b=h?d.result:d.result.replace(/^data:[^;]*;/,"data:attachment/file;");a.open(b,"_blank")||(a.location.href=b),b=void 0,o.readyState=o.DONE,r()},d.readAsDataURL(b),void(o.readyState=o.INIT)}n||(n=c().createObjectURL(b)),q?a.location.href=n:a.open(n,"_blank")||(a.location.href=n),o.readyState=o.DONE,r(),j(n)}()},n=m.prototype,o=function(a,b,c){return new m(a,b||a.name||"download",c)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(a,b,c){return b=b||a.name||"download",c||(a=l(a)),navigator.msSaveOrOpenBlob(a,b)}:(n.abort=function(){},n.readyState=n.INIT=0,n.WRITING=1,n.DONE=2,n.error=n.onwritestart=n.onprogress=n.onwrite=n.onabort=n.onerror=n.onwriteend=null,o)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==b&&b.exports?b.exports.saveAs=d:"undefined"!=typeof define&&null!==define&&null!==define.amd&&define("FileSaver.js",function(){return d})},{}],261:[function(a,b,c){function d(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c+c,h=d+d,i=e+e,j=c*g,k=d*g,l=d*h,m=e*g,n=e*h,o=e*i,p=f*g,q=f*h,r=f*i;return a[0]=1-l-o,a[1]=k+r,a[2]=m-q,a[3]=0,a[4]=k-r,a[5]=1-j-o,a[6]=n+p,a[7]=0,a[8]=m+q,a[9]=n-p,a[10]=1-j-l,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}b.exports=d},{}],262:[function(a,b,c){var d=a("./_getNative"),e=a("./_root"),f=d(e,"DataView");b.exports=f},{"./_getNative":383,"./_root":429}],263:[function(a,b,c){function d(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}var e=a("./_hashClear"),f=a("./_hashDelete"),g=a("./_hashGet"),h=a("./_hashHas"),i=a("./_hashSet");d.prototype.clear=e,d.prototype["delete"]=f,d.prototype.get=g,d.prototype.has=h,d.prototype.set=i,b.exports=d},{"./_hashClear":392,"./_hashDelete":393,"./_hashGet":394,"./_hashHas":395,"./_hashSet":396}],264:[function(a,b,c){function d(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}var e=a("./_listCacheClear"),f=a("./_listCacheDelete"),g=a("./_listCacheGet"),h=a("./_listCacheHas"),i=a("./_listCacheSet");d.prototype.clear=e,d.prototype["delete"]=f,d.prototype.get=g,d.prototype.has=h,d.prototype.set=i,b.exports=d},{"./_listCacheClear":408,"./_listCacheDelete":409,"./_listCacheGet":410,"./_listCacheHas":411,"./_listCacheSet":412}],265:[function(a,b,c){var d=a("./_getNative"),e=a("./_root"),f=d(e,"Map");b.exports=f},{"./_getNative":383,"./_root":429}],266:[function(a,b,c){function d(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}var e=a("./_mapCacheClear"),f=a("./_mapCacheDelete"),g=a("./_mapCacheGet"),h=a("./_mapCacheHas"),i=a("./_mapCacheSet");d.prototype.clear=e,d.prototype["delete"]=f,d.prototype.get=g,d.prototype.has=h,d.prototype.set=i,b.exports=d},{"./_mapCacheClear":413,"./_mapCacheDelete":414,"./_mapCacheGet":415,"./_mapCacheHas":416,"./_mapCacheSet":417}],267:[function(a,b,c){var d=a("./_getNative"),e=a("./_root"),f=d(e,"Promise");b.exports=f},{"./_getNative":383,"./_root":429}],268:[function(a,b,c){var d=a("./_getNative"),e=a("./_root"),f=d(e,"Set");b.exports=f},{"./_getNative":383,"./_root":429}],269:[function(a,b,c){function d(a){var b=-1,c=null==a?0:a.length;for(this.__data__=new e;++b<c;)this.add(a[b])}var e=a("./_MapCache"),f=a("./_setCacheAdd"),g=a("./_setCacheHas");d.prototype.add=d.prototype.push=f,d.prototype.has=g,b.exports=d},{"./_MapCache":266,"./_setCacheAdd":430,"./_setCacheHas":431}],270:[function(a,b,c){function d(a){var b=this.__data__=new e(a);this.size=b.size}var e=a("./_ListCache"),f=a("./_stackClear"),g=a("./_stackDelete"),h=a("./_stackGet"),i=a("./_stackHas"),j=a("./_stackSet");d.prototype.clear=f,d.prototype["delete"]=g,d.prototype.get=h,d.prototype.has=i,d.prototype.set=j,b.exports=d},{"./_ListCache":264,"./_stackClear":435,"./_stackDelete":436,"./_stackGet":437,"./_stackHas":438,"./_stackSet":439}],271:[function(a,b,c){var d=a("./_root"),e=d.Symbol;b.exports=e},{"./_root":429}],272:[function(a,b,c){var d=a("./_root"),e=d.Uint8Array;b.exports=e},{"./_root":429}],273:[function(a,b,c){var d=a("./_getNative"),e=a("./_root"),f=d(e,"WeakMap");b.exports=f},{"./_getNative":383,"./_root":429}],274:[function(a,b,c){function d(a,b){return a.set(b[0],b[1]),a}b.exports=d},{}],275:[function(a,b,c){function d(a,b){return a.add(b),a}b.exports=d},{}],276:[function(a,b,c){function d(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}b.exports=d},{}],277:[function(a,b,c){function d(a,b,c,d){for(var e=-1,f=null==a?0:a.length;++e<f;){var g=a[e];b(d,g,c(g),a)}return d}b.exports=d},{}],278:[function(a,b,c){function d(a,b){for(var c=-1,d=null==a?0:a.length;++c<d&&!1!==b(a[c],c,a););return a}b.exports=d},{}],279:[function(a,b,c){function d(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0}b.exports=d},{}],280:[function(a,b,c){function d(a,b){for(var c=-1,d=null==a?0:a.length,e=0,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[e++]=g)}return f}b.exports=d},{}],281:[function(a,b,c){function d(a,b){return!!(null==a?0:a.length)&&e(a,b,0)>-1}var e=a("./_baseIndexOf");b.exports=d},{"./_baseIndexOf":312}],282:[function(a,b,c){function d(a,b,c){for(var d=-1,e=null==a?0:a.length;++d<e;)if(c(b,a[d]))return!0;return!1}b.exports=d},{}],283:[function(a,b,c){function d(a,b){var c=g(a),d=!c&&f(a),k=!c&&!d&&h(a),m=!c&&!d&&!k&&j(a),n=c||d||k||m,o=n?e(a.length,String):[],p=o.length;for(var q in a)!b&&!l.call(a,q)||n&&("length"==q||k&&("offset"==q||"parent"==q)||m&&("buffer"==q||"byteLength"==q||"byteOffset"==q)||i(q,p))||o.push(q);return o}var e=a("./_baseTimes"),f=a("./isArguments"),g=a("./isArray"),h=a("./isBuffer"),i=a("./_isIndex"),j=a("./isTypedArray"),k=Object.prototype,l=k.hasOwnProperty;b.exports=d},{"./_baseTimes":340,"./_isIndex":401,"./isArguments":470,"./isArray":471,"./isBuffer":474,"./isTypedArray":482}],284:[function(a,b,c){function d(a,b){for(var c=-1,d=null==a?0:a.length,e=Array(d);++c<d;)e[c]=b(a[c],c,a);return e}b.exports=d},{}],285:[function(a,b,c){function d(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}b.exports=d},{}],286:[function(a,b,c){function d(a,b,c,d){var e=-1,f=null==a?0:a.length;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}b.exports=d},{}],287:[function(a,b,c){function d(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}b.exports=d},{}],288:[function(a,b,c){function d(a){return a.split("")}b.exports=d},{}],289:[function(a,b,c){function d(a,b,c){var d=a[b];h.call(a,b)&&f(d,c)&&(void 0!==c||b in a)||e(a,b,c)}var e=a("./_baseAssignValue"),f=a("./eq"),g=Object.prototype,h=g.hasOwnProperty;b.exports=d},{"./_baseAssignValue":294,"./eq":454}],290:[function(a,b,c){function d(a,b){for(var c=a.length;c--;)if(e(a[c][0],b))return c;return-1}var e=a("./eq");b.exports=d},{"./eq":454}],291:[function(a,b,c){function d(a,b,c,d){return e(a,function(a,e,f){b(d,a,c(a),f)}),d}var e=a("./_baseEach");b.exports=d},{"./_baseEach":298}],292:[function(a,b,c){function d(a,b){return a&&e(b,f(b),a)}var e=a("./_copyObject"),f=a("./keys");b.exports=d},{"./_copyObject":361,"./keys":484}],293:[function(a,b,c){function d(a,b){return a&&e(b,f(b),a)}var e=a("./_copyObject"),f=a("./keysIn");b.exports=d},{"./_copyObject":361,"./keysIn":485}],294:[function(a,b,c){function d(a,b,c){"__proto__"==b&&e?e(a,b,{configurable:!0,enumerable:!0,value:c,writable:!0}):a[b]=c}var e=a("./_defineProperty");b.exports=d},{"./_defineProperty":373}],295:[function(a,b,c){function d(a,b,c,F,G,H){var I,J=b&x,K=b&y,L=b&z;if(c&&(I=G?c(a,F,G,H):c(a)),void 0!==I)return I;if(!v(a))return a;var M=t(a);if(M){if(I=q(a),!J)return k(a,I)}else{var N=p(a),O=N==B||N==C;if(u(a))return j(a,J);if(N==D||N==A||O&&!G){if(I=K||O?{}:s(a),!J)return K?m(a,i(I,a)):l(a,h(I,a))}else{if(!E[N])return G?a:{};I=r(a,N,d,J)}}H||(H=new e);var P=H.get(a);if(P)return P;H.set(a,I);var Q=L?K?o:n:K?keysIn:w,R=M?void 0:Q(a);return f(R||a,function(e,f){R&&(f=e,e=a[f]),g(I,f,d(e,b,c,f,a,H))}),I}var e=a("./_Stack"),f=a("./_arrayEach"),g=a("./_assignValue"),h=a("./_baseAssign"),i=a("./_baseAssignIn"),j=a("./_cloneBuffer"),k=a("./_copyArray"),l=a("./_copySymbols"),m=a("./_copySymbolsIn"),n=a("./_getAllKeys"),o=a("./_getAllKeysIn"),p=a("./_getTag"),q=a("./_initCloneArray"),r=a("./_initCloneByTag"),s=a("./_initCloneObject"),t=a("./isArray"),u=a("./isBuffer"),v=a("./isObject"),w=a("./keys"),x=1,y=2,z=4,A="[object Arguments]",B="[object Function]",C="[object GeneratorFunction]",D="[object Object]",E={};E[A]=E["[object Array]"]=E["[object ArrayBuffer]"]=E["[object DataView]"]=E["[object Boolean]"]=E["[object Date]"]=E["[object Float32Array]"]=E["[object Float64Array]"]=E["[object Int8Array]"]=E["[object Int16Array]"]=E["[object Int32Array]"]=E["[object Map]"]=E["[object Number]"]=E[D]=E["[object RegExp]"]=E["[object Set]"]=E["[object String]"]=E["[object Symbol]"]=E["[object Uint8Array]"]=E["[object Uint8ClampedArray]"]=E["[object Uint16Array]"]=E["[object Uint32Array]"]=!0,E["[object Error]"]=E[B]=E["[object WeakMap]"]=!1,b.exports=d},{"./_Stack":270,"./_arrayEach":278,"./_assignValue":289,"./_baseAssign":292,"./_baseAssignIn":293,"./_cloneBuffer":351,"./_copyArray":360,
"./_copySymbols":362,"./_copySymbolsIn":363,"./_getAllKeys":379,"./_getAllKeysIn":380,"./_getTag":388,"./_initCloneArray":397,"./_initCloneByTag":398,"./_initCloneObject":399,"./isArray":471,"./isBuffer":474,"./isObject":478,"./keys":484}],296:[function(a,b,c){var d=a("./isObject"),e=Object.create,f=function(){function a(){}return function(b){if(!d(b))return{};if(e)return e(b);a.prototype=b;var c=new a;return a.prototype=void 0,c}}();b.exports=f},{"./isObject":478}],297:[function(a,b,c){function d(a,b,c,d){var l=-1,m=f,n=!0,o=a.length,p=[],q=b.length;if(!o)return p;c&&(b=h(b,i(c))),d?(m=g,n=!1):b.length>=k&&(m=j,n=!1,b=new e(b));a:for(;++l<o;){var r=a[l],s=null==c?r:c(r);if(r=d||0!==r?r:0,n&&s===s){for(var t=q;t--;)if(b[t]===s)continue a;p.push(r)}else m(b,s,d)||p.push(r)}return p}var e=a("./_SetCache"),f=a("./_arrayIncludes"),g=a("./_arrayIncludesWith"),h=a("./_arrayMap"),i=a("./_baseUnary"),j=a("./_cacheHas"),k=200;b.exports=d},{"./_SetCache":269,"./_arrayIncludes":281,"./_arrayIncludesWith":282,"./_arrayMap":284,"./_baseUnary":342,"./_cacheHas":346}],298:[function(a,b,c){var d=a("./_baseForOwn"),e=a("./_createBaseEach"),f=e(d);b.exports=f},{"./_baseForOwn":305,"./_createBaseEach":367}],299:[function(a,b,c){function d(a,b){var c=!0;return e(a,function(a,d,e){return c=!!b(a,d,e)}),c}var e=a("./_baseEach");b.exports=d},{"./_baseEach":298}],300:[function(a,b,c){function d(a,b,c){for(var d=-1,f=a.length;++d<f;){var g=a[d],h=b(g);if(null!=h&&(void 0===i?h===h&&!e(h):c(h,i)))var i=h,j=g}return j}var e=a("./isSymbol");b.exports=d},{"./isSymbol":481}],301:[function(a,b,c){function d(a,b){var c=[];return e(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c}var e=a("./_baseEach");b.exports=d},{"./_baseEach":298}],302:[function(a,b,c){function d(a,b,c,d){for(var e=a.length,f=c+(d?1:-1);d?f--:++f<e;)if(b(a[f],f,a))return f;return-1}b.exports=d},{}],303:[function(a,b,c){function d(a,b,c,g,h){var i=-1,j=a.length;for(c||(c=f),h||(h=[]);++i<j;){var k=a[i];b>0&&c(k)?b>1?d(k,b-1,c,g,h):e(h,k):g||(h[h.length]=k)}return h}var e=a("./_arrayPush"),f=a("./_isFlattenable");b.exports=d},{"./_arrayPush":285,"./_isFlattenable":400}],304:[function(a,b,c){var d=a("./_createBaseFor"),e=d();b.exports=e},{"./_createBaseFor":368}],305:[function(a,b,c){function d(a,b){return a&&e(a,b,f)}var e=a("./_baseFor"),f=a("./keys");b.exports=d},{"./_baseFor":304,"./keys":484}],306:[function(a,b,c){function d(a,b){b=e(b,a);for(var c=0,d=b.length;null!=a&&d>c;)a=a[f(b[c++])];return c&&c==d?a:void 0}var e=a("./_castPath"),f=a("./_toKey");b.exports=d},{"./_castPath":348,"./_toKey":443}],307:[function(a,b,c){function d(a,b,c){var d=b(a);return f(a)?d:e(d,c(a))}var e=a("./_arrayPush"),f=a("./isArray");b.exports=d},{"./_arrayPush":285,"./isArray":471}],308:[function(a,b,c){function d(a){return null==a?void 0===a?i:h:j&&j in Object(a)?f(a):g(a)}var e=a("./_Symbol"),f=a("./_getRawTag"),g=a("./_objectToString"),h="[object Null]",i="[object Undefined]",j=e?e.toStringTag:void 0;b.exports=d},{"./_Symbol":271,"./_getRawTag":385,"./_objectToString":425}],309:[function(a,b,c){function d(a,b){return a>b}b.exports=d},{}],310:[function(a,b,c){function d(a,b){return null!=a&&f.call(a,b)}var e=Object.prototype,f=e.hasOwnProperty;b.exports=d},{}],311:[function(a,b,c){function d(a,b){return null!=a&&b in Object(a)}b.exports=d},{}],312:[function(a,b,c){function d(a,b,c){return b===b?g(a,b,c):e(a,f,c)}var e=a("./_baseFindIndex"),f=a("./_baseIsNaN"),g=a("./_strictIndexOf");b.exports=d},{"./_baseFindIndex":302,"./_baseIsNaN":317,"./_strictIndexOf":440}],313:[function(a,b,c){function d(a){return f(a)&&e(a)==g}var e=a("./_baseGetTag"),f=a("./isObjectLike"),g="[object Arguments]";b.exports=d},{"./_baseGetTag":308,"./isObjectLike":479}],314:[function(a,b,c){function d(a,b,c,g,h){return a===b||(null==a||null==b||!f(a)&&!f(b)?a!==a&&b!==b:e(a,b,c,g,d,h))}var e=a("./_baseIsEqualDeep"),f=a("./isObjectLike");b.exports=d},{"./_baseIsEqualDeep":315,"./isObjectLike":479}],315:[function(a,b,c){function d(a,b,c,d,q,s){var t=j(a),u=j(b),v=t?o:i(a),w=u?o:i(b);v=v==n?p:v,w=w==n?p:w;var x=v==p,y=w==p,z=v==w;if(z&&k(a)){if(!k(b))return!1;t=!0,x=!1}if(z&&!x)return s||(s=new e),t||l(a)?f(a,b,c,d,q,s):g(a,b,v,c,d,q,s);if(!(c&m)){var A=x&&r.call(a,"__wrapped__"),B=y&&r.call(b,"__wrapped__");if(A||B){var C=A?a.value():a,D=B?b.value():b;return s||(s=new e),q(C,D,c,d,s)}}return!!z&&(s||(s=new e),h(a,b,c,d,q,s))}var e=a("./_Stack"),f=a("./_equalArrays"),g=a("./_equalByTag"),h=a("./_equalObjects"),i=a("./_getTag"),j=a("./isArray"),k=a("./isBuffer"),l=a("./isTypedArray"),m=1,n="[object Arguments]",o="[object Array]",p="[object Object]",q=Object.prototype,r=q.hasOwnProperty;b.exports=d},{"./_Stack":270,"./_equalArrays":374,"./_equalByTag":375,"./_equalObjects":376,"./_getTag":388,"./isArray":471,"./isBuffer":474,"./isTypedArray":482}],316:[function(a,b,c){function d(a,b,c,d){var i=c.length,j=i,k=!d;if(null==a)return!j;for(a=Object(a);i--;){var l=c[i];if(k&&l[2]?l[1]!==a[l[0]]:!(l[0]in a))return!1}for(;++i<j;){l=c[i];var m=l[0],n=a[m],o=l[1];if(k&&l[2]){if(void 0===n&&!(m in a))return!1}else{var p=new e;if(d)var q=d(n,o,m,a,b,p);if(!(void 0===q?f(o,n,g|h,d,p):q))return!1}}return!0}var e=a("./_Stack"),f=a("./_baseIsEqual"),g=1,h=2;b.exports=d},{"./_Stack":270,"./_baseIsEqual":314}],317:[function(a,b,c){function d(a){return a!==a}b.exports=d},{}],318:[function(a,b,c){function d(a){return!(!g(a)||f(a))&&(e(a)?n:i).test(h(a))}var e=a("./isFunction"),f=a("./_isMasked"),g=a("./isObject"),h=a("./_toSource"),i=/^\[object .+?Constructor\]$/,j=Function.prototype,k=Object.prototype,l=j.toString,m=k.hasOwnProperty,n=RegExp("^"+l.call(m).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");b.exports=d},{"./_isMasked":405,"./_toSource":444,"./isFunction":476,"./isObject":478}],319:[function(a,b,c){function d(a){return g(a)&&f(a.length)&&!!h[e(a)]}var e=a("./_baseGetTag"),f=a("./isLength"),g=a("./isObjectLike"),h={};h["[object Float32Array]"]=h["[object Float64Array]"]=h["[object Int8Array]"]=h["[object Int16Array]"]=h["[object Int32Array]"]=h["[object Uint8Array]"]=h["[object Uint8ClampedArray]"]=h["[object Uint16Array]"]=h["[object Uint32Array]"]=!0,h["[object Arguments]"]=h["[object Array]"]=h["[object ArrayBuffer]"]=h["[object Boolean]"]=h["[object DataView]"]=h["[object Date]"]=h["[object Error]"]=h["[object Function]"]=h["[object Map]"]=h["[object Number]"]=h["[object Object]"]=h["[object RegExp]"]=h["[object Set]"]=h["[object String]"]=h["[object WeakMap]"]=!1,b.exports=d},{"./_baseGetTag":308,"./isLength":477,"./isObjectLike":479}],320:[function(a,b,c){function d(a){return"function"==typeof a?a:null==a?g:"object"==(void 0===a?"undefined":_typeof(a))?h(a)?f(a[0],a[1]):e(a):i(a)}var e=a("./_baseMatches"),f=a("./_baseMatchesProperty"),g=a("./identity"),h=a("./isArray"),i=a("./property");b.exports=d},{"./_baseMatches":324,"./_baseMatchesProperty":325,"./identity":467,"./isArray":471,"./property":496}],321:[function(a,b,c){function d(a){if(!e(a))return f(a);var b=[];for(var c in Object(a))h.call(a,c)&&"constructor"!=c&&b.push(c);return b}var e=a("./_isPrototype"),f=a("./_nativeKeys"),g=Object.prototype,h=g.hasOwnProperty;b.exports=d},{"./_isPrototype":406,"./_nativeKeys":422}],322:[function(a,b,c){function d(a){if(!e(a))return g(a);var b=f(a),c=[];for(var d in a)("constructor"!=d||!b&&i.call(a,d))&&c.push(d);return c}var e=a("./isObject"),f=a("./_isPrototype"),g=a("./_nativeKeysIn"),h=Object.prototype,i=h.hasOwnProperty;b.exports=d},{"./_isPrototype":406,"./_nativeKeysIn":423,"./isObject":478}],323:[function(a,b,c){function d(a,b){var c=-1,d=f(a)?Array(a.length):[];return e(a,function(a,e,f){d[++c]=b(a,e,f)}),d}var e=a("./_baseEach"),f=a("./isArrayLike");b.exports=d},{"./_baseEach":298,"./isArrayLike":472}],324:[function(a,b,c){function d(a){var b=f(a);return 1==b.length&&b[0][2]?g(b[0][0],b[0][1]):function(c){return c===a||e(c,a,b)}}var e=a("./_baseIsMatch"),f=a("./_getMatchData"),g=a("./_matchesStrictComparable");b.exports=d},{"./_baseIsMatch":316,"./_getMatchData":382,"./_matchesStrictComparable":419}],325:[function(a,b,c){function d(a,b){return h(a)&&i(b)?j(k(a),b):function(c){var d=f(c,a);return void 0===d&&d===b?g(c,a):e(b,d,l|m)}}var e=a("./_baseIsEqual"),f=a("./get"),g=a("./hasIn"),h=a("./_isKey"),i=a("./_isStrictComparable"),j=a("./_matchesStrictComparable"),k=a("./_toKey"),l=1,m=2;b.exports=d},{"./_baseIsEqual":314,"./_isKey":403,"./_isStrictComparable":407,"./_matchesStrictComparable":419,"./_toKey":443,"./get":463,"./hasIn":466}],326:[function(a,b,c){function d(a,b,c){var d=-1;b=e(b.length?b:[k],i(f));var l=g(a,function(a,c,f){return{criteria:e(b,function(b){return b(a)}),index:++d,value:a}});return h(l,function(a,b){return j(a,b,c)})}var e=a("./_arrayMap"),f=a("./_baseIteratee"),g=a("./_baseMap"),h=a("./_baseSortBy"),i=a("./_baseUnary"),j=a("./_compareMultiple"),k=a("./identity");b.exports=d},{"./_arrayMap":284,"./_baseIteratee":320,"./_baseMap":323,"./_baseSortBy":338,"./_baseUnary":342,"./_compareMultiple":359,"./identity":467}],327:[function(a,b,c){function d(a,b){return e(a,b,function(b,c){return f(a,c)})}var e=a("./_basePickBy"),f=a("./hasIn");b.exports=d},{"./_basePickBy":328,"./hasIn":466}],328:[function(a,b,c){function d(a,b,c){for(var d=-1,h=b.length,i={};++d<h;){var j=b[d],k=e(a,j);c(k,j)&&f(i,g(j,a),k)}return i}var e=a("./_baseGet"),f=a("./_baseSet"),g=a("./_castPath");b.exports=d},{"./_baseGet":306,"./_baseSet":334,"./_castPath":348}],329:[function(a,b,c){function d(a){return function(b){return null==b?void 0:b[a]}}b.exports=d},{}],330:[function(a,b,c){function d(a){return function(b){return e(b,a)}}var e=a("./_baseGet");b.exports=d},{"./_baseGet":306}],331:[function(a,b,c){function d(a,b){for(var c=a?b.length:0,d=c-1;c--;){var g=b[c];if(c==d||g!==i){var i=g;f(g)?h.call(a,g,1):e(a,g)}}return a}var e=a("./_baseUnset"),f=a("./_isIndex"),g=Array.prototype,h=g.splice;b.exports=d},{"./_baseUnset":344,"./_isIndex":401}],332:[function(a,b,c){function d(a,b,c,d,e){return e(a,function(a,e,f){c=d?(d=!1,a):b(c,a,e,f)}),c}b.exports=d},{}],333:[function(a,b,c){function d(a,b){return g(f(a,b,e),a+"")}var e=a("./identity"),f=a("./_overRest"),g=a("./_setToString");b.exports=d},{"./_overRest":427,"./_setToString":433,"./identity":467}],334:[function(a,b,c){function d(a,b,c,d){if(!h(a))return a;b=f(b,a);for(var j=-1,k=b.length,l=k-1,m=a;null!=m&&++j<k;){var n=i(b[j]),o=c;if(j!=l){var p=m[n];o=d?d(p,n,m):void 0,void 0===o&&(o=h(p)?p:g(b[j+1])?[]:{})}e(m,n,o),m=m[n]}return a}var e=a("./_assignValue"),f=a("./_castPath"),g=a("./_isIndex"),h=a("./isObject"),i=a("./_toKey");b.exports=d},{"./_assignValue":289,"./_castPath":348,"./_isIndex":401,"./_toKey":443,"./isObject":478}],335:[function(a,b,c){var d=a("./constant"),e=a("./_defineProperty"),f=a("./identity"),g=e?function(a,b){return e(a,"toString",{configurable:!0,enumerable:!1,value:d(b),writable:!0})}:f;b.exports=g},{"./_defineProperty":373,"./constant":450,"./identity":467}],336:[function(a,b,c){function d(a,b,c){var d=-1,e=a.length;0>b&&(b=-b>e?0:e+b),c=c>e?e:c,0>c&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=Array(e);++d<e;)f[d]=a[d+b];return f}b.exports=d},{}],337:[function(a,b,c){function d(a,b){var c;return e(a,function(a,d,e){return!(c=b(a,d,e))}),!!c}var e=a("./_baseEach");b.exports=d},{"./_baseEach":298}],338:[function(a,b,c){function d(a,b){var c=a.length;for(a.sort(b);c--;)a[c]=a[c].value;return a}b.exports=d},{}],339:[function(a,b,c){function d(a,b){for(var c,d=-1,e=a.length;++d<e;){var f=b(a[d]);void 0!==f&&(c=void 0===c?f:c+f)}return c}b.exports=d},{}],340:[function(a,b,c){function d(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}b.exports=d},{}],341:[function(a,b,c){function d(a){if("string"==typeof a)return a;if(g(a))return f(a,d)+"";if(h(a))return k?k.call(a):"";var b=a+"";return"0"==b&&1/a==-i?"-0":b}var e=a("./_Symbol"),f=a("./_arrayMap"),g=a("./isArray"),h=a("./isSymbol"),i=1/0,j=e?e.prototype:void 0,k=j?j.toString:void 0;b.exports=d},{"./_Symbol":271,"./_arrayMap":284,"./isArray":471,"./isSymbol":481}],342:[function(a,b,c){function d(a){return function(b){return a(b)}}b.exports=d},{}],343:[function(a,b,c){function d(a,b,c){var d=-1,l=f,m=a.length,n=!0,o=[],p=o;if(c)n=!1,l=g;else if(m>=k){var q=b?null:i(a);if(q)return j(q);n=!1,l=h,p=new e}else p=b?[]:o;a:for(;++d<m;){var r=a[d],s=b?b(r):r;if(r=c||0!==r?r:0,n&&s===s){for(var t=p.length;t--;)if(p[t]===s)continue a;b&&p.push(s),o.push(r)}else l(p,s,c)||(p!==o&&p.push(s),o.push(r))}return o}var e=a("./_SetCache"),f=a("./_arrayIncludes"),g=a("./_arrayIncludesWith"),h=a("./_cacheHas"),i=a("./_createSet"),j=a("./_setToArray"),k=200;b.exports=d},{"./_SetCache":269,"./_arrayIncludes":281,"./_arrayIncludesWith":282,"./_cacheHas":346,"./_createSet":372,"./_setToArray":432}],344:[function(a,b,c){function d(a,b){return b=e(b,a),null==(a=g(a,b))||delete a[h(f(b))]}var e=a("./_castPath"),f=a("./last"),g=a("./_parent"),h=a("./_toKey");b.exports=d},{"./_castPath":348,"./_parent":428,"./_toKey":443,"./last":486}],345:[function(a,b,c){function d(a,b){return e(b,function(b){return a[b]})}var e=a("./_arrayMap");b.exports=d},{"./_arrayMap":284}],346:[function(a,b,c){function d(a,b){return a.has(b)}b.exports=d},{}],347:[function(a,b,c){function d(a){return"function"==typeof a?a:e}var e=a("./identity");b.exports=d},{"./identity":467}],348:[function(a,b,c){function d(a,b){return e(a)?a:f(a,b)?[a]:g(h(a))}var e=a("./isArray"),f=a("./_isKey"),g=a("./_stringToPath"),h=a("./toString");b.exports=d},{"./_isKey":403,"./_stringToPath":442,"./isArray":471,"./toString":511}],349:[function(a,b,c){function d(a,b,c){var d=a.length;return c=void 0===c?d:c,!b&&c>=d?a:e(a,b,c)}var e=a("./_baseSlice");b.exports=d},{"./_baseSlice":336}],350:[function(a,b,c){function d(a){var b=new a.constructor(a.byteLength);return new e(b).set(new e(a)),b}var e=a("./_Uint8Array");b.exports=d},{"./_Uint8Array":272}],351:[function(a,b,c){function d(a,b){if(b)return a.slice();var c=a.length,d=j?j(c):new a.constructor(c);return a.copy(d),d}var e=a("./_root"),f="object"==(void 0===c?"undefined":_typeof(c))&&c&&!c.nodeType&&c,g=f&&"object"==(void 0===b?"undefined":_typeof(b))&&b&&!b.nodeType&&b,h=g&&g.exports===f,i=h?e.Buffer:void 0,j=i?i.allocUnsafe:void 0;b.exports=d},{"./_root":429}],352:[function(a,b,c){function d(a,b){var c=b?e(a.buffer):a.buffer;return new a.constructor(c,a.byteOffset,a.byteLength)}var e=a("./_cloneArrayBuffer");b.exports=d},{"./_cloneArrayBuffer":350}],353:[function(a,b,c){function d(a,b,c){var d=b?c(g(a),h):g(a);return f(d,e,new a.constructor)}var e=a("./_addMapEntry"),f=a("./_arrayReduce"),g=a("./_mapToArray"),h=1;b.exports=d},{"./_addMapEntry":274,"./_arrayReduce":286,"./_mapToArray":418}],354:[function(a,b,c){function d(a){var b=new a.constructor(a.source,e.exec(a));return b.lastIndex=a.lastIndex,b}var e=/\w*$/;b.exports=d},{}],355:[function(a,b,c){function d(a,b,c){var d=b?c(g(a),h):g(a);return f(d,e,new a.constructor)}var e=a("./_addSetEntry"),f=a("./_arrayReduce"),g=a("./_setToArray"),h=1;b.exports=d},{"./_addSetEntry":275,"./_arrayReduce":286,"./_setToArray":432}],356:[function(a,b,c){function d(a){return g?Object(g.call(a)):{}}var e=a("./_Symbol"),f=e?e.prototype:void 0,g=f?f.valueOf:void 0;b.exports=d},{"./_Symbol":271}],357:[function(a,b,c){function d(a,b){var c=b?e(a.buffer):a.buffer;return new a.constructor(c,a.byteOffset,a.length)}var e=a("./_cloneArrayBuffer");b.exports=d},{"./_cloneArrayBuffer":350}],358:[function(a,b,c){function d(a,b){if(a!==b){var c=void 0!==a,d=null===a,f=a===a,g=e(a),h=void 0!==b,i=null===b,j=b===b,k=e(b);if(!i&&!k&&!g&&a>b||g&&h&&j&&!i&&!k||d&&h&&j||!c&&j||!f)return 1;if(!d&&!g&&!k&&b>a||k&&c&&f&&!d&&!g||i&&c&&f||!h&&f||!j)return-1}return 0}var e=a("./isSymbol");b.exports=d},{"./isSymbol":481}],359:[function(a,b,c){function d(a,b,c){for(var d=-1,f=a.criteria,g=b.criteria,h=f.length,i=c.length;++d<h;){var j=e(f[d],g[d]);if(j)return d>=i?j:j*("desc"==c[d]?-1:1)}return a.index-b.index}var e=a("./_compareAscending");b.exports=d},{"./_compareAscending":358}],360:[function(a,b,c){function d(a,b){var c=-1,d=a.length;for(b||(b=Array(d));++c<d;)b[c]=a[c];return b}b.exports=d},{}],361:[function(a,b,c){function d(a,b,c,d){var g=!c;c||(c={});for(var h=-1,i=b.length;++h<i;){var j=b[h],k=d?d(c[j],a[j],j,c,a):void 0;void 0===k&&(k=a[j]),g?f(c,j,k):e(c,j,k)}return c}var e=a("./_assignValue"),f=a("./_baseAssignValue");b.exports=d},{"./_assignValue":289,"./_baseAssignValue":294}],362:[function(a,b,c){function d(a,b){return e(a,f(a),b)}var e=a("./_copyObject"),f=a("./_getSymbols");b.exports=d},{"./_copyObject":361,"./_getSymbols":386}],363:[function(a,b,c){function d(a,b){return e(a,f(a),b)}var e=a("./_copyObject"),f=a("./_getSymbolsIn");b.exports=d},{"./_copyObject":361,"./_getSymbolsIn":387}],364:[function(a,b,c){var d=a("./_root"),e=d["__core-js_shared__"];b.exports=e},{"./_root":429}],365:[function(a,b,c){function d(a,b){return function(c,d){var i=h(c)?e:f,j=b?b():{};return i(c,a,g(d,2),j)}}var e=a("./_arrayAggregator"),f=a("./_baseAggregator"),g=a("./_baseIteratee"),h=a("./isArray");b.exports=d},{"./_arrayAggregator":277,"./_baseAggregator":291,"./_baseIteratee":320,"./isArray":471}],366:[function(a,b,c){function d(a){return e(function(b,c){var d=-1,e=c.length,g=e>1?c[e-1]:void 0,h=e>2?c[2]:void 0;for(g=a.length>3&&"function"==typeof g?(e--,g):void 0,h&&f(c[0],c[1],h)&&(g=3>e?void 0:g,e=1),b=Object(b);++d<e;){var i=c[d];i&&a(b,i,d,g)}return b})}var e=a("./_baseRest"),f=a("./_isIterateeCall");b.exports=d},{"./_baseRest":333,"./_isIterateeCall":402}],367:[function(a,b,c){function d(a,b){return function(c,d){if(null==c)return c;if(!e(c))return a(c,d);for(var f=c.length,g=b?f:-1,h=Object(c);(b?g--:++g<f)&&!1!==d(h[g],g,h););return c}}var e=a("./isArrayLike");b.exports=d},{"./isArrayLike":472}],368:[function(a,b,c){function d(a){return function(b,c,d){for(var e=-1,f=Object(b),g=d(b),h=g.length;h--;){var i=g[a?h:++e];if(!1===c(f[i],i,f))break}return b}}b.exports=d},{}],369:[function(a,b,c){function d(a){return function(b){b=h(b);var c=f(b)?g(b):void 0,d=c?c[0]:b.charAt(0),i=c?e(c,1).join(""):b.slice(1);return d[a]()+i}}var e=a("./_castSlice"),f=a("./_hasUnicode"),g=a("./_stringToArray"),h=a("./toString");b.exports=d},{"./_castSlice":349,"./_hasUnicode":391,"./_stringToArray":441,"./toString":511}],370:[function(a,b,c){function d(a){return function(b,c,d){var h=Object(b);if(!f(b)){var i=e(c,3);b=g(b),c=function(a){return i(h[a],a,h)}}var j=a(b,c,d);return j>-1?h[i?b[j]:j]:void 0}}var e=a("./_baseIteratee"),f=a("./isArrayLike"),g=a("./keys");b.exports=d},{"./_baseIteratee":320,"./isArrayLike":472,"./keys":484}],371:[function(a,b,c){function d(a){return j(function(b){return b=f(b,i(g)),h(function(c){var d=this;return a(b,function(a){return e(a,d,c)})})})}var e=a("./_apply"),f=a("./_arrayMap"),g=a("./_baseIteratee"),h=a("./_baseRest"),i=a("./_baseUnary"),j=a("./_flatRest");b.exports=d},{"./_apply":276,"./_arrayMap":284,"./_baseIteratee":320,"./_baseRest":333,"./_baseUnary":342,"./_flatRest":377}],372:[function(a,b,c){var d=a("./_Set"),e=a("./noop"),f=a("./_setToArray"),g=d&&1/f(new d([,-0]))[1]==1/0?function(a){return new d(a)}:e;b.exports=g},{"./_Set":268,"./_setToArray":432,"./noop":491}],373:[function(a,b,c){var d=a("./_getNative"),e=function(){try{var a=d(Object,"defineProperty");return a({},"",{}),a}catch(a){}}();b.exports=e},{"./_getNative":383}],374:[function(a,b,c){function d(a,b,c,d,j,k){var l=c&h,m=a.length,n=b.length;if(m!=n&&!(l&&n>m))return!1;var o=k.get(a);if(o&&k.get(b))return o==b;var p=-1,q=!0,r=c&i?new e:void 0;for(k.set(a,b),k.set(b,a);++p<m;){var s=a[p],t=b[p];if(d)var u=l?d(t,s,p,b,a,k):d(s,t,p,a,b,k);if(void 0!==u){if(u)continue;q=!1;break}if(r){if(!f(b,function(a,b){return g(r,b)||s!==a&&!j(s,a,c,d,k)?void 0:r.push(b)})){q=!1;break}}else if(s!==t&&!j(s,t,c,d,k)){q=!1;break}}return k["delete"](a),k["delete"](b),q}var e=a("./_SetCache"),f=a("./_arraySome"),g=a("./_cacheHas"),h=1,i=2;b.exports=d},{"./_SetCache":269,"./_arraySome":287,"./_cacheHas":346}],375:[function(a,b,c){function d(a,b,c,d,e,x,z){switch(c){case w:if(a.byteLength!=b.byteLength||a.byteOffset!=b.byteOffset)return!1;a=a.buffer,b=b.buffer;case v:return!(a.byteLength!=b.byteLength||!x(new f(a),new f(b)));case m:case n:case q:return g(+a,+b);case o:return a.name==b.name&&a.message==b.message;case r:case t:return a==b+"";case p:var A=i;case s:var B=d&k;if(A||(A=j),a.size!=b.size&&!B)return!1;var C=z.get(a);if(C)return C==b;d|=l,z.set(a,b);var D=h(A(a),A(b),d,e,x,z);return z["delete"](a),D;case u:if(y)return y.call(a)==y.call(b)}return!1}var e=a("./_Symbol"),f=a("./_Uint8Array"),g=a("./eq"),h=a("./_equalArrays"),i=a("./_mapToArray"),j=a("./_setToArray"),k=1,l=2,m="[object Boolean]",n="[object Date]",o="[object Error]",p="[object Map]",q="[object Number]",r="[object RegExp]",s="[object Set]",t="[object String]",u="[object Symbol]",v="[object ArrayBuffer]",w="[object DataView]",x=e?e.prototype:void 0,y=x?x.valueOf:void 0;b.exports=d},{"./_Symbol":271,"./_Uint8Array":272,"./_equalArrays":374,"./_mapToArray":418,"./_setToArray":432,"./eq":454}],376:[function(a,b,c){function d(a,b,c,d,g,i){var j=c&f,k=e(a),l=k.length;if(l!=e(b).length&&!j)return!1;for(var m=l;m--;){var n=k[m];if(!(j?n in b:h.call(b,n)))return!1}var o=i.get(a);if(o&&i.get(b))return o==b;var p=!0;i.set(a,b),i.set(b,a);for(var q=j;++m<l;){n=k[m];var r=a[n],s=b[n];if(d)var t=j?d(s,r,n,b,a,i):d(r,s,n,a,b,i);if(!(void 0===t?r===s||g(r,s,c,d,i):t)){p=!1;break}q||(q="constructor"==n)}if(p&&!q){var u=a.constructor,v=b.constructor;u!=v&&"constructor"in a&&"constructor"in b&&!("function"==typeof u&&u instanceof u&&"function"==typeof v&&v instanceof v)&&(p=!1)}return i["delete"](a),i["delete"](b),p}var e=a("./_getAllKeys"),f=1,g=Object.prototype,h=g.hasOwnProperty;b.exports=d},{"./_getAllKeys":379}],377:[function(a,b,c){function d(a){return g(f(a,void 0,e),a+"")}var e=a("./flatten"),f=a("./_overRest"),g=a("./_setToString");b.exports=d},{"./_overRest":427,"./_setToString":433,"./flatten":460}],378:[function(a,b,c){(function(a){var c="object"==(void 0===a?"undefined":_typeof(a))&&a&&a.Object===Object&&a;b.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],379:[function(a,b,c){function d(a){return e(a,g,f)}var e=a("./_baseGetAllKeys"),f=a("./_getSymbols"),g=a("./keys");b.exports=d},{"./_baseGetAllKeys":307,"./_getSymbols":386,"./keys":484}],380:[function(a,b,c){function d(a){return e(a,g,f)}var e=a("./_baseGetAllKeys"),f=a("./_getSymbolsIn"),g=a("./keysIn");b.exports=d},{"./_baseGetAllKeys":307,"./_getSymbolsIn":387,"./keysIn":485}],381:[function(a,b,c){function d(a,b){var c=a.__data__;return e(b)?c["string"==typeof b?"string":"hash"]:c.map}var e=a("./_isKeyable");b.exports=d},{"./_isKeyable":404}],382:[function(a,b,c){function d(a){for(var b=f(a),c=b.length;c--;){var d=b[c],g=a[d];b[c]=[d,g,e(g)]}return b}var e=a("./_isStrictComparable"),f=a("./keys");b.exports=d},{"./_isStrictComparable":407,"./keys":484}],383:[function(a,b,c){function d(a,b){var c=f(a,b);return e(c)?c:void 0}var e=a("./_baseIsNative"),f=a("./_getValue");b.exports=d},{"./_baseIsNative":318,"./_getValue":389}],384:[function(a,b,c){var d=a("./_overArg"),e=d(Object.getPrototypeOf,Object);b.exports=e},{"./_overArg":426}],385:[function(a,b,c){function d(a){var b=g.call(a,i),c=a[i];try{a[i]=void 0;var d=!0}catch(a){}var e=h.call(a);return d&&(b?a[i]=c:delete a[i]),e}var e=a("./_Symbol"),f=Object.prototype,g=f.hasOwnProperty,h=f.toString,i=e?e.toStringTag:void 0;b.exports=d},{"./_Symbol":271}],386:[function(a,b,c){var d=a("./_arrayFilter"),e=a("./stubArray"),f=Object.prototype,g=f.propertyIsEnumerable,h=Object.getOwnPropertySymbols,i=h?function(a){return null==a?[]:(a=Object(a),d(h(a),function(b){return g.call(a,b)}))}:e;b.exports=i},{"./_arrayFilter":280,"./stubArray":502}],387:[function(a,b,c){var d=a("./_arrayPush"),e=a("./_getPrototype"),f=a("./_getSymbols"),g=a("./stubArray"),h=Object.getOwnPropertySymbols,i=h?function(a){for(var b=[];a;)d(b,f(a)),a=e(a);return b}:g;b.exports=i},{"./_arrayPush":285,"./_getPrototype":384,"./_getSymbols":386,"./stubArray":502}],388:[function(a,b,c){var d=a("./_DataView"),e=a("./_Map"),f=a("./_Promise"),g=a("./_Set"),h=a("./_WeakMap"),i=a("./_baseGetTag"),j=a("./_toSource"),k=j(d),l=j(e),m=j(f),n=j(g),o=j(h),p=i;(d&&"[object DataView]"!=p(new d(new ArrayBuffer(1)))||e&&"[object Map]"!=p(new e)||f&&"[object Promise]"!=p(f.resolve())||g&&"[object Set]"!=p(new g)||h&&"[object WeakMap]"!=p(new h))&&(p=function(a){var b=i(a),c="[object Object]"==b?a.constructor:void 0,d=c?j(c):"";if(d)switch(d){case k:return"[object DataView]";case l:return"[object Map]";case m:return"[object Promise]";case n:return"[object Set]";case o:return"[object WeakMap]"}return b}),b.exports=p},{"./_DataView":262,"./_Map":265,"./_Promise":267,"./_Set":268,"./_WeakMap":273,"./_baseGetTag":308,"./_toSource":444}],389:[function(a,b,c){function d(a,b){return null==a?void 0:a[b]}b.exports=d},{}],390:[function(a,b,c){function d(a,b,c){b=e(b,a);for(var d=-1,k=b.length,l=!1;++d<k;){var m=j(b[d]);if(!(l=null!=a&&c(a,m)))break;a=a[m]}return l||++d!=k?l:!!(k=null==a?0:a.length)&&i(k)&&h(m,k)&&(g(a)||f(a))}var e=a("./_castPath"),f=a("./isArguments"),g=a("./isArray"),h=a("./_isIndex"),i=a("./isLength"),j=a("./_toKey");b.exports=d},{"./_castPath":348,"./_isIndex":401,"./_toKey":443,"./isArguments":470,"./isArray":471,"./isLength":477}],391:[function(a,b,c){function d(a){return e.test(a)}var e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");b.exports=d},{}],392:[function(a,b,c){function d(){this.__data__=e?e(null):{},this.size=0}var e=a("./_nativeCreate");b.exports=d},{"./_nativeCreate":421}],393:[function(a,b,c){function d(a){var b=this.has(a)&&delete this.__data__[a];return this.size-=b?1:0,b}b.exports=d},{}],394:[function(a,b,c){function d(a){var b=this.__data__;if(e){var c=b[a];return c===f?void 0:c}return h.call(b,a)?b[a]:void 0}var e=a("./_nativeCreate"),f="__lodash_hash_undefined__",g=Object.prototype,h=g.hasOwnProperty;b.exports=d},{"./_nativeCreate":421}],395:[function(a,b,c){function d(a){var b=this.__data__;return e?void 0!==b[a]:g.call(b,a)}var e=a("./_nativeCreate"),f=Object.prototype,g=f.hasOwnProperty;b.exports=d},{"./_nativeCreate":421}],396:[function(a,b,c){function d(a,b){var c=this.__data__;return this.size+=this.has(a)?0:1,c[a]=e&&void 0===b?f:b,this}var e=a("./_nativeCreate"),f="__lodash_hash_undefined__";b.exports=d},{"./_nativeCreate":421}],397:[function(a,b,c){function d(a){var b=a.length,c=a.constructor(b);return b&&"string"==typeof a[0]&&f.call(a,"index")&&(c.index=a.index,c.input=a.input),c}var e=Object.prototype,f=e.hasOwnProperty;b.exports=d},{}],398:[function(a,b,c){function d(a,b,c,d){var E=a.constructor;switch(b){case t:return e(a);case l:case m:return new E(+a);case u:return f(a,d);case v:case w:case x:case y:case z:case A:case B:case C:case D:return k(a,d);case n:return g(a,d,c);case o:case r:return new E(a);case p:return h(a);case q:return i(a,d,c);case s:return j(a)}}var e=a("./_cloneArrayBuffer"),f=a("./_cloneDataView"),g=a("./_cloneMap"),h=a("./_cloneRegExp"),i=a("./_cloneSet"),j=a("./_cloneSymbol"),k=a("./_cloneTypedArray"),l="[object Boolean]",m="[object Date]",n="[object Map]",o="[object Number]",p="[object RegExp]",q="[object Set]",r="[object String]",s="[object Symbol]",t="[object ArrayBuffer]",u="[object DataView]",v="[object Float32Array]",w="[object Float64Array]",x="[object Int8Array]",y="[object Int16Array]",z="[object Int32Array]",A="[object Uint8Array]",B="[object Uint8ClampedArray]",C="[object Uint16Array]",D="[object Uint32Array]";b.exports=d},{"./_cloneArrayBuffer":350,"./_cloneDataView":352,"./_cloneMap":353,"./_cloneRegExp":354,"./_cloneSet":355,"./_cloneSymbol":356,"./_cloneTypedArray":357}],399:[function(a,b,c){function d(a){return"function"!=typeof a.constructor||g(a)?{}:e(f(a))}var e=a("./_baseCreate"),f=a("./_getPrototype"),g=a("./_isPrototype");b.exports=d},{"./_baseCreate":296,"./_getPrototype":384,"./_isPrototype":406}],400:[function(a,b,c){function d(a){return g(a)||f(a)||!!(h&&a&&a[h])}var e=a("./_Symbol"),f=a("./isArguments"),g=a("./isArray"),h=e?e.isConcatSpreadable:void 0;b.exports=d},{"./_Symbol":271,"./isArguments":470,"./isArray":471}],401:[function(a,b,c){function d(a,b){return!!(b=null==b?e:b)&&("number"==typeof a||f.test(a))&&a>-1&&a%1==0&&b>a}var e=9007199254740991,f=/^(?:0|[1-9]\d*)$/;b.exports=d},{}],402:[function(a,b,c){function d(a,b,c){if(!h(c))return!1;var d=void 0===b?"undefined":_typeof(b);return!!("number"==d?f(c)&&g(b,c.length):"string"==d&&b in c)&&e(c[b],a)}var e=a("./eq"),f=a("./isArrayLike"),g=a("./_isIndex"),h=a("./isObject");b.exports=d},{"./_isIndex":401,"./eq":454,"./isArrayLike":472,"./isObject":478}],403:[function(a,b,c){function d(a,b){if(e(a))return!1;var c=void 0===a?"undefined":_typeof(a);return!("number"!=c&&"symbol"!=c&&"boolean"!=c&&null!=a&&!f(a))||h.test(a)||!g.test(a)||null!=b&&a in Object(b)}var e=a("./isArray"),f=a("./isSymbol"),g=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,h=/^\w*$/;b.exports=d},{"./isArray":471,"./isSymbol":481}],404:[function(a,b,c){function d(a){var b=void 0===a?"undefined":_typeof(a);return"string"==b||"number"==b||"symbol"==b||"boolean"==b?"__proto__"!==a:null===a}b.exports=d},{}],405:[function(a,b,c){function d(a){return!!f&&f in a}var e=a("./_coreJsData"),f=function(){var a=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}();b.exports=d},{"./_coreJsData":364}],406:[function(a,b,c){function d(a){var b=a&&a.constructor;return a===("function"==typeof b&&b.prototype||e)}var e=Object.prototype;b.exports=d},{}],407:[function(a,b,c){function d(a){return a===a&&!e(a)}var e=a("./isObject");b.exports=d},{"./isObject":478}],408:[function(a,b,c){function d(){this.__data__=[],this.size=0}b.exports=d},{}],409:[function(a,b,c){function d(a){var b=this.__data__,c=e(b,a);return!(0>c||(c==b.length-1?b.pop():g.call(b,c,1),--this.size,0))}var e=a("./_assocIndexOf"),f=Array.prototype,g=f.splice;b.exports=d},{"./_assocIndexOf":290}],410:[function(a,b,c){function d(a){var b=this.__data__,c=e(b,a);return 0>c?void 0:b[c][1]}var e=a("./_assocIndexOf");b.exports=d},{"./_assocIndexOf":290}],411:[function(a,b,c){function d(a){return e(this.__data__,a)>-1}var e=a("./_assocIndexOf");b.exports=d},{"./_assocIndexOf":290}],412:[function(a,b,c){function d(a,b){var c=this.__data__,d=e(c,a);return 0>d?(++this.size,c.push([a,b])):c[d][1]=b,this}var e=a("./_assocIndexOf");b.exports=d},{"./_assocIndexOf":290}],413:[function(a,b,c){function d(){this.size=0,this.__data__={hash:new e,map:new(g||f),string:new e}}var e=a("./_Hash"),f=a("./_ListCache"),g=a("./_Map");b.exports=d},{"./_Hash":263,"./_ListCache":264,"./_Map":265}],414:[function(a,b,c){function d(a){var b=e(this,a)["delete"](a);return this.size-=b?1:0,b}var e=a("./_getMapData");b.exports=d},{"./_getMapData":381}],415:[function(a,b,c){function d(a){return e(this,a).get(a)}var e=a("./_getMapData");b.exports=d},{"./_getMapData":381}],416:[function(a,b,c){function d(a){return e(this,a).has(a)}var e=a("./_getMapData");b.exports=d},{"./_getMapData":381}],417:[function(a,b,c){function d(a,b){var c=e(this,a),d=c.size;return c.set(a,b),this.size+=c.size==d?0:1,this}var e=a("./_getMapData");b.exports=d},{"./_getMapData":381}],418:[function(a,b,c){function d(a){var b=-1,c=Array(a.size);return a.forEach(function(a,d){c[++b]=[d,a]}),c}b.exports=d},{}],419:[function(a,b,c){function d(a,b){return function(c){return null!=c&&c[a]===b&&(void 0!==b||a in Object(c))}}b.exports=d},{}],420:[function(a,b,c){function d(a){var b=e(a,function(a){return c.size===f&&c.clear(),a}),c=b.cache;return b}var e=a("./memoize"),f=500;b.exports=d},{"./memoize":489}],421:[function(a,b,c){var d=a("./_getNative"),e=d(Object,"create");b.exports=e},{"./_getNative":383}],422:[function(a,b,c){var d=a("./_overArg"),e=d(Object.keys,Object);b.exports=e},{"./_overArg":426}],423:[function(a,b,c){function d(a){
var b=[];if(null!=a)for(var c in Object(a))b.push(c);return b}b.exports=d},{}],424:[function(a,b,c){var d=a("./_freeGlobal"),e="object"==(void 0===c?"undefined":_typeof(c))&&c&&!c.nodeType&&c,f=e&&"object"==(void 0===b?"undefined":_typeof(b))&&b&&!b.nodeType&&b,g=f&&f.exports===e,h=g&&d.process,i=function(){try{return h&&h.binding&&h.binding("util")}catch(a){}}();b.exports=i},{"./_freeGlobal":378}],425:[function(a,b,c){function d(a){return f.call(a)}var e=Object.prototype,f=e.toString;b.exports=d},{}],426:[function(a,b,c){function d(a,b){return function(c){return a(b(c))}}b.exports=d},{}],427:[function(a,b,c){function d(a,b,c){return b=f(void 0===b?a.length-1:b,0),function(){for(var d=arguments,g=-1,h=f(d.length-b,0),i=Array(h);++g<h;)i[g]=d[b+g];g=-1;for(var j=Array(b+1);++g<b;)j[g]=d[g];return j[b]=c(i),e(a,this,j)}}var e=a("./_apply"),f=Math.max;b.exports=d},{"./_apply":276}],428:[function(a,b,c){function d(a,b){return b.length<2?a:e(a,f(b,0,-1))}var e=a("./_baseGet"),f=a("./_baseSlice");b.exports=d},{"./_baseGet":306,"./_baseSlice":336}],429:[function(a,b,c){var d=a("./_freeGlobal"),e="object"==("undefined"==typeof self?"undefined":_typeof(self))&&self&&self.Object===Object&&self,f=d||e||Function("return this")();b.exports=f},{"./_freeGlobal":378}],430:[function(a,b,c){function d(a){return this.__data__.set(a,e),this}var e="__lodash_hash_undefined__";b.exports=d},{}],431:[function(a,b,c){function d(a){return this.__data__.has(a)}b.exports=d},{}],432:[function(a,b,c){function d(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=a}),c}b.exports=d},{}],433:[function(a,b,c){var d=a("./_baseSetToString"),e=a("./_shortOut"),f=e(d);b.exports=f},{"./_baseSetToString":335,"./_shortOut":434}],434:[function(a,b,c){function d(a){var b=0,c=0;return function(){var d=g(),h=f-(d-c);if(c=d,h>0){if(++b>=e)return arguments[0]}else b=0;return a.apply(void 0,arguments)}}var e=800,f=16,g=Date.now;b.exports=d},{}],435:[function(a,b,c){function d(){this.__data__=new e,this.size=0}var e=a("./_ListCache");b.exports=d},{"./_ListCache":264}],436:[function(a,b,c){function d(a){var b=this.__data__,c=b["delete"](a);return this.size=b.size,c}b.exports=d},{}],437:[function(a,b,c){function d(a){return this.__data__.get(a)}b.exports=d},{}],438:[function(a,b,c){function d(a){return this.__data__.has(a)}b.exports=d},{}],439:[function(a,b,c){function d(a,b){var c=this.__data__;if(c instanceof e){var d=c.__data__;if(!f||d.length<h-1)return d.push([a,b]),this.size=++c.size,this;c=this.__data__=new g(d)}return c.set(a,b),this.size=c.size,this}var e=a("./_ListCache"),f=a("./_Map"),g=a("./_MapCache"),h=200;b.exports=d},{"./_ListCache":264,"./_Map":265,"./_MapCache":266}],440:[function(a,b,c){function d(a,b,c){for(var d=c-1,e=a.length;++d<e;)if(a[d]===b)return d;return-1}b.exports=d},{}],441:[function(a,b,c){function d(a){return f(a)?g(a):e(a)}var e=a("./_asciiToArray"),f=a("./_hasUnicode"),g=a("./_unicodeToArray");b.exports=d},{"./_asciiToArray":288,"./_hasUnicode":391,"./_unicodeToArray":445}],442:[function(a,b,c){var d=a("./_memoizeCapped"),e=/^\./,f=d(function(a){var b=[];return e.test(a)&&b.push(""),a.replace(/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,function(a,c,d,e){b.push(d?e.replace(/\\(\\)?/g,"$1"):c||a)}),b});b.exports=f},{"./_memoizeCapped":420}],443:[function(a,b,c){function d(a){if("string"==typeof a||e(a))return a;var b=a+"";return"0"==b&&1/a==-f?"-0":b}var e=a("./isSymbol"),f=1/0;b.exports=d},{"./isSymbol":481}],444:[function(a,b,c){function d(a){if(null!=a){try{return f.call(a)}catch(a){}try{return a+""}catch(a){}}return""}var e=Function.prototype,f=e.toString;b.exports=d},{}],445:[function(a,b,c){function d(a){return a.match(m)||[]}var e="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",f="\\ud83c[\\udffb-\\udfff]",g="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",i="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",j="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",g,h].join("|")+")[\\ufe0e\\ufe0f]?"+i+")*",k="[\\ufe0e\\ufe0f]?"+i+j,l="(?:"+["[^\\ud800-\\udfff]"+e+"?",e,g,h,"[\\ud800-\\udfff]"].join("|")+")",m=RegExp(f+"(?="+f+")|"+l+k,"g");b.exports=d},{}],446:[function(a,b,c){var d=a("./_assignValue"),e=a("./_copyObject"),f=a("./_createAssigner"),g=a("./isArrayLike"),h=a("./_isPrototype"),i=a("./keys"),j=Object.prototype,k=j.hasOwnProperty,l=f(function(a,b){if(h(b)||g(b))return void e(b,i(b),a);for(var c in b)k.call(b,c)&&d(a,c,b[c])});b.exports=l},{"./_assignValue":289,"./_copyObject":361,"./_createAssigner":366,"./_isPrototype":406,"./isArrayLike":472,"./keys":484}],447:[function(a,b,c){function d(a){return f(e(a).toLowerCase())}var e=a("./toString"),f=a("./upperFirst");b.exports=d},{"./toString":511,"./upperFirst":514}],448:[function(a,b,c){function d(a){return e(a,f)}var e=a("./_baseClone"),f=4;b.exports=d},{"./_baseClone":295}],449:[function(a,b,c){function d(a){return e(a,f|g)}var e=a("./_baseClone"),f=1,g=4;b.exports=d},{"./_baseClone":295}],450:[function(a,b,c){function d(a){return function(){return a}}b.exports=d},{}],451:[function(a,b,c){var d=a("./_baseAssignValue"),e=a("./_createAggregator"),f=Object.prototype,g=f.hasOwnProperty,h=e(function(a,b,c){g.call(a,c)?++a[c]:d(a,c,1)});b.exports=h},{"./_baseAssignValue":294,"./_createAggregator":365}],452:[function(a,b,c){function d(a,b,c){function d(b){var c=s,d=t;return s=t=void 0,y=b,v=a.apply(d,c)}function k(a){return y=a,w=setTimeout(n,b),z?d(a):v}function l(a){var c=a-x,d=a-y,e=b-c;return A?j(e,u-d):e}function m(a){var c=a-x,d=a-y;return void 0===x||c>=b||0>c||A&&d>=u}function n(){var a=f();return m(a)?o(a):void(w=setTimeout(n,l(a)))}function o(a){return w=void 0,B&&s?d(a):(s=t=void 0,v)}function p(){void 0!==w&&clearTimeout(w),y=0,s=x=t=w=void 0}function q(){return void 0===w?v:o(f())}function r(){var a=f(),c=m(a);if(s=arguments,t=this,x=a,c){if(void 0===w)return k(x);if(A)return w=setTimeout(n,b),d(x)}return void 0===w&&(w=setTimeout(n,b)),v}var s,t,u,v,w,x,y=0,z=!1,A=!1,B=!0;if("function"!=typeof a)throw new TypeError(h);return b=g(b)||0,e(c)&&(z=!!c.leading,A="maxWait"in c,u=A?i(g(c.maxWait)||0,b):u,B="trailing"in c?!!c.trailing:B),r.cancel=p,r.flush=q,r}var e=a("./isObject"),f=a("./now"),g=a("./toNumber"),h="Expected a function",i=Math.max,j=Math.min;b.exports=d},{"./isObject":478,"./now":492,"./toNumber":510}],453:[function(a,b,c){var d=a("./_baseDifference"),e=a("./_baseFlatten"),f=a("./_baseRest"),g=a("./isArrayLikeObject"),h=f(function(a,b){return g(a)?d(a,e(b,1,g,!0)):[]});b.exports=h},{"./_baseDifference":297,"./_baseFlatten":303,"./_baseRest":333,"./isArrayLikeObject":473}],454:[function(a,b,c){function d(a,b){return a===b||a!==a&&b!==b}b.exports=d},{}],455:[function(a,b,c){function d(a,b,c){var d=h(a)?e:f;return c&&i(a,b,c)&&(b=void 0),d(a,g(b,3))}var e=a("./_arrayEvery"),f=a("./_baseEvery"),g=a("./_baseIteratee"),h=a("./isArray"),i=a("./_isIterateeCall");b.exports=d},{"./_arrayEvery":279,"./_baseEvery":299,"./_baseIteratee":320,"./_isIterateeCall":402,"./isArray":471}],456:[function(a,b,c){function d(a,b){return(h(a)?e:f)(a,g(b,3))}var e=a("./_arrayFilter"),f=a("./_baseFilter"),g=a("./_baseIteratee"),h=a("./isArray");b.exports=d},{"./_arrayFilter":280,"./_baseFilter":301,"./_baseIteratee":320,"./isArray":471}],457:[function(a,b,c){var d=a("./_createFind"),e=a("./findIndex"),f=d(e);b.exports=f},{"./_createFind":370,"./findIndex":458}],458:[function(a,b,c){function d(a,b,c){var d=null==a?0:a.length;if(!d)return-1;var i=null==c?0:g(c);return 0>i&&(i=h(d+i,0)),e(a,f(b,3),i)}var e=a("./_baseFindIndex"),f=a("./_baseIteratee"),g=a("./toInteger"),h=Math.max;b.exports=d},{"./_baseFindIndex":302,"./_baseIteratee":320,"./toInteger":509}],459:[function(a,b,c){function d(a,b){return e(f(a,b),1)}var e=a("./_baseFlatten"),f=a("./map");b.exports=d},{"./_baseFlatten":303,"./map":487}],460:[function(a,b,c){function d(a){return(null==a?0:a.length)?e(a,1):[]}var e=a("./_baseFlatten");b.exports=d},{"./_baseFlatten":303}],461:[function(a,b,c){function d(a,b){return(h(a)?e:f)(a,g(b))}var e=a("./_arrayEach"),f=a("./_baseEach"),g=a("./_castFunction"),h=a("./isArray");b.exports=d},{"./_arrayEach":278,"./_baseEach":298,"./_castFunction":347,"./isArray":471}],462:[function(a,b,c){function d(a,b){return a&&e(a,f(b))}var e=a("./_baseForOwn"),f=a("./_castFunction");b.exports=d},{"./_baseForOwn":305,"./_castFunction":347}],463:[function(a,b,c){function d(a,b,c){var d=null==a?void 0:e(a,b);return void 0===d?c:d}var e=a("./_baseGet");b.exports=d},{"./_baseGet":306}],464:[function(a,b,c){var d=a("./_baseAssignValue"),e=a("./_createAggregator"),f=Object.prototype,g=f.hasOwnProperty,h=e(function(a,b,c){g.call(a,c)?a[c].push(b):d(a,c,[b])});b.exports=h},{"./_baseAssignValue":294,"./_createAggregator":365}],465:[function(a,b,c){function d(a,b){return null!=a&&f(a,b,e)}var e=a("./_baseHas"),f=a("./_hasPath");b.exports=d},{"./_baseHas":310,"./_hasPath":390}],466:[function(a,b,c){function d(a,b){return null!=a&&f(a,b,e)}var e=a("./_baseHasIn"),f=a("./_hasPath");b.exports=d},{"./_baseHasIn":311,"./_hasPath":390}],467:[function(a,b,c){function d(a){return a}b.exports=d},{}],468:[function(a,b,c){function d(a,b,c,d){a=f(a)?a:i(a),c=c&&!d?h(c):0;var k=a.length;return 0>c&&(c=j(k+c,0)),g(a)?k>=c&&a.indexOf(b,c)>-1:!!k&&e(a,b,c)>-1}var e=a("./_baseIndexOf"),f=a("./isArrayLike"),g=a("./isString"),h=a("./toInteger"),i=a("./values"),j=Math.max;b.exports=d},{"./_baseIndexOf":312,"./isArrayLike":472,"./isString":480,"./toInteger":509,"./values":515}],469:[function(a,b,c){function d(a,b,c){var d=null==a?0:a.length;if(!d)return-1;var h=null==c?0:f(c);return 0>h&&(h=g(d+h,0)),e(a,b,h)}var e=a("./_baseIndexOf"),f=a("./toInteger"),g=Math.max;b.exports=d},{"./_baseIndexOf":312,"./toInteger":509}],470:[function(a,b,c){var d=a("./_baseIsArguments"),e=a("./isObjectLike"),f=Object.prototype,g=f.hasOwnProperty,h=f.propertyIsEnumerable,i=d(function(){return arguments}())?d:function(a){return e(a)&&g.call(a,"callee")&&!h.call(a,"callee")};b.exports=i},{"./_baseIsArguments":313,"./isObjectLike":479}],471:[function(a,b,c){var d=Array.isArray;b.exports=d},{}],472:[function(a,b,c){function d(a){return null!=a&&f(a.length)&&!e(a)}var e=a("./isFunction"),f=a("./isLength");b.exports=d},{"./isFunction":476,"./isLength":477}],473:[function(a,b,c){function d(a){return f(a)&&e(a)}var e=a("./isArrayLike"),f=a("./isObjectLike");b.exports=d},{"./isArrayLike":472,"./isObjectLike":479}],474:[function(a,b,c){var d=a("./_root"),e=a("./stubFalse"),f="object"==(void 0===c?"undefined":_typeof(c))&&c&&!c.nodeType&&c,g=f&&"object"==(void 0===b?"undefined":_typeof(b))&&b&&!b.nodeType&&b,h=g&&g.exports===f,i=h?d.Buffer:void 0,j=i?i.isBuffer:void 0,k=j||e;b.exports=k},{"./_root":429,"./stubFalse":503}],475:[function(a,b,c){function d(a){if(null==a)return!0;if(i(a)&&(h(a)||"string"==typeof a||"function"==typeof a.splice||j(a)||l(a)||g(a)))return!a.length;var b=f(a);if(b==m||b==n)return!a.size;if(k(a))return!e(a).length;for(var c in a)if(p.call(a,c))return!1;return!0}var e=a("./_baseKeys"),f=a("./_getTag"),g=a("./isArguments"),h=a("./isArray"),i=a("./isArrayLike"),j=a("./isBuffer"),k=a("./_isPrototype"),l=a("./isTypedArray"),m="[object Map]",n="[object Set]",o=Object.prototype,p=o.hasOwnProperty;b.exports=d},{"./_baseKeys":321,"./_getTag":388,"./_isPrototype":406,"./isArguments":470,"./isArray":471,"./isArrayLike":472,"./isBuffer":474,"./isTypedArray":482}],476:[function(a,b,c){function d(a){if(!f(a))return!1;var b=e(a);return b==h||b==i||b==g||b==j}var e=a("./_baseGetTag"),f=a("./isObject"),g="[object AsyncFunction]",h="[object Function]",i="[object GeneratorFunction]",j="[object Proxy]";b.exports=d},{"./_baseGetTag":308,"./isObject":478}],477:[function(a,b,c){function d(a){return"number"==typeof a&&a>-1&&a%1==0&&e>=a}var e=9007199254740991;b.exports=d},{}],478:[function(a,b,c){function d(a){var b=void 0===a?"undefined":_typeof(a);return null!=a&&("object"==b||"function"==b)}b.exports=d},{}],479:[function(a,b,c){function d(a){return null!=a&&"object"==(void 0===a?"undefined":_typeof(a))}b.exports=d},{}],480:[function(a,b,c){function d(a){return"string"==typeof a||!f(a)&&g(a)&&e(a)==h}var e=a("./_baseGetTag"),f=a("./isArray"),g=a("./isObjectLike"),h="[object String]";b.exports=d},{"./_baseGetTag":308,"./isArray":471,"./isObjectLike":479}],481:[function(a,b,c){function d(a){return"symbol"==(void 0===a?"undefined":_typeof(a))||f(a)&&e(a)==g}var e=a("./_baseGetTag"),f=a("./isObjectLike"),g="[object Symbol]";b.exports=d},{"./_baseGetTag":308,"./isObjectLike":479}],482:[function(a,b,c){var d=a("./_baseIsTypedArray"),e=a("./_baseUnary"),f=a("./_nodeUtil"),g=f&&f.isTypedArray,h=g?e(g):d;b.exports=h},{"./_baseIsTypedArray":319,"./_baseUnary":342,"./_nodeUtil":424}],483:[function(a,b,c){var d=a("./_baseAssignValue"),e=a("./_createAggregator"),f=e(function(a,b,c){d(a,c,b)});b.exports=f},{"./_baseAssignValue":294,"./_createAggregator":365}],484:[function(a,b,c){function d(a){return g(a)?e(a):f(a)}var e=a("./_arrayLikeKeys"),f=a("./_baseKeys"),g=a("./isArrayLike");b.exports=d},{"./_arrayLikeKeys":283,"./_baseKeys":321,"./isArrayLike":472}],485:[function(a,b,c){function d(a){return g(a)?e(a,!0):f(a)}var e=a("./_arrayLikeKeys"),f=a("./_baseKeysIn"),g=a("./isArrayLike");b.exports=d},{"./_arrayLikeKeys":283,"./_baseKeysIn":322,"./isArrayLike":472}],486:[function(a,b,c){function d(a){var b=null==a?0:a.length;return b?a[b-1]:void 0}b.exports=d},{}],487:[function(a,b,c){function d(a,b){return(h(a)?e:g)(a,f(b,3))}var e=a("./_arrayMap"),f=a("./_baseIteratee"),g=a("./_baseMap"),h=a("./isArray");b.exports=d},{"./_arrayMap":284,"./_baseIteratee":320,"./_baseMap":323,"./isArray":471}],488:[function(a,b,c){function d(a,b){return a&&a.length?e(a,g(b,2),f):void 0}var e=a("./_baseExtremum"),f=a("./_baseGt"),g=a("./_baseIteratee");b.exports=d},{"./_baseExtremum":300,"./_baseGt":309,"./_baseIteratee":320}],489:[function(a,b,c){function d(a,b){if("function"!=typeof a||null!=b&&"function"!=typeof b)throw new TypeError(f);var c=function g(){var c=arguments,d=b?b.apply(this,c):c[0],e=g.cache;if(e.has(d))return e.get(d);var f=a.apply(this,c);return g.cache=e.set(d,f)||e,f};return c.cache=new(d.Cache||e),c}var e=a("./_MapCache"),f="Expected a function";d.Cache=e,b.exports=d},{"./_MapCache":266}],490:[function(a,b,c){function d(a){if("function"!=typeof a)throw new TypeError(e);return function(){var b=arguments;switch(b.length){case 0:return!a.call(this);case 1:return!a.call(this,b[0]);case 2:return!a.call(this,b[0],b[1]);case 3:return!a.call(this,b[0],b[1],b[2])}return!a.apply(this,b)}}var e="Expected a function";b.exports=d},{}],491:[function(a,b,c){function d(){}b.exports=d},{}],492:[function(a,b,c){var d=a("./_root"),e=function(){return d.Date.now()};b.exports=e},{"./_root":429}],493:[function(a,b,c){var d=a("./_arraySome"),e=a("./_createOver"),f=e(d);b.exports=f},{"./_arraySome":287,"./_createOver":371}],494:[function(a,b,c){var d=a("./_createAggregator"),e=d(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]});b.exports=e},{"./_createAggregator":365}],495:[function(a,b,c){var d=a("./_basePick"),e=a("./_flatRest"),f=e(function(a,b){return null==a?{}:d(a,b)});b.exports=f},{"./_basePick":327,"./_flatRest":377}],496:[function(a,b,c){function d(a){return g(a)?e(h(a)):f(a)}var e=a("./_baseProperty"),f=a("./_basePropertyDeep"),g=a("./_isKey"),h=a("./_toKey");b.exports=d},{"./_baseProperty":329,"./_basePropertyDeep":330,"./_isKey":403,"./_toKey":443}],497:[function(a,b,c){function d(a,b,c){var d=i(a)?e:h,j=arguments.length<3;return d(a,g(b,4),c,j,f)}var e=a("./_arrayReduce"),f=a("./_baseEach"),g=a("./_baseIteratee"),h=a("./_baseReduce"),i=a("./isArray");b.exports=d},{"./_arrayReduce":286,"./_baseEach":298,"./_baseIteratee":320,"./_baseReduce":332,"./isArray":471}],498:[function(a,b,c){function d(a,b){return(h(a)?e:f)(a,i(g(b,3)))}var e=a("./_arrayFilter"),f=a("./_baseFilter"),g=a("./_baseIteratee"),h=a("./isArray"),i=a("./negate");b.exports=d},{"./_arrayFilter":280,"./_baseFilter":301,"./_baseIteratee":320,"./isArray":471,"./negate":490}],499:[function(a,b,c){function d(a,b){var c=[];if(!a||!a.length)return c;var d=-1,g=[],h=a.length;for(b=e(b,3);++d<h;){var i=a[d];b(i,d,a)&&(c.push(i),g.push(d))}return f(a,g),c}var e=a("./_baseIteratee"),f=a("./_basePullAt");b.exports=d},{"./_baseIteratee":320,"./_basePullAt":331}],500:[function(a,b,c){function d(a,b,c){var d=h(a)?e:g;return c&&i(a,b,c)&&(b=void 0),d(a,f(b,3))}var e=a("./_arraySome"),f=a("./_baseIteratee"),g=a("./_baseSome"),h=a("./isArray"),i=a("./_isIterateeCall");b.exports=d},{"./_arraySome":287,"./_baseIteratee":320,"./_baseSome":337,"./_isIterateeCall":402,"./isArray":471}],501:[function(a,b,c){var d=a("./_baseFlatten"),e=a("./_baseOrderBy"),f=a("./_baseRest"),g=a("./_isIterateeCall"),h=f(function(a,b){if(null==a)return[];var c=b.length;return c>1&&g(a,b[0],b[1])?b=[]:c>2&&g(b[0],b[1],b[2])&&(b=[b[0]]),e(a,d(b,1),[])});b.exports=h},{"./_baseFlatten":303,"./_baseOrderBy":326,"./_baseRest":333,"./_isIterateeCall":402}],502:[function(a,b,c){function d(){return[]}b.exports=d},{}],503:[function(a,b,c){function d(){return!1}b.exports=d},{}],504:[function(a,b,c){function d(a){return a&&a.length?e(a,f):0}var e=a("./_baseSum"),f=a("./identity");b.exports=d},{"./_baseSum":339,"./identity":467}],505:[function(a,b,c){function d(a,b){return a&&a.length?f(a,e(b,2)):0}var e=a("./_baseIteratee"),f=a("./_baseSum");b.exports=d},{"./_baseIteratee":320,"./_baseSum":339}],506:[function(a,b,c){function d(a,b,c){var d=null==a?0:a.length;return d?(b=c||void 0===b?1:f(b),b=d-b,e(a,0>b?0:b,d)):[]}var e=a("./_baseSlice"),f=a("./toInteger");b.exports=d},{"./_baseSlice":336,"./toInteger":509}],507:[function(a,b,c){function d(a,b,c){var d=!0,h=!0;if("function"!=typeof a)throw new TypeError(g);return f(c)&&(d="leading"in c?!!c.leading:d,h="trailing"in c?!!c.trailing:h),e(a,b,{leading:d,maxWait:b,trailing:h})}var e=a("./debounce"),f=a("./isObject"),g="Expected a function";b.exports=d},{"./debounce":452,"./isObject":478}],508:[function(a,b,c){function d(a){return a?(a=e(a))===f||a===-f?(0>a?-1:1)*g:a===a?a:0:0===a?a:0}var e=a("./toNumber"),f=1/0,g=1.7976931348623157e308;b.exports=d},{"./toNumber":510}],509:[function(a,b,c){function d(a){var b=e(a),c=b%1;return b===b?c?b-c:b:0}var e=a("./toFinite");b.exports=d},{"./toFinite":508}],510:[function(a,b,c){function d(a){if("number"==typeof a)return a;if(f(a))return g;if(e(a)){var b="function"==typeof a.valueOf?a.valueOf():a;a=e(b)?b+"":b}if("string"!=typeof a)return 0===a?a:+a;a=a.replace(h,"");var c=j.test(a);return c||k.test(a)?l(a.slice(2),c?2:8):i.test(a)?g:+a}var e=a("./isObject"),f=a("./isSymbol"),g=NaN,h=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,j=/^0b[01]+$/i,k=/^0o[0-7]+$/i,l=parseInt;b.exports=d},{"./isObject":478,"./isSymbol":481}],511:[function(a,b,c){function d(a){return null==a?"":e(a)}var e=a("./_baseToString");b.exports=d},{"./_baseToString":341}],512:[function(a,b,c){function d(a){return a&&a.length?e(a):[]}var e=a("./_baseUniq");b.exports=d},{"./_baseUniq":343}],513:[function(a,b,c){function d(a,b){return a&&a.length?f(a,e(b,2)):[]}var e=a("./_baseIteratee"),f=a("./_baseUniq");b.exports=d},{"./_baseIteratee":320,"./_baseUniq":343}],514:[function(a,b,c){var d=a("./_createCaseFirst"),e=d("toUpperCase");b.exports=e},{"./_createCaseFirst":369}],515:[function(a,b,c){function d(a){return null==a?[]:e(a,f(a))}var e=a("./_baseValues"),f=a("./keys");b.exports=d},{"./_baseValues":345,"./keys":484}],516:[function(a,b,c){function d(a){var b=/(?:;|,)/g,c=/=/;if(a&&b.test(a)){var d=a.split(b);c.test(a)?d.forEach(function(a,b){var d=a.split(c).map(function(a){return a.trim()});2===d.length?(this[d[0]]||(this[d[0]]={}),this[d[0]]=d[1],this[b]={},this[b][d[0]]=d[1]):this[b]=a},this):this[0]=d[0]}else this[0]=a;return this}d.prototype.toArray=function(){return Object.keys(this).filter(function(a){return!isNaN(+a)}).map(function(a){return this[a]},this)},b.exports=function(a){return d.prototype.toString=function(){return a},new d(a)}},{}],517:[function(a,b,c){"use strict";var d=a("../src/lib"),e={"X,X div":"font-family:'Open Sans', verdana, arial, sans-serif;margin:0;padding:0;","X input,X button":"font-family:'Open Sans', verdana, arial, sans-serif;","X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .modebar":"position:absolute;top:2px;right:2px;z-index:1001;background:rgba(255,255,255,0.7);","X .modebar--hover":"opacity:0;-webkit-transition:opacity 0.3s ease 0s;-moz-transition:opacity 0.3s ease 0s;-ms-transition:opacity 0.3s ease 0s;-o-transition:opacity 0.3s ease 0s;transition:opacity 0.3s ease 0s;","X:hover .modebar--hover":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;margin-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-group:first-child":"margin-left:0px;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar-btn path":"fill:rgba(0,31,95,0.3);","X .modebar-btn.active path,X .modebar-btn:hover path":"fill:rgba(0,22,72,0.5);","X .modebar-btn.modebar-btn--logo":"padding:3px 1px;","X .modebar-btn.modebar-btn--logo path":"fill:#447adb !important;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":"content:'';position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;","X [data-title]:after":"content:attr(data-title);background:#69738a;color:white;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .select-outline":"fill:none;stroke-width:1;shape-rendering:crispEdges;","X .select-outline-1":"stroke:white;","X .select-outline-2":"stroke:black;stroke-dasharray:2px 2px;",Y:"font-family:'Open Sans';position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;","Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,0.9);color:#fff;padding:10px;","Y .notifier-close":"color:#fff;opacity:0.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var f in e){var g=f.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");d.addStyleRule(g,e[f])}},{"../src/lib":645}],518:[function(a,b,c){"use strict";b.exports={undo:{width:857.1,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",ascent:850,descent:-150},home:{width:928.6,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",ascent:850,descent:-150},"camera-retro":{width:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",ascent:850,descent:-150},zoombox:{width:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",ascent:850,descent:-150},pan:{width:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",ascent:850,descent:-150},zoom_plus:{width:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",ascent:850,descent:-150},zoom_minus:{width:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",ascent:850,descent:-150},autoscale:{width:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",ascent:850,descent:-150},tooltip_basic:{width:1500,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",ascent:850,descent:-150},tooltip_compare:{width:1125,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",ascent:850,descent:-150},plotlylogo:{width:1542,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",ascent:850,descent:-150},"z-axis":{width:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",ascent:850,descent:-150},"3d_rotate":{width:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",ascent:850,descent:-150},camera:{width:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",ascent:850,descent:-150},movie:{width:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",ascent:850,descent:-150},question:{width:857.1,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",ascent:850,descent:-150},disk:{width:857.1,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",ascent:850,descent:-150},lasso:{width:1031,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",ascent:850,descent:-150},selectbox:{width:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",ascent:850,descent:-150},spikeline:{width:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",ascent:850,descent:-150}}},{}],519:[function(a,b,c){"use strict";b.exports=a("../src/traces/bar")},{"../src/traces/bar":729}],520:[function(a,b,c){"use strict";b.exports=a("../src/core")},{"../src/core":634}],521:[function(a,b,c){"use strict";var d=a("./core");d.register([a("./bar"),a("./pie")]),b.exports=d},{"./bar":519,"./core":520,"./pie":522}],522:[function(a,b,c){"use strict";b.exports=a("../src/traces/pie")},{"../src/traces/pie":742}],523:[function(a,b,c){"use strict";var d=a("../../lib"),e=a("../color"),f=a("../../plots/cartesian/axes"),g=a("./attributes");b.exports=function(a,b,c,h,i){function j(c,e){return d.coerce(a,b,g,c,e);
}h=h||{},i=i||{};var k=j("visible",!i.itemIsNotPlainObject),l=j("clicktoshow");if(!k&&!l)return b;j("opacity");var m=j("bgcolor"),n=j("bordercolor"),o=e.opacity(n);j("borderpad");var p=j("borderwidth"),q=j("showarrow");j("text",q?" ":"new text"),j("textangle"),d.coerceFont(j,"font",c.font),j("width"),j("align"),j("height")&&j("valign");for(var r=["x","y"],s=[-10,-30],t={_fullLayout:c},u=0;2>u;u++){var v=r[u],w=f.coerceRef(a,b,t,v,"","paper");if(f.coercePosition(b,t,j,w,v,.5),q){var x="a"+v,y=f.coerceRef(a,b,t,x,"pixel");"pixel"!==y&&y!==w&&(y=b[x]="pixel");var z="pixel"===y?s[u]:.4;f.coercePosition(b,t,j,y,x,z)}j(v+"anchor"),j(v+"shift")}if(d.noneOrAll(a,b,["x","y"]),q&&(j("arrowcolor",o?b.bordercolor:e.defaultLine),j("arrowhead"),j("arrowsize"),j("arrowwidth",2*(o&&p||1)),j("standoff"),d.noneOrAll(a,b,["ax","ay"])),l){var A=j("xclick"),B=j("yclick");b._xclick=void 0===A?b.x:A,b._yclick=void 0===B?b.y:B}var C=j("hovertext"),D=c.hoverlabel||{};if(C){var E=j("hoverlabel.bgcolor",D.bgcolor||(e.opacity(m)?e.rgb(m):e.defaultLine)),F=j("hoverlabel.bordercolor",D.bordercolor||e.contrast(E));d.coerceFont(j,"hoverlabel.font",{family:D.font.family,size:D.font.size,color:D.font.color||F})}return j("captureevents",!!C),b}},{"../../lib":645,"../../plots/cartesian/axes":680,"../color":534,"./attributes":525}],524:[function(a,b,c){"use strict";b.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0},{path:"M2,2V-2H-2V2Z",backoff:0}]},{}],525:[function(a,b,c){"use strict";var d=a("./arrow_paths"),e=a("../../plots/font_attributes"),f=a("../../plots/cartesian/constants"),g=a("../../lib/extend").extendFlat;b.exports={_isLinkedToArray:"annotation",visible:{valType:"boolean",role:"info",dflt:!0,description:["Determines whether or not this annotation is visible."].join(" ")},text:{valType:"string",role:"info",description:["Sets the text associated with this annotation.","Plotly uses a subset of HTML tags to do things like","newline (<br>), bold (<b></b>), italics (<i></i>),","hyperlinks (<a href='...'></a>). Tags <em>, <sup>, <sub>","<span> are also supported."].join(" ")},textangle:{valType:"angle",dflt:0,role:"style",description:["Sets the angle at which the `text` is drawn","with respect to the horizontal."].join(" ")},font:g({},e,{description:"Sets the annotation text font."}),width:{valType:"number",min:1,dflt:null,role:"style",description:["Sets an explicit width for the text box. null (default) lets the","text set the box width. Wider text will be clipped.","There is no automatic wrapping; use <br> to start a new line."].join(" ")},height:{valType:"number",min:1,dflt:null,role:"style",description:["Sets an explicit height for the text box. null (default) lets the","text set the box height. Taller text will be clipped."].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,role:"style",description:"Sets the opacity of the annotation (text + arrow)."},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",role:"style",description:["Sets the horizontal alignment of the `text` within the box.","Has an effect only if `text` spans more two or more lines","(i.e. `text` contains one or more <br> HTML tags) or if an","explicit width is set to override the text width."].join(" ")},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",role:"style",description:["Sets the vertical alignment of the `text` within the box.","Has an effect only if an explicit height is set to override","the text height."].join(" ")},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",role:"style",description:"Sets the background color of the annotation."},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",role:"style",description:["Sets the color of the border enclosing the annotation `text`."].join(" ")},borderpad:{valType:"number",min:0,dflt:1,role:"style",description:["Sets the padding (in px) between the `text`","and the enclosing border."].join(" ")},borderwidth:{valType:"number",min:0,dflt:1,role:"style",description:["Sets the width (in px) of the border enclosing","the annotation `text`."].join(" ")},showarrow:{valType:"boolean",dflt:!0,role:"style",description:["Determines whether or not the annotation is drawn with an arrow.","If *true*, `text` is placed near the arrow's tail.","If *false*, `text` lines up with the `x` and `y` provided."].join(" ")},arrowcolor:{valType:"color",role:"style",description:"Sets the color of the annotation arrow."},arrowhead:{valType:"integer",min:0,max:d.length,dflt:1,role:"style",description:"Sets the annotation arrow head style."},arrowsize:{valType:"number",min:.3,dflt:1,role:"style",description:"Sets the size (in px) of annotation arrow head."},arrowwidth:{valType:"number",min:.1,role:"style",description:"Sets the width (in px) of annotation arrow."},standoff:{valType:"number",min:0,dflt:0,role:"style",description:["Sets a distance, in pixels, to move the arrowhead away from the","position it is pointing at, for example to point at the edge of","a marker independent of zoom. Note that this shortens the arrow","from the `ax` / `ay` vector, in contrast to `xshift` / `yshift`","which moves everything by this amount."].join(" ")},ax:{valType:"any",role:"info",description:["Sets the x component of the arrow tail about the arrow head.","If `axref` is `pixel`, a positive (negative) ","component corresponds to an arrow pointing","from right to left (left to right).","If `axref` is an axis, this is an absolute value on that axis,","like `x`, NOT a relative value."].join(" ")},ay:{valType:"any",role:"info",description:["Sets the y component of the arrow tail about the arrow head.","If `ayref` is `pixel`, a positive (negative) ","component corresponds to an arrow pointing","from bottom to top (top to bottom).","If `ayref` is an axis, this is an absolute value on that axis,","like `y`, NOT a relative value."].join(" ")},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",f.idRegex.x.toString()],role:"info",description:["Indicates in what terms the tail of the annotation (ax,ay) ","is specified. If `pixel`, `ax` is a relative offset in pixels ","from `x`. If set to an x axis id (e.g. *x* or *x2*), `ax` is ","specified in the same terms as that axis. This is useful ","for trendline annotations which should continue to indicate ","the correct trend when zoomed."].join(" ")},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",f.idRegex.y.toString()],role:"info",description:["Indicates in what terms the tail of the annotation (ax,ay) ","is specified. If `pixel`, `ay` is a relative offset in pixels ","from `y`. If set to a y axis id (e.g. *y* or *y2*), `ay` is ","specified in the same terms as that axis. This is useful ","for trendline annotations which should continue to indicate ","the correct trend when zoomed."].join(" ")},xref:{valType:"enumerated",values:["paper",f.idRegex.x.toString()],role:"info",description:["Sets the annotation's x coordinate axis.","If set to an x axis id (e.g. *x* or *x2*), the `x` position","refers to an x coordinate","If set to *paper*, the `x` position refers to the distance from","the left side of the plotting area in normalized coordinates","where 0 (1) corresponds to the left (right) side."].join(" ")},x:{valType:"any",role:"info",description:["Sets the annotation's x position.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",role:"info",description:["Sets the text box's horizontal position anchor","This anchor binds the `x` position to the *left*, *center*","or *right* of the annotation.","For example, if `x` is set to 1, `xref` to *paper* and","`xanchor` to *right* then the right-most portion of the","annotation lines up with the right-most edge of the","plotting area.","If *auto*, the anchor is equivalent to *center* for","data-referenced annotations or if there is an arrow,","whereas for paper-referenced with no arrow, the anchor picked","corresponds to the closest side."].join(" ")},xshift:{valType:"number",dflt:0,role:"style",description:["Shifts the position of the whole annotation and arrow to the","right (positive) or left (negative) by this many pixels."].join(" ")},yref:{valType:"enumerated",values:["paper",f.idRegex.y.toString()],role:"info",description:["Sets the annotation's y coordinate axis.","If set to an y axis id (e.g. *y* or *y2*), the `y` position","refers to an y coordinate","If set to *paper*, the `y` position refers to the distance from","the bottom of the plotting area in normalized coordinates","where 0 (1) corresponds to the bottom (top)."].join(" ")},y:{valType:"any",role:"info",description:["Sets the annotation's y position.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",role:"info",description:["Sets the text box's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the annotation.","For example, if `y` is set to 1, `yref` to *paper* and","`yanchor` to *top* then the top-most portion of the","annotation lines up with the top-most edge of the","plotting area.","If *auto*, the anchor is equivalent to *middle* for","data-referenced annotations or if there is an arrow,","whereas for paper-referenced with no arrow, the anchor picked","corresponds to the closest side."].join(" ")},yshift:{valType:"number",dflt:0,role:"style",description:["Shifts the position of the whole annotation and arrow up","(positive) or down (negative) by this many pixels."].join(" ")},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,role:"style",description:["Makes this annotation respond to clicks on the plot.","If you click a data point that exactly matches the `x` and `y`","values of this annotation, and it is hidden (visible: false),","it will appear. In *onoff* mode, you must click the same point","again to make it disappear, so if you click multiple points,","you can show multiple annotations. In *onout* mode, a click","anywhere else in the plot (on another data point or not) will","hide this annotation.","If you need to show/hide this annotation in response to different","`x` or `y` values, you can set `xclick` and/or `yclick`. This is","useful for example to label the side of a bar. To label markers","though, `standoff` is preferred over `xclick` and `yclick`."].join(" ")},xclick:{valType:"any",role:"info",description:["Toggle this annotation when clicking a data point whose `x` value","is `xclick` rather than the annotation's `x` value."].join(" ")},yclick:{valType:"any",role:"info",description:["Toggle this annotation when clicking a data point whose `y` value","is `yclick` rather than the annotation's `y` value."].join(" ")},hovertext:{valType:"string",role:"info",description:["Sets text to appear when hovering over this annotation.","If omitted or blank, no hover label will appear."].join(" ")},hoverlabel:{bgcolor:{valType:"color",role:"style",description:["Sets the background color of the hover label.","By default uses the annotation's `bgcolor` made opaque,","or white if it was transparent."].join(" ")},bordercolor:{valType:"color",role:"style",description:["Sets the border color of the hover label.","By default uses either dark grey or white, for maximum","contrast with `hoverlabel.bgcolor`."].join(" ")},font:g({},e,{description:["Sets the hover label text font.","By default uses the global hover font and size,","with color from `hoverlabel.bordercolor`."].join(" ")})},captureevents:{valType:"boolean",role:"info",description:["Determines whether the annotation text box captures mouse move","and click events, or allows those events to pass through to data","points in the plot that may be behind the annotation. By default","`captureevents` is *false* unless `hovertext` is provided.","If you use the event `plotly_clickannotation` without `hovertext`","you must explicitly enable `captureevents`."].join(" ")},_deprecated:{ref:{valType:"string",role:"info",description:["Obsolete. Set `xref` and `yref` separately instead."].join(" ")}}}},{"../../lib/extend":641,"../../plots/cartesian/constants":685,"../../plots/font_attributes":704,"./arrow_paths":524}],526:[function(a,b,c){"use strict";function d(a){var b=a._fullLayout;e.filterVisible(b.annotations).forEach(function(b){var c,d,e=f.getFromId(a,b.xref),g=f.getFromId(a,b.yref),h=3*b.arrowsize*b.arrowwidth||0;e&&e.autorange&&(c=h+b.xshift,d=h-b.xshift,b.axref===b.xref?(f.expand(e,[e.r2c(b.x)],{ppadplus:c,ppadminus:d}),f.expand(e,[e.r2c(b.ax)],{ppadplus:b._xpadplus,ppadminus:b._xpadminus})):f.expand(e,[e.r2c(b.x)],{ppadplus:Math.max(b._xpadplus,c),ppadminus:Math.max(b._xpadminus,d)})),g&&g.autorange&&(c=h-b.yshift,d=h+b.yshift,b.ayref===b.yref?(f.expand(g,[g.r2c(b.y)],{ppadplus:c,ppadminus:d}),f.expand(g,[g.r2c(b.ay)],{ppadplus:b._ypadplus,ppadminus:b._ypadminus})):f.expand(g,[g.r2c(b.y)],{ppadplus:Math.max(b._ypadplus,c),ppadminus:Math.max(b._ypadminus,d)}))})}var e=a("../../lib"),f=a("../../plots/cartesian/axes"),g=a("./draw").draw;b.exports=function(a){var b=a._fullLayout,c=e.filterVisible(b.annotations);if(c.length&&a._fullData.length){var h={};if(c.forEach(function(a){h[a.xref]=!0,h[a.yref]=!0}),f.list(a).filter(function(a){return a.autorange&&h[a._id]}).length)return e.syncOrAsync([g,d],a)}}},{"../../lib":645,"../../plots/cartesian/axes":680,"./draw":530}],527:[function(a,b,c){"use strict";function d(a,b){var c=f(a,b);return c.on.length>0||c.explicitOff.length>0}function e(a,b){var c,d=f(a,b),e=d.on,h=d.off.concat(d.explicitOff),i={};if(e.length||h.length){for(c=0;c<e.length;c++)i["annotations["+e[c]+"].visible"]=!0;for(c=0;c<h.length;c++)i["annotations["+h[c]+"].visible"]=!1;return g.update(a,{},i)}}function f(a,b){var c,d,e,f,g,h,i=a._fullLayout.annotations,j=[],k=[],l=[],m=(b||[]).length;for(c=0;c<i.length;c++)if(e=i[c],f=e.clicktoshow){for(d=0;m>d;d++)if(g=b[d],g.xaxis._id===e.xref&&g.yaxis._id===e.yref&&g.xaxis.d2r(g.x)===e._xclick&&g.yaxis.d2r(g.y)===e._yclick){h=e.visible?"onout"===f?k:l:j,h.push(c);break}d===m&&e.visible&&"onout"===f&&k.push(c)}return{on:j,off:k,explicitOff:l}}var g=a("../../plotly");b.exports={hasClickToShow:d,onClick:e}},{"../../plotly":675}],528:[function(a,b,c){"use strict";var d=a("fast-isnumeric"),e=a("../../lib/to_log_range");b.exports=function(a,b,c,f){function g(a){var c=j[a],g=null;g=h?e(c,b.range):Math.pow(10,c),d(g)||(g=null),f(k+a,g)}b=b||{};var h="log"===c&&"linear"===b.type,i="linear"===c&&"log"===b.type;if(h||i)for(var j,k,l=a._fullLayout.annotations,m=b._id.charAt(0),n=0;n<l.length;n++)j=l[n],k="annotations["+n+"].",j[m+"ref"]===b._id&&g(m),j["a"+m+"ref"]===b._id&&g("a"+m)}},{"../../lib/to_log_range":663,"fast-isnumeric":259}],529:[function(a,b,c){"use strict";var d=a("../../plots/array_container_defaults"),e=a("./annotation_defaults");b.exports=function(a,b){d(a,b,{name:"annotations",handleItemDefaults:e})}},{"../../plots/array_container_defaults":677,"./annotation_defaults":523}],530:[function(a,b,c){"use strict";function d(a){var b=a._fullLayout;b._infolayer.selectAll(".annotation").remove();for(var c=0;c<b.annotations.length;c++)b.annotations[c].visible&&e(a,c);return i.previousPromises(a)}function e(a,b){function c(a){return a.call(m.font,J).attr({"text-anchor":{left:"start",right:"end"}[u.align]||"middle"}),o.convertToTspans(a,d),a}function d(){function c(a,b){return"auto"===b&&(b=1/3>a?"left":a>2/3?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[b]}var d=K.selectAll("a");1===d.size()&&d.text()===K.text()&&C.insert("a",":first-child").attr({"xlink:xlink:href":d.attr("xlink:href"),"xlink:xlink:show":d.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(G.node()),K.selectAll("tspan.line").attr({y:0,x:0});var e=C.select(".annotation-math-group"),n=!e.empty(),o=m.bBox((n?e:K).node()),t=o.width,E=o.height,J=u.width||t,L=u.height||E,M=Math.round(J+2*F),N=Math.round(L+2*F);u._w=J,u._h=L;var O=!1;if(["x","y"].forEach(function(b){var d,e,f,g,h,l=u[b+"ref"]||b,m=u["a"+b+"ref"],n=k.getFromId(a,l),o=(z+("x"===b?0:-90))*Math.PI/180,p=M*Math.cos(o),q=N*Math.sin(o),r=Math.abs(p)+Math.abs(q),t=u[b+"anchor"],v=u[b+"shift"]*("x"===b?1:-1),w=y[b];if(n){var x=n.r2fraction(u[b]);if((a._dragging||!n.autorange)&&(0>x||x>1)&&(m===l?((x=n.r2fraction(u["a"+b]))<0||x>1)&&(O=!0):O=!0,O))return;d=n._offset+n.r2p(u[b]),g=.5}else"x"===b?(f=u[b],d=s.l+s.w*f):(f=1-u[b],d=s.t+s.h*f),g=u.showarrow?.5:f;if(u.showarrow){w.head=d;var A=u["a"+b];h=p*c(.5,u.xanchor)-q*c(.5,u.yanchor),m===l?(w.tail=n._offset+n.r2p(A),e=h):(w.tail=d+A,e=h+A),w.text=w.tail+h;var B=i["x"===b?"width":"height"];if("paper"===l&&(w.head=j.constrain(w.head,1,B-1)),"pixel"===m){var C=-Math.max(w.tail-3,w.text),D=Math.min(w.tail+3,w.text)-B;C>0?(w.tail+=C,w.text+=C):D>0&&(w.tail-=D,w.text-=D)}w.tail+=v,w.head+=v}else h=r*c(g,t),e=h,w.text=d+h;w.text+=v,h+=v,e+=v,u["_"+b+"padplus"]=r/2+e,u["_"+b+"padminus"]=r/2-e,u["_"+b+"size"]=r,u["_"+b+"shift"]=h}),O)return void C.remove();var P=0,Q=0;if("left"!==u.align&&(P=(J-t)*("center"===u.align?.5:1)),"top"!==u.valign&&(Q=(L-E)*("middle"===u.valign?.5:1)),n)e.select("svg").attr({x:F+P-1,y:F+Q}).call(m.setClipUrl,H?v:null);else{var R=F+Q-o.top,S=F+P-o.left;K.attr({x:S,y:R}).call(m.setClipUrl,H?v:null),K.selectAll("tspan.line").attr({y:R,x:S})}I.select("rect").call(m.setRect,F,F,J,L),G.call(m.setRect,D/2,D/2,M-D,N-D),C.call(m.setTranslate,Math.round(y.x.text-M/2),Math.round(y.y.text-N/2)),B.attr({transform:"rotate("+z+","+y.x.text+","+y.y.text+")"});var T="annotations["+b+"]",U=function(c,d){g.select(a).selectAll('.annotation-arrow-g[data-index="'+b+'"]').remove();var e=y.x.head,i=y.y.head,k=y.x.tail+c,n=y.y.tail+d,o=y.x.text+c,p=y.y.text+d,t=j.rotationXYMatrix(z,o,p),v=j.apply2DTransform(t),D=j.apply2DTransform2(t),E=+G.attr("width"),F=+G.attr("height"),H=o-.5*E,I=H+E,J=p-.5*F,K=J+F,L=[[H,J,H,K],[H,K,I,K],[I,K,I,J],[I,J,H,J]].map(D);if(!L.reduce(function(a,b){return a^!!f(e,i,e+1e6,i+1e6,b[0],b[1],b[2],b[3])},!1)){L.forEach(function(a){var b=f(k,n,e,i,a[0],a[1],a[2],a[3]);b&&(k=b.x,n=b.y)});var M=u.arrowwidth,N=u.arrowcolor,O=A.append("g").style({opacity:l.opacity(N)}).classed("annotation-arrow-g",!0).attr("data-index",String(b)),P=O.append("path").attr("d","M"+k+","+n+"L"+e+","+i).style("stroke-width",M+"px").call(l.stroke,l.rgb(N));if(r(P,u.arrowhead,"end",u.arrowsize,u.standoff),a._context.editable&&P.node().parentNode){var Q=e,R=i;if(u.standoff){var S=Math.sqrt(Math.pow(e-k,2)+Math.pow(i-n,2));Q+=u.standoff*(k-e)/S,R+=u.standoff*(n-i)/S}var U,V,W,X=O.append("path").classed("annotation",!0).classed("anndrag",!0).attr({"data-index":String(b),d:"M3,3H-3V-3H3ZM0,0L"+(k-Q)+","+(n-R),transform:"translate("+Q+","+R+")"}).style("stroke-width",M+6+"px").call(l.stroke,"rgba(0,0,0,0)").call(l.fill,"rgba(0,0,0,0)");q.init({element:X.node(),prepFn:function(){var a=m.getTranslate(C);V=a.x,W=a.y,U={},w&&w.autorange&&(U[w._name+".autorange"]=!0),x&&x.autorange&&(U[x._name+".autorange"]=!0)},moveFn:function(a,b){var c=v(V,W),d=c[0]+a,e=c[1]+b;C.call(m.setTranslate,d,e),U[T+".x"]=w?w.p2r(w.r2p(u.x)+a):u.x+a/s.w,U[T+".y"]=x?x.p2r(x.r2p(u.y)+b):u.y-b/s.h,u.axref===u.xref&&(U[T+".ax"]=w.p2r(w.r2p(u.ax)+a)),u.ayref===u.yref&&(U[T+".ay"]=x.p2r(x.r2p(u.ay)+b)),O.attr("transform","translate("+a+","+b+")"),B.attr({transform:"rotate("+z+","+d+","+e+")"})},doneFn:function(b){if(b){h.relayout(a,U);var c=document.querySelector(".js-notes-box-panel");c&&c.redraw(c.selectedObj)}}})}}};if(u.showarrow&&U(0,0),a._context.editable){var V,W;q.init({element:C.node(),prepFn:function(){W=B.attr("transform"),V={}},moveFn:function(a,b){var c="pointer";if(u.showarrow)u.axref===u.xref?V[T+".ax"]=w.p2r(w.r2p(u.ax)+a):V[T+".ax"]=u.ax+a,u.ayref===u.yref?V[T+".ay"]=x.p2r(x.r2p(u.ay)+b):V[T+".ay"]=u.ay+b,U(a,b);else{if(w)V[T+".x"]=u.x+a/w._m;else{var d=u._xsize/s.w,e=u.x+(u._xshift-u.xshift)/s.w-d/2;V[T+".x"]=q.align(e+a/s.w,d,0,1,u.xanchor)}if(x)V[T+".y"]=u.y+b/x._m;else{var f=u._ysize/s.h,g=u.y-(u._yshift+u.yshift)/s.h-f/2;V[T+".y"]=q.align(g-b/s.h,f,0,1,u.yanchor)}w&&x||(c=q.getCursor(w?.5:V[T+".x"],x?.5:V[T+".y"],u.xanchor,u.yanchor))}B.attr({transform:"translate("+a+","+b+")"+W}),p(C,c)},doneFn:function(b){if(p(C),b){h.relayout(a,V);var c=document.querySelector(".js-notes-box-panel");c&&c.redraw(c.selectedObj)}}})}}var e=a.layout,i=a._fullLayout,s=a._fullLayout._size;i._infolayer.selectAll('.annotation[data-index="'+b+'"]').remove();var t=(e.annotations||[])[b],u=i.annotations[b],v="clip"+i._uid+"_ann"+b;if(!t||!1===u.visible)return void g.selectAll("#"+v).remove();var w=k.getFromId(a,u.xref),x=k.getFromId(a,u.yref),y={x:{},y:{}},z=+u.textangle||0,A=i._infolayer.append("g").classed("annotation",!0).attr("data-index",String(b)).style("opacity",u.opacity),B=A.append("g").classed("annotation-text-g",!0).attr("data-index",String(b)),C=B.append("g").style("pointer-events",u.captureevents?"all":null).call(p,"default").on("click",function(){a._dragging=!1,a.emit("plotly_clickannotation",{index:b,annotation:t,fullAnnotation:u,event:g.event})});u.hovertext&&C.on("mouseover",function(){var b=u.hoverlabel,c=b.font,d=this.getBoundingClientRect(),e=a.getBoundingClientRect();n.loneHover({x0:d.left-e.left,x1:d.right-e.left,y:(d.top+d.bottom)/2-e.top,text:u.hovertext,color:b.bgcolor,borderColor:b.bordercolor,fontFamily:c.family,fontSize:c.size,fontColor:c.color},{container:i._hoverlayer.node(),outerContainer:i._paper.node()})}).on("mouseout",function(){n.loneUnhover(i._hoverlayer.node())});var D=u.borderwidth,E=u.borderpad,F=D+E,G=C.append("rect").attr("class","bg").style("stroke-width",D+"px").call(l.stroke,u.bordercolor).call(l.fill,u.bgcolor),H=u.width||u.height,I=i._defs.select(".clips").selectAll("#"+v).data(H?[0]:[]);I.enter().append("clipPath").classed("annclip",!0).attr("id",v).append("rect"),I.exit().remove();var J=u.font,K=C.append("text").classed("annotation",!0).attr("data-unformatted",u.text).text(u.text);a._context.editable?K.call(o.makeEditable,C).call(c).on("edit",function(d){u.text=d,this.attr({"data-unformatted":u.text}),this.call(c);var e={};e["annotations["+b+"].text"]=u.text,w&&w.autorange&&(e[w._name+".autorange"]=!0),x&&x.autorange&&(e[x._name+".autorange"]=!0),h.relayout(a,e)}):K.call(c)}function f(a,b,c,d,e,f,g,h){var i=c-a,j=e-a,k=g-e,l=d-b,m=f-b,n=h-f,o=i*n-k*l;if(0===o)return null;var p=(j*n-k*m)/o,q=(j*l-i*m)/o;return 0>q||q>1||0>p||p>1?null:{x:a+i*p,y:b+l*p}}var g=a("d3"),h=a("../../plotly"),i=a("../../plots/plots"),j=a("../../lib"),k=a("../../plots/cartesian/axes"),l=a("../color"),m=a("../drawing"),n=a("../fx"),o=a("../../lib/svg_text_utils"),p=a("../../lib/setcursor"),q=a("../dragelement"),r=a("./draw_arrow_head");b.exports={draw:d,drawOne:e}},{"../../lib":645,"../../lib/setcursor":660,"../../lib/svg_text_utils":662,"../../plotly":675,"../../plots/cartesian/axes":680,"../../plots/plots":708,"../color":534,"../dragelement":555,"../drawing":558,"../fx":575,"./draw_arrow_head":531,d3:256}],531:[function(a,b,c){"use strict";var d=a("d3"),e=a("fast-isnumeric"),f=a("../color"),g=a("../drawing"),h=a("./arrow_paths");b.exports=function(a,b,c,i,j){function k(){a.style("stroke-dasharray","0px,100px")}function l(c,e){n.path&&(b>5&&(e=0),d.select(m.parentElement).append("path").attr({"class":a.attr("class"),d:n.path,transform:"translate("+c.x+","+c.y+")rotate("+180*e/Math.PI+")scale("+s+")"}).style({fill:t,opacity:u,"stroke-width":0}))}e(i)||(i=1);var m=a.node(),n=h[b||0];"string"==typeof c&&c||(c="end");var o,p,q,r,s=(g.getPx(a,"stroke-width")||1)*i,t=a.style("stroke")||f.defaultLine,u=a.style("stroke-opacity")||1,v=c.indexOf("start")>=0,w=c.indexOf("end")>=0,x=n.backoff*s+j;if("line"===m.nodeName){o={x:+a.attr("x1"),y:+a.attr("y1")},p={x:+a.attr("x2"),y:+a.attr("y2")};var y=o.x-p.x,z=o.y-p.y;if(q=Math.atan2(z,y),r=q+Math.PI,x){if(x*x>y*y+z*z)return void k();var A=x*Math.cos(q),B=x*Math.sin(q);v&&(o.x-=A,o.y-=B,a.attr({x1:o.x,y1:o.y})),w&&(p.x+=A,p.y+=B,a.attr({x2:p.x,y2:p.y}))}}else if("path"===m.nodeName){var C=m.getTotalLength(),D="";if(x>C)return void k();if(v){var E=m.getPointAtLength(0),F=m.getPointAtLength(.1);q=Math.atan2(E.y-F.y,E.x-F.x),o=m.getPointAtLength(Math.min(x,C)),x&&(D="0px,"+x+"px,")}if(w){var G=m.getPointAtLength(C),H=m.getPointAtLength(C-.1);if(r=Math.atan2(G.y-H.y,G.x-H.x),p=m.getPointAtLength(Math.max(0,C-x)),x){var I=D?2*x:x;D+=C-I+"px,"+C+"px"}}else D&&(D+=C+"px");D&&a.style("stroke-dasharray",D)}v&&l(o,q),w&&l(p,r)}},{"../color":534,"../drawing":558,"./arrow_paths":524,d3:256,"fast-isnumeric":259}],532:[function(a,b,c){"use strict";var d=a("./draw"),e=a("./click");b.exports={moduleType:"component",name:"annotations",layoutAttributes:a("./attributes"),supplyLayoutDefaults:a("./defaults"),calcAutorange:a("./calc_autorange"),draw:d.draw,drawOne:d.drawOne,hasClickToShow:e.hasClickToShow,onClick:e.onClick,convertCoords:a("./convert_coords")}},{"./attributes":525,"./calc_autorange":526,"./click":527,"./convert_coords":528,"./defaults":529,"./draw":530}],533:[function(a,b,c){"use strict";c.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],c.defaultLine="#444",c.lightLine="#eee",c.background="#fff",c.borderLine="#BEC8D9",c.lightFraction=1e3/11},{}],534:[function(a,b,c){"use strict";function d(a){if(f(a)||"string"!=typeof a)return a;var b=a.trim();if("rgb"!==b.substr(0,3))return a;var c=b.match(/^rgba?\s*\(([^()]*)\)$/);if(!c)return a;var d=c[1].trim().split(/\s*[\s,]\s*/),e="a"===b.charAt(3)&&4===d.length;if(!e&&3!==d.length)return a;for(var g=0;g<d.length;g++){if(!d[g].length)return a;if(d[g]=Number(d[g]),!(d[g]>=0))return a;if(3===g)d[g]>1&&(d[g]=1);else if(d[g]>=1)return a}var h=Math.round(255*d[0])+", "+Math.round(255*d[1])+", "+Math.round(255*d[2]);return e?"rgba("+h+", "+d[3]+")":"rgb("+h+")"}var e=a("tinycolor2"),f=a("fast-isnumeric"),g=b.exports={},h=a("./attributes");g.defaults=h.defaults;var i=g.defaultLine=h.defaultLine;g.lightLine=h.lightLine;var j=g.background=h.background;g.tinyRGB=function(a){var b=a.toRgb();return"rgb("+Math.round(b.r)+", "+Math.round(b.g)+", "+Math.round(b.b)+")"},g.rgb=function(a){return g.tinyRGB(e(a))},g.opacity=function(a){return a?e(a).getAlpha():0},g.addOpacity=function(a,b){var c=e(a).toRgb();return"rgba("+Math.round(c.r)+", "+Math.round(c.g)+", "+Math.round(c.b)+", "+b+")"},g.combine=function(a,b){var c=e(a).toRgb();if(1===c.a)return e(a).toRgbString();var d=e(b||j).toRgb(),f=1===d.a?d:{r:255*(1-d.a)+d.r*d.a,g:255*(1-d.a)+d.g*d.a,b:255*(1-d.a)+d.b*d.a},g={r:f.r*(1-c.a)+c.r*c.a,g:f.g*(1-c.a)+c.g*c.a,b:f.b*(1-c.a)+c.b*c.a};return e(g).toRgbString()},g.contrast=function(a,b,c){var d=e(a);return 1!==d.getAlpha()&&(d=e(g.combine(a,j))),(d.isDark()?b?d.lighten(b):j:c?d.darken(c):i).toString()},g.stroke=function(a,b){var c=e(b);a.style({stroke:g.tinyRGB(c),"stroke-opacity":c.getAlpha()})},g.fill=function(a,b){var c=e(b);a.style({fill:g.tinyRGB(c),"fill-opacity":c.getAlpha()})},g.clean=function(a){if(a&&"object"===(void 0===a?"undefined":_typeof(a))){var b,c,e,f,h=Object.keys(a);for(b=0;b<h.length;b++)if(e=h[b],f=a[e],"color"===e.substr(e.length-5))if(Array.isArray(f))for(c=0;c<f.length;c++)f[c]=d(f[c]);else a[e]=d(f);else if("colorscale"===e.substr(e.length-10)&&Array.isArray(f))for(c=0;c<f.length;c++)Array.isArray(f[c])&&(f[c][1]=d(f[c][1]));else if(Array.isArray(f)){var i=f[0];if(!Array.isArray(i)&&i&&"object"===(void 0===i?"undefined":_typeof(i)))for(c=0;c<f.length;c++)g.clean(f[c])}else f&&"object"===(void 0===f?"undefined":_typeof(f))&&g.clean(f)}}},{"./attributes":533,"fast-isnumeric":259,tinycolor2:773}],535:[function(a,b,c){"use strict";var d=a("../../plots/cartesian/layout_attributes"),e=a("../../plots/font_attributes"),f=a("../../lib/extend").extendFlat;b.exports={thicknessmode:{valType:"enumerated",values:["fraction","pixels"],role:"style",dflt:"pixels",description:["Determines whether this color bar's thickness","(i.e. the measure in the constant color direction)","is set in units of plot *fraction* or in *pixels*.","Use `thickness` to set the value."].join(" ")},thickness:{valType:"number",role:"style",min:0,dflt:30,description:["Sets the thickness of the color bar","This measure excludes the size of the padding, ticks and labels."].join(" ")},lenmode:{valType:"enumerated",values:["fraction","pixels"],role:"info",dflt:"fraction",description:["Determines whether this color bar's length","(i.e. the measure in the color variation direction)","is set in units of plot *fraction* or in *pixels.","Use `len` to set the value."].join(" ")},len:{valType:"number",min:0,dflt:1,role:"style",description:["Sets the length of the color bar","This measure excludes the padding of both ends.","That is, the color bar length is this length minus the","padding on both ends."].join(" ")},x:{valType:"number",dflt:1.02,min:-2,max:3,role:"style",description:["Sets the x position of the color bar (in plot fraction)."].join(" ")},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",role:"style",description:["Sets this color bar's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the color bar."].join(" ")},xpad:{valType:"number",role:"style",min:0,dflt:10,description:"Sets the amount of padding (in px) along the x direction."},y:{valType:"number",role:"style",dflt:.5,min:-2,max:3,description:["Sets the y position of the color bar (in plot fraction)."].join(" ")},yanchor:{valType:"enumerated",values:["top","middle","bottom"],role:"style",dflt:"middle",description:["Sets this color bar's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the color bar."].join(" ")},ypad:{valType:"number",role:"style",min:0,dflt:10,description:"Sets the amount of padding (in px) along the y direction."},outlinecolor:d.linecolor,outlinewidth:d.linewidth,bordercolor:d.linecolor,borderwidth:{valType:"number",role:"style",min:0,dflt:0,description:["Sets the width (in px) or the border enclosing this color bar."].join(" ")},bgcolor:{valType:"color",role:"style",dflt:"rgba(0,0,0,0)",description:"Sets the color of padded area."},tickmode:d.tickmode,nticks:d.nticks,tick0:d.tick0,dtick:d.dtick,tickvals:d.tickvals,ticktext:d.ticktext,ticks:f({},d.ticks,{dflt:""}),ticklen:d.ticklen,tickwidth:d.tickwidth,tickcolor:d.tickcolor,showticklabels:d.showticklabels,tickfont:d.tickfont,tickangle:d.tickangle,tickformat:d.tickformat,tickprefix:d.tickprefix,showtickprefix:d.showtickprefix,ticksuffix:d.ticksuffix,showticksuffix:d.showticksuffix,separatethousands:d.separatethousands,exponentformat:d.exponentformat,showexponent:d.showexponent,title:{valType:"string",role:"info",dflt:"Click to enter colorscale title",description:"Sets the title of the color bar."},titlefont:f({},e,{description:["Sets this color bar's title font."].join(" ")}),titleside:{valType:"enumerated",values:["right","top","bottom"],role:"style",dflt:"top",description:["Determines the location of the colorbar title","with respect to the color bar."].join(" ")
}}},{"../../lib/extend":641,"../../plots/cartesian/layout_attributes":691,"../../plots/font_attributes":704}],536:[function(a,b,c){"use strict";var d=a("../../lib"),e=a("../../plots/cartesian/tick_value_defaults"),f=a("../../plots/cartesian/tick_mark_defaults"),g=a("../../plots/cartesian/tick_label_defaults"),h=a("./attributes");b.exports=function(a,b,c){function i(a,b){return d.coerce(k,j,h,a,b)}var j=b.colorbar={},k=a.colorbar||{};i("thickness","fraction"===i("thicknessmode")?30/(c.width-c.margin.l-c.margin.r):30),i("len","fraction"===i("lenmode")?1:c.height-c.margin.t-c.margin.b),i("x"),i("xanchor"),i("xpad"),i("y"),i("yanchor"),i("ypad"),d.noneOrAll(k,j,["x","y"]),i("outlinecolor"),i("outlinewidth"),i("bordercolor"),i("borderwidth"),i("bgcolor"),e(k,j,i,"linear"),g(k,j,i,"linear",{outerTicks:!1,font:c.font,noHover:!0}),f(k,j,i,"linear",{outerTicks:!1,font:c.font,noHover:!0}),i("title"),d.coerceFont(i,"titlefont",c.font),i("titleside")}},{"../../lib":645,"../../plots/cartesian/tick_label_defaults":698,"../../plots/cartesian/tick_mark_defaults":699,"../../plots/cartesian/tick_value_defaults":700,"./attributes":535}],537:[function(a,b,c){"use strict";var d=a("d3"),e=a("tinycolor2"),f=a("../../plotly"),g=a("../../plots/plots"),h=a("../../registry"),i=a("../../plots/cartesian/axes"),j=a("../dragelement"),k=a("../../lib"),l=a("../../lib/extend").extendFlat,m=a("../../lib/setcursor"),n=a("../drawing"),o=a("../color"),p=a("../titles"),q=a("../../plots/cartesian/axis_defaults"),r=a("../../plots/cartesian/position_defaults"),s=a("../../plots/cartesian/layout_attributes"),t=a("./attributes");b.exports=function(a,b){function c(){function t(a,b){return k.coerce($,_,s,a,b)}function w(){if(-1!==["top","bottom"].indexOf(v.titleside)){var b=fa.select(".cbtitle"),c=b.select("text"),f=[-v.outlinewidth/2,v.outlinewidth/2],g=b.select(".h"+_._id+"title-math-group").node(),h=15.6;if(c.node()&&(h=1.3*parseInt(c.style("font-size"),10)),g?(ha=n.bBox(g).height)>h&&(f[1]-=(ha-h)/2):c.node()&&!c.classed("js-placeholder")&&(ha=n.bBox(b.node()).height),ha){if(ha+=5,"top"===v.titleside)_.domain[1]-=ha/A.h,f[1]*=-1;else{_.domain[0]+=ha/A.h;var j=Math.max(1,c.selectAll("tspan.line").size());f[1]+=(1-j)*h}b.attr("transform","translate("+f+")"),_.setScale()}}fa.selectAll(".cbfills,.cblines,.cbaxis").attr("transform","translate(0,"+Math.round(A.h*(1-_.domain[1]))+")");var l=fa.select(".cbfills").selectAll("rect.cbfill").data(E);l.enter().append("rect").classed("cbfill",!0).style("stroke","none"),l.exit().remove(),l.each(function(a,b){var c=[0===b?C[0]:(E[b]+E[b-1])/2,b===E.length-1?C[1]:(E[b]+E[b+1])/2].map(_.c2p).map(Math.round);b!==E.length-1&&(c[1]+=c[1]>c[0]?1:-1);var f=G(a).replace("e-",""),g=e(f).toHexString();d.select(this).attr({x:V,width:Math.max(O,2),y:d.min(c),height:Math.max(d.max(c)-d.min(c),2),fill:g})});var m=fa.select(".cblines").selectAll("path.cbline").data(v.line.color&&v.line.width?D:[]);return m.enter().append("path").classed("cbline",!0),m.exit().remove(),m.each(function(a){d.select(this).attr("d","M"+V+","+(Math.round(_.c2p(a))+v.line.width/2%1)+"h"+O).call(n.lineGroupStyle,v.line.width,F(a),v.line.dash)}),_._axislayer.selectAll("g."+_._id+"tick,path").remove(),_._pos=V+O+(v.outlinewidth||0)/2-("outside"===v.ticks?1:0),_.side="right",k.syncOrAsync([function(){return i.doTicks(a,_,!0)},function(){if(-1===["top","bottom"].indexOf(v.titleside)){var b=_.titlefont.size,c=_._offset+_._length/2,e=A.l+(_.position||0)*A.w+("right"===_.side?10+b*(_.showticklabels?1:.5):-10-b*(_.showticklabels?.5:0));x("h"+_._id+"title",{avoid:{selection:d.select(a).selectAll("g."+_._id+"tick"),side:v.titleside,offsetLeft:A.l,offsetTop:A.t,maxShift:z.width},attributes:{x:e,y:c,"text-anchor":"middle"},transform:{rotate:"-90",offset:0}})}}])}function x(b,c){var d,e=u();d=h.traceIs(e,"markerColorscale")?"marker.colorbar.title":"colorbar.title";var f={propContainer:_,propName:d,traceIndex:e.index,dfltName:"colorscale",containerGroup:fa.select(".cbtitle")},g="h"===b.charAt(0)?b.substr(1):"h"+b;fa.selectAll("."+g+",."+g+"-math-group").remove(),p.draw(a,b,l(f,c||{}))}function y(){var c=O+v.outlinewidth/2+n.bBox(_._axislayer.node()).width;if(L=ga.select("text"),L.node()&&!L.classed("js-placeholder")){var d,e=ga.select(".h"+_._id+"title-math-group").node();d=e&&-1!==["top","bottom"].indexOf(v.titleside)?n.bBox(e).width:n.bBox(ga.node()).right-V-A.l,c=Math.max(c,d)}var f=2*v.xpad+c+v.borderwidth+v.outlinewidth/2,h=Y-Z;fa.select(".cbbg").attr({x:V-v.xpad-(v.borderwidth+v.outlinewidth)/2,y:Z-T,width:Math.max(f,2),height:Math.max(h+2*T,2)}).call(o.fill,v.bgcolor).call(o.stroke,v.bordercolor).style({"stroke-width":v.borderwidth}),fa.selectAll(".cboutline").attr({x:V,y:Z+v.ypad+("top"===v.titleside?ha:0),width:Math.max(O,2),height:Math.max(h-2*v.ypad-ha,2)}).call(o.stroke,v.outlinecolor).style({fill:"None","stroke-width":v.outlinewidth});var i=({center:.5,right:1}[v.xanchor]||0)*f;fa.attr("transform","translate("+(A.l-i)+","+A.t+")"),g.autoMargin(a,b,{x:v.x,y:v.y,l:f*({right:1,center:.5}[v.xanchor]||0),r:f*({left:1,center:.5}[v.xanchor]||0),t:h*({bottom:1,middle:.5}[v.yanchor]||0),b:h*({top:1,middle:.5}[v.yanchor]||0)})}var z=a._fullLayout,A=z._size;if("function"!=typeof v.fillcolor&&"function"!=typeof v.line.color)return void z._infolayer.selectAll("g."+b).remove();var B,C=d.extent(("function"==typeof v.fillcolor?v.fillcolor:v.line.color).domain()),D=[],E=[],F="function"==typeof v.line.color?v.line.color:function(){return v.line.color},G="function"==typeof v.fillcolor?v.fillcolor:function(){return v.fillcolor},H=v.levels.end+v.levels.size/100,I=v.levels.size,J=1.001*C[0]-.001*C[1],K=1.001*C[1]-.001*C[0];for(B=v.levels.start;0>(B-H)*I;B+=I)B>J&&K>B&&D.push(B);if("function"==typeof v.fillcolor)if(v.filllevels)for(H=v.filllevels.end+v.filllevels.size/100,I=v.filllevels.size,B=v.filllevels.start;0>(B-H)*I;B+=I)B>C[0]&&B<C[1]&&E.push(B);else E=D.map(function(a){return a-v.levels.size/2}),E.push(E[E.length-1]+v.levels.size);else v.fillcolor&&"string"==typeof v.fillcolor&&(E=[0]);v.levels.size<0&&(D.reverse(),E.reverse());var L,M=z.height-z.margin.t-z.margin.b,N=z.width-z.margin.l-z.margin.r,O=Math.round(v.thickness*("fraction"===v.thicknessmode?N:1)),P=O/A.w,Q=Math.round(v.len*("fraction"===v.lenmode?M:1)),R=Q/A.h,S=v.xpad/A.w,T=(v.borderwidth+v.outlinewidth)/2,U=v.ypad/A.h,V=Math.round(v.x*A.w+v.xpad),W=v.x-P*({middle:.5,right:1}[v.xanchor]||0),X=v.y+R*(({top:-.5,bottom:.5}[v.yanchor]||0)-.5),Y=Math.round(A.h*(1-X)),Z=Y-Q,$={type:"linear",range:C,tickmode:v.tickmode,nticks:v.nticks,tick0:v.tick0,dtick:v.dtick,tickvals:v.tickvals,ticktext:v.ticktext,ticks:v.ticks,ticklen:v.ticklen,tickwidth:v.tickwidth,tickcolor:v.tickcolor,showticklabels:v.showticklabels,tickfont:v.tickfont,tickangle:v.tickangle,tickformat:v.tickformat,exponentformat:v.exponentformat,separatethousands:v.separatethousands,showexponent:v.showexponent,showtickprefix:v.showtickprefix,tickprefix:v.tickprefix,showticksuffix:v.showticksuffix,ticksuffix:v.ticksuffix,title:v.title,titlefont:v.titlefont,anchor:"free",position:1},_={type:"linear",_id:"y"+b},aa={letter:"y",font:z.font,noHover:!0,calendar:z.calendar};if(q($,_,t,aa,z),r($,_,t,aa),_.position=v.x+S+P,c.axis=_,-1!==["top","bottom"].indexOf(v.titleside)&&(_.titleside=v.titleside,_.titlex=v.x+S,_.titley=X+("top"===v.titleside?R-U:U)),v.line.color&&"auto"===v.tickmode){_.tickmode="linear",_.tick0=v.levels.start;var ba=v.levels.size,ca=k.constrain((Y-Z)/50,4,15)+1,da=(C[1]-C[0])/((v.nticks||ca)*ba);if(da>1){var ea=Math.pow(10,Math.floor(Math.log(da)/Math.LN10));ba*=ea*k.roundUp(da/ea,[2,5,10]),(Math.abs(v.levels.start)/v.levels.size+1e-6)%1<2e-6&&(_.tick0=0)}_.dtick=ba}_.domain=[X+U,X+R-U],_.setScale();var fa=z._infolayer.selectAll("g."+b).data([0]);fa.enter().append("g").classed(b,!0).each(function(){var a=d.select(this);a.append("rect").classed("cbbg",!0),a.append("g").classed("cbfills",!0),a.append("g").classed("cblines",!0),a.append("g").classed("cbaxis",!0).classed("crisp",!0),a.append("g").classed("cbtitleunshift",!0).append("g").classed("cbtitle",!0),a.append("rect").classed("cboutline",!0),a.select(".cbtitle").datum(0)}),fa.attr("transform","translate("+Math.round(A.l)+","+Math.round(A.t)+")");var ga=fa.select(".cbtitleunshift").attr("transform","translate(-"+Math.round(A.l)+",-"+Math.round(A.t)+")");_._axislayer=fa.select(".cbaxis");var ha=0;if(-1!==["top","bottom"].indexOf(v.titleside)){var ia,ja=A.l+(v.x+S)*A.w,ka=_.titlefont.size;ia="top"===v.titleside?(1-(X+R-U))*A.h+A.t+3+.75*ka:(1-(X+U))*A.h+A.t-3-.25*ka,x(_._id+"title",{attributes:{x:ja,y:ia,"text-anchor":"start"}})}var la=k.syncOrAsync([g.previousPromises,w,g.previousPromises,y],a);if(la&&la.then&&(a._promises||[]).push(la),a._context.editable){var ma,na,oa;j.init({element:fa.node(),prepFn:function(){ma=fa.attr("transform"),m(fa)},moveFn:function(a,b){fa.attr("transform",ma+" translate("+a+","+b+")"),na=j.align(W+a/A.w,P,0,1,v.xanchor),oa=j.align(X-b/A.h,R,0,1,v.yanchor);var c=j.getCursor(na,oa,v.xanchor,v.yanchor);m(fa,c)},doneFn:function(b){m(fa),b&&void 0!==na&&void 0!==oa&&f.restyle(a,{"colorbar.x":na,"colorbar.y":oa},u().index)}})}return la}function u(){var c,d,e=b.substr(2);for(c=0;c<a._fullData.length;c++)if(d=a._fullData[c],d.uid===e)return d}var v={};return Object.keys(t).forEach(function(a){v[a]=null}),v.fillcolor=null,v.line={color:null,width:null,dash:null},v.levels={start:null,end:null,size:null},v.filllevels=null,Object.keys(v).forEach(function(a){c[a]=function(b){return arguments.length?(v[a]=k.isPlainObject(v[a])?k.extendFlat(v[a],b):b,c):v[a]}}),c.options=function(a){return Object.keys(a).forEach(function(b){"function"==typeof c[b]&&c[b](a[b])}),c},c._opts=v,c}},{"../../lib":645,"../../lib/extend":641,"../../lib/setcursor":660,"../../plotly":675,"../../plots/cartesian/axes":680,"../../plots/cartesian/axis_defaults":682,"../../plots/cartesian/layout_attributes":691,"../../plots/cartesian/position_defaults":694,"../../plots/plots":708,"../../registry":715,"../color":534,"../dragelement":555,"../drawing":558,"../titles":623,"./attributes":535,d3:256,tinycolor2:773}],538:[function(a,b,c){"use strict";var d=a("../../lib");b.exports=function(a){return d.isPlainObject(a.colorbar)}},{"../../lib":645}],539:[function(a,b,c){"use strict";b.exports={zauto:{valType:"boolean",role:"info",dflt:!0,description:["Determines the whether or not the color domain is computed","with respect to the input data."].join(" ")},zmin:{valType:"number",role:"info",dflt:null,description:"Sets the lower bound of color domain."},zmax:{valType:"number",role:"info",dflt:null,description:"Sets the upper bound of color domain."},colorscale:{valType:"colorscale",role:"style",description:["Sets the colorscale.","The colorscale must be an array containing","arrays mapping a normalized value to an","rgb, rgba, hex, hsl, hsv, or named color string.","At minimum, a mapping for the lowest (0) and highest (1)","values are required. For example,","`[[0, 'rgb(0,0,255)', [1, 'rgb(255,0,0)']]`.","To control the bounds of the colorscale in z space,","use zmin and zmax"].join(" ")},autocolorscale:{valType:"boolean",role:"style",dflt:!0,description:["Determines whether or not the colorscale is picked using the sign of","the input z values."].join(" ")},reversescale:{valType:"boolean",role:"style",dflt:!1,description:"Reverses the colorscale."},showscale:{valType:"boolean",role:"info",dflt:!0,description:["Determines whether or not a colorbar is displayed for this trace."].join(" ")}}},{}],540:[function(a,b,c){"use strict";var d=a("../../lib"),e=a("./scales"),f=a("./flip_scale");b.exports=function(a,b,c,g){var h,i;c?(h=d.nestedProperty(a,c).get(),i=d.nestedProperty(a._input,c).get()):(h=a,i=a._input);var j=g+"auto",k=g+"min",l=g+"max",m=h[j],n=h[k],o=h[l],p=h.colorscale;!1===m&&void 0!==n||(n=d.aggNums(Math.min,null,b)),!1===m&&void 0!==o||(o=d.aggNums(Math.max,null,b)),n===o&&(n-=.5,o+=.5),h[k]=n,h[l]=o,i[k]=n,i[l]=o,i[j]=!1!==m||void 0===n&&void 0===o,h.autocolorscale&&(p=0>n*o?e.RdBu:n>=0?e.Reds:e.Blues,i.colorscale=p,h.reversescale&&(p=f(p)),h.colorscale=p)}},{"../../lib":645,"./flip_scale":545,"./scales":552}],541:[function(a,b,c){"use strict";var d=a("./attributes"),e=a("../../lib/extend").extendDeep,f=a("./scales.js");b.exports=function(a){return{color:{valType:"color",arrayOk:!0,role:"style",description:["Sets the ",a," color. It accepts either a specific color"," or an array of numbers that are mapped to the colorscale"," relative to the max and min values of the array or relative to"," `cmin` and `cmax` if set."].join("")},colorscale:e({},d.colorscale,{description:["Sets the colorscale and only has an effect"," if `",a,".color` is set to a numerical array."," The colorscale must be an array containing"," arrays mapping a normalized value to an"," rgb, rgba, hex, hsl, hsv, or named color string."," At minimum, a mapping for the lowest (0) and highest (1)"," values are required. For example,"," `[[0, 'rgb(0,0,255)', [1, 'rgb(255,0,0)']]`."," To control the bounds of the colorscale in color space,"," use `",a,".cmin` and `",a,".cmax`."," Alternatively, `colorscale` may be a palette name string"," of the following list: "].join("").concat(Object.keys(f).join(", "))}),cauto:e({},d.zauto,{description:["Has an effect only if `",a,".color` is set to a numerical array"," and `cmin`, `cmax` are set by the user. In this case,"," it controls whether the range of colors in `colorscale` is mapped to"," the range of values in the `color` array (`cauto: true`), or the `cmin`/`cmax`"," values (`cauto: false`)."," Defaults to `false` when `cmin`, `cmax` are set by the user."].join("")}),cmax:e({},d.zmax,{description:["Has an effect only if `",a,".color` is set to a numerical array."," Sets the upper bound of the color domain."," Value should be associated to the `",a,".color` array index,"," and if set, `",a,".cmin` must be set as well."].join("")}),cmin:e({},d.zmin,{description:["Has an effect only if `",a,".color` is set to a numerical array."," Sets the lower bound of the color domain."," Value should be associated to the `",a,".color` array index,"," and if set, `",a,".cmax` must be set as well."].join("")}),autocolorscale:e({},d.autocolorscale,{description:["Has an effect only if `",a,".color` is set to a numerical array."," Determines whether the colorscale is a default palette (`autocolorscale: true`)"," or the palette determined by `",a,".colorscale`."," In case `colorscale` is unspecified or `autocolorscale` is true, the default "," palette will be chosen according to whether numbers in the `color` array are"," all positive, all negative or mixed."].join("")}),reversescale:e({},d.reversescale,{description:["Has an effect only if `",a,".color` is set to a numerical array."," Reverses the color mapping if true (`cmin` will correspond to the last color"," in the array and `cmax` will correspond to the first color)."].join("")})}}},{"../../lib/extend":641,"./attributes":539,"./scales.js":552}],542:[function(a,b,c){"use strict";var d=a("./scales");b.exports=d.RdBu},{"./scales":552}],543:[function(a,b,c){"use strict";var d=a("fast-isnumeric"),e=a("../../lib"),f=a("../colorbar/has_colorbar"),g=a("../colorbar/defaults"),h=a("./is_valid_scale"),i=a("./flip_scale");b.exports=function(a,b,c,j,k){var l=k.prefix,m=k.cLetter,n=l.slice(0,l.length-1),o=l?e.nestedProperty(a,n).get()||{}:a,p=l?e.nestedProperty(b,n).get()||{}:b,q=o[m+"min"],r=o[m+"max"],s=o.colorscale;j(l+m+"auto",!(d(q)&&d(r)&&r>q)),j(l+m+"min"),j(l+m+"max");var t;void 0!==s&&(t=!h(s)),j(l+"autocolorscale",t);var u=j(l+"colorscale");if(j(l+"reversescale")&&(p.colorscale=i(u)),"marker.line."!==l){var v;l&&(v=f(o)),j(l+"showscale",v)&&g(o,p,c)}}},{"../../lib":645,"../colorbar/defaults":536,"../colorbar/has_colorbar":538,"./flip_scale":545,"./is_valid_scale":549,"fast-isnumeric":259}],544:[function(a,b,c){"use strict";b.exports=function(a,b,c){for(var d=a.length,e=new Array(d),f=new Array(d),g=0;d>g;g++){var h=a[g];e[g]=b+h[0]*(c-b),f[g]=h[1]}return{domain:e,range:f}}},{}],545:[function(a,b,c){"use strict";b.exports=function(a){for(var b,c=a.length,d=new Array(c),e=c-1,f=0;e>=0;e--,f++)b=a[e],d[f]=[1-b[0],b[1]];return d}},{}],546:[function(a,b,c){"use strict";var d=a("./scales"),e=a("./default_scale"),f=a("./is_valid_scale_array");b.exports=function(a,b){function c(){try{a=d[a]||JSON.parse(a)}catch(c){a=b}}return b||(b=e),a?("string"==typeof a&&(c(),"string"==typeof a&&c()),f(a)?a:b):b}},{"./default_scale":542,"./is_valid_scale_array":550,"./scales":552}],547:[function(a,b,c){"use strict";var d=a("fast-isnumeric"),e=a("../../lib"),f=a("./is_valid_scale");b.exports=function(a,b){var c=b?e.nestedProperty(a,b).get()||{}:a,g=c.color,h=!1;if(Array.isArray(g))for(var i=0;i<g.length;i++)if(d(g[i])){h=!0;break}return e.isPlainObject(c)&&(h||!0===c.showscale||d(c.cmin)&&d(c.cmax)||f(c.colorscale)||e.isPlainObject(c.colorbar))}},{"../../lib":645,"./is_valid_scale":549,"fast-isnumeric":259}],548:[function(a,b,c){"use strict";c.scales=a("./scales"),c.defaultScale=a("./default_scale"),c.attributes=a("./attributes"),c.handleDefaults=a("./defaults"),c.calc=a("./calc"),c.hasColorscale=a("./has_colorscale"),c.isValidScale=a("./is_valid_scale"),c.getScale=a("./get_scale"),c.flipScale=a("./flip_scale"),c.extractScale=a("./extract_scale"),c.makeColorScaleFunc=a("./make_color_scale_func")},{"./attributes":539,"./calc":540,"./default_scale":542,"./defaults":543,"./extract_scale":544,"./flip_scale":545,"./get_scale":546,"./has_colorscale":547,"./is_valid_scale":549,"./make_color_scale_func":551,"./scales":552}],549:[function(a,b,c){"use strict";var d=a("./scales"),e=a("./is_valid_scale_array");b.exports=function(a){return void 0!==d[a]||e(a)}},{"./is_valid_scale_array":550,"./scales":552}],550:[function(a,b,c){"use strict";var d=a("tinycolor2");b.exports=function(a){var b=0;if(!Array.isArray(a)||a.length<2)return!1;if(!a[0]||!a[a.length-1])return!1;if(0!=+a[0][0]||1!=+a[a.length-1][0])return!1;for(var c=0;c<a.length;c++){var e=a[c];if(2!==e.length||+e[0]<b||!d(e[1]).isValid())return!1;b=+e[0]}return!0}},{tinycolor2:773}],551:[function(a,b,c){"use strict";function d(a){var b={r:a[0],g:a[1],b:a[2],a:a[3]};return f(b).toRgbString()}var e=a("d3"),f=a("tinycolor2"),g=a("fast-isnumeric"),h=a("../color");b.exports=function(a,b){b=b||{};for(var c=a.domain,i=a.range,j=i.length,k=new Array(j),l=0;j>l;l++){var m=f(i[l]).toRgb();k[l]=[m.r,m.g,m.b,m.a]}var n,o=e.scale.linear().domain(c).range(k).clamp(!0),p=b.noNumericCheck,q=b.returnArray;return n=p&&q?o:p?function(a){return d(o(a))}:q?function(a){return g(a)?o(a):f(a).isValid()?a:h.defaultLine}:function(a){return g(a)?d(o(a)):f(a).isValid()?a:h.defaultLine},n.domain=o.domain,n.range=function(){return i},n}},{"../color":534,d3:256,"fast-isnumeric":259,tinycolor2:773}],552:[function(a,b,c){"use strict";b.exports={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]]}},{}],553:[function(a,b,c){"use strict";b.exports=function(a,b,c,d,e){var f=(a-c)/(d-c),g=f+b/(d-c),h=(f+g)/2;return"left"===e||"bottom"===e?f:"center"===e||"middle"===e?h:"right"===e||"top"===e?g:2/3-h>f?f:g>4/3-h?g:h}},{}],554:[function(a,b,c){"use strict";var d=a("../../lib"),e=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];b.exports=function(a,b,c,f){return a="left"===c?0:"center"===c?1:"right"===c?2:d.constrain(Math.floor(3*a),0,2),b="bottom"===f?0:"middle"===f?1:"top"===f?2:d.constrain(Math.floor(3*b),0,2),e[b][a]}},{"../../lib":645}],555:[function(a,b,c){"use strict";function d(){var a=document.createElement("div");a.className="dragcover";var b=a.style;return b.position="fixed",b.left=0,b.right=0,b.top=0,b.bottom=0,b.zIndex=999999999,b.background="none",document.body.appendChild(a),a}function e(a){a._dragging=!1,a._replotPending&&f.plot(a)}var f=a("../../plotly"),g=a("../../lib"),h=a("../../plots/cartesian/constants"),i=a("../../constants/interactions"),j=b.exports={};j.align=a("./align"),j.getCursor=a("./cursor");var k=a("./unhover");j.unhover=k.wrapped,j.unhoverRaw=k.raw,j.init=function(a){function b(b){return a.element.onmousemove=p,q._dragged=!1,q._dragging=!0,k=b.clientX,l=b.clientY,o=b.target,m=(new Date).getTime(),m-q._mouseDownTime<s?r+=1:(r=1,q._mouseDownTime=m),a.prepFn&&a.prepFn(b,k,l),n=d(),n.onmousemove=c,n.onmouseup=f,n.onmouseout=f,n.style.cursor=window.getComputedStyle(a.element).cursor,g.pauseEvent(b)}function c(b){var c=b.clientX-k,d=b.clientY-l,e=a.minDrag||h.MINDRAG;return Math.abs(c)<e&&(c=0),Math.abs(d)<e&&(d=0),(c||d)&&(q._dragged=!0,j.unhover(q)),a.moveFn&&a.moveFn(c,d,q._dragged),g.pauseEvent(b)}function f(a){if(p=c.element.onmousemove,c.setCursor&&(c.element.onmousemove=c.setCursor),n.onmousemove=null,n.onmouseup=null,n.onmouseout=null,g.removeElement(n),!q._dragging)return void(q._dragged=!1);if(q._dragging=!1,(new Date).getTime()-q._mouseDownTime>s&&(r=Math.max(r-1,1)),c.doneFn&&c.doneFn(q._dragged,r,a),!q._dragged){var b;try{b=new MouseEvent("click",a)}catch(c){b=document.createEvent("MouseEvents"),b.initMouseEvent("click",a.bubbles,a.cancelable,a.view,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,a.relatedTarget)}o.dispatchEvent(b)}return e(q),q._dragged=!1,g.pauseEvent(a)}var k,l,m,n,o,p,q=g.getPlotDiv(a.element)||{},r=1,s=i.DBLCLICKDELAY;q._mouseDownTime||(q._mouseDownTime=0),p=a.element.onmousemove,a.setCursor&&(a.element.onmousemove=a.setCursor),a.element.onmousedown=b,a.element.style.pointerEvents="all"},j.coverSlip=d},{"../../constants/interactions":630,"../../lib":645,"../../plotly":675,"../../plots/cartesian/constants":685,"./align":553,"./cursor":554,"./unhover":556}],556:[function(a,b,c){"use strict";var d=a("../../lib/events"),e=b.exports={};e.wrapped=function(a,b,c){"string"==typeof a&&(a=document.getElementById(a)),a._hoverTimer&&(clearTimeout(a._hoverTimer),a._hoverTimer=void 0),e.raw(a,b,c)},e.raw=function(a,b){var c=a._fullLayout,e=a._hoverdata;b||(b={}),b.target&&!1===d.triggerHandler(a,"plotly_beforehover",b)||(c._hoverlayer.selectAll("g").remove(),c._hoverlayer.selectAll("line").remove(),c._hoverlayer.selectAll("circle").remove(),a._hoverdata=void 0,b.target&&e&&a.emit("plotly_unhover",{event:b,points:e}))}},{"../../lib/events":640}],557:[function(a,b,c){"use strict";c.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",role:"style",description:["Sets the dash style of lines. Set to a dash type string","(*solid*, *dot*, *dash*, *longdash*, *dashdot*, or *longdashdot*)","or a dash length list in px (eg *5px,10px,2px,2px*)."].join(" ")}},{}],558:[function(a,b,c){"use strict";function d(a,b,c,d,e,f,g,h){if(i.traceIs(c,"symbols")){var k=p(c);b.attr("d",function(a){var b;b="various"===a.ms||"various"===f.size?3:o.isBubble(c)?k(a.ms):(f.size||6)/2,a.mrc=b;var d=q.symbolNumber(a.mx||f.symbol)||0,e=d%100;return a.om=d%200>=100,q.symbolFuncs[e](b)+(d>=200?t:"")}).style("opacity",function(a){return(a.mo+1||f.opacity+1)-1})}var l,m,n,r=!1;if(a.so?(n=g.outlierwidth,m=g.outliercolor,l=f.outliercolor):(n=(a.mlw+1||g.width+1||(a.trace?a.trace.marker.line.width:0)+1)-1,m="mlc"in a?a.mlcc=e(a.mlc):Array.isArray(g.color)?j.defaultLine:g.color,Array.isArray(f.color)&&(l=j.defaultLine,r=!0),l="mc"in a?a.mcc=d(a.mc):f.color||"rgba(0,0,0,0)"),a.om)b.call(j.stroke,l).style({"stroke-width":(n||1)+"px",fill:"none"});else{b.style("stroke-width",n+"px");var s=f.gradient,u=a.mgt;if(u?r=!0:u=s&&s.type,u&&"none"!==u){var v=a.mgc;v?r=!0:v=s.color;var w="g"+h._fullLayout._uid+"-"+c.uid;r&&(w+="-"+a.i),b.call(q.gradient,h,w,u,l,v)}else b.call(j.fill,l);n&&b.call(j.stroke,m)}}function e(a,b,c,d){var e=a[0]-b[0],g=a[1]-b[1],h=c[0]-b[0],i=c[1]-b[1],j=Math.pow(e*e+g*g,x/2),k=Math.pow(h*h+i*i,x/2),l=(k*k*e-j*j*h)*d,m=(k*k*g-j*j*i)*d,n=3*k*(j+k),o=3*j*(j+k);return[[f.round(b[0]+(n&&l/n),2),f.round(b[1]+(n&&m/n),2)],[f.round(b[0]-(o&&l/o),2),f.round(b[1]-(o&&m/o),2)]]}var f=a("d3"),g=a("fast-isnumeric"),h=a("tinycolor2"),i=a("../../registry"),j=a("../color"),k=a("../colorscale"),l=a("../../lib"),m=a("../../lib/svg_text_utils"),n=a("../../constants/xmlns_namespaces"),o=a("../../traces/scatter/subtypes"),p=a("../../traces/scatter/make_bubble_size_func"),q=b.exports={};q.font=function(a,b,c,d){b&&b.family&&(d=b.color,c=b.size,b=b.family),b&&a.style("font-family",b),c+1&&a.style("font-size",c+"px"),d&&a.call(j.fill,d)},q.setPosition=function(a,b,c){a.attr("x",b).attr("y",c)},q.setSize=function(a,b,c){a.attr("width",b).attr("height",c)},q.setRect=function(a,b,c,d,e){a.call(q.setPosition,b,c).call(q.setSize,d,e)},q.translatePoint=function(a,b,c,d){var e=a.xp||c.c2p(a.x),f=a.yp||d.c2p(a.y);return g(e)&&g(f)&&b.node()?("text"===b.node().nodeName?b.attr("x",e).attr("y",f):b.attr("transform","translate("+e+","+f+")"),!0):(b.remove(),!1)},q.translatePoints=function(a,b,c,d){a.each(function(a){var e=f.select(this);q.translatePoint(a,e,b,c,d)})},q.getPx=function(a,b){return Number(a.style(b).replace(/px$/,""))},q.crispRound=function(a,b,c){return b&&g(b)?a._context.staticPlot?b:1>b?1:Math.round(b):c||0},q.singleLineStyle=function(a,b,c,d,e){b.style("fill","none");var f=(((a||[])[0]||{}).trace||{}).line||{},g=c||f.width||0,h=e||f.dash||"";j.stroke(b,d||f.color),q.dashLine(b,h,g)},q.lineGroupStyle=function(a,b,c,d){a.style("fill","none").each(function(a){var e=(((a||[])[0]||{}).trace||{}).line||{},g=b||e.width||0,h=d||e.dash||"";f.select(this).call(j.stroke,c||e.color).call(q.dashLine,h,g)})},q.dashLine=function(a,b,c){c=+c||0,b=q.dashStyle(b,c),a.style({"stroke-dasharray":b,"stroke-width":c+"px"})},q.dashStyle=function(a,b){b=+b||1;var c=Math.max(b,3);return"solid"===a?a="":"dot"===a?a=c+"px,"+c+"px":"dash"===a?a=3*c+"px,"+3*c+"px":"longdash"===a?a=5*c+"px,"+5*c+"px":"dashdot"===a?a=3*c+"px,"+c+"px,"+c+"px,"+c+"px":"longdashdot"===a&&(a=5*c+"px,"+2*c+"px,"+c+"px,"+2*c+"px"),a},q.fillGroupStyle=function(a){a.style("stroke-width",0).each(function(b){var c=f.select(this);try{c.call(j.fill,b[0].trace.fillcolor)}catch(b){l.error(b,a),c.remove()}})};var r=a("./symbol_defs");q.symbolNames=[],q.symbolFuncs=[],q.symbolNeedLines={},q.symbolNoDot={},q.symbolList=[],Object.keys(r).forEach(function(a){var b=r[a];q.symbolList=q.symbolList.concat([b.n,a,b.n+100,a+"-open"]),q.symbolNames[b.n]=a,q.symbolFuncs[b.n]=b.f,b.needLine&&(q.symbolNeedLines[b.n]=!0),b.noDot?q.symbolNoDot[b.n]=!0:q.symbolList=q.symbolList.concat([b.n+200,a+"-dot",b.n+300,a+"-open-dot"])});var s=q.symbolNames.length,t="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";q.symbolNumber=function(a){if("string"==typeof a){var b=0;a.indexOf("-open")>0&&(b=100,a=a.replace("-open","")),a.indexOf("-dot")>0&&(b+=200,a=a.replace("-dot","")),a=q.symbolNames.indexOf(a),a>=0&&(a+=b)}return a%100>=s||a>=400?0:Math.floor(Math.max(a,0))};var u={x1:1,x2:0,y1:0,y2:0},v={x1:0,x2:0,y1:1,y2:0};q.gradient=function(a,b,c,d,e,g){var i=b._fullLayout._defs.select(".gradients").selectAll("#"+c).data([d+e+g],l.identity);i.exit().remove(),i.enter().append("radial"===d?"radialGradient":"linearGradient").each(function(){var a=f.select(this);"horizontal"===d?a.attr(u):"vertical"===d&&a.attr(v),a.attr("id",c);var b=h(e),i=h(g);a.append("stop").attr({offset:"0%","stop-color":j.tinyRGB(i),"stop-opacity":i.getAlpha()}),a.append("stop").attr({offset:"100%","stop-color":j.tinyRGB(b),"stop-opacity":b.getAlpha()})}),a.style({fill:"url(#"+c+")","fill-opacity":null})},q.initGradients=function(a){var b=a._fullLayout._defs.selectAll(".gradients").data([0]);b.enter().append("g").classed("gradients",!0),b.selectAll("linearGradient,radialGradient").remove()},q.singlePointStyle=function(a,b,c,e,f,g){var h=c.marker;d(a,b,c,e,f,h,h.line,g)},q.pointStyle=function(a,b){if(a.size()){var c=b.marker,d=q.tryColorscale(c,""),e=q.tryColorscale(c,"line"),g=l.getPlotDiv(a.node());a.each(function(a){q.singlePointStyle(a,f.select(this),b,d,e,g)})}},q.tryColorscale=function(a,b){var c=b?l.nestedProperty(a,b).get():a,d=c.colorscale,e=c.color;return d&&Array.isArray(e)?k.makeColorScaleFunc(k.extractScale(d,c.cmin,c.cmax)):l.identity};var w={start:1,end:-1,middle:0,bottom:1,top:-1};q.textPointStyle=function(a,b){a.each(function(a){var c=f.select(this),d=a.tx||b.text;if(!d||Array.isArray(d))return void c.remove();var e=a.tp||b.textposition,h=-1!==e.indexOf("top")?"top":-1!==e.indexOf("bottom")?"bottom":"middle",i=-1!==e.indexOf("left")?"end":-1!==e.indexOf("right")?"start":"middle",j=a.ts||b.textfont.size,k=a.mrc?a.mrc/.8+1:0;j=g(j)&&j>0?j:0,c.call(q.font,a.tf||b.textfont.family,j,a.tc||b.textfont.color).attr("text-anchor",i).text(d).call(m.convertToTspans);var l=f.select(this.parentNode),n=c.selectAll("tspan.line"),o=1.3*((n[0].length||1)-1)+1,p=w[i]*k,r=.75*j+w[h]*k+(w[h]-1)*o*j/2;l.attr("transform","translate("+p+","+r+")"),o>1&&n.attr({x:c.attr("x"),y:c.attr("y")})})};var x=.5;q.smoothopen=function(a,b){if(a.length<3)return"M"+a.join("L");var c,d="M"+a[0],f=[];for(c=1;c<a.length-1;c++)f.push(e(a[c-1],a[c],a[c+1],b));for(d+="Q"+f[0][0]+" "+a[1],c=2;c<a.length-1;c++)d+="C"+f[c-2][1]+" "+f[c-1][0]+" "+a[c];return d+="Q"+f[a.length-3][1]+" "+a[a.length-1]},q.smoothclosed=function(a,b){if(a.length<3)return"M"+a.join("L")+"Z";var c,d="M"+a[0],f=a.length-1,g=[e(a[f],a[0],a[1],b)];for(c=1;f>c;c++)g.push(e(a[c-1],a[c],a[c+1],b));
for(g.push(e(a[f-1],a[f],a[0],b)),c=1;f>=c;c++)d+="C"+g[c-1][1]+" "+g[c][0]+" "+a[c];return d+="C"+g[f][1]+" "+g[0][0]+" "+a[0]+"Z"};var y={hv:function(a,b){return"H"+f.round(b[0],2)+"V"+f.round(b[1],2)},vh:function(a,b){return"V"+f.round(b[1],2)+"H"+f.round(b[0],2)},hvh:function(a,b){return"H"+f.round((a[0]+b[0])/2,2)+"V"+f.round(b[1],2)+"H"+f.round(b[0],2)},vhv:function(a,b){return"V"+f.round((a[1]+b[1])/2,2)+"H"+f.round(b[0],2)+"V"+f.round(b[1],2)}},z=function(a,b){return"L"+f.round(b[0],2)+","+f.round(b[1],2)};q.steps=function(a){var b=y[a]||z;return function(a){for(var c="M"+f.round(a[0][0],2)+","+f.round(a[0][1],2),d=1;d<a.length;d++)c+=b(a[d-1],a[d]);return c}},q.makeTester=function(){var a=f.select("body").selectAll("#js-plotly-tester").data([0]);a.enter().append("svg").attr("id","js-plotly-tester").attr(n.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"});var b=a.selectAll(".js-reference-point").data([0]);b.enter().append("path").classed("js-reference-point",!0).attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"}),a.node()._cache||(a.node()._cache={}),q.tester=a,q.testref=b};var A=[];q.bBox=function(a){var b=a.attributes["data-bb"];if(b&&b.value)return l.extendFlat({},A[b.value]);var c=q.tester,d=c.node(),e=a.cloneNode(!0);d.appendChild(e),f.select(e).attr({x:0,y:0,transform:""});var g=e.getBoundingClientRect(),h=q.testref.node().getBoundingClientRect();d.removeChild(e);var i={height:g.height,width:g.width,left:g.left-h.left,top:g.top-h.top,right:g.right-h.left,bottom:g.bottom-h.top};return A.length>=1e4&&(f.selectAll("[data-bb]").attr("data-bb",null),A=[]),a.setAttribute("data-bb",A.length),A.push(i),l.extendFlat({},i)},q.setClipUrl=function(a,b){if(!b)return void a.attr("clip-path",null);var c="#"+b,d=f.select("base");d.size()&&d.attr("href")&&(c=window.location.href.split("#")[0]+c),a.attr("clip-path","url("+c+")")},q.getTranslate=function(a){var b=a.attr?"attr":"getAttribute",c=a[b]("transform")||"",d=c.replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(a,b,c){return[b,c].join(" ")}).split(" ");return{x:+d[0]||0,y:+d[1]||0}},q.setTranslate=function(a,b,c){var d=a.attr?"attr":"getAttribute",e=a.attr?"attr":"setAttribute",f=a[d]("transform")||"";return b=b||0,c=c||0,f=f.replace(/(\btranslate\(.*?\);?)/,"").trim(),f+=" translate("+b+", "+c+")",f=f.trim(),a[e]("transform",f),f},q.getScale=function(a){var b=a.attr?"attr":"getAttribute",c=a[b]("transform")||"",d=c.replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(a,b,c){return[b,c].join(" ")}).split(" ");return{x:+d[0]||1,y:+d[1]||1}},q.setScale=function(a,b,c){var d=a.attr?"attr":"getAttribute",e=a.attr?"attr":"setAttribute",f=a[d]("transform")||"";return b=b||1,c=c||1,f=f.replace(/(\bscale\(.*?\);?)/,"").trim(),f+=" scale("+b+", "+c+")",f=f.trim(),a[e]("transform",f),f},q.setPointGroupScale=function(a,b,c){var d,e,f;return b=b||1,c=c||1,e=1===b&&1===c?"":" scale("+b+","+c+")",f=/\s*sc.*/,a.each(function(){d=(this.getAttribute("transform")||"").replace(f,""),d+=e,d=d.trim(),this.setAttribute("transform",d)}),e},q.setTextPointsScale=function(a,b,c){a.each(function(){var a,d=f.select(this),e=d.select("text"),g=parseFloat(e.attr("x")||0),h=parseFloat(e.attr("y")||0),i=(d.attr("transform")||"").match(/translate\([^)]*\)\s*$/);a=1===b&&1===c?[]:["translate("+g+","+h+")","scale("+b+","+c+")","translate("+-g+","+-h+")"],i&&a.push(i),d.attr("transform",a.join(" "))})},q.measureText=function(a,b,c){var d=a.append("text").text(b).call(q.font,c),e=q.bBox(d.node());return d.remove(),e}},{"../../constants/xmlns_namespaces":633,"../../lib":645,"../../lib/svg_text_utils":662,"../../registry":715,"../../traces/scatter/make_bubble_size_func":764,"../../traces/scatter/subtypes":769,"../color":534,"../colorscale":548,"./symbol_defs":559,d3:256,"fast-isnumeric":259,tinycolor2:773}],559:[function(a,b,c){"use strict";var d=a("d3");b.exports={circle:{n:0,f:function(a){var b=d.round(a,2);return"M"+b+",0A"+b+","+b+" 0 1,1 0,-"+b+"A"+b+","+b+" 0 0,1 "+b+",0Z"}},square:{n:1,f:function(a){var b=d.round(a,2);return"M"+b+","+b+"H-"+b+"V-"+b+"H"+b+"Z"}},diamond:{n:2,f:function(a){var b=d.round(1.3*a,2);return"M"+b+",0L0,"+b+"L-"+b+",0L0,-"+b+"Z"}},cross:{n:3,f:function(a){var b=d.round(.4*a,2),c=d.round(1.2*a,2);return"M"+c+","+b+"H"+b+"V"+c+"H-"+b+"V"+b+"H-"+c+"V-"+b+"H-"+b+"V-"+c+"H"+b+"V-"+b+"H"+c+"Z"}},x:{n:4,f:function(a){var b=d.round(.8*a/Math.sqrt(2),2),c="l"+b+","+b,e="l"+b+",-"+b,f="l-"+b+",-"+b,g="l-"+b+","+b;return"M0,"+b+c+e+f+e+f+g+f+g+c+g+c+"Z"}},"triangle-up":{n:5,f:function(a){var b=d.round(2*a/Math.sqrt(3),2);return"M-"+b+","+d.round(a/2,2)+"H"+b+"L0,-"+d.round(a,2)+"Z"}},"triangle-down":{n:6,f:function(a){var b=d.round(2*a/Math.sqrt(3),2);return"M-"+b+",-"+d.round(a/2,2)+"H"+b+"L0,"+d.round(a,2)+"Z"}},"triangle-left":{n:7,f:function(a){var b=d.round(2*a/Math.sqrt(3),2);return"M"+d.round(a/2,2)+",-"+b+"V"+b+"L-"+d.round(a,2)+",0Z"}},"triangle-right":{n:8,f:function(a){var b=d.round(2*a/Math.sqrt(3),2);return"M-"+d.round(a/2,2)+",-"+b+"V"+b+"L"+d.round(a,2)+",0Z"}},"triangle-ne":{n:9,f:function(a){var b=d.round(.6*a,2),c=d.round(1.2*a,2);return"M-"+c+",-"+b+"H"+b+"V"+c+"Z"}},"triangle-se":{n:10,f:function(a){var b=d.round(.6*a,2),c=d.round(1.2*a,2);return"M"+b+",-"+c+"V"+b+"H-"+c+"Z"}},"triangle-sw":{n:11,f:function(a){var b=d.round(.6*a,2),c=d.round(1.2*a,2);return"M"+c+","+b+"H-"+b+"V-"+c+"Z"}},"triangle-nw":{n:12,f:function(a){var b=d.round(.6*a,2),c=d.round(1.2*a,2);return"M-"+b+","+c+"V-"+b+"H"+c+"Z"}},pentagon:{n:13,f:function(a){var b=d.round(.951*a,2),c=d.round(.588*a,2),e=d.round(-a,2),f=d.round(-.309*a,2);return"M"+b+","+f+"L"+c+","+d.round(.809*a,2)+"H-"+c+"L-"+b+","+f+"L0,"+e+"Z"}},hexagon:{n:14,f:function(a){var b=d.round(a,2),c=d.round(a/2,2),e=d.round(a*Math.sqrt(3)/2,2);return"M"+e+",-"+c+"V"+c+"L0,"+b+"L-"+e+","+c+"V-"+c+"L0,-"+b+"Z"}},hexagon2:{n:15,f:function(a){var b=d.round(a,2),c=d.round(a/2,2),e=d.round(a*Math.sqrt(3)/2,2);return"M-"+c+","+e+"H"+c+"L"+b+",0L"+c+",-"+e+"H-"+c+"L-"+b+",0Z"}},octagon:{n:16,f:function(a){var b=d.round(.924*a,2),c=d.round(.383*a,2);return"M-"+c+",-"+b+"H"+c+"L"+b+",-"+c+"V"+c+"L"+c+","+b+"H-"+c+"L-"+b+","+c+"V-"+c+"Z"}},star:{n:17,f:function(a){var b=1.4*a,c=d.round(.225*b,2),e=d.round(.951*b,2),f=d.round(.363*b,2),g=d.round(.588*b,2),h=d.round(-b,2),i=d.round(-.309*b,2),j=d.round(.118*b,2),k=d.round(.809*b,2);return"M"+c+","+i+"H"+e+"L"+f+","+j+"L"+g+","+k+"L0,"+d.round(.382*b,2)+"L-"+g+","+k+"L-"+f+","+j+"L-"+e+","+i+"H-"+c+"L0,"+h+"Z"}},hexagram:{n:18,f:function(a){var b=d.round(.66*a,2),c=d.round(.38*a,2),e=d.round(.76*a,2);return"M-"+e+",0l-"+c+",-"+b+"h"+e+"l"+c+",-"+b+"l"+c+","+b+"h"+e+"l-"+c+","+b+"l"+c+","+b+"h-"+e+"l-"+c+","+b+"l-"+c+",-"+b+"h-"+e+"Z"}},"star-triangle-up":{n:19,f:function(a){var b=d.round(a*Math.sqrt(3)*.8,2),c=d.round(.8*a,2),e=d.round(1.6*a,2),f=d.round(4*a,2),g="A "+f+","+f+" 0 0 1 ";return"M-"+b+","+c+g+b+","+c+g+"0,-"+e+g+"-"+b+","+c+"Z"}},"star-triangle-down":{n:20,f:function(a){var b=d.round(a*Math.sqrt(3)*.8,2),c=d.round(.8*a,2),e=d.round(1.6*a,2),f=d.round(4*a,2),g="A "+f+","+f+" 0 0 1 ";return"M"+b+",-"+c+g+"-"+b+",-"+c+g+"0,"+e+g+b+",-"+c+"Z"}},"star-square":{n:21,f:function(a){var b=d.round(1.1*a,2),c=d.round(2*a,2),e="A "+c+","+c+" 0 0 1 ";return"M-"+b+",-"+b+e+"-"+b+","+b+e+b+","+b+e+b+",-"+b+e+"-"+b+",-"+b+"Z"}},"star-diamond":{n:22,f:function(a){var b=d.round(1.4*a,2),c=d.round(1.9*a,2),e="A "+c+","+c+" 0 0 1 ";return"M-"+b+",0"+e+"0,"+b+e+b+",0"+e+"0,-"+b+e+"-"+b+",0Z"}},"diamond-tall":{n:23,f:function(a){var b=d.round(.7*a,2),c=d.round(1.4*a,2);return"M0,"+c+"L"+b+",0L0,-"+c+"L-"+b+",0Z"}},"diamond-wide":{n:24,f:function(a){var b=d.round(1.4*a,2),c=d.round(.7*a,2);return"M0,"+c+"L"+b+",0L0,-"+c+"L-"+b+",0Z"}},hourglass:{n:25,f:function(a){var b=d.round(a,2);return"M"+b+","+b+"H-"+b+"L"+b+",-"+b+"H-"+b+"Z"},noDot:!0},bowtie:{n:26,f:function(a){var b=d.round(a,2);return"M"+b+","+b+"V-"+b+"L-"+b+","+b+"V-"+b+"Z"},noDot:!0},"circle-cross":{n:27,f:function(a){var b=d.round(a,2);return"M0,"+b+"V-"+b+"M"+b+",0H-"+b+"M"+b+",0A"+b+","+b+" 0 1,1 0,-"+b+"A"+b+","+b+" 0 0,1 "+b+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(a){var b=d.round(a,2),c=d.round(a/Math.sqrt(2),2);return"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c+"M"+b+",0A"+b+","+b+" 0 1,1 0,-"+b+"A"+b+","+b+" 0 0,1 "+b+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(a){var b=d.round(a,2);return"M0,"+b+"V-"+b+"M"+b+",0H-"+b+"M"+b+","+b+"H-"+b+"V-"+b+"H"+b+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(a){var b=d.round(a,2);return"M"+b+","+b+"L-"+b+",-"+b+"M"+b+",-"+b+"L-"+b+","+b+"M"+b+","+b+"H-"+b+"V-"+b+"H"+b+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(a){var b=d.round(1.3*a,2);return"M"+b+",0L0,"+b+"L-"+b+",0L0,-"+b+"ZM0,-"+b+"V"+b+"M-"+b+",0H"+b},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(a){var b=d.round(1.3*a,2),c=d.round(.65*a,2);return"M"+b+",0L0,"+b+"L-"+b+",0L0,-"+b+"ZM-"+c+",-"+c+"L"+c+","+c+"M-"+c+","+c+"L"+c+",-"+c},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(a){var b=d.round(1.4*a,2);return"M0,"+b+"V-"+b+"M"+b+",0H-"+b},needLine:!0,noDot:!0},"x-thin":{n:34,f:function(a){var b=d.round(a,2);return"M"+b+","+b+"L-"+b+",-"+b+"M"+b+",-"+b+"L-"+b+","+b},needLine:!0,noDot:!0},asterisk:{n:35,f:function(a){var b=d.round(1.2*a,2),c=d.round(.85*a,2);return"M0,"+b+"V-"+b+"M"+b+",0H-"+b+"M"+c+","+c+"L-"+c+",-"+c+"M"+c+",-"+c+"L-"+c+","+c},needLine:!0,noDot:!0},hash:{n:36,f:function(a){var b=d.round(a/2,2),c=d.round(a,2);return"M"+b+","+c+"V-"+c+"m-"+c+",0V"+c+"M"+c+","+b+"H-"+c+"m0,-"+c+"H"+c},needLine:!0},"y-up":{n:37,f:function(a){var b=d.round(1.2*a,2),c=d.round(1.6*a,2),e=d.round(.8*a,2);return"M-"+b+","+e+"L0,0M"+b+","+e+"L0,0M0,-"+c+"L0,0"},needLine:!0,noDot:!0},"y-down":{n:38,f:function(a){var b=d.round(1.2*a,2),c=d.round(1.6*a,2),e=d.round(.8*a,2);return"M-"+b+",-"+e+"L0,0M"+b+",-"+e+"L0,0M0,"+c+"L0,0"},needLine:!0,noDot:!0},"y-left":{n:39,f:function(a){var b=d.round(1.2*a,2),c=d.round(1.6*a,2),e=d.round(.8*a,2);return"M"+e+","+b+"L0,0M"+e+",-"+b+"L0,0M-"+c+",0L0,0"},needLine:!0,noDot:!0},"y-right":{n:40,f:function(a){var b=d.round(1.2*a,2),c=d.round(1.6*a,2),e=d.round(.8*a,2);return"M-"+e+","+b+"L0,0M-"+e+",-"+b+"L0,0M"+c+",0L0,0"},needLine:!0,noDot:!0},"line-ew":{n:41,f:function(a){var b=d.round(1.4*a,2);return"M"+b+",0H-"+b},needLine:!0,noDot:!0},"line-ns":{n:42,f:function(a){var b=d.round(1.4*a,2);return"M0,"+b+"V-"+b},needLine:!0,noDot:!0},"line-ne":{n:43,f:function(a){var b=d.round(a,2);return"M"+b+",-"+b+"L-"+b+","+b},needLine:!0,noDot:!0},"line-nw":{n:44,f:function(a){var b=d.round(a,2);return"M"+b+","+b+"L-"+b+",-"+b},needLine:!0,noDot:!0}}},{d3:256}],560:[function(a,b,c){"use strict";b.exports={visible:{valType:"boolean",role:"info",description:["Determines whether or not this set of error bars is visible."].join(" ")},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],role:"info",description:["Determines the rule used to generate the error bars.","If *constant`, the bar lengths are of a constant value.","Set this constant in `value`.","If *percent*, the bar lengths correspond to a percentage of","underlying data. Set this percentage in `value`.","If *sqrt*, the bar lengths correspond to the sqaure of the","underlying data.","If *array*, the bar lengths are set with data set `array`."].join(" ")},symmetric:{valType:"boolean",role:"info",description:["Determines whether or not the error bars have the same length","in both direction","(top/bottom for vertical bars, left/right for horizontal bars."].join(" ")},array:{valType:"data_array",description:["Sets the data corresponding the length of each error bar.","Values are plotted relative to the underlying data."].join(" ")},arrayminus:{valType:"data_array",description:["Sets the data corresponding the length of each error bar in the","bottom (left) direction for vertical (horizontal) bars","Values are plotted relative to the underlying data."].join(" ")},value:{valType:"number",min:0,dflt:10,role:"info",description:["Sets the value of either the percentage","(if `type` is set to *percent*) or the constant","(if `type` is set to *constant*) corresponding to the lengths of","the error bars."].join(" ")},valueminus:{valType:"number",min:0,dflt:10,role:"info",description:["Sets the value of either the percentage","(if `type` is set to *percent*) or the constant","(if `type` is set to *constant*) corresponding to the lengths of","the error bars in the","bottom (left) direction for vertical (horizontal) bars"].join(" ")},traceref:{valType:"integer",min:0,dflt:0,role:"info"},tracerefminus:{valType:"integer",min:0,dflt:0,role:"info"},copy_ystyle:{valType:"boolean",role:"style"},copy_zstyle:{valType:"boolean",role:"style"},color:{valType:"color",role:"style",description:"Sets the stoke color of the error bars."},thickness:{valType:"number",min:0,dflt:2,role:"style",description:"Sets the thickness (in px) of the error bars."},width:{valType:"number",min:0,role:"style",description:["Sets the width (in px) of the cross-bar at both ends","of the error bars."].join(" ")},_deprecated:{opacity:{valType:"number",role:"style",description:["Obsolete.","Use the alpha channel in error bar `color` to set the opacity."].join(" ")}}}},{}],561:[function(a,b,c){"use strict";function d(a,b,c,d){var f=b["error_"+d]||{},i=f.visible&&-1!==["linear","log"].indexOf(c.type),j=[];if(i){for(var k=h(f),l=0;l<a.length;l++){var m=a[l],n=m[d];if(e(c.c2l(n))){var o=k(n,l);if(e(o[0])&&e(o[1])){var p=m[d+"s"]=n-o[0],q=m[d+"h"]=n+o[1];j.push(p,q)}}}g.expand(c,j,{padded:!0})}}var e=a("fast-isnumeric"),f=a("../../registry"),g=a("../../plots/cartesian/axes"),h=a("./compute_error");b.exports=function(a){for(var b=a.calcdata,c=0;c<b.length;c++){var e=b[c],h=e[0].trace;if(f.traceIs(h,"errorBarsOK")){var i=g.getFromId(a,h.xaxis),j=g.getFromId(a,h.yaxis);d(e,h,i,"x"),d(e,h,j,"y")}}}},{"../../plots/cartesian/axes":680,"../../registry":715,"./compute_error":562,"fast-isnumeric":259}],562:[function(a,b,c){"use strict";function d(a,b){return"percent"===a?function(a){return Math.abs(a*b/100)}:"constant"===a?function(){return Math.abs(b)}:"sqrt"===a?function(a){return Math.sqrt(Math.abs(a))}:void 0}b.exports=function(a){var b=a.type,c=a.symmetric;if("data"===b){var e=a.array,f=a.arrayminus;return c||void 0===f?function(a,b){var c=+e[b];return[c,c]}:function(a,b){return[+f[b],+e[b]]}}var g=d(b,a.value),h=d(b,a.valueminus);return c||void 0===a.valueminus?function(a){var b=g(a);return[b,b]}:function(a){return[h(a),g(a)]}}},{}],563:[function(a,b,c){"use strict";var d=a("fast-isnumeric"),e=a("../../registry"),f=a("../../lib"),g=a("./attributes");b.exports=function(a,b,c,h){function i(a,b){return f.coerce(l,k,g,a,b)}var j="error_"+h.axis,k=b[j]={},l=a[j]||{};if(!1!==i("visible",void 0!==l.array||void 0!==l.value||"sqrt"===l.type)){var m=i("type","array"in l?"data":"percent"),n=!0;"sqrt"!==m&&(n=i("symmetric",!(("data"===m?"arrayminus":"valueminus")in l))),"data"===m?(i("array")||(k.array=[]),i("traceref"),n||(i("arrayminus")||(k.arrayminus=[]),i("tracerefminus"))):"percent"!==m&&"constant"!==m||(i("value"),n||i("valueminus"));var o="copy_"+h.inherit+"style";h.inherit&&(b["error_"+h.inherit]||{}).visible&&i(o,!(l.color||d(l.thickness)||d(l.width))),h.inherit&&k[o]||(i("color",c),i("thickness"),i("width",e.traceIs(b,"gl3d")?0:4))}}},{"../../lib":645,"../../registry":715,"./attributes":560,"fast-isnumeric":259}],564:[function(a,b,c){"use strict";var d=b.exports={};d.attributes=a("./attributes"),d.supplyDefaults=a("./defaults"),d.calc=a("./calc"),d.calcFromTrace=function(a,b){for(var c=a.x||[],e=a.y||[],f=c.length||e.length,g=new Array(f),h=0;f>h;h++)g[h]={x:c[h],y:e[h]};return g[0].trace=a,d.calc({calcdata:[g],_fullLayout:b}),g},d.plot=a("./plot"),d.style=a("./style"),d.hoverInfo=function(a,b,c){(b.error_y||{}).visible&&(c.yerr=a.yh-a.y,b.error_y.symmetric||(c.yerrneg=a.y-a.ys)),(b.error_x||{}).visible&&(c.xerr=a.xh-a.x,b.error_x.symmetric||(c.xerrneg=a.x-a.xs))}},{"./attributes":560,"./calc":561,"./defaults":563,"./plot":565,"./style":566}],565:[function(a,b,c){"use strict";function d(a,b,c){var d={x:b.c2p(a.x),y:c.c2p(a.y)};return void 0!==a.yh&&(d.yh=c.c2p(a.yh),d.ys=c.c2p(a.ys),f(d.ys)||(d.noYS=!0,d.ys=c.c2p(a.ys,!0))),void 0!==a.xh&&(d.xh=b.c2p(a.xh),d.xs=b.c2p(a.xs),f(d.xs)||(d.noXS=!0,d.xs=b.c2p(a.xs,!0))),d}var e=a("d3"),f=a("fast-isnumeric"),g=a("../../traces/scatter/subtypes");b.exports=function(a,b,c){var h,i=b.xaxis,j=b.yaxis,k=c&&c.duration>0;a.each(function(a){var b,l=a[0].trace,m=l.error_x||{},n=l.error_y||{};l.ids&&(b=function(a){return a.id});var o=g.hasMarkers(l)&&l.marker.maxdisplayed>0;if(n.visible||m.visible){var p=e.select(this).selectAll("g.errorbar").data(a,b);p.exit().remove(),p.style("opacity",1);var q=p.enter().append("g").classed("errorbar",!0);k&&q.style("opacity",0).transition().duration(c.duration).style("opacity",1),p.each(function(a){var b=e.select(this),g=d(a,i,j);if(!o||a.vis){var l;if(n.visible&&f(g.x)&&f(g.yh)&&f(g.ys)){var p=n.width;l="M"+(g.x-p)+","+g.yh+"h"+2*p+"m-"+p+",0V"+g.ys,g.noYS||(l+="m-"+p+",0h"+2*p);var q=b.select("path.yerror");h=!q.size(),h?q=b.append("path").classed("yerror",!0):k&&(q=q.transition().duration(c.duration).ease(c.easing)),q.attr("d",l)}if(m.visible&&f(g.y)&&f(g.xh)&&f(g.xs)){var r=(m.copy_ystyle?n:m).width;l="M"+g.xh+","+(g.y-r)+"v"+2*r+"m0,-"+r+"H"+g.xs,g.noXS||(l+="m0,-"+r+"v"+2*r);var s=b.select("path.xerror");h=!s.size(),h?s=b.append("path").classed("xerror",!0):k&&(s=s.transition().duration(c.duration).ease(c.easing)),s.attr("d",l)}}})}})}},{"../../traces/scatter/subtypes":769,d3:256,"fast-isnumeric":259}],566:[function(a,b,c){"use strict";var d=a("d3"),e=a("../color");b.exports=function(a){a.each(function(a){var b=a[0].trace,c=b.error_y||{},f=b.error_x||{},g=d.select(this);g.selectAll("path.yerror").style("stroke-width",c.thickness+"px").call(e.stroke,c.color),f.copy_ystyle&&(f=c),g.selectAll("path.xerror").style("stroke-width",f.thickness+"px").call(e.stroke,f.color)})}},{"../color":534,d3:256}],567:[function(a,b,c){"use strict";var d=a("../../lib/extend").extendFlat,e=a("../../plots/font_attributes");b.exports={hoverlabel:{bgcolor:{valType:"color",role:"style",arrayOk:!0,description:["Sets the background color of the hover labels for this trace"].join(" ")},bordercolor:{valType:"color",role:"style",arrayOk:!0,description:["Sets the border color of the hover labels for this trace."].join(" ")},font:{family:d({},e.family,{arrayOk:!0}),size:d({},e.size,{arrayOk:!0}),color:d({},e.color,{arrayOk:!0})}}}},{"../../lib/extend":641,"../../plots/font_attributes":704}],568:[function(a,b,c){"use strict";function d(a,b,c){Array.isArray(a)&&(b[0][c]=a)}var e=a("../../lib"),f=a("../../registry");b.exports=function(a){for(var b=a.calcdata,c=0;c<b.length;c++){var g=b[c],h=g[0].trace;if(h.hoverlabel){var i=f.traceIs(h,"2dMap")?d:e.mergeArray;i(h.hoverlabel.bgcolor,g,"hbg"),i(h.hoverlabel.bordercolor,g,"hbc"),i(h.hoverlabel.font.size,g,"hts"),i(h.hoverlabel.font.color,g,"htc"),i(h.hoverlabel.font.family,g,"htf")}}}},{"../../lib":645,"../../registry":715}],569:[function(a,b,c){"use strict";var d=a("../../registry");b.exports=function(a,b){function c(){a.emit("plotly_click",{points:a._hoverdata,event:b})}var e=d.getComponentMethod("annotations","onClick")(a,a._hoverdata);a._hoverdata&&b&&b.target&&(e&&e.then?e.then(c):c(),b.stopImmediatePropagation&&b.stopImmediatePropagation())}},{"../../registry":715}],570:[function(a,b,c){"use strict";b.exports={MAXDIST:20,YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50}},{}],571:[function(a,b,c){"use strict";var d=a("../../lib"),e=a("./attributes"),f=a("./hoverlabel_defaults");b.exports=function(a,b,c,g){function h(c,f){return d.coerce(a,b,e,c,f)}f(a,b,h,g.hoverlabel)}},{"../../lib":645,"./attributes":567,"./hoverlabel_defaults":574}],572:[function(a,b,c){"use strict";function d(a,b){return function(c){var d=a(c),e=b(c);return Math.sqrt(d*d+e*e)}}var e=a("./constants");c.getSubplot=function(a){return a.subplot||a.xaxis+a.yaxis||a.geo},c.flat=function(a,b){for(var c=new Array(a.length),d=0;d<a.length;d++)c[d]=b;return c},c.p2c=function(a,b){for(var c=new Array(a.length),d=0;d<a.length;d++)c[d]=a[d].p2c(b);return c},c.getDistanceFunction=function(a,b,c,e){return"closest"===a?e||d(b,c):"x"===a?b:c},c.getClosest=function(a,b,c){if(!1!==c.index)c.index>=0&&c.index<a.length?c.distance=0:c.index=!1;else for(var d=0;d<a.length;d++){var e=b(a[d]);e<=c.distance&&(c.index=d,c.distance=e)}return c},c.inbox=function(a,b){return 0>a*b||0===a?e.MAXDIST*(.6-.3/Math.max(3,Math.abs(a-b))):1/0}},{"./constants":570}],573:[function(a,b,c){"use strict";function d(a,b,c){if("pie"===c||"sankey"===c)return void a.emit("plotly_hover",{event:b.originalEvent,points:[b]});c||(c="xy");var d=Array.isArray(c)?c:[c],m=a._fullLayout,p=m._plots||[],r=p[c];if(r){var y=r.overlays.map(function(a){return a.id});d=d.concat(y)}for(var z=d.length,A=new Array(z),B=new Array(z),C=0;z>C;C++){var D=d[C],E=p[D];if(E)A[C]=u.getFromId(a,E.xaxis._id),B[C]=u.getFromId(a,E.yaxis._id);else{var F=m[D]._subplot;A[C]=F.xaxis,B[C]=F.yaxis}}var G=b.hovermode||m.hovermode;if(-1===["x","y","closest"].indexOf(G)||!a.calcdata||a.querySelector(".zoombox")||a._dragging)return t.unhoverRaw(a,b);var H,I,J,K,L,M,N,O,P,Q,R,S,T,U=[],V=[];if(Array.isArray(b))for(G="array",J=0;J<b.length;J++)L=a.calcdata[b[J].curveNumber||0],"skip"!==L[0].trace.hoverinfo&&V.push(L);else{for(K=0;K<a.calcdata.length;K++)L=a.calcdata[K],M=L[0].trace,"skip"!==M.hoverinfo&&-1!==d.indexOf(w.getSubplot(M))&&V.push(L);var W,X,Y=!b.target;if(Y)W="xpx"in b?b.xpx:A[0]._length/2,X="ypx"in b?b.ypx:B[0]._length/2;else{if(!1===o.triggerHandler(a,"plotly_beforehover",b))return;var Z=b.target.getBoundingClientRect();if(W=b.clientX-Z.left,X=b.clientY-Z.top,0>W||W>Z.width||0>X||X>Z.height)return t.unhoverRaw(a,b)}if(H="xval"in b?w.flat(d,b.xval):w.p2c(A,W),I="yval"in b?w.flat(d,b.yval):w.p2c(B,X),!l(H[0])||!l(I[0]))return n.warn("Fx.hover failed",b,a),t.unhoverRaw(a,b)}var $=1/0;for(K=0;K<V.length;K++)if((L=V[K])&&L[0]&&L[0].trace&&!0===L[0].trace.visible&&(M=L[0].trace,-1===["carpet","contourcarpet"].indexOf(M._module.name))){if(N=w.getSubplot(M),O=d.indexOf(N),P=G,S={cd:L,trace:M,xa:A[O],ya:B[O],name:a.data.length>1||-1!==M.hoverinfo.indexOf("name")?M.name:void 0,index:!1,distance:Math.min($,x.MAXDIST),color:s.defaultLine,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},m[N]&&(S.subplot=m[N]._subplot),T=U.length,"array"===P){var _=b[K];"pointNumber"in _?(S.index=_.pointNumber,P="closest"):(P="","xval"in _&&(Q=_.xval,P="x"),"yval"in _&&(R=_.yval,P=P?"closest":"y"))}else Q=H[O],R=I[O];if(M._module&&M._module.hoverPoints){var aa=M._module.hoverPoints(S,Q,R,P);if(aa)for(var ba,ca=0;ca<aa.length;ca++)ba=aa[ca],l(ba.x0)&&l(ba.y0)&&U.push(h(ba,G))}else n.log("Unrecognized trace type in hover:",M);"closest"===G&&U.length>T&&(U.splice(0,T),$=U[0].distance)}if(0===U.length)return t.unhoverRaw(a,b);U.sort(function(a,b){return a.distance-b.distance});var da=a._hoverdata,ea=[];for(J=0;J<U.length;J++){var fa=U[J],ga={data:fa.trace._input,fullData:fa.trace,curveNumber:fa.trace.index,pointNumber:fa.index};fa.trace._module.eventData?ga=fa.trace._module.eventData(ga,fa):(ga.x=fa.xVal,ga.y=fa.yVal,ga.xaxis=fa.xa,ga.yaxis=fa.ya,void 0!==fa.zLabelVal&&(ga.z=fa.zLabelVal)),ea.push(ga)}a._hoverdata=ea,j(a,b,da)&&m._hasCartesian&&i(U,{hovermode:G,fullLayout:m,container:m._hoverlayer,outerContainer:m._paperdiv});var ha="y"===G&&V.length>1,ia=s.combine(m.plot_bgcolor||s.background,m.paper_bgcolor),ja={hovermode:G,rotateLabels:ha,bgColor:ia,container:m._hoverlayer,outerContainer:m._paperdiv,commonLabelOpts:m.hoverlabel},ka=e(U,ja);if(f(U,ha?"xa":"ya"),g(ka,ha),b.target&&b.target.tagName){var la=v.getComponentMethod("annotations","hasClickToShow")(a,ea);q(k.select(b.target),la?"pointer":"")}b.target&&j(a,b,da)&&(da&&a.emit("plotly_unhover",{event:b,points:da}),a.emit("plotly_hover",{event:b,points:a._hoverdata,xaxes:A,yaxes:B,xvals:H,yvals:I}))}function e(a,b){var c,d,e=b.hovermode,f=b.rotateLabels,g=b.bgColor,h=b.container,i=b.outerContainer,j=b.commonLabelOpts||{},l=b.fontFamily||x.HOVERFONT,m=b.fontSize||x.HOVERFONTSIZE,n=a[0],o=n.xa,q=n.ya,t="y"===e?"yLabel":"xLabel",u=n[t],v=(String(u)||"").split(" ")[0],w=i.node().getBoundingClientRect(),z=w.top,A=w.width,B=w.height,C=n.distance<=x.MAXDIST&&("x"===e||"y"===e);for(c=0;c<a.length;c++){d=a[c].trace.hoverinfo;var F=d.split("+");if(-1===F.indexOf("all")&&-1===F.indexOf(e)){C=!1;break}}var G=h.selectAll("g.axistext").data(C?[0]:[]);G.enter().append("g").classed("axistext",!0),G.exit().remove(),G.each(function(){var b=k.select(this),c=b.selectAll("path").data([0]),d=b.selectAll("text").data([0]);c.enter().append("path").style({fill:j.bgcolor||s.defaultLine,stroke:j.bordercolor||s.background,"stroke-width":"1px"}),d.enter().append("text").call(r.font,j.font.family||l,j.font.size||m,j.font.color||s.background).attr("data-notex",1),d.text(u).call(p.convertToTspans).call(r.setPosition,0,0).selectAll("tspan.line").call(r.setPosition,0,0),b.attr("transform","");var f=d.node().getBoundingClientRect();if("x"===e){d.attr("text-anchor","middle").call(r.setPosition,0,"top"===o.side?z-f.bottom-D-E:z-f.top+D+E).selectAll("tspan.line").attr({x:d.attr("x"),y:d.attr("y")});var g="top"===o.side?"-":"";c.attr("d","M0,0L"+D+","+g+D+"H"+(E+f.width/2)+"v"+g+(2*E+f.height)+"H-"+(E+f.width/2)+"V"+g+D+"H-"+D+"Z"),b.attr("transform","translate("+(o._offset+(n.x0+n.x1)/2)+","+(q._offset+("top"===o.side?0:q._length))+")")}else{d.attr("text-anchor","right"===q.side?"start":"end").call(r.setPosition,("right"===q.side?1:-1)*(E+D),z-f.top-f.height/2).selectAll("tspan.line").attr({x:d.attr("x"),y:d.attr("y")});var h="right"===q.side?"":"-";c.attr("d","M0,0L"+h+D+","+D+"V"+(E+f.height/2)+"h"+h+(2*E+f.width)+"V-"+(E+f.height/2)+"H"+h+D+"V-"+D+"Z"),b.attr("transform","translate("+(o._offset+("right"===q.side?o._length:0))+","+(q._offset+(n.y0+n.y1)/2)+")")}a=a.filter(function(a){return void 0!==a.zLabelVal||(a[t]||"").split(" ")[0]===v})});var H=h.selectAll("g.hovertext").data(a,function(a){return[a.trace.index,a.index,a.x0,a.y0,a.name,a.attr,a.xa,a.ya||""].join(",")});return H.enter().append("g").classed("hovertext",!0).each(function(){var a=k.select(this);a.append("rect").call(s.fill,s.addOpacity(g,.8)),a.append("text").classed("name",!0),a.append("path").style("stroke-width","1px"),a.append("text").classed("nums",!0).call(r.font,l,m)}),H.exit().remove(),H.each(function(a){var b=k.select(this).attr("transform",""),c="",d="",h=s.opacity(a.color)?a.color:s.defaultLine,i=s.combine(h,g),j=a.borderColor||s.contrast(i);void 0!==a.nameOverride&&(a.name=a.nameOverride),a.name&&(c=p.plainText(a.name||""),c.length>15&&(c=c.substr(0,12)+"...")),void 0!==a.extraText&&(d+=a.extraText),void 0!==a.zLabel?(void 0!==a.xLabel&&(d+="x: "+a.xLabel+"<br>"),void 0!==a.yLabel&&(d+="y: "+a.yLabel+"<br>"),d+=(d?"z: ":"")+a.zLabel):C&&a[e+"Label"]===u?d=a[("x"===e?"y":"x")+"Label"]||"":void 0===a.xLabel?void 0!==a.yLabel&&(d=a.yLabel):d=void 0===a.yLabel?a.xLabel:"("+a.xLabel+", "+a.yLabel+")",a.text&&!Array.isArray(a.text)&&(d+=(d?"<br>":"")+a.text),""===d&&(""===c&&b.remove(),d=c);var n=b.select("text.nums").call(r.font,a.fontFamily||l,a.fontSize||m,a.fontColor||j).call(r.setPosition,0,0).text(d).attr("data-notex",1).call(p.convertToTspans);n.selectAll("tspan.line").call(r.setPosition,0,0);var o=b.select("text.name"),q=0;c&&c!==d?(o.call(r.font,a.fontFamily||l,a.fontSize||m,i).text(c).call(r.setPosition,0,0).attr("data-notex",1).call(p.convertToTspans),o.selectAll("tspan.line").call(r.setPosition,0,0),q=o.node().getBoundingClientRect().width+2*E):(o.remove(),b.select("rect").remove()),b.select("path").style({fill:i,stroke:j});var t,v,w=n.node().getBoundingClientRect(),x=a.xa._offset+(a.x0+a.x1)/2,F=a.ya._offset+(a.y0+a.y1)/2,G=Math.abs(a.x1-a.x0),H=Math.abs(a.y1-a.y0),I=w.width+D+E+q;a.ty0=z-w.top,a.bx=w.width+2*E,a.by=w.height+2*E,a.anchor="start",a.txwidth=w.width,a.tx2width=q,a.offset=0,f?(a.pos=x,t=B>=F+H/2+I,v=F-H/2-I>=0,"top"!==a.idealAlign&&t||!v?t?(F+=H/2,a.anchor="start"):a.anchor="middle":(F-=H/2,a.anchor="end")):(a.pos=F,t=A>=x+G/2+I,v=x-G/2-I>=0,"left"!==a.idealAlign&&t||!v?t?(x+=G/2,a.anchor="start"):a.anchor="middle":(x-=G/2,a.anchor="end")),n.attr("text-anchor",a.anchor),q&&o.attr("text-anchor",a.anchor),b.attr("transform","translate("+x+","+F+")"+(f?"rotate("+y+")":""))}),H}function f(a,b){function c(a){var b=a[0],c=a[a.length-1];if(e=b.pmin-b.pos-b.dp+b.size,f=c.pos+c.dp+c.size-b.pmax,e>.01){for(h=a.length-1;h>=0;h--)a[h].dp+=e;d=!1}if(!(.01>f)){if(-.01>e){for(h=a.length-1;h>=0;h--)a[h].dp-=f;d=!1}if(d){var j=0;for(g=0;g<a.length;g++)i=a[g],i.pos+i.dp+i.size>b.pmax&&j++;for(g=a.length-1;g>=0&&!(0>=j);g--)i=a[g],i.pos>b.pmax-1&&(i.del=!0,j--);for(g=0;g<a.length&&!(0>=j);g++)if(i=a[g],i.pos<b.pmin+1)for(i.del=!0,j--,f=2*i.size,h=a.length-1;h>=0;h--)a[h].dp-=f;for(g=a.length-1;g>=0&&!(0>=j);g--)i=a[g],i.pos+i.dp+i.size>b.pmax&&(i.del=!0,j--)}}}for(var d,e,f,g,h,i,j,k=0,l=a.map(function(a,c){var d=a[b];return[{i:c,dp:0,pos:a.pos,posref:a.posref,size:a.by*("x"===d._id.charAt(0)?A:1)/2,pmin:d._offset,pmax:d._offset+d._length}]}).sort(function(a,b){return a[0].posref-b[0].posref});!d&&k<=a.length;){for(k++,d=!0,g=0;g<l.length-1;){var m=l[g],n=l[g+1],o=m[m.length-1],p=n[0];if((e=o.pos+o.dp+o.size-p.pos-p.dp+p.size)>.01&&o.pmin===p.pmin&&o.pmax===p.pmax){for(h=n.length-1;h>=0;h--)n[h].dp+=e;for(m.push.apply(m,n),l.splice(g+1,1),j=0,h=m.length-1;h>=0;h--)j+=m[h].dp;for(f=j/m.length,h=m.length-1;h>=0;h--)m[h].dp-=f;d=!1}else g++}l.forEach(c)}for(g=l.length-1;g>=0;g--){var q=l[g];for(h=q.length-1;h>=0;h--){var r=q[h],s=a[r.i];s.offset=r.dp,s.del=r.del}}}function g(a,b){a.each(function(a){var c=k.select(this);if(a.del)return void c.remove();var d="end"===a.anchor?-1:1,e=c.select("text.nums"),f={start:1,end:-1,middle:0}[a.anchor],g=f*(D+E),h=g+f*(a.txwidth+E),i=0,j=a.offset;"middle"===a.anchor&&(g-=a.tx2width/2,h-=a.tx2width/2),b&&(j*=-C,i=a.offset*B),c.select("path").attr("d","middle"===a.anchor?"M-"+a.bx/2+",-"+a.by/2+"h"+a.bx+"v"+a.by+"h-"+a.bx+"Z":"M0,0L"+(d*D+i)+","+(D+j)+"v"+(a.by/2-D)+"h"+d*a.bx+"v-"+a.by+"H"+(d*D+i)+"V"+(j-D)+"Z"),e.call(r.setPosition,g+i,j+a.ty0-a.by/2+E).selectAll("tspan.line").attr({x:e.attr("x"),y:e.attr("y")}),a.tx2width&&(c.select("text.name, text.name tspan.line").call(r.setPosition,h+f*E+i,j+a.ty0-a.by/2+E),c.select("rect").call(r.setRect,h+(f-1)*a.tx2width/2+i,j-a.by/2-1,a.tx2width,a.by+2))})}function h(a,b){function c(b,c,g){var h;if(f[c])h=f[c];else if(e[c]){var i=e[c];Array.isArray(i)&&Array.isArray(i[a.index[0]])&&(h=i[a.index[0]][a.index[1]])}else h=n.nestedProperty(d,g).get();h&&(a[b]=h)}var d=a.trace||{},e=a.cd[0],f=a.cd[a.index]||{};a.posref="y"===b?(a.x0+a.x1)/2:(a.y0+a.y1)/2,a.x0=n.constrain(a.x0,0,a.xa._length),a.x1=n.constrain(a.x1,0,a.xa._length),a.y0=n.constrain(a.y0,0,a.ya._length),a.y1=n.constrain(a.y1,0,a.ya._length);var g;if(void 0!==a.xLabelVal){g="log"===a.xa.type&&a.xLabelVal<=0;var h=u.tickText(a.xa,a.xa.c2l(g?-a.xLabelVal:a.xLabelVal),"hover");g?0===a.xLabelVal?a.xLabel="0":a.xLabel="-"+h.text:a.xLabel=h.text,a.xVal=a.xa.c2d(a.xLabelVal)}if(void 0!==a.yLabelVal){g="log"===a.ya.type&&a.yLabelVal<=0;var i=u.tickText(a.ya,a.ya.c2l(g?-a.yLabelVal:a.yLabelVal),"hover");g?0===a.yLabelVal?a.yLabel="0":a.yLabel="-"+i.text:a.yLabel=i.text,a.yVal=a.ya.c2d(a.yLabelVal)}if(void 0!==a.zLabelVal&&(a.zLabel=String(a.zLabelVal)),!(isNaN(a.xerr)||"log"===a.xa.type&&a.xerr<=0)){var j=u.tickText(a.xa,a.xa.c2l(a.xerr),"hover").text;void 0!==a.xerrneg?a.xLabel+=" +"+j+" / -"+u.tickText(a.xa,a.xa.c2l(a.xerrneg),"hover").text:a.xLabel+=" ± "+j,"x"===b&&(a.distance+=1)}if(!(isNaN(a.yerr)||"log"===a.ya.type&&a.yerr<=0)){var k=u.tickText(a.ya,a.ya.c2l(a.yerr),"hover").text;void 0!==a.yerrneg?a.yLabel+=" +"+k+" / -"+u.tickText(a.ya,a.ya.c2l(a.yerrneg),"hover").text:a.yLabel+=" ± "+k,
"y"===b&&(a.distance+=1)}var l=a.trace.hoverinfo;return"all"!==l&&(l=l.split("+"),-1===l.indexOf("x")&&(a.xLabel=void 0),-1===l.indexOf("y")&&(a.yLabel=void 0),-1===l.indexOf("z")&&(a.zLabel=void 0),-1===l.indexOf("text")&&(a.text=void 0),-1===l.indexOf("name")&&(a.name=void 0)),c("color","hbg","hoverlabel.bgcolor"),c("borderColor","hbc","hoverlabel.bordercolor"),c("fontFamily","htf","hoverlabel.font.family"),c("fontSize","hts","hoverlabel.font.size"),c("fontColor","htc","hoverlabel.font.color"),a}function i(a,b){var c=b.hovermode,d=b.container,e=a[0],f=e.xa,g=e.ya,h=f.showspikes,i=g.showspikes;if(d.selectAll(".spikeline").remove(),"closest"===c&&(h||i)){var j=b.fullLayout,k=f._offset+(e.x0+e.x1)/2,l=g._offset+(e.y0+e.y1)/2,n=s.combine(j.plot_bgcolor,j.paper_bgcolor),o=m.readability(e.color,n)<1.5?s.contrast(n):e.color;if(i){var p=g.spikemode,q=g.spikethickness,t=g.spikecolor||o,u=g._boundingBox,v=(u.left+u.right)/2<k?u.right:u.left;if(-1!==p.indexOf("toaxis")||-1!==p.indexOf("across")){var w=v,x=k;-1!==p.indexOf("across")&&(w=g._counterSpan[0],x=g._counterSpan[1]),d.append("line").attr({x1:w,x2:x,y1:l,y2:l,"stroke-width":q+2,stroke:n}).classed("spikeline",!0).classed("crisp",!0),d.append("line").attr({x1:w,x2:x,y1:l,y2:l,"stroke-width":q,stroke:t,"stroke-dasharray":r.dashStyle(g.spikedash,q)}).classed("spikeline",!0).classed("crisp",!0)}-1!==p.indexOf("marker")&&d.append("circle").attr({cx:v+("right"!==g.side?q:-q),cy:l,r:q,fill:t}).classed("spikeline",!0)}if(h){var y=f.spikemode,z=f.spikethickness,A=f.spikecolor||o,B=f._boundingBox,C=(B.top+B.bottom)/2<l?B.bottom:B.top;if(-1!==y.indexOf("toaxis")||-1!==y.indexOf("across")){var D=C,E=l;-1!==y.indexOf("across")&&(D=f._counterSpan[0],E=f._counterSpan[1]),d.append("line").attr({x1:k,x2:k,y1:D,y2:E,"stroke-width":z+2,stroke:n}).classed("spikeline",!0).classed("crisp",!0),d.append("line").attr({x1:k,x2:k,y1:D,y2:E,"stroke-width":z,stroke:A,"stroke-dasharray":r.dashStyle(f.spikedash,z)}).classed("spikeline",!0).classed("crisp",!0)}-1!==y.indexOf("marker")&&d.append("circle").attr({cx:k,cy:C-("top"!==f.side?z:-z),r:z,fill:A}).classed("spikeline",!0)}}}function j(a,b,c){if(!c||c.length!==a._hoverdata.length)return!0;for(var d=c.length-1;d>=0;d--){var e=c[d],f=a._hoverdata[d];if(e.curveNumber!==f.curveNumber||String(e.pointNumber)!==String(f.pointNumber))return!0}return!1}var k=a("d3"),l=a("fast-isnumeric"),m=a("tinycolor2"),n=a("../../lib"),o=a("../../lib/events"),p=a("../../lib/svg_text_utils"),q=a("../../lib/override_cursor"),r=a("../drawing"),s=a("../color"),t=a("../dragelement"),u=a("../../plots/cartesian/axes"),v=a("../../registry"),w=a("./helpers"),x=a("./constants"),y=x.YANGLE,z=Math.PI*y/180,A=1/Math.sin(z),B=Math.cos(z),C=Math.sin(z),D=x.HOVERARROWSIZE,E=x.HOVERTEXTPAD;c.hover=function(a,b,c){return"string"==typeof a&&(a=document.getElementById(a)),void 0===a._lastHoverTime&&(a._lastHoverTime=0),void 0!==a._hoverTimer&&(clearTimeout(a._hoverTimer),a._hoverTimer=void 0),Date.now()>a._lastHoverTime+x.HOVERMINTIME?(d(a,b,c),void(a._lastHoverTime=Date.now())):void(a._hoverTimer=setTimeout(function(){d(a,b,c),a._lastHoverTime=Date.now(),a._hoverTimer=void 0},x.HOVERMINTIME))},c.loneHover=function(a,b){var c={color:a.color||s.defaultLine,x0:a.x0||a.x||0,x1:a.x1||a.x||0,y0:a.y0||a.y||0,y1:a.y1||a.y||0,xLabel:a.xLabel,yLabel:a.yLabel,zLabel:a.zLabel,text:a.text,name:a.name,idealAlign:a.idealAlign,borderColor:a.borderColor,fontFamily:a.fontFamily,fontSize:a.fontSize,fontColor:a.fontColor,trace:{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0},d=k.select(b.container),f=b.outerContainer?k.select(b.outerContainer):d,h={hovermode:"closest",rotateLabels:!1,bgColor:b.bgColor||s.background,container:d,outerContainer:f},i=e([c],h);return g(i,h.rotateLabels),i.node()}},{"../../lib":645,"../../lib/events":640,"../../lib/override_cursor":654,"../../lib/svg_text_utils":662,"../../plots/cartesian/axes":680,"../../registry":715,"../color":534,"../dragelement":555,"../drawing":558,"./constants":570,"./helpers":572,d3:256,"fast-isnumeric":259,tinycolor2:773}],574:[function(a,b,c){"use strict";var d=a("../../lib");b.exports=function(a,b,c,e){e=e||{},c("hoverlabel.bgcolor",e.bgcolor),c("hoverlabel.bordercolor",e.bordercolor),d.coerceFont(c,"hoverlabel.font",e.font)}},{"../../lib":645}],575:[function(a,b,c){"use strict";function d(a){var b=g.isD3Selection(a)?a:f.select(a);b.selectAll("g.hovertext").remove(),b.selectAll(".spikeline").remove()}function e(a,b,c){var d=a.hoverlabel||{},e=g.nestedProperty(d,c).get();return Array.isArray(e)?Array.isArray(b)&&Array.isArray(e[b[0]])?e[b[0]][b[1]]:e[b]:e}var f=a("d3"),g=a("../../lib"),h=a("../dragelement"),i=a("./helpers"),j=a("./layout_attributes");b.exports={moduleType:"component",name:"fx",constants:a("./constants"),schema:{layout:j},attributes:a("./attributes"),layoutAttributes:j,supplyLayoutGlobalDefaults:a("./layout_global_defaults"),supplyDefaults:a("./defaults"),supplyLayoutDefaults:a("./layout_defaults"),calc:a("./calc"),getDistanceFunction:i.getDistanceFunction,getClosest:i.getClosest,inbox:i.inbox,castHoverOption:e,hover:a("./hover").hover,unhover:h.unhover,loneHover:a("./hover").loneHover,loneUnhover:d,click:a("./click")}},{"../../lib":645,"../dragelement":555,"./attributes":567,"./calc":568,"./click":569,"./constants":570,"./defaults":571,"./helpers":572,"./hover":573,"./layout_attributes":576,"./layout_defaults":577,"./layout_global_defaults":578,d3:256}],576:[function(a,b,c){"use strict";var d=a("../../lib/extend").extendFlat,e=a("../../plots/font_attributes"),f=a("./constants");b.exports={dragmode:{valType:"enumerated",role:"info",values:["zoom","pan","select","lasso","orbit","turntable"],dflt:"zoom",description:["Determines the mode of drag interactions.","*select* and *lasso* apply only to scatter traces with","markers or text. *orbit* and *turntable* apply only to","3D scenes."].join(" ")},hovermode:{valType:"enumerated",role:"info",values:["x","y","closest",!1],description:"Determines the mode of hover interactions."},hoverlabel:{bgcolor:{valType:"color",role:"style",description:["Sets the background color of all hover labels on graph"].join(" ")},bordercolor:{valType:"color",role:"style",description:["Sets the border color of all hover labels on graph."].join(" ")},font:{family:d({},e.family,{dflt:f.HOVERFONT}),size:d({},e.size,{dflt:f.HOVERFONTSIZE}),color:d({},e.color)}}}},{"../../lib/extend":641,"../../plots/font_attributes":704,"./constants":570}],577:[function(a,b,c){"use strict";function d(a){for(var b=!0,c=0;c<a.length;c++)if("h"!==a[c].orientation){b=!1;break}return b}var e=a("../../lib"),f=a("./layout_attributes");b.exports=function(a,b,c){function g(c,d){return e.coerce(a,b,f,c,d)}g("dragmode");var h;b._has("cartesian")?(b._isHoriz=d(c),h=b._isHoriz?"y":"x"):h="closest",g("hovermode",h)}},{"../../lib":645,"./layout_attributes":576}],578:[function(a,b,c){"use strict";var d=a("../../lib"),e=a("./hoverlabel_defaults"),f=a("./layout_attributes");b.exports=function(a,b){function c(c,e){return d.coerce(a,b,f,c,e)}e(a,b,c)}},{"../../lib":645,"./hoverlabel_defaults":574,"./layout_attributes":576}],579:[function(a,b,c){"use strict";var d=a("../../plots/cartesian/constants");b.exports={_isLinkedToArray:"image",visible:{valType:"boolean",role:"info",dflt:!0,description:["Determines whether or not this image is visible."].join(" ")},source:{valType:"string",role:"info",description:["Specifies the URL of the image to be used.","The URL must be accessible from the domain where the","plot code is run, and can be either relative or absolute."].join(" ")},layer:{valType:"enumerated",values:["below","above"],dflt:"above",role:"info",description:["Specifies whether images are drawn below or above traces.","When `xref` and `yref` are both set to `paper`,","image is drawn below the entire plot area."].join(" ")},sizex:{valType:"number",role:"info",dflt:0,description:["Sets the image container size horizontally.","The image will be sized based on the `position` value.","When `xref` is set to `paper`, units are sized relative","to the plot width."].join(" ")},sizey:{valType:"number",role:"info",dflt:0,description:["Sets the image container size vertically.","The image will be sized based on the `position` value.","When `yref` is set to `paper`, units are sized relative","to the plot height."].join(" ")},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",role:"info",description:["Specifies which dimension of the image to constrain."].join(" ")},opacity:{valType:"number",role:"info",min:0,max:1,dflt:1,description:"Sets the opacity of the image."},x:{valType:"any",role:"info",dflt:0,description:["Sets the image's x position.","When `xref` is set to `paper`, units are sized relative","to the plot height.","See `xref` for more info"].join(" ")},y:{valType:"any",role:"info",dflt:0,description:["Sets the image's y position.","When `yref` is set to `paper`, units are sized relative","to the plot height.","See `yref` for more info"].join(" ")},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",role:"info",description:"Sets the anchor for the x position"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",role:"info",description:"Sets the anchor for the y position."},xref:{valType:"enumerated",values:["paper",d.idRegex.x.toString()],dflt:"paper",role:"info",description:["Sets the images's x coordinate axis.","If set to a x axis id (e.g. *x* or *x2*), the `x` position","refers to an x data coordinate","If set to *paper*, the `x` position refers to the distance from","the left of plot in normalized coordinates","where *0* (*1*) corresponds to the left (right)."].join(" ")},yref:{valType:"enumerated",values:["paper",d.idRegex.y.toString()],dflt:"paper",role:"info",description:["Sets the images's y coordinate axis.","If set to a y axis id (e.g. *y* or *y2*), the `y` position","refers to a y data coordinate.","If set to *paper*, the `y` position refers to the distance from","the bottom of the plot in normalized coordinates","where *0* (*1*) corresponds to the bottom (top)."].join(" ")}}},{"../../plots/cartesian/constants":685}],580:[function(a,b,c){"use strict";var d=a("fast-isnumeric"),e=a("../../lib/to_log_range");b.exports=function(a,b,c,f){b=b||{};var g="log"===c&&"linear"===b.type,h="linear"===c&&"log"===b.type;if(g||h)for(var i,j,k=a._fullLayout.images,l=b._id.charAt(0),m=0;m<k.length;m++)if(i=k[m],j="images["+m+"].",i[l+"ref"]===b._id){var n=i[l],o=i["size"+l],p=null,q=null;if(g){p=e(n,b.range);var r=o/Math.pow(10,p)/2;q=2*Math.log(r+Math.sqrt(1+r*r))/Math.LN10}else p=Math.pow(10,n),q=p*(Math.pow(10,o/2)-Math.pow(10,-o/2));d(p)?d(q)||(q=null):(p=null,q=null),f(j+l,p),f(j+"size"+l,q)}}},{"../../lib/to_log_range":663,"fast-isnumeric":259}],581:[function(a,b,c){"use strict";function d(a,b,c){function d(c,d){return e.coerce(a,b,h,c,d)}if(!d("visible",!!d("source")))return b;d("layer"),d("xanchor"),d("yanchor"),d("sizex"),d("sizey"),d("sizing"),d("opacity");for(var g={_fullLayout:c},i=["x","y"],j=0;2>j;j++){var k=i[j],l=f.coerceRef(a,b,g,k,"paper");f.coercePosition(b,g,d,l,k,0)}return b}var e=a("../../lib"),f=a("../../plots/cartesian/axes"),g=a("../../plots/array_container_defaults"),h=a("./attributes");b.exports=function(a,b){g(a,b,{name:"images",handleItemDefaults:d})}},{"../../lib":645,"../../plots/array_container_defaults":677,"../../plots/cartesian/axes":680,"./attributes":579}],582:[function(a,b,c){"use strict";var d=a("d3"),e=a("../drawing"),f=a("../../plots/cartesian/axes"),g=a("../../constants/xmlns_namespaces");b.exports=function(a){function b(b){var c=d.select(this);if(!this.img||this.img.src!==b.source){c.attr("xmlns",g.svg);var e=new Promise(function(a){function d(){c.remove(),a()}var e=new Image;this.img=e,e.setAttribute("crossOrigin","anonymous"),e.onerror=d,e.onload=function(){var b=document.createElement("canvas");b.width=this.width,b.height=this.height,b.getContext("2d").drawImage(this,0,0);var d=b.toDataURL("image/png");c.attr("xlink:href",d),a()},c.on("error",d),e.src=b.source}.bind(this));a._promises.push(e)}}function c(b){var c=d.select(this),g=f.getFromId(a,b.xref),h=f.getFromId(a,b.yref),i=j._size,k=g?Math.abs(g.l2p(b.sizex)-g.l2p(0)):b.sizex*i.w,l=h?Math.abs(h.l2p(b.sizey)-h.l2p(0)):b.sizey*i.h,m=k*p.x[b.xanchor].offset,n=l*p.y[b.yanchor].offset,o=p.x[b.xanchor].sizing+p.y[b.yanchor].sizing,q=(g?g.r2p(b.x)+g._offset:b.x*i.w+i.l)+m,r=(h?h.r2p(b.y)+h._offset:i.h-b.y*i.h+i.t)+n;switch(b.sizing){case"fill":o+=" slice";break;case"stretch":o="none"}c.attr({x:q,y:r,width:k,height:l,preserveAspectRatio:o,opacity:b.opacity});var s=g?g._id:"",t=h?h._id:"",u=s+t;c.call(e.setClipUrl,u?"clip"+j._uid+u:null)}var h,i,j=a._fullLayout,k=[],l={},m=[];for(i=0;i<j.images.length;i++){var n=j.images[i];if(n.visible)if("below"===n.layer&&"paper"!==n.xref&&"paper"!==n.yref){h=n.xref+n.yref;var o=j._plots[h];if(!o){m.push(n);continue}o.mainplot&&(h=o.mainplot.id),l[h]||(l[h]=[]),l[h].push(n)}else"above"===n.layer?k.push(n):m.push(n)}var p={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}}},q=j._imageLowerLayer.selectAll("image").data(m),r=j._imageUpperLayer.selectAll("image").data(k);q.enter().append("image"),r.enter().append("image"),q.exit().remove(),r.exit().remove(),q.each(function(a){b.bind(this)(a),c.bind(this)(a)}),r.each(function(a){b.bind(this)(a),c.bind(this)(a)});var s=Object.keys(j._plots);for(i=0;i<s.length;i++){h=s[i];var t=j._plots[h];if(t.imagelayer){var u=t.imagelayer.selectAll("image").data(l[h]||[]);u.enter().append("image"),u.exit().remove(),u.each(function(a){b.bind(this)(a),c.bind(this)(a)})}}}},{"../../constants/xmlns_namespaces":633,"../../plots/cartesian/axes":680,"../drawing":558,d3:256}],583:[function(a,b,c){"use strict";b.exports={moduleType:"component",name:"images",layoutAttributes:a("./attributes"),supplyLayoutDefaults:a("./defaults"),draw:a("./draw"),convertCoords:a("./convert_coords")}},{"./attributes":579,"./convert_coords":580,"./defaults":581,"./draw":582}],584:[function(a,b,c){"use strict";c.isRightAnchor=function(a){return"right"===a.xanchor||"auto"===a.xanchor&&a.x>=2/3},c.isCenterAnchor=function(a){return"center"===a.xanchor||"auto"===a.xanchor&&a.x>1/3&&a.x<2/3},c.isBottomAnchor=function(a){return"bottom"===a.yanchor||"auto"===a.yanchor&&a.y<=1/3},c.isMiddleAnchor=function(a){return"middle"===a.yanchor||"auto"===a.yanchor&&a.y>1/3&&a.y<2/3}},{}],585:[function(a,b,c){"use strict";var d=a("../../plots/font_attributes"),e=a("../color/attributes"),f=a("../../lib/extend").extendFlat;b.exports={bgcolor:{valType:"color",role:"style",description:"Sets the legend background color."},bordercolor:{valType:"color",dflt:e.defaultLine,role:"style",description:"Sets the color of the border enclosing the legend."},borderwidth:{valType:"number",min:0,dflt:0,role:"style",description:"Sets the width (in px) of the border enclosing the legend."},font:f({},d,{description:"Sets the font used to text the legend items."}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",role:"info",description:"Sets the orientation of the legend."},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],role:"style",description:["Determines the order at which the legend items are displayed.","If *normal*, the items are displayed top-to-bottom in the same","order as the input data.","If *reversed*, the items are displayed in the opposite order","as *normal*.","If *grouped*, the items are displayed in groups","(when a trace `legendgroup` is provided).","if *grouped+reversed*, the items are displayed in the opposite order","as *grouped*."].join(" ")},tracegroupgap:{valType:"number",min:0,dflt:10,role:"style",description:["Sets the amount of vertical space (in px) between legend groups."].join(" ")},x:{valType:"number",min:-2,max:3,dflt:1.02,role:"style",description:"Sets the x position (in normalized coordinates) of the legend."},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",role:"info",description:["Sets the legend's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the legend."].join(" ")},y:{valType:"number",min:-2,max:3,dflt:1,role:"style",description:"Sets the y position (in normalized coordinates) of the legend."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",role:"info",description:["Sets the legend's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the legend."].join(" ")}}},{"../../lib/extend":641,"../../plots/font_attributes":704,"../color/attributes":533}],586:[function(a,b,c){"use strict";b.exports={scrollBarWidth:4,scrollBarHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4}},{}],587:[function(a,b,c){"use strict";var d=a("../../registry"),e=a("../../lib"),f=a("./attributes"),g=a("../../plots/layout_attributes"),h=a("./helpers");b.exports=function(a,b,c){function i(a,b){return e.coerce(n,o,f,a,b)}for(var j,k,l,m,n=a.legend||{},o=b.legend={},p=0,q="normal",r=0;r<c.length;r++){var s=c[r];h.legendGetsTrace(s)&&(p++,d.traceIs(s,"pie")&&p++),(d.traceIs(s,"bar")&&"stack"===b.barmode||-1!==["tonextx","tonexty"].indexOf(s.fill))&&(q=h.isGrouped({traceorder:q})?"grouped+reversed":"reversed"),void 0!==s.legendgroup&&""!==s.legendgroup&&(q=h.isReversed({traceorder:q})?"reversed+grouped":"grouped")}if(!1!==e.coerce(a,b,g,"showlegend",p>1)){if(i("bgcolor",b.paper_bgcolor),i("bordercolor"),i("borderwidth"),e.coerceFont(i,"font",b.font),i("orientation"),"h"===o.orientation){var t=a.xaxis;t&&t.rangeslider&&t.rangeslider.visible?(j=0,l="left",k=1.1,m="bottom"):(j=0,l="left",k=-.1,m="top")}i("traceorder",q),h.isGrouped(b.legend)&&i("tracegroupgap"),i("x",j),i("xanchor",l),i("y",k),i("yanchor",m),e.noneOrAll(n,o,["x","y"])}}},{"../../lib":645,"../../plots/layout_attributes":706,"../../registry":715,"./attributes":585,"./helpers":590}],588:[function(a,b,c){"use strict";function d(a,b){function c(c){s.convertToTspans(c,function(){c.selectAll("tspan.line").attr({x:c.attr("x")}),a.call(g,b)})}var d=a.data()[0][0],e=b._fullLayout,f=d.trace,h=o.traceIs(f,"pie"),i=f.index,j=h?d.label:f.name,k=a.selectAll("text.legendtext").data([0]);k.enter().append("text").classed("legendtext",!0),k.attr({x:40,y:0,"data-unformatted":j}).style("text-anchor","start").classed("user-select-none",!0).call(q.font,e.legend.font).text(j),b._context.editable&&!h?k.call(s.makeEditable).call(c).on("edit",function(a){this.attr({"data-unformatted":a}),this.text(a).call(c),this.text()||(a="    ");var e,f=d.trace._fullInput||{};if(-1!==["ohlc","candlestick"].indexOf(f.type)){var g=d.trace.transforms;e=g[g.length-1].direction+".name"}else e="name";l.restyle(b,e,a,i)}):k.call(c)}function e(a,b){var c,d=1,e=a.selectAll("rect").data([0]);e.enter().append("rect").classed("legendtoggle",!0).style("cursor","pointer").attr("pointer-events","all").call(r.fill,"rgba(0,0,0,0)"),e.on("mousedown",function(){c=(new Date).getTime(),c-b._legendMouseDownTime<A?d+=1:(d=1,b._legendMouseDownTime=c)}),e.on("mouseup",function(){if(!b._dragged&&!b._editing){var c=b._fullLayout.legend;(new Date).getTime()-b._legendMouseDownTime>A&&(d=Math.max(d-1,1)),1===d?c._clickTimeout=setTimeout(function(){f(a,b,d)},A):2===d&&(c._clickTimeout&&clearTimeout(c._clickTimeout),b._legendMouseDownTime=0,f(a,b,d))}})}function f(a,b,c){if(!b._dragged&&!b._editing){var d,e,f=b._fullLayout.hiddenlabels?b._fullLayout.hiddenlabels.slice():[],g=a.data()[0][0],h=b._fullData,i=g.trace,j=i.legendgroup,k=[];if(1===c&&z&&b.data&&b._context.showTips?(m.notifier("Double click on legend to isolate individual trace","long"),z=!1):z=!1,o.traceIs(i,"pie")){var n=g.label,p=f.indexOf(n);1===c?-1===p?f.push(n):f.splice(p,1):2===c&&(f=[],b.calcdata[0].forEach(function(a){n!==a.label&&f.push(a.label)}),b._fullLayout.hiddenlabels&&b._fullLayout.hiddenlabels.length===f.length&&-1===p&&(f=[])),l.relayout(b,"hiddenlabels",f)}else{var q,r=[],s=[];for(q=0;q<h.length;q++)r.push(q),s.push(!!o.traceIs(h[q],"notLegendIsolatable")||"legendonly");if(""===j)k=[i.index],s[i.index]=!0;else for(q=0;q<h.length;q++)d=h[q],d.legendgroup===j&&(k.push(d.index),s[r.indexOf(q)]=!0);if(1===c)e=!0!==i.visible||"legendonly",l.restyle(b,"visible",e,k);else if(2===c){var t=!0;for(q=0;q<h.length;q++)if(h[q].visible!==s[q]){t=!1;break}t&&(s=!0);var u=[];for(q=0;q<h.length;q++)u.push(r[q]);l.restyle(b,"visible",s,u)}}}}function g(a,b){var c,d,e=a.data()[0][0],f=a.select("g[class*=math-group]"),g=b._fullLayout.legend,h=1.3*g.font.size;if(!e.trace.showlegend)return void a.remove();if(f.node()){var i=q.bBox(f.node());c=i.height,d=i.width,q.setTranslate(f,0,c/4)}else{var j=a.selectAll(".legendtext"),k=a.selectAll(".legendtext>tspan"),l=k[0].length||1;c=h*l,d=j.node()&&q.bBox(j.node()).width;var m=h*(.3+(1-l)/2);j.attr("y",m),k.attr("y",m)}c=Math.max(c,16)+3,e.height=c,e.width=d}function h(a,b,c){var d=a._fullLayout,e=d.legend,f=e.borderwidth,g=x.isGrouped(e);if(x.isVertical(e))g&&b.each(function(a,b){q.setTranslate(this,0,b*e.tracegroupgap)}),e.width=0,e.height=0,c.each(function(a){var b=a[0],c=b.height,d=b.width;q.setTranslate(this,f,5+f+e.height+c/2),e.height+=c,e.width=Math.max(e.width,d)}),e.width+=45+2*f,e.height+=10+2*f,g&&(e.height+=(e._lgroupsLength-1)*e.tracegroupgap),e.width=Math.ceil(e.width),e.height=Math.ceil(e.height),c.each(function(b){var c=b[0];k.select(this).select(".legendtoggle").call(q.setRect,0,-c.height/2,(a._context.editable?0:e.width)+40,c.height)});else if(g){e.width=0,e.height=0;for(var h=[e.width],i=b.data(),j=0,l=i.length;l>j;j++){var m=i[j].map(function(a){return a[0].width}),n=40+Math.max.apply(null,m);e.width+=e.tracegroupgap+n,h.push(e.width)}b.each(function(a,b){q.setTranslate(this,h[b],0)}),b.each(function(){var a=k.select(this),b=a.selectAll("g.traces"),c=0;b.each(function(a){var b=a[0],d=b.height;q.setTranslate(this,0,5+f+c+d/2),c+=d}),e.height=Math.max(e.height,c)}),e.height+=10+2*f,e.width+=2*f,e.width=Math.ceil(e.width),e.height=Math.ceil(e.height),c.each(function(b){var c=b[0];k.select(this).select(".legendtoggle").call(q.setRect,0,-c.height/2,a._context.editable?0:e.width,c.height)})}else{e.width=0,e.height=0;var o=0,p=0,r=0,s=0;c.each(function(a){r=Math.max(40+a[0].width,r)}),c.each(function(a){var b=a[0],c=r,g=e.tracegroupgap||5;f+s+g+c>d.width-(d.margin.r+d.margin.l)&&(s=0,o+=p,e.height=e.height+p,p=0),q.setTranslate(this,f+s,5+f+b.height/2+o),e.width+=g+c,e.height=Math.max(e.height,b.height),s+=g+c,p=Math.max(b.height,p)}),e.width+=2*f,e.height+=10+2*f,e.width=Math.ceil(e.width),e.height=Math.ceil(e.height),c.each(function(b){var c=b[0];k.select(this).select(".legendtoggle").call(q.setRect,0,-c.height/2,a._context.editable?0:e.width,c.height)})}}function i(a){var b=a._fullLayout,c=b.legend,d="left";y.isRightAnchor(c)?d="right":y.isCenterAnchor(c)&&(d="center");var e="top";y.isBottomAnchor(c)?e="bottom":y.isMiddleAnchor(c)&&(e="middle"),n.autoMargin(a,"legend",{x:c.x,y:c.y,l:c.width*({right:1,center:.5}[d]||0),r:c.width*({left:1,center:.5}[d]||0),b:c.height*({top:1,middle:.5}[e]||0),t:c.height*({bottom:1,middle:.5}[e]||0)})}function j(a){var b=a._fullLayout,c=b.legend,d="left";y.isRightAnchor(c)?d="right":y.isCenterAnchor(c)&&(d="center"),n.autoMargin(a,"legend",{x:c.x,y:.5,l:c.width*({right:1,center:.5}[d]||0),r:c.width*({left:1,center:.5}[d]||0),b:0,t:0})}var k=a("d3"),l=a("../../plotly"),m=a("../../lib"),n=a("../../plots/plots"),o=a("../../registry"),p=a("../dragelement"),q=a("../drawing"),r=a("../color"),s=a("../../lib/svg_text_utils"),t=a("./constants"),u=a("../../constants/interactions"),v=a("./get_legend_data"),w=a("./style"),x=a("./helpers"),y=a("./anchor_utils"),z=!0,A=u.DBLCLICKDELAY;b.exports=function(a){function b(a,b){D.attr("data-scroll",b).call(q.setTranslate,0,b),E.call(q.setRect,N,a,t.scrollBarWidth,t.scrollBarHeight),B.select("rect").attr({y:s.borderwidth-b})}var c=a._fullLayout,g="legend"+c._uid;if(c._infolayer&&a.calcdata){a._legendMouseDownTime||(a._legendMouseDownTime=0);var s=c.legend,u=c.showlegend&&v(a.calcdata,s),x=c.hiddenlabels||[];if(!c.showlegend||!u.length)return c._infolayer.selectAll(".legend").remove(),c._topdefs.select("#"+g).remove(),void n.autoMargin(a,"legend");var z=c._infolayer.selectAll("g.legend").data([0]);z.enter().append("g").attr({"class":"legend","pointer-events":"all"});var B=c._topdefs.selectAll("#"+g).data([0]);B.enter().append("clipPath").attr("id",g).append("rect");var C=z.selectAll("rect.bg").data([0]);C.enter().append("rect").attr({"class":"bg","shape-rendering":"crispEdges"}),C.call(r.stroke,s.bordercolor),C.call(r.fill,s.bgcolor),C.style("stroke-width",s.borderwidth+"px");var D=z.selectAll("g.scrollbox").data([0]);D.enter().append("g").attr("class","scrollbox");var E=z.selectAll("rect.scrollbar").data([0]);E.enter().append("rect").attr({"class":"scrollbar",rx:20,ry:2,width:0,height:0}).call(r.fill,"#808BA4");var F=D.selectAll("g.groups").data(u);F.enter().append("g").attr("class","groups"),F.exit().remove();var G=F.selectAll("g.traces").data(m.identity);G.enter().append("g").attr("class","traces"),G.exit().remove(),G.call(w).style("opacity",function(a){var b=a[0].trace;return o.traceIs(b,"pie")?-1!==x.indexOf(a[0].label)?.5:1:"legendonly"===b.visible?.5:1}).each(function(){k.select(this).call(d,a).call(e,a)});var H=0!==z.enter().size();H&&(h(a,F,G),i(a));var I=c.width,J=c.height;h(a,F,G),s.height>J?j(a):i(a);var K=c._size,L=K.l+K.w*s.x,M=K.t+K.h*(1-s.y);y.isRightAnchor(s)?L-=s.width:y.isCenterAnchor(s)&&(L-=s.width/2),y.isBottomAnchor(s)?M-=s.height:y.isMiddleAnchor(s)&&(M-=s.height/2);var N=s.width,O=K.w;N>O?(L=K.l,N=O):(L+N>I&&(L=I-N),0>L&&(L=0),N=Math.min(I-L,s.width));var P=s.height,Q=K.h;P>Q?(M=K.t,P=Q):(M+P>J&&(M=J-P),0>M&&(M=0),P=Math.min(J-M,s.height)),q.setTranslate(z,L,M);var R,S,T=P-t.scrollBarHeight-2*t.scrollBarMargin,U=s.height-P;if(s.height<=P||a._context.staticPlot)C.attr({width:N-s.borderwidth,height:P-s.borderwidth,x:s.borderwidth/2,y:s.borderwidth/2}),q.setTranslate(D,0,0),B.select("rect").attr({width:N-2*s.borderwidth,height:P-2*s.borderwidth,x:s.borderwidth,y:s.borderwidth}),D.call(q.setClipUrl,g);else{R=t.scrollBarMargin,S=D.attr("data-scroll")||0,C.attr({width:N-2*s.borderwidth+t.scrollBarWidth+t.scrollBarMargin,height:P-s.borderwidth,x:s.borderwidth/2,y:s.borderwidth/2}),B.select("rect").attr({width:N-2*s.borderwidth+t.scrollBarWidth+t.scrollBarMargin,height:P-2*s.borderwidth,x:s.borderwidth,y:s.borderwidth-S}),D.call(q.setClipUrl,g),H&&b(R,S),z.on("wheel",null),z.on("wheel",function(){S=m.constrain(D.attr("data-scroll")-k.event.deltaY/T*U,-U,0),R=t.scrollBarMargin-S/U*T,b(R,S),0!==S&&S!==-U&&k.event.preventDefault()}),E.on(".drag",null),D.on(".drag",null);var V=k.behavior.drag().on("drag",function(){R=m.constrain(k.event.y-t.scrollBarHeight/2,t.scrollBarMargin,t.scrollBarMargin+T),S=-(R-t.scrollBarMargin)/T*U,b(R,S)});E.call(V),D.call(V)}if(a._context.editable){var W,X,Y,Z;z.classed("cursor-move",!0),p.init({element:z.node(),prepFn:function(){var a=q.getTranslate(z);Y=a.x,Z=a.y},moveFn:function(a,b){var c=Y+a,d=Z+b;q.setTranslate(z,c,d),W=p.align(c,0,K.l,K.l+K.w,s.xanchor),X=p.align(d,0,K.t+K.h,K.t,s.yanchor)},doneFn:function(b,d,e){if(b&&void 0!==W&&void 0!==X)l.relayout(a,{"legend.x":W,"legend.y":X});else{var g=c._infolayer.selectAll("g.traces").filter(function(){var a=this.getBoundingClientRect();return e.clientX>=a.left&&e.clientX<=a.right&&e.clientY>=a.top&&e.clientY<=a.bottom});g.size()>0&&(1===d?z._clickTimeout=setTimeout(function(){f(g,a,d)},A):2===d&&(z._clickTimeout&&clearTimeout(z._clickTimeout),f(g,a,d)))}}})}}}},{"../../constants/interactions":630,"../../lib":645,"../../lib/svg_text_utils":662,"../../plotly":675,"../../plots/plots":708,"../../registry":715,"../color":534,"../dragelement":555,"../drawing":558,"./anchor_utils":584,"./constants":586,"./get_legend_data":589,"./helpers":590,"./style":592,d3:256}],589:[function(a,b,c){"use strict";var d=a("../../registry"),e=a("./helpers");b.exports=function(a,b){function c(a,c){if(""!==a&&e.isGrouped(b))-1===i.indexOf(a)?(i.push(a),j=!0,h[a]=[[c]]):h[a].push([c]);else{var d="~~i"+l;i.push(d),h[d]=[[c]],l++}}var f,g,h={},i=[],j=!1,k={},l=0;for(f=0;f<a.length;f++){var m=a[f],n=m[0],o=n.trace,p=o.legendgroup;if(e.legendGetsTrace(o)&&o.showlegend)if(d.traceIs(o,"pie"))for(k[p]||(k[p]={}),g=0;g<m.length;g++){var q=m[g].label;k[p][q]||(c(p,{label:q,color:m[g].color,i:m[g].i,trace:o}),k[p][q]=!0)}else c(p,n)}if(!i.length)return[];var r,s,t=i.length;if(j&&e.isGrouped(b))for(s=new Array(t),f=0;t>f;f++)r=h[i[f]],s[f]=e.isReversed(b)?r.reverse():r;else{for(s=[new Array(t)],f=0;t>f;f++)r=h[i[f]][0],s[0][e.isReversed(b)?t-f-1:f]=r;t=1}return b._lgroupsLength=t,s}},{"../../registry":715,"./helpers":590}],590:[function(a,b,c){"use strict";var d=a("../../registry");c.legendGetsTrace=function(a){return a.visible&&d.traceIs(a,"showLegend")},c.isGrouped=function(a){return-1!==(a.traceorder||"").indexOf("grouped")},c.isVertical=function(a){return"h"!==a.orientation},c.isReversed=function(a){return-1!==(a.traceorder||"").indexOf("reversed")}},{"../../registry":715}],591:[function(a,b,c){"use strict";b.exports={moduleType:"component",name:"legend",layoutAttributes:a("./attributes"),supplyLayoutDefaults:a("./defaults"),draw:a("./draw"),style:a("./style")}},{"./attributes":585,"./defaults":587,"./draw":588,"./style":592}],592:[function(a,b,c){"use strict";function d(a){var b=a[0].trace,c=b.visible&&b.fill&&"none"!==b.fill,d=n.hasLines(b);b&&b._module&&"contourcarpet"===b._module.name&&(d=b.contours.showlines,c="fill"===b.contours.coloring);var e=i.select(this).select(".legendfill").selectAll("path").data(c?[a]:[]);e.enter().append("path").classed("js-fill",!0),e.exit().remove(),e.attr("d","M5,0h30v6h-30z").call(l.fillGroupStyle);var f=i.select(this).select(".legendlines").selectAll("path").data(d?[a]:[]);f.enter().append("path").classed("js-line",!0).attr("d","M5,0h30"),f.exit().remove(),f.call(l.lineGroupStyle)}function e(a){function b(a,b,c){var d=k.nestedProperty(g,a).get(),e=Array.isArray(d)&&b?b(d):d;if(c){if(e<c[0])return c[0];if(e>c[1])return c[1]}return e}function c(a){return a[0]}var d,e,f=a[0],g=f.trace,h=n.hasMarkers(g),j=n.hasText(g),m=n.hasLines(g);if(h||j||m){var o={},p={};h&&(o.mc=b("marker.color",c),o.mo=b("marker.opacity",k.mean,[.2,1]),o.ms=b("marker.size",k.mean,[2,16]),o.mlc=b("marker.line.color",c),o.mlw=b("marker.line.width",k.mean,[0,5]),p.marker={sizeref:1,sizemin:1,sizemode:"diameter"}),m&&(p.line={width:b("line.width",c,[0,10])}),j&&(o.tx="Aa",o.tp=b("textposition",c),o.ts=10,o.tc=b("textfont.color",c),o.tf=b("textfont.family",c)),d=[k.minExtend(f,o)],e=k.minExtend(g,p)}var q=i.select(this).select("g.legendpoints"),r=q.selectAll("path.scatterpts").data(h?d:[]);r.enter().append("path").classed("scatterpts",!0).attr("transform","translate(20,0)"),r.exit().remove(),r.call(l.pointStyle,e),h&&(d[0].mrc=3);var s=q.selectAll("g.pointtext").data(j?d:[]);s.enter().append("g").classed("pointtext",!0).append("text").attr("transform","translate(20,0)"),s.exit().remove(),s.selectAll("text").call(l.textPointStyle,e)}function f(a){var b=a[0].trace,c=b.marker||{},d=c.line||{},e=i.select(this).select("g.legendpoints").selectAll("path.legendbar").data(j.traceIs(b,"bar")?[a]:[]);e.enter().append("path").classed("legendbar",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),e.exit().remove(),e.each(function(a){var b=i.select(this),e=a[0],f=(e.mlw+1||d.width+1)-1;b.style("stroke-width",f+"px").call(m.fill,e.mc||c.color),f&&b.call(m.stroke,e.mlc||d.color)})}function g(a){var b=a[0].trace,c=i.select(this).select("g.legendpoints").selectAll("path.legendbox").data(j.traceIs(b,"box")&&b.visible?[a]:[]);c.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),c.exit().remove(),c.each(function(){
var a=b.line.width,c=i.select(this);c.style("stroke-width",a+"px").call(m.fill,b.fillcolor),a&&c.call(m.stroke,b.line.color)})}function h(a){var b=a[0].trace,c=i.select(this).select("g.legendpoints").selectAll("path.legendpie").data(j.traceIs(b,"pie")&&b.visible?[a]:[]);c.enter().append("path").classed("legendpie",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),c.exit().remove(),c.size()&&c.call(o,a[0],b)}var i=a("d3"),j=a("../../registry"),k=a("../../lib"),l=a("../drawing"),m=a("../color"),n=a("../../traces/scatter/subtypes"),o=a("../../traces/pie/style_one");b.exports=function(a){a.each(function(a){var b=i.select(this),c=b.selectAll("g.layers").data([0]);c.enter().append("g").classed("layers",!0),c.style("opacity",a[0].trace.opacity),c.selectAll("g.legendfill").data([a]).enter().append("g").classed("legendfill",!0),c.selectAll("g.legendlines").data([a]).enter().append("g").classed("legendlines",!0);var d=c.selectAll("g.legendsymbols").data([a]);d.enter().append("g").classed("legendsymbols",!0),d.selectAll("g.legendpoints").data([a]).enter().append("g").classed("legendpoints",!0)}).each(f).each(g).each(h).each(d).each(e)}},{"../../lib":645,"../../registry":715,"../../traces/pie/style_one":747,"../../traces/scatter/subtypes":769,"../color":534,"../drawing":558,d3:256}],593:[function(a,b,c){"use strict";function d(a,b){var c,d,e=b.currentTarget,f=e.getAttribute("data-attr"),g=e.getAttribute("data-val")||!0,h=a._fullLayout,i={},j=m.list(a,null,!0),l="on";if("zoom"===f){var n,o="in"===g?.5:2,p=(1+o)/2,q=(1-o)/2;for(d=0;d<j.length;d++)if(c=j[d],!c.fixedrange)if(n=c._name,"auto"===g)i[n+".autorange"]=!0;else if("reset"===g){if(void 0===c._rangeInitial)i[n+".autorange"]=!0;else{var r=c._rangeInitial.slice();i[n+".range[0]"]=r[0],i[n+".range[1]"]=r[1]}void 0!==c._showSpikeInitial&&(i[n+".showspikes"]=c._showSpikeInitial,"on"!==l||c._showSpikeInitial||(l="off"))}else{var s=[c.r2l(c.range[0]),c.r2l(c.range[1])],t=[p*s[0]+q*s[1],p*s[1]+q*s[0]];i[n+".range[0]"]=c.l2r(t[0]),i[n+".range[1]"]=c.l2r(t[1])}h._cartesianSpikesEnabled=l}else{if("hovermode"!==f||"x"!==g&&"y"!==g){if("hovermode"===f&&"closest"===g){for(d=0;d<j.length;d++)c=j[d],"on"!==l||c.showspikes||(l="off");h._cartesianSpikesEnabled=l}}else g=h._isHoriz?"y":"x",e.setAttribute("data-val",g),"closest"!==g&&(h._cartesianSpikesEnabled="off");i[f]=g}k.relayout(a,i)}function e(a,b){for(var c=b.currentTarget,d=c.getAttribute("data-attr"),e=c.getAttribute("data-val")||!0,f=a._fullLayout,g=l.getSubplotIds(f,"gl3d"),h={},i=d.split("."),j=0;j<g.length;j++)h[g[j]+"."+i[1]]=e;k.relayout(a,h)}function f(a,b){for(var c=b.currentTarget,d=c.getAttribute("data-attr"),e=a._fullLayout,f=l.getSubplotIds(e,"gl3d"),g={},h=0;h<f.length;h++){var i=f[h],j=i+".camera",m=e[i]._scene;"resetDefault"===d?g[j]=null:"resetLastSave"===d&&(g[j]=n.extendDeep({},m.cameraInitial))}k.relayout(a,g)}function g(a,b){var c=b.currentTarget,d=c._previousVal||!1,e=a.layout,f=a._fullLayout,g=l.getSubplotIds(f,"gl3d"),h=["xaxis","yaxis","zaxis"],i=["showspikes","spikesides","spikethickness","spikecolor"],j={},m={},o={};if(d)o=n.extendDeep(e,d),c._previousVal=null;else{o={"allaxes.showspikes":!1};for(var p=0;p<g.length;p++){var q=g[p],r=f[q],s=j[q]={};s.hovermode=r.hovermode,o[q+".hovermode"]=!1;for(var t=0;3>t;t++){var u=h[t];m=s[u]={};for(var v=0;v<i.length;v++){var w=i[v];m[w]=r[u][w]}}}c._previousVal=n.extendDeep({},j)}k.relayout(a,o)}function h(a,b){for(var c=b.currentTarget,d=c.getAttribute("data-attr"),e=c.getAttribute("data-val")||!0,f=a._fullLayout,g=l.getSubplotIds(f,"geo"),h=0;h<g.length;h++){var i=f[g[h]]._subplot;if("zoom"===d){var j=i.projection.scale(),k="in"===e?2*j:.5*j;i.projection.scale(k),i.zoom.scale(k),i.render()}else"reset"===d&&i.zoomReset()}}function i(a){var b,c=a._fullLayout;b=c._has("cartesian")?c._isHoriz?"y":"x":"closest";var d=!a._fullLayout.hovermode&&b;k.relayout(a,"hovermode",d)}function j(a){for(var b,c,d=a._fullLayout,e=m.list(a,null,!0),f={},g=0;g<e.length;g++)b=e[g],c=b._name,f[c+".showspikes"]="on"===d._cartesianSpikesEnabled;return f}var k=a("../../plotly"),l=a("../../plots/plots"),m=a("../../plots/cartesian/axes"),n=a("../../lib"),o=a("../../snapshot/download"),p=a("../../../build/ploticon"),q=b.exports={};q.toImage={name:"toImage",title:"Download plot as a png",icon:p.camera,click:function(a){var b="png";n.notifier("Taking snapshot - this may take a few seconds","long"),n.isIE()&&(n.notifier("IE only supports svg.  Changing format to svg.","long"),b="svg"),o(a,{format:b}).then(function(a){n.notifier("Snapshot succeeded - "+a,"long")})["catch"](function(){n.notifier("Sorry there was a problem downloading your snapshot!","long")})}},q.sendDataToCloud={name:"sendDataToCloud",title:"Save and edit plot in cloud",icon:p.disk,click:function(a){l.sendDataToCloud(a)}},q.zoom2d={name:"zoom2d",title:"Zoom",attr:"dragmode",val:"zoom",icon:p.zoombox,click:d},q.pan2d={name:"pan2d",title:"Pan",attr:"dragmode",val:"pan",icon:p.pan,click:d},q.select2d={name:"select2d",title:"Box Select",attr:"dragmode",val:"select",icon:p.selectbox,click:d},q.lasso2d={name:"lasso2d",title:"Lasso Select",attr:"dragmode",val:"lasso",icon:p.lasso,click:d},q.zoomIn2d={name:"zoomIn2d",title:"Zoom in",attr:"zoom",val:"in",icon:p.zoom_plus,click:d},q.zoomOut2d={name:"zoomOut2d",title:"Zoom out",attr:"zoom",val:"out",icon:p.zoom_minus,click:d},q.autoScale2d={name:"autoScale2d",title:"Autoscale",attr:"zoom",val:"auto",icon:p.autoscale,click:d},q.resetScale2d={name:"resetScale2d",title:"Reset axes",attr:"zoom",val:"reset",icon:p.home,click:d},q.hoverClosestCartesian={name:"hoverClosestCartesian",title:"Show closest data on hover",attr:"hovermode",val:"closest",icon:p.tooltip_basic,gravity:"ne",click:d},q.hoverCompareCartesian={name:"hoverCompareCartesian",title:"Compare data on hover",attr:"hovermode",val:function(a){return a._fullLayout._isHoriz?"y":"x"},icon:p.tooltip_compare,gravity:"ne",click:d},q.zoom3d={name:"zoom3d",title:"Zoom",attr:"scene.dragmode",val:"zoom",icon:p.zoombox,click:e},q.pan3d={name:"pan3d",title:"Pan",attr:"scene.dragmode",val:"pan",icon:p.pan,click:e},q.orbitRotation={name:"orbitRotation",title:"orbital rotation",attr:"scene.dragmode",val:"orbit",icon:p["3d_rotate"],click:e},q.tableRotation={name:"tableRotation",title:"turntable rotation",attr:"scene.dragmode",val:"turntable",icon:p["z-axis"],click:e},q.resetCameraDefault3d={name:"resetCameraDefault3d",title:"Reset camera to default",attr:"resetDefault",icon:p.home,click:f},q.resetCameraLastSave3d={name:"resetCameraLastSave3d",title:"Reset camera to last save",attr:"resetLastSave",icon:p.movie,click:f},q.hoverClosest3d={name:"hoverClosest3d",title:"Toggle show closest data on hover",attr:"hovermode",val:null,toggle:!0,icon:p.tooltip_basic,gravity:"ne",click:g},q.zoomInGeo={name:"zoomInGeo",title:"Zoom in",attr:"zoom",val:"in",icon:p.zoom_plus,click:h},q.zoomOutGeo={name:"zoomOutGeo",title:"Zoom out",attr:"zoom",val:"out",icon:p.zoom_minus,click:h},q.resetGeo={name:"resetGeo",title:"Reset",attr:"reset",val:null,icon:p.autoscale,click:h},q.hoverClosestGeo={name:"hoverClosestGeo",title:"Toggle show closest data on hover",attr:"hovermode",val:null,toggle:!0,icon:p.tooltip_basic,gravity:"ne",click:i},q.hoverClosestGl2d={name:"hoverClosestGl2d",title:"Toggle show closest data on hover",attr:"hovermode",val:null,toggle:!0,icon:p.tooltip_basic,gravity:"ne",click:i},q.hoverClosestPie={name:"hoverClosestPie",title:"Toggle show closest data on hover",attr:"hovermode",val:"closest",icon:p.tooltip_basic,gravity:"ne",click:i},q.toggleHover={name:"toggleHover",title:"Toggle show closest data on hover",attr:"hovermode",val:null,toggle:!0,icon:p.tooltip_basic,gravity:"ne",click:function(a,b){i(a),g(a,b)}},q.resetViews={name:"resetViews",title:"Reset views",icon:p.home,click:function(a,b){var c=b.currentTarget;c.setAttribute("data-attr","zoom"),c.setAttribute("data-val","reset"),d(a,b),c.setAttribute("data-attr","resetLastSave"),f(a,b)}},q.toggleSpikelines={name:"toggleSpikelines",title:"Toggle Spike Lines",icon:p.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(a){var b=a._fullLayout;b._cartesianSpikesEnabled="closest"===b.hovermode&&"on"===b._cartesianSpikesEnabled?"off":"on";var c=j(a);c.hovermode="closest",k.relayout(a,c)}}},{"../../../build/ploticon":518,"../../lib":645,"../../plotly":675,"../../plots/cartesian/axes":680,"../../plots/plots":708,"../../snapshot/download":717}],594:[function(a,b,c){"use strict";c.manage=a("./manage")},{"./manage":595}],595:[function(a,b,c){"use strict";function d(a,b,c){function d(a){for(var c=[],d=0;d<a.length;d++){var e=a[d];-1===b.indexOf(e)&&c.push(l[e])}q.push(c)}var h=a._fullLayout,i=a._fullData,j=h._has("cartesian"),k=h._has("gl3d"),m=h._has("geo"),n=h._has("pie"),o=h._has("gl2d"),p=h._has("ternary"),q=[];if(d(["toImage","sendDataToCloud"]),(j||o||n||p)+m+k>1)return d(["resetViews","toggleHover"]),g(q,c);k&&(d(["zoom3d","pan3d","orbitRotation","tableRotation"]),d(["resetCameraDefault3d","resetCameraLastSave3d"]),d(["hoverClosest3d"])),m&&(d(["zoomInGeo","zoomOutGeo","resetGeo"]),d(["hoverClosestGeo"]));var r=e(h),s=[];return((j||o)&&!r||p)&&(s=["zoom2d","pan2d"]),(j||p)&&f(i)&&(s.push("select2d"),s.push("lasso2d")),s.length&&d(s),!j&&!o||r||p||d(["zoomIn2d","zoomOut2d","autoScale2d","resetScale2d"]),j&&n?d(["toggleHover"]):o?d(["hoverClosestGl2d"]):j?d(["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]):n&&d(["hoverClosestPie"]),g(q,c)}function e(a){for(var b=i.list({_fullLayout:a},null,!0),c=!0,d=0;d<b.length;d++)if(!b[d].fixedrange){c=!1;break}return c}function f(a){for(var b=!1,c=0;c<a.length&&!b;c++){var d=a[c];d._module&&d._module.selectPoints&&("scatter"===d.type||"scatterternary"===d.type?(j.hasMarkers(d)||j.hasText(d))&&(b=!0):b=!0)}return b}function g(a,b){if(b.length)if(Array.isArray(b[0]))for(var c=0;c<b.length;c++)a.push(b[c]);else a.push(b);return a}function h(a){for(var b=0;b<a.length;b++)for(var c=a[b],d=0;d<c.length;d++){var e=c[d];if("string"==typeof e){if(void 0===l[e])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));a[b][d]=l[e]}}return a}var i=a("../../plots/cartesian/axes"),j=a("../../traces/scatter/subtypes"),k=a("./modebar"),l=a("./buttons");b.exports=function(a){var b=a._fullLayout,c=a._context,e=b._modeBar;if(!c.displayModeBar)return void(e&&(e.destroy(),delete b._modeBar));if(!Array.isArray(c.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(c.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var f,g=c.modeBarButtons;f=Array.isArray(g)&&g.length?h(g):d(a,c.modeBarButtonsToRemove,c.modeBarButtonsToAdd),e?e.update(a,f):b._modeBar=k(a,f)}},{"../../plots/cartesian/axes":680,"../../traces/scatter/subtypes":769,"./buttons":593,"./modebar":596}],596:[function(a,b,c){"use strict";function d(a){this.container=a.container,this.element=document.createElement("div"),this.update(a.graphInfo,a.buttons),this.container.appendChild(this.element)}function e(a,b){var c=a._fullLayout,e=new d({graphInfo:a,container:c._paperdiv.node(),buttons:b});return c._privateplot&&f.select(e.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),e}var f=a("d3"),g=a("../../lib"),h=a("../../../build/ploticon"),i=d.prototype;i.update=function(a,b){this.graphInfo=a;var c=this.graphInfo._context;"hover"===c.displayModeBar?this.element.className="modebar modebar--hover":this.element.className="modebar";var d=!this.hasButtons(b),e=this.hasLogo!==c.displaylogo;(d||e)&&(this.removeAllButtons(),this.updateButtons(b),c.displaylogo&&(this.element.appendChild(this.getLogo()),this.hasLogo=!0)),this.updateActiveButton()},i.updateButtons=function(a){var b=this;this.buttons=a,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(a){var c=b.createGroup();a.forEach(function(a){var d=a.name;if(!d)throw new Error("must provide button 'name' in button config");if(-1!==b.buttonsNames.indexOf(d))throw new Error("button name '"+d+"' is taken");b.buttonsNames.push(d);var e=b.createButton(a);b.buttonElements.push(e),c.appendChild(e)}),b.element.appendChild(c)})},i.createGroup=function(){var a=document.createElement("div");return a.className="modebar-group",a},i.createButton=function(a){var b=this,c=document.createElement("a");c.setAttribute("rel","tooltip"),c.className="modebar-btn";var d=a.title;void 0===d&&(d=a.name),(d||0===d)&&c.setAttribute("data-title",d),void 0!==a.attr&&c.setAttribute("data-attr",a.attr);var e=a.val;if(void 0!==e&&("function"==typeof e&&(e=e(this.graphInfo)),c.setAttribute("data-val",e)),"function"!=typeof a.click)throw new Error("must provide button 'click' function in button config");return c.addEventListener("click",function(c){a.click(b.graphInfo,c),b.updateActiveButton(c.currentTarget)}),c.setAttribute("data-toggle",a.toggle||!1),a.toggle&&f.select(c).classed("active",!0),c.appendChild(this.createIcon(a.icon||h.question,a.name)),c.setAttribute("data-gravity",a.gravity||"n"),c},i.createIcon=function(a,b){var c=a.ascent-a.descent,d="http://www.w3.org/2000/svg",e=document.createElementNS(d,"svg"),f=document.createElementNS(d,"path");e.setAttribute("height","1em"),e.setAttribute("width",a.width/c+"em"),e.setAttribute("viewBox",[0,0,a.width,c].join(" "));var g="toggleSpikelines"===b?"matrix(1.5 0 0 -1.5 0 "+a.ascent+")":"matrix(1 0 0 -1 0 "+a.ascent+")";return f.setAttribute("d",a.path),f.setAttribute("transform",g),e.appendChild(f),e},i.updateActiveButton=function(a){var b=this.graphInfo._fullLayout,c=void 0!==a?a.getAttribute("data-attr"):null;this.buttonElements.forEach(function(a){var d=a.getAttribute("data-val")||!0,e=a.getAttribute("data-attr"),h="true"===a.getAttribute("data-toggle"),i=f.select(a);if(h)e===c&&i.classed("active",!i.classed("active"));else{var j=null===e?e:g.nestedProperty(b,e).get();i.classed("active",j===d)}})},i.hasButtons=function(a){var b=this.buttons;if(!b)return!1;if(a.length!==b.length)return!1;for(var c=0;c<a.length;++c){if(a[c].length!==b[c].length)return!1;for(var d=0;d<a[c].length;d++)if(a[c][d].name!==b[c][d].name)return!1}return!0},i.getLogo=function(){var a=this.createGroup(),b=document.createElement("a");return b.href="https://plot.ly/",b.target="_blank",b.setAttribute("data-title","Produced with Plotly"),b.className="modebar-btn plotlyjsicon modebar-btn--logo",b.appendChild(this.createIcon(h.plotlylogo)),a.appendChild(b),a},i.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},i.destroy=function(){g.removeElement(this.container.querySelector(".modebar"))},b.exports=e},{"../../../build/ploticon":518,"../../lib":645,d3:256}],597:[function(a,b,c){"use strict";var d=a("../../plots/font_attributes"),e=a("../color/attributes"),f=a("../../lib/extend").extendFlat,g=a("./button_attributes");g=f(g,{_isLinkedToArray:"button",description:["Sets the specifications for each buttons.","By default, a range selector comes with no buttons."].join(" ")}),b.exports={visible:{valType:"boolean",role:"info",description:["Determines whether or not this range selector is visible.","Note that range selectors are only available for x axes of","`type` set to or auto-typed to *date*."].join(" ")},buttons:g,x:{valType:"number",min:-2,max:3,role:"style",description:"Sets the x position (in normalized coordinates) of the range selector."},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",role:"info",description:["Sets the range selector's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,role:"style",description:"Sets the y position (in normalized coordinates) of the range selector."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",role:"info",description:["Sets the range selector's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},font:f({},d,{description:"Sets the font of the range selector button text."}),bgcolor:{valType:"color",dflt:e.lightLine,role:"style",description:"Sets the background color of the range selector buttons."},activecolor:{valType:"color",role:"style",description:"Sets the background color of the active range selector button."},bordercolor:{valType:"color",dflt:e.defaultLine,role:"style",description:"Sets the color of the border enclosing the range selector."},borderwidth:{valType:"number",min:0,dflt:0,role:"style",description:"Sets the width (in px) of the border enclosing the range selector."}}},{"../../lib/extend":641,"../../plots/font_attributes":704,"../color/attributes":533,"./button_attributes":598}],598:[function(a,b,c){"use strict";b.exports={step:{valType:"enumerated",role:"info",values:["month","year","day","hour","minute","second","all"],dflt:"month",description:["The unit of measurement that the `count` value will set the range by."].join(" ")},stepmode:{valType:"enumerated",role:"info",values:["backward","todate"],dflt:"backward",description:["Sets the range update mode.","If *backward*, the range update shifts the start of range","back *count* times *step* milliseconds.","If *todate*, the range update shifts the start of range","back to the first timestamp from *count* times","*step* milliseconds back.","For example, with `step` set to *year* and `count` set to *1*","the range update shifts the start of the range back to","January 01 of the current year.","Month and year *todate* are currently available only","for the built-in (Gregorian) calendar."].join(" ")},count:{valType:"number",role:"info",min:0,dflt:1,description:["Sets the number of steps to take to update the range.","Use with `step` to specify the update interval."].join(" ")},label:{valType:"string",role:"info",description:"Sets the text label to appear on the button."}}},{}],599:[function(a,b,c){"use strict";b.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},{}],600:[function(a,b,c){"use strict";function d(a,b,c){function d(a,b){return f.coerce(e,g,i,a,b)}for(var e,g,h=a.buttons||[],j=b.buttons=[],k=0;k<h.length;k++)if(e=h[k],g={},f.isPlainObject(e)){var l=d("step");"all"!==l&&(!c||"gregorian"===c||"month"!==l&&"year"!==l?d("stepmode"):g.stepmode="backward",d("count")),d("label"),g._index=k,j.push(g)}return j}function e(a,b,c){for(var d=c.filter(function(c){return b[c].anchor===a._id}),e=0,f=0;f<d.length;f++){var g=b[d[f]].domain;g&&(e=Math.max(g[1],e))}return[a.domain[0],e+j.yPad]}var f=a("../../lib"),g=a("../color"),h=a("./attributes"),i=a("./button_attributes"),j=a("./constants");b.exports=function(a,b,c,i,k){function l(a,b){return f.coerce(m,n,h,a,b)}var m=a.rangeselector||{},n=b.rangeselector={};if(l("visible",d(m,n,k).length>0)){var o=e(b,c,i);l("x",o[0]),l("y",o[1]),f.noneOrAll(a,b,["x","y"]),l("xanchor"),l("yanchor"),f.coerceFont(l,"font",c.font);var p=l("bgcolor");l("activecolor",g.contrast(p,j.lightAmount,j.darkAmount)),l("bordercolor"),l("borderwidth")}}},{"../../lib":645,"../color":534,"./attributes":597,"./button_attributes":598,"./constants":599}],601:[function(a,b,c){"use strict";function d(a){for(var b=r.list(a,"x",!0),c=[],d=0;d<b.length;d++){var e=b[d];e.rangeselector&&e.rangeselector.visible&&c.push(e)}return c}function e(a){return a._id}function f(a,b,c){if("all"===b.step)return!0===a.autorange;var d=Object.keys(c);return a.range[0]===c[d[0]]&&a.range[1]===c[d[1]]}function g(a,b,c){var d=a.selectAll("rect").data([0]);d.enter().append("rect").classed("selector-rect",!0),d.attr("shape-rendering","crispEdges"),d.attr({rx:t.rx,ry:t.ry}),d.call(o.stroke,b.bordercolor).call(o.fill,h(b,c)).style("stroke-width",b.borderwidth+"px")}function h(a,b){return b.isActive||b.isHovered?a.activecolor:a.bgcolor}function i(a,b,c){function d(a){q.convertToTspans(a)}var e=a.selectAll("text").data([0]);e.enter().append("text").classed("selector-text",!0).classed("user-select-none",!0),e.attr("text-anchor","middle"),e.call(p.font,b.font).text(j(c)).call(d)}function j(a){return a.label?a.label:"all"===a.step?"all":a.count+a.step.charAt(0)}function k(a,b,c,d){c.width=0,c.height=0;var e=c.borderwidth;b.each(function(){var a=l.select(this),b=a.select(".selector-text"),d=b.selectAll("tspan"),e=1.3*c.font.size,f=d[0].length||1,g=Math.max(e*f,16)+3;c.height=Math.max(c.height,g)}),b.each(function(){var a=l.select(this),b=a.select(".selector-rect"),d=a.select(".selector-text"),f=d.selectAll("tspan"),g=d.node()&&p.bBox(d.node()).width,h=1.3*c.font.size,i=f[0].length||1,j=Math.max(g+10,t.minButtonWidth);a.attr("transform","translate("+(e+c.width)+","+e+")"),b.attr({x:0,y:0,width:j,height:c.height});var k={x:j/2,y:c.height/2-(i-1)*h/2+3};d.attr(k),f.attr(k),c.width+=j+5}),b.selectAll("rect").attr("height",c.height);var f=a._fullLayout._size;c.lx=f.l+f.w*c.x,c.ly=f.t+f.h*(1-c.y);var g="left";s.isRightAnchor(c)&&(c.lx-=c.width,g="right"),s.isCenterAnchor(c)&&(c.lx-=c.width/2,g="center");var h="top";s.isBottomAnchor(c)&&(c.ly-=c.height,h="bottom"),s.isMiddleAnchor(c)&&(c.ly-=c.height/2,h="middle"),c.width=Math.ceil(c.width),c.height=Math.ceil(c.height),c.lx=Math.round(c.lx),c.ly=Math.round(c.ly),n.autoMargin(a,d+"-range-selector",{x:c.x,y:c.y,l:c.width*({right:1,center:.5}[g]||0),r:c.width*({left:1,center:.5}[g]||0),b:c.height*({top:1,middle:.5}[h]||0),t:c.height*({bottom:1,middle:.5}[h]||0)})}var l=a("d3"),m=a("../../plotly"),n=a("../../plots/plots"),o=a("../color"),p=a("../drawing"),q=a("../../lib/svg_text_utils"),r=a("../../plots/cartesian/axis_ids"),s=a("../legend/anchor_utils"),t=a("./constants"),u=a("./get_update_object");b.exports=function(a){var b=a._fullLayout,c=b._infolayer.selectAll(".rangeselector").data(d(a),e);c.enter().append("g").classed("rangeselector",!0),c.exit().remove(),c.style({cursor:"pointer","pointer-events":"all"}),c.each(function(b){var c=l.select(this),d=b,e=d.rangeselector,h=c.selectAll("g.button").data(e.buttons);h.enter().append("g").classed("button",!0),h.exit().remove(),h.each(function(b){var c=l.select(this),h=u(d,b);b.isActive=f(d,b,h),c.call(g,e,b),c.call(i,e,b),c.on("click",function(){a._dragged||m.relayout(a,h)}),c.on("mouseover",function(){b.isHovered=!0,c.call(g,e,b)}),c.on("mouseout",function(){b.isHovered=!1,c.call(g,e,b)})}),k(a,h,e,d._name),c.attr("transform","translate("+e.lx+","+e.ly+")")})}},{"../../lib/svg_text_utils":662,"../../plotly":675,"../../plots/cartesian/axis_ids":683,"../../plots/plots":708,"../color":534,"../drawing":558,"../legend/anchor_utils":584,"./constants":599,"./get_update_object":602,d3:256}],602:[function(a,b,c){"use strict";function d(a,b){var c,d=a.range,f=new Date(a.r2l(d[1])),g=b.step,h=b.count;switch(b.stepmode){case"backward":c=a.l2r(+e.time[g].utc.offset(f,-h));break;case"todate":var i=e.time[g].utc.offset(f,-h);c=a.l2r(+e.time[g].utc.ceil(i))}return[c,d[1]]}var e=a("d3");b.exports=function(a,b){var c=a._name,e={};if("all"===b.step)e[c+".autorange"]=!0;else{var f=d(a,b);e[c+".range[0]"]=f[0],e[c+".range[1]"]=f[1]}return e}},{d3:256}],603:[function(a,b,c){"use strict";b.exports={moduleType:"component",name:"rangeselector",schema:{layout:{"xaxis.rangeselector":a("./attributes")}},layoutAttributes:a("./attributes"),handleDefaults:a("./defaults"),draw:a("./draw")}},{"./attributes":597,"./defaults":600,"./draw":601}],604:[function(a,b,c){"use strict";var d=a("../color/attributes");b.exports={bgcolor:{valType:"color",dflt:d.background,role:"style",description:"Sets the background color of the range slider."},bordercolor:{valType:"color",dflt:d.defaultLine,role:"style",description:"Sets the border color of the range slider."},borderwidth:{valType:"integer",dflt:0,min:0,role:"style",description:"Sets the border color of the range slider."},autorange:{valType:"boolean",dflt:!0,role:"style",description:["Determines whether or not the range slider range is","computed in relation to the input data.","If `range` is provided, then `autorange` is set to *false*."].join(" ")},range:{valType:"info_array",role:"info",items:[{valType:"any"},{valType:"any"}],description:["Sets the range of the range slider.","If not set, defaults to the full xaxis range.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},thickness:{valType:"number",dflt:.15,min:0,max:1,role:"style",description:["The height of the range slider as a fraction of the","total plot area height."].join(" ")},visible:{valType:"boolean",dflt:!0,role:"info",description:["Determines whether or not the range slider will be visible.","If visible, perpendicular axes will be set to `fixedrange`"].join(" ")}}},{"../color/attributes":533}],605:[function(a,b,c){"use strict";var d=a("../../plots/cartesian/axes"),e=a("./constants");b.exports=function(a){for(var b=d.list(a,"x",!0),c=0;c<b.length;c++){var f=b[c],g=f[e.name];g&&g.visible&&g.autorange&&f._min.length&&f._max.length&&(g._input.autorange=!0,g._input.range=g.range=d.getAutoRange(f))}}},{"../../plots/cartesian/axes":680,"./constants":606}],606:[function(a,b,c){"use strict";b.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskColor:"rgba(0,0,0,0.4)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},{}],607:[function(a,b,c){"use strict";var d=a("../../lib"),e=a("./attributes");b.exports=function(a,b,c){function f(a,b){return d.coerce(g,i,e,a,b)}if(a[c].rangeslider){d.isPlainObject(a[c].rangeslider)||(a[c].rangeslider={});var g=a[c].rangeslider,h=b[c],i=h.rangeslider={};if(f("visible")){if(f("bgcolor",b.plot_bgcolor),f("bordercolor"),f("borderwidth"),f("thickness"),f("autorange",!h.isValidRange(g.range)),f("range"),i.range){var j=i.range,k=h.range;j[0]=h.l2r(Math.min(h.r2l(j[0]),h.r2l(k[0]))),j[1]=h.l2r(Math.max(h.r2l(j[1]),h.r2l(k[1])))}h.cleanRange("rangeslider.range"),i._input=g}}}},{"../../lib":645,"./attributes":604}],608:[function(a,b,c){"use strict";function d(a){var b=w.list({_fullLayout:a},"x",!0),c=z.name,d=[];if(a._has("gl2d"))return d;for(var e=0;e<b.length;e++){var f=b[e];f[c]&&f[c].visible&&d.push(f)}return d}function e(a,b,c,d){var e=a.select("rect."+z.slideBoxClassName).node(),g=a.select("rect."+z.grabAreaMinClassName).node(),h=a.select("rect."+z.grabAreaMaxClassName).node();a.on("mousedown",function(){function i(i){var j,k,s,t=+i.clientX-m;switch(l){case e:s="ew-resize",j=o+t,k=q+t;break;case g:s="col-resize",j=o+t,k=q;break;case h:s="col-resize",j=o,k=q+t;break;default:s="ew-resize",j=n,k=n+t}if(j>k){var u=k;k=j,j=u}d._pixelMin=j,d._pixelMax=k,y(p.select(r),s),f(a,b,c,d)}function j(){r.removeEventListener("mousemove",i),r.removeEventListener("mouseup",j),s.removeElement(r)}var k=p.event,l=k.target,m=k.clientX,n=m-a.node().getBoundingClientRect().left,o=d.d2p(c._rl[0]),q=d.d2p(c._rl[1]),r=x.coverSlip();r.addEventListener("mousemove",i),r.addEventListener("mouseup",j)})}function f(a,b,c,d){function e(a){return c.l2r(s.constrain(a,d._rl[0],d._rl[1]))}var f=e(d.p2d(d._pixelMin)),g=e(d.p2d(d._pixelMax));window.requestAnimationFrame(function(){q.relayout(b,c._name+".range",[f,g])})}function g(a,b,c,d){function e(a){return s.constrain(a,0,d._width)}function f(a){return s.constrain(a,-g,d._width+g)}var g=z.handleWidth/2,h=e(d.d2p(c._rl[0])),i=e(d.d2p(c._rl[1]));a.select("rect."+z.slideBoxClassName).attr("x",h).attr("width",i-h),a.select("rect."+z.maskMinClassName).attr("width",h),a.select("rect."+z.maskMaxClassName).attr("x",i).attr("width",d._width-i);var j=Math.round(f(h-g))-.5,k=Math.round(f(i-g))+.5;a.select("g."+z.grabberMinClassName).attr("transform","translate("+j+",0.5)"),a.select("g."+z.grabberMaxClassName).attr("transform","translate("+k+",0.5)")}function h(a,b,c,d){var e=a.selectAll("rect."+z.bgClassName).data([0]);e.enter().append("rect").classed(z.bgClassName,!0).attr({x:0,y:0,"shape-rendering":"crispEdges"});var f=d.borderwidth%2==0?d.borderwidth:d.borderwidth-1,g=-d._offsetShift,h=t.crispRound(b,d.borderwidth);e.attr({width:d._width+f,height:d._height+f,transform:"translate("+g+","+g+")",fill:d.bgcolor,stroke:d.bordercolor,"stroke-width":h})}function i(a,b,c,d){var e=b._fullLayout,f=e._topdefs.selectAll("#"+d._clipId).data([0]);f.enter().append("clipPath").attr("id",d._clipId).append("rect").attr({x:0,y:0}),f.select("rect").attr({width:d._width,height:d._height})}function j(a,b,c,d){var e=w.getSubplots(b,c),f=b.calcdata,g=a.selectAll("g."+z.rangePlotClassName).data(e,s.identity);g.enter().append("g").attr("class",function(a){return z.rangePlotClassName+" "+a}).call(t.setClipUrl,d._clipId),g.order(),g.exit().remove();var h;g.each(function(a,e){var g=p.select(this),i=0===e,j=w.getFromId(b,a,"y"),l=j._name,m={data:[],layout:{xaxis:{type:c.type,domain:[0,1],range:d.range.slice(),calendar:c.calendar},width:d._width,height:d._height,margin:{t:0,b:0,l:0,r:0}}};m.layout[l]={type:j.type,domain:[0,1],range:j.range.slice(),calendar:j.calendar},r.supplyDefaults(m);var n=m._fullLayout.xaxis,o=m._fullLayout[l],q={id:a,plotgroup:g,xaxis:n,yaxis:o};i?h=q:(q.mainplot="xy",q.mainplotinfo=h),v.rangePlot(b,q,k(f,a))})}function k(a,b){for(var c=[],d=0;d<a.length;d++){var e=a[d],f=e[0].trace;f.xaxis+f.yaxis===b&&c.push(e)}return c}function l(a,b,c,d){var e=a.selectAll("rect."+z.maskMinClassName).data([0]);e.enter().append("rect").classed(z.maskMinClassName,!0).attr({x:0,y:0}).attr("shape-rendering","crispEdges"),e.attr("height",d._height).call(u.fill,z.maskColor);var f=a.selectAll("rect."+z.maskMaxClassName).data([0]);f.enter().append("rect").classed(z.maskMaxClassName,!0).attr("y",0).attr("shape-rendering","crispEdges"),f.attr("height",d._height).call(u.fill,z.maskColor)}function m(a,b,c,d){if(!b._context.staticPlot){var e=a.selectAll("rect."+z.slideBoxClassName).data([0]);e.enter().append("rect").classed(z.slideBoxClassName,!0).attr("y",0).attr("cursor",z.slideBoxCursor).attr("shape-rendering","crispEdges"),e.attr({height:d._height,fill:z.slideBoxFill})}}function n(a,b,c,d){var e=a.selectAll("g."+z.grabberMinClassName).data([0]);e.enter().append("g").classed(z.grabberMinClassName,!0);var f=a.selectAll("g."+z.grabberMaxClassName).data([0]);f.enter().append("g").classed(z.grabberMaxClassName,!0);var g={x:0,width:z.handleWidth,rx:z.handleRadius,fill:u.background,stroke:u.defaultLine,"stroke-width":z.handleStrokeWidth,"shape-rendering":"crispEdges"},h={y:Math.round(d._height/4),height:Math.round(d._height/2)},i=e.selectAll("rect."+z.handleMinClassName).data([0]);i.enter().append("rect").classed(z.handleMinClassName,!0).attr(g),i.attr(h);var j=f.selectAll("rect."+z.handleMaxClassName).data([0]);if(j.enter().append("rect").classed(z.handleMaxClassName,!0).attr(g),j.attr(h),!b._context.staticPlot){var k={width:z.grabAreaWidth,x:0,y:0,fill:z.grabAreaFill,cursor:z.grabAreaCursor},l=e.selectAll("rect."+z.grabAreaMinClassName).data([0]);l.enter().append("rect").classed(z.grabAreaMinClassName,!0).attr(k),l.attr("height",d._height);var m=f.selectAll("rect."+z.grabAreaMaxClassName).data([0]);m.enter().append("rect").classed(z.grabAreaMaxClassName,!0).attr(k),
m.attr("height",d._height)}}function o(a){for(var b=a._fullLayout._pushmargin||{},c=Object.keys(b),d=0;d<c.length;d++){var e=c[d];-1!==e.indexOf(z.name)&&r.autoMargin(a,e)}}var p=a("d3"),q=a("../../plotly"),r=a("../../plots/plots"),s=a("../../lib"),t=a("../drawing"),u=a("../color"),v=a("../../plots/cartesian"),w=a("../../plots/cartesian/axes"),x=a("../dragelement"),y=a("../../lib/setcursor"),z=a("./constants");b.exports=function(a){function b(a){return a._name}var c=a._fullLayout,f=d(c),k=c._infolayer.selectAll("g."+z.containerClassName).data(f,b);k.enter().append("g").classed(z.containerClassName,!0).attr("pointer-events","all"),k.exit().each(function(a){var b=p.select(this),d=a[z.name];b.remove(),c._topdefs.select("#"+d._clipId).remove()}),k.exit().size()&&o(a),0!==f.length&&k.each(function(b){var d=p.select(this),f=b[z.name],k=c[w.id2name(b.anchor)],o=c.margin,q=c._size,s=b.domain,t=k.domain,u=(b._boundingBox||{}).height||0;f._id=z.name+b._id,f._clipId=f._id+"-"+c._uid,f._width=q.w*(s[1]-s[0]),f._height=(c.height-o.b-o.t)*f.thickness,f._offsetShift=Math.floor(f.borderwidth/2);var v=Math.round(o.l+q.w*s[0]),x=Math.round(o.t+q.h*(1-t[0])+u+f._offsetShift+z.extraPad);d.attr("transform","translate("+v+","+x+")");var y=b.r2l(f.range[0]),A=b.r2l(f.range[1]),B=A-y;f.p2d=function(a){return a/f._width*B+y},f.d2p=function(a){return(a-y)/B*f._width},f._rl=[y,A],d.call(h,a,b,f).call(i,a,b,f).call(j,a,b,f).call(l,a,b,f).call(m,a,b,f).call(n,a,b,f),e(d,a,b,f),g(d,a,b,f),r.autoMargin(a,f._id,{x:s[0],y:t[0],l:0,r:0,t:0,b:f._height+o.b+u,pad:z.extraPad+2*f._offsetShift})})}},{"../../lib":645,"../../lib/setcursor":660,"../../plotly":675,"../../plots/cartesian":690,"../../plots/cartesian/axes":680,"../../plots/plots":708,"../color":534,"../dragelement":555,"../drawing":558,"./constants":606,d3:256}],609:[function(a,b,c){"use strict";b.exports={moduleType:"component",name:"rangeslider",schema:{layout:{"xaxis.rangeslider":a("./attributes")}},layoutAttributes:a("./attributes"),handleDefaults:a("./defaults"),calcAutorange:a("./calc_autorange"),draw:a("./draw")}},{"./attributes":604,"./calc_autorange":605,"./defaults":607,"./draw":608}],610:[function(a,b,c){"use strict";var d=a("../annotations/attributes"),e=a("../../traces/scatter/attributes").line,f=a("../drawing/attributes").dash,g=a("../../lib/extend").extendFlat;b.exports={_isLinkedToArray:"shape",visible:{valType:"boolean",role:"info",dflt:!0,description:["Determines whether or not this shape is visible."].join(" ")},type:{valType:"enumerated",values:["circle","rect","path","line"],role:"info",description:["Specifies the shape type to be drawn.","If *line*, a line is drawn from (`x0`,`y0`) to (`x1`,`y1`)","If *circle*, a circle is drawn from","((`x0`+`x1`)/2, (`y0`+`y1`)/2))","with radius","(|(`x0`+`x1`)/2 - `x0`|, |(`y0`+`y1`)/2 -`y0`)|)","If *rect*, a rectangle is drawn linking","(`x0`,`y0`), (`x1`,`y0`), (`x1`,`y1`), (`x0`,`y1`), (`x0`,`y0`)","If *path*, draw a custom SVG path using `path`."].join(" ")},layer:{valType:"enumerated",values:["below","above"],dflt:"above",role:"info",description:"Specifies whether shapes are drawn below or above traces."},xref:g({},d.xref,{description:["Sets the shape's x coordinate axis.","If set to an x axis id (e.g. *x* or *x2*), the `x` position","refers to an x coordinate","If set to *paper*, the `x` position refers to the distance from","the left side of the plotting area in normalized coordinates","where *0* (*1*) corresponds to the left (right) side.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, then you must convert","the date to unix time in milliseconds."].join(" ")}),x0:{valType:"any",role:"info",description:["Sets the shape's starting x position.","See `type` for more info."].join(" ")},x1:{valType:"any",role:"info",description:["Sets the shape's end x position.","See `type` for more info."].join(" ")},yref:g({},d.yref,{description:["Sets the annotation's y coordinate axis.","If set to an y axis id (e.g. *y* or *y2*), the `y` position","refers to an y coordinate","If set to *paper*, the `y` position refers to the distance from","the bottom of the plotting area in normalized coordinates","where *0* (*1*) corresponds to the bottom (top)."].join(" ")}),y0:{valType:"any",role:"info",description:["Sets the shape's starting y position.","See `type` for more info."].join(" ")},y1:{valType:"any",role:"info",description:["Sets the shape's end y position.","See `type` for more info."].join(" ")},path:{valType:"string",role:"info",description:["For `type` *path* - a valid SVG path but with the pixel values","replaced by data values. There are a few restrictions / quirks","only absolute instructions, not relative. So the allowed segments","are: M, L, H, V, Q, C, T, S, and Z","arcs (A) are not allowed because radius rx and ry are relative.","In the future we could consider supporting relative commands,","but we would have to decide on how to handle date and log axes.","Note that even as is, Q and C Bezier paths that are smooth on","linear axes may not be smooth on log, and vice versa.",'no chained "polybezier" commands - specify the segment type for',"each one.","On category axes, values are numbers scaled to the serial numbers","of categories because using the categories themselves there would","be no way to describe fractional positions","On data axes: because space and T are both normal components of path","strings, we can't use either to separate date from time parts.","Therefore we'll use underscore for this purpose:","2015-02-21_13:45:56.789"].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,role:"info",description:"Sets the opacity of the shape."},line:{color:e.color,width:e.width,dash:f,role:"info"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",role:"info",description:["Sets the color filling the shape's interior."].join(" ")}}},{"../../lib/extend":641,"../../traces/scatter/attributes":749,"../annotations/attributes":525,"../drawing/attributes":557}],611:[function(a,b,c){"use strict";function d(a,b,c,d,e){var f="category"===a.type?Number:a.d2c;if(void 0!==b)return[f(b),f(c)];if(d){var i,j,k,l,m,n=1/0,o=-1/0,p=d.match(g.segmentRE);for("date"===a.type&&(f=h.decodeDate(f)),i=0;i<p.length;i++)j=p[i],void 0!==(k=e[j.charAt(0)].drawn)&&(!(l=p[i].substr(1).match(g.paramRE))||l.length<k||(m=f(l[k]),n>m&&(n=m),m>o&&(o=m)));return o>=n?[n,o]:void 0}}var e=a("../../lib"),f=a("../../plots/cartesian/axes"),g=a("./constants"),h=a("./helpers");b.exports=function(a){var b=a._fullLayout,c=e.filterVisible(b.shapes);if(c.length&&a._fullData.length)for(var h=0;h<c.length;h++){var i,j,k=c[h],l=k.line.width/2;"paper"!==k.xref&&(i=f.getFromId(a,k.xref),(j=d(i,k.x0,k.x1,k.path,g.paramIsX))&&f.expand(i,j,{ppad:l})),"paper"!==k.yref&&(i=f.getFromId(a,k.yref),(j=d(i,k.y0,k.y1,k.path,g.paramIsY))&&f.expand(i,j,{ppad:l}))}}},{"../../lib":645,"../../plots/cartesian/axes":680,"./constants":612,"./helpers":615}],612:[function(a,b,c){"use strict";b.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},{}],613:[function(a,b,c){"use strict";var d=a("../../plots/array_container_defaults"),e=a("./shape_defaults");b.exports=function(a,b){d(a,b,{name:"shapes",handleItemDefaults:e})}},{"../../plots/array_container_defaults":677,"./shape_defaults":617}],614:[function(a,b,c){"use strict";function d(a){var b=a._fullLayout;b._shapeUpperLayer.selectAll("path").remove(),b._shapeLowerLayer.selectAll("path").remove(),b._shapeSubplotLayers.selectAll("path").remove();for(var c=0;c<b.shapes.length;c++)b.shapes[c].visible&&e(a,c)}function e(a,b){function c(c){var d={"data-index":b,"fill-rule":"evenodd",d:g(a,e)},h=e.line.width?e.line.color:"rgba(0,0,0,0)",i=c.append("path").attr(d).style("opacity",e.opacity).call(m.stroke,h).call(m.fill,e.fillcolor).call(n.dashLine,e.line.dash,e.line.width),j=(e.xref+e.yref).replace(/paper/g,"");i.call(n.setClipUrl,j?"clip"+a._fullLayout._uid+j:null),a._context.editable&&f(a,i,e,b)}a._fullLayout._paper.selectAll('.shapelayer [data-index="'+b+'"]').remove();var d=(a.layout.shapes||[])[b],e=a._fullLayout.shapes[b];if(d&&!1!==e.visible)if("below"!==e.layer)c(a._fullLayout._shapeUpperLayer);else if("paper"===e.xref||"paper"===e.yref)c(a._fullLayout._shapeLowerLayer);else{var h=a._fullLayout._plots[e.xref+e.yref];if(h){var i=h.mainplot||h;c(i.shapelayer)}else c(a._fullLayout._shapeLowerLayer)}}function f(a,b,c,d){function e(a){var c=X.right-X.left,d=X.bottom-X.top,e=a.clientX-X.left,f=a.clientY-X.top,g=c>U&&d>V&&!a.shiftKey?o.getCursor(e/c,1-f/d):"move";p(b,g),T=g.split("-")[0]}function f(b){N=l.getFromId(a,c.xref),O=l.getFromId(a,c.yref),P=r.getDataToPixel(a,N),Q=r.getDataToPixel(a,O,!0),R=r.getPixelToData(a,N),S=r.getPixelToData(a,O,!0);var f="shapes["+d+"]";"path"===c.type?(L=c.path,M=f+".path"):(q=P(c.x0),s=Q(c.y0),t=P(c.x1),u=Q(c.y1),v=f+".x0",w=f+".y0",x=f+".x1",y=f+".y1"),t>q?(B=q,F=f+".x0",J="x0",C=t,G=f+".x1",K="x1"):(B=t,F=f+".x1",J="x1",C=q,G=f+".x0",K="x0"),u>s?(z=s,D=f+".y0",H="y0",A=u,E=f+".y1",I="y1"):(z=u,D=f+".y1",H="y1",A=s,E=f+".y0",I="y0"),n={},e(b),W.moveFn="move"===T?k:m}function h(c){p(b),c&&j.relayout(a,n)}function k(d,e){if("path"===c.type){var f=function(a){return R(P(a)+d)};N&&"date"===N.type&&(f=r.encodeDate(f));var h=function(a){return S(Q(a)+e)};O&&"date"===O.type&&(h=r.encodeDate(h)),c.path=i(L,f,h),n[M]=c.path}else n[v]=c.x0=R(q+d),n[w]=c.y0=S(s+e),n[x]=c.x1=R(t+d),n[y]=c.y1=S(u+e);b.attr("d",g(a,c))}function m(d,e){if("path"===c.type){var f=function(a){return R(P(a)+d)};N&&"date"===N.type&&(f=r.encodeDate(f));var h=function(a){return S(Q(a)+e)};O&&"date"===O.type&&(h=r.encodeDate(h)),c.path=i(L,f,h),n[M]=c.path}else{var j=~T.indexOf("n")?z+e:z,k=~T.indexOf("s")?A+e:A,l=~T.indexOf("w")?B+d:B,m=~T.indexOf("e")?C+d:C;k-j>V&&(n[D]=c[H]=S(j),n[E]=c[I]=S(k)),m-l>U&&(n[F]=c[J]=R(l),n[G]=c[K]=R(m))}b.attr("d",g(a,c))}var n,q,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U=10,V=10,W={setCursor:e,element:b.node(),prepFn:f,doneFn:h},X=W.element.getBoundingClientRect();o.init(W)}function g(a,b){var c,d,e,f,g=b.type,i=l.getFromId(a,b.xref),j=l.getFromId(a,b.yref),k=a._fullLayout._size;if(i?(c=r.shapePositionToRange(i),d=function(a){return i._offset+i.r2p(c(a,!0))}):d=function(a){return k.l+k.w*a},j?(e=r.shapePositionToRange(j),f=function(a){return j._offset+j.r2p(e(a,!0))}):f=function(a){return k.t+k.h*(1-a)},"path"===g)return i&&"date"===i.type&&(d=r.decodeDate(d)),j&&"date"===j.type&&(f=r.decodeDate(f)),h(b.path,d,f);var m=d(b.x0),n=d(b.x1),o=f(b.y0),p=f(b.y1);if("line"===g)return"M"+m+","+o+"L"+n+","+p;if("rect"===g)return"M"+m+","+o+"H"+n+"V"+p+"H"+m+"Z";var q=(m+n)/2,s=(o+p)/2,t=Math.abs(q-m),u=Math.abs(s-o),v="A"+t+","+u,w=q+t+","+s;return"M"+w+v+" 0 1,1 "+q+","+(s-u)+v+" 0 0,1 "+w+"Z"}function h(a,b,c){return a.replace(q.segmentRE,function(a){var d=0,e=a.charAt(0),f=q.paramIsX[e],g=q.paramIsY[e],h=q.numParams[e],i=a.substr(1).replace(q.paramRE,function(a){return f[d]?a=b(a):g[d]&&(a=c(a)),d++,d>h&&(a="X"),a});return d>h&&(i=i.replace(/[\s,]*X.*/,""),k.log("Ignoring extra params in segment "+a)),e+i})}function i(a,b,c){return a.replace(q.segmentRE,function(a){var d=0,e=a.charAt(0),f=q.paramIsX[e],g=q.paramIsY[e],h=q.numParams[e];return e+a.substr(1).replace(q.paramRE,function(a){return d>=h?a:(f[d]?a=b(a):g[d]&&(a=c(a)),d++,a)})})}var j=a("../../plotly"),k=a("../../lib"),l=a("../../plots/cartesian/axes"),m=a("../color"),n=a("../drawing"),o=a("../dragelement"),p=a("../../lib/setcursor"),q=a("./constants"),r=a("./helpers");b.exports={draw:d,drawOne:e}},{"../../lib":645,"../../lib/setcursor":660,"../../plotly":675,"../../plots/cartesian/axes":680,"../color":534,"../dragelement":555,"../drawing":558,"./constants":612,"./helpers":615}],615:[function(a,b,c){"use strict";c.rangeToShapePosition=function(a){return"log"===a.type?a.r2d:function(a){return a}},c.shapePositionToRange=function(a){return"log"===a.type?a.d2r:function(a){return a}},c.decodeDate=function(a){return function(b){return b.replace&&(b=b.replace("_"," ")),a(b)}},c.encodeDate=function(a){return function(b){return a(b).replace(" ","_")}},c.getDataToPixel=function(a,b,d){var e,f=a._fullLayout._size;if(b){var g=c.shapePositionToRange(b);e=function(a){return b._offset+b.r2p(g(a,!0))},"date"===b.type&&(e=c.decodeDate(e))}else e=d?function(a){return f.t+f.h*(1-a)}:function(a){return f.l+f.w*a};return e},c.getPixelToData=function(a,b,d){var e,f=a._fullLayout._size;if(b){var g=c.rangeToShapePosition(b);e=function(a){return g(b.p2r(a-b._offset))}}else e=d?function(a){return 1-(a-f.t)/f.h}:function(a){return(a-f.l)/f.w};return e}},{}],616:[function(a,b,c){"use strict";var d=a("./draw");b.exports={moduleType:"component",name:"shapes",layoutAttributes:a("./attributes"),supplyLayoutDefaults:a("./defaults"),calcAutorange:a("./calc_autorange"),draw:d.draw,drawOne:d.drawOne}},{"./attributes":610,"./calc_autorange":611,"./defaults":613,"./draw":614}],617:[function(a,b,c){"use strict";var d=a("../../lib"),e=a("../../plots/cartesian/axes"),f=a("./attributes"),g=a("./helpers");b.exports=function(a,b,c,h,i){function j(c,e){return d.coerce(a,b,f,c,e)}if(h=h||{},i=i||{},!j("visible",!i.itemIsNotPlainObject))return b;j("layer"),j("opacity"),j("fillcolor"),j("line.color"),j("line.width"),j("line.dash");for(var k=a.path?"path":"rect",l=j("type",k),m=["x","y"],n=0;2>n;n++){var o=m[n],p={_fullLayout:c},q=e.coerceRef(a,b,p,o,"","paper");if("path"!==l){var r,s,t;"paper"!==q?(r=e.getFromId(p,q),t=g.rangeToShapePosition(r),s=g.shapePositionToRange(r)):s=t=d.identity;var u=o+"0",v=o+"1",w=a[u],x=a[v];a[u]=s(a[u],!0),a[v]=s(a[v],!0),e.coercePosition(b,p,j,q,u,.25),e.coercePosition(b,p,j,q,v,.75),b[u]=t(b[u]),b[v]=t(b[v]),a[u]=w,a[v]=x}}return"path"===l?j("path"):d.noneOrAll(a,b,["x0","x1","y0","y1"]),b}},{"../../lib":645,"../../plots/cartesian/axes":680,"./attributes":610,"./helpers":615}],618:[function(a,b,c){"use strict";var d=a("../../plots/font_attributes"),e=a("../../plots/pad_attributes"),f=a("../../lib/extend").extendFlat,g=a("../../lib/extend").extendDeep,h=a("../../plots/animation_attributes"),i=a("./constants"),j={_isLinkedToArray:"step",method:{valType:"enumerated",values:["restyle","relayout","animate","update"],dflt:"restyle",role:"info",description:["Sets the Plotly method to be called when the slider value is changed."].join(" ")},args:{valType:"info_array",role:"info",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}],description:["Sets the arguments values to be passed to the Plotly","method set in `method` on slide."].join(" ")},label:{valType:"string",role:"info",description:"Sets the text label to appear on the slider"},value:{valType:"string",role:"info",description:["Sets the value of the slider step, used to refer to the step programatically.","Defaults to the slider label if not provided."].join(" ")}};b.exports={_isLinkedToArray:"slider",visible:{valType:"boolean",role:"info",dflt:!0,description:["Determines whether or not the slider is visible."].join(" ")},active:{valType:"number",role:"info",min:0,dflt:0,description:["Determines which button (by index starting from 0) is","considered active."].join(" ")},steps:j,lenmode:{valType:"enumerated",values:["fraction","pixels"],role:"info",dflt:"fraction",description:["Determines whether this slider length","is set in units of plot *fraction* or in *pixels.","Use `len` to set the value."].join(" ")},len:{valType:"number",min:0,dflt:1,role:"style",description:["Sets the length of the slider","This measure excludes the padding of both ends.","That is, the slider's length is this length minus the","padding on both ends."].join(" ")},x:{valType:"number",min:-2,max:3,dflt:0,role:"style",description:"Sets the x position (in normalized coordinates) of the slider."},pad:g({},e,{description:"Set the padding of the slider component along each side."},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",role:"info",description:["Sets the slider's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,dflt:0,role:"style",description:"Sets the y position (in normalized coordinates) of the slider."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top",role:"info",description:["Sets the slider's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},transition:{duration:{valType:"number",role:"info",min:0,dflt:150,description:"Sets the duration of the slider transition"},easing:{valType:"enumerated",values:h.transition.easing.values,role:"info",dflt:"cubic-in-out",description:"Sets the easing function of the slider transition"}},currentvalue:{visible:{valType:"boolean",role:"info",dflt:!0,description:["Shows the currently-selected value above the slider."].join(" ")},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",role:"info",description:["The alignment of the value readout relative to the length of the slider."].join(" ")},offset:{valType:"number",dflt:10,role:"info",description:["The amount of space, in pixels, between the current value label","and the slider."].join(" ")},prefix:{valType:"string",role:"info",description:"When currentvalue.visible is true, this sets the prefix of the label."},suffix:{valType:"string",role:"info",description:"When currentvalue.visible is true, this sets the suffix of the label."},font:f({},d,{description:"Sets the font of the current value label text."})},font:f({},d,{description:"Sets the font of the slider step labels."}),activebgcolor:{valType:"color",role:"style",dflt:i.gripBgActiveColor,description:["Sets the background color of the slider grip","while dragging."].join(" ")},bgcolor:{valType:"color",role:"style",dflt:i.railBgColor,description:"Sets the background color of the slider."},bordercolor:{valType:"color",dflt:i.railBorderColor,role:"style",description:"Sets the color of the border enclosing the slider."},borderwidth:{valType:"number",min:0,dflt:i.railBorderWidth,role:"style",description:"Sets the width (in px) of the border enclosing the slider."},ticklen:{valType:"number",min:0,dflt:i.tickLength,role:"style",description:"Sets the length in pixels of step tick marks"},tickcolor:{valType:"color",dflt:i.tickColor,role:"style",description:"Sets the color of the border enclosing the slider."},tickwidth:{valType:"number",min:0,dflt:1,role:"style",description:"Sets the tick width (in px)."},minorticklen:{valType:"number",min:0,dflt:i.minorTickLength,role:"style",description:"Sets the length in pixels of minor step tick marks"}}},{"../../lib/extend":641,"../../plots/animation_attributes":676,"../../plots/font_attributes":704,"../../plots/pad_attributes":707,"./constants":619}],619:[function(a,b,c){"use strict";b.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,fontSizeToHeight:1.3,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},{}],620:[function(a,b,c){"use strict";function d(a,b,c){function d(c,d){return f.coerce(a,b,h,c,d)}d("visible",e(a,b).length>0)&&(d("active"),d("x"),d("y"),f.noneOrAll(a,b,["x","y"]),d("xanchor"),d("yanchor"),d("len"),d("lenmode"),d("pad.t"),d("pad.r"),d("pad.b"),d("pad.l"),f.coerceFont(d,"font",c.font),d("currentvalue.visible")&&(d("currentvalue.xanchor"),d("currentvalue.prefix"),d("currentvalue.suffix"),d("currentvalue.offset"),f.coerceFont(d,"currentvalue.font",b.font)),d("transition.duration"),d("transition.easing"),d("bgcolor"),d("activebgcolor"),d("bordercolor"),d("borderwidth"),d("ticklen"),d("tickwidth"),d("tickcolor"),d("minorticklen"))}function e(a,b){function c(a,b){return f.coerce(d,e,k,a,b)}for(var d,e,g=a.steps||[],h=b.steps=[],i=0;i<g.length;i++)d=g[i],e={},f.isPlainObject(d)&&Array.isArray(d.args)&&(c("method"),c("args"),c("label","step-"+i),c("value",e.label),h.push(e));return h}var f=a("../../lib"),g=a("../../plots/array_container_defaults"),h=a("./attributes"),i=a("./constants"),j=i.name,k=h.steps;b.exports=function(a,b){g(a,b,{name:j,handleItemDefaults:d})}},{"../../lib":645,"../../plots/array_container_defaults":677,"./attributes":618,"./constants":619}],621:[function(a,b,c){"use strict";function d(a){for(var b=a[C.name],c=[],d=0;d<b.length;d++){var e=b[d];e.visible&&e.steps.length&&c.push(e)}return c}function e(a){return a._index}function f(a,b){var c=z.tester.selectAll("g."+C.labelGroupClass).data(b.steps);c.enter().append("g").classed(C.labelGroupClass,!0);var d=0,e=0;if(c.each(function(a){var c=w.select(this),f=j(c,{step:a},b),g=f.node()&&z.bBox(f.node()).width||0;e=f.node()&&z.bBox(f.node()).height||0,d=Math.max(d,g)}),c.remove(),b.inputAreaWidth=Math.max(C.railWidth,C.gripHeight),b.currentValueMaxWidth=0,b.currentValueHeight=0,b.currentValueTotalHeight=0,b.currentvalue.visible){var f=z.tester.append("g");c.each(function(a){var c=h(f,b,a.label),d=c.node()&&z.bBox(c.node())||{width:0,height:0};b.currentValueMaxWidth=Math.max(b.currentValueMaxWidth,Math.ceil(d.width)),b.currentValueHeight=Math.max(b.currentValueHeight,Math.ceil(d.height))}),b.currentValueTotalHeight=b.currentValueHeight+b.currentvalue.offset,f.remove()}var g=a._fullLayout._size;b.lx=g.l+g.w*b.x,b.ly=g.t+g.h*(1-b.y),"fraction"===b.lenmode?b.outerLength=Math.round(g.w*b.len):b.outerLength=b.len,b.lenPad=Math.round(.5*C.gripWidth),b.inputAreaStart=0,b.inputAreaLength=Math.round(b.outerLength-b.pad.l-b.pad.r);var i=b.inputAreaLength-2*C.stepInset,k=i/(b.steps.length-1),l=d+C.labelPadding;b.labelStride=Math.max(1,Math.ceil(l/k)),b.labelHeight=e,b.height=b.currentValueTotalHeight+C.tickOffset+b.ticklen+C.labelOffset+b.labelHeight+b.pad.t+b.pad.b;var m="left";B.isRightAnchor(b)&&(b.lx-=b.outerLength,m="right"),B.isCenterAnchor(b)&&(b.lx-=b.outerLength/2,m="center");var n="top";B.isBottomAnchor(b)&&(b.ly-=b.height,n="bottom"),B.isMiddleAnchor(b)&&(b.ly-=b.height/2,n="middle"),b.outerLength=Math.ceil(b.outerLength),b.height=Math.ceil(b.height),b.lx=Math.round(b.lx),b.ly=Math.round(b.ly),x.autoMargin(a,C.autoMarginIdRoot+b._index,{x:b.x,y:b.y,l:b.outerLength*({right:1,center:.5}[m]||0),r:b.outerLength*({left:1,center:.5}[m]||0),b:b.height*({top:1,middle:.5}[n]||0),t:b.height*({bottom:1,middle:.5}[n]||0)})}function g(a,b,c){c.active>=c.steps.length&&(c.active=0),b.call(h,c).call(u,c).call(k,c).call(o,c).call(t,a,c).call(i,a,c),z.setTranslate(b,c.lx+c.pad.l,c.ly+c.pad.t),b.call(q,c,c.active/(c.steps.length-1),!1),b.call(h,c)}function h(a,b,c){if(b.currentvalue.visible){var d,e,f=a.selectAll("text").data([0]);switch(b.currentvalue.xanchor){case"right":d=b.inputAreaLength-C.currentValueInset-b.currentValueMaxWidth,e="left";break;case"center":d=.5*b.inputAreaLength,e="middle";break;default:d=C.currentValueInset,e="left"}f.enter().append("text").classed(C.labelClass,!0).classed("user-select-none",!0).attr("text-anchor",e);var g=b.currentvalue.prefix?b.currentvalue.prefix:"";return g+="string"==typeof c?c:b.steps[b.active].label,b.currentvalue.suffix&&(g+=b.currentvalue.suffix),f.call(z.font,b.currentvalue.font).text(g).call(A.convertToTspans),z.setTranslate(f,d,b.currentValueHeight),f}}function i(a,b,c){var d=a.selectAll("rect."+C.gripRectClass).data([0]);d.enter().append("rect").classed(C.gripRectClass,!0).call(n,b,a,c).style("pointer-events","all"),d.attr({width:C.gripWidth,height:C.gripHeight,rx:C.gripRadius,ry:C.gripRadius}).call(y.stroke,c.bordercolor).call(y.fill,c.bgcolor).style("stroke-width",c.borderwidth+"px")}function j(a,b,c){var d=a.selectAll("text").data([0]);return d.enter().append("text").classed(C.labelClass,!0).classed("user-select-none",!0).attr("text-anchor","middle"),d.call(z.font,c.font).text(b.step.label).call(A.convertToTspans),d}function k(a,b){var c=a.selectAll("g."+C.labelsClass).data([0]);c.enter().append("g").classed(C.labelsClass,!0);var d=c.selectAll("g."+C.labelGroupClass).data(b.labelSteps);d.enter().append("g").classed(C.labelGroupClass,!0),d.exit().remove(),d.each(function(a){var c=w.select(this);c.call(j,a,b),z.setTranslate(c,r(b,a.fraction),C.tickOffset+b.ticklen+b.labelHeight+C.labelOffset+b.currentValueTotalHeight)})}function l(a,b,c,d,e){var f=Math.round(d*(c.steps.length-1));f!==c.active&&m(a,b,c,f,!0,e)}function m(a,b,c,d,e,f){var g=c.active;c._input.active=c.active=d;var i=c.steps[c.active];b.call(q,c,c.active/(c.steps.length-1),f),b.call(h,c),a.emit("plotly_sliderchange",{slider:c,step:c.steps[c.active],interaction:e,previousActive:g}),i&&i.method&&e&&(b._nextMethod?(b._nextMethod.step=i,b._nextMethod.doCallback=e,b._nextMethod.doTransition=f):(b._nextMethod={step:i,doCallback:e,doTransition:f},b._nextMethodRaf=window.requestAnimationFrame(function(){var c=b._nextMethod.step;c.method&&(x.executeAPICommand(a,c.method,c.args),b._nextMethod=null,b._nextMethodRaf=null)})))}function n(a,b,c){function d(){return c.data()[0]}var e=c.node(),f=w.select(b);a.on("mousedown",function(){var a=d();b.emit("plotly_sliderstart",{slider:a});var g=c.select("."+C.gripRectClass);w.event.stopPropagation(),w.event.preventDefault(),g.call(y.fill,a.activebgcolor);var h=s(a,w.mouse(e)[0]);l(b,c,a,h,!0),a._dragging=!0,f.on("mousemove",function(){var a=d(),f=s(a,w.mouse(e)[0]);l(b,c,a,f,!1)}),f.on("mouseup",function(){var a=d();a._dragging=!1,g.call(y.fill,a.bgcolor),f.on("mouseup",null),f.on("mousemove",null),b.emit("plotly_sliderend",{slider:a,step:a.steps[a.active]})})})}function o(a,b){var c=a.selectAll("rect."+C.tickRectClass).data(b.steps);c.enter().append("rect").classed(C.tickRectClass,!0),c.exit().remove(),c.attr({width:b.tickwidth+"px","shape-rendering":"crispEdges"}),c.each(function(a,c){var d=c%b.labelStride==0,e=w.select(this);e.attr({height:d?b.ticklen:b.minorticklen}).call(y.fill,b.tickcolor),z.setTranslate(e,r(b,c/(b.steps.length-1))-.5*b.tickwidth,(d?C.tickOffset:C.minorTickOffset)+b.currentValueTotalHeight)})}function p(a){a.labelSteps=[];for(var b=a.steps.length,c=0;b>c;c+=a.labelStride)a.labelSteps.push({fraction:c/(b-1),step:a.steps[c]})}function q(a,b,c,d){var e=a.select("rect."+C.gripRectClass),f=r(b,c);if(!b._invokingCommand){var g=e;d&&b.transition.duration>0&&(g=g.transition().duration(b.transition.duration).ease(b.transition.easing)),g.attr("transform","translate("+(f-.5*C.gripWidth)+","+b.currentValueTotalHeight+")")}}function r(a,b){return a.inputAreaStart+C.stepInset+(a.inputAreaLength-2*C.stepInset)*Math.min(1,Math.max(0,b))}function s(a,b){return Math.min(1,Math.max(0,(b-C.stepInset-a.inputAreaStart)/(a.inputAreaLength-2*C.stepInset-2*a.inputAreaStart)))}function t(a,b,c){var d=a.selectAll("rect."+C.railTouchRectClass).data([0]);d.enter().append("rect").classed(C.railTouchRectClass,!0).call(n,b,a,c).style("pointer-events","all"),d.attr({width:c.inputAreaLength,height:Math.max(c.inputAreaWidth,C.tickOffset+c.ticklen+c.labelHeight)}).call(y.fill,c.bgcolor).attr("opacity",0),z.setTranslate(d,0,c.currentValueTotalHeight)}function u(a,b){var c=a.selectAll("rect."+C.railRectClass).data([0]);c.enter().append("rect").classed(C.railRectClass,!0);var d=b.inputAreaLength-2*C.railInset;c.attr({width:d,height:C.railWidth,rx:C.railRadius,ry:C.railRadius,"shape-rendering":"crispEdges"}).call(y.stroke,b.bordercolor).call(y.fill,b.bgcolor).style("stroke-width",b.borderwidth+"px"),z.setTranslate(c,C.railInset,.5*(b.inputAreaWidth-C.railWidth)+b.currentValueTotalHeight)}function v(a){for(var b=a._fullLayout._pushmargin||{},c=Object.keys(b),d=0;d<c.length;d++){var e=c[d];-1!==e.indexOf(C.autoMarginIdRoot)&&x.autoMargin(a,e)}}var w=a("d3"),x=a("../../plots/plots"),y=a("../color"),z=a("../drawing"),A=a("../../lib/svg_text_utils"),B=a("../legend/anchor_utils"),C=a("./constants");b.exports=function(a){var b=a._fullLayout,c=d(b),h=b._infolayer.selectAll("g."+C.containerClassName).data(c.length>0?[0]:[]);if(h.enter().append("g").classed(C.containerClassName,!0).style("cursor","ew-resize"),h.exit().remove(),h.exit().size()&&v(a),0!==c.length){var i=h.selectAll("g."+C.groupClassName).data(c,e);i.enter().append("g").classed(C.groupClassName,!0),i.exit().each(function(b){w.select(this).remove(),b._commandObserver.remove(),delete b._commandObserver,x.autoMargin(a,C.autoMarginIdRoot+b._index)});for(var j=0;j<c.length;j++){var k=c[j];f(a,k)}i.each(function(b){if(!(b.steps.length<2)){var c=w.select(this);p(b),x.manageCommandObserver(a,b,b.steps,function(b){var d=c.data()[0];d.active!==b.index&&(d._dragging||m(a,c,d,b.index,!1,!0))}),g(a,w.select(this),b)}})}}},{"../../lib/svg_text_utils":662,"../../plots/plots":708,"../color":534,"../drawing":558,"../legend/anchor_utils":584,"./constants":619,d3:256}],622:[function(a,b,c){"use strict";var d=a("./constants");b.exports={moduleType:"component",name:d.name,layoutAttributes:a("./attributes"),supplyLayoutDefaults:a("./defaults"),draw:a("./draw")}},{"./attributes":618,"./constants":619,"./defaults":620,"./draw":621}],623:[function(a,b,c){"use strict";var d=a("d3"),e=a("fast-isnumeric"),f=a("../../plotly"),g=a("../../plots/plots"),h=a("../../lib"),i=a("../drawing"),j=a("../color"),k=a("../../lib/svg_text_utils"),l=a("../../constants/interactions");(b.exports={}).draw=function(a,b,c){function m(a){h.syncOrAsync([n,o],a)}function n(b){return b.attr("transform",v?"rotate("+[v.rotate,u.x,u.y]+") translate(0, "+v.offset+")":null),b.style({"font-family":y,"font-size":d.round(z,2)+"px",fill:j.rgb(A),opacity:B*j.opacity(A),"font-weight":g.fontWeight}).attr(u).call(k.convertToTspans).attr(u),b.selectAll("tspan.line").attr(u),g.previousPromises(a)}function o(a){var b=d.select(a.node().parentNode);if(t&&t.selection&&t.side&&D){b.attr("transform",null);var c=0,f={left:"right",right:"left",top:"bottom",bottom:"top"}[t.side],g=-1!==["left","top"].indexOf(t.side)?-1:1,j=e(t.pad)?t.pad:2,k=i.bBox(b.node()),l={left:0,top:0,right:x.width,bottom:x.height},m=t.maxShift||(l[t.side]-k[t.side])*("left"===t.side||"top"===t.side?-1:1);if(0>m)c=m;else{var n=t.offsetLeft||0,o=t.offsetTop||0;k.left-=n,k.right-=n,k.top-=o,k.bottom-=o,t.selection.each(function(){var a=i.bBox(this);h.bBoxIntersect(k,a,j)&&(c=Math.max(c,g*(a[t.side]-k[f])+j))}),c=Math.min(m,c)}if(c>0||0>m){var p={left:[-c,0],right:[c,0],top:[0,-c],bottom:[0,c]}[t.side];b.attr("transform","translate("+p+")")}}}var p=c.propContainer,q=c.propName,r=c.traceIndex,s=c.dfltName,t=c.avoid||{},u=c.attributes,v=c.transform,w=c.containerGroup,x=a._fullLayout,y=p.titlefont.family,z=p.titlefont.size,A=p.titlefont.color,B=1,C=!1,D=p.title.trim();""===D&&(B=0),D.match(/Click to enter .+ title/)&&(B=.2,C=!0),w||(w=x._infolayer.selectAll(".g-"+b).data([0]),w.enter().append("g").classed("g-"+b,!0));var E=w.selectAll("text").data([0]);E.enter().append("text"),E.text(D).attr("class",b),E.attr({"data-unformatted":D}).call(m);
var F="Click to enter "+s+" title";a._context.editable?(D?E.on(".opacity",null):function(){B=0,C=!0,D=F,E.attr({"data-unformatted":D}).text(D).on("mouseover.opacity",function(){d.select(this).transition().duration(l.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){d.select(this).transition().duration(l.HIDE_PLACEHOLDER).style("opacity",0)})}(),E.call(k.makeEditable).on("edit",function(b){void 0!==r?f.restyle(a,q,b,r):f.relayout(a,q,b)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(m)}).on("input",function(a){this.text(a||" ").attr(u).selectAll("tspan.line").attr(u)})):D&&!D.match(/Click to enter .+ title/)||E.remove(),E.classed("js-placeholder",C)}},{"../../constants/interactions":630,"../../lib":645,"../../lib/svg_text_utils":662,"../../plotly":675,"../../plots/plots":708,"../color":534,"../drawing":558,d3:256,"fast-isnumeric":259}],624:[function(a,b,c){"use strict";var d=a("../../plots/font_attributes"),e=a("../color/attributes"),f=a("../../lib/extend").extendFlat,g=a("../../plots/pad_attributes"),h={_isLinkedToArray:"button",method:{valType:"enumerated",values:["restyle","relayout","animate","update"],dflt:"restyle",role:"info",description:["Sets the Plotly method to be called on click."].join(" ")},args:{valType:"info_array",role:"info",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}],description:["Sets the arguments values to be passed to the Plotly","method set in `method` on click."].join(" ")},label:{valType:"string",role:"info",dflt:"",description:"Sets the text label to appear on the button."}};b.exports={_isLinkedToArray:"updatemenu",_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean",role:"info",description:["Determines whether or not the update menu is visible."].join(" ")},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown",role:"info",description:["Determines whether the buttons are accessible via a dropdown menu","or whether the buttons are stacked horizontally or vertically"].join(" ")},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down",role:"info",description:["Determines the direction in which the buttons are laid out, whether","in a dropdown menu or a row/column of buttons. For `left` and `up`,","the buttons will still appear in left-to-right or top-to-bottom order","respectively."].join(" ")},active:{valType:"integer",role:"info",min:-1,dflt:0,description:["Determines which button (by index starting from 0) is","considered active."].join(" ")},showactive:{valType:"boolean",role:"info",dflt:!0,description:"Highlights active dropdown item or active button if true."},buttons:h,x:{valType:"number",min:-2,max:3,dflt:-.05,role:"style",description:"Sets the x position (in normalized coordinates) of the update menu."},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right",role:"info",description:["Sets the update menu's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,dflt:1,role:"style",description:"Sets the y position (in normalized coordinates) of the update menu."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top",role:"info",description:["Sets the update menu's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},pad:f({},g,{description:"Sets the padding around the buttons or dropdown menu."}),font:f({},d,{description:"Sets the font of the update menu button text."}),bgcolor:{valType:"color",role:"style",description:"Sets the background color of the update menu buttons."},bordercolor:{valType:"color",dflt:e.borderLine,role:"style",description:"Sets the color of the border enclosing the update menu."},borderwidth:{valType:"number",min:0,dflt:1,role:"style",description:"Sets the width (in px) of the border enclosing the update menu."}}},{"../../lib/extend":641,"../../plots/font_attributes":704,"../../plots/pad_attributes":707,"../color/attributes":533}],625:[function(a,b,c){"use strict";b.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,fontSizeToHeight:1.3,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF"}},{}],626:[function(a,b,c){"use strict";function d(a,b,c){function d(c,d){return f.coerce(a,b,h,c,d)}d("visible",e(a,b).length>0)&&(d("active"),d("direction"),d("type"),d("showactive"),d("x"),d("y"),f.noneOrAll(a,b,["x","y"]),d("xanchor"),d("yanchor"),d("pad.t"),d("pad.r"),d("pad.b"),d("pad.l"),f.coerceFont(d,"font",c.font),d("bgcolor",c.paper_bgcolor),d("bordercolor"),d("borderwidth"))}function e(a,b){function c(a,b){return f.coerce(d,e,k,a,b)}for(var d,e,g=a.buttons||[],h=b.buttons=[],i=0;i<g.length;i++)d=g[i],e={},f.isPlainObject(d)&&Array.isArray(d.args)&&(c("method"),c("args"),c("label"),e._index=i,h.push(e));return h}var f=a("../../lib"),g=a("../../plots/array_container_defaults"),h=a("./attributes"),i=a("./constants"),j=i.name,k=h.buttons;b.exports=function(a,b){g(a,b,{name:j,handleItemDefaults:d})}},{"../../lib":645,"../../plots/array_container_defaults":677,"./attributes":624,"./constants":625}],627:[function(a,b,c){"use strict";function d(a){for(var b=a[C.name],c=[],d=0;d<b.length;d++){var e=b[d];e.visible&&c.push(e)}return c}function e(a){return a._index}function f(a){return-1==+a.attr(C.menuIndexAttrName)}function g(a,b){return+a.attr(C.menuIndexAttrName)===b._index}function h(a,b,c,d,e,f,g,h){b._input.active=b.active=g,"buttons"===b.type?j(a,d,null,null,b):"dropdown"===b.type&&(e.attr(C.menuIndexAttrName,"-1"),i(a,d,e,f,b),h||j(a,d,e,f,b))}function i(a,b,c,d,e){var f=b.selectAll("g."+C.headerClassName).data([0]);f.enter().append("g").classed(C.headerClassName,!0).style("pointer-events","all");var h=e.active,i=e.buttons[h]||C.blankHeaderOpts,k={y:e.pad.t,yPad:0,x:e.pad.l,xPad:0,index:0},l={width:e.headerWidth,height:e.headerHeight};f.call(m,e,i).call(t,e,k,l);var n=b.selectAll("text."+C.headerArrowClassName).data([0]);n.enter().append("text").classed(C.headerArrowClassName,!0).classed("user-select-none",!0).attr("text-anchor","end").call(z.font,e.font).text("▼"),n.attr({x:e.headerWidth-C.arrowOffsetX+e.pad.l,y:e.headerHeight/2+C.textOffsetY+e.pad.t}),f.on("click",function(){c.call(u),c.attr(C.menuIndexAttrName,g(c,e)?-1:String(e._index)),j(a,b,c,d,e)}),f.on("mouseover",function(){f.call(q)}),f.on("mouseout",function(){f.call(r,e)}),z.setTranslate(b,e.lx,e.ly)}function j(a,b,c,d,e){c||(c=b,c.attr("pointer-events","all"));var g=f(c)&&"buttons"!==e.type?[]:e.buttons,i="dropdown"===e.type?C.dropdownButtonClassName:C.buttonClassName,j=c.selectAll("g."+i).data(g),n=j.enter().append("g").classed(i,!0),o=j.exit();"dropdown"===e.type?(n.attr("opacity","0").transition().attr("opacity","1"),o.transition().attr("opacity","0").remove()):o.remove();var s=0,u=0,v=-1!==["up","down"].indexOf(e.direction);"dropdown"===e.type&&(v?u=e.headerHeight+C.gapButtonHeader:s=e.headerWidth+C.gapButtonHeader),"dropdown"===e.type&&"up"===e.direction&&(u=-C.gapButtonHeader+C.gapButton-e.openHeight),"dropdown"===e.type&&"left"===e.direction&&(s=-C.gapButtonHeader+C.gapButton-e.openWidth);var y={x:e.lx+s+e.pad.l,y:e.ly+u+e.pad.t,yPad:C.gapButton,xPad:C.gapButton,index:0},z={l:y.x+e.borderwidth,t:y.y+e.borderwidth};j.each(function(f,g){var i=w.select(this);i.call(m,e,f).call(t,e,y),i.on("click",function(){w.event.defaultPrevented||(h(a,e,f,b,c,d,g),x.executeAPICommand(a,f.method,f.args),a.emit("plotly_buttonclicked",{menu:e,button:f,active:e.active}))}),i.on("mouseover",function(){i.call(q)}),i.on("mouseout",function(){i.call(r,e),j.call(p,e)})}),j.call(p,e),v?(z.w=Math.max(e.openWidth,e.headerWidth),z.h=y.y-z.t):(z.w=y.x-z.l,z.h=Math.max(e.openHeight,e.headerHeight)),z.direction=e.direction,d&&(j.size()?k(a,b,c,d,e,z):l(d))}function k(a,b,c,d,e,f){var g,h,i,j=e.direction,k="up"===j||"down"===j,l=e.active;if(k)for(h=0,i=0;l>i;i++)h+=e.heights[i]+C.gapButton;else for(g=0,i=0;l>i;i++)g+=e.widths[i]+C.gapButton;d.enable(f,g,h),d.hbar&&d.hbar.attr("opacity","0").transition().attr("opacity","1"),d.vbar&&d.vbar.attr("opacity","0").transition().attr("opacity","1")}function l(a){var b=!!a.hbar,c=!!a.vbar;b&&a.hbar.transition().attr("opacity","0").each("end",function(){b=!1,c||a.disable()}),c&&a.vbar.transition().attr("opacity","0").each("end",function(){c=!1,b||a.disable()})}function m(a,b,c){a.call(n,b).call(o,b,c)}function n(a,b){var c=a.selectAll("rect").data([0]);c.enter().append("rect").classed(C.itemRectClassName,!0).attr({rx:C.rx,ry:C.ry,"shape-rendering":"crispEdges"}),c.call(y.stroke,b.bordercolor).call(y.fill,b.bgcolor).style("stroke-width",b.borderwidth+"px")}function o(a,b,c){var d=a.selectAll("text").data([0]);d.enter().append("text").classed(C.itemTextClassName,!0).classed("user-select-none",!0).attr("text-anchor","start"),d.call(z.font,b.font).text(c.label).call(A.convertToTspans)}function p(a,b){var c=b.active;a.each(function(a,d){var e=w.select(this);d===c&&b.showactive&&e.select("rect."+C.itemRectClassName).call(y.fill,C.activeColor)})}function q(a){a.select("rect."+C.itemRectClassName).call(y.fill,C.hoverColor)}function r(a,b){a.select("rect."+C.itemRectClassName).call(y.fill,b.bgcolor)}function s(a,b){b.width1=0,b.height1=0,b.heights=[],b.widths=[],b.totalWidth=0,b.totalHeight=0,b.openWidth=0,b.openHeight=0,b.lx=0,b.ly=0;var c=z.tester.selectAll("g."+C.dropdownButtonClassName).data(b.buttons);c.enter().append("g").classed(C.dropdownButtonClassName,!0);var d=-1!==["up","down"].indexOf(b.direction);c.each(function(a,c){var e=w.select(this);e.call(m,b,a);var f=e.select("."+C.itemTextClassName),g=f.selectAll("tspan"),h=f.node()&&z.bBox(f.node()).width,i=Math.max(h+C.textPadX,C.minWidth),j=b.font.size*C.fontSizeToHeight,k=g[0].length||1,l=Math.max(j*k,C.minHeight)+C.textOffsetY;l=Math.ceil(l),i=Math.ceil(i),b.widths[c]=i,b.heights[c]=l,b.height1=Math.max(b.height1,l),b.width1=Math.max(b.width1,i),d?(b.totalWidth=Math.max(b.totalWidth,i),b.openWidth=b.totalWidth,b.totalHeight+=l+C.gapButton,b.openHeight+=l+C.gapButton):(b.totalWidth+=i+C.gapButton,b.openWidth+=i+C.gapButton,b.totalHeight=Math.max(b.totalHeight,l),b.openHeight=b.totalHeight)}),d?b.totalHeight-=C.gapButton:b.totalWidth-=C.gapButton,b.headerWidth=b.width1+C.arrowPadX,b.headerHeight=b.height1,"dropdown"===b.type&&(d?(b.width1+=C.arrowPadX,b.totalHeight=b.height1):b.totalWidth=b.width1,b.totalWidth+=C.arrowPadX),c.remove();var e=b.totalWidth+b.pad.l+b.pad.r,f=b.totalHeight+b.pad.t+b.pad.b,g=a._fullLayout._size;b.lx=g.l+g.w*b.x,b.ly=g.t+g.h*(1-b.y);var h="left";B.isRightAnchor(b)&&(b.lx-=e,h="right"),B.isCenterAnchor(b)&&(b.lx-=e/2,h="center");var i="top";B.isBottomAnchor(b)&&(b.ly-=f,i="bottom"),B.isMiddleAnchor(b)&&(b.ly-=f/2,i="middle"),b.totalWidth=Math.ceil(b.totalWidth),b.totalHeight=Math.ceil(b.totalHeight),b.lx=Math.round(b.lx),b.ly=Math.round(b.ly),x.autoMargin(a,C.autoMarginIdRoot+b._index,{x:b.x,y:b.y,l:e*({right:1,center:.5}[h]||0),r:e*({left:1,center:.5}[h]||0),b:f*({top:1,middle:.5}[i]||0),t:f*({bottom:1,middle:.5}[i]||0)})}function t(a,b,c,d){d=d||{};var e=a.select("."+C.itemRectClassName),f=a.select("."+C.itemTextClassName),g=f.selectAll("tspan"),h=b.borderwidth,i=c.index;z.setTranslate(a,h+c.x,h+c.y);var j=-1!==["up","down"].indexOf(b.direction);e.attr({x:0,y:0,width:d.width||(j?b.width1:b.widths[i]),height:d.height||(j?b.heights[i]:b.height1)});var k=b.font.size*C.fontSizeToHeight,l=g[0].length||1,m=(l-1)*k/4,n={x:C.textOffsetX,y:b.heights[i]/2-m+C.textOffsetY};f.attr(n),g.attr(n),j?c.y+=b.heights[i]+c.yPad:c.x+=b.widths[i]+c.xPad,c.index++}function u(a){a.selectAll("g."+C.dropdownButtonClassName).remove()}function v(a){for(var b=a._fullLayout._pushmargin||{},c=Object.keys(b),d=0;d<c.length;d++){var e=c[d];-1!==e.indexOf(C.autoMarginIdRoot)&&x.autoMargin(a,e)}}var w=a("d3"),x=a("../../plots/plots"),y=a("../color"),z=a("../drawing"),A=a("../../lib/svg_text_utils"),B=a("../legend/anchor_utils"),C=a("./constants"),D=a("./scrollbox");b.exports=function(a){var b=a._fullLayout,c=d(b),f=b._infolayer.selectAll("g."+C.containerClassName).data(c.length>0?[0]:[]);if(f.enter().append("g").classed(C.containerClassName,!0).style("cursor","pointer"),f.exit().remove(),f.exit().size()&&v(a),0!==c.length){var k=f.selectAll("g."+C.headerGroupClassName).data(c,e);k.enter().append("g").classed(C.headerGroupClassName,!0);var l=f.selectAll("g."+C.dropdownButtonGroupClassName).data([0]);l.enter().append("g").classed(C.dropdownButtonGroupClassName,!0).style("pointer-events","all");for(var m=0;m<c.length;m++){var n=c[m];s(a,n)}var o="updatemenus"+b._uid,p=new D(a,l,o);k.enter().size()&&l.call(u).attr(C.menuIndexAttrName,"-1"),k.exit().each(function(b){w.select(this).remove(),l.call(u).attr(C.menuIndexAttrName,"-1"),x.autoMargin(a,C.autoMarginIdRoot+b._index)}),k.each(function(b){var c=w.select(this),d="dropdown"===b.type?l:null;x.manageCommandObserver(a,b,b.buttons,function(e){h(a,b,b.buttons[e.index],c,d,p,e.index,!0)}),"dropdown"===b.type?(i(a,c,l,p,b),g(l,b)&&j(a,c,l,p,b)):j(a,c,null,null,b)})}}},{"../../lib/svg_text_utils":662,"../../plots/plots":708,"../color":534,"../drawing":558,"../legend/anchor_utils":584,"./constants":625,"./scrollbox":629,d3:256}],628:[function(a,b,c){arguments[4][622][0].apply(c,arguments)},{"./attributes":624,"./constants":625,"./defaults":626,"./draw":627,dup:622}],629:[function(a,b,c){"use strict";function d(a,b,c){this.gd=a,this.container=b,this.id=c,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}b.exports=d;var e=a("d3"),f=a("../color"),g=a("../drawing"),h=a("../../lib");d.barWidth=2,d.barLength=20,d.barRadius=2,d.barPad=1,d.barColor="#808BA4",d.prototype.enable=function(a,b,c){var h=this.gd._fullLayout,i=h.width,j=h.height;this.position=a;var k,l,m,n,o=this.position.l,p=this.position.w,q=this.position.t,r=this.position.h,s=this.position.direction,t="down"===s,u="left"===s,v="right"===s,w="up"===s,x=p,y=r;t||u||v||w||(this.position.direction="down",t=!0),t||w?(k=o,l=k+x,t?(m=q,n=Math.min(m+y,j),y=n-m):(n=q+y,m=Math.max(n-y,0),y=n-m)):(m=q,n=m+y,u?(l=o+x,k=Math.max(l-x,0),x=l-k):(k=o,l=Math.min(k+x,i),x=l-k)),this._box={l:k,t:m,w:x,h:y};var z=p>x,A=d.barLength+2*d.barPad,B=d.barWidth+2*d.barPad,C=o,D=q+r;D+B>j&&(D=j-B);var E=this.container.selectAll("rect.scrollbar-horizontal").data(z?[0]:[]);E.exit().on(".drag",null).remove(),E.enter().append("rect").classed("scrollbar-horizontal",!0).call(f.fill,d.barColor),z?(this.hbar=E.attr({rx:d.barRadius,ry:d.barRadius,x:C,y:D,width:A,height:B}),this._hbarXMin=C+A/2,this._hbarTranslateMax=x-A):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var F=r>y,G=d.barWidth+2*d.barPad,H=d.barLength+2*d.barPad,I=o+p,J=q;I+G>i&&(I=i-G);var K=this.container.selectAll("rect.scrollbar-vertical").data(F?[0]:[]);K.exit().on(".drag",null).remove(),K.enter().append("rect").classed("scrollbar-vertical",!0).call(f.fill,d.barColor),F?(this.vbar=K.attr({rx:d.barRadius,ry:d.barRadius,x:I,y:J,width:G,height:H}),this._vbarYMin=J+H/2,this._vbarTranslateMax=y-H):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var L=this.id,M=k-.5,N=F?l+G+.5:l+.5,O=m-.5,P=z?n+B+.5:n+.5,Q=h._topdefs.selectAll("#"+L).data(z||F?[0]:[]);if(Q.exit().remove(),Q.enter().append("clipPath").attr("id",L).append("rect"),z||F?(this._clipRect=Q.select("rect").attr({x:Math.floor(M),y:Math.floor(O),width:Math.ceil(N)-Math.floor(M),height:Math.ceil(P)-Math.floor(O)}),this.container.call(g.setClipUrl,L),this.bg.attr({x:o,y:q,width:p,height:r})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(g.setClipUrl,null),delete this._clipRect),z||F){var R=e.behavior.drag().on("dragstart",function(){e.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(R);var S=e.behavior.drag().on("dragstart",function(){e.event.sourceEvent.preventDefault(),e.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));z&&this.hbar.on(".drag",null).call(S),F&&this.vbar.on(".drag",null).call(S)}this.setTranslate(b,c)},d.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(g.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},d.prototype._onBoxDrag=function(){var a=this.translateX,b=this.translateY;this.hbar&&(a-=e.event.dx),this.vbar&&(b-=e.event.dy),this.setTranslate(a,b)},d.prototype._onBoxWheel=function(){var a=this.translateX,b=this.translateY;this.hbar&&(a+=e.event.deltaY),this.vbar&&(b+=e.event.deltaY),this.setTranslate(a,b)},d.prototype._onBarDrag=function(){var a=this.translateX,b=this.translateY;if(this.hbar){var c=a+this._hbarXMin,d=c+this._hbarTranslateMax;a=(h.constrain(e.event.x,c,d)-c)/(d-c)*(this.position.w-this._box.w)}if(this.vbar){var f=b+this._vbarYMin,g=f+this._vbarTranslateMax;b=(h.constrain(e.event.y,f,g)-f)/(g-f)*(this.position.h-this._box.h)}this.setTranslate(a,b)},d.prototype.setTranslate=function(a,b){var c=this.position.w-this._box.w,d=this.position.h-this._box.h;if(a=h.constrain(a||0,0,c),b=h.constrain(b||0,0,d),this.translateX=a,this.translateY=b,this.container.call(g.setTranslate,this._box.l-this.position.l-a,this._box.t-this.position.t-b),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+a-.5),y:Math.floor(this.position.t+b-.5)}),this.hbar){var e=a/c;this.hbar.call(g.setTranslate,a+e*this._hbarTranslateMax,b)}if(this.vbar){var f=b/d;this.vbar.call(g.setTranslate,a,b+f*this._vbarTranslateMax)}}},{"../../lib":645,"../color":534,"../drawing":558,d3:256}],630:[function(a,b,c){"use strict";b.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DBLCLICKDELAY:300}},{}],631:[function(a,b,c){"use strict";b.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE/1e4,ONEAVGYEAR:315576e5,ONEAVGMONTH:26298e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:1-1e-6}},{}],632:[function(a,b,c){"use strict";b.exports={entityToUnicode:{mu:"μ",amp:"&",lt:"<",gt:">",nbsp:" ",times:"×",plusmn:"±",deg:"°"},unicodeToEntity:{"&":"amp","<":"lt",">":"gt",'"':"quot","'":"#x27","/":"#x2F"}}},{}],633:[function(a,b,c){"use strict";c.xmlns="http://www.w3.org/2000/xmlns/",c.svg="http://www.w3.org/2000/svg",c.xlink="http://www.w3.org/1999/xlink",c.svgAttrs={xmlns:c.svg,"xmlns:xlink":c.xlink}},{}],634:[function(a,b,c){"use strict";var d=a("./plotly");c.version="1.27.1",a("es6-promise").polyfill(),a("../build/plotcss"),a("./fonts/mathjax_config"),c.plot=d.plot,c.newPlot=d.newPlot,c.restyle=d.restyle,c.relayout=d.relayout,c.redraw=d.redraw,c.update=d.update,c.extendTraces=d.extendTraces,c.prependTraces=d.prependTraces,c.addTraces=d.addTraces,c.deleteTraces=d.deleteTraces,c.moveTraces=d.moveTraces,c.purge=d.purge,c.setPlotConfig=a("./plot_api/set_plot_config"),c.register=a("./plot_api/register"),c.toImage=a("./plot_api/to_image"),c.downloadImage=a("./snapshot/download"),c.validate=a("./plot_api/validate"),c.addFrames=d.addFrames,c.deleteFrames=d.deleteFrames,c.animate=d.animate,c.register(a("./traces/scatter")),c.register([a("./components/fx"),a("./components/legend"),a("./components/annotations"),a("./components/shapes"),a("./components/images"),a("./components/updatemenus"),a("./components/sliders"),a("./components/rangeslider"),a("./components/rangeselector")]),c.Icons=a("../build/ploticon"),c.Plots=d.Plots,c.Fx=a("./components/fx"),c.Snapshot=a("./snapshot"),c.PlotSchema=a("./plot_api/plot_schema"),c.Queue=a("./lib/queue"),c.d3=a("d3")},{"../build/plotcss":517,"../build/ploticon":518,"./components/annotations":532,"./components/fx":575,"./components/images":583,"./components/legend":591,"./components/rangeselector":603,"./components/rangeslider":609,"./components/shapes":616,"./components/sliders":622,"./components/updatemenus":628,"./fonts/mathjax_config":635,"./lib/queue":657,"./plot_api/plot_schema":669,"./plot_api/register":670,"./plot_api/set_plot_config":671,"./plot_api/to_image":673,"./plot_api/validate":674,"./plotly":675,"./snapshot":720,"./snapshot/download":717,"./traces/scatter":759,d3:256,"es6-promise":257}],635:[function(a,b,c){"use strict";"undefined"!=typeof MathJax?(c.MathJax=!0,MathJax.Hub.Config({messageStyle:"none",skipStartupTypeset:!0,displayAlign:"left",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}}),MathJax.Hub.Configured()):c.MathJax=!1},{}],636:[function(a,b,c){"use strict";var d=a("fast-isnumeric"),e=a("../constants/numerical").BADNUM;b.exports=function(a){return"string"==typeof a&&(a=a.replace(/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g,"")),d(a)?Number(a):e}},{"../constants/numerical":631,"fast-isnumeric":259}],637:[function(a,b,c){"use strict";var d=a("fast-isnumeric"),e=a("tinycolor2"),f=a("../components/colorscale/get_scale"),g=Object.keys(a("../components/colorscale/scales")),h=a("./nested_property"),i=/^([2-9]|[1-9][0-9]+)$/;c.valObjects={data_array:{description:["An {array} of data.","The value MUST be an {array}, or we ignore it."].join(" "),requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(a,b,c){Array.isArray(a)?b.set(a):void 0!==c&&b.set(c)}},enumerated:{description:["Enumerated value type. The available values are listed","in `values`."].join(" "),requiredOpts:["values"],otherOpts:["dflt","coerceNumber","arrayOk"],coerceFunction:function(a,b,c,d){d.coerceNumber&&(a=+a),-1===d.values.indexOf(a)?b.set(c):b.set(a)}},"boolean":{description:"A boolean (true/false) value.",requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(a,b,c){!0===a||!1===a?b.set(a):b.set(c)}},number:{description:["A number or a numeric value","(e.g. a number inside a string).","When applicable, values greater (less) than `max` (`min`)","are coerced to the `dflt`."].join(" "),requiredOpts:[],otherOpts:["dflt","min","max","arrayOk"],coerceFunction:function(a,b,c,e){!d(a)||void 0!==e.min&&a<e.min||void 0!==e.max&&a>e.max?b.set(c):b.set(+a)}},integer:{description:["An integer or an integer inside a string.","When applicable, values greater (less) than `max` (`min`)","are coerced to the `dflt`."].join(" "),requiredOpts:[],otherOpts:["dflt","min","max"],coerceFunction:function(a,b,c,e){a%1||!d(a)||void 0!==e.min&&a<e.min||void 0!==e.max&&a>e.max?b.set(c):b.set(+a)}},string:{description:["A string value.","Numbers are converted to strings except for attributes with","`strict` set to true."].join(" "),requiredOpts:[],otherOpts:["dflt","noBlank","strict","arrayOk","values"],coerceFunction:function(a,b,c,d){if("string"!=typeof a){var e="number"==typeof a;!0!==d.strict&&e?b.set(String(a)):b.set(c)}else d.noBlank&&!a?b.set(c):b.set(a)}},color:{description:["A string describing color.","Supported formats:","- hex (e.g. '#d3d3d3')","- rgb (e.g. 'rgb(255, 0, 0)')","- rgba (e.g. 'rgb(255, 0, 0, 0.5)')","- hsl (e.g. 'hsl(0, 100%, 50%)')","- hsv (e.g. 'hsv(0, 100%, 100%)')","- named colors (full list: http://www.w3.org/TR/css3-color/#svg-color)"].join(" "),requiredOpts:[],otherOpts:["dflt","arrayOk"],coerceFunction:function(a,b,c){e(a).isValid()?b.set(a):b.set(c)}},colorscale:{description:["A Plotly colorscale either picked by a name:","(any of",g.join(", "),")","customized as an {array} of 2-element {arrays} where","the first element is the normalized color level value","(starting at *0* and ending at *1*),","and the second item is a valid color string."].join(" "),requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(a,b,c){b.set(f(a,c))}},angle:{description:["A number (in degree) between -180 and 180."].join(" "),requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(a,b,c){"auto"===a?b.set("auto"):d(a)?(Math.abs(a)>180&&(a-=360*Math.round(a/360)),b.set(+a)):b.set(c)}},subplotid:{description:["An id string of a subplot type (given by dflt), optionally","followed by an integer >1. e.g. if dflt='geo', we can have","'geo', 'geo2', 'geo3', ..."].join(" "),requiredOpts:["dflt"],otherOpts:[],coerceFunction:function(a,b,c){var d=c.length;return"string"==typeof a&&a.substr(0,d)===c&&i.test(a.substr(d))?void b.set(a):void b.set(c)},validateFunction:function(a,b){var c=b.dflt,d=c.length;return a===c||"string"==typeof a&&!(a.substr(0,d)!==c||!i.test(a.substr(d)))}},flaglist:{description:["A string representing a combination of flags","(order does not matter here).","Combine any of the available `flags` with *+*.","(e.g. ('lines+markers')).","Values in `extras` cannot be combined."].join(" "),requiredOpts:["flags"],otherOpts:["dflt","extras"],coerceFunction:function(a,b,c,d){if("string"!=typeof a)return void b.set(c);if(-1!==(d.extras||[]).indexOf(a))return void b.set(a);for(var e=a.split("+"),f=0;f<e.length;){var g=e[f];-1===d.flags.indexOf(g)||e.indexOf(g)<f?e.splice(f,1):f++}e.length?b.set(e.join("+")):b.set(c)}},any:{description:"Any type.",requiredOpts:[],otherOpts:["dflt","values","arrayOk"],coerceFunction:function(a,b,c){void 0===a?b.set(c):b.set(a)}},info_array:{description:["An {array} of plot information."].join(" "),requiredOpts:["items"],otherOpts:["dflt","freeLength"],coerceFunction:function(a,b,d,e){if(!Array.isArray(a))return void b.set(d);var f=e.items,g=[];d=Array.isArray(d)?d:[];for(var h=0;h<f.length;h++)c.coerce(a,g,f,"["+h+"]",d[h]);b.set(g)},validateFunction:function(a,b){if(!Array.isArray(a))return!1;var d=b.items;if(!b.freeLength&&a.length!==d.length)return!1;for(var e=0;e<a.length;e++)if(!c.validate(a[e],b.items[e]))return!1;return!0}}},c.coerce=function(a,b,d,e,f){var g=h(d,e).get(),i=h(a,e),j=h(b,e),k=i.get();return void 0===f&&(f=g.dflt),g.arrayOk&&Array.isArray(k)?(j.set(k),k):(c.valObjects[g.valType].coerceFunction(k,j,f,g),j.get())},c.coerce2=function(a,b,d,e,f){var g=h(a,e),i=c.coerce(a,b,d,e,f),j=g.get();return void 0!==j&&null!==j&&i},c.coerceFont=function(a,b,c){var d={};return c=c||{},d.family=a(b+".family",c.family),d.size=a(b+".size",c.size),d.color=a(b+".color",c.color),d},c.validate=function(a,b){var d=c.valObjects[b.valType];if(b.arrayOk&&Array.isArray(a))return!0;if(d.validateFunction)return d.validateFunction(a,b);var e={},f=e,g={set:function(a){f=a}};return d.coerceFunction(a,g,e,b),f!==e}},{"../components/colorscale/get_scale":546,"../components/colorscale/scales":552,"./nested_property":651,"fast-isnumeric":259,tinycolor2:773}],638:[function(a,b,c){"use strict";function d(a){return a&&x.componentsRegistry.calendars&&"string"==typeof a&&"gregorian"!==a}function e(a,b){return String(a+Math.pow(10,b)).substr(1)}function f(a,b,c,d,f){if((b||c||d||f)&&(a+=" "+e(b,2)+":"+e(c,2),(d||f)&&(a+=":"+e(d,2),f))){for(var g=4;f%10==0;)g-=1,f/=10;a+="."+e(f,g)}return a}function g(a,b,c){a=a.replace(F,function(a){var c=Math.min(+a.charAt(1)||6,6);return(b/1e3%1+2).toFixed(c).substr(2).replace(/0+$/,"")||"0"});var e=new Date(Math.floor(b+.05));if(d(c))try{a=x.getComponentMethod("calendars","worldCalFmt")(a,b,c)}catch(a){return"Invalid"}return y(a)(e)}function h(a,b){var c=p(a+.05,s),d=e(Math.floor(c/t),2)+":"+e(p(Math.floor(c/u),60),2);if("M"!==b){n(b)||(b=0);var f=Math.min(p(a/v,60),G[b]),g=(100+f).toFixed(b).substr(1);b>0&&(g=g.replace(/0+$/,"").replace(/[\.]$/,"")),d+=":"+g}return d}function i(a){return a.formatDate("yyyy")}function j(a){return a.formatDate("M yyyy")}function k(a){return a.formatDate("M d")}function l(a){return a.formatDate("M d, yyyy")}var m=a("d3"),n=a("fast-isnumeric"),o=a("./loggers").error,p=a("./mod"),q=a("../constants/numerical"),r=q.BADNUM,s=q.ONEDAY,t=q.ONEHOUR,u=q.ONEMIN,v=q.ONESEC,w=q.EPOCHJD,x=a("../registry"),y=m.time.format.utc,z=(new Date).getFullYear()-70;c.dateTick0=function(a,b){return d(a)?b?x.getComponentMethod("calendars","CANONICAL_SUNDAY")[a]:x.getComponentMethod("calendars","CANONICAL_TICK")[a]:b?"2000-01-02":"2000-01-01"},c.dfltRange=function(a){return d(a)?x.getComponentMethod("calendars","DFLTRANGE")[a]:["2000-01-01","2001-01-01"]},c.isJSDate=function(a){return"object"===(void 0===a?"undefined":_typeof(a))&&null!==a&&"function"==typeof a.getTime};var A,B;c.dateTime2ms=function(a,b){if(c.isJSDate(a))return a=Number(a)-a.getTimezoneOffset()*u,a>=A&&B>=a?a:r;if("string"!=typeof a&&"number"!=typeof a)return r;a=String(a);var e=d(b),f=a.charAt(0);!e||"G"!==f&&"g"!==f||(a=a.substr(1),b="");var g=e&&"chinese"===b.substr(0,7),h=a.match(g?/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d:?\d\d)?)?)?)?)?\s*$/m:/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d:?\d\d)?)?)?)?)?\s*$/m);if(!h)return r;var i=h[1],j=h[3]||"1",k=Number(h[5]||1),l=Number(h[7]||0),m=Number(h[9]||0),n=Number(h[11]||0);if(e){if(2===i.length)return r;i=Number(i);var o;try{var p=x.getComponentMethod("calendars","getCal")(b);if(g){var q="i"===j.charAt(j.length-1);j=parseInt(j,10),o=p.newDate(i,p.toMonthIndex(i,j,q),k)}else o=p.newDate(i,Number(j),k)}catch(a){return r}return o?(o.toJD()-w)*s+l*t+m*u+n*v:r}i=2===i.length?(Number(i)+2e3-z)%100+z:Number(i),j-=1;var y=new Date(Date.UTC(2e3,j,k,l,m));return y.setUTCFullYear(i),y.getUTCMonth()!==j?r:y.getUTCDate()!==k?r:y.getTime()+n*v},A=c.MIN_MS=c.dateTime2ms("-9999"),B=c.MAX_MS=c.dateTime2ms("9999-12-31 23:59:59.9999"),c.isDateTime=function(a,b){return c.dateTime2ms(a,b)!==r};var C=90*s,D=3*t,E=5*u;c.ms2DateTime=function(a,b,c){if("number"!=typeof a||!(a>=A&&B>=a))return r;b||(b=0);var e,g,h,i,j,k,l=Math.floor(10*p(a+.05,1)),m=Math.round(a-l/10);if(d(c)){var n=Math.floor(m/s)+w,o=Math.floor(p(a,s));try{e=x.getComponentMethod("calendars","getCal")(c).fromJD(n).formatDate("yyyy-mm-dd")}catch(a){e=y("G%Y-%m-%d")(new Date(m))}if("-"===e.charAt(0))for(;e.length<11;)e="-0"+e.substr(1);else for(;e.length<10;)e="0"+e;g=C>b?Math.floor(o/t):0,h=C>b?Math.floor(o%t/u):0,i=D>b?Math.floor(o%u/v):0,j=E>b?o%v*10+l:0}else k=new Date(m),e=y("%Y-%m-%d")(k),g=C>b?k.getUTCHours():0,h=C>b?k.getUTCMinutes():0,i=D>b?k.getUTCSeconds():0,j=E>b?10*k.getUTCMilliseconds()+l:0;return f(e,g,h,i,j)},c.ms2DateTimeLocal=function(a){if(!(a>=A+s&&B-s>=a))return r;var b=Math.floor(10*p(a+.05,1)),c=new Date(Math.round(a-b/10));return f(m.time.format("%Y-%m-%d")(c),c.getHours(),c.getMinutes(),c.getSeconds(),10*c.getUTCMilliseconds()+b)},c.cleanDate=function(a,b,e){if(c.isJSDate(a)||"number"==typeof a){if(d(e))return o("JS Dates and milliseconds are incompatible with world calendars",a),b;if(!(a=c.ms2DateTimeLocal(+a))&&void 0!==b)return b}else if(!c.isDateTime(a,e))return o("unrecognized date",a),b;return a};var F=/%\d?f/g,G=[59,59.9,59.99,59.999,59.9999],H=y("%Y"),I=y("%b %Y"),J=y("%b %-d"),K=y("%b %-d, %Y");c.formatDate=function(a,b,c,e){var f,m;if(e=d(e)&&e,b)return g(b,a,e);if(e)try{var n=Math.floor((a+.05)/s)+w,o=x.getComponentMethod("calendars","getCal")(e).fromJD(n);"y"===c?m=i(o):"m"===c?m=j(o):"d"===c?(f=i(o),m=k(o)):(f=l(o),m=h(a,c))}catch(a){return"Invalid"}else{var p=new Date(Math.floor(a+.05));"y"===c?m=H(p):"m"===c?m=I(p):"d"===c?(f=H(p),
m=J(p)):(f=K(p),m=h(a,c))}return m+(f?"\n"+f:"")};var L=3*s;c.incrementMonth=function(a,b,c){c=d(c)&&c;var e=p(a,s);if(a=Math.round(a-e),c)try{var f=Math.round(a/s)+w,g=x.getComponentMethod("calendars","getCal")(c),h=g.fromJD(f);return b%12?g.add(h,b,"m"):g.add(h,b/12,"y"),(h.toJD()-w)*s+e}catch(b){o("invalid ms "+a+" in calendar "+c)}var i=new Date(a+L);return i.setUTCMonth(i.getUTCMonth()+b)+e-L},c.findExactDates=function(a,b){for(var c,e,f=0,g=0,h=0,i=0,j=d(b)&&x.getComponentMethod("calendars","getCal")(b),k=0;k<a.length;k++)if(e=a[k],n(e)){if(!(e%s))if(j)try{c=j.fromJD(e/s+w),1===c.day()?1===c.month()?f++:g++:h++}catch(a){}else c=new Date(e),1===c.getUTCDate()?0===c.getUTCMonth()?f++:g++:h++}else i++;g+=f,h+=g;var l=a.length-i;return{exactYears:f/l,exactMonths:g/l,exactDays:h/l}}},{"../constants/numerical":631,"../registry":715,"./loggers":648,"./mod":650,d3:256,"fast-isnumeric":259}],639:[function(a,b,c){"use strict";b.exports=function(a,b){return Array.isArray(a)||(a=[]),a.length=b,a}},{}],640:[function(a,b,c){"use strict";var d=a("events").EventEmitter,e={init:function(a){if(a._ev instanceof d)return a;var b=new d,c=new d;return a._ev=b,a._internalEv=c,a.on=b.on.bind(b),a.once=b.once.bind(b),a.removeListener=b.removeListener.bind(b),a.removeAllListeners=b.removeAllListeners.bind(b),a._internalOn=c.on.bind(c),a._internalOnce=c.once.bind(c),a._removeInternalListener=c.removeListener.bind(c),a._removeAllInternalListeners=c.removeAllListeners.bind(c),a.emit=function(d,e){"undefined"!=typeof jQuery&&jQuery(a).trigger(d,e),b.emit(d,e),c.emit(d,e)},a},triggerHandler:function(a,b,c){var d,e;"undefined"!=typeof jQuery&&(d=jQuery(a).triggerHandler(b,c));var f=a._ev;if(!f)return d;var g=f._events[b];if(!g)return d;"function"==typeof g&&(g=[g]);for(var h=g.pop(),i=0;i<g.length;i++)g[i](c);return e=h(c),void 0!==d?d:e},purge:function(a){return delete a._ev,delete a.on,delete a.once,delete a.removeListener,delete a.removeAllListeners,delete a.emit,delete a._ev,delete a._internalEv,delete a._internalOn,delete a._internalOnce,delete a._removeInternalListener,delete a._removeAllInternalListeners,a}};b.exports=e},{events:258}],641:[function(a,b,c){"use strict";function d(a,b){var c,d;for(c=0;c<a.length;c++){if(null!==(d=a[c])&&"object"===(void 0===d?"undefined":_typeof(d)))return!1;void 0!==d&&(b[c]=d)}return!0}function e(a,b,c,h){var i,j,k,l,m,n,o=a[0],p=a.length;if(2===p&&g(o)&&g(a[1])&&0===o.length){if(d(a[1],o))return o;o.splice(0,o.length)}for(var q=1;p>q;q++){i=a[q];for(j in i)k=o[j],l=i[j],h&&g(l)?o[j]=l:b&&l&&(f(l)||(m=g(l)))?(m?(m=!1,n=k&&g(k)?k:[]):n=k&&f(k)?k:{},o[j]=e([n,l],b,c,h)):(void 0!==l||c)&&(o[j]=l)}return o}var f=a("./is_plain_object.js"),g=Array.isArray;c.extendFlat=function(){return e(arguments,!1,!1,!1)},c.extendDeep=function(){return e(arguments,!0,!1,!1)},c.extendDeepAll=function(){return e(arguments,!0,!0,!1)},c.extendDeepNoArrays=function(){return e(arguments,!0,!1,!0)}},{"./is_plain_object.js":647}],642:[function(a,b,c){"use strict";b.exports=function(a){for(var b={},c=[],d=0,e=0;e<a.length;e++){var f=a[e];1!==b[f]&&(b[f]=1,c[d++]=f)}return c}},{}],643:[function(a,b,c){"use strict";b.exports=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];!0===d.visible&&b.push(d)}return b}},{}],644:[function(a,b,c){"use strict";b.exports=function(a){return a}},{}],645:[function(a,b,c){"use strict";var d=a("d3"),e=b.exports={};e.nestedProperty=a("./nested_property"),e.isPlainObject=a("./is_plain_object"),e.isArray=a("./is_array"),e.mod=a("./mod"),e.toLogRange=a("./to_log_range"),e.relinkPrivateKeys=a("./relink_private"),e.ensureArray=a("./ensure_array");var f=a("./coerce");e.valObjects=f.valObjects,e.coerce=f.coerce,e.coerce2=f.coerce2,e.coerceFont=f.coerceFont,e.validate=f.validate;var g=a("./dates");e.dateTime2ms=g.dateTime2ms,e.isDateTime=g.isDateTime,e.ms2DateTime=g.ms2DateTime,e.ms2DateTimeLocal=g.ms2DateTimeLocal,e.cleanDate=g.cleanDate,e.isJSDate=g.isJSDate,e.formatDate=g.formatDate,e.incrementMonth=g.incrementMonth,e.dateTick0=g.dateTick0,e.dfltRange=g.dfltRange,e.findExactDates=g.findExactDates,e.MIN_MS=g.MIN_MS,e.MAX_MS=g.MAX_MS;var h=a("./search");e.findBin=h.findBin,e.sorterAsc=h.sorterAsc,e.sorterDes=h.sorterDes,e.distinctVals=h.distinctVals,e.roundUp=h.roundUp;var i=a("./stats");e.aggNums=i.aggNums,e.len=i.len,e.mean=i.mean,e.variance=i.variance,e.stdev=i.stdev,e.interp=i.interp;var j=a("./matrix");e.init2dArray=j.init2dArray,e.transposeRagged=j.transposeRagged,e.dot=j.dot,e.translationMatrix=j.translationMatrix,e.rotationMatrix=j.rotationMatrix,e.rotationXYMatrix=j.rotationXYMatrix,e.apply2DTransform=j.apply2DTransform,e.apply2DTransform2=j.apply2DTransform2;var k=a("./extend");e.extendFlat=k.extendFlat,e.extendDeep=k.extendDeep,e.extendDeepAll=k.extendDeepAll,e.extendDeepNoArrays=k.extendDeepNoArrays;var l=a("./loggers");e.log=l.log,e.warn=l.warn,e.error=l.error,e.notifier=a("./notifier"),e.filterUnique=a("./filter_unique"),e.filterVisible=a("./filter_visible"),e.pushUnique=a("./push_unique"),e.cleanNumber=a("./clean_number"),e.noop=a("./noop"),e.identity=a("./identity"),e.swapAttrs=function(a,b,c,d){c||(c="x"),d||(d="y");for(var f=0;f<b.length;f++){var g=b[f],h=e.nestedProperty(a,g.replace("?",c)),i=e.nestedProperty(a,g.replace("?",d)),j=h.get();h.set(i.get()),i.set(j)}},e.pauseEvent=function(a){return a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.cancelBubble=!0,!1},e.constrain=function(a,b,c){return b>c?Math.max(c,Math.min(b,a)):Math.max(b,Math.min(c,a))},e.bBoxIntersect=function(a,b,c){return c=c||0,a.left<=b.right+c&&b.left<=a.right+c&&a.top<=b.bottom+c&&b.top<=a.bottom+c},e.simpleMap=function(a,b,c,d){for(var e=a.length,f=new Array(e),g=0;e>g;g++)f[g]=b(a[g],c,d);return f},e.randstr=function m(a,b,c){if(c||(c=16),void 0===b&&(b=24),0>=b)return"0";var d,e,f,g=Math.log(Math.pow(2,b))/Math.log(c),h="";for(d=2;g===1/0;d*=2)g=Math.log(Math.pow(2,b/d))/Math.log(c)*d;var i=g-Math.floor(g);for(d=0;d<Math.floor(g);d++)f=Math.floor(Math.random()*c).toString(c),h=f+h;i&&(e=Math.pow(c,i),f=Math.floor(Math.random()*e).toString(c),h=f+h);var j=parseInt(h,c);return a&&a.indexOf(h)>-1||j!==1/0&&j>=Math.pow(2,b)?m(a,b,c):h},e.OptionControl=function(a,b){a||(a={}),b||(b="opt");var c={};return c.optionList=[],c._newoption=function(d){d[b]=a,c[d.name]=d,c.optionList.push(d)},c["_"+b]=a,c},e.smooth=function(a,b){if((b=Math.round(b)||0)<2)return a;var c,d,e,f,g=a.length,h=2*g,i=2*b-1,j=new Array(i),k=new Array(g);for(c=0;i>c;c++)j[c]=(1-Math.cos(Math.PI*(c+1)/b))/(2*b);for(c=0;g>c;c++){for(f=0,d=0;i>d;d++)e=c+d+1-b,-g>e?e-=h*Math.round(e/h):e>=h&&(e-=h*Math.floor(e/h)),0>e?e=-1-e:e>=g&&(e=h-1-e),f+=a[e]*j[d];k[c]=f}return k},e.syncOrAsync=function(a,b,c){function d(){return e.syncOrAsync(a,b,c)}for(var f,g;a.length;)if(g=a.splice(0,1)[0],(f=g(b))&&f.then)return f.then(d).then(void 0,e.promiseError);return c&&c(b)},e.stripTrailingSlash=function(a){return"/"===a.substr(-1)?a.substr(0,a.length-1):a},e.noneOrAll=function(a,b,c){if(a){var d,e,f=!1,g=!0;for(d=0;d<c.length;d++)e=a[c[d]],void 0!==e&&null!==e?f=!0:g=!1;if(f&&!g)for(d=0;d<c.length;d++)a[c[d]]=b[c[d]]}},e.mergeArray=function(a,b,c){if(Array.isArray(a))for(var d=Math.min(a.length,b.length),e=0;d>e;e++)b[e][c]=a[e]},e.getTargetArray=function(a,b){var c=b.target;if("string"==typeof c&&c){var d=e.nestedProperty(a,c).get();return!!Array.isArray(d)&&d}return!!Array.isArray(c)&&c},e.minExtend=function(a,b){var c={};"object"!==(void 0===b?"undefined":_typeof(b))&&(b={});var d,f,g,h=Object.keys(a);for(d=0;d<h.length;d++)f=h[d],g=a[f],"_"!==f.charAt(0)&&"function"!=typeof g&&("module"===f?c[f]=g:Array.isArray(g)?c[f]=g.slice(0,3):g&&"object"===(void 0===g?"undefined":_typeof(g))?c[f]=e.minExtend(a[f],b[f]):c[f]=g);for(h=Object.keys(b),d=0;d<h.length;d++)f=h[d],g=b[f],"object"===(void 0===g?"undefined":_typeof(g))&&f in c&&"object"===_typeof(c[f])||(c[f]=g);return c},e.titleCase=function(a){return a.charAt(0).toUpperCase()+a.substr(1)},e.containsAny=function(a,b){for(var c=0;c<b.length;c++)if(-1!==a.indexOf(b[c]))return!0;return!1},e.getPlotDiv=function(a){for(;a&&a.removeAttribute;a=a.parentNode)if(e.isPlotDiv(a))return a},e.isPlotDiv=function(a){var b=d.select(a);return b.node()instanceof HTMLElement&&b.size()&&b.classed("js-plotly-plot")},e.removeElement=function(a){var b=a&&a.parentNode;b&&b.removeChild(a)},e.addStyleRule=function(a,b){if(!e.styleSheet){var c=document.createElement("style");c.appendChild(document.createTextNode("")),document.head.appendChild(c),e.styleSheet=c.sheet}var d=e.styleSheet;d.insertRule?d.insertRule(a+"{"+b+"}",0):d.addRule?d.addRule(a,b,0):e.warn("addStyleRule failed")},e.isIE=function(){return void 0!==window.navigator.msSaveBlob},e.isD3Selection=function(a){return a&&"function"==typeof a.classed},e.objectFromPath=function(a,b){for(var c,d=a.split("."),e=c={},f=0;f<d.length;f++){var g=d[f],h=null,i=d[f].match(/(.*)\[([0-9]+)\]/);i?(g=i[1],h=i[2],c=c[g]=[],f===d.length-1?c[h]=b:c[h]={},c=c[h]):(f===d.length-1?c[g]=b:c[g]={},c=c[g])}return e},e.expandObjectPaths=function(a){var b,c,d,f,g,h,i;if("object"===(void 0===a?"undefined":_typeof(a))&&!Array.isArray(a))for(c in a)a.hasOwnProperty(c)&&((b=c.match(/^([^\[\.]+)\.(.+)?/))?(f=a[c],d=b[1],delete a[c],a[d]=e.extendDeepNoArrays(a[d]||{},e.objectFromPath(c,e.expandObjectPaths(f))[d])):(b=c.match(/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/))?(f=a[c],d=b[1],g=parseInt(b[2]),delete a[c],a[d]=a[d]||[],"."===b[3]?(i=b[4],h=a[d][g]=a[d][g]||{},e.extendDeepNoArrays(h,e.objectFromPath(i,e.expandObjectPaths(f)))):a[d][g]=e.expandObjectPaths(f)):a[c]=e.expandObjectPaths(a[c]));return a},e.numSeparate=function(a,b,c){if(c||(c=!1),"string"!=typeof b||0===b.length)throw new Error("Separator string required for formatting!");"number"==typeof a&&(a=String(a));var d=/(\d+)(\d{3})/,e=b.charAt(0),f=b.charAt(1),g=a.split("."),h=g[0],i=g.length>1?e+g[1]:"";if(f&&(g.length>1||h.length>4||c))for(;d.test(h);)h=h.replace(d,"$1"+f+"$2");return h+i}},{"./clean_number":636,"./coerce":637,"./dates":638,"./ensure_array":639,"./extend":641,"./filter_unique":642,"./filter_visible":643,"./identity":644,"./is_array":646,"./is_plain_object":647,"./loggers":648,"./matrix":649,"./mod":650,"./nested_property":651,"./noop":652,"./notifier":653,"./push_unique":656,"./relink_private":658,"./search":659,"./stats":661,"./to_log_range":663,d3:256}],646:[function(a,b,c){"use strict";var d="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer:{isView:function(){return!1}};b.exports=function(a){return Array.isArray(a)||d.isView(a)}},{}],647:[function(a,b,c){"use strict";b.exports=function(a){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(a):"[object Object]"===Object.prototype.toString.call(a)&&Object.getPrototypeOf(a)===Object.prototype}},{}],648:[function(a,b,c){"use strict";function d(a,b){if(a.apply)a.apply(a,b);else for(var c=0;c<b.length;c++)a(b[c])}var e=a("../plot_api/plot_config"),f=b.exports={};f.log=function(){if(e.logging>1){for(var a=["LOG:"],b=0;b<arguments.length;b++)a.push(arguments[b]);d(console.trace||console.log,a)}},f.warn=function(){if(e.logging>0){for(var a=["WARN:"],b=0;b<arguments.length;b++)a.push(arguments[b]);d(console.trace||console.log,a)}},f.error=function(){if(e.logging>0){for(var a=["ERROR:"],b=0;b<arguments.length;b++)a.push(arguments[b]);d(console.error,a)}}},{"../plot_api/plot_config":668}],649:[function(a,b,c){"use strict";c.init2dArray=function(a,b){for(var c=new Array(a),d=0;a>d;d++)c[d]=new Array(b);return c},c.transposeRagged=function(a){var b,c,d=0,e=a.length;for(b=0;e>b;b++)d=Math.max(d,a[b].length);var f=new Array(d);for(b=0;d>b;b++)for(f[b]=new Array(e),c=0;e>c;c++)f[b][c]=a[c][b];return f},c.dot=function(a,b){if(!a.length||!b.length||a.length!==b.length)return null;var d,e,f=a.length;if(a[0].length)for(d=new Array(f),e=0;f>e;e++)d[e]=c.dot(a[e],b);else if(b[0].length){var g=c.transposeRagged(b);for(d=new Array(g.length),e=0;e<g.length;e++)d[e]=c.dot(a,g[e])}else for(d=0,e=0;f>e;e++)d+=a[e]*b[e];return d},c.translationMatrix=function(a,b){return[[1,0,a],[0,1,b],[0,0,1]]},c.rotationMatrix=function(a){var b=a*Math.PI/180;return[[Math.cos(b),-Math.sin(b),0],[Math.sin(b),Math.cos(b),0],[0,0,1]]},c.rotationXYMatrix=function(a,b,d){return c.dot(c.dot(c.translationMatrix(b,d),c.rotationMatrix(a)),c.translationMatrix(-b,-d))},c.apply2DTransform=function(a){return function(){var b=arguments;3===b.length&&(b=b[0]);var d=1===arguments.length?b[0]:[b[0],b[1]];return c.dot(a,[d[0],d[1],1]).slice(0,2)}},c.apply2DTransform2=function(a){var b=c.apply2DTransform(a);return function(a){return b(a.slice(0,2)).concat(b(a.slice(2,4)))}}},{}],650:[function(a,b,c){"use strict";b.exports=function(a,b){var c=a%b;return 0>c?c+b:c}},{}],651:[function(a,b,c){"use strict";function d(a,b){return function(){var c,e,f,g,h,i=a;for(g=0;g<b.length-1;g++){if(-1===(c=b[g])){for(e=!0,f=[],h=0;h<i.length;h++)f[h]=d(i[h],b.slice(g+1))(),f[h]!==f[0]&&(e=!1);return e?f[0]:f}if("number"==typeof c&&!n(i))return;if(i=i[c],"object"!==(void 0===i?"undefined":_typeof(i))||null===i)return}return"object"===(void 0===i?"undefined":_typeof(i))&&null!==i&&null!==(f=i[b[g]])?f:void 0}}function e(a,b){if(!k(a)||o(a)&&"]"===b.charAt(b.length-1)||b.match(r)&&void 0!==a)return!1;if(!n(a))return!0;if(b.match(q))return!0;var c=p(b);return c&&""===c.index}function f(a,b,c){return function(d){var f,k,l=a,m="",o=[[a,m]],p=e(d,c);for(k=0;k<b.length-1;k++){if("number"==typeof(f=b[k])&&!n(l))throw"array index but container is not an array";if(-1===f){if(p=!h(l,b.slice(k+1),d,c))break;return}if(!i(l,f,b[k+1],p))break;if(l=l[f],"object"!==(void 0===l?"undefined":_typeof(l))||null===l)throw"container is not an object";m=g(m,f),o.push([l,m])}p?(k===b.length-1&&delete l[b[k]],j(o)):l[b[k]]=d}}function g(a,b){var c=b;return m(b)?c="["+b+"]":a&&(c="."+b),a+c}function h(a,b,c,d){var g,h=n(c),j=!0,k=c,l=d.replace("-1",0),m=!h&&e(c,l),o=b[0];for(g=0;g<a.length;g++)l=d.replace("-1",g),h&&(k=c[g%c.length],m=e(k,l)),m&&(j=!1),i(a,g,o,m)&&f(a[g],b,d.replace("-1",g))(k);return j}function i(a,b,c,d){if(void 0===a[b]){if(d)return!1;a[b]="number"==typeof c?[]:{}}return!0}function j(a){var b,c,d,f,h,i;for(b=a.length-1;b>=0;b--){if(d=a[b][0],f=a[b][1],i=!1,n(d))for(c=d.length-1;c>=0;c--)e(d[c],g(f,c))?i?d[c]=void 0:d.pop():i=!0;else if("object"===(void 0===d?"undefined":_typeof(d))&&null!==d)for(h=Object.keys(d),i=!1,c=h.length-1;c>=0;c--)e(d[h[c]],g(f,h[c]))?delete d[h[c]]:i=!0;if(i)return}}function k(a){return void 0===a||null===a||"object"===(void 0===a?"undefined":_typeof(a))&&(n(a)?!a.length:!Object.keys(a).length)}function l(a,b,c){return{set:function(){throw"bad container"},get:function(){},astr:b,parts:c,obj:a}}var m=a("fast-isnumeric"),n=a("./is_array"),o=a("./is_plain_object"),p=a("../plot_api/container_array_match");b.exports=function(a,b){if(m(b))b=String(b);else if("string"!=typeof b||"[-1]"===b.substr(b.length-4))throw"bad property string";for(var c,e,g,h=0,i=b.split(".");h<i.length;){if(c=String(i[h]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(c[1])i[h]=c[1];else{if(0!==h)throw"bad property string";i.splice(0,1)}for(e=c[2].substr(1,c[2].length-2).split("]["),g=0;g<e.length;g++)h++,i.splice(h,0,Number(e[g]))}h++}return"object"!==(void 0===a?"undefined":_typeof(a))?l(a,b,i):{set:f(a,i,b),get:d(a,i),astr:b,parts:i,obj:a}};var q=/(^|\.)((domain|range)(\.[xy])?|args|parallels)$/,r=/(^|\.)args\[/},{"../plot_api/container_array_match":664,"./is_array":646,"./is_plain_object":647,"fast-isnumeric":259}],652:[function(a,b,c){"use strict";b.exports=function(){}},{}],653:[function(a,b,c){"use strict";var d=a("d3"),e=a("fast-isnumeric"),f=[];b.exports=function(a,b){function c(a){a.duration(700).style("opacity",0).each("end",function(a){var b=f.indexOf(a);-1!==b&&f.splice(b,1),d.select(this).remove()})}if(-1===f.indexOf(a)){f.push(a);var g=1e3;e(b)?g=b:"long"===b&&(g=3e3);var h=d.select("body").selectAll(".plotly-notifier").data([0]);h.enter().append("div").classed("plotly-notifier",!0),h.selectAll(".notifier-note").data(f).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(a){var b=d.select(this);b.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){b.transition().call(c)});for(var e=b.append("p"),f=a.split(/<br\s*\/?>/g),h=0;h<f.length;h++)h&&e.append("br"),e.append("span").text(f[h]);b.transition().duration(700).style("opacity",1).transition().delay(g).call(c)})}}},{d3:256,"fast-isnumeric":259}],654:[function(a,b,c){"use strict";var d=a("./setcursor"),e="data-savedcursor";b.exports=function(a,b){var c=a.attr(e);if(b){if(!c){for(var f=(a.attr("class")||"").split(" "),g=0;g<f.length;g++){var h=f[g];0===h.indexOf("cursor-")&&a.attr(e,h.substr(7)).classed(h,!1)}a.attr(e)||a.attr(e,"!!")}d(a,b)}else c&&(a.attr(e,null),"!!"===c?d(a):d(a,c))}},{"./setcursor":660}],655:[function(a,b,c){"use strict";var d=a("./matrix").dot,e=a("../constants/numerical").BADNUM,f=b.exports={};f.tester=function(a){function b(a,b){var c=a[0],d=a[1];return!(c===e||f>c||c>g||d===e||h>d||d>i||b&&k(a))}function c(a,b){var c=a[0],j=a[1];if(c===e||f>c||c>g||j===e||h>j||j>i)return!1;var k,l,m,n,o,p=d.length,q=d[0][0],r=d[0][1],s=0;for(k=1;p>k;k++)if(l=q,m=r,q=d[k][0],r=d[k][1],n=Math.min(l,q),!(n>c||c>Math.max(l,q)||j>Math.max(m,r)))if(j<Math.min(m,r))c!==n&&s++;else{if(o=q===l?j:m+(c-l)*(r-m)/(q-l),j===o)return 1!==k||!b;o>=j&&c!==n&&s++}return s%2==1}var d=a.slice(),f=d[0][0],g=f,h=d[0][1],i=h;d.push(d[0]);for(var j=1;j<d.length;j++)f=Math.min(f,d[j][0]),g=Math.max(g,d[j][0]),h=Math.min(h,d[j][1]),i=Math.max(i,d[j][1]);var k,l=!1;return 5===d.length&&(d[0][0]===d[1][0]?d[2][0]===d[3][0]&&d[0][1]===d[3][1]&&d[1][1]===d[2][1]&&(l=!0,k=function(a){return a[0]===d[0][0]}):d[0][1]===d[1][1]&&d[2][1]===d[3][1]&&d[0][0]===d[3][0]&&d[1][0]===d[2][0]&&(l=!0,k=function(a){return a[1]===d[0][1]})),{xmin:f,xmax:g,ymin:h,ymax:i,pts:d,contains:l?b:c,isRect:l}};var g=f.isSegmentBent=function(a,b,c,e){var f,g,h,i=a[b],j=[a[c][0]-i[0],a[c][1]-i[1]],k=d(j,j),l=Math.sqrt(k),m=[-j[1]/l,j[0]/l];for(f=b+1;c>f;f++)if(g=[a[f][0]-i[0],a[f][1]-i[1]],(h=d(g,j))<0||h>k||Math.abs(d(g,m))>e)return!0;return!1};f.filter=function(a,b){function c(c){a.push(c);var h=d.length,i=e;d.splice(f+1);for(var j=i+1;j<a.length;j++)(j===a.length-1||g(a,i,j+1,b))&&(d.push(a[j]),d.length<h-2&&(e=j,f=d.length-1),i=j)}var d=[a[0]],e=0,f=0;return a.length>1&&c(a.pop()),{addPt:c,raw:a,filtered:d}}},{"../constants/numerical":631,"./matrix":649}],656:[function(a,b,c){"use strict";b.exports=function(a,b){if(b instanceof RegExp){var c,d=b.toString();for(c=0;c<a.length;c++)if(a[c]instanceof RegExp&&a[c].toString()===d)return a;a.push(b)}else b&&-1===a.indexOf(b)&&a.push(b);return a}},{}],657:[function(a,b,c){"use strict";function d(a,b){for(var c,d=[],f=0;f<b.length;f++)c=b[f],c===a?d[f]=c:"object"===(void 0===c?"undefined":_typeof(c))?d[f]=Array.isArray(c)?e.extendDeep([],c):e.extendDeepAll({},c):d[f]=c;return d}var e=a("../lib"),f=a("../plot_api/plot_config"),g={};g.add=function(a,b,c,d,e){var g,h;return a.undoQueue=a.undoQueue||{index:0,queue:[],sequence:!1},h=a.undoQueue.index,a.autoplay?void(a.undoQueue.inSequence||(a.autoplay=!1)):(!a.undoQueue.sequence||a.undoQueue.beginSequence?(g={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},a.undoQueue.queue.splice(h,a.undoQueue.queue.length-h,g),a.undoQueue.index+=1):g=a.undoQueue.queue[h-1],a.undoQueue.beginSequence=!1,g&&(g.undo.calls.unshift(b),g.undo.args.unshift(c),g.redo.calls.push(d),g.redo.args.push(e)),a.undoQueue.queue.length>f.queueLength&&(a.undoQueue.queue.shift(),a.undoQueue.index--),void 0)},g.startSequence=function(a){a.undoQueue=a.undoQueue||{index:0,queue:[],sequence:!1},a.undoQueue.sequence=!0,a.undoQueue.beginSequence=!0},g.stopSequence=function(a){a.undoQueue=a.undoQueue||{index:0,queue:[],sequence:!1},a.undoQueue.sequence=!1,a.undoQueue.beginSequence=!1},g.undo=function(a){var b,c;if(a.framework&&a.framework.isPolar)return void a.framework.undo();if(!(void 0===a.undoQueue||isNaN(a.undoQueue.index)||a.undoQueue.index<=0)){for(a.undoQueue.index--,b=a.undoQueue.queue[a.undoQueue.index],a.undoQueue.inSequence=!0,c=0;c<b.undo.calls.length;c++)g.plotDo(a,b.undo.calls[c],b.undo.args[c]);a.undoQueue.inSequence=!1,a.autoplay=!1}},g.redo=function(a){var b,c;if(a.framework&&a.framework.isPolar)return void a.framework.redo();if(!(void 0===a.undoQueue||isNaN(a.undoQueue.index)||a.undoQueue.index>=a.undoQueue.queue.length)){for(b=a.undoQueue.queue[a.undoQueue.index],a.undoQueue.inSequence=!0,c=0;c<b.redo.calls.length;c++)g.plotDo(a,b.redo.calls[c],b.redo.args[c]);a.undoQueue.inSequence=!1,a.autoplay=!1,a.undoQueue.index++}},g.plotDo=function(a,b,c){a.autoplay=!0,c=d(a,c),b.apply(null,c)},b.exports=g},{"../lib":645,"../plot_api/plot_config":668}],658:[function(a,b,c){"use strict";var d=a("./is_array"),e=a("./is_plain_object");b.exports=function f(a,b){for(var c=Object.keys(b||{}),g=0;g<c.length;g++){var h=c[g],i=b[h],j=a[h];if("_"===h.charAt(0)||"function"==typeof i){if(h in a)continue;a[h]=i}else if(d(i)&&d(j)&&e(i[0]))for(var k=0;k<i.length;k++)e(i[k])&&e(j[k])&&f(j[k],i[k]);else e(i)&&e(j)&&(f(j,i),Object.keys(j).length||delete a[h])}}},{"./is_array":646,"./is_plain_object":647}],659:[function(a,b,c){"use strict";function d(a,b){return b>a}function e(a,b){return b>=a}function f(a,b){return a>b}function g(a,b){return a>=b}var h=a("fast-isnumeric"),i=a("./loggers");c.findBin=function(a,b,c){if(h(b.start))return c?Math.ceil((a-b.start)/b.size)-1:Math.floor((a-b.start)/b.size);var j,k,l=0,m=b.length,n=0;for(k=b[b.length-1]>=b[0]?c?d:e:c?g:f;m>l&&n++<100;)j=Math.floor((l+m)/2),k(b[j],a)?l=j+1:m=j;return n>90&&i.log("Long binary search..."),l-1},c.sorterAsc=function(a,b){return a-b},c.sorterDes=function(a,b){return b-a},c.distinctVals=function(a){var b=a.slice();b.sort(c.sorterAsc);for(var d=b.length-1,e=b[d]-b[0]||1,f=e/(d||1)/1e4,g=[b[0]],h=0;d>h;h++)b[h+1]>b[h]+f&&(e=Math.min(e,b[h+1]-b[h]),g.push(b[h+1]));return{vals:g,minDiff:e}},c.roundUp=function(a,b,c){for(var d,e=0,f=b.length-1,g=0,h=c?0:1,i=c?1:0,j=c?Math.ceil:Math.floor;f>e&&g++<100;)d=j((e+f)/2),b[d]<=a?e=d+h:f=d-i;return b[e]}},{"./loggers":648,"fast-isnumeric":259}],660:[function(a,b,c){"use strict";b.exports=function(a,b){(a.attr("class")||"").split(" ").forEach(function(b){0===b.indexOf("cursor-")&&a.classed(b,!1)}),b&&a.classed("cursor-"+b,!0)}},{}],661:[function(a,b,c){"use strict";var d=a("fast-isnumeric");c.aggNums=function(a,b,e,f){var g,h;if(f||(f=e.length),d(b)||(b=!1),Array.isArray(e[0])){for(h=new Array(f),g=0;f>g;g++)h[g]=c.aggNums(a,b,e[g]);e=h}for(g=0;f>g;g++)d(b)?d(e[g])&&(b=a(+b,+e[g])):b=e[g];return b},c.len=function(a){return c.aggNums(function(a){return a+1},0,a)},c.mean=function(a,b){return b||(b=c.len(a)),c.aggNums(function(a,b){return a+b},0,a)/b},c.variance=function(a,b,e){return b||(b=c.len(a)),d(e)||(e=c.mean(a,b)),c.aggNums(function(a,b){return a+Math.pow(b-e,2)},0,a)/b},c.stdev=function(a,b,d){return Math.sqrt(c.variance(a,b,d))},c.interp=function(a,b){if(!d(b))throw"n should be a finite number";if((b=b*a.length-.5)<0)return a[0];if(b>a.length-1)return a[a.length-1];var c=b%1;return c*a[Math.ceil(b)]+(1-c)*a[Math.floor(b)]}},{"fast-isnumeric":259}],662:[function(a,b,c){"use strict";function d(a,b){return a.node().getBoundingClientRect()[b]}function e(a){return a.replace(/(<|&lt;|&#60;)/g,"\\lt ").replace(/(>|&gt;|&#62;)/g,"\\gt ")}function f(a,b,c){var d="math-output-"+n.randstr([],64),f=m.select("body").append("div").attr({id:d}).style({visibility:"hidden",position:"absolute"}).style({"font-size":b.fontSize+"px"}).text(e(a));MathJax.Hub.Queue(["Typeset",MathJax.Hub,f.node()],function(){var b=m.select("body").select("#MathJax_SVG_glyphs");if(f.select(".MathJax_SVG").empty()||!f.select("svg").node())n.log("There was an error in the tex syntax.",a),c();else{var d=f.select("svg").node().getBoundingClientRect();c(f.select(".MathJax_SVG"),b,d)}f.remove()})}function g(a,b){for(var c=a||"",d=0;d<b.length;d++){var e=b[d];c=c.replace(e.regExp,e.sub)}return c}function h(a){return g(a,u)}function i(a){return g(a,v)}function j(a){a=h(a).replace(w," ");for(var b=a.split(x).map(function(a){var b=a.match(y),d=b&&b[2].toLowerCase(),e=q[d];if(void 0!==e){if(b[1])return("a"===d?"</a>":"</tspan>")+(r[d]||"");if("br"===d)return"<br>";var f,g=b[4];if("a"===d){var h=g&&g.match(A),j=h&&(h[3]||h[4]);if(f="<a",j){var k=document.createElement("a");k.href=j,-1!==s.indexOf(k.protocol)&&(f+=' xlink:show="new" xlink:href="'+i(j)+'"')}}else f="<tspan","sup"!==d&&"sub"!==d||(f="&#x200b;"+f);var l=g&&g.match(z),m=l&&(l[3]||l[4]);return m?(m=i(m.replace(B,"$1 fill:")),e&&(m+=";"+e)):e&&(m=e),m?f+' style="'+m+'">':f+">"}return c.xml_entity_encode(a).replace(/</g,"&lt;")}),d=[],e=b.indexOf("<br>");e>0;e=b.indexOf("<br>",e+1))d.push(e);var f=0;d.forEach(function(a){for(var c=a+f,d=b.slice(0,c),e="",g=d.length-1;g>=0;g--){var h=d[g].match(/<(\/?).*>/i);if(h&&"<br>"!==d[g]){h[1]||(e=d[g]);break}}e&&(b.splice(c+1,0,e),b.splice(c,0,"</tspan>"),f+=2)});var g=b.join(""),j=g.split(/<br>/gi);return j.length>1&&(b=j.map(function(a,b){return'<tspan class="line" dy="'+1.3*b+'em">'+a+"</tspan>"})),b.join("")}function k(a,b,c){var d,e,f,g=c.horizontalAlign,h=c.verticalAlign||"top",i=a.node().getBoundingClientRect(),j=b.node().getBoundingClientRect();return e="bottom"===h?function(){return i.bottom-d.height}:"middle"===h?function(){return i.top+(i.height-d.height)/2}:function(){return i.top},f="right"===g?function(){return i.right-d.width}:"center"===g?function(){return i.left+(i.width-d.width)/2}:function(){return i.left},function(){return d=this.node().getBoundingClientRect(),this.style({top:e()-j.top+"px",left:f()-j.left+"px","z-index":1e3}),this}}var l,m=a("d3"),n=a("../lib"),o=a("../constants/xmlns_namespaces"),p=a("../constants/string_mappings");c.getDOMParser=function(){if(l)return l;if(window.DOMParser)return l=new window.DOMParser;throw new Error("Cannot initialize DOMParser")},m.selection.prototype.appendSVG=function(a){for(var b=['<svg xmlns="',o.svg,'" ','xmlns:xlink="',o.xlink,'">',a,"</svg>"].join(""),d=c.getDOMParser(),e=d.parseFromString(b,"application/xml"),f=e.documentElement.firstChild;f;)this.node().appendChild(this.node().ownerDocument.importNode(f,!0)),f=f.nextSibling;return e.querySelector("parsererror")?(n.log(e.querySelector("parsererror div").textContent),null):m.select(this.node().lastChild)},c.html_entity_decode=function(a){var b=m.select("body").append("div").style({display:"none"}).html(""),c=a.replace(/(&[^;]*;)/gi,function(a){return"&lt;"===a?"&#60;":"&rt;"===a?"&#62;":-1!==a.indexOf("<")||-1!==a.indexOf(">")?"":b.html(a).text()});return b.remove(),c},c.xml_entity_encode=function(a){return a.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")},c.convertToTspans=function(a,b){function c(){l.empty()||(o=h.attr("class")+"-math",l.select("svg."+o).remove()),a.text("").style({visibility:"inherit","white-space":"pre"}),k=a.appendSVG(g),k||a.text(e),a.select("a").size()&&a.style("pointer-events","all"),b&&b.call(h)}var e=a.text(),g=j(e),h=a,i=!h.attr("data-notex")&&g.match(/([^$]*)([$]+[^$]*[$]+)([^$]*)/),k=e,l=m.select(h.node().parentNode);if(!l.empty()){var o=h.attr("class")?h.attr("class").split(" ")[0]:"text";o+="-math",l.selectAll("svg."+o).remove(),l.selectAll("g."+o+"-group").remove(),a.style({visibility:null});for(var p=a.node();p&&p.removeAttribute;p=p.parentNode)p.removeAttribute("data-bb");if(i){var q=n.getPlotDiv(h.node());(q&&q._promises||[]).push(new Promise(function(a){h.style({visibility:"hidden"});var e={fontSize:parseInt(h.style("font-size"),10)};f(i[2],e,function(e,f,g){l.selectAll("svg."+o).remove(),l.selectAll("g."+o+"-group").remove();var i=e&&e.select("svg");if(!i||!i.node())return c(),void a();var j=l.append("g").classed(o+"-group",!0).attr({"pointer-events":"none"});j.node().appendChild(i.node()),f&&f.node()&&i.node().insertBefore(f.node().cloneNode(!0),i.node().firstChild),i.attr({"class":o,height:g.height,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var k=h.style("fill")||"black";i.select("g").attr({fill:k,stroke:k});var m=d(i,"width"),n=d(i,"height"),p=+h.attr("x")-m*{start:0,middle:.5,end:1}[h.attr("text-anchor")||"start"],q=parseInt(h.style("font-size"),10)||d(h,"height"),r=-q/4;"y"===o[0]?(j.attr({transform:"rotate("+[-90,+h.attr("x"),+h.attr("y")]+") translate("+[-m/2,r-n/2]+")"}),i.attr({x:+h.attr("x"),y:+h.attr("y")})):"l"===o[0]?i.attr({x:h.attr("x"),y:r-n/2}):"a"===o[0]?i.attr({x:0,y:r}):i.attr({x:p,y:+h.attr("y")+r-n/2}),b&&b.call(h,j),a(j)})}))}else c();return a}};var q={sup:'font-size:70%" dy="-0.6em',sub:'font-size:70%" dy="0.3em',b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",br:"",em:"font-style:italic;font-weight:bold"},r={sup:'<tspan dy="0.42em">&#x200b;</tspan>',sub:'<tspan dy="-0.21em">&#x200b;</tspan>'},s=["http:","https:","mailto:"],t=new RegExp("</?("+Object.keys(q).join("|")+")( [^>]*)?/?>","g"),u=Object.keys(p.entityToUnicode).map(function(a){return{regExp:new RegExp("&"+a+";","g"),sub:p.entityToUnicode[a]}}),v=Object.keys(p.unicodeToEntity).map(function(a){return{regExp:new RegExp(a,"g"),sub:"&"+p.unicodeToEntity[a]+";"}}),w=/(\r\n?|\n)/g,x=/(<[^<>]*>)/,y=/<(\/?)([^ >]*)(\s+(.*))?>/i,z=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,A=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,B=/(^|;)\s*color:/;c.plainText=function(a){return(a||"").replace(t," ")},c.makeEditable=function(a,b,c){function d(){f(),g.style({opacity:0});var a,b=j.attr("class");(a=b?"."+b.split(" ")[0]+"-math-group":"[class*=-math-group]")&&m.select(g.node().parentNode).select(a).style({opacity:0})}function e(a){var b=a.node(),c=document.createRange();c.selectNodeContents(b);var d=window.getSelection();d.removeAllRanges(),d.addRange(c),b.focus()}function f(){var a=n.getPlotDiv(g.node()),b=m.select(a),d=b.select(".svg-container"),f=d.append("div");f.classed("plugin-editable editable",!0).style({position:"absolute","font-family":g.style("font-family")||"Arial","font-size":g.style("font-size")||12,color:c.fill||g.style("fill")||"black",opacity:1,"background-color":c.background||"transparent",outline:"#ffffff33 1px solid",margin:[-parseFloat(g.style("font-size"))/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(c.text||g.attr("data-unformatted")).call(k(g,d,c)).on("blur",function(){a._editing=!1,g.text(this.textContent).style({opacity:1});var b,c=m.select(this).attr("class");(b=c?"."+c.split(" ")[0]+"-math-group":"[class*=-math-group]")&&m.select(g.node().parentNode).select(b).style({opacity:0});var d=this.textContent;m.select(this).transition().duration(0).remove(),m.select(document).on("mouseup",null),h.edit.call(g,d)}).on("focus",function(){var b=this;a._editing=!0,m.select(document).on("mouseup",function(){return m.event.target===b?!1:void(document.activeElement===f.node()&&f.node().blur())})}).on("keyup",function(){27===m.event.which?(a._editing=!1,g.style({opacity:1}),m.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),h.cancel.call(g,this.textContent)):(h.input.call(g,this.textContent),m.select(this).call(k(g,d,c)))}).on("keydown",function(){13===m.event.which&&this.blur()}).call(e)}c||(c={});var g=this,h=m.dispatch("edit","input","cancel"),i=m.select(this.node()).style({"pointer-events":"all"}),j=b||i;return b&&i.style({"pointer-events":"none"}),c.immediate?d():j.on("click",d),m.rebind(this,h,"on")}},{"../constants/string_mappings":632,"../constants/xmlns_namespaces":633,"../lib":645,d3:256}],663:[function(a,b,c){"use strict";var d=a("fast-isnumeric");b.exports=function(a,b){if(a>0)return Math.log(a)/Math.LN10;var c=Math.log(Math.min(b[0],b[1]))/Math.LN10;return d(c)||(c=Math.log(Math.max(b[0],b[1]))/Math.LN10-6),c}},{"fast-isnumeric":259}],664:[function(a,b,c){"use strict";var d=a("../registry");b.exports=function(a){for(var b,c,e=d.layoutArrayContainers,f=d.layoutArrayRegexes,g=a.split("[")[0],h=0;h<f.length;h++)if((c=a.match(f[h]))&&0===c.index){
b=c[0];break}if(b||(b=e[e.indexOf(g)]),!b)return!1;var i=a.substr(b.length);return i?!!(c=i.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:b,index:Number(c[1]),property:c[3]||""}:{array:b,index:"",property:""}}},{"../registry":715}],665:[function(a,b,c){"use strict";function d(a,b){var c=a[b],d=b.charAt(0);c&&"paper"!==c&&(a[b]=m.cleanId(c,d))}function e(a){var b="middle",c="center";return-1!==a.indexOf("top")?b="top":-1!==a.indexOf("bottom")&&(b="bottom"),-1!==a.indexOf("left")?c="left":-1!==a.indexOf("right")&&(c="right"),b+" "+c}function f(a,b){return b in a&&"object"===_typeof(a[b])&&0===Object.keys(a[b]).length}function g(a){var b=a.search(o);return b>0?a.substr(0,b):void 0}var h=a("fast-isnumeric"),i=a("gl-mat4/fromQuat"),j=a("../registry"),k=a("../lib"),l=a("../plots/plots"),m=a("../plots/cartesian/axes"),n=a("../components/color");c.getGraphDiv=function(a){var b;if("string"==typeof a){if(null===(b=document.getElementById(a)))throw new Error("No DOM element with id '"+a+"' exists on the page.");return b}if(null===a||void 0===a)throw new Error("DOM element provided is null or undefined");return a},c.clearPromiseQueue=function(a){Array.isArray(a._promises)&&a._promises.length>0&&k.log("Clearing previous rejected promises from queue."),a._promises=[]},c.cleanLayout=function(a){var b,c;a||(a={}),a.xaxis1&&(a.xaxis||(a.xaxis=a.xaxis1),delete a.xaxis1),a.yaxis1&&(a.yaxis||(a.yaxis=a.yaxis1),delete a.yaxis1);var e=m.list({_fullLayout:a});for(b=0;b<e.length;b++){var g=e[b];g.anchor&&"free"!==g.anchor&&(g.anchor=m.cleanId(g.anchor)),g.overlaying&&(g.overlaying=m.cleanId(g.overlaying)),g.type||(g.isdate?g.type="date":g.islog?g.type="log":!1===g.isdate&&!1===g.islog&&(g.type="linear")),"withzero"!==g.autorange&&"tozero"!==g.autorange||(g.autorange=!0,g.rangemode="tozero"),delete g.islog,delete g.isdate,delete g.categories,f(g,"domain")&&delete g.domain,void 0!==g.autotick&&(void 0===g.tickmode&&(g.tickmode=g.autotick?"auto":"linear"),delete g.autotick)}var h=Array.isArray(a.annotations)?a.annotations.length:0;for(b=0;h>b;b++){var j=a.annotations[b];k.isPlainObject(j)&&(j.ref&&("paper"===j.ref?(j.xref="paper",j.yref="paper"):"data"===j.ref&&(j.xref="x",j.yref="y"),delete j.ref),d(j,"xref"),d(j,"yref"))}var o=Array.isArray(a.shapes)?a.shapes.length:0;for(b=0;o>b;b++){var p=a.shapes[b];k.isPlainObject(p)&&(d(p,"xref"),d(p,"yref"))}var q=a.legend;q&&(q.x>3?(q.x=1.02,q.xanchor="left"):q.x<-2&&(q.x=-.02,q.xanchor="right"),q.y>3?(q.y=1.02,q.yanchor="bottom"):q.y<-2&&(q.y=-.02,q.yanchor="top")),"rotate"===a.dragmode&&(a.dragmode="orbit"),a.scene1&&(a.scene||(a.scene=a.scene1),delete a.scene1);var r=l.getSubplotIds(a,"gl3d");for(b=0;b<r.length;b++){var s=a[r[b]],t=s.cameraposition;if(Array.isArray(t)&&4===t[0].length){var u=t[0],v=t[1],w=t[2],x=i([],u),y=[];for(c=0;3>c;++c)y[c]=v[b]+w*x[2+4*c];s.camera={eye:{x:y[0],y:y[1],z:y[2]},center:{x:v[0],y:v[1],z:v[2]},up:{x:x[1],y:x[5],z:x[9]}},delete s.cameraposition}}return n.clean(a),a},c.cleanData=function(a,b){for(var d=[],g=(a.concat(Array.isArray(b)?b:[]).filter(function(a){return"uid"in a}).map(function(a){return a.uid})),h=0;h<a.length;h++){var i,o=a[h];if(!("uid"in o)||-1!==d.indexOf(o.uid)){var p;for(i=0;100>i&&(p=k.randstr(g),-1!==d.indexOf(p));i++);o.uid=k.randstr(g),g.push(o.uid)}if(d.push(o.uid),"histogramy"===o.type&&"xbins"in o&&!("ybins"in o)&&(o.ybins=o.xbins,delete o.xbins),o.error_y&&"opacity"in o.error_y){var q=n.defaults,r=o.error_y.color||(j.traceIs(o,"bar")?n.defaultLine:q[h%q.length]);o.error_y.color=n.addOpacity(n.rgb(r),n.opacity(r)*o.error_y.opacity),delete o.error_y.opacity}if("bardir"in o&&("h"!==o.bardir||!j.traceIs(o,"bar")&&"histogram"!==o.type.substr(0,9)||(o.orientation="h",c.swapXYData(o)),delete o.bardir),"histogramy"===o.type&&c.swapXYData(o),"histogramx"!==o.type&&"histogramy"!==o.type||(o.type="histogram"),"scl"in o&&(o.colorscale=o.scl,delete o.scl),"reversescl"in o&&(o.reversescale=o.reversescl,delete o.reversescl),o.xaxis&&(o.xaxis=m.cleanId(o.xaxis,"x")),o.yaxis&&(o.yaxis=m.cleanId(o.yaxis,"y")),j.traceIs(o,"gl3d")&&o.scene&&(o.scene=l.subplotsRegistry.gl3d.cleanId(o.scene)),j.traceIs(o,"pie")||j.traceIs(o,"bar")||(Array.isArray(o.textposition)?o.textposition=o.textposition.map(e):o.textposition&&(o.textposition=e(o.textposition))),j.traceIs(o,"2dMap")&&("YIGnBu"===o.colorscale&&(o.colorscale="YlGnBu"),"YIOrRd"===o.colorscale&&(o.colorscale="YlOrRd")),j.traceIs(o,"markerColorscale")&&o.marker){var s=o.marker;"YIGnBu"===s.colorscale&&(s.colorscale="YlGnBu"),"YIOrRd"===s.colorscale&&(s.colorscale="YlOrRd")}if("surface"===o.type&&k.isPlainObject(o.contours)){var t=["x","y","z"];for(i=0;i<t.length;i++){var u=o.contours[t[i]];k.isPlainObject(u)&&(u.highlightColor&&(u.highlightcolor=u.highlightColor,delete u.highlightColor),u.highlightWidth&&(u.highlightwidth=u.highlightWidth,delete u.highlightWidth))}}if(Array.isArray(o.transforms)){var v=o.transforms;for(i=0;i<v.length;i++){var w=v[i];k.isPlainObject(w)&&"filter"===w.type&&(w.filtersrc&&(w.target=w.filtersrc,delete w.filtersrc),w.calendar&&(w.valuecalendar||(w.valuecalendar=w.calendar),delete w.calendar))}}f(o,"line")&&delete o.line,"marker"in o&&(f(o.marker,"line")&&delete o.marker.line,f(o,"marker")&&delete o.marker),n.clean(o)}},c.swapXYData=function(a){var b;if(k.swapAttrs(a,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(a.z)&&Array.isArray(a.z[0])&&(a.transpose?delete a.transpose:a.transpose=!0),a.error_x&&a.error_y){var c=a.error_y,d="copy_ystyle"in c?c.copy_ystyle:!(c.color||c.thickness||c.width);k.swapAttrs(a,["error_?.copy_ystyle"]),d&&k.swapAttrs(a,["error_?.color","error_?.thickness","error_?.width"])}if(a.hoverinfo){var e=a.hoverinfo.split("+");for(b=0;b<e.length;b++)"x"===e[b]?e[b]="y":"y"===e[b]&&(e[b]="x");a.hoverinfo=e.join("+")}},c.coerceTraceIndices=function(a,b){return h(b)?[b]:Array.isArray(b)&&b.length?b:a.data.map(function(a,b){return b})},c.manageArrayContainers=function(a,b,c){var d=a.obj,e=a.parts,f=e.length,g=e[f-1],i=h(g);if(i&&null===b){var j=e.slice(0,f-1).join(".");k.nestedProperty(d,j).get().splice(g,1)}else i&&void 0===a.get()?(void 0===a.get()&&(c[a.astr]=null),a.set(b)):a.set(b)};var o=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;c.hasParent=function(a,b){for(var c=g(b);c;){if(c in a)return!0;c=g(c)}return!1}},{"../components/color":534,"../lib":645,"../plots/cartesian/axes":680,"../plots/plots":708,"../registry":715,"fast-isnumeric":259,"gl-mat4/fromQuat":261}],666:[function(a,b,c){"use strict";var d=a("../lib/nested_property"),e=a("../lib/is_plain_object"),f=a("../lib/noop"),g=a("../lib/loggers"),h=a("../lib/search").sorterAsc,i=a("../registry");c.containerArrayMatch=a("./container_array_match");var j=c.isAddVal=function(a){return"add"===a||e(a)},k=c.isRemoveVal=function(a){return null===a||"remove"===a};c.applyContainerArrayChanges=function(a,b,c,e){var l=b.astr,m=i.getComponentMethod(l,"supplyLayoutDefaults"),n=i.getComponentMethod(l,"draw"),o=i.getComponentMethod(l,"drawOne"),p=e.replot||e.recalc||m===f||n===f,q=a.layout,r=a._fullLayout;if(c[""]){Object.keys(c).length>1&&g.warn("Full array edits are incompatible with other edits",l);var s=c[""][""];if(k(s))b.set(null);else{if(!Array.isArray(s))return g.warn("Unrecognized full array edit value",l,s),!0;b.set(s)}return!p&&(m(q,r),n(a),!0)}var t,u,v,w,x,y,z,A=Object.keys(c).map(Number).sort(h),B=b.get(),C=B||[],D=d(r,l).get(),E=[],F=-1,G=C.length;for(t=0;t<A.length;t++)if(v=A[t],w=c[v],x=Object.keys(w),y=w[""],z=j(y),0>v||v>C.length-(z?0:1))g.warn("index out of range",l,v);else if(void 0!==y)x.length>1&&g.warn("Insertion & removal are incompatible with edits to the same index.",l,v),k(y)?E.push(v):z?("add"===y&&(y={}),C.splice(v,0,y),D&&D.splice(v,0,{})):g.warn("Unrecognized full object edit value",l,v,y),-1===F&&(F=v);else for(u=0;u<x.length;u++)d(C[v],x[u]).set(w[x[u]]);for(t=E.length-1;t>=0;t--)C.splice(E[t],1),D&&D.splice(E[t],1);if(C.length?B||b.set(C):b.set(null),p)return!1;if(m(q,r),o!==f){var H;if(-1===F)H=A;else{for(G=Math.max(C.length,G),H=[],t=0;t<A.length&&!((v=A[t])>=F);t++)H.push(v);for(t=F;G>t;t++)H.push(t)}for(t=0;t<H.length;t++)o(a,H[t])}else n(a);return!0}},{"../lib/is_plain_object":647,"../lib/loggers":648,"../lib/nested_property":651,"../lib/noop":652,"../lib/search":659,"../registry":715,"./container_array_match":664}],667:[function(a,b,c){"use strict";function d(a,b){a._fullLayout._paperdiv.style("background","white"),s.defaultConfig.setBackground(a,b)}function e(a,b){a._context||(a._context=t.extendFlat({},s.defaultConfig));var c=a._context;b&&(Object.keys(b).forEach(function(a){a in c&&("setBackground"===a&&"opaque"===b[a]?c[a]=d:c[a]=b[a])}),b.plot3dPixelRatio&&!c.plotGlPixelRatio&&(c.plotGlPixelRatio=c.plot3dPixelRatio)),c.staticPlot&&(c.editable=!1,c.autosizable=!1,c.scrollZoom=!1,c.doubleClick=!1,c.showTips=!1,c.showLink=!1,c.displayModeBar=!1)}function f(a,b,c){var d=q.select(a).selectAll(".plot-container").data([0]);d.enter().insert("div",":first-child").classed("plot-container plotly",!0);var e=d.selectAll(".svg-container").data([0]);e.enter().append("div").classed("svg-container",!0).style("position","relative"),e.html(""),b&&(a.data=b),c&&(a.layout=c),y.manager.fillLayout(a),e.style({width:a._fullLayout.width+"px",height:a._fullLayout.height+"px"}),a.framework=y.manager.framework(a),a.framework({data:a.data,layout:a.layout},e.node()),a.framework.setUndoPoint();var f=a.framework.svg(),g=1,h=a._fullLayout.title;""!==h&&h||(g=0);var i=function(){this.call(D.convertToTspans)},j=f.select(".title-group text").call(i);if(a._context.editable){j.attr({"data-unformatted":h}),h&&"Click to enter title"!==h||(g=.2,j.attr({"data-unformatted":"Click to enter title"}).text("Click to enter title").style({opacity:g}).on("mouseover.opacity",function(){q.select(this).transition().duration(100).style("opacity",1)}).on("mouseout.opacity",function(){q.select(this).transition().duration(1e3).style("opacity",0)}));var k=function l(){this.call(D.makeEditable).on("edit",function(b){a.framework({layout:{title:b}}),this.attr({"data-unformatted":b}).text(b).call(i),this.call(l)}).on("cancel",function(){var a=this.attr("data-unformatted");this.text(a).call(i)})};j.call(k)}return a._context.setBackground(a,a._fullLayout.paper_bgcolor),x.addLinks(a),Promise.resolve()}function g(a,b){var c,d,e=b+1,f=[];for(c=0;c<a.length;c++)d=a[c],0>d?f.push(e+d):f.push(d);return f}function h(a,b,c){var d,e;for(d=0;d<b.length;d++){if((e=b[d])!==parseInt(e,10))throw new Error("all values in "+c+" must be integers");if(e>=a.data.length||e<-a.data.length)throw new Error(c+" must be valid indices for gd.data.");if(b.indexOf(e,d+1)>-1||e>=0&&b.indexOf(-a.data.length+e)>-1||0>e&&b.indexOf(a.data.length+e)>-1)throw new Error("each index in "+c+" must be unique.")}}function i(a,b,c){if(!Array.isArray(a.data))throw new Error("gd.data must be an array.");if(void 0===b)throw new Error("currentIndices is a required argument.");if(Array.isArray(b)||(b=[b]),h(a,b,"currentIndices"),void 0===c||Array.isArray(c)||(c=[c]),void 0!==c&&h(a,c,"newIndices"),void 0!==c&&b.length!==c.length)throw new Error("current and new indices must be of equal length.")}function j(a,b,c){var d,e;if(!Array.isArray(a.data))throw new Error("gd.data must be an array.");if(void 0===b)throw new Error("traces must be defined.");for(Array.isArray(b)||(b=[b]),d=0;d<b.length;d++)if(e=b[d],"object"!==(void 0===e?"undefined":_typeof(e))||Array.isArray(e)||null===e)throw new Error("all values in traces array must be non-array objects");if(void 0===c||Array.isArray(c)||(c=[c]),void 0!==c&&c.length!==b.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function k(a,b,c,d){var e=t.isPlainObject(d);if(!Array.isArray(a.data))throw new Error("gd.data must be an array");if(!t.isPlainObject(b))throw new Error("update must be a key:value object");if(void 0===c)throw new Error("indices must be an integer or array of integers");h(a,c,"indices");for(var f in b){if(!Array.isArray(b[f])||b[f].length!==c.length)throw new Error("attribute "+f+" must be an array of length equal to indices array length");if(e&&(!(f in d)||!Array.isArray(d[f])||d[f].length!==b[f].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function l(a,b,c,d){var e,f,h,i,j,k=t.isPlainObject(d),l=[];Array.isArray(c)||(c=[c]),c=g(c,a.data.length-1);for(var m in b)for(var n=0;n<c.length;n++){if(e=a.data[c[n]],h=t.nestedProperty(e,m),f=h.get(),i=b[m][n],!Array.isArray(i))throw new Error("attribute: "+m+" index: "+n+" must be an array");if(!Array.isArray(f))throw new Error("cannot extend missing or non-array attribute: "+m);j=k?d[m][n]:d,r(j)||(j=-1),l.push({prop:h,target:f,insert:i,maxp:Math.floor(j)})}return l}function m(a,b,c,d,e,f){k(a,b,c,d);for(var g,h,i,j=l(a,b,c,d),m=[],n={},o={},p=0;p<j.length;p++)h=j[p].prop,i=j[p].maxp,g=e(j[p].target,j[p].insert),i>=0&&i<g.length&&(m=f(g,i)),i=j[p].target.length,h.set(g),Array.isArray(n[h.astr])||(n[h.astr]=[]),Array.isArray(o[h.astr])||(o[h.astr]=[]),n[h.astr].push(m),o[h.astr].push(i);return{update:n,maxPoints:o}}function n(a,b,c){function d(){return n.map(function(){})}function e(a){var b=s.Axes.id2name(a);-1===j.indexOf(b)&&j.push(b)}function f(a){return"LAYOUT"+a+".autorange"}function g(a){return"LAYOUT"+a+".range"}function h(c,e,f){if(Array.isArray(c))return void c.forEach(function(a){h(a,e,f)});if(!(c in b||F.hasParent(b,c))){var g;g="LAYOUT"===c.substr(0,6)?t.nestedProperty(a.layout,c.replace("LAYOUT","")):t.nestedProperty(m[n[f]],c),c in q||(q[c]=d()),void 0===q[c][f]&&(q[c][f]=g.get()),void 0!==e&&g.set(e)}}var i,j,k=a._fullLayout,l=a._fullData,m=a.data,n=F.coerceTraceIndices(a,c),o={docalc:!1,docalcAutorange:!1,doplot:!1,dostyle:!1,docolorbars:!1,autorangeOn:!1,clearCalc:!1,fullReplot:!1},p={},q={},r={},u=["mode","visible","type","orientation","fill","histfunc","histnorm","text","x","y","z","a","b","c","open","high","low","close","base","width","offset","xtype","x0","dx","ytype","y0","dy","xaxis","yaxis","line.width","connectgaps","transpose","zsmooth","showscale","marker.showscale","zauto","marker.cauto","autocolorscale","marker.autocolorscale","colorscale","marker.colorscale","reversescale","marker.reversescale","autobinx","nbinsx","xbins","xbins.start","xbins.end","xbins.size","autobiny","nbinsy","ybins","ybins.start","ybins.end","ybins.size","autocontour","ncontours","contours","contours.coloring","contours.operation","contours.value","contours.type","contours.value[0]","contours.value[1]","error_y","error_y.visible","error_y.value","error_y.type","error_y.traceref","error_y.array","error_y.symmetric","error_y.arrayminus","error_y.valueminus","error_y.tracerefminus","error_x","error_x.visible","error_x.value","error_x.type","error_x.traceref","error_x.array","error_x.symmetric","error_x.arrayminus","error_x.valueminus","error_x.tracerefminus","swapxy","swapxyaxes","orientationaxes","marker.colors","values","labels","label0","dlabel","sort","textinfo","textposition","textfont.size","textfont.family","textfont.color","insidetextfont.size","insidetextfont.family","insidetextfont.color","outsidetextfont.size","outsidetextfont.family","outsidetextfont.color","hole","scalegroup","domain","domain.x","domain.y","domain.x[0]","domain.x[1]","domain.y[0]","domain.y[1]","tilt","tiltaxis","depth","direction","rotation","pull","line.showscale","line.cauto","line.autocolorscale","line.reversescale","marker.line.showscale","marker.line.cauto","marker.line.autocolorscale","marker.line.reversescale","xcalendar","ycalendar","cumulative","cumulative.enabled","cumulative.direction","cumulative.currentbin","a0","da","b0","db","atype","btype","cheaterslope","carpet","sum"],v=["color","smoothing","title","titlefont","titlefont.size","titlefont.family","titlefont.color","titleoffset","type","autorange","rangemode","range","fixedrange","cheatertype","tickmode","nticks","tickvals","ticktext","ticks","mirror","ticklen","tickwidth","tickcolor","showticklabels","tickfont","tickfont.size","tickfont.family","tickfont.color","tickprefix","showtickprefix","ticksuffix","showticksuffix","showexponent","exponentformat","separatethousands","tickformat","categoryorder","categoryarray","labelpadding","labelprefix","labelsuffix","labelfont","labelfont.family","labelfont.size","labelfont.color","showline","linecolor","linewidth","gridcolor","gridwidth","showgrid","minorgridcount","minorgridwidth","minorgridcolor","startline","startlinecolor","startlinewidth","endline","endlinewidth","endlinecolor","tick0","dtick","arraytick0","arraydtick","hoverformat","tickangle"];for(i=0;i<v.length;i++)u.push("aaxis."+v[i]),u.push("baxis."+v[i]);for(i=0;i<n.length;i++)if(w.traceIs(l[n[i]],"box")){u.push("name");break}var y=["marker","marker.size","textfont","boxpoints","jitter","pointpos","whiskerwidth","boxmean","tickwidth"],z=["zmin","zmax","zauto","xgap","ygap","marker.cmin","marker.cmax","marker.cauto","line.cmin","line.cmax","marker.line.cmin","marker.line.cmax","contours.start","contours.end","contours.size","contours.showlines","line","line.smoothing","line.shape","error_y.width","error_x.width","error_x.copy_ystyle","marker.maxdisplayed"],A=["type","x","y","x0","y0","orientation","xaxis","yaxis"],B=["zmin","zmax"],C=["xbins.start","xbins.end","xbins.size"],D=["ybins.start","ybins.end","ybins.size"],E=["contours.start","contours.end","contours.size"],G=["cartesian","pie","ternary"];k._basePlotModules.forEach(function(a){-1===G.indexOf(a.name)&&(o.docalc=!0)});for(var H in b){if(F.hasParent(b,H))throw new Error("cannot set "+H+"and a parent attribute simultaneously");var I,J,K,L,M,N=b[H];if(p[H]=N,"LAYOUT"!==H.substr(0,6)){for(q[H]=d(),i=0;i<n.length;i++)if(I=m[n[i]],J=l[n[i]],K=t.nestedProperty(I,H),L=K.get(),void 0!==(M=Array.isArray(N)?N[i%N.length]:N)){if(-1!==B.indexOf(H))h("zauto",!1,i);else if("colorscale"===H)h("autocolorscale",!1,i);else if("autocolorscale"===H)h("colorscale",void 0,i);else if("marker.colorscale"===H)h("marker.autocolorscale",!1,i);else if("marker.autocolorscale"===H)h("marker.colorscale",void 0,i);else if("zauto"===H)h(B,void 0,i);else if(-1!==C.indexOf(H))h("autobinx",!1,i);else if("autobinx"===H)h(C,void 0,i);else if(-1!==D.indexOf(H))h("autobiny",!1,i);else if("autobiny"===H)h(D,void 0,i);else if(-1!==E.indexOf(H))h("autocontour",!1,i);else if("autocontour"===H)h(E,void 0,i);else if(-1!==["x0","dx"].indexOf(H)&&J.x&&"scaled"!==J.xtype)h("xtype","scaled",i);else if(-1!==["y0","dy"].indexOf(H)&&J.y&&"scaled"!==J.ytype)h("ytype","scaled",i);else if("colorbar.thicknessmode"===H&&K.get()!==M&&-1!==["fraction","pixels"].indexOf(M)&&J.colorbar){var O=-1!==["top","bottom"].indexOf(J.colorbar.orient)?k.height-k.margin.t-k.margin.b:k.width-k.margin.l-k.margin.r;h("colorbar.thickness",J.colorbar.thickness*("fraction"===M?1/O:O),i)}else if("colorbar.lenmode"===H&&K.get()!==M&&-1!==["fraction","pixels"].indexOf(M)&&J.colorbar){var P=-1!==["top","bottom"].indexOf(J.colorbar.orient)?k.width-k.margin.l-k.margin.r:k.height-k.margin.t-k.margin.b;h("colorbar.len",J.colorbar.len*("fraction"===M?1/P:P),i)}else"colorbar.tick0"===H||"colorbar.dtick"===H?h("colorbar.tickmode","linear",i):"colorbar.tickmode"===H&&h(["colorbar.tick0","colorbar.dtick"],void 0,i);if("type"===H&&"pie"===M!=("pie"===L)){var Q="x",R="y";"bar"!==M&&"bar"!==L||"h"!==I.orientation||(Q="y",R="x"),t.swapAttrs(I,["?","?src"],"labels",Q),t.swapAttrs(I,["d?","?0"],"label",Q),t.swapAttrs(I,["?","?src"],"values",R),"pie"===L?(t.nestedProperty(I,"marker.color").set(t.nestedProperty(I,"marker.colors").get()),k._pielayer.selectAll("g.trace").remove()):w.traceIs(I,"cartesian")&&(t.nestedProperty(I,"marker.colors").set(t.nestedProperty(I,"marker.color").get()),r[I.xaxis||"x"]=!0,r[I.yaxis||"y"]=!0)}q[H][i]=L;var S=["swapxy","swapxyaxes","orientation","orientationaxes"];if(-1!==S.indexOf(H)){if("orientation"===H){if(K.set(M),K.get()===q[H][i])continue}else"orientationaxes"===H&&(I.orientation={v:"h",h:"v"}[J.orientation]);F.swapXYData(I)}else if(-1!==x.dataArrayContainers.indexOf(K.parts[0]))F.manageArrayContainers(K,M,q),o.docalc=!0;else{var T=(J._module||{}).attributes||{},U=t.nestedProperty(T,H).get()||t.nestedProperty(x.attributes,H).get()||{};U.valType||(o.docalc=!0),U.arrayOk&&(Array.isArray(M)||Array.isArray(L))&&(o.docalc=!0),"docalc"===U.editType&&(o.docalc=!0),K.set(M)}}if(-1!==["swapxyaxes","orientationaxes"].indexOf(H)&&s.Axes.swap(a,n),"orientationaxes"===H){var V=t.nestedProperty(a.layout,"hovermode");"x"===V.get()?V.set("y"):"y"===V.get()&&V.set("x")}-1!==n.indexOf(0)&&-1!==A.indexOf(H)&&(s.Axes.clearTypes(a,n),o.docalc=!0),-1!==["autobinx","autobiny","zauto"].indexOf(H)&&!1===M||(o.dostyle=!0),(-1!==["colorbar","line"].indexOf(K.parts[0])||"marker"===K.parts[0]&&"colorbar"===K.parts[1])&&(o.docolorbars=!0);var W=H.indexOf("["),X=-1===W?H:H.substr(0,W);if(-1!==u.indexOf(X)){if(-1!==["orientation","type"].indexOf(H)){for(j=[],i=0;i<n.length;i++){var Y=m[n[i]];w.traceIs(Y,"cartesian")&&(e(Y.xaxis||"x"),e(Y.yaxis||"y"),"type"===H&&h(["autobinx","autobiny"],!0,i))}h(j.map(f),!0,0),h(j.map(g),[0,1],0)}o.docalc=!0}else-1!==z.indexOf(X)?o.doplot=!0:0===X.indexOf("aaxis")||0===X.indexOf("baxis")?o.doplot=!0:-1!==y.indexOf(X)&&(o.docalcAutorange=!0)}else K=t.nestedProperty(a.layout,H.replace("LAYOUT","")),q[H]=[K.get()],K.set(Array.isArray(N)?N[0]:N),o.docalc=!0}s.Axes.list(a).forEach(function(a){a.autorange&&(o.autorangeOn=!0)});var Z=Object.keys(r);a:for(i=0;i<Z.length;i++){for(var $=Z[i],_=$.charAt(0),aa=_+"axis",ba=0;ba<m.length;ba++)if(w.traceIs(m[ba],"cartesian")&&(m[ba][aa]||_)===$)continue a;h("LAYOUT"+s.Axes.id2name($),null,0)}return(o.docalc||o.docalcAutorange&&o.autorangeOn)&&(o.clearCalc=!0),(o.docalc||o.doplot||o.docalcAutorange)&&(o.fullReplot=!0),{flags:o,undoit:q,redoit:p,traces:n,eventData:t.extendDeepNoArrays([],[p,n])}}function o(a,b){function c(a,d){if(Array.isArray(a))return void a.forEach(function(a){c(a,d)});if(!(a in b||F.hasParent(b,a))){var e=t.nestedProperty(i,a);a in u||(u[a]=e.get()),void 0!==d&&e.set(d)}}function d(b,c){if(!t.isPlainObject(b))return!1;var d=b[c+"ref"]||c,e=s.Axes.getFromId(a,d);return e||d.charAt(0)!==c||(e=s.Axes.getFromId(a,c)),(e||{}).autorange}function e(a){var b=J.name2id(a.split(".")[0]);v[b]=1}var f,g,h,i=a.layout,j=a._fullLayout,k=Object.keys(b),l=s.Axes.list(a),m={};for(g=0;g<k.length;g++)if(0===k[g].indexOf("allaxes")){for(h=0;h<l.length;h++){var n=l[h]._id.substr(1),o=-1!==n.indexOf("scene")?n+".":"",p=k[g].replace("allaxes",o+l[h]._name);b[p]||(b[p]=b[k[g]])}delete b[k[g]]}var q={dolegend:!1,doticks:!1,dolayoutstyle:!1,doplot:!1,docalc:!1,domodebar:!1,docamera:!1,layoutReplot:!1},r={},u={},v={};for(var y in b){if(F.hasParent(b,y))throw new Error("cannot set "+y+"and a parent attribute simultaneously");var z=t.nestedProperty(i,y),A=b[y],B=z.parts.length,C="string"==typeof z.parts[B-1]?B-1:B-2,D=z.parts[0],G=z.parts[C],I=z.parts[C-1]+"."+G,K=z.parts.slice(0,C).join("."),L=t.nestedProperty(a.layout,K).get(),M=t.nestedProperty(j,K).get();if(void 0!==A){if(r[y]=A,u[y]="reverse"===G?A:z.get(),-1!==["width","height"].indexOf(y)&&null===A?j[y]=a._initialAutoSize[y]:I.match(/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/)?(c(K+".autorange",!1),e(I)):I.match(/^[xyz]axis[0-9]*\.autorange$/)?(c([K+".range[0]",K+".range[1]"],void 0),e(I)):I.match(/^aspectratio\.[xyz]$/)?c(D+".aspectmode","manual"):I.match(/^aspectmode$/)?c([K+".x",K+".y",K+".z"],void 0):"tick0"===G||"dtick"===G?c(K+".tickmode","linear"):"tickmode"===G?c([K+".tick0",K+".dtick"],void 0):/[xy]axis[0-9]*?$/.test(G)&&!Object.keys(A||{}).length?q.docalc=!0:/[xy]axis[0-9]*\.categoryorder$/.test(I)?q.docalc=!0:/[xy]axis[0-9]*\.categoryarray/.test(I)&&(q.docalc=!0),-1!==I.indexOf("rangeslider")&&(q.docalc=!0),"type"===G){var N=L,O="linear"===M.type&&"log"===A,P="log"===M.type&&"linear"===A;if(O||P){if(N&&N.range)if(M.autorange)O&&(N.range=N.range[1]>N.range[0]?[1,2]:[2,1]);else{var Q=N.range[0],R=N.range[1];O?(0>=Q&&0>=R&&c(K+".autorange",!0),0>=Q?Q=R/1e6:0>=R&&(R=Q/1e6),c(K+".range[0]",Math.log(Q)/Math.LN10),c(K+".range[1]",Math.log(R)/Math.LN10)):(c(K+".range[0]",Math.pow(10,Q)),c(K+".range[1]",Math.pow(10,R)))}else c(K+".autorange",!0);w.getComponentMethod("annotations","convertCoords")(a,M,A,c),w.getComponentMethod("images","convertCoords")(a,M,A,c)}else c(K+".autorange",!0)}else if(G.match(H.AX_NAME_PATTERN)){var S=t.nestedProperty(j,y).get(),T=(A||{}).type;T&&"-"!==T||(T="linear"),w.getComponentMethod("annotations","convertCoords")(a,S,T,c),w.getComponentMethod("images","convertCoords")(a,S,T,c)}var U=E.containerArrayMatch(y);if(U){f=U.array,g=U.index;var V=U.property,W=t.nestedProperty(i,f),X=(W||[])[g]||{};if(""===g)-1===y.indexOf("updatemenus")&&(q.docalc=!0);else if(""===V){var Y=A;E.isAddVal(A)?u[y]=null:E.isRemoveVal(A)?(u[y]=X,Y=X):t.warn("unrecognized full object value",b),(d(Y,"x")||d(Y,"y")&&-1===y.indexOf("updatemenus"))&&(q.docalc=!0)}else!d(X,"x")&&!d(X,"y")||t.containsAny(y,["color","opacity","align","dash","updatemenus"])||(q.docalc=!0);m[f]||(m[f]={});var Z=m[f][g];Z||(Z=m[f][g]={}),Z[V]=A,delete b[y]}else if("reverse"===G)L.range?L.range.reverse():(c(K+".autorange",!0),L.range=[1,0]),M.autorange?q.docalc=!0:q.doplot=!0;else{var $=String(z.parts[1]||"");0===D.indexOf("scene")?"camera"===z.parts[1]?q.docamera=!0:q.doplot=!0:0===D.indexOf("geo")?q.doplot=!0:0===D.indexOf("ternary")?q.doplot=!0:"paper_bgcolor"===y?q.doplot=!0:"margin"===D||"autorange"===$||"rangemode"===$||"type"===$||"domain"===$||"fixedrange"===$||"scaleanchor"===$||"scaleratio"===$||-1!==y.indexOf("calendar")||y.match(/^(bar|box|font)/)?q.docalc=!0:!j._has("gl2d")||-1===y.indexOf("axis")&&"plot_bgcolor"!==y?"hiddenlabels"===y?q.docalc=!0:-1!==D.indexOf("legend")?q.dolegend=!0:-1!==y.indexOf("title")?q.doticks=!0:-1!==D.indexOf("bgcolor")?q.dolayoutstyle=!0:B>1&&t.containsAny($,["tick","exponent","grid","zeroline"])?q.doticks=!0:-1!==y.indexOf(".linewidth")&&-1!==y.indexOf("axis")?q.doticks=q.dolayoutstyle=!0:B>1&&-1!==$.indexOf("line")?q.dolayoutstyle=!0:B>1&&"mirror"===$?q.doticks=q.dolayoutstyle=!0:"margin.pad"===y?q.doticks=q.dolayoutstyle=!0:-1!==["hovermode","dragmode"].indexOf(y)||-1!==y.indexOf("spike")?q.domodebar=!0:-1===["height","width","autosize"].indexOf(y)&&(q.doplot=!0):q.doplot=!0,z.set(A)}}}for(f in m)E.applyContainerArrayChanges(a,t.nestedProperty(i,f),m[f],q)||(q.doplot=!0);var _=j._axisConstraintGroups;for(var aa in v)for(g=0;g<_.length;g++){var ba=_[g];if(ba[aa]){q.docalc=!0;for(var ca in ba)v[ca]||(J.getFromId(a,ca)._constraintShrinkable=!0)}}var da=j.width,ea=j.height;return a.layout.autosize&&x.plotAutoSize(a,a.layout,j),(b.height||b.width||j.width!==da||j.height!==ea)&&(q.docalc=!0),(q.doplot||q.docalc)&&(q.layoutReplot=!0),{flags:q,undoit:u,redoit:r,eventData:t.extendDeep({},r)}}function p(a){var b=q.select(a),c=a._fullLayout;if(c._container=b.selectAll(".plot-container").data([0]),c._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),c._paperdiv=c._container.selectAll(".svg-container").data([0]),c._paperdiv.enter().append("div").classed("svg-container",!0).style("position","relative"),c._glcontainer=c._paperdiv.selectAll(".gl-container").data([0]),c._glcontainer.enter().append("div").classed("gl-container",!0),c._paperdiv.selectAll(".main-svg").remove(),c._paper=c._paperdiv.insert("svg",":first-child").classed("main-svg",!0),c._toppaper=c._paperdiv.append("svg").classed("main-svg",!0),!c._uid){var d=[];q.selectAll("defs").each(function(){this.id&&d.push(this.id.split("-")[1])}),c._uid=t.randstr(d)}c._paperdiv.selectAll(".main-svg").attr(C.svgAttrs),c._defs=c._paper.append("defs").attr("id","defs-"+c._uid),c._topdefs=c._toppaper.append("defs").attr("id","topdefs-"+c._uid),c._bgLayer=c._paper.append("g").classed("bglayer",!0),c._draggers=c._paper.append("g").classed("draglayer",!0);var e=c._paper.append("g").classed("layer-below",!0);c._imageLowerLayer=e.append("g").classed("imagelayer",!0),c._shapeLowerLayer=e.append("g").classed("shapelayer",!0),c._cartesianlayer=c._paper.append("g").classed("cartesianlayer",!0),c._ternarylayer=c._paper.append("g").classed("ternarylayer",!0),c._geolayer=c._paper.append("g").classed("geolayer",!0);var f=c._paper.append("g").classed("layer-above",!0);c._imageUpperLayer=f.append("g").classed("imagelayer",!0),c._shapeUpperLayer=f.append("g").classed("shapelayer",!0),c._pielayer=c._paper.append("g").classed("pielayer",!0),c._glimages=c._paper.append("g").classed("glimages",!0),c._infolayer=c._toppaper.append("g").classed("infolayer",!0),c._zoomlayer=c._toppaper.append("g").classed("zoomlayer",!0),c._hoverlayer=c._toppaper.append("g").classed("hoverlayer",!0),a.emit("plotly_framework")}var q=a("d3"),r=a("fast-isnumeric"),s=a("../plotly"),t=a("../lib"),u=a("../lib/events"),v=a("../lib/queue"),w=a("../registry"),x=a("../plots/plots"),y=a("../plots/polar"),z=a("../plots/cartesian/graph_interact"),A=a("../components/drawing"),B=a("../components/errorbars"),C=a("../constants/xmlns_namespaces"),D=a("../lib/svg_text_utils"),E=a("./manage_arrays"),F=a("./helpers"),G=a("./subroutines"),H=a("../plots/cartesian/constants"),I=a("../plots/cartesian/constraints"),J=a("../plots/cartesian/axis_ids");s.plot=function(a,b,c,d){function g(){return r?s.addFrames(a,r):void 0}function h(){for(var b=C._basePlotModules,c=0;c<b.length;c++)b[c].drawFramework&&b[c].drawFramework(a);return t.syncOrAsync([G.layoutStyles,m,z],a)}function i(){var b,c,d,e=a.calcdata;for(w.getComponentMethod("legend","draw")(a),w.getComponentMethod("rangeselector","draw")(a),w.getComponentMethod("sliders","draw")(a),w.getComponentMethod("updatemenus","draw")(a),b=0;b<e.length;b++)c=e[b],d=c[0].trace,!0===d.visible&&d._module.colorbar?d._module.colorbar(a,c):x.autoMargin(a,"cb"+d.uid);return x.doAutoMargin(a),x.previousPromises(a)}function j(){var b=JSON.stringify(C._size)===H?[]:[i,G.layoutStyles];return b=b.concat(z),t.syncOrAsync(b,a)}function k(){if(D){for(var b,c,d=x.getSubplotIds(C,"cartesian"),e=C._modules,f=0;f<d.length;f++){b=C._plots[d[f]];for(var g=0;g<e.length;g++)c=e[g],c.setPositions&&c.setPositions(a,b)}return B.calc(a),t.syncOrAsync([w.getComponentMethod("shapes","calcAutorange"),w.getComponentMethod("annotations","calcAutorange"),l,w.getComponentMethod("rangeslider","calcAutorange")],a)}}function l(){if(!a._transitioning){for(var b=s.Axes.list(a,"",!0),c=0;c<b.length;c++)s.Axes.doAutoRange(b[c]);I(a),y&&s.Axes.saveRangeInitial(a)}}function m(){return s.Axes.doTicks(a,"redraw")}function n(){var b,c=a.calcdata,d=C._infolayer.selectAll("g.rangeslider-container");for(b=0;b<c.length;b++){var e=c[b][0].trace,f=!0===e.visible,g=e.uid;if(!f||!w.traceIs(e,"2dMap")){var h=".hm"+g+",.contour"+g+",#clip"+g;C._paper.selectAll(h).remove(),d.selectAll(h).remove()}f&&e._module.colorbar||C._infolayer.selectAll(".cb"+g).remove()}var i=C._basePlotModules;for(b=0;b<i.length;b++)i[b].plot(a);var j=C._paper.selectAll(".layer-subplot");return C._shapeSubplotLayers=j.selectAll(".shapelayer"),x.style(a),w.getComponentMethod("shapes","draw")(a),w.getComponentMethod("annotations","draw")(a),x.addLinks(a),C._replotting=!1,x.previousPromises(a)}function o(){w.getComponentMethod("shapes","draw")(a),w.getComponentMethod("images","draw")(a),w.getComponentMethod("annotations","draw")(a),w.getComponentMethod("legend","draw")(a),w.getComponentMethod("rangeslider","draw")(a),w.getComponentMethod("rangeselector","draw")(a),w.getComponentMethod("sliders","draw")(a),w.getComponentMethod("updatemenus","draw")(a)}var r;if(a=F.getGraphDiv(a),u.init(a),t.isPlainObject(b)){var v=b;b=v.data,c=v.layout,d=v.config,r=v.frames}if(!1===u.triggerHandler(a,"plotly_beforeplot",[b,c,d]))return Promise.reject();b||c||t.isPlotDiv(a)||t.warn("Calling Plotly.plot as if redrawing but this container doesn't yet have a plot.",a),e(a,d),c||(c={}),q.select(a).classed("js-plotly-plot",!0),A.makeTester(),a._promises=[];var y=0===(a.data||[]).length&&Array.isArray(b);
if(Array.isArray(b)&&(F.cleanData(b,a.data),y?a.data=b:a.data.push.apply(a.data,b),a.empty=!1),a.layout&&!y||(a.layout=F.cleanLayout(c)),a._dragging&&!a._transitioning)return a._replotPending=!0,Promise.reject();a._replotPending=!1,x.supplyDefaults(a);var C=a._fullLayout;if(b&&b[0]&&b[0].r)return f(a,b,c);C._replotting=!0,y&&p(a),a.framework!==p&&(a.framework=p,p(a)),A.initGradients(a),y&&s.Axes.saveShowSpikeInitial(a);var D=!a.calcdata||a.calcdata.length!==(a._fullData||[]).length;D&&x.doCalcdata(a);for(var E=0;E<a.calcdata.length;E++)a.calcdata[E][0].trace=a._fullData[E];var H=JSON.stringify(C._size),J=[x.previousPromises,g,h,i,j,k,G.layoutStyles,m,n,o,x.rehover];return t.syncOrAsync(J,a),Promise.all(a._promises).then(function(){return a.emit("plotly_afterplot"),a})},s.redraw=function(a){if(a=F.getGraphDiv(a),!t.isPlotDiv(a))throw new Error("This element is not a Plotly plot: "+a);return F.cleanData(a.data,a.data),F.cleanLayout(a.layout),a.calcdata=void 0,s.plot(a).then(function(){return a.emit("plotly_redraw"),a})},s.newPlot=function(a,b,c,d){return a=F.getGraphDiv(a),x.cleanPlot([],{},a._fullData||{},a._fullLayout||{}),x.purge(a),s.plot(a,b,c,d)},s.extendTraces=function K(a,b,c,d){a=F.getGraphDiv(a);var e=m(a,b,c,d,function(a,b){return a.concat(b)},function(a,b){return a.splice(0,a.length-b)}),f=s.redraw(a),g=[a,e.update,c,e.maxPoints];return v.add(a,s.prependTraces,g,K,arguments),f},s.prependTraces=function L(a,b,c,d){a=F.getGraphDiv(a);var e=m(a,b,c,d,function(a,b){return b.concat(a)},function(a,b){return a.splice(b,a.length)}),f=s.redraw(a),g=[a,e.update,c,e.maxPoints];return v.add(a,s.extendTraces,g,L,arguments),f},s.addTraces=function M(a,b,c){a=F.getGraphDiv(a);var d,e,f=[],g=s.deleteTraces,h=M,k=[a,f],l=[a,b];for(j(a,b,c),Array.isArray(b)||(b=[b]),b=b.map(function(a){return t.extendFlat({},a)}),F.cleanData(b,a.data),d=0;d<b.length;d++)a.data.push(b[d]);for(d=0;d<b.length;d++)f.push(-b.length+d);if(void 0===c)return e=s.redraw(a),v.add(a,g,k,h,l),e;Array.isArray(c)||(c=[c]);try{i(a,f,c)}catch(M){throw a.data.splice(a.data.length-b.length,b.length),M}return v.startSequence(a),v.add(a,g,k,h,l),e=s.moveTraces(a,f,c),v.stopSequence(a),e},s.deleteTraces=function N(a,b){a=F.getGraphDiv(a);var c,d,e=[],f=s.addTraces,i=N,j=[a,e,b],k=[a,b];if(void 0===b)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(b)||(b=[b]),h(a,b,"indices"),b=g(b,a.data.length-1),b.sort(t.sorterDes),c=0;c<b.length;c+=1)d=a.data.splice(b[c],1)[0],e.push(d);var l=s.redraw(a);return v.add(a,f,j,i,k),l},s.moveTraces=function O(a,b,c){a=F.getGraphDiv(a);var d,e=[],f=[],h=O,j=O,k=[a,c,b],l=[a,b,c];if(i(a,b,c),b=Array.isArray(b)?b:[b],void 0===c)for(c=[],d=0;d<b.length;d++)c.push(-b.length+d);for(c=Array.isArray(c)?c:[c],b=g(b,a.data.length-1),c=g(c,a.data.length-1),d=0;d<a.data.length;d++)-1===b.indexOf(d)&&e.push(a.data[d]);for(d=0;d<b.length;d++)f.push({newIndex:c[d],trace:a.data[b[d]]});for(f.sort(function(a,b){return a.newIndex-b.newIndex}),d=0;d<f.length;d+=1)e.splice(f[d].newIndex,0,f[d].trace);a.data=e;var m=s.redraw(a);return v.add(a,h,k,j,l),m},s.restyle=function P(a,b,c,d){a=F.getGraphDiv(a),F.clearPromiseQueue(a);var e={};if("string"==typeof b)e[b]=c;else{if(!t.isPlainObject(b))return t.warn("Restyle fail.",b,c,d),Promise.reject();e=t.extendFlat({},b),void 0===d&&(d=c)}Object.keys(e).length&&(a.changed=!0);var f=n(a,e,d),g=f.flags;g.clearCalc&&(a.calcdata=void 0);var h=[];g.fullReplot?h.push(s.plot):(h.push(x.previousPromises),x.supplyDefaults(a),g.dostyle&&h.push(G.doTraceStyle),g.docolorbars&&h.push(G.doColorBars)),h.push(x.rehover),v.add(a,P,[a,f.undoit,f.traces],P,[a,f.redoit,f.traces]);var i=t.syncOrAsync(h,a);return i&&i.then||(i=Promise.resolve()),i.then(function(){return a.emit("plotly_restyle",f.eventData),a})},s.relayout=function Q(a,b,c){if(a=F.getGraphDiv(a),F.clearPromiseQueue(a),a.framework&&a.framework.isPolar)return Promise.resolve(a);var d={};if("string"==typeof b)d[b]=c;else{if(!t.isPlainObject(b))return t.warn("Relayout fail.",b,c),Promise.reject();d=t.extendFlat({},b)}Object.keys(d).length&&(a.changed=!0);var e=o(a,d),f=e.flags;f.docalc&&(a.calcdata=void 0);var g=[x.previousPromises];f.layoutReplot?g.push(G.layoutReplot):Object.keys(d).length&&(x.supplyDefaults(a),f.dolegend&&g.push(G.doLegend),f.dolayoutstyle&&g.push(G.layoutStyles),f.doticks&&g.push(G.doTicksRelayout),f.domodebar&&g.push(G.doModeBar),f.docamera&&g.push(G.doCamera)),g.push(x.rehover),v.add(a,Q,[a,e.undoit],Q,[a,e.redoit]);var h=t.syncOrAsync(g,a);return h&&h.then||(h=Promise.resolve(a)),h.then(function(){return a.emit("plotly_relayout",e.eventData),a})},s.update=function R(a,b,c,d){if(a=F.getGraphDiv(a),F.clearPromiseQueue(a),a.framework&&a.framework.isPolar)return Promise.resolve(a);t.isPlainObject(b)||(b={}),t.isPlainObject(c)||(c={}),Object.keys(b).length&&(a.changed=!0),Object.keys(c).length&&(a.changed=!0);var e=n(a,t.extendFlat({},b),d),f=e.flags,g=o(a,t.extendFlat({},c)),h=g.flags;(f.clearCalc||h.docalc)&&(a.calcdata=void 0);var i=[];if(f.fullReplot&&h.layoutReplot){var j=a.data,k=a.layout;a.data=void 0,a.layout=void 0,i.push(function(){return s.plot(a,j,k)})}else f.fullReplot?i.push(s.plot):h.layoutReplot?i.push(G.layoutReplot):(i.push(x.previousPromises),x.supplyDefaults(a),f.dostyle&&i.push(G.doTraceStyle),f.docolorbars&&i.push(G.doColorBars),h.dolegend&&i.push(G.doLegend),h.dolayoutstyle&&i.push(G.layoutStyles),h.doticks&&i.push(G.doTicksRelayout),h.domodebar&&i.push(G.doModeBar),h.doCamera&&i.push(G.doCamera));i.push(x.rehover),v.add(a,R,[a,e.undoit,g.undoit,e.traces],R,[a,e.redoit,g.redoit,e.traces]);var l=t.syncOrAsync(i,a);return l&&l.then||(l=Promise.resolve(a)),l.then(function(){return a.emit("plotly_update",{data:e.eventData,layout:g.eventData}),a})},s.animate=function(a,b,c){function d(a){return Array.isArray(h)?a>=h.length?h[0]:h[a]:h}function e(a){return Array.isArray(i)?a>=i.length?i[0]:i[a]:i}function f(a,b){var c=0;return function(){return a&&++c===b?a():void 0}}if(a=F.getGraphDiv(a),!t.isPlotDiv(a))throw new Error("This element is not a Plotly plot: "+a+". It's likely that you've failed to create a plot before animating it. For more details, see https://plot.ly/javascript/animations/");var g=a._transitionData;g._frameQueue||(g._frameQueue=[]),c=x.supplyAnimationDefaults(c);var h=c.transition,i=c.frame;return void 0===g._frameWaitingCnt&&(g._frameWaitingCnt=0),new Promise(function(i,j){function k(){a.emit("plotly_animated"),window.cancelAnimationFrame(g._animationRaf),g._animationRaf=null}function l(){g._currentFrame&&g._currentFrame.onComplete&&g._currentFrame.onComplete();var b=g._currentFrame=g._frameQueue.shift();if(b){var c=b.name?b.name.toString():null;a._fullLayout._currentFrame=c,g._lastFrameAt=Date.now(),g._timeToNext=b.frameOpts.duration,x.transition(a,b.frame.data,b.frame.layout,F.coerceTraceIndices(a,b.frame.traces),b.frameOpts,b.transitionOpts).then(function(){b.onComplete&&b.onComplete()}),a.emit("plotly_animatingframe",{name:c,frame:b.frame,animation:{frame:b.frameOpts,transition:b.transitionOpts}})}else k()}function m(){a.emit("plotly_animating"),g._lastFrameAt=-1/0,g._timeToNext=0,g._runningTransitions=0,g._currentFrame=null,!function b(){g._animationRaf=window.requestAnimationFrame(b),Date.now()-g._lastFrameAt>g._timeToNext&&l()}()}function n(a){return Array.isArray(h)?q>=h.length?a.transitionOpts=h[q]:a.transitionOpts=h[0]:a.transitionOpts=h,q++,a}var o,p,q=0,r=[],s=void 0===b||null===b,u=Array.isArray(b);if(s||u||!t.isPlainObject(b)){if(s||-1!==["string","number"].indexOf(void 0===b?"undefined":_typeof(b)))for(o=0;o<g._frames.length;o++)(p=g._frames[o])&&(s||String(p.group)===String(b))&&r.push({type:"byname",name:String(p.name),data:n({name:p.name})});else if(u)for(o=0;o<b.length;o++){var v=b[o];-1!==["number","string"].indexOf(void 0===v?"undefined":_typeof(v))?(v=String(v),r.push({type:"byname",name:v,data:n({name:v})})):t.isPlainObject(v)&&r.push({type:"object",data:n(t.extendFlat({},v))})}}else r.push({type:"object",data:n(t.extendFlat({},b))});for(o=0;o<r.length;o++)if(p=r[o],"byname"===p.type&&!g._frameHash[p.data.name])return t.warn('animate failure: frame not found: "'+p.data.name+'"'),void j();-1!==["next","immediate"].indexOf(c.mode)&&function(){if(0!==g._frameQueue.length){for(;g._frameQueue.length;){var b=g._frameQueue.pop();b.onInterrupt&&b.onInterrupt()}a.emit("plotly_animationinterrupted",[])}}(),"reverse"===c.direction&&r.reverse();var w=a._fullLayout._currentFrame;if(w&&c.fromcurrent){var y=-1;for(o=0;o<r.length;o++)if(p=r[o],"byname"===p.type&&p.name===w){y=o;break}if(y>0&&y<r.length-1){var z=[];for(o=0;o<r.length;o++)p=r[o],("byname"!==r[o].type||o>y)&&z.push(p);r=z}}r.length>0?function(b){if(0!==b.length){for(var h=0;h<b.length;h++){var k;k="byname"===b[h].type?x.computeFrame(a,b[h].name):b[h].data;var l=e(h),n=d(h);n.duration=Math.min(n.duration,l.duration);var o={frame:k,name:b[h].name,frameOpts:l,transitionOpts:n};h===b.length-1&&(o.onComplete=f(i,2),o.onInterrupt=j),g._frameQueue.push(o)}"immediate"===c.mode&&(g._lastFrameAt=-1/0),g._animationRaf||m()}}(r):(a.emit("plotly_animated"),i())})},s.addFrames=function(a,b,c){a=F.getGraphDiv(a);var d=0;if(null===b||void 0===b)return Promise.resolve();if(!t.isPlotDiv(a))throw new Error("This element is not a Plotly plot: "+a+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plot.ly/javascript/animations/");var e,f,g,h,i=a._transitionData._frames,j=a._transitionData._frameHash;if(!Array.isArray(b))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+b);var k=i.length+2*b.length,l=[];for(e=b.length-1;e>=0;e--)if(t.isPlainObject(b[e])){var m=(j[b[e].name]||{}).name,n=b[e].name;m&&n&&"number"==typeof n&&j[m]&&(d++,t.warn('addFrames: overwriting frame "'+j[m].name+'" with a frame whose name of type "number" also equates to "'+m+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),d>5&&t.warn("addFrames: This API call has yielded too many warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),l.push({frame:x.supplyFrameDefaults(b[e]),index:c&&void 0!==c[e]&&null!==c[e]?c[e]:k+e})}l.sort(function(a,b){return a.index>b.index?-1:a.index<b.index?1:0});var o=[],p=[],q=i.length;for(e=l.length-1;e>=0;e--){if(f=l[e].frame,"number"==typeof f.name&&t.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!f.name)for(;j[f.name="frame "+a._transitionData._counter++];);if(j[f.name]){for(g=0;g<i.length&&(i[g]||{}).name!==f.name;g++);o.push({type:"replace",index:g,value:f}),p.unshift({type:"replace",index:g,value:i[g]})}else h=Math.max(0,Math.min(l[e].index,q)),o.push({type:"insert",index:h,value:f}),p.unshift({type:"delete",index:h}),q++}var r=x.modifyFrames,s=x.modifyFrames,u=[a,p],w=[a,o];return v&&v.add(a,r,u,s,w),x.modifyFrames(a,o)},s.deleteFrames=function(a,b){if(a=F.getGraphDiv(a),!t.isPlotDiv(a))throw new Error("This element is not a Plotly plot: "+a);var c,d,e=a._transitionData._frames,f=[],g=[];if(!b)for(b=[],c=0;c<e.length;c++)b.push(c);for(b=b.slice(0),b.sort(),c=b.length-1;c>=0;c--)d=b[c],f.push({type:"delete",index:d}),g.unshift({type:"insert",index:d,value:e[d]});var h=x.modifyFrames,i=x.modifyFrames,j=[a,g],k=[a,f];return v&&v.add(a,h,j,i,k),x.modifyFrames(a,f)},s.purge=function(a){a=F.getGraphDiv(a);var b=a._fullLayout||{},c=a._fullData||[];return x.cleanPlot([],{},c,b),x.purge(a),u.purge(a),b._container&&b._container.remove(),delete a._context,delete a._replotPending,delete a._mouseDownTime,delete a._legendMouseDownTime,delete a._hmpixcount,delete a._hmlumcount,a}},{"../components/drawing":558,"../components/errorbars":564,"../constants/xmlns_namespaces":633,"../lib":645,"../lib/events":640,"../lib/queue":657,"../lib/svg_text_utils":662,"../plotly":675,"../plots/cartesian/axis_ids":683,"../plots/cartesian/constants":685,"../plots/cartesian/constraints":687,"../plots/cartesian/graph_interact":689,"../plots/plots":708,"../plots/polar":711,"../registry":715,"./helpers":665,"./manage_arrays":666,"./subroutines":672,d3:256,"fast-isnumeric":259}],668:[function(a,b,c){"use strict";function d(a,c){try{a._fullLayout._paper.style("background",c)}catch(a){b.exports.logging}}b.exports={staticPlot:!1,editable:!1,autosizable:!1,queueLength:0,fillFrame:!1,frameMargins:0,scrollZoom:!1,doubleClick:"reset+autosize",showTips:!0,showAxisDragHandles:!0,showAxisRangeEntryBoxes:!0,showLink:!1,sendData:!0,linkText:"Edit chart",showSources:!1,displayModeBar:"hover",modeBarButtonsToRemove:[],modeBarButtonsToAdd:[],modeBarButtons:!1,displaylogo:!0,plotGlPixelRatio:2,setBackground:d,topojsonURL:"https://cdn.plot.ly/",mapboxAccessToken:null,logging:!1,globalTransforms:[]}},{}],669:[function(a,b,c){"use strict";function d(a){var b,c;"area"===a?(b={attributes:t},c={}):(b=n.modules[a]._module,c=b.basePlotModule);var d={};d.type=null,w(d,p),w(d,b.attributes),c.attributes&&w(d,c.attributes),Object.keys(n.componentsRegistry).forEach(function(b){var c=n.componentsRegistry[b];c.schema&&c.schema.traces&&c.schema.traces[a]&&Object.keys(c.schema.traces[a]).forEach(function(b){m(d,c.schema.traces[a][b],b)})}),d.type=a;var e={meta:b.meta||{},attributes:h(d)};if(b.layoutAttributes){var f={};w(f,b.layoutAttributes),e.layoutAttributes=h(f)}return e}function e(){var a={};return w(a,q),Object.keys(n.subplotsRegistry).forEach(function(b){var c=n.subplotsRegistry[b];if(c.layoutAttributes)if("cartesian"===c.name)l(a,c,"xaxis"),l(a,c,"yaxis");else{var d="subplot"===c.attr?c.name:c.attr;l(a,c,d)}}),a=k(a),Object.keys(n.componentsRegistry).forEach(function(b){var c=n.componentsRegistry[b];c.layoutAttributes&&(c.schema&&c.schema.layout?Object.keys(c.schema.layout).forEach(function(b){m(a,c.schema.layout[b],b)}):m(a,c.layoutAttributes,c.name))}),{layoutAttributes:h(a)}}function f(a){var b=n.transformsRegistry[a],c=w({},b.attributes);return Object.keys(n.componentsRegistry).forEach(function(b){var d=n.componentsRegistry[b];d.schema&&d.schema.transforms&&d.schema.transforms[a]&&Object.keys(d.schema.transforms[a]).forEach(function(b){m(c,d.schema.transforms[a][b],b)})}),{attributes:h(c)}}function g(){var a={frames:o.extendDeep({},r)};return h(a),a.frames}function h(a){return i(a),j(a),a}function i(a){function b(a){return{valType:"string",role:"info",description:["Sets the source reference on plot.ly for ",a,"."].join(" ")}}function d(a,d,e){c.isValObject(a)?"data_array"===a.valType?(a.role="data",e[d+"src"]=b(d)):!0===a.arrayOk&&(e[d+"src"]=b(d)):o.isPlainObject(a)&&(a.role="object")}c.crawl(a,d)}function j(a){function b(a,b,c){if(a){var d=a[y];d&&(delete a[y],c[b]={items:{}},c[b].items[d]=a,c[b].role="object")}}c.crawl(a,b)}function k(a){return v(a,{radialaxis:u.radialaxis,angularaxis:u.angularaxis}),v(a,u.layout),a}function l(a,b,c){var d=o.nestedProperty(a,c),e=w({},b.layoutAttributes);e[x]=!0,d.set(e)}function m(a,b,c){var d=o.nestedProperty(a,c);d.set(w(d.get()||{},b))}var n=a("../registry"),o=a("../lib"),p=a("../plots/attributes"),q=a("../plots/layout_attributes"),r=a("../plots/frame_attributes"),s=a("../plots/animation_attributes"),t=a("../plots/polar/area_attributes"),u=a("../plots/polar/axis_attributes"),v=o.extendFlat,w=o.extendDeep,x="_isSubplotObj",y="_isLinkedToArray",z=[x,y,"_arrayAttrRegexps","_deprecated"];c.IS_SUBPLOT_OBJ=x,c.IS_LINKED_TO_ARRAY=y,c.DEPRECATED="_deprecated",c.UNDERSCORE_ATTRS=z,c.get=function(){var a={};n.allTypes.concat("area").forEach(function(b){a[b]=d(b)});var b={};return Object.keys(n.transformsRegistry).forEach(function(a){b[a]=f(a)}),{defs:{valObjects:o.valObjects,metaKeys:z.concat(["description","role"])},traces:a,layout:e(),transforms:b,frames:g(),animation:h(s)}},c.crawl=function(a,b,d){var e=d||0;Object.keys(a).forEach(function(d){var f=a[d];-1===z.indexOf(d)&&(b(f,d,a,e),c.isValObject(f)||o.isPlainObject(f)&&c.crawl(f,b,e+1))})},c.isValObject=function(a){return a&&void 0!==a.valType},c.findArrayAttributes=function(a){function b(b,c,g,h){if(f=f.slice(0,h).concat([c]),b&&("data_array"===b.valType||!0===b.arrayOk)){var i=d(f),j=o.nestedProperty(a,i).get();Array.isArray(j)&&e.push(i)}}function d(a){return a.join(".")}var e=[],f=[];if(c.crawl(a._module.attributes,b),a.transforms)for(var g=a.transforms,h=0;h<g.length;h++){var i=g[h];f=["transforms["+h+"]"],c.crawl(i._module.attributes,b,1)}return a._fullInput&&(c.crawl(a._fullInput._module.attributes,b),e=o.filterUnique(e)),e}},{"../lib":645,"../plots/animation_attributes":676,"../plots/attributes":678,"../plots/frame_attributes":705,"../plots/layout_attributes":706,"../plots/polar/area_attributes":709,"../plots/polar/axis_attributes":710,"../registry":715}],670:[function(a,b,c){"use strict";function d(a){g.register(a,a.name,a.categories,a.meta),g.subplotsRegistry[a.basePlotModule.name]||g.registerSubplot(a.basePlotModule)}function e(a){if("string"!=typeof a.name)throw new Error("Transform module *name* must be a string.");var b="Transform module "+a.name,c="function"==typeof a.transform,d="function"==typeof a.calcTransform;if(!c&&!d)throw new Error(b+" is missing a *transform* or *calcTransform* method.");c&&d&&h.log([b+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),h.isPlainObject(a.attributes)||h.log(b+" registered without an *attributes* object."),"function"!=typeof a.supplyDefaults&&h.log(b+" registered without a *supplyDefaults* method."),g.transformsRegistry[a.name]=a}function f(a){if("string"!=typeof a.name)throw new Error("Component module *name* must be a string.");g.registerComponent(a)}var g=a("../registry"),h=a("../lib");b.exports=function(a){if(!a)throw new Error("No argument passed to Plotly.register.");a&&!Array.isArray(a)&&(a=[a]);for(var b=0;b<a.length;b++){var c=a[b];if(!c)throw new Error("Invalid module was attempted to be registered!");switch(c.moduleType){case"trace":d(c);break;case"transform":e(c);break;case"component":f(c);break;default:throw new Error("Invalid module was attempted to be registered!")}}}},{"../lib":645,"../registry":715}],671:[function(a,b,c){"use strict";var d=a("../plotly"),e=a("../lib");b.exports=function(a){return e.extendFlat(d.defaultConfig,a)}},{"../lib":645,"../plotly":675}],672:[function(a,b,c){"use strict";function d(a,b,c){for(var d=0;d<c.length;d++){var e=c[d][0],f=c[d][1];if(!(e[0]>=a[1]||e[1]<=a[0])&&f[0]<b[1]&&f[1]>b[0])return!0}return!1}var e=a("d3"),f=a("../plotly"),g=a("../registry"),h=a("../plots/plots"),i=a("../lib"),j=a("../components/color"),k=a("../components/drawing"),l=a("../components/titles"),m=a("../components/modebar"),n=a("../plots/cartesian/graph_interact");c.layoutStyles=function(a){return i.syncOrAsync([h.doAutoMargin,c.lsInner],a)},c.lsInner=function(a){var b,g=a._fullLayout,h=g._size,i=f.Axes.list(a);for(b=0;b<i.length;b++)i[b]._linepositions={};g._paperdiv.style({width:g.width+"px",height:g.height+"px"}).selectAll(".main-svg").call(k.setSize,g.width,g.height),a._context.setBackground(a,g.paper_bgcolor);var l=g._paper.selectAll("g.subplot"),n=[],o=[];l.each(function(b){var c=g._plots[b];if(c.mainplot)return c.bg&&c.bg.remove(),void(c.bg=void 0);var e=f.Axes.getFromId(a,b,"x"),h=f.Axes.getFromId(a,b,"y"),i=e.domain,j=h.domain,k=[];d(i,j,o)?k=[0]:(n.push(b),o.push([i,j]));var l=c.plotgroup.selectAll(".bg").data(k);l.enter().append("rect").classed("bg",!0),l.exit().remove(),l.each(function(){c.bg=l;var a=c.plotgroup.node();a.insertBefore(this,a.childNodes[0])})});var p=g._bgLayer.selectAll(".bg").data(n);p.enter().append("rect").classed("bg",!0),p.exit().remove(),p.each(function(a){g._plots[a].bg=e.select(this)});var q=[];return l.each(function(b){var c=g._plots[b],d=f.Axes.getFromId(a,b,"x"),e=f.Axes.getFromId(a,b,"y");d.setScale(),e.setScale(),c.bg&&c.bg.call(k.setRect,d._offset-h.p,e._offset-h.p,d._length+2*h.p,e._length+2*h.p).call(j.fill,g.plot_bgcolor).style("stroke-width",0),c.clipId="clip"+g._uid+b+"plot";var i=g._defs.selectAll("g.clips").selectAll("#"+c.clipId).data([0]);i.enter().append("clipPath").attr({"class":"plotclip",id:c.clipId}).append("rect"),i.selectAll("rect").attr({width:d._length,height:e._length}),c.plot.call(k.setTranslate,d._offset,e._offset),c.plot.call(k.setClipUrl,c.clipId);var l=k.crispRound(a,d.linewidth,1),m=k.crispRound(a,e.linewidth,1),n=h.p+m,o="M"+-n+",",p="h"+(d._length+2*n),r="free"===d.anchor&&-1===q.indexOf(d._id),s=h.h*(1-(d.position||0))+l/2%1,t=d.anchor===e._id&&(d.mirror||"top"!==d.side)||"all"===d.mirror||"allticks"===d.mirror||d.mirrors&&d.mirrors[e._id+"bottom"],u=e._length+h.p+l/2,v=d.anchor===e._id&&(d.mirror||"top"===d.side)||"all"===d.mirror||"allticks"===d.mirror||d.mirrors&&d.mirrors[e._id+"top"],w=-h.p-l/2,x=h.p,y=t?0:l,z=v?0:l,A=","+(-x-z)+"v"+(e._length+2*x+z+y),B="free"===e.anchor&&-1===q.indexOf(e._id),C=h.w*(e.position||0)+m/2%1,D=e.anchor===d._id&&(e.mirror||"right"!==e.side)||"all"===e.mirror||"allticks"===e.mirror||e.mirrors&&e.mirrors[d._id+"left"],E=-h.p-m/2,F=e.anchor===d._id&&(e.mirror||"right"===e.side)||"all"===e.mirror||"allticks"===e.mirror||e.mirrors&&e.mirrors[d._id+"right"],G=d._length+h.p+m/2;d._linepositions[b]=[t?u:void 0,v?w:void 0,r?s:void 0],d.anchor===e._id?d._linepositions[b][3]="top"===d.side?w:u:r&&(d._linepositions[b][3]=s),e._linepositions[b]=[D?E:void 0,F?G:void 0,B?C:void 0],e.anchor===d._id?e._linepositions[b][3]="right"===e.side?G:E:B&&(e._linepositions[b][3]=C);var H="translate("+d._offset+","+e._offset+")",I=H,J=H;r&&(I="translate("+d._offset+","+h.t+")",w+=e._offset-h.t,u+=e._offset-h.t),B&&(J="translate("+h.l+","+e._offset+")",E+=d._offset-h.l,G+=d._offset-h.l),c.xlines.attr("transform",I).attr("d",(t?o+u+p:"")+(v?o+w+p:"")+(r?o+s+p:"")||"M0,0").style("stroke-width",l+"px").call(j.stroke,d.showline?d.linecolor:"rgba(0,0,0,0)"),c.ylines.attr("transform",J).attr("d",(D?"M"+E+A:"")+(F?"M"+G+A:"")+(B?"M"+C+A:"")||"M0,0").attr("stroke-width",m+"px").call(j.stroke,e.showline?e.linecolor:"rgba(0,0,0,0)"),c.xaxislayer.attr("transform",I),c.yaxislayer.attr("transform",J),c.gridlayer.attr("transform",H),c.zerolinelayer.attr("transform",H),c.draglayer.attr("transform",H),r&&q.push(d._id),B&&q.push(e._id)}),f.Axes.makeClipPaths(a),c.drawMainTitle(a),m.manage(a),a._promises.length&&Promise.all(a._promises)},c.drawMainTitle=function(a){var b=a._fullLayout;l.draw(a,"gtitle",{propContainer:b,propName:"title",dfltName:"Plot",attributes:{x:b.width/2,y:b._size.t/2,"text-anchor":"middle"}})},c.doTraceStyle=function(a){for(var b=0;b<a.calcdata.length;b++){var c=a.calcdata[b],d=((c[0]||{}).trace||{})._module||{},e=d.arraysToCalcdata;e&&e(c,c[0].trace)}return h.style(a),g.getComponentMethod("legend","draw")(a),h.previousPromises(a)},c.doColorBars=function(a){for(var b=0;b<a.calcdata.length;b++){var c=a.calcdata[b][0];if((c.t||{}).cb){var d=c.trace,e=c.t.cb;g.traceIs(d,"contour")&&e.line({width:!1!==d.contours.showlines?d.line.width:0,dash:d.line.dash,color:"line"===d.contours.coloring?e._opts.line.color:d.line.color}),g.traceIs(d,"markerColorscale")?e.options(d.marker.colorbar)():e.options(d.colorbar)()}}return h.previousPromises(a)},c.layoutReplot=function(a){var b=a.layout;return a.layout=void 0,f.plot(a,"",b)},c.doLegend=function(a){return g.getComponentMethod("legend","draw")(a),h.previousPromises(a)},c.doTicksRelayout=function(a){return f.Axes.doTicks(a,"redraw"),c.drawMainTitle(a),h.previousPromises(a)},c.doModeBar=function(a){var b,c,d=a._fullLayout;for(m.manage(a),n(a),b=h.getSubplotIds(d,"gl3d"),c=0;c<b.length;c++)d[b[c]]._scene.updateFx(d.dragmode,d.hovermode);return h.previousPromises(a)},c.doCamera=function(a){for(var b=a._fullLayout,c=h.getSubplotIds(b,"gl3d"),d=0;d<c.length;d++){var e=b[c[d]];e._scene.setCamera(e.camera)}}},{"../components/color":534,"../components/drawing":558,"../components/modebar":594,"../components/titles":623,"../lib":645,"../plotly":675,"../plots/cartesian/graph_interact":689,"../plots/plots":708,"../registry":715,d3:256}],673:[function(a,b,c){"use strict";function d(a,b){return new Promise(function(c,d){function l(){var a=h.getDelay(o._fullLayout);return new Promise(function(c,d){setTimeout(function(){var a=j(o),e=document.createElement("canvas");e.id=g.randstr(),k({format:b.format,width:o._fullLayout.width,height:o._fullLayout.height,canvas:e,svg:a,promise:!0}).then(function(a){o&&document.body.removeChild(o),c(a)})["catch"](function(a){d(a)})},a)})}b=b||{},b.format=b.format||"png";var m=function(a){return void 0===a||null===a||!!(e(a)&&a>1)};m(b.width)&&m(b.height)||d(new Error("Height and width should be pixel values."));var n=i(a,{format:"png",height:b.height,width:b.width}),o=n.gd;o.style.position="absolute",o.style.left="-5000px",document.body.appendChild(o);var p=h.getRedrawFunc(o);f.plot(o,n.data,n.layout,n.config).then(p).then(l).then(function(a){c(a)})["catch"](function(a){d(a)})})}var e=a("fast-isnumeric"),f=a("../plotly"),g=a("../lib"),h=a("../snapshot/helpers"),i=a("../snapshot/cloneplot"),j=a("../snapshot/tosvg"),k=a("../snapshot/svgtoimg");b.exports=d},{"../lib":645,"../plotly":675,"../snapshot/cloneplot":716,"../snapshot/helpers":719,"../snapshot/svgtoimg":721,"../snapshot/tosvg":723,"fast-isnumeric":259}],674:[function(a,b,c){"use strict";function d(a,b,c,e,f,j){j=j||[];for(var k=Object.keys(a),m=0;m<k.length;m++){var n=k[m];if("transforms"!==n){var q=j.slice();q.push(n);var r=a[n],s=b[n],t=i(c,n),u="info_array"===(t||{}).valType,v="colorscale"===(t||{}).valType;if(h(c,n))if(o(r)&&o(s))d(r,s,t,e,f,q);else if(t.items&&!u&&p(r)){var w,x,y=t.items,z=y[Object.keys(y)[0]],A=[];for(w=0;w<s.length;w++){var B=s[w]._index||w;x=q.slice(),x.push(B),o(r[B])&&o(s[w])&&(A.push(B),d(r[B],s[w],z,e,f,x))}for(w=0;w<r.length;w++)x=q.slice(),x.push(w),o(r[w])?-1===A.indexOf(w)&&e.push(g("unused",f,x)):e.push(g("object",f,x,r[w]))}else!o(r)&&o(s)?e.push(g("object",f,q,r)):p(r)||!p(s)||u||v?n in b?l.validate(r,t)||e.push(g("value",f,q,r)):e.push(g("unused",f,q,r)):e.push(g("array",f,q,r));else e.push(g("schema",f,q))}}return e}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c].type,e=a.traces[d].layoutAttributes;e&&l.extendFlat(a.layout.layoutAttributes,e)}return a.layout.layoutAttributes}function f(a){return p(a)?"In data trace "+a[1]+", ":"In "+a+", "}function g(a,b,c,d){c=c||"";var e,f;p(b)?(e=b[0],f=b[1]):(e=b,f=null);var g=k(c),h=q[a](b,g,d);return l.log(h),{code:a,container:e,trace:f,path:c,astr:g,msg:h}}function h(a,b){var c=j(b),d=c.keyMinusId,e=c.id;return!!(d in a&&a[d]._isSubplotObj&&e)||b in a}function i(a,b){return a[j(b).keyMinusId]}function j(a){var b=a.split(/([2-9]|[1-9][0-9]+)$/)[0];return{keyMinusId:b,id:a.substr(b.length,a.length)}}function k(a){if(!p(a))return String(a);for(var b="",c=0;c<a.length;c++){var d=a[c];"number"==typeof d?b=b.substr(0,b.length-1)+"["+d+"]":b+=d,c<a.length-1&&(b+=".")}return b}var l=a("../lib"),m=a("../plots/plots"),n=a("./plot_schema"),o=l.isPlainObject,p=Array.isArray;b.exports=function(a,b){var c,f,h=n.get(),i=[],j={};p(a)?(j.data=l.extendDeep([],a),c=a):(j.data=[],c=[],i.push(g("array","data"))),o(b)?(j.layout=l.extendDeep({},b),f=b):(j.layout={},f={},arguments.length>1&&i.push(g("object","layout"))),m.supplyDefaults(j);for(var k=j._fullData,q=c.length,r=0;q>r;r++){var s=c[r],t=["data",r];if(o(s)){var u=k[r],v=u.type,w=h.traces[v].attributes;w.type={valType:"enumerated",values:[v]},!1===u.visible&&!1!==s.visible&&i.push(g("invisible",t)),d(s,u,w,i,t);var x=s.transforms,y=u.transforms;if(x){p(x)||i.push(g("array",t,["transforms"])),t.push("transforms");for(var z=0;z<x.length;z++){var A=["transforms",z],B=x[z].type;if(o(x[z])){var C=h.transforms[B]?h.transforms[B].attributes:{};C.type={valType:"enumerated",values:Object.keys(h.transforms)},d(x[z],y[z],C,i,t,A)}else i.push(g("object",t,A))}}}else i.push(g("object",t))}return d(f,j._fullLayout,e(h,k),i,"layout"),0===i.length?void 0:i};var q={object:function(a,b){return("layout"===a&&""===b?"The layout argument":"data"===a[0]&&""===b?"Trace "+a[1]+" in the data argument":f(a)+"key "+b)+" must be linked to an object container"},array:function(a,b){return("data"===a?"The data argument":f(a)+"key "+b)+" must be linked to an array container"},schema:function(a,b){return f(a)+"key "+b+" is not part of the schema"},unused:function(a,b,c){var d=o(c)?"container":"key";return f(a)+d+" "+b+" did not get coerced"},invisible:function(a){return"Trace "+a[1]+" got defaulted to be not visible"},value:function(a,b,c){return[f(a)+"key "+b,"is set to an invalid value ("+c+")"].join(" ")}}},{"../lib":645,"../plots/plots":708,"./plot_schema":669}],675:[function(a,b,c){"use strict";c.defaultConfig=a("./plot_api/plot_config"),c.Plots=a("./plots/plots"),c.Axes=a("./plots/cartesian/axes"),c.ModeBar=a("./components/modebar"),a("./plot_api/plot_api")},{"./components/modebar":594,"./plot_api/plot_api":667,"./plot_api/plot_config":668,"./plots/cartesian/axes":680,"./plots/plots":708}],676:[function(a,b,c){"use strict";b.exports={mode:{valType:"enumerated",dflt:"afterall",role:"info",values:["immediate","next","afterall"],description:["Describes how a new animate call interacts with currently-running","animations. If `immediate`, current animations are interrupted and","the new animation is started. If `next`, the current frame is allowed","to complete, after which the new animation is started. If `afterall`","all existing frames are animated to completion before the new animation","is started."].join(" ")},direction:{valType:"enumerated",role:"info",values:["forward","reverse"],dflt:"forward",description:["The direction in which to play the frames triggered by the animation call"].join(" ")},fromcurrent:{valType:"boolean",dflt:!1,role:"info",description:["Play frames starting at the current frame instead of the beginning."].join(" ")},frame:{duration:{valType:"number",role:"info",min:0,dflt:500,description:["The duration in milliseconds of each frame. If greater than the frame","duration, it will be limited to the frame duration."].join(" ")},redraw:{valType:"boolean",role:"info",dflt:!0,description:["Redraw the plot at completion of the transition. This is desirable","for transitions that include properties that cannot be transitioned,","but may significantly slow down updates that do not require a full","redraw of the plot"].join(" ")}},transition:{duration:{valType:"number",role:"info",min:0,dflt:500,description:["The duration of the transition, in milliseconds. If equal to zero,","updates are synchronous."].join(" ")},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],role:"info",description:"The easing function used for the transition"}}}},{}],677:[function(a,b,c){"use strict";var d=a("../lib");b.exports=function(a,b,c){var e,f=c.name,g=b[f],h=d.isArray(a[f])?a[f]:[],i=b[f]=[];for(e=0;e<h.length;e++){var j=h[e],k={},l={};d.isPlainObject(j)||(l.itemIsNotPlainObject=!0,j={}),c.handleItemDefaults(j,k,b,c,l),k._input=j,k._index=e,i.push(k)}if(d.isArray(g)){var m=Math.min(g.length,i.length);for(e=0;m>e;e++)d.relinkPrivateKeys(i[e],g[e])}}},{"../lib":645}],678:[function(a,b,c){"use strict";var d=a("../components/fx/attributes");b.exports={type:{valType:"enumerated",role:"info",values:[],dflt:"scatter"},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],role:"info",dflt:!0,description:["Determines whether or not this trace is visible.","If *legendonly*, the trace is not drawn,","but can appear as a legend item","(provided that the legend itself is visible)."].join(" ")},showlegend:{valType:"boolean",role:"info",
dflt:!0,description:["Determines whether or not an item corresponding to this","trace is shown in the legend."].join(" ")},legendgroup:{valType:"string",role:"info",dflt:"",description:["Sets the legend group for this trace.","Traces part of the same legend group hide/show at the same time","when toggling legend items."].join(" ")},opacity:{valType:"number",role:"style",min:0,max:1,dflt:1,description:"Sets the opacity of the trace."},name:{valType:"string",role:"info",description:["Sets the trace name.","The trace name appear as the legend item and on hover."].join(" ")},uid:{valType:"string",role:"info",dflt:""},hoverinfo:{valType:"flaglist",role:"info",flags:["x","y","z","text","name"],extras:["all","none","skip"],dflt:"all",description:["Determines which trace information appear on hover.","If `none` or `skip` are set, no information is displayed upon hovering.","But, if `none` is set, click and hover events are still fired."].join(" ")},hoverlabel:d.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,role:"info",description:["The stream id number links a data trace on a plot with a stream.","See https://plot.ly/settings for more details."].join(" ")},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,role:"info",description:["Sets the maximum number of points to keep on the plots from an","incoming stream.","If `maxpoints` is set to *50*, only the newest 50 points will","be displayed on the plot."].join(" ")}}}},{"../components/fx/attributes":567}],679:[function(a,b,c){"use strict";b.exports={xaxis:{valType:"subplotid",role:"info",dflt:"x",description:["Sets a reference between this trace's x coordinates and","a 2D cartesian x axis.","If *x* (the default value), the x coordinates refer to","`layout.xaxis`.","If *x2*, the x coordinates refer to `layout.xaxis2`, and so on."].join(" ")},yaxis:{valType:"subplotid",role:"info",dflt:"y",description:["Sets a reference between this trace's y coordinates and","a 2D cartesian y axis.","If *y* (the default value), the y coordinates refer to","`layout.yaxis`.","If *y2*, the y coordinates refer to `layout.xaxis2`, and so on."].join(" ")}}},{}],680:[function(a,b,c){"use strict";function d(a,b,c,d,e){function f(b){return(1+100*(b-a)/c.dtick)%100<2}for(var g=0,h=0,i=0,j=0,k=0;k<b.length;k++)b[k]%1==0?i++:t(b[k])||j++,f(b[k])&&g++,f(b[k]+c.dtick/2)&&h++;var l=b.length-j;if(i===l&&"date"!==c.type)c.dtick<1?a=d-.5*c.dtick:(a-=.5)+c.dtick<d&&(a+=c.dtick);else if(.1*l>h&&(g>.3*l||f(d)||f(e))){var m=c.dtick/2;a+=d>a+m?m:-m}return a}function e(a,b,c,d,e){var f=v.findExactDates(b,e);if(f.exactDays>.8){var g=Number(c.substr(1));f.exactYears>.8&&g%12==0?a=J.tickIncrement(a,"M6","reverse")+1.5*E:f.exactMonths>.8?a=J.tickIncrement(a,"M1","reverse")+15.5*E:a-=E/2;var h=J.tickIncrement(a,c);if(d>=h)return h}return a}function f(a){var b,c,d=a.tickvals,e=a.ticktext,f=new Array(d.length),g=v.simpleMap(a.range,a.r2l),h=1.0001*g[0]-1e-4*g[1],j=1.0001*g[1]-1e-4*g[0],k=Math.min(h,j),l=Math.max(h,j),m=0;Array.isArray(e)||(e=[]);var n="category"===a.type?a.d2l_noadd:a.d2l;for("log"===a.type&&"L"!==String(a.dtick).charAt(0)&&(a.dtick="L"+Math.pow(10,Math.floor(Math.min(a.range[0],a.range[1]))-1)),c=0;c<d.length;c++)(b=n(d[c]))>k&&l>b&&(void 0===e[c]?f[m]=J.tickText(a,b):f[m]=i(a,b,String(e[c])),m++);return m<d.length&&f.splice(m,d.length-m),f}function g(a,b,c){return b*v.roundUp(a/b,c)}function h(a){var b=a.dtick;if(a._tickexponent=0,t(b)||"string"==typeof b||(b=1),"category"===a.type&&(a._tickround=null),"date"===a.type){var c=a.r2l(a.tick0),d=a.l2r(c).replace(/(^-|i)/g,""),e=d.length;if("M"===String(b).charAt(0))e>10||"01-01"!==d.substr(5)?a._tickround="d":a._tickround=+b.substr(1)%12==0?"y":"m";else if(b>=E&&10>=e||b>=15*E)a._tickround="d";else if(b>=G&&16>=e||b>=F)a._tickround="M";else if(b>=H&&19>=e||b>=G)a._tickround="S";else{var f=a.l2r(c+b).replace(/^-/,"").length;a._tickround=Math.max(e,f)-20}}else if(t(b)||"L"===b.charAt(0)){var g=a.range.map(a.r2d||Number);t(b)||(b=Number(b.substr(1))),a._tickround=2-Math.floor(Math.log(b)/Math.LN10+.01);var h=Math.max(Math.abs(g[0]),Math.abs(g[1])),i=Math.floor(Math.log(h)/Math.LN10+.01);Math.abs(i)>3&&("SI"===a.exponentformat||"B"===a.exponentformat?a._tickexponent=3*Math.round((i-1)/3):a._tickexponent=i)}else a._tickround=null}function i(a,b,c){var d=a.tickfont||{};return{x:b,dx:0,dy:0,text:c||"",fontSize:d.size,font:d.family,fontColor:d.color}}function j(a,b,c,d){var e=a._tickround,f=c&&a.hoverformat||a.tickformat;d&&(e=t(e)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[e]);var g,h=v.formatDate(b.x,f,e,a.calendar),i=h.indexOf("\n");-1!==i&&(g=h.substr(i+1),h=h.substr(0,i)),d&&("00:00:00"===h||"00:00"===h?(h=g,g=""):8===h.length&&(h=h.replace(/:00$/,""))),g&&(c?"d"===e?h+=", "+g:h=g+(h?", "+h:""):a._inCalcTicks&&g===a._prevDateHead||(h+="<br>"+g,a._prevDateHead=g)),b.text=h}function k(a,b,c,d,e){var f=a.dtick,g=b.x;if(!d||"string"==typeof f&&"L"===f.charAt(0)||(f="L3"),a.tickformat||"string"==typeof f&&"L"===f.charAt(0))b.text=n(Math.pow(10,g),a,e,d);else if(t(f)||"D"===f.charAt(0)&&v.mod(g+.01,1)<.1)if(-1!==["e","E","power"].indexOf(a.exponentformat)){var h=Math.round(g);b.text=0===h?1:1===h?"10":h>1?"10<sup>"+h+"</sup>":"10<sup>−"+-h+"</sup>",b.fontSize*=1.25}else b.text=n(Math.pow(10,g),a,"","fakehover"),"D1"===f&&"y"===a._id.charAt(0)&&(b.dy-=b.fontSize/6);else{if("D"!==f.charAt(0))throw"unrecognized dtick "+String(f);b.text=String(Math.round(Math.pow(10,v.mod(g,1)))),b.fontSize*=.75}if("D1"===a.dtick){var i=String(b.text).charAt(0);"0"!==i&&"1"!==i||("y"===a._id.charAt(0)?b.dx-=b.fontSize/4:(b.dy+=b.fontSize/2,b.dx+=(a.range[1]>a.range[0]?1:-1)*b.fontSize*(0>g?.5:.25)))}}function l(a,b){var c=a._categories[Math.round(b.x)];void 0===c&&(c=""),b.text=String(c)}function m(a,b,c,d,e){"all"===a.showexponent&&Math.abs(b.x/a.dtick)<1e-6&&(e="hide"),b.text=n(b.x,a,e,d)}function n(a,b,c,d){var e=0>a,f=b._tickround,g=c||b.exponentformat||"B",i=b._tickexponent,j=b.tickformat,k=b.separatethousands;if(d){var l={exponentformat:b.exponentformat,dtick:"none"===b.showexponent?b.dtick:t(a)?Math.abs(a)||1:1,range:"none"===b.showexponent?b.range.map(b.r2d):[0,a||1]};h(l),f=(Number(l._tickround)||0)+4,i=l._tickexponent,b.hoverformat&&(j=b.hoverformat)}if(j)return s.format(j)(a).replace(/-/g,"−");var m=Math.pow(10,-f)/2;if("none"===g&&(i=0),(a=Math.abs(a))<m)a="0",e=!1;else{if(a+=m,i&&(a*=Math.pow(10,-i),f+=i),0===f)a=String(Math.floor(a));else if(0>f){a=String(Math.round(a)),a=a.substr(0,a.length+f);for(var n=f;0>n;n++)a+="0"}else{a=String(a);var o=a.indexOf(".")+1;o&&(a=a.substr(0,o+f).replace(/\.?0+$/,""))}a=v.numSeparate(a,b._separators,k)}if(i&&"hide"!==g){var p;p=0>i?"−"+-i:"power"!==g?"+"+i:String(i),"e"===g||("SI"===g||"B"===g)&&(i>12||-15>i)?a+="e"+p:"E"===g?a+="E"+p:"power"===g?a+="×10<sup>"+p+"</sup>":"B"===g&&9===i?a+="B":"SI"!==g&&"B"!==g||(a+=S[i/3+5])}return e?"−"+a:a}function o(a,b){var c,d,e=[];for(c=0;c<b.length;c++){var f=[],g=a._fullData[b[c]].xaxis,h=a._fullData[b[c]].yaxis;if(g&&h){for(d=0;d<e.length;d++)-1===e[d].x.indexOf(g)&&-1===e[d].y.indexOf(h)||f.push(d);if(f.length){var i,j=e[f[0]];if(f.length>1)for(d=1;d<f.length;d++)i=e[f[d]],p(j.x,i.x),p(j.y,i.y);p(j.x,[g]),p(j.y,[h])}else e.push({x:[g],y:[h]})}}return e}function p(a,b){for(var c=0;c<b.length;c++)-1===a.indexOf(b[c])&&a.push(b[c])}function q(a,b,c){var d,e,f=[],g=[],h=a.layout;for(d=0;d<b.length;d++)f.push(J.getFromId(a,b[d]));for(d=0;d<c.length;d++)g.push(J.getFromId(a,c[d]));var i=Object.keys(f[0]),j=["anchor","domain","overlaying","position","side","tickangle"],k=["linear","log"];for(d=0;d<i.length;d++){var l=i[d],m=f[0][l],n=g[0][l],o=!0,p=!1,q=!1;if("_"!==l.charAt(0)&&"function"!=typeof m&&-1===j.indexOf(l)){for(e=1;e<f.length&&o;e++){var s=f[e][l];"type"===l&&-1!==k.indexOf(m)&&-1!==k.indexOf(s)&&m!==s?p=!0:s!==m&&(o=!1)}for(e=1;e<g.length&&o;e++){var t=g[e][l];"type"===l&&-1!==k.indexOf(n)&&-1!==k.indexOf(t)&&n!==t?q=!0:g[e][l]!==n&&(o=!1)}o&&(p&&(h[f[0]._name].type="linear"),q&&(h[g[0]._name].type="linear"),r(h,l,f,g))}}for(d=0;d<a._fullLayout.annotations.length;d++){var u=a._fullLayout.annotations[d];-1!==b.indexOf(u.xref)&&-1!==c.indexOf(u.yref)&&v.swapAttrs(h.annotations[d],["?"])}}function r(a,b,c,d){var e,f=v.nestedProperty,g=f(a[c[0]._name],b).get(),h=f(a[d[0]._name],b).get();for("title"===b&&("Click to enter X axis title"===g&&(g="Click to enter Y axis title"),"Click to enter Y axis title"===h&&(h="Click to enter X axis title")),e=0;e<c.length;e++)f(a,c[e]._name+"."+b).set(h);for(e=0;e<d.length;e++)f(a,d[e]._name+"."+b).set(g)}var s=a("d3"),t=a("fast-isnumeric"),u=a("../../registry"),v=a("../../lib"),w=a("../../lib/svg_text_utils"),x=a("../../components/titles"),y=a("../../components/color"),z=a("../../components/drawing"),A=a("../../constants/numerical"),B=A.FP_SAFE,C=A.ONEAVGYEAR,D=A.ONEAVGMONTH,E=A.ONEDAY,F=A.ONEHOUR,G=A.ONEMIN,H=A.ONESEC,I=A.BADNUM,J=b.exports={};J.layoutAttributes=a("./layout_attributes"),J.supplyLayoutDefaults=a("./layout_defaults"),J.setConvert=a("./set_convert");var K=a("./axis_autotype"),L=a("./axis_ids");J.id2name=L.id2name,J.cleanId=L.cleanId,J.list=L.list,J.listIds=L.listIds,J.getFromId=L.getFromId,J.getFromTrace=L.getFromTrace,J.coerceRef=function(a,b,c,d,e,f){var g=d.charAt(d.length-1),h=J.listIds(c,g),i=d+"ref",j={};return e||(e=h[0]||f),f||(f=e),j[i]={valType:"enumerated",values:h.concat(f?[f]:[]),dflt:e},v.coerce(a,b,j,i)},J.coercePosition=function(a,b,c,d,e,f){var g,h;if("paper"===d||"pixel"===d)g=c(e,f);else{var i=J.getFromId(b,d);if(f=i.fraction2r(f),g=c(e,f),"category"===i.type){if("string"==typeof g&&(i._categories||[]).length)return h=i._categories.indexOf(g),void(a[e]=-1===h?f:h)}else if("date"===i.type)return void(a[e]=v.cleanDate(g,I,i.calendar))}a[e]=t(g)?Number(g):f},J.getDataToCoordFunc=function(a,b,c,d){var e,f="x"===c||"y"===c||"z"===c?c:d;if(Array.isArray(f)){if(e={type:K(d),_categories:[]},J.setConvert(e),"category"===e.type)for(var g=0;g<d.length;g++)e.d2c(d[g])}else e=J.getFromTrace(a,b,f);return e?e.d2c:"ids"===f?function(a){return String(a)}:function(a){return+a}},J.clearTypes=function(a,b){Array.isArray(b)&&b.length||(b=a._fullData.map(function(a,b){return b})),b.forEach(function(b){var c=a.data[b];delete(J.getFromId(a,c.xaxis)||{}).type,delete(J.getFromId(a,c.yaxis)||{}).type})},J.counterLetter=function(a){var b=a.charAt(0);return"x"===b?"y":"y"===b?"x":void 0},J.minDtick=function(a,b,c,d){-1===["log","category"].indexOf(a.type)&&d?void 0===a._minDtick?(a._minDtick=b,a._forceTick0=c):a._minDtick&&((a._minDtick/b+1e-6)%1<2e-6&&((c-a._forceTick0)/b%1+1.000001)%1<2e-6?(a._minDtick=b,a._forceTick0=c):((b/a._minDtick+1e-6)%1>2e-6||((c-a._forceTick0)/a._minDtick%1+1.000001)%1>2e-6)&&(a._minDtick=0)):a._minDtick=0},J.getAutoRange=function(a){var b,c=[],d=a._min[0].val,e=a._max[0].val;for(b=1;b<a._min.length&&d===e;b++)d=Math.min(d,a._min[b].val);for(b=1;b<a._max.length&&d===e;b++)e=Math.max(e,a._max[b].val);var f,g,h,i,j,k,l,m=0,n=!1;if(a.range){var o=v.simpleMap(a.range,a.r2l);n=o[1]<o[0]}for("reversed"===a.autorange&&(n=!0,a.autorange=!0),b=0;b<a._min.length;b++)for(g=a._min[b],f=0;f<a._max.length;f++)h=a._max[f],l=h.val-g.val,k=a._length-g.pad-h.pad,l>0&&k>0&&l/k>m&&(i=g,j=h,m=l/k);if(d===e){var p=d-1,q=d+1;c="tozero"===a.rangemode?0>d?[p,0]:[0,q]:"nonnegative"===a.rangemode?[Math.max(0,p),Math.max(0,q)]:[p,q]}else m&&("linear"!==a.type&&"-"!==a.type||("tozero"===a.rangemode?(i.val>=0&&(i={val:0,pad:0}),j.val<=0&&(j={val:0,pad:0})):"nonnegative"===a.rangemode&&(i.val-m*i.pad<0&&(i={val:0,pad:0}),j.val<0&&(j={val:1,pad:0})),m=(j.val-i.val)/(a._length-i.pad-j.pad)),c=[i.val-m*i.pad,j.val+m*j.pad]);return c[0]===c[1]&&("tozero"===a.rangemode?c=c[0]<0?[c[0],0]:c[0]>0?[0,c[0]]:[0,1]:(c=[c[0]-1,c[0]+1],"nonnegative"===a.rangemode&&(c[0]=Math.max(0,c[0])))),n&&c.reverse(),v.simpleMap(c,a.l2r||Number)},J.doAutoRange=function(a){a._length||a.setScale();var b=a._min&&a._max&&a._min.length&&a._max.length;if(a.autorange&&b){a.range=J.getAutoRange(a);var c=a._input;c.range=a.range.slice(),c.autorange=a.autorange}},J.saveRangeInitial=function(a,b){for(var c=J.list(a,"",!0),d=!1,e=0;e<c.length;e++){var f=c[e],g=void 0===f._rangeInitial,h=g||!(f.range[0]===f._rangeInitial[0]&&f.range[1]===f._rangeInitial[1]);(g&&!1===f.autorange||b&&h)&&(f._rangeInitial=f.range.slice(),d=!0)}return d},J.saveShowSpikeInitial=function(a,b){for(var c=J.list(a,"",!0),d=!1,e="on",f=0;f<c.length;f++){var g=c[f],h=void 0===g._showSpikeInitial,i=h||!(g.showspikes===g._showspikes);(h||b&&i)&&(g._showSpikeInitial=g.showspikes,d=!0),"on"!==e||g.showspikes||(e="off")}return a._fullLayout._cartesianSpikesEnabled=e,d},J.expand=function(a,b,c){function d(a){if(Array.isArray(a))return function(b){return Math.max(Number(a[b]||0),0)};var b=Math.max(Number(a||0),0);return function(){return b}}function e(c){function d(a){return t(a)&&Math.abs(a)<B}if(i=b[c],t(i)){if(l=u(c)+r,m=w(c)+r,o=i-y(c),p=i+x(c),"log"===a.type&&p/10>o&&(o=p/10),j=a.c2l(o),k=a.c2l(p),s&&(j=Math.min(0,j),k=Math.max(0,k)),d(j)){for(n=!0,g=0;g<a._min.length&&n;g++)h=a._min[g],h.val<=j&&h.pad>=m?n=!1:h.val>=j&&h.pad<=m&&(a._min.splice(g,1),g--);n&&a._min.push({val:j,pad:s&&0===j?0:m})}if(d(k)){for(n=!0,g=0;g<a._max.length&&n;g++)h=a._max[g],h.val>=k&&h.pad>=l?n=!1:h.val<=k&&h.pad<=l&&(a._max.splice(g,1),g--);n&&a._max.push({val:k,pad:s&&0===k?0:l})}}}if((a.autorange||v.nestedProperty(a,"rangeslider.autorange").get())&&b){a._min||(a._min=[]),a._max||(a._max=[]),c||(c={}),a._m||a.setScale();var f,g,h,i,j,k,l,m,n,o,p,q=b.length,r=c.padded?.05*a._length:0,s=c.tozero&&("linear"===a.type||"-"===a.type),u=d((a._m>0?c.ppadplus:c.ppadminus)||c.ppad||0),w=d((a._m>0?c.ppadminus:c.ppadplus)||c.ppad||0),x=d(c.vpadplus||c.vpad),y=d(c.vpadminus||c.vpad);for(f=0;6>f;f++)e(f);for(f=q-1;f>5;f--)e(f)}},J.autoBin=function(a,b,c,f,g){var h=v.aggNums(Math.min,null,a),i=v.aggNums(Math.max,null,a);if(g||(g=b.calendar),"category"===b.type)return{start:h-.5,end:i+.5,size:1};var j;if(c)j=(i-h)/c;else{var k=v.distinctVals(a),l=Math.pow(10,Math.floor(Math.log(k.minDiff)/Math.LN10)),m=l*v.roundUp(k.minDiff/l,[.9,1.9,4.9,9.9],!0);j=Math.max(m,2*v.stdev(a)/Math.pow(a.length,f?.25:.4)),t(j)||(j=1)}var n;n="log"===b.type?{type:"linear",range:[h,i]}:{type:b.type,range:v.simpleMap([h,i],b.c2r,0,g),calendar:g},J.setConvert(n),J.autoTicks(n,j);var o,p=J.tickIncrement(J.tickFirst(n),n.dtick,"reverse",g);if("number"==typeof n.dtick)p=d(p,a,n,h,i),o=p+(1+Math.floor((i-p)/n.dtick))*n.dtick;else for("M"===n.dtick.charAt(0)&&(p=e(p,a,n.dtick,h,g)),o=p;i>=o;)o=J.tickIncrement(o,n.dtick,!1,g);return{start:b.c2r(p,0,g),end:b.c2r(o,0,g),size:n.dtick}},J.calcTicks=function(a){var b=v.simpleMap(a.range,a.r2l);if("auto"===a.tickmode||!a.dtick){var c,d=a.nticks;d||("category"===a.type?(c=a.tickfont?1.2*(a.tickfont.size||12):15,d=a._length/c):(c="y"===a._id.charAt(0)?40:80,d=v.constrain(a._length/c,4,9)+1)),"array"===a.tickmode&&(d*=100),J.autoTicks(a,Math.abs(b[1]-b[0])/d),a._minDtick>0&&a.dtick<2*a._minDtick&&(a.dtick=a._minDtick,a.tick0=a.l2r(a._forceTick0))}if(a.tick0||(a.tick0="date"===a.type?"2000-01-01":0),h(a),"array"===a.tickmode)return f(a);a._tmin=J.tickFirst(a);var e=b[1]<b[0],g=[],i=1.0001*b[1]-1e-4*b[0];"category"===a.type&&(i=e?Math.max(-.5,i):Math.min(a._categories.length-.5,i));for(var j=a._tmin;(e?j>=i:i>=j)&&(g.push(j),!(g.length>1e3));j=J.tickIncrement(j,a.dtick,e,a.calendar));a._tmax=g[g.length-1],a._prevDateHead="",a._inCalcTicks=!0;for(var k=new Array(g.length),l=0;l<g.length;l++)k[l]=J.tickText(a,g[l]);return a._inCalcTicks=!1,k};var M=[2,5,10],N=[1,2,3,6,12],O=[1,2,5,10,15,30],P=[1,2,3,7,14],Q=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],R=[-.301,0,.301,.699,1];J.autoTicks=function(a,b){var c;if("date"===a.type){a.tick0=v.dateTick0(a.calendar);var d=2*b;d>C?(b/=C,c=Math.pow(10,Math.floor(Math.log(b)/Math.LN10)),a.dtick="M"+12*g(b,c,M)):d>D?(b/=D,a.dtick="M"+g(b,1,N)):d>E?(a.dtick=g(b,E,P),a.tick0=v.dateTick0(a.calendar,!0)):d>F?a.dtick=g(b,F,N):d>G?a.dtick=g(b,G,O):d>H?a.dtick=g(b,H,O):(c=Math.pow(10,Math.floor(Math.log(b)/Math.LN10)),a.dtick=g(b,c,M))}else if("log"===a.type){a.tick0=0;var e=v.simpleMap(a.range,a.r2l);if(b>.7)a.dtick=Math.ceil(b);else if(Math.abs(e[1]-e[0])<1){var f=1.5*Math.abs((e[1]-e[0])/b);b=Math.abs(Math.pow(10,e[1])-Math.pow(10,e[0]))/f,c=Math.pow(10,Math.floor(Math.log(b)/Math.LN10)),a.dtick="L"+g(b,c,M)}else a.dtick=b>.3?"D2":"D1"}else"category"===a.type?(a.tick0=0,a.dtick=Math.ceil(Math.max(b,1))):(a.tick0=0,c=Math.pow(10,Math.floor(Math.log(b)/Math.LN10)),a.dtick=g(b,c,M));if(0===a.dtick&&(a.dtick=1),!t(a.dtick)&&"string"!=typeof a.dtick){var h=a.dtick;throw a.dtick=1,"ax.dtick error: "+String(h)}},J.tickIncrement=function(a,b,c,d){var e=c?-1:1;if(t(b))return a+e*b;var f=b.charAt(0),g=e*Number(b.substr(1));if("M"===f)return v.incrementMonth(a,g,d);if("L"===f)return Math.log(Math.pow(10,a)+g)/Math.LN10;if("D"===f){var h="D2"===b?R:Q,i=a+.01*e,j=v.roundUp(v.mod(i,1),h,c);return Math.floor(i)+Math.log(s.round(Math.pow(10,j),1))/Math.LN10}throw"unrecognized dtick "+String(b)},J.tickFirst=function(a){var b=a.r2l||Number,c=v.simpleMap(a.range,b),d=c[1]<c[0],e=d?Math.floor:Math.ceil,f=1.0001*c[0]-1e-4*c[1],g=a.dtick,h=b(a.tick0);if(t(g)){var i=e((f-h)/g)*g+h;return"category"===a.type&&(i=v.constrain(i,0,a._categories.length-1)),i}var j=g.charAt(0),k=Number(g.substr(1));if("M"===j){for(var l,m,n,o=0,p=h;10>o;){if(((l=J.tickIncrement(p,g,d,a.calendar))-f)*(p-f)<=0)return d?Math.min(p,l):Math.max(p,l);m=(f-(p+l)/2)/(l-p),n=j+(Math.abs(Math.round(m))||1)*k,p=J.tickIncrement(p,n,0>m?!d:d,a.calendar),o++}return v.error("tickFirst did not converge",a),p}if("L"===j)return Math.log(e((Math.pow(10,f)-h)/k)*k+h)/Math.LN10;if("D"===j){var q="D2"===g?R:Q,r=v.roundUp(v.mod(f,1),q,d);return Math.floor(f)+Math.log(s.round(Math.pow(10,r),1))/Math.LN10}throw"unrecognized dtick "+String(g)},J.tickText=function(a,b,c){function d(d){var e;return void 0===d||(c?"none"===d:(e={first:a._tmin,last:a._tmax}[d],"all"!==d&&b!==e))}var e,f,g=i(a,b),h="array"===a.tickmode,n=c||h,o="category"===a.type?a.d2l_noadd:a.d2l;if(h&&Array.isArray(a.ticktext)){var p=v.simpleMap(a.range,a.r2l),q=Math.abs(p[1]-p[0])/1e4;for(f=0;f<a.ticktext.length&&!(Math.abs(b-o(a.tickvals[f]))<q);f++);if(f<a.ticktext.length)return g.text=String(a.ticktext[f]),g}return e="none"!==a.exponentformat&&d(a.showexponent)?"hide":"","date"===a.type?j(a,g,c,n):"log"===a.type?k(a,g,c,n,e):"category"===a.type?l(a,g):m(a,g,c,n,e),a.tickprefix&&!d(a.showtickprefix)&&(g.text=a.tickprefix+g.text),a.ticksuffix&&!d(a.showticksuffix)&&(g.text+=a.ticksuffix),g};var S=["f","p","n","μ","m","","k","M","G","T"];J.subplotMatch=/^x([0-9]*)y([0-9]*)$/,J.getSubplots=function(a,b){var c,d,e,f=[],g=a._fullData||a.data||[];for(c=0;c<g.length;c++){var h=g[c];!1!==h.visible&&"legendonly"!==h.visible&&(u.traceIs(h,"cartesian")||u.traceIs(h,"gl2d"))&&(e=(h.xaxis||"x")+(h.yaxis||"y"),-1===f.indexOf(e)&&f.push(e))}var i=J.list(a,"",!0);for(c=0;c<i.length;c++){var j=i[c],k=j._id.charAt(0),l="free"===j.anchor?"x"===k?"y":"x":j.anchor,m=J.getFromId(a,l),n=!1;for(d=0;d<f.length;d++)if(function(a,b){return-1!==a.indexOf(b._id)}(f[d],j)){n=!0;break}"free"===j.anchor&&n||m&&(e="x"===k?j._id+m._id:m._id+j._id,-1===f.indexOf(e)&&f.push(e))}var o=J.subplotMatch,p=[];for(c=0;c<f.length;c++)e=f[c],o.test(e)&&p.push(e);return p.sort(function(a,b){var c=a.match(o),d=b.match(o);return c[1]===d[1]?+(c[2]||1)-(d[2]||1):+(c[1]||0)-(d[1]||0)}),b?J.findSubplotsWithAxis(p,b):p},J.findSubplotsWithAxis=function(a,b){for(var c=new RegExp("x"===b._id.charAt(0)?"^"+b._id+"y":b._id+"$"),d=[],e=0;e<a.length;e++){var f=a[e];c.test(f)&&d.push(f)}return d},J.makeClipPaths=function(a){var b,c,d=a._fullLayout,e=d._defs,f={_offset:0,_length:d.width,_id:""},g={_offset:0,_length:d.height,_id:""},h=J.list(a,"x",!0),i=J.list(a,"y",!0),j=[];for(b=0;b<h.length;b++)for(j.push({x:h[b],y:g}),c=0;c<i.length;c++)0===b&&j.push({x:f,y:i[c]}),j.push({x:h[b],y:i[c]});var k=e.selectAll("g.clips").data([0]);k.enter().append("g").classed("clips",!0);var l=k.selectAll(".axesclip").data(j,function(a){return a.x._id+a.y._id});l.enter().append("clipPath").classed("axesclip",!0).attr("id",function(a){return"clip"+d._uid+a.x._id+a.y._id}).append("rect"),l.exit().remove(),l.each(function(a){s.select(this).select("rect").attr({x:a.x._offset||0,y:a.y._offset||0,width:a.x._length||1,height:a.y._length||1})})},J.doTicks=function(a,b,c){function d(a){var b=j.l2p(a.x);return b>1&&b<j._length-1}function e(a,b){var c=a.selectAll("path."+D).data("inside"===j.ticks?R:B,C);b&&j.ticks?(c.enter().append("path").classed(D,1).classed("ticks",1).classed("crisp",1).call(y.stroke,j.tickcolor).style("stroke-width",N+"px").attr("d",b),c.attr("transform",n),c.exit().remove()):c.remove()}function f(c,d){function e(a,b){a.each(function(a){var c=u(b),d=s.select(this),e=d.select(".text-math-group"),f=n(a)+(t(b)&&0!=+b?" rotate("+b+","+m(a)+","+(o(a)-a.fontSize/2)+")":"");if(e.empty()){var g=d.select("text").attr({transform:f,"text-anchor":c});g.empty()||g.selectAll("tspan.line").attr({x:g.attr("x"),y:g.attr("y")})}else{var h=z.bBox(e.node()).width*{end:-.5,start:.5}[c];e.attr("transform",f+(h?"translate("+h+",0)":""))}})}function f(){return F.length&&Promise.all(F)}function h(){if(e(l,j.tickangle),"x"===r&&!t(j.tickangle)&&("log"!==j.type||"D"!==String(j.dtick).charAt(0))){var a=[];for(l.each(function(b){var c=s.select(this),d=c.select(".text-math-group"),e=j.l2p(b.x);d.empty()&&(d=c.select("text"));var f=z.bBox(d.node());a.push({top:0,bottom:10,height:10,left:e-f.width/2,right:e+f.width/2+2,width:f.width+2})}),q=0;q<a.length-1;q++)if(v.bBoxIntersect(a[q],a[q+1])){E=30;break}E&&(Math.abs((B[B.length-1].x-B[0].x)*j._m)/(B.length-1)<2.5*A&&(E=90),e(l,E)),j._lastangle=E}return g(),b+" done"}function i(){function b(a,b){a[0]=Math.min(a[0],b[0]),a[1]=Math.max(a[1],b[1])}var d=c.node().getBoundingClientRect(),e=a.getBoundingClientRect();if(j._boundingBox={width:d.width,height:d.height,left:d.left-e.left,right:d.right-e.left,top:d.top-e.top,bottom:d.bottom-e.top},p){var f=j._counterSpan=[1/0,-1/0];for(q=0;q<p.length;q++){var g=k._plots[p[q]],h=g["x"===r?"yaxis":"xaxis"];b(f,[h._offset,h._offset+h._length])}"free"===j.anchor&&b(f,"x"===r?[j._boundingBox.bottom,j._boundingBox.top]:[j._boundingBox.right,j._boundingBox.left])}}var l=c.selectAll("g."+D).data(B,C);if(!j.showticklabels||!t(d))return l.remove(),void g();var m,o,u,x,y;"x"===r?(y="bottom"===P?1:-1,m=function(a){return a.dx+I*y},x=d+(H+G)*y,o=function(a){return a.dy+x+a.fontSize*("bottom"===P?1:-.5)},u=function(a){return t(a)&&0!==a&&180!==a?0>a*y?"end":"start":"middle"}):(y="right"===P?1:-1,o=function(a){return a.dy+a.fontSize/2-I*y},m=function(a){return a.dx+d+(H+G+(90===Math.abs(j.tickangle)?a.fontSize/2:0))*y},u=function(a){return t(a)&&90===Math.abs(a)?"middle":"right"===P?"start":"end"});var A=0,E=0,F=[];l.enter().append("g").classed(D,1).append("text").attr("text-anchor","middle").each(function(b){var c=s.select(this),d=a._promises.length;c.call(z.setPosition,m(b),o(b)).call(z.font,b.font,b.fontSize,b.fontColor).text(b.text).call(w.convertToTspans),d=a._promises[d],d?F.push(a._promises.pop().then(function(){e(c,j.tickangle)})):e(c,j.tickangle)}),l.exit().remove(),l.each(function(a){A=Math.max(A,a.fontSize)}),e(l,j._lastangle||j.tickangle);var J=v.syncOrAsync([f,h,i]);return J&&J.then&&a._promises.push(J),J}function g(){if(!c){var d,e,f,g,h=L.getFromId(a,b),i=s.select(a).selectAll("g."+b+"tick"),j={selection:i,side:h.side},l=b.charAt(0),m=a._fullLayout._size,n=h.titlefont.size;if(i.size()){var o=z.getTranslate(i.node().parentNode);j.offsetLeft=o.x,j.offsetTop=o.y}"x"===l?(e="free"===h.anchor?{_offset:m.t+(1-(h.position||0))*m.h,_length:0}:L.getFromId(a,h.anchor),f=h._offset+h._length/2,g=e._offset+("top"===h.side?-10-n*(1.5+(h.showticklabels?1:0)):e._length+10+n*(1.5+(h.showticklabels?1.5:.5))),h.rangeslider&&h.rangeslider.visible&&h._boundingBox&&(g+=(k.height-k.margin.b-k.margin.t)*h.rangeslider.thickness+h._boundingBox.height),j.side||(j.side="bottom")):(e="free"===h.anchor?{_offset:m.l+(h.position||0)*m.w,_length:0}:L.getFromId(a,h.anchor),g=h._offset+h._length/2,f=e._offset+("right"===h.side?e._length+10+n*(1.5+(h.showticklabels?1:.5)):-10-n*(1.5+(h.showticklabels?.5:0))),d={rotate:"-90",offset:0},j.side||(j.side="left")),x.draw(a,b+"title",{propContainer:h,propName:h._name+".title",dfltName:l.toUpperCase()+" axis",avoid:j,transform:d,attributes:{x:f,y:g,"text-anchor":"middle"}})}}function h(a,b){return!0===a.visible&&a.xaxis+a.yaxis===b&&(!(!u.traceIs(a,"bar")||a.orientation!=={x:"h",y:"v"}[r])||a.fill&&a.fill.charAt(a.fill.length-1)===r)}function i(b,c,e){var f=b.gridlayer,g=b.zerolinelayer,i=b["hidegrid"+r]?[]:R,k=j._gridpath||"M0,0"+("x"===r?"v":"h")+c._length,l=f.selectAll("path."+E).data(!1===j.showgrid?[]:i,C);if(l.enter().append("path").classed(E,1).classed("crisp",1).attr("d",k).each(function(a){j.zeroline&&("linear"===j.type||"-"===j.type)&&Math.abs(a.x)<j.dtick/100&&s.select(this).remove()}),l.attr("transform",n).call(y.stroke,j.gridcolor||"#ddd").style("stroke-width",K+"px"),l.exit().remove(),g){for(var m=!1,o=0;o<a._fullData.length;o++)if(h(a._fullData[o],e)){m=!0;break}var p=v.simpleMap(j.range,j.r2l),q=p[0]*p[1]<=0&&j.zeroline&&("linear"===j.type||"-"===j.type)&&i.length&&(m||d({x:0})||!j.showline),t=g.selectAll("path."+F).data(q?[{x:0}]:[]);t.enter().append("path").classed(F,1).classed("zl",1).classed("crisp",1).attr("d",k),t.attr("transform",n).call(y.stroke,j.zerolinecolor||y.defaultLine).style("stroke-width",M+"px"),t.exit().remove()}}var j,k=a._fullLayout,l=!1;if("object"===(void 0===b?"undefined":_typeof(b)))j=b,b=j._id,l=!0;else if(j=J.getFromId(a,b),"redraw"===b&&k._paper.selectAll("g.subplot").each(function(a){var b=k._plots[a],c=b.xaxis,d=b.yaxis;b.xaxislayer.selectAll("."+c._id+"tick").remove(),b.yaxislayer.selectAll("."+d._id+"tick").remove(),b.gridlayer.selectAll("path").remove(),b.zerolinelayer.selectAll("path").remove()}),!b||"redraw"===b)return v.syncOrAsync(J.list(a,"",!0).map(function(c){return function(){if(c._id){var d=J.doTicks(a,c._id);return"redraw"===b&&(c._r=c.range.slice(),c._rl=v.simpleMap(c._r,c.r2l)),d}}}));j.tickformat||(-1===["none","e","E","power","SI","B"].indexOf(j.exponentformat)&&(j.exponentformat="e"),-1===["all","first","last","none"].indexOf(j.showexponent)&&(j.showexponent="all")),j.setScale();var m,n,o,p,q,r=b.charAt(0),A=J.counterLetter(b),B=J.calcTicks(j),C=function(a){return[a.text,a.x,j.mirror].join("_")},D=b+"tick",E=b+"grid",F=b+"zl",G=(j.linewidth||1)/2,H=("outside"===j.ticks?j.ticklen:1)+(j.linewidth||0),I=0,K=z.crispRound(a,j.gridwidth,1),M=z.crispRound(a,j.zerolinewidth,K),N=z.crispRound(a,j.tickwidth,1);if(j._counterangle&&"outside"===j.ticks){var O=j._counterangle*Math.PI/180;H=j.ticklen*Math.cos(O)+(j.linewidth||0),I=j.ticklen*Math.sin(O)}if("x"===r)m=["bottom","top"],n=function(a){return"translate("+j.l2p(a.x)+",0)"},o=function(a,b){if(j._counterangle){var c=j._counterangle*Math.PI/180;return"M0,"+a+"l"+Math.sin(c)*b+","+Math.cos(c)*b}return"M0,"+a+"v"+b};else{if("y"!==r)return void v.warn("Unrecognized doTicks axis:",b);m=["left","right"],n=function(a){return"translate(0,"+j.l2p(a.x)+")"},o=function(a,b){if(j._counterangle){var c=j._counterangle*Math.PI/180;return"M"+a+",0l"+Math.cos(c)*b+","+-Math.sin(c)*b}return"M"+a+",0h"+b}}var P=j.side||m[0],Q=[-1,1,P===m[1]?1:-1];if("inside"!==j.ticks==("x"===r)&&(Q=Q.map(function(a){return-a})),j.visible){var R=B.filter(d);if(l)return e(j._axislayer,o(j._pos+G*Q[2],Q[2]*j.ticklen)),j._counteraxis&&i({gridlayer:j._gridlayer,zerolinelayer:j._zerolinelayer},j._counteraxis),f(j._axislayer,j._pos);p=J.getSubplots(a,j);var S=p.map(function(a){var b=k._plots[a];if(k._has("cartesian")){var c=b[r+"axislayer"],d=j._linepositions[a]||[],g=b[A+"axis"],h=g._id===j.anchor,l=[!1,!1,!1],n="";if("allticks"===j.mirror?l=[!0,!0,!1]:h&&("ticks"===j.mirror?l=[!0,!0,!1]:l[m.indexOf(P)]=!0),j.mirrors)for(q=0;2>q;q++){var p=j.mirrors[g._id+m[q]];"ticks"!==p&&"labels"!==p||(l[q]=!0)}return void 0!==d[2]&&(l[2]=!0),l.forEach(function(a,b){var c=d[b],e=Q[b];a&&t(c)&&(n+=o(c+G*e,e*j.ticklen))}),e(c,n),i(b,g,a),f(c,d[3])}}).filter(function(a){return a&&a.then});return S.length?Promise.all(S):0}},J.swap=function(a,b){for(var c=o(a,b),d=0;d<c.length;d++)q(a,c[d].x,c[d].y)}},{"../../components/color":534,"../../components/drawing":558,"../../components/titles":623,"../../constants/numerical":631,"../../lib":645,"../../lib/svg_text_utils":662,"../../registry":715,"./axis_autotype":681,"./axis_ids":683,"./layout_attributes":691,"./layout_defaults":692,"./set_convert":697,d3:256,"fast-isnumeric":259}],681:[function(a,b,c){"use strict";function d(a){if(!a)return!1;for(var b=0;b<a.length;b++)if(g(a[b]))return!0;return!1}function e(a,b){for(var c,d=0,e=0,f=Math.max(1,(a.length-1)/1e3),i=0;i<a.length;i+=f)c=a[Math.round(i)],h.isDateTime(c,b)&&(d+=1),g(c)&&(e+=1);return d>2*e}function f(a){for(var b,c=Math.max(1,(a.length-1)/1e3),d=0,e=0,f=0;f<a.length;f+=c)b=a[Math.round(f)],h.cleanNumber(b)!==i?d++:"string"==typeof b&&""!==b&&"None"!==b&&e++;return e>2*d}var g=a("fast-isnumeric"),h=a("../../lib"),i=a("../../constants/numerical").BADNUM;b.exports=function(a,b){return e(a,b)?"date":f(a)?"category":d(a)?"linear":"-"}},{"../../constants/numerical":631,"../../lib":645,"fast-isnumeric":259}],682:[function(a,b,c){"use strict";var d=a("tinycolor2").mix,e=a("../../registry"),f=a("../../lib"),g=a("../../components/color/attributes").lightFraction,h=a("./layout_attributes"),i=a("./tick_value_defaults"),j=a("./tick_mark_defaults"),k=a("./tick_label_defaults"),l=a("./category_order_defaults"),m=a("./set_convert"),n=a("./ordered_categories");b.exports=function(a,b,c,o,p){function q(c,d){return f.coerce2(a,b,h,c,d)}var r=o.letter,s=o.font||{},t="Click to enter "+(o.title||r.toUpperCase()+" axis")+" title",u=c("visible",!o.cheateronly),v=b.type;if("date"===v&&e.getComponentMethod("calendars","handleDefaults")(a,b,"calendar",o.calendar),m(b,p),c("autorange",!b.isValidRange(a.range))&&c("rangemode"),c("range"),b.cleanRange(),l(a,b,c),b._initialCategories="category"===v?n(r,b.categoryorder,b.categoryarray,o.data):[],!u)return b;var w=c("color"),x=w===a.color?w:s.color;c("title",t),f.coerceFont(c,"titlefont",{family:s.family,size:Math.round(1.2*s.size),color:x}),i(a,b,c,v),k(a,b,c,v,o),j(a,b,c,o);var y=q("linecolor",w),z=q("linewidth"),A=c("showline",!!y||!!z);A||(delete b.linecolor,delete b.linewidth),(A||b.ticks)&&c("mirror");var B=q("gridcolor",d(w,o.bgColor,g).toRgbString()),C=q("gridwidth");c("showgrid",o.showGrid||!!B||!!C)||(delete b.gridcolor,delete b.gridwidth);var D=q("zerolinecolor",w),E=q("zerolinewidth");return c("zeroline",o.showGrid||!!D||!!E)||(delete b.zerolinecolor,delete b.zerolinewidth),b}},{"../../components/color/attributes":533,"../../lib":645,"../../registry":715,"./category_order_defaults":684,"./layout_attributes":691,"./ordered_categories":693,"./set_convert":697,"./tick_label_defaults":698,"./tick_mark_defaults":699,"./tick_value_defaults":700,tinycolor2:773}],683:[function(a,b,c){"use strict";function d(a,b,c){function d(a,c){for(var d=Object.keys(a),e=/^[xyz]axis[0-9]*/,f=[],g=0;g<d.length;g++){var h=d[g];b&&h.charAt(0)!==b||e.test(h)&&f.push(c+h)}return f.sort()}var e=a._fullLayout;if(!e)return[];var g=d(e,"");if(c)return g;for(var h=f.getSubplotIds(e,"gl3d")||[],i=0;i<h.length;i++){var j=h[i];g=g.concat(d(e[j],j+"."))}return g}var e=a("../../registry"),f=a("../plots"),g=a("../../lib"),h=a("./constants");c.id2name=function(a){if("string"==typeof a&&a.match(h.AX_ID_PATTERN)){var b=a.substr(1);return"1"===b&&(b=""),a.charAt(0)+"axis"+b}},c.name2id=function(a){if(a.match(h.AX_NAME_PATTERN)){var b=a.substr(5);return"1"===b&&(b=""),a.charAt(0)+b}},c.cleanId=function(a,b){if(a.match(h.AX_ID_PATTERN)&&(!b||a.charAt(0)===b)){var c=a.substr(1).replace(/^0+/,"");return"1"===c&&(c=""),a.charAt(0)+c}},c.list=function(a,b,c){return d(a,b,c).map(function(b){return g.nestedProperty(a._fullLayout,b).get()})},c.listIds=function(a,b){
return d(a,b,!0).map(c.name2id)},c.getFromId=function(a,b,d){var e=a._fullLayout;return"x"===d?b=b.replace(/y[0-9]*/,""):"y"===d&&(b=b.replace(/x[0-9]*/,"")),e[c.id2name(b)]},c.getFromTrace=function(a,b,d){var f=a._fullLayout,g=null;if(e.traceIs(b,"gl3d")){var h=b.scene;"scene"===h.substr(0,5)&&(g=f[h][d+"axis"])}else g=c.getFromId(a,b[d+"axis"]||d);return g}},{"../../lib":645,"../../registry":715,"../plots":708,"./constants":685}],684:[function(a,b,c){"use strict";b.exports=function(a,b,c){if("category"===b.type){var d,e=a.categoryarray,f=Array.isArray(e)&&e.length>0;f&&(d="array");var g=c("categoryorder",d);"array"===g&&c("categoryarray"),f||"array"!==g||(b.categoryorder="trace")}}},{}],685:[function(a,b,c){"use strict";b.exports={idRegex:{x:/^x([2-9]|[1-9][0-9]+)?$/,y:/^y([2-9]|[1-9][0-9]+)?$/},attrRegex:{x:/^xaxis([2-9]|[1-9][0-9]+)?$/,y:/^yaxis([2-9]|[1-9][0-9]+)?$/},xAxisMatch:/^xaxis[0-9]*$/,yAxisMatch:/^yaxis[0-9]*$/,AX_ID_PATTERN:/^[xyz][0-9]*$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,MINDRAG:8,MINSELECT:12,MINZOOM:20,DRAGGERSIZE:20,BENDPX:1.5,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4]}},{}],686:[function(a,b,c){"use strict";function d(a,b,c,d){var e,f,h,i,j=d[g(b)].type,k=[];for(f=0;f<c.length;f++)(h=c[f])!==b&&(i=d[g(h)],i.type!==j||i.fixedrange||k.push(h));for(e=0;e<a.length;e++)if(a[e][b]){var l=a[e],m=[];for(f=0;f<k.length;f++)h=k[f],l[h]||m.push(h);return{linkableAxes:m,thisGroup:l}}return{linkableAxes:k,thisGroup:null}}function e(a,b,c,d,e){var f,g,h,i,j;null===b?(b={},b[c]=1,j=a.length,a.push(b)):j=a.indexOf(b);var k=Object.keys(b);for(f=0;f<a.length;f++)if(h=a[f],f!==j&&h[d]){var l=h[d];for(g=0;g<k.length;g++)i=k[g],h[i]=l*e*b[i];return void a.splice(j,1)}if(1!==e)for(g=0;g<k.length;g++)b[k[g]]*=e;b[d]=1}var f=a("../../lib"),g=a("./axis_ids").id2name;b.exports=function(a,b,c,g,h){var i=h._axisConstraintGroups;if(!b.fixedrange&&a.scaleanchor){var j=d(i,b._id,g,h),k=f.coerce(a,b,{scaleanchor:{valType:"enumerated",values:j.linkableAxes}},"scaleanchor");if(k){var l=c("scaleratio");l||(l=b.scaleratio=1),e(i,j.thisGroup,b._id,k,l)}else-1!==g.indexOf(a.scaleanchor)&&f.warn("ignored "+b._name+'.scaleanchor: "'+a.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because the targetaxis has fixed range.')}}},{"../../lib":645,"./axis_ids":683}],687:[function(a,b,c){"use strict";var d=a("./axis_ids").id2name,e=a("./scale_zoom"),f=a("../../constants/numerical").ALMOST_EQUAL;b.exports=function(a){var b,c,g,h,i,j=a._fullLayout,k=j._axisConstraintGroups;for(b=0;b<k.length;b++){var l=k[b],m=Object.keys(l),n=1/0,o=0,p=1/0,q={},r={};for(c=0;c<m.length;c++)g=m[c],r[g]=h=j[d(g)],h.setScale(),q[g]=i=Math.abs(h._m)/l[g],n=Math.min(n,i),h._constraintShrinkable?delete h._constraintShrinkable:p=Math.min(p,i),o=Math.max(o,i);if(!(n>f*o))for(c=0;c<m.length;c++)g=m[c],(i=q[g])!==p&&e(r[g],i/p)}}},{"../../constants/numerical":631,"./axis_ids":683,"./scale_zoom":695}],688:[function(a,b,c){"use strict";function d(a,b,c,d,e,f,g){var h=a.draglayer.selectAll("."+b).data([0]);return h.enter().append("rect").classed("drag",!0).classed(b,!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",a.id),h.call(B.setRect,d,e,f,g).call(C,c),h.node()}function e(a,b){for(var c=0;c<a.length;c++)if(!a[c].fixedrange)return b;return""}function f(a,b){var c,d=a.range[b],e=Math.abs(d-a.range[1-b]);return"date"===a.type?d:"log"===a.type?(c=Math.ceil(Math.max(0,-Math.log(e)/Math.LN10))+3,u.format("."+c+"g")(Math.pow(10,d))):(c=Math.floor(Math.log(Math.abs(d))/Math.LN10)-Math.floor(Math.log(e)/Math.LN10)+4,u.format("."+String(c)+"g")(d))}function g(a,b,c,d){var e,f,h,i;for(e=0;e<a.length;e++)f=a[e],f.fixedrange||(h=f._rl[0],i=f._rl[1]-h,f.range=[f.l2r(h+i*b),f.l2r(h+i*c)]);if(d&&d.length){var j=(b+(1-c))/2;g(d,j,1-j)}}function h(a,b){for(var c=0;c<a.length;c++){var d=a[c];d.fixedrange||(d.range=[d.l2r(d._rl[0]-b/d._m),d.l2r(d._rl[1]-b/d._m)])}}function i(a){return 1-(a>=0?Math.min(a,.9):1/(1/Math.max(a,-.3)+3.222))}function j(a,b){return a?"nsew"===a?"pan"===b?"move":"crosshair":a.toLowerCase()+"-resize":"pointer"}function k(a,b,c,d,e){return a.append("path").attr("class","zoombox").style({fill:b>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform","translate("+c+", "+d+")").attr("d",e+"Z")}function l(a,b,c){return a.append("path").attr("class","zoombox-corners").style({fill:A.background,stroke:A.defaultLine,"stroke-width":1,opacity:0}).attr("transform","translate("+b+", "+c+")").attr("d","M0,0Z")}function m(a){a.selectAll(".select-outline").remove()}function n(a,b,c,d,e,f){a.attr("d",d+"M"+c.l+","+c.t+"v"+c.h+"h"+c.w+"v-"+c.h+"h-"+c.w+"Z"),e||(a.transition().style("fill",f>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),b.transition().style("opacity",1).duration(200))}function o(a){u.select(a).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function p(a){return-1!==["lasso","select"].indexOf(a)}function q(a,b){return"M"+(a.l-.5)+","+(b-K-.5)+"h-3v"+(2*K+1)+"h3ZM"+(a.r+.5)+","+(b-K-.5)+"h3v"+(2*K+1)+"h-3Z"}function r(a,b){return"M"+(b-K-.5)+","+(a.t-.5)+"v-3h"+(2*K+1)+"v3ZM"+(b-K-.5)+","+(a.b+.5)+"v3h"+(2*K+1)+"v-3Z"}function s(a){var b=Math.floor(Math.min(a.b-a.t,a.r-a.l,K)/2);return"M"+(a.l-3.5)+","+(a.t-.5+b)+"h3v"+-b+"h"+b+"v-3h-"+(b+3)+"ZM"+(a.r+3.5)+","+(a.t-.5+b)+"h-3v"+-b+"h"+-b+"v-3h"+(b+3)+"ZM"+(a.r+3.5)+","+(a.b+.5-b)+"h-3v"+b+"h"+-b+"v3h"+(b+3)+"ZM"+(a.l-3.5)+","+(a.b+.5-b)+"h3v"+b+"h"+b+"v3h-"+(b+3)+"Z"}function t(a,b,c){var d,e,f,g,h,i,j=!1,k={},l={};for(d=0;d<a.length;d++){for(g=a[d],e=0;e<b.length;e++)if(g[b[e]]){for(h in g)-1===("x"===h.charAt(0)?b:c).indexOf(h)&&(k[h]=1);for(f=0;f<c.length;f++)g[c[f]]&&(j=!0)}for(e=0;e<c.length;e++)if(g[c[e]])for(i in g)-1===("x"===i.charAt(0)?b:c).indexOf(i)&&(l[i]=1)}return j&&(y.extendFlat(k,l),l={}),{x:k,y:l,xy:j}}var u=a("d3"),v=a("tinycolor2"),w=a("../../plotly"),x=a("../../registry"),y=a("../../lib"),z=a("../../lib/svg_text_utils"),A=a("../../components/color"),B=a("../../components/drawing"),C=a("../../lib/setcursor"),D=a("../../components/dragelement"),E=a("./axes").doTicks,F=a("./axis_ids").getFromId,G=a("./select"),H=a("./scale_zoom"),I=a("./constants"),J=I.MINDRAG,K=I.MINZOOM,L=!0;b.exports=function(a,b,c,A,C,M,N,O){function P(){_=[b.xaxis],aa=[b.yaxis];var c=_[0],d=aa[0];da=c._length,ea=d._length;var f=la._axisConstraintGroups,g=[c._id],h=[d._id];$=[b].concat(N&&O?b.overlays:[]);for(var i=1;i<$.length;i++){var k=$[i].xaxis,l=$[i].yaxis;-1===_.indexOf(k)&&(_.push(k),g.push(k._id)),-1===aa.indexOf(l)&&(aa.push(l),h.push(l._id))}fa=e(_,O),ga=e(aa,N),ha=j(ga+fa,la.dragmode),ba=c._offset,ca=d._offset;var m=t(f,g,h);ia=m.xy,ja=[];for(var n in m.x)ja.push(F(a,n));ka=[];for(var o in m.y)ka.push(F(a,o))}function Q(b,c,d){var e=oa.getBoundingClientRect();qa=c-e.left,ra=d-e.top,sa={l:qa,r:qa,w:0,t:ra,b:ra,h:0},ta=a._hmpixcount?a._hmlumcount/a._hmpixcount:v(a._fullLayout.plot_bgcolor).getLuminance(),ua="M0,0H"+da+"V"+ea+"H0V0",va=!1,wa="xy",xa=k(ma,ta,ba,ca,ua),ya=l(ma,ba,ca),m(ma)}function R(b,c){function d(){wa="",sa.r=sa.l,sa.t=sa.b,ya.attr("d","M0,0Z")}if(a._transitioningWithDuration)return!1;var e=Math.max(0,Math.min(da,b+qa)),f=Math.max(0,Math.min(ea,c+ra)),g=Math.abs(e-qa),h=Math.abs(f-ra);sa.l=Math.min(qa,e),sa.r=Math.max(qa,e),sa.t=Math.min(ra,f),sa.b=Math.max(ra,f),ia?g>K||h>K?(wa="xy",g/da>h/ea?(h=g*ea/da,ra>f?sa.t=ra-h:sa.b=ra+h):(g=h*da/ea,qa>e?sa.l=qa-g:sa.r=qa+g),ya.attr("d",s(sa))):d():!ga||h<Math.min(Math.max(.6*g,J),K)?J>g?d():(sa.t=0,sa.b=ea,wa="x",ya.attr("d",q(sa,ra))):!fa||g<Math.min(.6*h,K)?(sa.l=0,sa.r=da,wa="y",ya.attr("d",r(sa,qa))):(wa="xy",ya.attr("d",s(sa))),sa.w=sa.r-sa.l,sa.h=sa.b-sa.t,n(xa,ya,sa,ua,va,ta),va=!0}function S(b,c){return Math.min(sa.h,sa.w)<2*J?(2===c&&X(),o(a)):("xy"!==wa&&"x"!==wa||g(_,sa.l/da,sa.r/da,ja),"xy"!==wa&&"y"!==wa||g(aa,(ea-sa.b)/ea,(ea-sa.t)/ea,ka),o(a),Y(wa),L&&a.data&&a._context.showTips&&(y.notifier("Double-click to<br>zoom back out","long"),L=!1),void 0)}function T(b,c){var d=1===(N+O).length;if(b)Y();else if(2!==c||d){if(1===c&&d){var e=N?aa[0]:_[0],g="s"===N||"w"===O?0:1,h=e._name+".range["+g+"]",i=f(e,g),j="left",k="middle";if(e.fixedrange)return;N?(k="n"===N?"top":"bottom","right"===e.side&&(j="right")):"e"===O&&(j="right"),a._context.showAxisRangeEntryBoxes&&u.select(oa).call(z.makeEditable,null,{immediate:!0,background:la.paper_bgcolor,text:String(i),fill:e.tickfont?e.tickfont.color:"#444",horizontalAlign:j,verticalAlign:k}).on("edit",function(b){var c=e.d2r(b);void 0!==c&&w.relayout(a,h,c)})}}else X()}function U(b){function c(a,b,c){function d(b){return a.l2r(f+(b-f)*c)}if(!a.fixedrange){var e=y.simpleMap(a.range,a.r2l),f=e[0]+(e[1]-e[0])*b;a.range=e.map(d)}}if(a._context.scrollZoom||la._enablescrollzoom){if(a._transitioningWithDuration)return y.pauseEvent(b);var d=a.querySelector(".plotly");if(P(),!(d.scrollHeight-d.clientHeight>10||d.scrollWidth-d.clientWidth>10)){clearTimeout(Aa);var e=-b.deltaY;if(isFinite(e)||(e=b.wheelDelta/10),!isFinite(e))return void y.log("Did not find wheel motion attributes: ",b);var f,g=Math.exp(-Math.min(Math.max(e,-20),20)/100),h=Ca.draglayer.select(".nsewdrag").node().getBoundingClientRect(),i=(b.clientX-h.left)/h.width,j=(h.bottom-b.clientY)/h.height;if(O||ia){for(O||(i=.5),f=0;f<_.length;f++)c(_[f],i,g);za[2]*=g,za[0]+=za[2]*i*(1/g-1)}if(N||ia){for(N||(j=.5),f=0;f<aa.length;f++)c(aa[f],j,g);za[3]*=g,za[1]+=za[3]*(1-j)*(1/g-1)}return Z(za),W(N,O),Aa=setTimeout(function(){za=[0,0,da,ea];var a;a=ia?"xy":(O?"x":"")+(N?"y":""),Y(a)},Ba),y.pauseEvent(b)}}}function V(b,c){function d(a,b,c){for(var d,e,f=1-b,g=0;g<a.length;g++){var h=a[g];if(!h.fixedrange){d=h,e=h._rl[f]+(h._rl[b]-h._rl[f])/i(c/h._length);var j=h.l2r(e);!1!==j&&void 0!==j&&(h.range[b]=j)}}return d._length*(d._rl[b]-e)/(d._rl[b]-d._rl[f])}if(!a._transitioningWithDuration){if(P(),"ew"===fa||"ns"===ga)return fa&&h(_,b),ga&&h(aa,c),Z([fa?-b:0,ga?-c:0,da,ea]),void W(ga,fa);if(ia&&fa&&ga){var e="w"===fa==("n"===ga)?1:-1,f=(b/da+e*c/ea)/2;b=f*da,c=e*f*ea}"w"===fa?b=d(_,0,b):"e"===fa?b=d(_,1,-b):fa||(b=0),"n"===ga?c=d(aa,1,c):"s"===ga?c=d(aa,0,-c):ga||(c=0);var g="w"===fa?b:0,j="n"===ga?c:0;if(ia){var k;if(!fa&&1===ga.length){for(k=0;k<_.length;k++)_[k].range=_[k]._r.slice(),H(_[k],1-c/ea);b=c*da/ea,g=b/2}if(!ga&&1===fa.length){for(k=0;k<aa.length;k++)aa[k].range=aa[k]._r.slice(),H(aa[k],1-b/da);c=b*ea/da,j=c/2}}Z([g,j,da-b,ea-c]),W(ga,fa)}}function W(b,c){function d(a){for(f=0;f<a.length;f++)a[f].fixedrange||g.push(a[f]._id)}function e(d,e,h){for(f=0;f<d.length;f++){var i=d[f];if((c&&-1!==g.indexOf(i.xref)||b&&-1!==g.indexOf(i.yref))&&(e(a,f),h))return}}var f,g=[];for((c||ia)&&(d(_),d(ja)),(b||ia)&&(d(aa),d(ka)),f=0;f<g.length;f++)E(a,g[f],!0);e(la.annotations||[],x.getComponentMethod("annotations","drawOne")),e(la.shapes||[],x.getComponentMethod("shapes","drawOne")),e(la.images||[],x.getComponentMethod("images","draw"),!0)}function X(){if(!a._transitioningWithDuration){var b,c,d,e=a._context.doubleClick,f=(fa?_:[]).concat(ga?aa:[]),g={};if("reset+autosize"===e)for(e="autosize",c=0;c<f.length;c++)if(b=f[c],b._rangeInitial&&(b.range[0]!==b._rangeInitial[0]||b.range[1]!==b._rangeInitial[1])||!b._rangeInitial&&!b.autorange){e="reset";break}if("autosize"===e)for(c=0;c<f.length;c++)b=f[c],b.fixedrange||(g[b._name+".autorange"]=!0);else if("reset"===e)for((fa||ia)&&(f=f.concat(ja)),ga&&!ia&&(f=f.concat(ka)),ia&&(fa?ga||(f=f.concat(aa)):f=f.concat(_)),c=0;c<f.length;c++)b=f[c],b._rangeInitial?(d=b._rangeInitial,g[b._name+".range[0]"]=d[0],g[b._name+".range[1]"]=d[1]):g[b._name+".autorange"]=!0;a.emit("plotly_doubleclick",null),w.relayout(a,g)}}function Y(b){void 0===b&&(b=(O?"x":"")+(N?"y":""));var c,d={};"xy"===b?c=_.concat(aa):"x"===b?c=_:"y"===b&&(c=aa);for(var e=0;e<c.length;e++){var f=c[e];f._r[0]!==f.range[0]&&(d[f._name+".range[0]"]=f.range[0]),f._r[1]!==f.range[1]&&(d[f._name+".range[1]"]=f.range[1]),f.range=f._input.range=f._r.slice()}Z([0,0,da,ea]),w.relayout(a,d)}function Z(a){function b(a){return a.fixedrange?0:m&&-1!==ja.indexOf(a)?k:n&&-1!==(ia?ja:ka).indexOf(a)?l:0}function c(a,b){return b?(a.range=a._r.slice(),H(a,b),a._length*(1-b)/2):0}var d,e,f,g,h,i=la._plots,j=Object.keys(i),k=a[2]/_[0]._length,l=a[3]/aa[0]._length,m=O||ia,n=N||ia;for(d=0;d<j.length;d++){var o=i[j[d]],p=o.xaxis,q=o.yaxis,r=m&&!p.fixedrange&&-1!==_.indexOf(p),s=n&&!q.fixedrange&&-1!==aa.indexOf(q);if(r?(e=k,g=a[0]):(e=b(p),g=c(p,e)),s?(f=l,h=a[1]):(f=b(q),h=c(q,f)),e||f){e||(e=1),f||(f=1);var t=p._offset-g/e,u=q._offset-h/f;la._defs.selectAll("#"+o.clipId).call(B.setTranslate,g,h).call(B.setScale,e,f),o.plot.call(B.setTranslate,t,u).call(B.setScale,1/e,1/f).select(".scatterlayer").selectAll(".points").selectAll(".point").call(B.setPointGroupScale,e,f),o.plot.select(".scatterlayer").selectAll(".points").selectAll(".textpoint").call(B.setTextPointsScale,e,f)}}}var $,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la=a._fullLayout,ma=a._fullLayout._zoomlayer,na=N+O==="nsew";P();var oa=d(b,N+O+"drag",ha,c,A,C,M);if(!ga&&!fa&&!p(la.dragmode))return oa.onmousedown=null,oa.style.pointerEvents=na?"all":"none",oa;var pa={element:oa,gd:a,plotinfo:b,doubleclick:X,prepFn:function(b,c,d){var e=a._fullLayout.dragmode;na?b.shiftKey&&(e="pan"===e?"zoom":"pan"):e="pan",pa.minDrag="lasso"===e?1:void 0,"zoom"===e?(pa.moveFn=R,pa.doneFn=S,pa.minDrag=1,Q(b,c,d)):"pan"===e?(pa.moveFn=V,pa.doneFn=T,m(ma)):p(e)&&(pa.xaxes=_,pa.yaxes=aa,G(b,c,d,pa,e))}};D.init(pa);var qa,ra,sa,ta,ua,va,wa,xa,ya,za=[0,0,da,ea],Aa=null,Ba=I.REDRAWDELAY,Ca=b.mainplot?la._plots[b.mainplot]:b;return N.length*O.length!=1&&(void 0!==oa.onwheel?oa.onwheel=U:void 0!==oa.onmousewheel&&(oa.onmousewheel=U)),oa}},{"../../components/color":534,"../../components/dragelement":555,"../../components/drawing":558,"../../lib":645,"../../lib/setcursor":660,"../../lib/svg_text_utils":662,"../../plotly":675,"../../registry":715,"./axes":680,"./axis_ids":683,"./constants":685,"./scale_zoom":695,"./select":696,d3:256,tinycolor2:773}],689:[function(a,b,c){"use strict";var d=a("fast-isnumeric"),e=a("../../components/fx"),f=a("../../components/dragelement"),g=a("./constants"),h=a("./dragbox");b.exports=function(a){var b=a._fullLayout;if(b._has("cartesian")&&!a._context.staticPlot){Object.keys(b._plots||{}).sort(function(a,c){if((b._plots[a].mainplot&&!0)===(b._plots[c].mainplot&&!0)){var d=a.split("y"),e=c.split("y");return d[0]===e[0]?Number(d[1]||1)-Number(e[1]||1):Number(d[0]||1)-Number(e[0]||1)}return b._plots[a].mainplot?1:-1}).forEach(function(c){var i=b._plots[c];if(b._has("cartesian")){var j=i.xaxis,k=i.yaxis,l=(j._linepositions[c]||[])[3],m=(k._linepositions[c]||[])[3],n=g.DRAGGERSIZE;if(d(l)&&"top"===j.side&&(l-=n),d(m)&&"right"!==k.side&&(m-=n),!i.mainplot){var o=h(a,i,0,0,j._length,k._length,"ns","ew");o.onmousemove=function(b){a._fullLayout._rehover=function(){a._fullLayout._hoversubplot===c&&e.hover(a,b,c)},e.hover(a,b,c),a._fullLayout._lasthover=o,a._fullLayout._hoversubplot=c},o.onmouseout=function(b){a._dragging||(a._fullLayout._hoversubplot=null,f.unhover(a,b))},o.onclick=function(b){e.click(a,b)},a._context.showAxisDragHandles&&(h(a,i,-n,-n,n,n,"n","w"),h(a,i,j._length,-n,n,n,"n","e"),h(a,i,-n,k._length,n,n,"s","w"),h(a,i,j._length,k._length,n,n,"s","e"))}a._context.showAxisDragHandles&&(d(l)&&("free"===j.anchor&&(l-=b._size.h*(1-k.domain[1])),h(a,i,.1*j._length,l,.8*j._length,n,"","ew"),h(a,i,0,l,.1*j._length,n,"","w"),h(a,i,.9*j._length,l,.1*j._length,n,"","e")),d(m)&&("free"===k.anchor&&(m-=b._size.w*j.domain[0]),h(a,i,m,.1*k._length,n,.8*k._length,"ns",""),h(a,i,m,.9*k._length,n,.1*k._length,"s",""),h(a,i,m,0,n,.1*k._length,"n","")))}});var c=b._hoverlayer.node();c.onmousemove=function(c){c.target=b._lasthover,e.hover(a,c,b._hoversubplot)},c.onclick=function(c){c.target=b._lasthover,e.click(a,c)},c.onmousedown=function(a){b._lasthover.onmousedown(a)}}}},{"../../components/dragelement":555,"../../components/fx":575,"./constants":685,"./dragbox":688,"fast-isnumeric":259}],690:[function(a,b,c){"use strict";function d(a,b,c,d,e){var f=a._fullLayout,g=f._modules;b.plot&&b.plot.selectAll("g:not(.scatterlayer)").selectAll("g.trace").remove();for(var h=0;h<g.length;h++){var i=g[h];if("cartesian"===i.basePlotModule.name){for(var j=[],k=0;k<c.length;k++){var l=c[k],m=l[0].trace;m._module===i&&!0===m.visible&&j.push(l)}i.plot(a,b,j,d,e)}}}function e(a){for(var b=a._fullLayout,c=Object.keys(b._plots),d=[],e=[],f=0;f<c.length;f++){var g=c[f],h=b._plots[g],i=h.xaxis,j=h.yaxis,k=l.getFromId(a,i.overlaying)||i;k!==i&&k.overlaying&&(k=i,i.overlaying=!1);var m=l.getFromId(a,j.overlaying)||j;m!==j&&m.overlaying&&(m=j,j.overlaying=!1);var n=k._id+m._id;n!==g&&-1!==c.indexOf(n)?(h.mainplot=n,h.mainplotinfo=b._plots[n],e.push(g),i.domain=k.domain.slice(),j.domain=m.domain.slice()):d.push(g)}return d=d.concat(e)}function f(a){function b(a){h(a,"g","imagelayer"),h(a,"g","maplayer"),h(a,"g","barlayer"),h(a,"g","carpetlayer"),h(a,"g","boxlayer"),h(a,"g","scatterlayer")}var c=a.plotgroup,d=a.id;if(a.mainplot){var e=a.mainplotinfo;a.gridlayer=h(e.overgrid,"g",d),a.zerolinelayer=h(e.overzero,"g",d),a.plot=h(e.overplot,"g",d),a.xlines=h(e.overlines,"path",d),a.ylines=h(e.overlines,"path",d),a.xaxislayer=h(e.overaxes,"g",d),a.yaxislayer=h(e.overaxes,"g",d)}else{var f=h(c,"g","layer-subplot");a.shapelayer=h(f,"g","shapelayer"),a.imagelayer=h(f,"g","imagelayer"),a.gridlayer=h(c,"g","gridlayer"),a.overgrid=h(c,"g","overgrid"),a.zerolinelayer=h(c,"g","zerolinelayer"),a.overzero=h(c,"g","overzero"),a.plot=h(c,"g","plot"),a.overplot=h(c,"g","overplot"),a.xlines=h(c,"path","xlines"),a.ylines=h(c,"path","ylines"),a.overlines=h(c,"g","overlines"),a.xaxislayer=h(c,"g","xaxislayer"),a.yaxislayer=h(c,"g","yaxislayer"),a.overaxes=h(c,"g","overaxes")}a.plot.call(b),a.xlines.style("fill","none").classed("crisp",!0),a.ylines.style("fill","none").classed("crisp",!0)}function g(a,b){a&&a.each(function(a){var c=i.select(this),d="clip"+b._uid+a+"plot";c.remove(),b._draggers.selectAll("g."+a).remove(),b._defs.select("#"+d).remove()})}function h(a,b,c){var d=a.selectAll("."+c).data([0]);return d.enter().append(b).classed(c,!0),d}var i=a("d3"),j=a("../../lib"),k=a("../plots"),l=a("./axis_ids"),m=a("./constants");c.name="cartesian",c.attr=["xaxis","yaxis"],c.idRoot=["x","y"],c.idRegex=m.idRegex,c.attrRegex=m.attrRegex,c.attributes=a("./attributes"),c.layoutAttributes=a("./layout_attributes"),c.transitionAxes=a("./transition_axes"),c.plot=function(a,b,c,e){var f,g=a._fullLayout,h=k.getSubplotIds(g,"cartesian"),i=a.calcdata;if(!Array.isArray(b))for(b=[],f=0;f<i.length;f++)b.push(f);for(f=0;f<h.length;f++){for(var j,l=h[f],m=g._plots[l],n=[],o=0;o<i.length;o++){var p=i[o],q=p[0].trace;q.xaxis+q.yaxis===l&&((-1!==b.indexOf(q.index)||q.carpet)&&(j&&j[0].trace.xaxis+j[0].trace.yaxis===l&&-1!==["tonextx","tonexty","tonext"].indexOf(q.fill)&&-1===n.indexOf(j)&&n.push(j),n.push(p)),j=p)}d(a,m,n,c,e)}},c.clean=function(a,b,c,d){var e,f,h,i=d._modules||[],j=b._modules||[];for(h=0;h<i.length;h++)if("scatter"===i[h].name){e=!0;break}for(h=0;h<j.length;h++)if("scatter"===j[h].name){f=!0;break}if(e&&!f){var k=d._plots,m=Object.keys(k||{});for(h=0;h<m.length;h++){var n=k[m[h]];n.plot&&n.plot.select("g.scatterlayer").selectAll("g.trace").remove()}d._infolayer.selectAll("g.rangeslider-container").select("g.scatterlayer").selectAll("g.trace").remove()}var o=d._has&&d._has("cartesian"),p=b._has&&b._has("cartesian");if(o&&!p){var q=d._cartesianlayer.selectAll(".subplot"),r=l.listIds({_fullLayout:d});for(q.call(g,d),d._defs.selectAll(".axesclip").remove(),h=0;h<r.length;h++)d._infolayer.select("."+r[h]+"title").remove()}},c.drawFramework=function(a){var b=a._fullLayout,c=e(a),d=b._cartesianlayer.selectAll(".subplot").data(c,j.identity);d.enter().append("g").attr("class",function(a){return"subplot "+a}),d.order(),d.exit().call(g,b),d.each(function(a){var c=b._plots[a];c.plotgroup=i.select(this),c.overlays=[],f(c),c.mainplot&&b._plots[c.mainplot].overlays.push(c),c.draglayer=h(b._draggers,"g",a)})},c.rangePlot=function(a,b,c){f(b),d(a,b,c),k.style(a)}},{"../../lib":645,"../plots":708,"./attributes":679,"./axis_ids":683,"./constants":685,"./layout_attributes":691,"./transition_axes":701,d3:256}],691:[function(a,b,c){"use strict";var d=a("../font_attributes"),e=a("../../components/color/attributes"),f=a("../../components/drawing/attributes").dash,g=a("../../lib/extend").extendFlat,h=a("./constants");b.exports={visible:{valType:"boolean",role:"info",description:["A single toggle to hide the axis while preserving interaction like dragging.","Default is true when a cheater plot is present on the axis, otherwise","false"].join(" ")},color:{valType:"color",dflt:e.defaultLine,role:"style",description:["Sets default for all colors associated with this axis","all at once: line, font, tick, and grid colors.","Grid color is lightened by blending this with the plot background","Individual pieces can override this."].join(" ")},title:{valType:"string",role:"info",description:"Sets the title of this axis."},titlefont:g({},d,{description:["Sets this axis' title font."].join(" ")}),type:{valType:"enumerated",values:["-","linear","log","date","category"],dflt:"-",role:"info",description:["Sets the axis type.","By default, plotly attempts to determined the axis type","by looking into the data of the traces that referenced","the axis in question."].join(" ")},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,role:"style",description:["Determines whether or not the range of this axis is","computed in relation to the input data.","See `rangemode` for more info.","If `range` is provided, then `autorange` is set to *false*."].join(" ")},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",role:"style",description:["If *normal*, the range is computed in relation to the extrema","of the input data.","If *tozero*`, the range extends to 0,","regardless of the input data","If *nonnegative*, the range is non-negative,","regardless of the input data."].join(" ")},range:{valType:"info_array",role:"info",items:[{valType:"any"},{valType:"any"}],description:["Sets the range of this axis.","If the axis `type` is *log*, then you must take the log of your","desired range (e.g. to set the range from 1 to 100,","set the range from 0 to 2).","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},fixedrange:{valType:"boolean",dflt:!1,role:"info",description:["Determines whether or not this axis is zoom-able.","If true, then zoom is disabled."].join(" ")},scaleanchor:{valType:"enumerated",values:[h.idRegex.x.toString(),h.idRegex.y.toString()],role:"info",description:["If set to an opposite-letter axis id (e.g. `x2`, `y`), the range of this axis","changes together with the range of the corresponding opposite-letter axis.","such that the scale of pixels per unit is in a constant ratio.","Both axes are still zoomable, but when you zoom one, the other will","zoom the same amount, keeping a fixed midpoint.","Autorange will also expand about the midpoints to satisfy the constraint.","You can chain these, ie `yaxis: {scaleanchor: *x*}, xaxis2: {scaleanchor: *y*}`","but you can only link axes of the same `type`.","Loops (`yaxis: {scaleanchor: *x*}, xaxis: {scaleanchor: *y*}` or longer) are redundant","and the last constraint encountered will be ignored to avoid possible","inconsistent constraints via `scaleratio`."].join(" ")},scaleratio:{valType:"number",min:0,dflt:1,role:"info",description:["If this axis is linked to another by `scaleanchor`, this determines the pixel","to unit scale ratio. For example, if this value is 10, then every unit on","this axis spans 10 times the number of pixels as a unit on the linked axis.","Use this for example to create an elevation profile where the vertical scale","is exaggerated a fixed amount with respect to the horizontal."].join(" ")},tickmode:{valType:"enumerated",values:["auto","linear","array"],role:"info",description:["Sets the tick mode for this axis.","If *auto*, the number of ticks is set via `nticks`.","If *linear*, the placement of the ticks is determined by","a starting position `tick0` and a tick step `dtick`","(*linear* is the default value if `tick0` and `dtick` are provided).","If *array*, the placement of the ticks is set via `tickvals`","and the tick text is `ticktext`.","(*array* is the default value if `tickvals` is provided)."].join(" ")},nticks:{valType:"integer",min:0,dflt:0,role:"style",description:["Specifies the maximum number of ticks for the particular axis.","The actual number of ticks will be chosen automatically to be","less than or equal to `nticks`.","Has an effect only if `tickmode` is set to *auto*."].join(" ")},tick0:{valType:"any",role:"style",description:["Sets the placement of the first tick on this axis.","Use with `dtick`.","If the axis `type` is *log*, then you must take the log of your starting tick","(e.g. to set the starting tick to 100, set the `tick0` to 2)","except when `dtick`=*L<f>* (see `dtick` for more info).","If the axis `type` is *date*, it should be a date string, like date data.","If the axis `type` is *category*, it should be a number, using the scale where","each category is assigned a serial number from zero in the order it appears."].join(" ")},dtick:{valType:"any",role:"style",description:["Sets the step in-between ticks on this axis. Use with `tick0`.","Must be a positive number, or special strings available to *log* and *date* axes.","If the axis `type` is *log*, then ticks are set every 10^(n*dtick) where n","is the tick number. For example,","to set a tick mark at 1, 10, 100, 1000, ... set dtick to 1.","To set tick marks at 1, 100, 10000, ... set dtick to 2.","To set tick marks at 1, 5, 25, 125, 625, 3125, ... set dtick to log_10(5), or 0.69897000433.","*log* has several special values; *L<f>*, where `f` is a positive number,","gives ticks linearly spaced in value (but not position).","For example `tick0` = 0.1, `dtick` = *L0.5* will put ticks at 0.1, 0.6, 1.1, 1.6 etc.","To show powers of 10 plus small digits between, use *D1* (all digits) or *D2* (only 2 and 5).","`tick0` is ignored for *D1* and *D2*.","If the axis `type` is *date*, then you must convert the time to milliseconds.","For example, to set the interval between ticks to one day,","set `dtick` to 86400000.0.","*date* also has special values *M<n>* gives ticks spaced by a number of months.","`n` must be a positive integer.","To set ticks on the 15th of every third month, set `tick0` to *2000-01-15* and `dtick` to *M3*.","To set ticks every 4 years, set `dtick` to *M48*"].join(" ")},tickvals:{valType:"data_array",description:["Sets the values at which ticks on this axis appear.","Only has an effect if `tickmode` is set to *array*.","Used with `ticktext`."].join(" ")},ticktext:{valType:"data_array",description:["Sets the text displayed at the ticks position via `tickvals`.","Only has an effect if `tickmode` is set to *array*.","Used with `tickvals`."].join(" ")},ticks:{valType:"enumerated",values:["outside","inside",""],role:"style",description:["Determines whether ticks are drawn or not.","If **, this axis' ticks are not drawn.","If *outside* (*inside*), this axis' are drawn outside (inside)","the axis lines."].join(" ")},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,role:"style",description:["Determines if the axis lines or/and ticks are mirrored to","the opposite side of the plotting area.","If *true*, the axis lines are mirrored.","If *ticks*, the axis lines and ticks are mirrored.","If *false*, mirroring is disable.","If *all*, axis lines are mirrored on all shared-axes subplots.","If *allticks*, axis lines and ticks are mirrored","on all shared-axes subplots."].join(" ")},ticklen:{valType:"number",min:0,dflt:5,role:"style",description:"Sets the tick length (in px)."},tickwidth:{valType:"number",min:0,dflt:1,role:"style",description:"Sets the tick width (in px)."},tickcolor:{valType:"color",dflt:e.defaultLine,role:"style",description:"Sets the tick color."},showticklabels:{valType:"boolean",dflt:!0,role:"style",description:"Determines whether or not the tick labels are drawn."},showspikes:{valType:"boolean",dflt:!1,role:"style",description:["Determines whether or not spikes (aka droplines) are drawn for this axis.","Note: This only takes affect when hovermode = closest"].join(" ")},spikecolor:{valType:"color",dflt:null,role:"style",description:"Sets the spike color. If undefined, will use the series color"},spikethickness:{valType:"number",dflt:3,role:"style",description:"Sets the width (in px) of the zero line."},spikedash:g({},f,{dflt:"dash"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],role:"style",dflt:"toaxis",description:["Determines the drawing mode for the spike line","If *toaxis*, the line is drawn from the data point to the axis the ","series is plotted on.","If *across*, the line is drawn across the entire plot area, and","supercedes *toaxis*.","If *marker*, then a marker dot is drawn on the axis the series is","plotted on"].join(" ")},tickfont:g({},d,{description:"Sets the tick font."}),tickangle:{valType:"angle",dflt:"auto",role:"style",description:["Sets the angle of the tick labels with respect to the horizontal.","For example, a `tickangle` of -90 draws the tick labels","vertically."].join(" ")},tickprefix:{valType:"string",dflt:"",role:"style",description:"Sets a tick label prefix."},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",role:"style",description:["If *all*, all tick labels are displayed with a prefix.","If *first*, only the first tick is displayed with a prefix.","If *last*, only the last tick is displayed with a suffix.","If *none*, tick prefixes are hidden."].join(" ")},ticksuffix:{valType:"string",dflt:"",role:"style",description:"Sets a tick label suffix."},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",role:"style",description:"Same as `showtickprefix` but for tick suffixes."},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",role:"style",description:["If *all*, all exponents are shown besides their significands.","If *first*, only the exponent of the first tick is shown.","If *last*, only the exponent of the last tick is shown.","If *none*, no exponents appear."].join(" ")},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",role:"style",description:["Determines a formatting rule for the tick exponents.","For example, consider the number 1,000,000,000.","If *none*, it appears as 1,000,000,000.","If *e*, 1e+9.","If *E*, 1E+9.","If *power*, 1x10^9 (with 9 in a super script).","If *SI*, 1G.","If *B*, 1B."].join(" ")},separatethousands:{valType:"boolean",dflt:!1,role:"style",description:['If "true", even 4-digit integers are separated'].join(" ")},tickformat:{valType:"string",dflt:"",role:"style",description:["Sets the tick label formatting rule using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see:","https://github.com/d3/d3-format/blob/master/README.md#locale_format","And for dates see:","https://github.com/d3/d3-time-format/blob/master/README.md#locale_format","We add one item to d3's date formatter: *%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")},hoverformat:{valType:"string",dflt:"",role:"style",description:["Sets the hover text formatting rule using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see:","https://github.com/d3/d3-format/blob/master/README.md#locale_format","And for dates see:","https://github.com/d3/d3-time-format/blob/master/README.md#locale_format","We add one item to d3's date formatter: *%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")
},showline:{valType:"boolean",dflt:!1,role:"style",description:["Determines whether or not a line bounding this axis is drawn."].join(" ")},linecolor:{valType:"color",dflt:e.defaultLine,role:"style",description:"Sets the axis line color."},linewidth:{valType:"number",min:0,dflt:1,role:"style",description:"Sets the width (in px) of the axis line."},showgrid:{valType:"boolean",role:"style",description:["Determines whether or not grid lines are drawn.","If *true*, the grid lines are drawn at every tick mark."].join(" ")},gridcolor:{valType:"color",dflt:e.lightLine,role:"style",description:"Sets the color of the grid lines."},gridwidth:{valType:"number",min:0,dflt:1,role:"style",description:"Sets the width (in px) of the grid lines."},zeroline:{valType:"boolean",role:"style",description:["Determines whether or not a line is drawn at along the 0 value","of this axis.","If *true*, the zero line is drawn on top of the grid lines."].join(" ")},zerolinecolor:{valType:"color",dflt:e.defaultLine,role:"style",description:"Sets the line color of the zero line."},zerolinewidth:{valType:"number",dflt:1,role:"style",description:"Sets the width (in px) of the zero line."},anchor:{valType:"enumerated",values:["free",h.idRegex.x.toString(),h.idRegex.y.toString()],role:"info",description:["If set to an opposite-letter axis id (e.g. `x2`, `y`), this axis is bound to","the corresponding opposite-letter axis.","If set to *free*, this axis' position is determined by `position`."].join(" ")},side:{valType:"enumerated",values:["top","bottom","left","right"],role:"info",description:["Determines whether a x (y) axis is positioned","at the *bottom* (*left*) or *top* (*right*)","of the plotting area."].join(" ")},overlaying:{valType:"enumerated",values:["free",h.idRegex.x.toString(),h.idRegex.y.toString()],role:"info",description:["If set a same-letter axis id, this axis is overlaid on top of","the corresponding same-letter axis.","If *false*, this axis does not overlay any same-letter axes."].join(" ")},domain:{valType:"info_array",role:"info",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1],description:["Sets the domain of this axis (in plot fraction)."].join(" ")},position:{valType:"number",min:0,max:1,dflt:0,role:"style",description:["Sets the position of this axis in the plotting space","(in normalized coordinates).","Only has an effect if `anchor` is set to *free*."].join(" ")},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",role:"info",description:["Specifies the ordering logic for the case of categorical variables.","By default, plotly uses *trace*, which specifies the order that is present in the data supplied.","Set `categoryorder` to *category ascending* or *category descending* if order should be determined by","the alphanumerical order of the category names.","Set `categoryorder` to *array* to derive the ordering from the attribute `categoryarray`. If a category","is not found in the `categoryarray` array, the sorting behavior for that attribute will be identical to","the *trace* mode. The unspecified categories will follow the categories in `categoryarray`."].join(" ")},categoryarray:{valType:"data_array",role:"info",description:["Sets the order in which categories on this axis appear.","Only has an effect if `categoryorder` is set to *array*.","Used with `categoryorder`."].join(" ")},_deprecated:{autotick:{valType:"boolean",role:"info",description:["Obsolete.","Set `tickmode` to *auto* for old `autotick` *true* behavior.","Set `tickmode` to *linear* for `autotick` *false*."].join(" ")}}}},{"../../components/color/attributes":533,"../../components/drawing/attributes":557,"../../lib/extend":641,"../font_attributes":704,"./constants":685}],692:[function(a,b,c){"use strict";var d=a("../../registry"),e=a("../../lib"),f=a("../../components/color"),g=a("../layout_attributes"),h=a("./constants"),i=a("./layout_attributes"),j=a("./type_defaults"),k=a("./axis_defaults"),l=a("./constraint_defaults"),m=a("./position_defaults"),n=a("./axis_ids");b.exports=function(a,b,c){function o(a,b){return Number(a.substr(5)||1)-Number(b.substr(5)||1)}function p(a,b){return e.coerce(N,O,i,a,b)}function q(a){var b={x:I,y:H}[a];return e.simpleMap(b,n.name2id)}var r,s=Object.keys(a),t=[],u=[],v=[],w=[],x=[],y=[],z={},A={};for(r=0;r<c.length;r++){var B,C,D=c[r];if(d.traceIs(D,"cartesian"))B=t,C=u;else{if(!d.traceIs(D,"gl2d"))continue;B=v,C=w}var E=n.id2name(D.xaxis),F=n.id2name(D.yaxis);d.traceIs(D,"carpet")&&("carpet"!==D.type||D._cheater)||E&&e.pushUnique(y,E),"carpet"===D.type&&D._cheater&&E&&e.pushUnique(x,E),E&&-1===B.indexOf(E)&&B.push(E),F&&-1===C.indexOf(F)&&C.push(F),d.traceIs(D,"2dMap")&&(z[E]=!0,z[F]=!0),d.traceIs(D,"oriented")&&(A["h"===D.orientation?F:E]=!0)}if(!b._has("gl3d")&&!b._has("geo"))for(r=0;r<s.length;r++){var G=s[r];-1===v.indexOf(G)&&-1===t.indexOf(G)&&h.xAxisMatch.test(G)?t.push(G):-1===w.indexOf(G)&&-1===u.indexOf(G)&&h.yAxisMatch.test(G)&&u.push(G)}t.length&&u.length&&e.pushUnique(b._basePlotModules,d.subplotsRegistry.cartesian);var H=t.concat(v).sort(o),I=u.concat(w).sort(o),J=H.concat(I),K=f.background;H.length&&I.length&&(K=e.coerce(a,b,g,"plot_bgcolor"));var L,M,N,O,P=f.combine(K,b.paper_bgcolor),Q={x:q("x"),y:q("y")};for(r=0;r<J.length;r++){L=J[r],e.isPlainObject(a[L])||(a[L]={}),N=a[L],O=b[L]={},j(N,O,p,c,L),M=L.charAt(0);var R=function(b,c){for(var d={x:H,y:I}[b],e=[],f=0;f<d.length;f++){var g=d[f];g===c||(a[g]||{}).overlaying||e.push(n.name2id(g))}return e}(M,L),S={letter:M,font:b.font,outerTicks:z[L],showGrid:!A[L],data:c,bgColor:P,calendar:b.calendar,cheateronly:"x"===M&&-1!==x.indexOf(L)&&-1===y.indexOf(L)};k(N,O,p,S,b),p("showspikes")&&(p("spikecolor"),p("spikethickness"),p("spikedash"),p("spikemode"));var T={letter:M,counterAxes:Q[M],overlayableAxes:R};m(N,O,p,T),O._input=N}var U=d.getComponentMethod("rangeslider","handleDefaults"),V=d.getComponentMethod("rangeselector","handleDefaults");for(r=0;r<H.length;r++)L=H[r],N=a[L],O=b[L],U(a,b,L),"date"===O.type&&V(N,O,b,I,O.calendar),p("fixedrange");for(r=0;r<I.length;r++){L=I[r],N=a[L],O=b[L];var W=b[n.id2name(O.anchor)];p("fixedrange",W&&W.rangeslider&&W.rangeslider.visible)}b._axisConstraintGroups=[];var X=Q.x.concat(Q.y);for(r=0;r<J.length;r++)L=J[r],M=L.charAt(0),N=a[L],O=b[L],l(N,O,p,X,b)}},{"../../components/color":534,"../../lib":645,"../../registry":715,"../layout_attributes":706,"./axis_defaults":682,"./axis_ids":683,"./constants":685,"./constraint_defaults":686,"./layout_attributes":691,"./position_defaults":694,"./type_defaults":702}],693:[function(a,b,c){"use strict";function d(a,b,c){var d,f,g,h,i,j=[],k=c.map(function(b){return b[a]}),l=e.bisector(b).left;for(d=0;d<k.length;d++)for(g=k[d],f=0;f<g.length;f++)null!==(h=g[f])&&void 0!==h&&((i=l(j,h))<j.length&&j[i]===h||j.splice(i,0,h));return j}var e=a("d3");b.exports=function(a,b,c,f){switch(b){case"array":return Array.isArray(c)?c.slice():[];case"category ascending":return d(a,e.ascending,f);case"category descending":return d(a,e.descending,f);case"trace":default:return[]}}},{d3:256}],694:[function(a,b,c){"use strict";var d=a("fast-isnumeric"),e=a("../../lib");b.exports=function(a,b,c,f){var g=f.counterAxes||[],h=f.overlayableAxes||[],i=f.letter;"free"===e.coerce(a,b,{anchor:{valType:"enumerated",values:["free"].concat(g),dflt:d(a.position)?"free":g[0]||"free"}},"anchor")&&c("position"),e.coerce(a,b,{side:{valType:"enumerated",values:"x"===i?["bottom","top"]:["left","right"],dflt:"x"===i?"bottom":"left"}},"side");var j=!1;if(h.length&&(j=e.coerce(a,b,{overlaying:{valType:"enumerated",values:[!1].concat(h),dflt:!1}},"overlaying")),!j){var k=c("domain");k[0]>k[1]-.01&&(b.domain=[0,1]),e.noneOrAll(a.domain,b.domain,[0,1])}return b}},{"../../lib":645,"fast-isnumeric":259}],695:[function(a,b,c){"use strict";b.exports=function(a,b,c){void 0===c&&(c=.5);var d=[a.r2l(a.range[0]),a.r2l(a.range[1])],e=d[0]+(d[1]-d[0])*c,f=(e-d[0])*b;a.range=a._input.range=[a.l2r(e-f),a.l2r(e+f)]}},{}],696:[function(a,b,c){"use strict";function d(a){return a._id}var e=a("../../lib/polygon"),f=a("../../components/color"),g=a("./axes"),h=a("./constants"),i=e.filter,j=e.tester,k=h.MINSELECT;b.exports=function(a,b,c,e,l){function m(a){var b="y"===a._id.charAt(0)?1:0;return function(c){return a.p2d(c[b])}}function n(a,b){return a-b}var o,p=e.gd._fullLayout._zoomlayer,q=e.element.getBoundingClientRect(),r=e.plotinfo.xaxis._offset,s=e.plotinfo.yaxis._offset,t=b-q.left,u=c-q.top,v=t,w=u,x="M"+t+","+u,y=e.xaxes[0]._length,z=e.yaxes[0]._length,A=e.xaxes.map(d),B=e.yaxes.map(d),C=e.xaxes.concat(e.yaxes);"lasso"===l&&(o=i([[t,u]],h.BENDPX));var D=p.selectAll("path.select-outline").data([1,2]);D.enter().append("path").attr("class",function(a){return"select-outline select-outline-"+a}).attr("transform","translate("+r+", "+s+")").attr("d",x+"Z");var E,F,G,H,I,J=p.append("path").attr("class","zoombox-corners").style({fill:f.background,stroke:f.defaultLine,"stroke-width":1}).attr("transform","translate("+r+", "+s+")").attr("d","M0,0Z"),K=[],L=e.gd,M=[];for(E=0;E<L.calcdata.length;E++)if(F=L.calcdata[E],G=F[0].trace,G._module&&G._module.selectPoints)if(e.subplot){if(G.subplot!==e.subplot)continue;K.push({selectPoints:G._module.selectPoints,cd:F,xaxis:e.xaxes[0],yaxis:e.yaxes[0]})}else{if(-1===A.indexOf(G.xaxis))continue;if(-1===B.indexOf(G.yaxis))continue;K.push({selectPoints:G._module.selectPoints,cd:F,xaxis:g.getFromId(L,G.xaxis),yaxis:g.getFromId(L,G.yaxis)})}e.moveFn=function(a,b){var c,d;v=Math.max(0,Math.min(y,a+t)),w=Math.max(0,Math.min(z,b+u));var f=Math.abs(v-t),g=Math.abs(w-u);for("select"===l?(g<Math.min(.6*f,k)?(c=j([[t,0],[t,z],[v,z],[v,0]]),J.attr("d","M"+c.xmin+","+(u-k)+"h-4v"+2*k+"h4ZM"+(c.xmax-1)+","+(u-k)+"h4v"+2*k+"h-4Z")):f<Math.min(.6*g,k)?(c=j([[0,u],[0,w],[y,w],[y,u]]),J.attr("d","M"+(t-k)+","+c.ymin+"v-4h"+2*k+"v4ZM"+(t-k)+","+(c.ymax-1)+"v4h"+2*k+"v-4Z")):(c=j([[t,u],[t,w],[v,w],[v,u]]),J.attr("d","M0,0Z")),D.attr("d","M"+c.xmin+","+c.ymin+"H"+(c.xmax-1)+"V"+(c.ymax-1)+"H"+c.xmin+"Z")):"lasso"===l&&(o.addPt([v,w]),c=j(o.filtered),D.attr("d","M"+o.filtered.join("L")+"Z")),M=[],E=0;E<K.length;E++)H=K[E],[].push.apply(M,H.selectPoints(H,c));if(I={points:M},"select"===l){var h,i=I.range={};for(E=0;E<C.length;E++)d=C[E],h=d._id.charAt(0),i[d._id]=[d.p2d(c[h+"min"]),d.p2d(c[h+"max"])].sort(n)}else{var p=I.lassoPoints={};for(E=0;E<C.length;E++)d=C[E],p[d._id]=o.filtered.map(m(d))}e.gd.emit("plotly_selecting",I)},e.doneFn=function(a,b){if(J.remove(),a||2!==b)e.gd.emit("plotly_selected",I);else{for(D.remove(),E=0;E<K.length;E++)H=K[E],H.selectPoints(H,!1);L.emit("plotly_deselect",null)}}}},{"../../components/color":534,"../../lib/polygon":655,"./axes":680,"./constants":685}],697:[function(a,b,c){"use strict";function d(a){return Math.pow(10,a)}function e(a){return g(a)?(a=Number(a),-m>a||a>m?n:g(a)?Number(a):n):n}var f=a("d3"),g=a("fast-isnumeric"),h=a("../../lib"),i=h.cleanNumber,j=h.ms2DateTime,k=h.dateTime2ms,l=a("../../constants/numerical"),m=l.FP_SAFE,n=l.BADNUM,o=a("./constants"),p=a("./axis_ids");b.exports=function(a,b){function c(b,c){if(b>0)return Math.log(b)/Math.LN10;if(0>=b&&c&&a.range&&2===a.range.length){var d=a.range[0],e=a.range[1];return.5*(d+e-3*w*Math.abs(d-e))}return n}function l(b,c,d){var e=k(b,d||a.calendar);if(e===n){if(!g(b))return n;e=k(new Date(+b))}return e}function q(b,c,d){return j(b,c,d||a.calendar)}function r(b){return a._categories[Math.round(b)]}function s(b){if(null!==b&&void 0!==b){if(void 0===a._categoriesMap&&(a._categoriesMap={}),void 0!==a._categoriesMap[b])return a._categoriesMap[b];a._categories.push(b);var c=a._categories.length-1;return a._categoriesMap[b]=c,c}return n}function t(b){if(a._categoriesMap){var c=a._categoriesMap[b];if(void 0!==c)return c}return"number"==typeof b?b:void 0}function u(b){return g(b)?f.round(a._b+a._m*b,2):n}function v(b){return(b-a._b)/a._m}b=b||{};var w=10;a.c2l="log"===a.type?c:e,a.l2c="log"===a.type?d:e,a.l2p=u,a.p2l=v,a.c2p="log"===a.type?function(a,b){return u(c(a,b))}:u,a.p2c="log"===a.type?function(a){return d(v(a))}:v,-1!==["linear","-"].indexOf(a.type)?(a.d2r=a.r2d=a.d2c=a.r2c=a.d2l=a.r2l=i,a.c2d=a.c2r=a.l2d=a.l2r=e,a.d2p=a.r2p=function(a){return u(i(a))},a.p2d=a.p2r=v):"log"===a.type?(a.d2r=a.d2l=function(a,b){return c(i(a),b)},a.r2d=a.r2c=function(a){return d(i(a))},a.d2c=a.r2l=i,a.c2d=a.l2r=e,a.c2r=c,a.l2d=d,a.d2p=function(b,c){return u(a.d2r(b,c))},a.p2d=function(a){return d(v(a))},a.r2p=function(a){return u(i(a))},a.p2r=v):"date"===a.type?(a.d2r=a.r2d=h.identity,a.d2c=a.r2c=a.d2l=a.r2l=l,a.c2d=a.c2r=a.l2d=a.l2r=q,a.d2p=a.r2p=function(a,b,c){return u(l(a,0,c))},a.p2d=a.p2r=function(a,b,c){return q(v(a),b,c)}):"category"===a.type&&(a.d2r=a.d2c=a.d2l=s,a.r2d=a.c2d=a.l2d=r,a.d2l_noadd=t,a.r2l=a.l2r=a.r2c=a.c2r=e,a.d2p=function(a){return u(t(a))},a.p2d=function(a){return r(v(a))},a.r2p=u,a.p2r=v),a.fraction2r=function(b){var c=a.r2l(a.range[0]),d=a.r2l(a.range[1]);return a.l2r(c+b*(d-c))},a.r2fraction=function(b){var c=a.r2l(a.range[0]),d=a.r2l(a.range[1]);return(a.r2l(b)-c)/(d-c)},a.cleanRange=function(b){b||(b="range");var c,d,e=h.nestedProperty(a,b).get(),f=(a._id||"x").charAt(0);if(d="date"===a.type?h.dfltRange(a.calendar):"y"===f?o.DFLTRANGEY:o.DFLTRANGEX,d=d.slice(),!e||2!==e.length)return void h.nestedProperty(a,b).set(d);for("date"===a.type&&(e[0]=h.cleanDate(e[0],n,a.calendar),e[1]=h.cleanDate(e[1],n,a.calendar)),c=0;2>c;c++)if("date"===a.type){if(!h.isDateTime(e[c],a.calendar)){a[b]=d;break}if(a.r2l(e[0])===a.r2l(e[1])){var i=h.constrain(a.r2l(e[0]),h.MIN_MS+1e3,h.MAX_MS-1e3);e[0]=a.l2r(i-1e3),e[1]=a.l2r(i+1e3);break}}else{if(!g(e[c])){if(!g(e[1-c])){a[b]=d;break}e[c]=e[1-c]*(c?10:.1)}if(e[c]<-m?e[c]=-m:e[c]>m&&(e[c]=m),e[0]===e[1]){var j=Math.max(1,Math.abs(1e-6*e[0]));e[0]-=j,e[1]+=j}}},a.setScale=function(c){var d=b._size,e=a._id.charAt(0);if(a._categories||(a._categories=[]),a._categoriesMap||(a._categoriesMap={}),a.overlaying){var f=p.getFromId({_fullLayout:b},a.overlaying);a.domain=f.domain}var g=c&&a._r?"_r":"range",i=a.calendar;a.cleanRange(g);var j=a.r2l(a[g][0],i),k=a.r2l(a[g][1],i);if("y"===e?(a._offset=d.t+(1-a.domain[1])*d.h,a._length=d.h*(a.domain[1]-a.domain[0]),a._m=a._length/(j-k),a._b=-a._m*k):(a._offset=d.l+a.domain[0]*d.w,a._length=d.w*(a.domain[1]-a.domain[0]),a._m=a._length/(k-j),a._b=-a._m*j),!isFinite(a._m)||!isFinite(a._b))throw h.notifier("Something went wrong with axis scaling","long"),b._replotting=!1,new Error("axis scaling")},a.makeCalcdata=function(b,c){var d,e,f,g="date"===a.type&&b[c+"calendar"];if(c in b)for(d=b[c],e=new Array(d.length),f=0;f<d.length;f++)e[f]=a.d2c(d[f],0,g);else{var h=c+"0"in b?a.d2c(b[c+"0"],0,g):0,i=b["d"+c]?Number(b["d"+c]):1;for(d=b[{x:"y",y:"x"}[c]],e=new Array(d.length),f=0;f<d.length;f++)e[f]=h+f*i}return e},a.isValidRange=function(b){return Array.isArray(b)&&2===b.length&&g(a.r2l(b[0]))&&g(a.r2l(b[1]))},a._min=[],a._max=[],a._separators=b.separators,delete a._minDtick,delete a._forceTick0}},{"../../constants/numerical":631,"../../lib":645,"./axis_ids":683,"./constants":685,d3:256,"fast-isnumeric":259}],698:[function(a,b,c){"use strict";function d(a){var b=["showexponent","showtickprefix","showticksuffix"],c=b.filter(function(b){return void 0!==a[b]}),d=function(b){return a[b]===a[c[0]]};return c.every(d)||1===c.length?a[c[0]]:void 0}var e=a("../../lib");b.exports=function(a,b,c,f,g){var h=d(a);if(c("tickprefix")&&c("showtickprefix",h),c("ticksuffix")&&c("showticksuffix",h),c("showticklabels")){var i=g.font||{},j=b.color===a.color?b.color:i.color;e.coerceFont(c,"tickfont",{family:i.family,size:i.size,color:j}),c("tickangle"),"category"!==f&&(c("tickformat")||"date"===f||(c("showexponent",h),c("exponentformat"),c("separatethousands")))}"category"===f||g.noHover||c("hoverformat")}},{"../../lib":645}],699:[function(a,b,c){"use strict";var d=a("../../lib"),e=a("./layout_attributes");b.exports=function(a,b,c,f){var g=d.coerce2(a,b,e,"ticklen"),h=d.coerce2(a,b,e,"tickwidth"),i=d.coerce2(a,b,e,"tickcolor",b.color);c("ticks",f.outerTicks||g||h||i?"outside":"")||(delete b.ticklen,delete b.tickwidth,delete b.tickcolor)}},{"../../lib":645,"./layout_attributes":691}],700:[function(a,b,c){"use strict";var d=a("fast-isnumeric"),e=a("../../lib"),f=a("../../constants/numerical").ONEDAY;b.exports=function(a,b,c,g){var h="auto";"array"!==a.tickmode||"log"!==g&&"date"!==g||(a.tickmode="auto"),Array.isArray(a.tickvals)?h="array":a.dtick&&(h="linear");var i=c("tickmode",h);if("auto"===i)c("nticks");else if("linear"===i){var j="date"===g?f:1,k=c("dtick",j);if(d(k))b.dtick=k>0?Number(k):j;else if("string"!=typeof k)b.dtick=j;else{var l=k.charAt(0),m=k.substr(1);m=d(m)?Number(m):0,(0>=m||!("date"===g&&"M"===l&&m===Math.round(m)||"log"===g&&"L"===l||"log"===g&&"D"===l&&(1===m||2===m)))&&(b.dtick=j)}var n="date"===g?e.dateTick0(b.calendar):0,o=c("tick0",n);"date"===g?b.tick0=e.cleanDate(o,n):d(o)&&"D1"!==k&&"D2"!==k?b.tick0=Number(o):b.tick0=n}else{var p=c("tickvals");void 0===p?b.tickmode="auto":c("ticktext")}}},{"../../constants/numerical":631,"../../lib":645,"fast-isnumeric":259}],701:[function(a,b,c){"use strict";var d=a("d3"),e=a("../../plotly"),f=a("../../registry"),g=a("../../components/drawing"),h=a("./axes"),i=/((x|y)([2-9]|[1-9][0-9]+)?)axis$/;b.exports=function(a,b,c,j){function k(b,c){function d(b,c){for(e=0;e<b.length;e++){var d=b[e];-1===g.indexOf(d.xref)&&-1===g.indexOf(d.yref)||c(a,e)}}var e,g=[];for(g=[b._id,c._id],e=0;e<g.length;e++)h.doTicks(a,g[e],!0);d(q.annotations||[],f.getComponentMethod("annotations","drawOne")),d(q.shapes||[],f.getComponentMethod("shapes","drawOne")),d(q.images||[],f.getComponentMethod("images","draw"))}function l(a){var b=a.xaxis,c=a.yaxis;q._defs.selectAll("#"+a.clipId).call(g.setTranslate,0,0).call(g.setScale,1,1),a.plot.call(g.setTranslate,b._offset,c._offset).call(g.setScale,1,1).select(".scatterlayer").selectAll(".points").selectAll(".point").call(g.setPointGroupScale,1,1),a.plot.select(".scatterlayer").selectAll(".points").selectAll(".textpoint").call(g.setTextPointsScale,1,1)}function m(b,c){var d,e,f,h=s[b.xaxis._id],i=s[b.yaxis._id],j=[];if(h){d=a._fullLayout[h.axisName],e=d._r,f=h.to,j[0]=(e[0]*(1-c)+c*f[0]-e[0])/(e[1]-e[0])*b.xaxis._length;var l=e[1]-e[0],m=f[1]-f[0];d.range[0]=e[0]*(1-c)+c*f[0],d.range[1]=e[1]*(1-c)+c*f[1],j[2]=b.xaxis._length*(1-c+c*m/l)}else j[0]=0,j[2]=b.xaxis._length;if(i){d=a._fullLayout[i.axisName],e=d._r,f=i.to,j[1]=(e[1]*(1-c)+c*f[1]-e[1])/(e[0]-e[1])*b.yaxis._length;var n=e[1]-e[0],o=f[1]-f[0];d.range[0]=e[0]*(1-c)+c*f[0],d.range[1]=e[1]*(1-c)+c*f[1],j[3]=b.yaxis._length*(1-c+c*o/n)}else j[1]=0,j[3]=b.yaxis._length;k(b.xaxis,b.yaxis);var p=b.xaxis,r=b.yaxis,t=!!h,u=!!i,v=t?p._length/j[2]:1,w=u?r._length/j[3]:1,x=t?j[0]:0,y=u?j[1]:0,z=t?j[0]/j[2]*p._length:0,A=u?j[1]/j[3]*r._length:0,B=p._offset-z,C=r._offset-A;q._defs.selectAll("#"+b.clipId).call(g.setTranslate,x,y).call(g.setScale,1/v,1/w),b.plot.call(g.setTranslate,B,C).call(g.setScale,v,w).selectAll(".points").selectAll(".point").call(g.setPointGroupScale,1/v,1/w),b.plot.selectAll(".points").selectAll(".textpoint").call(g.setTextPointsScale,1/v,1/w)}function n(){for(var b={},c=0;c<t.length;c++){var d=a._fullLayout[s[t[c]].axisName],f=s[t[c]].to;b[d._name+".range[0]"]=f[0],b[d._name+".range[1]"]=f[1],d.range=f.slice()}return v&&v(),e.relayout(a,b).then(function(){for(var a=0;a<u.length;a++)l(u[a])})}function o(){for(var b={},c=0;c<t.length;c++){var d=a._fullLayout[t[c]+"axis"];b[d._name+".range[0]"]=d.range[0],b[d._name+".range[1]"]=d.range[1],d.range=d._r.slice()}return e.relayout(a,b).then(function(){for(var a=0;a<u.length;a++)l(u[a])})}function p(){x=Date.now();for(var a=Math.min(1,(x-w)/c.duration),b=z(a),d=0;d<u.length;d++)m(u[d],b);x-w>c.duration?(n(),y=window.cancelAnimationFrame(p)):y=window.requestAnimationFrame(p)}var q=a._fullLayout,r=[],s=function(a){var b,c,d,e,f,g={};for(b in a)if(c=b.split("."),d=c[0].match(i)){var h=d[1],j=h+"axis";if(e=q[j],f={},Array.isArray(a[b])?f.to=a[b].slice(0):Array.isArray(a[b].range)&&(f.to=a[b].range.slice(0)),!f.to)continue;f.axisName=j,f.length=e._length,r.push(h),g[h]=f}return g}(b),t=Object.keys(s),u=function(a,b,c){var d,e,f,g=a._plots,h=[];for(d in g){var i=g[d];if(-1===h.indexOf(i)){var j=i.xaxis._id,k=i.yaxis._id,l=i.xaxis.range,m=i.yaxis.range;i.xaxis._r=i.xaxis.range.slice(),i.yaxis._r=i.yaxis.range.slice(),e=c[j]?c[j].to:l,f=c[k]?c[k].to:m,l[0]===e[0]&&l[1]===e[1]&&m[0]===f[0]&&m[1]===f[1]||-1===b.indexOf(j)&&-1===b.indexOf(k)||h.push(i)}}return h}(q,t,s);if(!u.length)return!1;var v;j&&(v=j());var w,x,y,z=d.ease(c.easing);return a._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(y),y=null,o()}),w=Date.now(),y=window.requestAnimationFrame(p),Promise.resolve()}},{"../../components/drawing":558,"../../plotly":675,"../../registry":715,"./axes":680,d3:256}],702:[function(a,b,c){"use strict";function d(a,b){if("-"===a.type){var c=a._id,d=c.charAt(0);-1!==c.indexOf("scene")&&(c=d);var j=e(b,c,d);if(j){if("histogram"===j.type&&d==={v:"y",h:"x"}[j.orientation||"v"])return void(a.type="linear");var k=d+"calendar",l=j[k];if(g(j,d)){for(var m,n=f(j),o=[],p=0;p<b.length;p++)m=b[p],h.traceIs(m,"box")&&(m[d+"axis"]||d)===c&&(void 0!==m[n]?o.push(m[n][0]):void 0!==m.name?o.push(m.name):o.push("text"),m[k]!==l&&(l=void 0));a.type=i(o,l)}else a.type=i(j[d]||[j[d+"0"]],l)}}}function e(a,b,c){for(var d=0;d<a.length;d++){var e=a[d];if((e[c+"axis"]||c)===b){if(g(e,c))return e;if((e[c]||[]).length||e[c+"0"])return e}}}function f(a){return{v:"x",h:"y"}[a.orientation||"v"]}function g(a,b){var c=f(a),d=h.traceIs(a,"box"),e=h.traceIs(a._fullInput||{},"candlestick");return d&&!e&&b===c&&void 0===a[c]&&void 0===a[c+"0"]}var h=a("../../registry"),i=a("./axis_autotype"),j=a("./axis_ids").name2id;b.exports=function(a,b,c,e,f){f&&(b._name=f,b._id=j(f)),"-"===c("type")&&(d(b,e),"-"===b.type?b.type="linear":a.type=b.type)}},{"../../registry":715,"./axis_autotype":681,"./axis_ids":683}],703:[function(a,b,c){"use strict";function d(a,b,c){var d,e,f,g=!1;if("data"===b.type)d=a._fullData[null!==b.traces?b.traces[0]:0];else{if("layout"!==b.type)return!1;d=a._fullLayout}return e=j.nestedProperty(d,b.prop).get(),f=c[b.type]=c[b.type]||{},f.hasOwnProperty(b.prop)&&f[b.prop]!==e&&(g=!0),f[b.prop]=e,{changed:g,value:e}}function e(a,b){return Array.isArray(b[0])&&1===b[0].length&&-1!==["string","number"].indexOf(_typeof(b[0][0]))?[{type:"layout",prop:"_currentFrame",value:b[0][0].toString()}]:[]}function f(a,b){var c=[],d=b[0],e={};if("string"==typeof d)e[d]=b[1];else{if(!j.isPlainObject(d))return c;e=d}return h(e,function(a,b,d){c.push({type:"layout",prop:a,value:d})},"",0),c}function g(a,b){var c,d,e,f,g=[];if(d=b[0],e=b[1],c=b[2],f={},"string"==typeof d)f[d]=e;else{if(!j.isPlainObject(d))return g;f=d,void 0===c&&(c=e)}return void 0===c&&(c=null),h(f,function(b,d,e){var f;if(Array.isArray(e)){var h=Math.min(e.length,a.data.length);c&&(h=Math.min(h,c.length)),f=[];for(var i=0;h>i;i++)f[i]=c?c[i]:i}else f=c?c.slice(0):null;if(null===f)Array.isArray(e)&&(e=e[0]);else if(Array.isArray(f)){if(!Array.isArray(e)){var j=e;e=[];for(var k=0;k<f.length;k++)e[k]=j}e.length=Math.min(f.length,e.length)}g.push({type:"data",prop:b,traces:f,value:e})},"",0),g}function h(a,b,c,d){Object.keys(a).forEach(function(e){var f=a[e];if("_"!==e[0]){var g=c+(d>0?".":"")+e;j.isPlainObject(f)?h(f,b,g,d+1):b(g,e,f)}})}var i=a("../plotly"),j=a("../lib");c.manageCommandObserver=function(a,b,e,f){var g={},h=!0;b&&b._commandObserver&&(g=b._commandObserver),g.cache||(g.cache={}),g.lookupTable={};var i=c.hasSimpleAPICommandBindings(a,e,g.lookupTable);if(b&&b._commandObserver){if(i)return g;if(b._commandObserver.remove)return b._commandObserver.remove(),b._commandObserver=null,g}if(i){d(a,i,g.cache),g.check=function(){if(h){var b=d(a,i,g.cache);return b.changed&&f&&void 0!==g.lookupTable[b.value]&&(g.disable(),Promise.resolve(f({value:b.value,type:i.type,prop:i.prop,traces:i.traces,index:g.lookupTable[b.value]})).then(g.enable,g.enable)),b.changed}};for(var k=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],l=0;l<k.length;l++)a._internalOn(k[l],g.check);g.remove=function(){for(var b=0;b<k.length;b++)a._removeInternalListener(k[b],g.check)}}else j.warn("Unable to automatically bind plot updates to API command"),g.lookupTable={},g.remove=function(){};return g.disable=function(){h=!1},g.enable=function(){h=!0},b&&(b._commandObserver=g),g},c.hasSimpleAPICommandBindings=function(a,b,d){var e,f,g=b.length;for(e=0;g>e;e++){var h,i=b[e],j=i.method,k=i.args;if(Array.isArray(k)||(k=[]),!j)return!1;var l=c.computeAPICommandBindings(a,j,k);if(1!==l.length)return!1;if(f){if(h=l[0],h.type!==f.type)return!1;if(h.prop!==f.prop)return!1;if(Array.isArray(f.traces)){if(!Array.isArray(h.traces))return!1;h.traces.sort();for(var m=0;m<f.traces.length;m++)if(f.traces[m]!==h.traces[m])return!1}else if(h.prop!==f.prop)return!1}else f=l[0],Array.isArray(f.traces)&&f.traces.sort();h=l[0];var n=h.value;if(Array.isArray(n)){if(1!==n.length)return!1;n=n[0]}d&&(d[n]=e)}return f},c.executeAPICommand=function(a,b,c){var d=i[b],e=[a];Array.isArray(c)||(c=[]);for(var f=0;f<c.length;f++)e.push(c[f]);return d.apply(null,e)["catch"](function(a){return j.warn("API call to Plotly."+b+" rejected.",a),Promise.reject(a)})},c.computeAPICommandBindings=function(a,b,c){var d;switch(Array.isArray(c)||(c=[]),b){case"restyle":d=g(a,c);break;case"relayout":d=f(a,c);break;case"update":d=g(a,[c[0],c[2]]).concat(f(a,[c[1]]));break;case"animate":d=e(a,c);break;default:d=[]}return d}},{"../lib":645,"../plotly":675}],704:[function(a,b,c){"use strict";b.exports={family:{valType:"string",role:"style",noBlank:!0,strict:!0,description:["HTML font family - the typeface that will be applied by the web browser.","The web browser will only be able to apply a font if it is available on the system","which it operates. Provide multiple font families, separated by commas, to indicate","the preference in which to apply fonts if they aren't available on the system.","The plotly service (at https://plot.ly or on-premise) generates images on a server,","where only a select number of","fonts are installed and supported.","These include *Arial*, *Balto*, *Courier New*, *Droid Sans*,, *Droid Serif*,","*Droid Sans Mono*, *Gravitas One*, *Old Standard TT*, *Open Sans*, *Overpass*,","*PT Sans Narrow*, *Raleway*, *Times New Roman*."].join(" ")},size:{valType:"number",role:"style",min:1},color:{valType:"color",role:"style"}}},{}],705:[function(a,b,c){"use strict";b.exports={_isLinkedToArray:"frames_entry",group:{valType:"string",role:"info",description:["An identifier that specifies the group to which the frame belongs,","used by animate to select a subset of frames."].join(" ")},name:{valType:"string",role:"info",description:"A label by which to identify the frame"},traces:{valType:"any",role:"info",description:["A list of trace indices that identify the respective traces in the","data attribute"].join(" ")},baseframe:{valType:"string",role:"info",description:["The name of the frame into which this frame's properties are merged","before applying. This is used to unify properties and avoid needing","to specify the same values for the same properties in multiple frames."].join(" ")},data:{valType:"any",role:"object",description:["A list of traces this frame modifies. The format is identical to the","normal trace definition."].join(" ")},layout:{valType:"any",role:"object",description:["Layout properties which this frame modifies. The format is identical","to the normal layout definition."].join(" ")}}},{}],706:[function(a,b,c){"use strict";var d=a("../lib"),e=d.extendFlat,f=a("./font_attributes"),g=a("../components/color/attributes");b.exports={font:{family:e({},f.family,{dflt:'"Open Sans", verdana, arial, sans-serif'}),size:e({},f.size,{dflt:12}),color:e({},f.color,{dflt:g.defaultLine}),description:["Sets the global font.","Note that fonts used in traces and other","layout components inherit from the global font."].join(" ")},title:{valType:"string",role:"info",dflt:"Click to enter Plot title",description:["Sets the plot's title."].join(" ")},titlefont:e({},f,{description:"Sets the title font."}),autosize:{valType:"boolean",role:"info",dflt:!1,description:["Determines whether or not a layout width or height","that has been left undefined by the user","is initialized on each relayout.","Note that, regardless of this attribute,","an undefined layout width or height","is always initialized on the first call to plot."].join(" ")},width:{valType:"number",role:"info",min:10,dflt:700,description:["Sets the plot's width (in px)."].join(" ")},height:{valType:"number",role:"info",min:10,dflt:450,description:["Sets the plot's height (in px)."].join(" ")},margin:{l:{valType:"number",role:"info",min:0,dflt:80,description:"Sets the left margin (in px)."},r:{valType:"number",role:"info",min:0,dflt:80,description:"Sets the right margin (in px)."},t:{valType:"number",role:"info",min:0,dflt:100,description:"Sets the top margin (in px)."},b:{valType:"number",role:"info",min:0,dflt:80,description:"Sets the bottom margin (in px)."},pad:{valType:"number",role:"info",min:0,dflt:0,description:["Sets the amount of padding (in px)","between the plotting area and the axis lines"].join(" ")},autoexpand:{valType:"boolean",role:"info",dflt:!0}},paper_bgcolor:{valType:"color",role:"style",dflt:g.background,description:"Sets the color of paper where the graph is drawn."},plot_bgcolor:{valType:"color",role:"style",dflt:g.background,description:["Sets the color of plotting area in-between x and y axes."].join(" ")},separators:{valType:"string",role:"style",dflt:".,",description:["Sets the decimal and thousand separators.","For example, *. * puts a '.' before decimals and","a space between thousands."].join(" ")},hidesources:{valType:"boolean",role:"info",dflt:!1,description:["Determines whether or not a text link citing the data source is","placed at the bottom-right cored of the figure.","Has only an effect only on graphs that have been generated via","forked graphs from the plotly service (at https://plot.ly or on-premise)."].join(" ")},smith:{valType:"enumerated",role:"info",values:[!1],dflt:!1},showlegend:{valType:"boolean",role:"info",description:"Determines whether or not a legend is drawn."}}},{"../components/color/attributes":533,"../lib":645,"./font_attributes":704}],707:[function(a,b,c){"use strict";b.exports={t:{valType:"number",dflt:0,role:"style",description:"The amount of padding (in px) along the top of the component."},r:{valType:"number",dflt:0,role:"style",description:"The amount of padding (in px) on the right side of the component."},b:{valType:"number",dflt:0,role:"style",description:"The amount of padding (in px) along the bottom of the component."},l:{valType:"number",dflt:0,role:"style",description:"The amount of padding (in px) on the left side of the component."}}},{}],708:[function(a,b,c){"use strict";function d(a,b){b.text("");var c=b.append("a").attr({"xlink:xlink:href":"#","class":"link--impt link--embedview","font-weight":"bold"}).text(a._context.linkText+" "+String.fromCharCode(187));if(a._context.sendData)c.on("click",function(){o.sendDataToCloud(a)});else{var d=window.location.pathname.split("/"),e=window.location.search;c.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+d[2].split(".")[0]+"/"+d[1]+e})}}function e(a,b,c,d){for(var e=a.transforms,f=[a],g=0;g<e.length;g++){var h=e[g],i=t[h.type];i&&i.transform&&(f=i.transform(f,{transform:h,fullTrace:a,fullData:b,layout:c,fullLayout:d,transformIndex:g}))}return f}function f(a){var b,c={left:0,right:0,bottom:0,top:0};if(a)for(b in a)a.hasOwnProperty(b)&&(c.left+=a[b].left||0,c.right+=a[b].right||0,c.bottom+=a[b].bottom||0,c.top+=a[b].top||0);return c}function g(a){for(var b=!1,c=0;c<a.length;c++){a[c]._categories=a[c]._initialCategories.slice(),a[c]._categoriesMap={};for(var d=0;d<a[c]._categories.length;d++)a[c]._categoriesMap[a[c]._categories[d]]=d;
"category"===a[c].type&&(b=!0)}return b}var h=a("d3"),i=a("fast-isnumeric"),j=a("../plotly"),k=a("../registry"),l=a("../lib"),m=a("../components/color"),n=a("../constants/numerical").BADNUM,o=b.exports={},p=a("./animation_attributes"),q=a("./frame_attributes"),r=l.relinkPrivateKeys;l.extendFlat(o,k),o.attributes=a("./attributes"),o.attributes.type.values=o.allTypes,o.fontAttrs=a("./font_attributes"),o.layoutAttributes=a("./layout_attributes"),o.fontWeight="normal";var s=o.subplotsRegistry,t=o.transformsRegistry,u=a("../components/errorbars"),v=a("./command");o.executeAPICommand=v.executeAPICommand,o.computeAPICommandBindings=v.computeAPICommandBindings,o.manageCommandObserver=v.manageCommandObserver,o.hasSimpleAPICommandBindings=v.hasSimpleAPICommandBindings,o.findSubplotIds=function(a,b){var c=[];if(!o.subplotsRegistry[b])return c;for(var d=o.subplotsRegistry[b].attr,e=0;e<a.length;e++){var f=a[e];o.traceIs(f,b)&&-1===c.indexOf(f[d])&&c.push(f[d])}return c},o.getSubplotIds=function(a,b){var c=o.subplotsRegistry[b];if(!c)return[];if(!("cartesian"!==b||a._has&&a._has("cartesian")))return[];if(!("gl2d"!==b||a._has&&a._has("gl2d")))return[];if("cartesian"===b||"gl2d"===b)return Object.keys(a._plots||{});for(var d=c.idRegex,e=Object.keys(a),f=[],g=0;g<e.length;g++){var h=e[g];d.test(h)&&f.push(h)}var i=c.idRoot.length;return f.sort(function(a,b){return+(a.substr(i)||1)-+(b.substr(i)||1)}),f},o.getSubplotData=function(a,b,c){if(!o.subplotsRegistry[b])return[];for(var d,e=o.subplotsRegistry[b].attr,f=[],g=0;g<a.length;g++)if(d=a[g],"gl2d"===b&&o.traceIs(d,"gl2d")){var h=j.Axes.subplotMatch,i="x"+c.match(h)[1],k="y"+c.match(h)[2];d[e[0]]===i&&d[e[1]]===k&&f.push(d)}else d[e]===c&&f.push(d);return f},o.getSubplotCalcData=function(a,b,c){if(!o.subplotsRegistry[b])return[];for(var d=o.subplotsRegistry[b].attr,e=[],f=0;f<a.length;f++){var g=a[f];g[0].trace[d]===c&&e.push(g)}return e},o.redrawText=function(a){return a.data&&a.data[0]&&a.data[0].r?void 0:new Promise(function(b){setTimeout(function(){k.getComponentMethod("annotations","draw")(a),k.getComponentMethod("legend","draw")(a),(a.calcdata||[]).forEach(function(a){a[0]&&a[0].t&&a[0].t.cb&&a[0].t.cb()}),b(o.previousPromises(a))},300)})},o.resize=function(a){return new Promise(function(b,c){a&&"none"!==h.select(a).style("display")||c(new Error("Resize must be passed a plot div element.")),a._redrawTimer&&clearTimeout(a._redrawTimer),a._redrawTimer=setTimeout(function(){if(a.layout.width&&a.layout.height)return void b(a);delete a.layout.width,delete a.layout.height;var c=a.changed;a.autoplay=!0,j.relayout(a,{autosize:!0}).then(function(){a.changed=c,b(a)})},100)})},o.previousPromises=function(a){return(a._promises||[]).length?Promise.all(a._promises).then(function(){a._promises=[]}):void 0},o.addLinks=function(a){if(a._context.showLink||a._context.showSources){var b=a._fullLayout,c=b._paper.selectAll("text.js-plot-link-container").data([0]);c.enter().append("text").classed("js-plot-link-container",!0).style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:m.defaultLine,"pointer-events":"all"}).each(function(){var a=h.select(this);a.append("tspan").classed("js-link-to-tool",!0),a.append("tspan").classed("js-link-spacer",!0),a.append("tspan").classed("js-sourcelinks",!0)});var e=c.node(),f={y:b._paper.attr("height")-9};document.body.contains(e)&&e.getComputedTextLength()>=b.width-20?(f["text-anchor"]="start",f.x=5):(f["text-anchor"]="end",f.x=b._paper.attr("width")-7),c.attr(f);var g=c.select(".js-link-to-tool"),i=c.select(".js-link-spacer"),j=c.select(".js-sourcelinks");a._context.showSources&&a._context.showSources(a),a._context.showLink&&d(a,g),i.text(g.text()&&j.text()?" - ":"")}},o.sendDataToCloud=function(a){a.emit("plotly_beforeexport");var b=window.PLOTLYENV&&window.PLOTLYENV.BASE_URL||"https://plot.ly",c=h.select(a).append("div").attr("id","hiddenform").style("display","none"),d=c.append("form").attr({action:b+"/external",method:"post",target:"_blank"});return d.append("input").attr({type:"text",name:"data"}).node().value=o.graphJson(a,!1,"keepdata"),d.node().submit(),c.remove(),a.emit("plotly_afterexport"),!1},o.supplyDefaults=function(a){var b,c=a._fullLayout||{},d=a._fullLayout={},e=a.layout||{},f=a._fullData||[],g=a._fullData=[],h=a.data||[];if(a._transitionData||o.createTransitionData(a),c._initialAutoSizeIsDone){var i=c.width,k=c.height;o.supplyLayoutGlobalDefaults(e,d),e.width||(d.width=i),e.height||(d.height=k)}else{o.supplyLayoutGlobalDefaults(e,d);var l=!e.width||!e.height,m=d.autosize,n=a._context&&a._context.autosizable;l&&(m||n)?o.plotAutoSize(a,e,d):l&&o.sanitizeMargins(a),!m&&l&&(e.width=d.width,e.height=d.height)}d._initialAutoSizeIsDone=!0,d._dataLength=h.length,d._globalTransforms=(a._context||{}).globalTransforms,o.supplyDataDefaults(h,g,e,d),d._has=o._hasPlotType.bind(d);var p=d._modules;for(b=0;b<p.length;b++){var q=p[b];q.cleanData&&q.cleanData(g)}if(f.length===h.length)for(b=0;b<g.length;b++)r(g[b],f[b]);o.supplyLayoutModuleDefaults(e,d,g,a._transitionData),d._hasCartesian=d._has("cartesian"),d._hasGeo=d._has("geo"),d._hasGL3D=d._has("gl3d"),d._hasGL2D=d._has("gl2d"),d._hasTernary=d._has("ternary"),d._hasPie=d._has("pie"),o.cleanPlot(g,d,f,c),o.linkSubplots(g,d,f,c),r(d,c),o.doAutoMargin(a);var s=j.Axes.list(a);for(b=0;b<s.length;b++)s[b].setScale();if((a.calcdata||[]).length===g.length)for(b=0;b<g.length;b++){var t=g[b];(a.calcdata[b][0]||{}).trace=t}},o.createTransitionData=function(a){a._transitionData||(a._transitionData={}),a._transitionData._frames||(a._transitionData._frames=[]),a._transitionData._frameHash||(a._transitionData._frameHash={}),a._transitionData._counter||(a._transitionData._counter=0),a._transitionData._interruptCallbacks||(a._transitionData._interruptCallbacks=[])},o._hasPlotType=function(a){for(var b=this._basePlotModules||[],c=0;c<b.length;c++)if(b[c].name===a)return!0;return!1},o.cleanPlot=function(a,b,c,d){var e,f,g=d._basePlotModules||[];for(e=0;e<g.length;e++){var h=g[e];h.clean&&h.clean(a,b,c,d)}var i=!!d._paper,j=!!d._infolayer;a:for(e=0;e<c.length;e++){var k=c[e],l=k.uid;for(f=0;f<a.length;f++){var m=a[f];if(l===m.uid)continue a}var n=".hm"+l+",.contour"+l+",.carpet"+l+",#clip"+l+",.trace"+l;i&&d._paper.selectAll(n).remove(),j&&(d._infolayer.selectAll(".cb"+l).remove(),d._infolayer.selectAll("g.rangeslider-container").selectAll(n).remove())}},o.linkSubplots=function(a,b,c,d){for(var e=d._plots||{},f=b._plots={},g={_fullData:a,_fullLayout:b},h=j.Axes.getSubplots(g),i=0;i<h.length;i++){var k,l=h[i],m=e[l];m?(k=f[l]=m,k._scene2d&&k._scene2d.updateRefs(b)):(k=f[l]={},k.id=l),k.xaxis=j.Axes.getFromId(g,l,"x"),k.yaxis=j.Axes.getFromId(g,l,"y")}},o.supplyDataDefaults=function(a,b,c,d){function f(a){b.push(a);var c=a._module;c&&(l.pushUnique(j,c),l.pushUnique(m,a._module.basePlotModule),n++)}var g,h,i,j=d._modules=[],m=d._basePlotModules=[],n=0;d._transformModules=[];var p={},q=[];for(g=0;g<a.length;g++){if(i=a[g],h=o.supplyTraceDefaults(i,n,d,g),h.index=g,h._input=i,h._expandedIndex=n,h.transforms&&h.transforms.length)for(var r=e(h,b,c,d),s=0;s<r.length;s++){var t=r[s],u=o.supplyTraceDefaults(t,n,d,g);t.uid=u.uid=h.uid+s,u.index=g,u._input=i,u._fullInput=h,u._expandedIndex=n,u._expandedInput=t,f(u)}else h._fullInput=h,h._expandedInput=h,f(h);k.traceIs(h,"carpetAxis")&&(p[h.carpet]=h),k.traceIs(h,"carpetDependent")&&q.push(g)}for(g=0;g<q.length;g++)if(h=b[q[g]],h.visible){var v=p[h.carpet];h._carpet=v,v&&v.visible?(h.xaxis=v.xaxis,h.yaxis=v.yaxis):h.visible=!1}},o.supplyAnimationDefaults=function(a){function b(b,c){return l.coerce(a||{},d,p,b,c)}a=a||{};var c,d={};if(b("mode"),b("direction"),b("fromcurrent"),Array.isArray(a.frame))for(d.frame=[],c=0;c<a.frame.length;c++)d.frame[c]=o.supplyAnimationFrameDefaults(a.frame[c]||{});else d.frame=o.supplyAnimationFrameDefaults(a.frame||{});if(Array.isArray(a.transition))for(d.transition=[],c=0;c<a.transition.length;c++)d.transition[c]=o.supplyAnimationTransitionDefaults(a.transition[c]||{});else d.transition=o.supplyAnimationTransitionDefaults(a.transition||{});return d},o.supplyAnimationFrameDefaults=function(a){function b(b,d){return l.coerce(a||{},c,p.frame,b,d)}var c={};return b("duration"),b("redraw"),c},o.supplyAnimationTransitionDefaults=function(a){function b(b,d){return l.coerce(a||{},c,p.transition,b,d)}var c={};return b("duration"),b("easing"),c},o.supplyFrameDefaults=function(a){function b(b,d){return l.coerce(a,c,q,b,d)}var c={};return b("group"),b("name"),b("traces"),b("baseframe"),b("data"),b("layout"),c},o.supplyTraceDefaults=function(a,b,c,d){function e(b,c){return l.coerce(a,g,o.attributes,b,c)}function f(b,c){return o.traceIs(g,b)?l.coerce(a,g,o.subplotsRegistry[b].attributes,c):void 0}var g={},h=m.defaults[b%m.defaults.length],i=e("visible");e("type"),e("uid"),e("name","trace "+d);for(var j=Object.keys(s),n=0;n<j.length;n++){var p=j[n];if(-1===["cartesian","gl2d"].indexOf(p)){var q=s[p].attr;q&&f(p,q)}}if(i){var r=o.getModule(g);g._module=r,e("hoverinfo",1===c._dataLength?"x+y+z+text":void 0),o.traceIs(g,"showLegend")&&(e("showlegend"),e("legendgroup")),k.getComponentMethod("fx","supplyDefaults")(a,g,h,c),r&&r.supplyDefaults(a,g,h,c),o.traceIs(g,"noOpacity")||e("opacity"),f("cartesian","xaxis"),f("cartesian","yaxis"),f("gl2d","xaxis"),f("gl2d","yaxis"),o.traceIs(g,"notLegendIsolatable")&&(g.visible=!!g.visible),o.supplyTransformDefaults(a,g,c)}return g},o.supplyTransformDefaults=function(a,b,c){var d=c._globalTransforms||[],e=c._transformModules||[];if(Array.isArray(a.transforms)||0!==d.length)for(var f=a.transforms||[],g=d.concat(f),h=b.transforms=[],i=0;i<g.length;i++){var j,k=g[i],m=k.type,n=t[m];n||l.warn("Unrecognized transform type "+m+"."),n&&n.supplyDefaults?(j=n.supplyDefaults(k,b,c,a),j.type=m,j._module=n,l.pushUnique(e,n)):j=l.extendFlat({},k),h.push(j)}},o.supplyLayoutGlobalDefaults=function(a,b){function c(c,d){return l.coerce(a,b,o.layoutAttributes,c,d)}var d=l.coerceFont(c,"font");c("title"),l.coerceFont(c,"titlefont",{family:d.family,size:Math.round(1.4*d.size),color:d.color}),c("autosize",!(a.width&&a.height)),c("width"),c("height"),c("margin.l"),c("margin.r"),c("margin.t"),c("margin.b"),c("margin.pad"),c("margin.autoexpand"),a.width&&a.height&&o.sanitizeMargins(b),c("paper_bgcolor"),c("separators"),c("hidesources"),c("smith"),k.getComponentMethod("calendars","handleDefaults")(a,b,"calendar"),k.getComponentMethod("fx","supplyLayoutGlobalDefaults")(a,b,c)},o.plotAutoSize=function(a,b,c){var d,e,g=a._context||{},h=g.frameMargins,j=l.isPlotDiv(a);if(j&&a.emit("plotly_autosize"),g.fillFrame)d=window.innerWidth,e=window.innerHeight,document.body.style.overflow="hidden";else if(i(h)&&h>0){var k=f(a._boundingBoxMargins),m=k.left+k.right,n=k.bottom+k.top,p=1-2*h,q=c._container&&c._container.node?c._container.node().getBoundingClientRect():{width:c.width,height:c.height};d=Math.round(p*(q.width-m)),e=Math.round(p*(q.height-n))}else{var r=j?window.getComputedStyle(a):{};d=parseFloat(r.width)||c.width,e=parseFloat(r.height)||c.height}var s=o.layoutAttributes.width.min,t=o.layoutAttributes.height.min;s>d&&(d=s),t>e&&(e=t);var u=!b.width&&Math.abs(c.width-d)>1,v=!b.height&&Math.abs(c.height-e)>1;(v||u)&&(u&&(c.width=d),v&&(c.height=e)),a._initialAutoSize||(a._initialAutoSize={width:d,height:e}),o.sanitizeMargins(c)},o.supplyLayoutModuleDefaults=function(a,b,c,d){var e,f;j.Axes.supplyLayoutDefaults(a,b,c);var g=b._basePlotModules;for(e=0;e<g.length;e++)f=g[e],"cartesian"!==f.name&&f.supplyLayoutDefaults&&f.supplyLayoutDefaults(a,b,c);var h=b._modules;for(e=0;e<h.length;e++)f=h[e],f.supplyLayoutDefaults&&f.supplyLayoutDefaults(a,b,c);var i=b._transformModules;for(e=0;e<i.length;e++)f=i[e],f.supplyLayoutDefaults&&f.supplyLayoutDefaults(a,b,c,d);var l=Object.keys(k.componentsRegistry);for(e=0;e<l.length;e++)f=k.componentsRegistry[l[e]],f.supplyLayoutDefaults&&f.supplyLayoutDefaults(a,b,c)},o.purge=function(a){var b=a._fullLayout||{};void 0!==b._glcontainer&&b._glcontainer.remove(),void 0!==b._geocontainer&&b._geocontainer.remove(),b._modeBar&&b._modeBar.destroy(),a._transitionData&&(a._transitionData._interruptCallbacks&&(a._transitionData._interruptCallbacks.length=0),a._transitionData._animationRaf&&window.cancelAnimationFrame(a._transitionData._animationRaf)),delete a.data,delete a.layout,delete a._fullData,delete a._fullLayout,delete a.calcdata,delete a.framework,delete a.empty,delete a.fid,delete a.undoqueue,delete a.undonum,delete a.autoplay,delete a.changed,delete a._promises,delete a._redrawTimer,delete a.firstscatter,delete a.hmlumcount,delete a.hmpixcount,delete a.numboxes,delete a._hoverTimer,delete a._lastHoverTime,delete a._transitionData,delete a._transitioning,delete a._initialAutoSize,a.removeAllListeners&&a.removeAllListeners()},o.style=function(a){for(var b=a._fullLayout._modules,c=0;c<b.length;c++){var d=b[c];d.style&&d.style(a)}},o.sanitizeMargins=function(a){if(a&&a.margin){var b,c=a.width,d=a.height,e=a.margin,f=c-(e.l+e.r),g=d-(e.t+e.b);0>f&&(b=(c-1)/(e.l+e.r),e.l=Math.floor(b*e.l),e.r=Math.floor(b*e.r)),0>g&&(b=(d-1)/(e.t+e.b),e.t=Math.floor(b*e.t),e.b=Math.floor(b*e.b))}},o.autoMargin=function(a,b,c){var d=a._fullLayout;if(d._pushmargin||(d._pushmargin={}),!1!==d.margin.autoexpand){if(c){var e=void 0===c.pad?12:c.pad;c.l+c.r>.5*d.width&&(c.l=c.r=0),c.b+c.t>.5*d.height&&(c.b=c.t=0),d._pushmargin[b]={l:{val:c.x,size:c.l+e},r:{val:c.x,size:c.r+e},b:{val:c.y,size:c.b+e},t:{val:c.y,size:c.t+e}}}else delete d._pushmargin[b];d._replotting||o.doAutoMargin(a)}},o.doAutoMargin=function(a){var b=a._fullLayout;b._size||(b._size={}),b._pushmargin||(b._pushmargin={});var c=b._size,d=JSON.stringify(c),e=Math.max(b.margin.l||0,0),f=Math.max(b.margin.r||0,0),g=Math.max(b.margin.t||0,0),h=Math.max(b.margin.b||0,0),k=b._pushmargin;if(!1!==b.margin.autoexpand){k.base={l:{val:0,size:e},r:{val:1,size:f},t:{val:1,size:g},b:{val:0,size:h}};for(var l=Object.keys(k),m=0;m<l.length;m++)for(var n=l[m],o=k[n].l||{},p=k[n].b||{},q=o.val,r=o.size,s=p.val,t=p.size,u=0;u<l.length;u++){var v=l[u];if(i(r)&&k[v].r){var w=k[v].r.val,x=k[v].r.size;if(w>q){var y=(r*w+(x-b.width)*q)/(w-q),z=(x*(1-q)+(r-b.width)*(1-w))/(w-q);y>=0&&z>=0&&y+z>e+f&&(e=y,f=z)}}if(i(t)&&k[v].t){var A=k[v].t.val,B=k[v].t.size;if(A>s){var C=(t*A+(B-b.height)*s)/(A-s),D=(B*(1-s)+(t-b.height)*(1-A))/(A-s);C>=0&&D>=0&&C+D>h+g&&(h=C,g=D)}}}}return c.l=Math.round(e),c.r=Math.round(f),c.t=Math.round(g),c.b=Math.round(h),c.p=Math.round(b.margin.pad),c.w=Math.round(b.width)-c.l-c.r,c.h=Math.round(b.height)-c.t-c.b,b._replotting||"{}"===d||d===JSON.stringify(b._size)?void 0:j.plot(a)},o.graphJson=function(a,b,c,d,e){function f(a){if("function"==typeof a)return null;if(l.isPlainObject(a)){var b,d,e={};for(b in a)if("function"!=typeof a[b]&&-1===["_","["].indexOf(b.charAt(0))){if("keepdata"===c){if("src"===b.substr(b.length-3))continue}else if("keepstream"===c){if("string"==typeof(d=a[b+"src"])&&d.indexOf(":")>0&&!l.isPlainObject(a.stream))continue}else if("keepall"!==c&&"string"==typeof(d=a[b+"src"])&&d.indexOf(":")>0)continue;e[b]=f(a[b])}return e}return Array.isArray(a)?a.map(f):l.isJSDate(a)?l.ms2DateTimeLocal(+a):a}(e&&b&&!a._fullData||e&&!b&&!a._fullLayout)&&o.supplyDefaults(a);var g=e?a._fullData:a.data,h=e?a._fullLayout:a.layout,i=(a._transitionData||{})._frames,j={data:(g||[]).map(function(a){var c=f(a);return b&&delete c.fit,c})};return b||(j.layout=f(h)),a.framework&&a.framework.isPolar&&(j=a.framework.getConfig()),i&&(j.frames=f(i)),"object"===d?j:JSON.stringify(j)},o.modifyFrames=function(a,b){var c,d,e,f=a._transitionData._frames,g=a._transitionData._frameHash;for(c=0;c<b.length;c++)switch(d=b[c],d.type){case"replace":e=d.value;var h=(f[d.index]||{}).name,i=e.name;f[d.index]=g[i]=e,i!==h&&(delete g[h],g[i]=e);break;case"insert":e=d.value,g[e.name]=e,f.splice(d.index,0,e);break;case"delete":e=f[d.index],delete g[e.name],f.splice(d.index,1)}return Promise.resolve()},o.computeFrame=function(a,b){var c,d,e,f,g=a._transitionData._frameHash;if(!b)throw new Error("computeFrame must be given a string frame name");var h=g[b.toString()];if(!h)return!1;for(var i=[h],j=[h.name];h.baseframe&&(h=g[h.baseframe.toString()])&&-1===j.indexOf(h.name);)i.push(h),j.push(h.name);for(var k={};h=i.pop();)if(h.layout&&(k.layout=o.extendLayout(k.layout,h.layout)),h.data){if(k.data||(k.data=[]),!(d=h.traces))for(d=[],c=0;c<h.data.length;c++)d[c]=c;for(k.traces||(k.traces=[]),c=0;c<h.data.length;c++)void 0!==(e=d[c])&&null!==e&&(f=k.traces.indexOf(e),-1===f&&(f=k.data.length,k.traces[f]=e),k.data[f]=o.extendTrace(k.data[f],h.data[c]))}return k},o.recomputeFrameHash=function(a){for(var b=a._transitionData._frameHash={},c=a._transitionData._frames,d=0;d<c.length;d++){var e=c[d];e&&e.name&&(b[e.name]=e)}},o.extendObjectWithContainers=function(a,b,c){var d,e,f,g,h,i,j,k,m=l.extendDeepNoArrays({},b||{}),n=l.expandObjectPaths(m),p={};if(c&&c.length)for(f=0;f<c.length;f++)d=l.nestedProperty(n,c[f]),e=d.get(),void 0===e?l.nestedProperty(p,c[f]).set(null):(d.set(null),l.nestedProperty(p,c[f]).set(e));if(a=l.extendDeepNoArrays(a||{},n),c&&c.length)for(f=0;f<c.length;f++)if(h=l.nestedProperty(p,c[f]),j=h.get()){for(i=l.nestedProperty(a,c[f]),k=i.get(),Array.isArray(k)||(k=[],i.set(k)),g=0;g<j.length;g++){var q=j[g];k[g]=null===q?null:o.extendObjectWithContainers(k[g],q)}i.set(k)}return a},o.dataArrayContainers=["transforms"],o.layoutArrayContainers=k.layoutArrayContainers,o.extendTrace=function(a,b){return o.extendObjectWithContainers(a,b,o.dataArrayContainers)},o.extendLayout=function(a,b){return o.extendObjectWithContainers(a,b,o.layoutArrayContainers)},o.transition=function(a,b,c,d,e,f){function g(){var d;for(d=0;d<s.length;d++){var e=s[d],f=a._fullData[e],g=f._module;g&&(g.animatable&&t.push(e),a.data[s[d]]=o.extendTrace(a.data[s[d]],b[d]))}var h=l.expandObjectPaths(l.extendDeepNoArrays({},c)),i=/^[xy]axis[0-9]*$/;for(var j in h)i.test(j)&&delete h[j].range;return o.extendLayout(a.layout,h),o.supplyDefaults(a),o.doCalcdata(a),u.calc(a),Promise.resolve()}function h(a){var b=Promise.resolve();if(!a)return b;for(;a.length;)b=b.then(a.shift());return b}function i(a){if(a)for(;a.length;)a.shift()}function k(){return a.emit("plotly_transitioning",[]),new Promise(function(b){function d(){return i++,function(){k++,v||k!==i||m(b)}}a._transitioning=!0,f.duration>0&&(a._transitioningWithDuration=!0),a._transitionData._interruptCallbacks.push(function(){v=!0}),e.redraw&&a._transitionData._interruptCallbacks.push(function(){return j.redraw(a)}),a._transitionData._interruptCallbacks.push(function(){a.emit("plotly_transitioninterrupted",[])});var g,h,i=0,k=0,n=a._fullLayout._basePlotModules,o=!1;if(c)for(h=0;h<n.length;h++)if(n[h].transitionAxes){var p=l.expandObjectPaths(c);o=n[h].transitionAxes(a,p,f,d)||o}for(o?(g=l.extendFlat({},f),g.duration=0):g=f,h=0;h<n.length;h++)n[h].plot(a,t,g,d);setTimeout(d())})}function m(b){return a._transitionData?(i(a._transitionData._interruptCallbacks),Promise.resolve().then(function(){return e.redraw?j.redraw(a):void 0}).then(function(){a._transitioning=!1,a._transitioningWithDuration=!1,a.emit("plotly_transitioned",[])}).then(b)):void 0}function n(){return a._transitionData?(a._transitioning=!1,h(a._transitionData._interruptCallbacks)):void 0}var p,q,r=Array.isArray(b)?b.length:0,s=d.slice(0,r),t=[],v=!1;for(p=0;p<s.length;p++){q=s[p];var w=a._fullData[q],x=w._module;if(x&&!x.animatable){var y={};for(var z in b[p])y[z]=[b[p][z]]}}var A=[o.previousPromises,n,g,o.rehover,k],B=l.syncOrAsync(A,a);return B&&B.then||(B=Promise.resolve()),B.then(function(){return a})},o.doCalcdata=function(a,b){var c,d,e,f,h=j.Axes.list(a),i=a._fullData,l=a._fullLayout,m=new Array(i.length),o=(a.calcdata||[]).slice(0);for(a.calcdata=m,a.firstscatter=!0,a.numboxes=0,a._hmpixcount=0,a._hmlumcount=0,l._piecolormap={},l._piedefaultcolorcount=0,e=0;e<i.length;e++)Array.isArray(b)&&-1===b.indexOf(e)&&(m[e]=o[e]);var p=g(h),q=!1;for(e=0;e<i.length;e++)if(c=i[e],!0===c.visible&&c.transforms)for(d=c._module,d&&d.calc&&d.calc(a,c),f=0;f<c.transforms.length;f++){var r=c.transforms[f];d=t[r.type],d&&d.calcTransform&&(q=!0,d.calcTransform(a,c,r))}if(q){for(e=0;e<h.length;e++)h[e]._min=[],h[e]._max=[],h[e]._categories=[],h[e]._categoriesMap={};g(h)}for(e=0;e<i.length;e++){var s=[];c=i[e],!0===c.visible&&(d=c._module)&&d.calc&&(s=d.calc(a,c)),Array.isArray(s)&&s[0]||(s=[{x:n,y:n}]),s[0].t||(s[0].t={}),s[0].trace=c,m[e]=s}if(k.getComponentMethod("fx","calc")(a),p){var u=["annotations","shapes","images"];for(e=0;e<u.length;e++)k.getComponentMethod(u[e],"supplyLayoutDefaults")(a.layout,l,i)}},o.rehover=function(a){a._fullLayout._rehover&&a._fullLayout._rehover()},o.generalUpdatePerTraceModule=function(a,b,c){var d,e=a.traceHash,f={};for(d=0;d<b.length;d++){var g=b[d],h=g[0].trace;h.visible&&(f[h.type]=f[h.type]||[],f[h.type].push(g))}var i=Object.keys(e),j=Object.keys(f);for(d=0;d<i.length;d++){var k=i[d];if(-1===j.indexOf(k)){var l=e[k][0];l[0].trace.visible=!1,f[k]=[l]}}for(j=Object.keys(f),d=0;d<j.length;d++){var m=f[j[d]];m[0][0].trace._module.plot(a,function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];!0===d[0].trace.visible&&b.push(d)}return b}(m),c)}a.traceHash=f}},{"../components/color":534,"../components/errorbars":564,"../constants/numerical":631,"../lib":645,"../plotly":675,"../registry":715,"./animation_attributes":676,"./attributes":678,"./command":703,"./font_attributes":704,"./frame_attributes":705,"./layout_attributes":706,d3:256,"fast-isnumeric":259}],709:[function(a,b,c){"use strict";var d=a("../../traces/scatter/attributes"),e=d.marker;b.exports={r:d.r,t:d.t,marker:{color:e.color,size:e.size,symbol:e.symbol,opacity:e.opacity}}},{"../../traces/scatter/attributes":749}],710:[function(a,b,c){"use strict";function d(a,b){var c={showline:{valType:"boolean",role:"style",description:["Determines whether or not the line bounding this",a,"axis","will be shown on the figure."].join(" ")},showticklabels:{valType:"boolean",role:"style",description:["Determines whether or not the",a,"axis ticks","will feature tick labels."].join(" ")},tickorientation:{valType:"enumerated",values:["horizontal","vertical"],role:"style",description:["Sets the orientation (from the paper perspective)","of the",a,"axis tick labels."].join(" ")},ticklen:{valType:"number",min:0,role:"style",description:["Sets the length of the tick lines on this",a,"axis."].join(" ")},tickcolor:{valType:"color",role:"style",description:["Sets the color of the tick lines on this",a,"axis."].join(" ")},ticksuffix:{valType:"string",role:"style",description:["Sets the length of the tick lines on this",a,"axis."].join(" ")},endpadding:{valType:"number",role:"style"},visible:{valType:"boolean",role:"info",description:["Determines whether or not this axis will be visible."].join(" ")}};return f({},b,c)}var e=a("../cartesian/layout_attributes"),f=a("../../lib/extend").extendFlat,g=f({},e.domain,{description:["Polar chart subplots are not supported yet.","This key has currently no effect."].join(" ")});b.exports={radialaxis:d("radial",{range:{valType:"info_array",role:"info",items:[{valType:"number"},{valType:"number"}],description:["Defines the start and end point of this radial axis."].join(" ")},domain:g,orientation:{valType:"number",role:"style",description:["Sets the orientation (an angle with respect to the origin)","of the radial axis."].join(" ")}}),angularaxis:d("angular",{range:{valType:"info_array",role:"info",items:[{valType:"number",dflt:0},{valType:"number",dflt:360}],description:["Defines the start and end point of this angular axis."].join(" ")},domain:g}),layout:{direction:{valType:"enumerated",values:["clockwise","counterclockwise"],role:"info",description:["For polar plots only.","Sets the direction corresponding to positive angles."].join(" ")},orientation:{valType:"angle",role:"info",description:["For polar plots only.","Rotates the entire polar by the given angle."].join(" ")}}}},{"../../lib/extend":641,"../cartesian/layout_attributes":691}],711:[function(a,b,c){"use strict";(b.exports=a("./micropolar")).manager=a("./micropolar_manager")},{"./micropolar":712,"./micropolar_manager":713}],712:[function(a,b,c){var d=a("d3"),e=a("../../lib"),f=e.extendDeepAll,g=b.exports={version:"0.2.2"};g.Axis=function(){function a(a){c=a||c;var j=i.data,l=i.layout;return("string"==typeof c||c.nodeName)&&(c=d.select(c)),c.datum(j).each(function(a,c){function i(a,b){return h(a)%360+l.orientation}var j=a.slice();k={data:g.util.cloneJson(j),layout:g.util.cloneJson(l)};var m=0;j.forEach(function(a,b){a.color||(a.color=l.defaultColorRange[m],m=(m+1)%l.defaultColorRange.length),a.strokeColor||(a.strokeColor="LinePlot"===a.geometry?a.color:d.rgb(a.color).darker().toString()),k.data[b].color=a.color,k.data[b].strokeColor=a.strokeColor,k.data[b].strokeDash=a.strokeDash,k.data[b].strokeSize=a.strokeSize});var n=j.filter(function(a,b){var c=a.visible;return void 0===c||!0===c}),o=!1,p=n.map(function(a,b){return o=o||void 0!==a.groupId,a});if(o){var q=d.nest().key(function(a,b){return void 0!==a.groupId?a.groupId:"unstacked"}).entries(p),r=[],s=q.map(function(a,b){if("unstacked"===a.key)return a.values;var c=a.values[0].r.map(function(a,b){return 0});return a.values.forEach(function(a,b,d){a.yStack=[c],r.push(c),c=g.util.sumArrays(a.r,c)}),a.values});n=d.merge(s)}n.forEach(function(a,b){a.t=Array.isArray(a.t[0])?a.t:[a.t],a.r=Array.isArray(a.r[0])?a.r:[a.r]});var t=Math.min(l.width-l.margin.left-l.margin.right,l.height-l.margin.top-l.margin.bottom)/2;t=Math.max(10,t);var u,v=[l.margin.left+t,l.margin.top+t];u=o?[0,d.max(g.util.sumArrays(g.util.arrayLast(n).r[0],g.util.arrayLast(r)))]:d.extent(g.util.flattenArray(n.map(function(a,b){return a.r}))),l.radialAxis.domain!=g.DATAEXTENT&&(u[0]=0),e=d.scale.linear().domain(l.radialAxis.domain!=g.DATAEXTENT&&l.radialAxis.domain?l.radialAxis.domain:u).range([0,t]),k.layout.radialAxis.domain=e.domain();var w,x=g.util.flattenArray(n.map(function(a,b){return a.t})),y="string"==typeof x[0];y&&(x=g.util.deduplicate(x),w=x.slice(),x=d.range(x.length),n=n.map(function(a,b){var c=a;return a.t=[x],o&&(c.yStack=a.yStack),c}));var z=n.filter(function(a,b){return"LinePlot"===a.geometry||"DotPlot"===a.geometry}).length===n.length,A=null===l.needsEndSpacing?y||!z:l.needsEndSpacing,B=l.angularAxis.domain&&l.angularAxis.domain!=g.DATAEXTENT&&!y&&l.angularAxis.domain[0]>=0,C=B?l.angularAxis.domain:d.extent(x),D=Math.abs(x[1]-x[0]);z&&!y&&(D=0);var E=C.slice();A&&y&&(E[1]+=D);var F=l.angularAxis.ticksCount||4;F>8&&(F=F/(F/8)+F%8),l.angularAxis.ticksStep&&(F=(E[1]-E[0])/F);var G=l.angularAxis.ticksStep||(E[1]-E[0])/(F*(l.minorTicks+1));w&&(G=Math.max(Math.round(G),1)),E[2]||(E[2]=G);var H=d.range.apply(this,E);if(H=H.map(function(a,b){return parseFloat(a.toPrecision(12))}),h=d.scale.linear().domain(E.slice(0,2)).range("clockwise"===l.direction?[0,360]:[360,0]),k.layout.angularAxis.domain=h.domain(),k.layout.angularAxis.endPadding=A?D:0,void 0===(b=d.select(this).select("svg.chart-root"))||b.empty()){var I=(new DOMParser).parseFromString("<svg xmlns='http://www.w3.org/2000/svg' class='chart-root'>' + '<g class='outer-group'>' + '<g class='chart-group'>' + '<circle class='background-circle'></circle>' + '<g class='geometry-group'></g>' + '<g class='radial axis-group'>' + '<circle class='outside-circle'></circle>' + '</g>' + '<g class='angular axis-group'></g>' + '<g class='guides-group'><line></line><circle r='0'></circle></g>' + '</g>' + '<g class='legend-group'></g>' + '<g class='tooltips-group'></g>' + '<g class='title-group'><text></text></g>' + '</g>' + '</svg>","application/xml"),J=this.appendChild(this.ownerDocument.importNode(I.documentElement,!0));b=d.select(J)}b.select(".guides-group").style({"pointer-events":"none"}),b.select(".angular.axis-group").style({"pointer-events":"none"}),b.select(".radial.axis-group").style({"pointer-events":"none"});var K,L=b.select(".chart-group"),M={fill:"none",stroke:l.tickColor},N={"font-size":l.font.size,"font-family":l.font.family,fill:l.font.color,"text-shadow":["-1px 0px","1px -1px","-1px 1px","1px 1px"].map(function(a,b){return" "+a+" 0 "+l.font.outlineColor}).join(",")};if(l.showLegend){K=b.select(".legend-group").attr({transform:"translate("+[t,l.margin.top]+")"}).style({display:"block"});var O=n.map(function(a,b){var c=g.util.cloneJson(a);return c.symbol="DotPlot"===a.geometry?a.dotType||"circle":"LinePlot"!=a.geometry?"square":"line",c.visibleInLegend=void 0===a.visibleInLegend||a.visibleInLegend,c.color="LinePlot"===a.geometry?a.strokeColor:a.color,c});g.Legend().config({data:n.map(function(a,b){return a.name||"Element"+b}),legendConfig:f({},g.Legend.defaultConfig().legendConfig,{container:K,elements:O,reverseOrder:l.legend.reverseOrder})})();var P=K.node().getBBox();t=Math.min(l.width-P.width-l.margin.left-l.margin.right,l.height-l.margin.top-l.margin.bottom)/2,t=Math.max(10,t),v=[l.margin.left+t,l.margin.top+t],e.range([0,t]),k.layout.radialAxis.domain=e.domain(),K.attr("transform","translate("+[v[0]+t,v[1]-t]+")")}else K=b.select(".legend-group").style({display:"none"});b.attr({width:l.width,height:l.height}).style({opacity:l.opacity}),L.attr("transform","translate("+v+")").style({cursor:"crosshair"});var Q=[(l.width-(l.margin.left+l.margin.right+2*t+(P?P.width:0)))/2,(l.height-(l.margin.top+l.margin.bottom+2*t))/2];if(Q[0]=Math.max(0,Q[0]),Q[1]=Math.max(0,Q[1]),b.select(".outer-group").attr("transform","translate("+Q+")"),l.title){var R=b.select("g.title-group text").style(N).text(l.title),S=R.node().getBBox();R.attr({x:v[0]-S.width/2,y:v[1]-t-20})}var T=b.select(".radial.axis-group");if(l.radialAxis.gridLinesVisible){var U=T.selectAll("circle.grid-circle").data(e.ticks(5));U.enter().append("circle").attr({"class":"grid-circle"}).style(M),U.attr("r",e),U.exit().remove()}T.select("circle.outside-circle").attr({r:t}).style(M);var V=b.select("circle.background-circle").attr({r:t}).style({fill:l.backgroundColor,stroke:l.stroke});if(l.radialAxis.visible){var W=d.svg.axis().scale(e).ticks(5).tickSize(5);T.call(W).attr({transform:"rotate("+l.radialAxis.orientation+")"}),T.selectAll(".domain").style(M),T.selectAll("g>text").text(function(a,b){return this.textContent+l.radialAxis.ticksSuffix}).style(N).style({"text-anchor":"start"}).attr({x:0,y:0,dx:0,dy:0,transform:function(a,b){return"horizontal"===l.radialAxis.tickOrientation?"rotate("+-l.radialAxis.orientation+") translate("+[0,N["font-size"]]+")":"translate("+[0,N["font-size"]]+")"}}),T.selectAll("g>line").style({stroke:"black"})}var X=b.select(".angular.axis-group").selectAll("g.angular-tick").data(H),Y=X.enter().append("g").classed("angular-tick",!0);X.attr({transform:function(a,b){return"rotate("+i(a,b)+")"}}).style({display:l.angularAxis.visible?"block":"none"}),X.exit().remove(),Y.append("line").classed("grid-line",!0).classed("major",function(a,b){return b%(l.minorTicks+1)==0}).classed("minor",function(a,b){return!(b%(l.minorTicks+1)==0)}).style(M),Y.selectAll(".minor").style({stroke:l.minorTickColor}),X.select("line.grid-line").attr({x1:l.tickLength?t-l.tickLength:0,x2:t}).style({display:l.angularAxis.gridLinesVisible?"block":"none"}),Y.append("text").classed("axis-text",!0).style(N);var Z=X.select("text.axis-text").attr({x:t+l.labelOffset,dy:".35em",transform:function(a,b){var c=i(a,b),d=t+l.labelOffset,e=l.angularAxis.tickOrientation;return"horizontal"==e?"rotate("+-c+" "+d+" 0)":"radial"==e?270>c&&c>90?"rotate(180 "+d+" 0)":null:"rotate("+(180>=c&&c>0?-90:90)+" "+d+" 0)"}}).style({"text-anchor":"middle",display:l.angularAxis.labelsVisible?"block":"none"}).text(function(a,b){return b%(l.minorTicks+1)!=0?"":w?w[a]+l.angularAxis.ticksSuffix:a+l.angularAxis.ticksSuffix}).style(N);l.angularAxis.rewriteTicks&&Z.text(function(a,b){return b%(l.minorTicks+1)!=0?"":l.angularAxis.rewriteTicks(this.textContent,b)});var $=d.max(L.selectAll(".angular-tick text")[0].map(function(a,b){return a.getCTM().e+a.getBBox().width}));K.attr({transform:"translate("+[t+$,l.margin.top]+")"});var _=b.select("g.geometry-group").selectAll("g").size()>0,aa=b.select("g.geometry-group").selectAll("g.geometry").data(n);
if(aa.enter().append("g").attr({"class":function(a,b){return"geometry geometry"+b}}),aa.exit().remove(),n[0]||_){var ba=[];n.forEach(function(a,b){var c={};c.radialScale=e,c.angularScale=h,c.container=aa.filter(function(a,c){return c==b}),c.geometry=a.geometry,c.orientation=l.orientation,c.direction=l.direction,c.index=b,ba.push({data:a,geometryConfig:c})});var ca=d.nest().key(function(a,b){return void 0!==a.data.groupId||"unstacked"}).entries(ba),da=[];ca.forEach(function(a,b){"unstacked"===a.key?da=da.concat(a.values.map(function(a,b){return[a]})):da.push(a.values)}),da.forEach(function(a,b){var c;c=Array.isArray(a)?a[0].geometryConfig.geometry:a.geometryConfig.geometry;var d=a.map(function(a,b){return f(g[c].defaultConfig(),a)});g[c]().config(d)()})}var ea,fa,ga=b.select(".guides-group"),ha=b.select(".tooltips-group"),ia=g.tooltipPanel().config({container:ha,fontSize:8})(),ja=g.tooltipPanel().config({container:ha,fontSize:8})(),ka=g.tooltipPanel().config({container:ha,hasTick:!0})();if(!y){var la=ga.select("line").attr({x1:0,y1:0,y2:0}).style({stroke:"grey","pointer-events":"none"});L.on("mousemove.angular-guide",function(a,b){var c=g.util.getMousePos(V).angle;la.attr({x2:-t,transform:"rotate("+c+")"}).style({opacity:.5});var d=(c+180+360-l.orientation)%360;ea=h.invert(d);var e=g.util.convertToCartesian(t+12,c+180);ia.text(g.util.round(ea)).move([e[0]+v[0],e[1]+v[1]])}).on("mouseout.angular-guide",function(a,b){ga.select("line").style({opacity:0})})}var ma=ga.select("circle").style({stroke:"grey",fill:"none"});L.on("mousemove.radial-guide",function(a,b){var c=g.util.getMousePos(V).radius;ma.attr({r:c}).style({opacity:.5}),fa=e.invert(g.util.getMousePos(V).radius);var d=g.util.convertToCartesian(c,l.radialAxis.orientation);ja.text(g.util.round(fa)).move([d[0]+v[0],d[1]+v[1]])}).on("mouseout.radial-guide",function(a,b){ma.style({opacity:0}),ka.hide(),ia.hide(),ja.hide()}),b.selectAll(".geometry-group .mark").on("mouseover.tooltip",function(a,c){var e=d.select(this),f=e.style("fill"),h="black",i=e.style("opacity")||1;if(e.attr({"data-opacity":i}),"none"!=f){e.attr({"data-fill":f}),h=d.hsl(f).darker().toString(),e.style({fill:h,opacity:1});var j={t:g.util.round(a[0]),r:g.util.round(a[1])};y&&(j.t=w[a[0]]);var k="t: "+j.t+", r: "+j.r,l=this.getBoundingClientRect(),m=b.node().getBoundingClientRect(),n=[l.left+l.width/2-Q[0]-m.left,l.top+l.height/2-Q[1]-m.top];ka.config({color:h}).text(k),ka.move(n)}else f=e.style("stroke"),e.attr({"data-stroke":f}),h=d.hsl(f).darker().toString(),e.style({stroke:h,opacity:1})}).on("mousemove.tooltip",function(a,b){return 0!=d.event.which?!1:void(d.select(this).attr("data-fill")&&ka.show())}).on("mouseout.tooltip",function(a,b){ka.hide();var c=d.select(this),e=c.attr("data-fill");e?c.style({fill:e,opacity:c.attr("data-opacity")}):c.style({stroke:c.attr("data-stroke"),opacity:c.attr("data-opacity")})})}),m}var b,c,e,h,i={data:[],layout:{}},j={},k={},l=d.dispatch("hover"),m={};return m.render=function(b){return a(b),this},m.config=function(a){if(!arguments.length)return i;var b=g.util.cloneJson(a);return b.data.forEach(function(a,b){i.data[b]||(i.data[b]={}),f(i.data[b],g.Axis.defaultConfig().data[0]),f(i.data[b],a)}),f(i.layout,g.Axis.defaultConfig().layout),f(i.layout,b.layout),this},m.getLiveConfig=function(){return k},m.getinputConfig=function(){return j},m.radialScale=function(a){return e},m.angularScale=function(a){return h},m.svg=function(){return b},d.rebind(m,l,"on"),m},g.Axis.defaultConfig=function(a,b){return{data:[{t:[1,2,3,4],r:[10,11,12,13],name:"Line1",geometry:"LinePlot",color:null,strokeDash:"solid",strokeColor:null,strokeSize:"1",visibleInLegend:!0,opacity:1}],layout:{defaultColorRange:d.scale.category10().range(),title:null,height:450,width:500,margin:{top:40,right:40,bottom:40,left:40},font:{size:12,color:"gray",outlineColor:"white",family:"Tahoma, sans-serif"},direction:"clockwise",orientation:0,labelOffset:10,radialAxis:{domain:null,orientation:-45,ticksSuffix:"",visible:!0,gridLinesVisible:!0,tickOrientation:"horizontal",rewriteTicks:null},angularAxis:{domain:[0,360],ticksSuffix:"",visible:!0,gridLinesVisible:!0,labelsVisible:!0,tickOrientation:"horizontal",rewriteTicks:null,ticksCount:null,ticksStep:null},minorTicks:0,tickLength:null,tickColor:"silver",minorTickColor:"#eee",backgroundColor:"none",needsEndSpacing:null,showLegend:!0,legend:{reverseOrder:!1},opacity:1}}},g.util={},g.DATAEXTENT="dataExtent",g.AREA="AreaChart",g.LINE="LinePlot",g.DOT="DotPlot",g.BAR="BarChart",g.util._override=function(a,b){for(var c in a)c in b&&(b[c]=a[c])},g.util._extend=function(a,b){for(var c in a)b[c]=a[c]},g.util._rndSnd=function(){return 2*Math.random()-1+(2*Math.random()-1)+(2*Math.random()-1)},g.util.dataFromEquation2=function(a,b){var c=b||6;return d.range(0,360+c,c).map(function(b,c){var d=b*Math.PI/180;return[b,a(d)]})},g.util.dataFromEquation=function(a,b,c){var e=b||6,f=[],g=[];d.range(0,360+e,e).forEach(function(b,c){var d=b*Math.PI/180,e=a(d);f.push(b),g.push(e)});var h={t:f,r:g};return c&&(h.name=c),h},g.util.ensureArray=function(a,b){if(void 0===a)return null;var c=[].concat(a);return d.range(b).map(function(a,b){return c[b]||c[0]})},g.util.fillArrays=function(a,b,c){return b.forEach(function(b,d){a[b]=g.util.ensureArray(a[b],c)}),a},g.util.cloneJson=function(a){return JSON.parse(JSON.stringify(a))},g.util.validateKeys=function(a,b){"string"==typeof b&&(b=b.split("."));var c=b.shift();return a[c]&&(!b.length||objHasKeys(a[c],b))},g.util.sumArrays=function(a,b){return d.zip(a,b).map(function(a,b){return d.sum(a)})},g.util.arrayLast=function(a){return a[a.length-1]},g.util.arrayEqual=function(a,b){for(var c=Math.max(a.length,b.length,1);c-->=0&&a[c]===b[c];);return-2===c},g.util.flattenArray=function(a){for(var b=[];!g.util.arrayEqual(b,a);)b=a,a=[].concat.apply([],a);return a},g.util.deduplicate=function(a){return a.filter(function(a,b,c){return c.indexOf(a)==b})},g.util.convertToCartesian=function(a,b){var c=b*Math.PI/180;return[a*Math.cos(c),a*Math.sin(c)]},g.util.round=function(a,b){var c=b||2,d=Math.pow(10,c);return Math.round(a*d)/d},g.util.getMousePos=function(a){var b=d.mouse(a.node()),c=b[0],e=b[1],f={};return f.x=c,f.y=e,f.pos=b,f.angle=180*(Math.atan2(e,c)+Math.PI)/Math.PI,f.radius=Math.sqrt(c*c+e*e),f},g.util.duplicatesCount=function(a){for(var b,c={},d={},e=0,f=a.length;f>e;e++)b=a[e],b in c?(c[b]++,d[b]=c[b]):c[b]=1;return d},g.util.duplicates=function(a){return Object.keys(g.util.duplicatesCount(a))},g.util.translator=function(a,b,c,d){if(d){var e=c.slice();c=b,b=e}var f=b.reduce(function(a,b){return void 0!==a?a[b]:void 0},a);void 0!==f&&(b.reduce(function(a,c,d){return void 0!==a?(d===b.length-1&&delete a[c],a[c]):void 0},a),c.reduce(function(a,b,d){return void 0===a[b]&&(a[b]={}),d===c.length-1&&(a[b]=f),a[b]},a))},g.PolyChart=function(){function a(){var a=b[0].geometryConfig,c=a.container;"string"==typeof c&&(c=d.select(c)),c.datum(b).each(function(b,c){function f(b,c){return{r:a.radialScale(b[1]),t:(a.angularScale(b[0])+a.orientation)*Math.PI/180}}function g(a){return{x:a.r*Math.cos(a.t),y:a.r*Math.sin(a.t)}}var h=!!b[0].data.yStack,i=b.map(function(a,b){return h?d.zip(a.data.t[0],a.data.r[0],a.data.yStack[0]):d.zip(a.data.t[0],a.data.r[0])}),j=a.angularScale,k=a.radialScale.domain()[0],l={};l.bar=function(c,e,f){var g=b[f].data,h=a.radialScale(c[1])-a.radialScale(0),i=a.radialScale(c[2]||0),k=g.barWidth;d.select(this).attr({"class":"mark bar",d:"M"+[[h+i,-k/2],[h+i,k/2],[i,k/2],[i,-k/2]].join("L")+"Z",transform:function(b,c){return"rotate("+(a.orientation+j(b[0]))+")"}})},l.dot=function(a,c,e){var h=a[2]?[a[0],a[1]+a[2]]:a,i=d.svg.symbol().size(b[e].data.dotSize).type(b[e].data.dotType)(a,c);d.select(this).attr({"class":"mark dot",d:i,transform:function(a,b){var c=g(f(h));return"translate("+[c.x,c.y]+")"}})};var m=d.svg.line.radial().interpolate(b[0].data.lineInterpolation).radius(function(b){return a.radialScale(b[1])}).angle(function(b){return a.angularScale(b[0])*Math.PI/180});l.line=function(c,e,f){var g=c[2]?i[f].map(function(a,b){return[a[0],a[1]+a[2]]}):i[f];if(d.select(this).each(l.dot).style({opacity:function(a,c){return+b[f].data.dotVisible},fill:q.stroke(c,e,f)}).attr({"class":"mark dot"}),!(e>0)){var h=d.select(this.parentNode).selectAll("path.line").data([0]);h.enter().insert("path"),h.attr({"class":"line",d:m(g),transform:function(b,c){return"rotate("+(a.orientation+90)+")"},"pointer-events":"none"}).style({fill:function(a,b){return q.fill(c,e,f)},"fill-opacity":0,stroke:function(a,b){return q.stroke(c,e,f)},"stroke-width":function(a,b){return q["stroke-width"](c,e,f)},"stroke-dasharray":function(a,b){return q["stroke-dasharray"](c,e,f)},opacity:function(a,b){return q.opacity(c,e,f)},display:function(a,b){return q.display(c,e,f)}})}};var n=a.angularScale.range(),o=Math.abs(n[1]-n[0])/i[0].length*Math.PI/180,p=d.svg.arc().startAngle(function(a){return-o/2}).endAngle(function(a){return o/2}).innerRadius(function(b){return a.radialScale(k+(b[2]||0))}).outerRadius(function(b){return a.radialScale(k+(b[2]||0))+a.radialScale(b[1])});l.arc=function(b,c,e){d.select(this).attr({"class":"mark arc",d:p,transform:function(b,c){return"rotate("+(a.orientation+j(b[0])+90)+")"}})};var q={fill:function(a,c,d){return b[d].data.color},stroke:function(a,c,d){return b[d].data.strokeColor},"stroke-width":function(a,c,d){return b[d].data.strokeSize+"px"},"stroke-dasharray":function(a,c,d){return e[b[d].data.strokeDash]},opacity:function(a,c,d){return b[d].data.opacity},display:function(a,c,d){return void 0===b[d].data.visible||b[d].data.visible?"block":"none"}},r=d.select(this).selectAll("g.layer").data(i);r.enter().append("g").attr({"class":"layer"});var s=r.selectAll("path.mark").data(function(a,b){return a});s.enter().append("path").attr({"class":"mark"}),s.style(q).each(l[a.geometryType]),s.exit().remove(),r.exit().remove()})}var b=[g.PolyChart.defaultConfig()],c=d.dispatch("hover"),e={solid:"none",dash:[5,2],dot:[2,5]};return a.config=function(a){return arguments.length?(a.forEach(function(a,c){b[c]||(b[c]={}),f(b[c],g.PolyChart.defaultConfig()),f(b[c],a)}),this):b},a.getColorScale=function(){},d.rebind(a,c,"on"),a},g.PolyChart.defaultConfig=function(){return{data:{name:"geom1",t:[[1,2,3,4]],r:[[1,2,3,4]],dotType:"circle",dotSize:64,dotVisible:!1,barWidth:20,color:"#ffa500",strokeSize:1,strokeColor:"silver",strokeDash:"solid",opacity:1,index:0,visible:!0,visibleInLegend:!0},geometryConfig:{geometry:"LinePlot",geometryType:"arc",direction:"clockwise",orientation:0,container:"body",radialScale:null,angularScale:null,colorScale:d.scale.category20()}}},g.BarChart=function(){return g.PolyChart()},g.BarChart.defaultConfig=function(){return{geometryConfig:{geometryType:"bar"}}},g.AreaChart=function(){return g.PolyChart()},g.AreaChart.defaultConfig=function(){return{geometryConfig:{geometryType:"arc"}}},g.DotPlot=function(){return g.PolyChart()},g.DotPlot.defaultConfig=function(){return{geometryConfig:{geometryType:"dot",dotType:"circle"}}},g.LinePlot=function(){return g.PolyChart()},g.LinePlot.defaultConfig=function(){return{geometryConfig:{geometryType:"line"}}},g.Legend=function(){function a(){var c=b.legendConfig,e=b.data.map(function(a,b){return[].concat(a).map(function(a,d){var e=f({},c.elements[b]);return e.name=a,e.color=[].concat(c.elements[b].color)[d],e})}),g=d.merge(e);g=g.filter(function(a,b){return c.elements[b]&&(c.elements[b].visibleInLegend||void 0===c.elements[b].visibleInLegend)}),c.reverseOrder&&(g=g.reverse());var h=c.container;("string"==typeof h||h.nodeName)&&(h=d.select(h));var i=g.map(function(a,b){return a.color}),j=c.fontSize,k=null==c.isContinuous?"number"==typeof g[0]:c.isContinuous,l=k?c.height:j*g.length,m=h.classed("legend-group",!0),n=m.selectAll("svg").data([0]),o=n.enter().append("svg").attr({width:300,height:l+j,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"});o.append("g").classed("legend-axis",!0),o.append("g").classed("legend-marks",!0);var p=d.range(g.length),q=d.scale[k?"linear":"ordinal"]().domain(p).range(i),r=d.scale[k?"linear":"ordinal"]().domain(p)[k?"range":"rangePoints"]([0,l]),s=function(a,b){var c=3*b;return"line"===a?"M"+[[-b/2,-b/12],[b/2,-b/12],[b/2,b/12],[-b/2,b/12]]+"Z":-1!=d.svg.symbolTypes.indexOf(a)?d.svg.symbol().type(a).size(c)():d.svg.symbol().type("square").size(c)()};if(k){var t=n.select(".legend-marks").append("defs").append("linearGradient").attr({id:"grad1",x1:"0%",y1:"0%",x2:"0%",y2:"100%"}).selectAll("stop").data(i);t.enter().append("stop"),t.attr({offset:function(a,b){return b/(i.length-1)*100+"%"}}).style({"stop-color":function(a,b){return a}}),n.append("rect").classed("legend-mark",!0).attr({height:c.height,width:c.colorBandWidth,fill:"url(#grad1)"})}else{var u=n.select(".legend-marks").selectAll("path.legend-mark").data(g);u.enter().append("path").classed("legend-mark",!0),u.attr({transform:function(a,b){return"translate("+[j/2,r(b)+j/2]+")"},d:function(a,b){var c=a.symbol;return s(c,j)},fill:function(a,b){return q(b)}}),u.exit().remove()}var v=d.svg.axis().scale(r).orient("right"),w=n.select("g.legend-axis").attr({transform:"translate("+[k?c.colorBandWidth:j,j/2]+")"}).call(v);return w.selectAll(".domain").style({fill:"none",stroke:"none"}),w.selectAll("line").style({fill:"none",stroke:k?c.textColor:"none"}),w.selectAll("text").style({fill:c.textColor,"font-size":c.fontSize}).text(function(a,b){return g[b].name}),a}var b=g.Legend.defaultConfig(),c=d.dispatch("hover");return a.config=function(a){return arguments.length?(f(b,a),this):b},d.rebind(a,c,"on"),a},g.Legend.defaultConfig=function(a,b){return{data:["a","b","c"],legendConfig:{elements:[{symbol:"line",color:"red"},{symbol:"square",color:"yellow"},{symbol:"diamond",color:"limegreen"}],height:150,colorBandWidth:30,fontSize:12,container:"body",isContinuous:null,textColor:"grey",reverseOrder:!1}}},g.tooltipPanel=function(){var a,b,c,e={container:null,hasTick:!1,fontSize:12,color:"white",padding:5},h="tooltip-"+g.tooltipPanel.uid++,i=function j(){a=e.container.selectAll("g."+h).data([0]);var d=a.enter().append("g").classed(h,!0).style({"pointer-events":"none",display:"none"});return c=d.append("path").style({fill:"white","fill-opacity":.9}).attr({d:"M0 0"}),b=d.append("text").attr({dx:e.padding+10,dy:.3*+e.fontSize}),j};return i.text=function(f){var g=d.hsl(e.color).l,h=g>=.5?"#aaa":"white",j=g>=.5?"black":"white",k=f||"";b.style({fill:j,"font-size":e.fontSize+"px"}).text(k);var l=e.padding,m=b.node().getBBox(),n={fill:e.color,stroke:h,"stroke-width":"2px"},o=m.width+2*l+10,p=m.height+2*l;return c.attr({d:"M"+[[10,-p/2],[10,-p/4],[e.hasTick?0:10,0],[10,p/4],[10,p/2],[o,p/2],[o,-p/2]].join("L")+"Z"}).style(n),a.attr({transform:"translate("+[10,-p/2+2*l]+")"}),a.style({display:"block"}),i},i.move=function(b){return a?(a.attr({transform:"translate("+[b[0],b[1]]+")"}).style({display:"block"}),i):void 0},i.hide=function(){return a?(a.style({display:"none"}),i):void 0},i.show=function(){return a?(a.style({display:"block"}),i):void 0},i.config=function(a){return f(e,a),i},i},g.tooltipPanel.uid=1,g.adapter={},g.adapter.plotly=function(){var a={};return a.convert=function(a,b){var c={};if(a.data&&(c.data=a.data.map(function(a,c){var d=f({},a);return[[d,["marker","color"],["color"]],[d,["marker","opacity"],["opacity"]],[d,["marker","line","color"],["strokeColor"]],[d,["marker","line","dash"],["strokeDash"]],[d,["marker","line","width"],["strokeSize"]],[d,["marker","symbol"],["dotType"]],[d,["marker","size"],["dotSize"]],[d,["marker","barWidth"],["barWidth"]],[d,["line","interpolation"],["lineInterpolation"]],[d,["showlegend"],["visibleInLegend"]]].forEach(function(a,c){g.util.translator.apply(null,a.concat(b))}),b||delete d.marker,b&&delete d.groupId,b?("LinePlot"===d.geometry?(d.type="scatter",!0===d.dotVisible?(delete d.dotVisible,d.mode="lines+markers"):d.mode="lines"):"DotPlot"===d.geometry?(d.type="scatter",d.mode="markers"):"AreaChart"===d.geometry?d.type="area":"BarChart"===d.geometry&&(d.type="bar"),delete d.geometry):("scatter"===d.type?"lines"===d.mode?d.geometry="LinePlot":"markers"===d.mode?d.geometry="DotPlot":"lines+markers"===d.mode&&(d.geometry="LinePlot",d.dotVisible=!0):"area"===d.type?d.geometry="AreaChart":"bar"===d.type&&(d.geometry="BarChart"),delete d.mode,delete d.type),d}),!b&&a.layout&&"stack"===a.layout.barmode)){var e=g.util.duplicates(c.data.map(function(a,b){return a.geometry}));c.data.forEach(function(a,b){var d=e.indexOf(a.geometry);-1!=d&&(c.data[b].groupId=d)})}if(a.layout){var h=f({},a.layout);if([[h,["plot_bgcolor"],["backgroundColor"]],[h,["showlegend"],["showLegend"]],[h,["radialaxis"],["radialAxis"]],[h,["angularaxis"],["angularAxis"]],[h.angularaxis,["showline"],["gridLinesVisible"]],[h.angularaxis,["showticklabels"],["labelsVisible"]],[h.angularaxis,["nticks"],["ticksCount"]],[h.angularaxis,["tickorientation"],["tickOrientation"]],[h.angularaxis,["ticksuffix"],["ticksSuffix"]],[h.angularaxis,["range"],["domain"]],[h.angularaxis,["endpadding"],["endPadding"]],[h.radialaxis,["showline"],["gridLinesVisible"]],[h.radialaxis,["tickorientation"],["tickOrientation"]],[h.radialaxis,["ticksuffix"],["ticksSuffix"]],[h.radialaxis,["range"],["domain"]],[h.angularAxis,["showline"],["gridLinesVisible"]],[h.angularAxis,["showticklabels"],["labelsVisible"]],[h.angularAxis,["nticks"],["ticksCount"]],[h.angularAxis,["tickorientation"],["tickOrientation"]],[h.angularAxis,["ticksuffix"],["ticksSuffix"]],[h.angularAxis,["range"],["domain"]],[h.angularAxis,["endpadding"],["endPadding"]],[h.radialAxis,["showline"],["gridLinesVisible"]],[h.radialAxis,["tickorientation"],["tickOrientation"]],[h.radialAxis,["ticksuffix"],["ticksSuffix"]],[h.radialAxis,["range"],["domain"]],[h.font,["outlinecolor"],["outlineColor"]],[h.legend,["traceorder"],["reverseOrder"]],[h,["labeloffset"],["labelOffset"]],[h,["defaultcolorrange"],["defaultColorRange"]]].forEach(function(a,c){g.util.translator.apply(null,a.concat(b))}),b?(void 0!==h.tickLength&&(h.angularaxis.ticklen=h.tickLength,delete h.tickLength),h.tickColor&&(h.angularaxis.tickcolor=h.tickColor,delete h.tickColor)):(h.angularAxis&&void 0!==h.angularAxis.ticklen&&(h.tickLength=h.angularAxis.ticklen),h.angularAxis&&void 0!==h.angularAxis.tickcolor&&(h.tickColor=h.angularAxis.tickcolor)),h.legend&&"boolean"!=typeof h.legend.reverseOrder&&(h.legend.reverseOrder="normal"!=h.legend.reverseOrder),h.legend&&"boolean"==typeof h.legend.traceorder&&(h.legend.traceorder=h.legend.traceorder?"reversed":"normal",delete h.legend.reverseOrder),h.margin&&void 0!==h.margin.t){var i=["t","r","b","l","pad"],j=["top","right","bottom","left","pad"],k={};d.entries(h.margin).forEach(function(a,b){k[j[i.indexOf(a.key)]]=a.value}),h.margin=k}b&&(delete h.needsEndSpacing,delete h.minorTickColor,delete h.minorTicks,delete h.angularaxis.ticksCount,delete h.angularaxis.ticksCount,delete h.angularaxis.ticksStep,delete h.angularaxis.rewriteTicks,delete h.angularaxis.nticks,delete h.radialaxis.ticksCount,delete h.radialaxis.ticksCount,delete h.radialaxis.ticksStep,delete h.radialaxis.rewriteTicks,delete h.radialaxis.nticks),c.layout=h}return c},a}},{"../../lib":645,d3:256}],713:[function(a,b,c){"use strict";var d=a("d3"),e=a("../../lib"),f=a("../../components/color"),g=a("./micropolar"),h=a("./undo_manager"),i=e.extendDeepAll,j=b.exports={};j.framework=function(a){function b(b,e){return e&&(l=e),d.select(d.select(l).node().parentNode).selectAll(".svg-container>*:not(.chart-root)").remove(),c=c?i(c,b):b,f||(f=g.Axis()),k=g.adapter.plotly().convert(c),f.config(k).render(l),a.data=c.data,a.layout=c.layout,j.fillLayout(a),c}var c,e,f,k,l,m=new h;return b.isPolar=!0,b.svg=function(){return f.svg()},b.getConfig=function(){return c},b.getLiveConfig=function(){return g.adapter.plotly().convert(f.getLiveConfig(),!0)},b.getLiveScales=function(){return{t:f.angularScale(),r:f.radialScale()}},b.setUndoPoint=function(){var a=this,b=g.util.cloneJson(c);!function(b,c){m.add({undo:function(){c&&a(c)},redo:function(){a(b)}})}(b,e),e=g.util.cloneJson(b)},b.undo=function(){m.undo()},b.redo=function(){m.redo()},b},j.fillLayout=function(a){var b=d.select(a).selectAll(".plot-container"),c=b.selectAll(".svg-container"),e=a.framework&&a.framework.svg&&a.framework.svg(),g={width:800,height:600,paper_bgcolor:f.background,_container:b,_paperdiv:c,_paper:e};a._fullLayout=i(g,a.layout)}},{"../../components/color":534,"../../lib":645,"./micropolar":712,"./undo_manager":714,d3:256}],714:[function(a,b,c){"use strict";b.exports=function(){function a(a,b){return a?(e=!0,a[b](),e=!1,this):this}var b,c=[],d=-1,e=!1;return{add:function(a){return e?this:(c.splice(d+1,c.length-d),c.push(a),d=c.length-1,this)},setCallback:function(a){b=a},undo:function(){var e=c[d];return e?(a(e,"undo"),d-=1,b&&b(e.undo),this):this},redo:function(){var e=c[d+1];return e?(a(e,"redo"),d+=1,b&&b(e.redo),this):this},clear:function(){c=[],d=-1},hasUndo:function(){return-1!==d},hasRedo:function(){return d<c.length-1},getCommands:function(){return c},getPreviousCommand:function(){return c[d-1]},getIndex:function(){return d}}}},{}],715:[function(a,b,c){"use strict";function d(a){if(a.layoutAttributes){var b=a.layoutAttributes._arrayAttrRegexps;if(b)for(var d=0;d<b.length;d++)h(c.layoutArrayRegexes,b[d])}}function e(a){return"object"===(void 0===a?"undefined":_typeof(a))&&(a=a.type),a}var f=a("./lib/loggers"),g=a("./lib/noop"),h=a("./lib/push_unique"),i=a("./plots/attributes");c.modules={},c.allCategories={},c.allTypes=[],c.subplotsRegistry={},c.transformsRegistry={},c.componentsRegistry={},c.layoutArrayContainers=[],c.layoutArrayRegexes=[],c.register=function(a,b,d,e){if(c.modules[b])return void f.log("Type "+b+" already registered");for(var g={},h=0;h<d.length;h++)g[d[h]]=!0,c.allCategories[d[h]]=!0;c.modules[b]={_module:a,categories:g},e&&Object.keys(e).length&&(c.modules[b].meta=e),c.allTypes.push(b)},c.registerSubplot=function(a){var b=a.name;return c.subplotsRegistry[b]?void f.log("Plot type "+b+" already registered."):(d(a),void(c.subplotsRegistry[b]=a))},c.registerComponent=function(a){var b=a.name;c.componentsRegistry[b]=a,a.layoutAttributes&&(a.layoutAttributes._isLinkedToArray&&h(c.layoutArrayContainers,b),d(a))},c.getModule=function(a){if(void 0!==a.r)return f.warn("Tried to put a polar trace on an incompatible graph of cartesian data. Ignoring this dataset.",a),!1;var b=c.modules[e(a)];return!!b&&b._module},c.traceIs=function(a,b){if("various"===(a=e(a)))return!1;var d=c.modules[a];return d||(a&&"area"!==a&&f.log("Unrecognized trace type "+a+"."),d=c.modules[i.type.dflt]),!!d.categories[b]},c.getComponentMethod=function(a,b){var d=c.componentsRegistry[a];return d?d[b]||g:g}},{"./lib/loggers":648,"./lib/noop":652,"./lib/push_unique":656,"./plots/attributes":678}],716:[function(a,b,c){"use strict";function d(a){var b;switch(a){case"themes__thumb":b={autosize:!0,width:150,height:150,title:"",showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":b={title:"",hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:b={}}return b}function e(a){return["xaxis","yaxis","zaxis"].indexOf(a.slice(0,5))>-1}var f=a("../lib"),g=a("../plots/plots"),h=f.extendFlat,i=f.extendDeep;b.exports=function(a,b){a.framework&&a.framework.isPolar&&(a=a.framework.getConfig());var c,f=a.data,j=a.layout,k=i([],f),l=i({},j,d(b.tileClass)),m=a._context||{};if(b.width&&(l.width=b.width),b.height&&(l.height=b.height),"thumbnail"===b.tileClass||"themes__thumb"===b.tileClass){l.annotations=[];var n=Object.keys(l);for(c=0;c<n.length;c++)e(n[c])&&(l[n[c]].title="");for(c=0;c<k.length;c++){var o=k[c];o.showscale=!1,o.marker&&(o.marker.showscale=!1),"pie"===o.type&&(o.textposition="none")}}if(Array.isArray(b.annotations))for(c=0;c<b.annotations.length;c++)l.annotations.push(b.annotations[c]);var p=g.getSubplotIds(l,"gl3d");if(p.length){var q={};for("thumbnail"===b.tileClass&&(q={title:"",showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),c=0;c<p.length;c++){var r=l[p[c]];r.xaxis||(r.xaxis={}),r.yaxis||(r.yaxis={}),r.zaxis||(r.zaxis={}),h(r.xaxis,q),h(r.yaxis,q),h(r.zaxis,q),r._scene=null}}var s=document.createElement("div");b.tileClass&&(s.className=b.tileClass);var t={gd:s,td:s,layout:l,data:k,config:{staticPlot:void 0===b.staticPlot||b.staticPlot,plotGlPixelRatio:void 0===b.plotGlPixelRatio?2:b.plotGlPixelRatio,displaylogo:b.displaylogo||!1,showLink:b.showLink||!1,showTips:b.showTips||!1,mapboxAccessToken:m.mapboxAccessToken}};return"transparent"!==b.setBackground&&(t.config.setBackground=b.setBackground||"opaque"),t.gd.defaultLayout=d(b.tileClass),t}},{"../lib":645,"../plots/plots":708}],717:[function(a,b,c){"use strict";function d(a,b){return b=b||{},b.format=b.format||"png",new Promise(function(c,d){a._snapshotInProgress&&d(new Error("Snapshotting already in progress.")),f.isIE()&&"svg"!==b.format&&d(new Error("Sorry IE does not support downloading from canvas. Try {format:'svg'} instead.")),a._snapshotInProgress=!0;var h=e(a,b),i=b.filename||a.fn||"newplot";i+="."+b.format,h.then(function(b){return a._snapshotInProgress=!1,g(b,i)}).then(function(a){c(a)})["catch"](function(b){a._snapshotInProgress=!1,d(b)})})}var e=a("../plot_api/to_image"),f=a("../lib"),g=a("./filesaver");b.exports=d},{"../lib":645,"../plot_api/to_image":673,"./filesaver":718}],718:[function(a,b,c){"use strict";var d=function(a,b){var c=document.createElement("a"),d="download"in c,e=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent);return new Promise(function(f,g){"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent)&&g(new Error("IE < 10 unsupported")),e&&(document.location.href="data:application/octet-stream"+a.slice(a.search(/[,;]/)),f(b)),b||(b="download"),d&&(c.href=a,c.download=b,document.body.appendChild(c),c.click(),document.body.removeChild(c),f(b)),"undefined"!=typeof navigator&&navigator.msSaveBlob&&(navigator.msSaveBlob(new Blob([a]),b),f(b)),g(new Error("download error"))})};b.exports=d},{}],719:[function(a,b,c){"use strict";c.getDelay=function(a){return a._has&&(a._has("gl3d")||a._has("gl2d"))?500:0},c.getRedrawFunc=function(a){return a.data&&a.data[0]&&a.data[0].r?void 0:function(){(a.calcdata||[]).forEach(function(a){a[0]&&a[0].t&&a[0].t.cb&&a[0].t.cb()})}}},{}],720:[function(a,b,c){"use strict";var d=a("./helpers"),e={getDelay:d.getDelay,getRedrawFunc:d.getRedrawFunc,clone:a("./cloneplot"),toSVG:a("./tosvg"),svgToImg:a("./svgtoimg"),toImage:a("./toimage"),downloadImage:a("./download")};b.exports=e},{"./cloneplot":716,"./download":717,"./helpers":719,"./svgtoimg":721,"./toimage":722,"./tosvg":723}],721:[function(a,b,c){"use strict";function d(a){var b=a.emitter||new f,c=new Promise(function(d,f){var g=window.Image,h=a.svg,i=a.format||"png";if(e.isIE()&&(h=h.replace(/"/gi,"'"),h=h.replace(/(\('#)(.*)('\))/gi,'("$2")'),h=h.replace(/(\\')/gi,'"'),"svg"!==i)){var j=new Error("Sorry IE does not support downloading from canvas. Try {format:'svg'} instead.");return f(j),a.promise?c:b.emit("error",j)}var k=a.canvas,l=k.getContext("2d"),m=new g,n="data:image/svg+xml,"+encodeURIComponent(h);k.height=a.height||150,k.width=a.width||300,m.onload=function(){var c;switch("svg"!==i&&l.drawImage(m,0,0),i){case"jpeg":c=k.toDataURL("image/jpeg");break;case"png":c=k.toDataURL("image/png");break;case"webp":c=k.toDataURL("image/webp");break;case"svg":c=n;break;default:if(f(new Error("Image format is not jpeg, png or svg")),!a.promise)return b.emit("error","Image format is not jpeg, png or svg")}d(c),a.promise||b.emit("success",c)},m.onerror=function(c){return f(c),a.promise?void 0:b.emit("error",c)},m.src=n});return a.promise?c:b}var e=a("../lib"),f=a("events").EventEmitter;b.exports=d},{"../lib":645,events:258}],722:[function(a,b,c){"use strict";function d(a,b){function c(){var a=h.getDelay(m._fullLayout);setTimeout(function(){var a=j(m),c=document.createElement("canvas");c.id=g.randstr(),d=k({format:b.format,width:m._fullLayout.width,height:m._fullLayout.height,canvas:c,emitter:d,svg:a}),d.clean=function(){m&&document.body.removeChild(m)}},a)}var d=new e,l=i(a,{format:"png"}),m=l.gd;m.style.position="absolute",m.style.left="-5000px",document.body.appendChild(m);var n=h.getRedrawFunc(m);return f.plot(m,l.data,l.layout,l.config).then(n).then(c)["catch"](function(a){d.emit("error",a)}),d}var e=a("events").EventEmitter,f=a("../plotly"),g=a("../lib"),h=a("./helpers"),i=a("./cloneplot"),j=a("./tosvg"),k=a("./svgtoimg");b.exports=d},{"../lib":645,"../plotly":675,"./cloneplot":716,"./helpers":719,"./svgtoimg":721,"./tosvg":723,events:258}],723:[function(a,b,c){"use strict";var d=a("d3"),e=a("../lib/svg_text_utils"),f=a("../components/drawing"),g=a("../components/color"),h=a("../constants/xmlns_namespaces");b.exports=function(a,b){var c,i=a._fullLayout,j=i._paper,k=i._toppaper;j.insert("rect",":first-child").call(f.setRect,0,0,i.width,i.height).call(g.fill,i.paper_bgcolor);var l=i._basePlotModules||[];for(c=0;c<l.length;c++){var m=l[c];m.toSVG&&m.toSVG(a)}if(k){var n=k.node().childNodes,o=Array.prototype.slice.call(n);for(c=0;c<o.length;c++){var p=o[c];p.childNodes.length&&j.node().appendChild(p)}}i._draggers&&i._draggers.remove(),j.node().style.background="",j.selectAll("text").attr("data-unformatted",null).each(function(){var a=d.select(this);if("hidden"===a.style("visibility"))return void a.remove();a.style("visibility","visible");var b=a.style("font-family");b&&-1!==b.indexOf('"')&&a.style("font-family",b.replace(/"/g,"TOBESTRIPPED"))}),"pdf"!==b&&"eps"!==b||j.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),j.node().setAttributeNS(h.xmlns,"xmlns",h.svg),j.node().setAttributeNS(h.xmlns,"xmlns:xlink",h.xlink);var q=(new window.XMLSerializer).serializeToString(j.node());return q=e.html_entity_decode(q),q=e.xml_entity_encode(q),q=q.replace(/("TOBESTRIPPED)|(TOBESTRIPPED")/g,"'")}},{"../components/color":534,"../components/drawing":558,"../constants/xmlns_namespaces":633,"../lib/svg_text_utils":662,d3:256}],724:[function(a,b,c){"use strict";var d=a("../../lib").mergeArray;b.exports=function(a,b){d(b.text,a,"tx"),d(b.hovertext,a,"htx");var c=b.marker;if(c){d(c.opacity,a,"mo"),d(c.color,a,"mc");var e=c.line;e&&(d(e.color,a,"mlc"),d(e.width,a,"mlw"))}}},{"../../lib":645}],725:[function(a,b,c){"use strict";var d=a("../scatter/attributes"),e=a("../../components/colorscale/color_attributes"),f=a("../../components/errorbars/attributes"),g=a("../../components/colorbar/attributes"),h=a("../../plots/font_attributes"),i=a("../../lib/extend").extendFlat,j=a("../../lib/extend").extendDeep,k=j({},h);k.family.arrayOk=!0,k.size.arrayOk=!0,k.color.arrayOk=!0;var l=d.marker,m=l.line,n=i({},m.width,{dflt:0}),o=i({},{width:n},e("marker.line")),p=i({},{line:o},e("marker"),{showscale:l.showscale,colorbar:g});b.exports={x:d.x,x0:d.x0,dx:d.dx,y:d.y,y0:d.y0,dy:d.dy,text:d.text,hovertext:d.hovertext,textposition:{valType:"enumerated",role:"info",values:["inside","outside","auto","none"],dflt:"none",arrayOk:!0,description:["Specifies the location of the `text`.","*inside* positions `text` inside, next to the bar end","(rotated and scaled if needed).","*outside* positions `text` outside, next to the bar end","(scaled if needed).","*auto* positions `text` inside or outside","so that `text` size is maximized."].join(" ")},textfont:i({},k,{description:"Sets the font used for `text`."}),insidetextfont:i({},k,{description:"Sets the font used for `text` lying inside the bar."}),outsidetextfont:i({},k,{description:"Sets the font used for `text` lying outside the bar."}),orientation:{valType:"enumerated",role:"info",values:["v","h"],description:["Sets the orientation of the bars.","With *v* (*h*), the value of the each bar spans","along the vertical (horizontal)."].join(" ")},base:{valType:"any",dflt:null,arrayOk:!0,role:"info",description:["Sets where the bar base is drawn (in position axis units).","In *stack* or *relative* barmode,","traces that set *base* will be excluded","and drawn in *overlay* mode instead."].join(" ")
},offset:{valType:"number",dflt:null,arrayOk:!0,role:"info",description:["Shifts the position where the bar is drawn","(in position axis units).","In *group* barmode,","traces that set *offset* will be excluded","and drawn in *overlay* mode instead."].join(" ")},width:{valType:"number",dflt:null,min:0,arrayOk:!0,role:"info",description:["Sets the bar width (in position axis units)."].join(" ")},marker:p,r:d.r,t:d.t,error_y:f,error_x:f,_deprecated:{bardir:{valType:"enumerated",role:"info",values:["v","h"],description:"Renamed to `orientation`."}}}},{"../../components/colorbar/attributes":535,"../../components/colorscale/color_attributes":541,"../../components/errorbars/attributes":560,"../../lib/extend":641,"../../plots/font_attributes":704,"../scatter/attributes":749}],726:[function(a,b,c){"use strict";var d=a("fast-isnumeric"),e=a("../../plots/cartesian/axes"),f=a("../../components/colorscale/has_colorscale"),g=a("../../components/colorscale/calc"),h=a("./arrays_to_calcdata");b.exports=function(a,b){var c,i,j,k,l,m=e.getFromId(a,b.xaxis||"x"),n=e.getFromId(a,b.yaxis||"y"),o=b.orientation||(b.x&&!b.y?"h":"v");"h"===o?(c=m,j=m.makeCalcdata(b,"x"),i=n.makeCalcdata(b,"y"),l=b.xcalendar):(c=n,j=n.makeCalcdata(b,"y"),i=m.makeCalcdata(b,"x"),l=b.ycalendar);var p=Math.min(i.length,j.length),q=new Array(p);for(k=0;p>k;k++)q[k]={p:i[k],s:j[k]};var r,s=b.base;if(Array.isArray(s)){for(k=0;k<Math.min(s.length,q.length);k++)r=c.d2c(s[k],0,l),q[k].b=d(r)?r:0;for(;k<q.length;k++)q[k].b=0}else for(r=c.d2c(s,0,l),r=d(r)?r:0,k=0;k<q.length;k++)q[k].b=r;return f(b,"marker")&&g(b,b.marker.color,"marker","c"),f(b,"marker.line")&&g(b,b.marker.line.color,"marker.line","c"),h(q,b),q}},{"../../components/colorscale/calc":540,"../../components/colorscale/has_colorscale":547,"../../plots/cartesian/axes":680,"./arrays_to_calcdata":724,"fast-isnumeric":259}],727:[function(a,b,c){"use strict";var d=a("../../lib"),e=a("../../components/color"),f=a("../scatter/xy_defaults"),g=a("../bar/style_defaults"),h=a("../../components/errorbars/defaults"),i=a("./attributes");b.exports=function(a,b,c,j){function k(c,e){return d.coerce(a,b,i,c,e)}var l=d.coerceFont;if(!f(a,b,j,k))return void(b.visible=!1);k("orientation",b.x&&!b.y?"h":"v"),k("base"),k("offset"),k("width"),k("text"),k("hovertext");var m=k("textposition"),n=Array.isArray(m)||"auto"===m,o=n||"inside"===m,p=n||"outside"===m;if(o||p){var q=l(k,"textfont",j.font);o&&l(k,"insidetextfont",q),p&&l(k,"outsidetextfont",q)}g(a,b,k,c,j),h(a,b,e.defaultLine,{axis:"y"}),h(a,b,e.defaultLine,{axis:"x",inherit:"y"})}},{"../../components/color":534,"../../components/errorbars/defaults":563,"../../lib":645,"../bar/style_defaults":736,"../scatter/xy_defaults":771,"./attributes":725}],728:[function(a,b,c){"use strict";var d=a("../../components/fx"),e=a("../../components/errorbars"),f=a("../../components/color");b.exports=function(a,b,c,g){var h,i,j,k,l,m,n,o=a.cd,p=o[0].trace,q=o[0].t,r=a.xa,s=a.ya,t=function(a){return d.inbox(k(a)-h,l(a)-h)};"h"===p.orientation?(h=c,i=function(a){return a.y-a.w/2},j=function(a){return a.y+a.w/2},m=function(a){return d.inbox(a.b-b,a.x-b)+(a.x-b)/(a.x-a.b)},n=t):(h=b,i=function(a){return a.x-a.w/2},j=function(a){return a.x+a.w/2},n=function(a){return d.inbox(a.b-c,a.y-c)+(a.y-c)/(a.y-a.b)},m=t),k="closest"===g?i:function(a){return Math.min(i(a),a.p-q.bargroupwidth/2)},l="closest"===g?j:function(a){return Math.max(j(a),a.p+q.bargroupwidth/2)};var u=d.getDistanceFunction(g,m,n);if(d.getClosest(o,u,a),!1!==a.index){var v=a.index,w=o[v],x=w.mcc||p.marker.color,y=w.mlcc||p.marker.line.color,z=w.mlw||p.marker.line.width;f.opacity(x)?a.color=x:f.opacity(y)&&z&&(a.color=y);var A=p.base?w.b+w.s:w.s;return"h"===p.orientation?(a.x0=a.x1=r.c2p(w.x,!0),a.xLabelVal=A,a.y0=s.c2p(k(w),!0),a.y1=s.c2p(l(w),!0),a.yLabelVal=w.p):(a.y0=a.y1=s.c2p(w.y,!0),a.yLabelVal=A,a.x0=r.c2p(k(w),!0),a.x1=r.c2p(l(w),!0),a.xLabelVal=w.p),w.htx?a.text=w.htx:p.hovertext?a.text=p.hovertext:w.tx?a.text=w.tx:p.text&&(a.text=p.text),e.hoverInfo(w,p,a),[a]}}},{"../../components/color":534,"../../components/errorbars":564,"../../components/fx":575}],729:[function(a,b,c){"use strict";var d={};d.attributes=a("./attributes"),d.layoutAttributes=a("./layout_attributes"),d.supplyDefaults=a("./defaults"),d.supplyLayoutDefaults=a("./layout_defaults"),d.calc=a("./calc"),d.setPositions=a("./set_positions"),d.colorbar=a("../scatter/colorbar"),d.arraysToCalcdata=a("./arrays_to_calcdata"),d.plot=a("./plot"),d.style=a("./style"),d.hoverPoints=a("./hover"),d.moduleType="trace",d.name="bar",d.basePlotModule=a("../../plots/cartesian"),d.categories=["cartesian","bar","oriented","markerColorscale","errorBarsOK","showLegend"],d.meta={description:["The data visualized by the span of the bars is set in `y`","if `orientation` is set th *v* (the default)","and the labels are set in `x`.","By setting `orientation` to *h*, the roles are interchanged."].join(" ")},b.exports=d},{"../../plots/cartesian":690,"../scatter/colorbar":752,"./arrays_to_calcdata":724,"./attributes":725,"./calc":726,"./defaults":727,"./hover":728,"./layout_attributes":730,"./layout_defaults":731,"./plot":732,"./set_positions":733,"./style":735}],730:[function(a,b,c){"use strict";b.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",role:"info",description:["Determines how bars at the same location coordinate","are displayed on the graph.","With *stack*, the bars are stacked on top of one another","With *relative*, the bars are stacked on top of one another,","with negative values below the axis, positive values above","With *group*, the bars are plotted next to one another","centered around the shared location.","With *overlay*, the bars are plotted over one another,","you might need to an *opacity* to see multiple bars."].join(" ")},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",role:"info",description:["Sets the normalization for bar traces on the graph.","With *fraction*, the value of each bar is divide by the sum of the","values at the location coordinate.","With *percent*, the results form *fraction* are presented in percents."].join(" ")},bargap:{valType:"number",min:0,max:1,role:"style",description:["Sets the gap (in plot fraction) between bars of","adjacent location coordinates."].join(" ")},bargroupgap:{valType:"number",min:0,max:1,dflt:0,role:"style",description:["Sets the gap (in plot fraction) between bars of","the same location coordinate."].join(" ")}}},{}],731:[function(a,b,c){"use strict";var d=a("../../registry"),e=a("../../plots/cartesian/axes"),f=a("../../lib"),g=a("./layout_attributes");b.exports=function(a,b,c){function h(c,d){return f.coerce(a,b,g,c,d)}for(var i=!1,j=!1,k=!1,l={},m=0;m<c.length;m++){var n=c[m];if(d.traceIs(n,"bar")){if(i=!0,"overlay"!==a.barmode&&"stack"!==a.barmode){var o=n.xaxis+n.yaxis;l[o]&&(k=!0),l[o]=!0}n.visible&&"histogram"===n.type&&"category"!==e.getFromId({_fullLayout:b},n["v"===n.orientation?"xaxis":"yaxis"]).type&&(j=!0)}}i&&("overlay"!==h("barmode")&&h("barnorm"),h("bargap",j&&!k?0:.2),h("bargroupgap"))}},{"../../lib":645,"../../plots/cartesian/axes":680,"../../registry":715,"./layout_attributes":730}],732:[function(a,b,c){"use strict";function d(a,b,c,d,g,m,n,o){function p(a,b,c){var d=a.append("text").attr("data-notex",1).text(b).attr({"class":"bartext",transform:"","data-bb":"","text-anchor":"middle",x:0,y:0}).call(y.font,c);return d.call(w.convertToTspans),d.selectAll("tspan.line").attr({x:0,y:0}),d}var q=c[0].trace,r=q.orientation,s=h(q,d);if(s){var t=i(q,d);if("none"!==t){var u,v,x,z,A=j(q,d,a._fullLayout.font),B=k(q,d,A),C=l(q,d,A),D=a._fullLayout.barmode,E="stack"===D,F="relative"===D,H=E||F,I=c[d],J=!H||I._outmost,K=Math.abs(m-g)-2*G,L=Math.abs(o-n)-2*G;if("outside"===t&&(J||(t="inside")),"auto"===t)if(J){u=p(b,s,B),v=y.bBox(u.node()),x=v.width,z=v.height;var M=x>0&&z>0,N=K>=x&&L>=z,O=L>=x&&K>=z,P="h"===r?K>=x*(L/z):L>=z*(K/x);M&&(N||O||P)?t="inside":(t="outside",u.remove(),u=null)}else t="inside";if(!u&&(u=p(b,s,"outside"===t?C:B),v=y.bBox(u.node()),x=v.width,z=v.height,0>=x||0>=z))return void u.remove();var Q;Q="outside"===t?f(g,m,n,o,v,r):e(g,m,n,o,v,r),u.attr("transform",Q)}}}function e(a,b,c,d,e,f){var h,i,j,k,l,m=e.width,n=e.height,o=(e.left+e.right)/2,p=(e.top+e.bottom)/2,q=Math.abs(b-a),r=Math.abs(d-c);q>2*G&&r>2*G?(l=G,q-=2*l,r-=2*l):l=0;var s,t;return q>=m&&r>=n?(s=!1,t=1):r>=m&&q>=n?(s=!0,t=1):n>m==r>q?(s=!1,t=Math.min(q/m,r/n)):(s=!0,t=Math.min(r/m,q/n)),s&&(s=90),s?(h=t*n,i=t*m):(h=t*m,i=t*n),"h"===f?a>b?(j=b+l+h/2,k=(c+d)/2):(j=b-l-h/2,k=(c+d)/2):d>c?(j=(a+b)/2,k=d-l-i/2):(j=(a+b)/2,k=d+l+i/2),g(o,p,j,k,t,s)}function f(a,b,c,d,e,f){var h,i="h"===f?Math.abs(d-c):Math.abs(b-a);i>2*G&&(h=G,i-=2*h);var j,k,l,m,n="h"===f?Math.min(1,i/e.height):Math.min(1,i/e.width),o=(e.left+e.right)/2,p=(e.top+e.bottom)/2;return j=n*e.width,k=n*e.height,"h"===f?a>b?(l=b-h-j/2,m=(c+d)/2):(l=b+h+j/2,m=(c+d)/2):d>c?(l=(a+b)/2,m=d+h+k/2):(l=(a+b)/2,m=d-h-k/2),g(o,p,l,m,n,!1)}function g(a,b,c,d,e,f){var g,h;return 1>e?g="scale("+e+") ":(e=1,g=""),h=f?"rotate("+f+" "+a+" "+b+") ":"","translate("+(c-e*a)+" "+(d-e*b)+")"+g+h}function h(a,b){var c=n(a.text,b);return o(B,c)}function i(a,b){var c=n(a.textposition,b);return p(C,c)}function j(a,b,c){return m(D,a.textfont,b,c)}function k(a,b,c){return m(E,a.insidetextfont,b,c)}function l(a,b,c){return m(F,a.outsidetextfont,b,c)}function m(a,b,c,d){b=b||{};var e=n(b.family,c),f=n(b.size,c),g=n(b.color,c);return{family:o(a.family,e,d.family),size:q(a.size,f,d.size),color:r(a.color,g,d.color)}}function n(a,b){var c;return Array.isArray(a)?b<a.length&&(c=a[b]):c=a,c}function o(a,b,c){if("string"==typeof b){if(b||!a.noBlank)return b}else if("number"==typeof b&&!a.strict)return String(b);return void 0!==c?c:a.dflt}function p(a,b,c){return a.coerceNumber&&(b=+b),-1!==a.values.indexOf(b)?b:void 0!==c?c:a.dflt}function q(a,b,c){if(t(b)){b=+b;var d=a.min,e=a.max;if(!(void 0!==d&&d>b||void 0!==e&&b>e))return b}return void 0!==c?c:a.dflt}function r(a,b,c){return u(b).isValid()?b:void 0!==c?c:a.dflt}var s=a("d3"),t=a("fast-isnumeric"),u=a("tinycolor2"),v=a("../../lib"),w=a("../../lib/svg_text_utils"),x=a("../../components/color"),y=a("../../components/drawing"),z=a("../../components/errorbars"),A=a("./attributes"),B=A.text,C=A.textposition,D=A.textfont,E=A.insidetextfont,F=A.outsidetextfont,G=3;b.exports=function(a,b,c){var e=b.xaxis,f=b.yaxis,g=a._fullLayout,h=b.plot.select(".barlayer").selectAll("g.trace.bars").data(c);h.enter().append("g").attr("class","trace bars"),h.append("g").attr("class","points").each(function(b){var c=b[0].t,h=b[0].trace,i=c.poffset,j=Array.isArray(i);s.select(this).selectAll("g.point").data(v.identity).enter().append("g").classed("point",!0).each(function(c,k){function l(a){return 0===g.bargap&&0===g.bargroupgap?s.round(Math.round(a)-z,2):a}function m(a,b){return Math.abs(a-b)>=2?l(a):a>b?Math.ceil(a):Math.floor(a)}var n,o,p,q,r=c.p+(j?i[k]:i),u=r+c.w,v=c.b,w=v+c.s;if("h"===h.orientation?(p=f.c2p(r,!0),q=f.c2p(u,!0),n=e.c2p(v,!0),o=e.c2p(w,!0)):(n=e.c2p(r,!0),o=e.c2p(u,!0),p=f.c2p(v,!0),q=f.c2p(w,!0)),!(t(n)&&t(o)&&t(p)&&t(q)&&n!==o&&p!==q))return void s.select(this).remove();var y=(c.mlw+1||h.marker.line.width+1||(c.trace?c.trace.marker.line.width:0)+1)-1,z=s.round(y/2%1,2);if(!a._context.staticPlot){var A=x.opacity(c.mc||h.marker.color),B=1>A||y>.01?l:m;n=B(n,o),o=B(o,n),p=B(p,q),q=B(q,p)}var C=s.select(this);C.append("path").attr("d","M"+n+","+p+"V"+q+"H"+o+"V"+p+"Z"),d(a,C,b,k,n,o,p,q)})}),h.call(z.plot,b)}},{"../../components/color":534,"../../components/drawing":558,"../../components/errorbars":564,"../../lib":645,"../../lib/svg_text_utils":662,"./attributes":725,d3:256,"fast-isnumeric":259,tinycolor2:773}],733:[function(a,b,c){"use strict";function d(a,b,c,d){if(d.length){var h,i,j,k,l,m=a._fullLayout.barmode,n="overlay"===m,o="group"===m;if(n)e(a,b,c,d);else if(o){for(h=[],i=[],j=0;j<d.length;j++)k=d[j],l=k[0].trace,void 0===l.offset?i.push(k):h.push(k);i.length&&f(a,b,c,i),h.length&&e(a,b,c,h)}else{for(h=[],i=[],j=0;j<d.length;j++)k=d[j],l=k[0].trace,void 0===l.base?i.push(k):h.push(k);i.length&&g(a,b,c,i),h.length&&e(a,b,c,h)}}}function e(a,b,c,d){for(var e=a._fullLayout.barnorm,f=!e,g=0;g<d.length;g++){var i=d[g],j=new w([i],!1,f);h(a,b,j),e?(p(a,c,j),q(a,c,j)):n(a,c,j)}}function f(a,b,c,d){var e=a._fullLayout,f=e.barnorm,g=!f,h=new w(d,!1,g);i(a,b,h),f?(p(a,c,h),q(a,c,h)):n(a,c,h)}function g(a,b,c,d){var e=a._fullLayout,f=e.barmode,g="stack"===f,i="relative"===f,j=a._fullLayout.barnorm,k=i,l=!(j||g||i),m=new w(d,k,l);h(a,b,m),o(a,c,m);for(var n=0;n<d.length;n++)for(var p=d[n],r=0;r<p.length;r++){var s=p[r];if(s.s!==t){var u=s.b+s.s===m.get(s.p,s.s);u&&(s._outmost=!0)}}j&&q(a,c,m)}function h(a,b,c){var d,e,f,g,h=a._fullLayout,i=h.bargap,m=h.bargroupgap,n=c.minDiff,o=c.traces,p=n*(1-i),q=p,r=q*(1-m),s=-r/2;for(d=0;d<o.length;d++)e=o[d],f=e[0],g=f.t,g.barwidth=r,g.poffset=s,g.bargroupwidth=p;c.binWidth=o[0][0].t.barwidth/100,j(c),k(a,b,c),l(a,b,c)}function i(a,b,c){var d,e,f,g,h=a._fullLayout,i=h.bargap,m=h.bargroupgap,n=c.positions,o=c.distinctPositions,p=c.minDiff,q=c.traces,r=n.length!==o.length,s=q.length,t=p*(1-i),u=r?t/s:t,v=u*(1-m);for(d=0;s>d;d++){e=q[d],f=e[0];var w=r?((2*d+1-s)*u-v)/2:-v/2;g=f.t,g.barwidth=v,g.poffset=w,g.bargroupwidth=t}c.binWidth=q[0][0].t.barwidth/100,j(c),k(a,b,c),l(a,b,c,r)}function j(a){var b,c,d,e,f,g,h=a.traces;for(b=0;b<h.length;b++){c=h[b],d=c[0],e=d.trace,g=d.t;var i,j=e.offset,k=g.poffset;if(Array.isArray(j)){for(i=j.slice(0,c.length),f=0;f<i.length;f++)s(i[f])||(i[f]=k);for(f=i.length;f<c.length;f++)i.push(k);g.poffset=i}else void 0!==j&&(g.poffset=j);var l=e.width,m=g.barwidth;if(Array.isArray(l)){var n=l.slice(0,c.length);for(f=0;f<n.length;f++)s(n[f])||(n[f]=m);for(f=n.length;f<c.length;f++)n.push(m);if(g.barwidth=n,void 0===j){for(i=[],f=0;f<c.length;f++)i.push(k+(m-n[f])/2);g.poffset=i}}else void 0!==l&&(g.barwidth=l,void 0===j&&(g.poffset=k+(m-l)/2))}}function k(a,b,c){for(var d=c.traces,e=r(b),f=0;f<d.length;f++)for(var g=d[f],h=g[0].t,i=h.poffset,j=Array.isArray(i),k=h.barwidth,l=Array.isArray(k),m=0;m<g.length;m++){var n=g[m],o=n.w=l?k[m]:k;n[e]=n.p+(j?i[m]:i)+o/2}}function l(a,b,c,d){var e=c.traces,f=c.distinctPositions,g=f[0],h=c.minDiff,i=h/2;v.minDtick(b,h,g,d);for(var j=Math.min.apply(Math,f)-i,k=Math.max.apply(Math,f)+i,l=0;l<e.length;l++){var m=e[l],n=m[0],o=n.trace;if(void 0!==o.width||void 0!==o.offset)for(var p=n.t,q=p.poffset,r=p.barwidth,s=Array.isArray(q),t=Array.isArray(r),u=0;u<m.length;u++){var w=m[u],x=s?q[u]:q,y=t?r[u]:r,z=w.p,A=z+x,B=A+y;j=Math.min(j,A),k=Math.max(k,B)}}v.expand(b,[j,k],{padded:!1})}function m(a,b){s(a[0])?a[0]=Math.min(a[0],b):a[0]=b,s(a[1])?a[1]=Math.max(a[1],b):a[1]=b}function n(a,b,c){for(var d=c.traces,e=r(b),f=b.l2c(b.c2l(0)),g=[f,f],h=0;h<d.length;h++)for(var i=d[h],j=0;j<i.length;j++){var k=i[j],l=k.b,n=l+k.s;k[e]=n,s(b.c2l(n))&&m(g,n),s(b.c2l(l))&&m(g,l)}v.expand(b,g,{tozero:!0,padded:!0})}function o(a,b,c){var d,e,f,g,h=a._fullLayout,i=h.barnorm,j=r(b),k=c.traces,l=b.l2c(b.c2l(0)),n=[l,l];for(d=0;d<k.length;d++)for(e=k[d],f=0;f<e.length;f++)if(g=e[f],g.s!==t){var o=c.put(g.p,g.b+g.s),p=o+g.b+g.s;g.b=o,g[j]=p,i||(s(b.c2l(p))&&m(n,p),s(b.c2l(o))&&m(n,o))}i||v.expand(b,n,{tozero:!0,padded:!0})}function p(a,b,c){for(var d=c.traces,e=0;e<d.length;e++)for(var f=d[e],g=0;g<f.length;g++){var h=f[g];h.s!==t&&c.put(h.p,h.b+h.s)}}function q(a,b,c){function d(a){s(b.c2l(a))&&(i-h>a||a>j+h||!s(i))&&(l=!0,m(k,a))}for(var e=c.traces,f=r(b),g="fraction"===a._fullLayout.barnorm?1:100,h=g/1e9,i=b.l2c(b.c2l(0)),j="stack"===a._fullLayout.barmode?g:i,k=[i,j],l=!1,n=0;n<e.length;n++)for(var o=e[n],p=0;p<o.length;p++){var q=o[p];if(q.s!==t){var u=Math.abs(g/c.get(q.p,q.s));q.b*=u,q.s*=u;var w=q.b,x=w+q.s;q[f]=x,d(x),d(w)}}v.expand(b,k,{tozero:!0,padded:l})}function r(a){return a._id.charAt(0)}var s=a("fast-isnumeric"),t=a("../../constants/numerical").BADNUM,u=a("../../registry"),v=a("../../plots/cartesian/axes"),w=a("./sieve.js");b.exports=function(a,b){var c,e=b.xaxis,f=b.yaxis,g=a._fullData,h=a.calcdata,i=[],j=[];for(c=0;c<g.length;c++){var k=g[c];!0===k.visible&&u.traceIs(k,"bar")&&k.xaxis===e._id&&k.yaxis===f._id&&("h"===k.orientation?i.push(h[c]):j.push(h[c]))}d(a,e,f,j),d(a,f,e,i)}},{"../../constants/numerical":631,"../../plots/cartesian/axes":680,"../../registry":715,"./sieve.js":734,"fast-isnumeric":259}],734:[function(a,b,c){"use strict";function d(a,b,c){this.traces=a,this.separateNegativeValues=b,this.dontMergeOverlappingData=c;for(var d=[],g=0;g<a.length;g++)for(var h=a[g],i=0;i<h.length;i++){var j=h[i];j.p!==f&&d.push(j.p)}this.positions=d;var k=e.distinctVals(this.positions);this.distinctPositions=k.vals,this.minDiff=k.minDiff,this.binWidth=this.minDiff,this.bins={}}b.exports=d;var e=a("../../lib"),f=a("../../constants/numerical").BADNUM;d.prototype.put=function(a,b){var c=this.getLabel(a,b),d=this.bins[c]||0;return this.bins[c]=d+b,d},d.prototype.get=function(a,b){var c=this.getLabel(a,b);return this.bins[c]||0},d.prototype.getLabel=function(a,b){return(0>b&&this.separateNegativeValues?"v":"^")+(this.dontMergeOverlappingData?a:Math.round(a/this.binWidth))}},{"../../constants/numerical":631,"../../lib":645}],735:[function(a,b,c){"use strict";var d=a("d3"),e=a("../../components/color"),f=a("../../components/drawing"),g=a("../../components/errorbars");b.exports=function(a){var b=d.select(a).selectAll("g.trace.bars"),c=b.size(),h=a._fullLayout;b.style("opacity",function(a){return a[0].trace.opacity}).each(function(a){("stack"===h.barmode&&c>1||0===h.bargap&&0===h.bargroupgap&&!a[0].trace.marker.line.width)&&d.select(this).attr("shape-rendering","crispEdges")}),b.selectAll("g.points").each(function(a){var b=a[0].trace,c=b.marker,g=c.line,h=f.tryColorscale(c,""),i=f.tryColorscale(c,"line");d.select(this).selectAll("path").each(function(a){var b,f,j=(a.mlw+1||g.width+1)-1,k=d.select(this);b="mc"in a?a.mcc=h(a.mc):Array.isArray(c.color)?e.defaultLine:c.color,k.style("stroke-width",j+"px").call(e.fill,b),j&&(f="mlc"in a?a.mlcc=i(a.mlc):Array.isArray(g.color)?e.defaultLine:g.color,k.call(e.stroke,f))})}),b.call(g.style)}},{"../../components/color":534,"../../components/drawing":558,"../../components/errorbars":564,d3:256}],736:[function(a,b,c){"use strict";var d=a("../../components/color"),e=a("../../components/colorscale/has_colorscale"),f=a("../../components/colorscale/defaults");b.exports=function(a,b,c,g,h){c("marker.color",g),e(a,"marker")&&f(a,b,h,c,{prefix:"marker.",cLetter:"c"}),c("marker.line.color",d.defaultLine),e(a,"marker.line")&&f(a,b,h,c,{prefix:"marker.line.",cLetter:"c"}),c("marker.line.width")}},{"../../components/color":534,"../../components/colorscale/defaults":543,"../../components/colorscale/has_colorscale":547}],737:[function(a,b,c){"use strict";var d=a("../../components/color/attributes"),e=a("../../plots/font_attributes"),f=a("../../plots/attributes"),g=a("../../lib/extend").extendFlat;b.exports={labels:{valType:"data_array",description:"Sets the sector labels."},label0:{valType:"number",role:"info",dflt:0,description:["Alternate to `labels`.","Builds a numeric set of labels.","Use with `dlabel`","where `label0` is the starting label and `dlabel` the step."].join(" ")},dlabel:{valType:"number",role:"info",dflt:1,description:"Sets the label step. See `label0` for more info."},values:{valType:"data_array",description:"Sets the values of the sectors of this pie chart."},marker:{colors:{valType:"data_array",description:["Sets the color of each sector of this pie chart.","If not specified, the default trace color set is used","to pick the sector colors."].join(" ")},line:{color:{valType:"color",role:"style",dflt:d.defaultLine,arrayOk:!0,description:["Sets the color of the line enclosing each sector."].join(" ")},width:{valType:"number",role:"style",min:0,dflt:0,arrayOk:!0,description:["Sets the width (in px) of the line enclosing each sector."].join(" ")}}},text:{valType:"data_array",description:["Sets text elements associated with each sector.","If trace `textinfo` contains a *text* flag, these elements will seen","on the chart.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")},hovertext:{valType:"string",role:"info",dflt:"",arrayOk:!0,description:["Sets hover text elements associated with each sector.","If a single string, the same string appears for","all data points.","If an array of string, the items are mapped in order of","this trace's sectors.","To be seen, trace `hoverinfo` must contain a *text* flag."].join(" ")},scalegroup:{valType:"string",role:"info",dflt:"",description:["If there are multiple pies that should be sized according to","their totals, link them by providing a non-empty group id here","shared by every trace in the same group."].join(" ")},textinfo:{valType:"flaglist",role:"info",flags:["label","text","value","percent"],extras:["none"],description:["Determines which trace information appear on the graph."].join(" ")},hoverinfo:g({},f.hoverinfo,{flags:["label","text","value","percent","name"]}),textposition:{valType:"enumerated",role:"info",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,description:["Specifies the location of the `textinfo`."].join(" ")},textfont:g({},e,{description:"Sets the font used for `textinfo`."}),insidetextfont:g({},e,{description:"Sets the font used for `textinfo` lying inside the pie."}),outsidetextfont:g({},e,{description:"Sets the font used for `textinfo` lying outside the pie."}),domain:{x:{valType:"info_array",role:"info",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1],description:["Sets the horizontal domain of this pie trace","(in plot fraction)."].join(" ")},y:{valType:"info_array",role:"info",items:[{valType:"number",min:0,max:1},{valType:"number",min:0,max:1}],dflt:[0,1],description:["Sets the vertical domain of this pie trace","(in plot fraction)."].join(" ")}},hole:{valType:"number",role:"style",min:0,max:1,dflt:0,description:["Sets the fraction of the radius to cut out of the pie.","Use this to make a donut chart."].join(" ")},sort:{valType:"boolean",role:"style",dflt:!0,description:["Determines whether or not the sectors are reordered","from largest to smallest."].join(" ")},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],role:"style",dflt:"counterclockwise",description:["Specifies the direction at which succeeding sectors follow","one another."].join(" ")},rotation:{valType:"number",role:"style",min:-360,max:360,dflt:0,description:["Instead of the first slice starting at 12 o'clock,","rotate to some other angle."].join(" ")},pull:{valType:"number",role:"style",min:0,max:1,dflt:0,arrayOk:!0,description:["Sets the fraction of larger radius to pull the sectors","out from the center. This can be a constant","to pull all slices apart from each other equally","or an array to highlight one or more slices."].join(" ")}}},{"../../components/color/attributes":533,"../../lib/extend":641,"../../plots/attributes":678,"../../plots/font_attributes":704}],738:[function(a,b,c){"use strict";function d(a,b){for(var c=[],d=0;d<a.length;d++){var e=a[d],f=e[0].trace;f._module===b&&!0===f.visible&&c.push(e)}return c}var e=a("../../registry");c.name="pie",c.plot=function(a){var b=e.getModule("pie"),c=d(a.calcdata,b);c.length&&b.plot(a,c)},c.clean=function(a,b,c,d){var e=d._has&&d._has("pie"),f=b._has&&b._has("pie");e&&!f&&d._pielayer.selectAll("g.trace").remove()}},{"../../registry":715}],739:[function(a,b,c){"use strict";function d(a){if(!i){var b=g.defaults;i=b.slice();var c;for(c=0;c<b.length;c++)i.push(f(b[c]).lighten(20).toHexString());for(c=0;c<g.defaults.length;c++)i.push(f(b[c]).darken(20).toHexString())}return i[a%i.length]}var e=a("fast-isnumeric"),f=a("tinycolor2"),g=a("../../components/color"),h=a("./helpers");b.exports=function(a,b){var c,i,j,k,l,m,n=b.values,o=b.labels,p=[],q=a._fullLayout,r=q._piecolormap,s={},t=!1,u=0,v=q.hiddenlabels||[];if(b.dlabel)for(o=new Array(n.length),c=0;c<n.length;c++)o[c]=String(b.label0+c*b.dlabel);for(c=0;c<n.length;c++)i=n[c],e(i)&&((i=+i)<0||(j=o[c],void 0!==j&&""!==j||(j=c),j=String(j),void 0===s[j]&&(s[j]=!0,k=f(b.marker.colors[c]),k.isValid()?(k=g.addOpacity(k,k.getAlpha()),r[j]||(r[j]=k)):r[j]?k=r[j]:(k=!1,t=!0),l=-1!==v.indexOf(j),l||(u+=i),p.push({v:i,label:j,color:k,i:c,hidden:l}))));if(b.sort&&p.sort(function(a,b){return b.v-a.v}),t)for(c=0;c<p.length;c++)m=p[c],!1===m.color&&(r[m.label]=m.color=d(q._piedefaultcolorcount),q._piedefaultcolorcount++);if(p[0]&&(p[0].vTotal=u),b.textinfo&&"none"!==b.textinfo){var w,x=-1!==b.textinfo.indexOf("label"),y=-1!==b.textinfo.indexOf("text"),z=-1!==b.textinfo.indexOf("value"),A=-1!==b.textinfo.indexOf("percent"),B=q.separators;for(c=0;c<p.length;c++)m=p[c],w=x?[m.label]:[],y&&b.text[m.i]&&w.push(b.text[m.i]),z&&w.push(h.formatPieValue(m.v,B)),A&&w.push(h.formatPiePercent(m.v/u,B)),m.text=w.join("<br>")}return p};var i},{"../../components/color":534,"./helpers":741,"fast-isnumeric":259,tinycolor2:773}],740:[function(a,b,c){"use strict";var d=a("../../lib"),e=a("./attributes");b.exports=function(a,b,c,f){function g(c,f){return d.coerce(a,b,e,c,f)}var h=d.coerceFont,i=g("values");if(!Array.isArray(i)||!i.length)return void(b.visible=!1);var j=g("labels");Array.isArray(j)||(g("label0"),g("dlabel")),g("marker.line.width")&&g("marker.line.color");var k=g("marker.colors");Array.isArray(k)||(b.marker.colors=[]),g("scalegroup");var l=g("text"),m=g("textinfo",Array.isArray(l)?"text+percent":"percent");if(g("hovertext"),g("hoverinfo",1===f._dataLength?"label+text+value+percent":void 0),m&&"none"!==m){var n=g("textposition"),o=Array.isArray(n)||"auto"===n,p=o||"inside"===n,q=o||"outside"===n;if(p||q){var r=h(g,"textfont",f.font);p&&h(g,"insidetextfont",r),q&&h(g,"outsidetextfont",r)}}g("domain.x"),g("domain.y"),g("hole"),g("sort"),g("direction"),g("rotation"),g("pull")}},{"../../lib":645,"./attributes":737}],741:[function(a,b,c){"use strict";var d=a("../../lib");c.formatPiePercent=function(a,b){var c=(100*a).toPrecision(3);return-1!==c.lastIndexOf(".")&&(c=c.replace(/[.]?0+$/,"")),d.numSeparate(c,b)+"%"},c.formatPieValue=function(a,b){var c=a.toPrecision(10);return-1!==c.lastIndexOf(".")&&(c=c.replace(/[.]?0+$/,"")),d.numSeparate(c,b)}},{"../../lib":645}],742:[function(a,b,c){"use strict";var d={};d.attributes=a("./attributes"),d.supplyDefaults=a("./defaults"),d.supplyLayoutDefaults=a("./layout_defaults"),d.layoutAttributes=a("./layout_attributes"),d.calc=a("./calc"),d.plot=a("./plot"),d.style=a("./style"),d.styleOne=a("./style_one"),d.moduleType="trace",d.name="pie",d.basePlotModule=a("./base_plot"),d.categories=["pie","showLegend"],d.meta={description:["A data visualized by the sectors of the pie is set in `values`.","The sector labels are set in `labels`.","The sector colors are set in `marker.colors`"].join(" ")},b.exports=d},{"./attributes":737,"./base_plot":738,"./calc":739,"./defaults":740,"./layout_attributes":743,"./layout_defaults":744,"./plot":745,"./style":746,"./style_one":747}],743:[function(a,b,c){"use strict";b.exports={hiddenlabels:{valType:"data_array"}}},{}],744:[function(a,b,c){"use strict";var d=a("../../lib"),e=a("./layout_attributes");b.exports=function(a,b){!function(c,f){d.coerce(a,b,e,c,f)}("hiddenlabels")}},{"../../lib":645,"./layout_attributes":743}],745:[function(a,b,c){"use strict";function d(a,b,c){var d=Math.sqrt(a.width*a.width+a.height*a.height),f=a.width/a.height,g=Math.PI*Math.min(b.v/c.vTotal,.5),h=1-c.trace.hole,i=e(b,c),j={scale:i*c.r*2/d,rCenter:1-i,rotate:0};if(j.scale>=1)return j;var k=f+1/(2*Math.tan(g)),l=c.r*Math.min(1/(Math.sqrt(k*k+.5)+k),h/(Math.sqrt(f*f+h/2)+f)),m={scale:2*l/a.height,rCenter:Math.cos(l/c.r)-l*f/c.r,rotate:(180/Math.PI*b.midangle+720)%180-90},n=1/f,o=n+1/(2*Math.tan(g)),p=c.r*Math.min(1/(Math.sqrt(o*o+.5)+o),h/(Math.sqrt(n*n+h/2)+n)),q={scale:2*p/a.width,rCenter:Math.cos(p/c.r)-p/f/c.r,rotate:(180/Math.PI*b.midangle+810)%180-90},r=q.scale>m.scale?q:m;return j.scale<1&&r.scale>j.scale?r:j}function e(a,b){if(a.v===b.vTotal&&!b.trace.hole)return 1;var c=Math.PI*Math.min(a.v/b.vTotal,.5);return Math.min(1/(1+1/Math.sin(c)),(1-b.trace.hole)/2)}function f(a,b){var c=b.pxmid[0],d=b.pxmid[1],e=a.width/2,f=a.height/2;return 0>c&&(e*=-1),0>d&&(f*=-1),{scale:1,rCenter:1,rotate:0,x:e+Math.abs(f)*(e>0?1:-1)/2,y:f/(1+c*c/(d*d)),outside:!0}}function g(a,b){function c(a,b){return a.pxmid[1]-b.pxmid[1]}function d(a,b){return b.pxmid[1]-a.pxmid[1]}var e,f,g,h,i,j,k,l,m,n,o,p,q;for(f=0;2>f;f++)for(g=f?c:d,i=f?Math.max:Math.min,k=f?1:-1,e=0;2>e;e++){for(h=e?Math.max:Math.min,j=e?1:-1,l=a[f][e],l.sort(g),m=a[1-f][e],n=m.concat(l),p=[],o=0;o<l.length;o++)void 0!==l[o].yLabelMid&&p.push(l[o]);for(q=!1,o=0;f&&o<m.length;o++)if(void 0!==m[o].yLabelMid){q=m[o];break}for(o=0;o<p.length;o++){var r=o&&p[o-1];q&&!o&&(r=q),function(a,c){c||(c={});var d,e,g,l,m,o,p=c.labelExtraY+(f?c.yLabelMax:c.yLabelMin),q=f?a.yLabelMin:a.yLabelMax,r=f?a.yLabelMax:a.yLabelMin,s=a.cyFinal+i(a.px0[1],a.px1[1]),t=p-q;if(t*k>0&&(a.labelExtraY=t),Array.isArray(b.pull))for(e=0;e<n.length;e++)(g=n[e])===a||(b.pull[a.i]||0)>=b.pull[g.i]||((a.pxmid[1]-g.pxmid[1])*k>0?(l=g.cyFinal+i(g.px0[1],g.px1[1]),(t=l-q-a.labelExtraY)*k>0&&(a.labelExtraY+=t)):(r+a.labelExtraY-s)*k>0&&(d=3*j*Math.abs(e-n.indexOf(a)),m=g.cxFinal+h(g.px0[0],g.px1[0]),(o=m+d-(a.cxFinal+a.pxmid[0])-a.labelExtraX)*j>0&&(a.labelExtraX+=o)))}(p[o],r)}}}function h(a,b){var c,d,e,f,g,h,i,k,l,m,n=[];for(e=0;e<a.length;e++){if(g=a[e][0],h=g.trace,c=b.w*(h.domain.x[1]-h.domain.x[0]),d=b.h*(h.domain.y[1]-h.domain.y[0]),i=h.tiltaxis*Math.PI/180,k=h.pull,Array.isArray(k))for(k=0,f=0;f<h.pull.length;f++)h.pull[f]>k&&(k=h.pull[f]);g.r=Math.min(c/j(h.tilt,Math.sin(i),h.depth),d/j(h.tilt,Math.cos(i),h.depth))/(2+2*k),g.cx=b.l+b.w*(h.domain.x[1]+h.domain.x[0])/2,g.cy=b.t+b.h*(2-h.domain.y[1]-h.domain.y[0])/2,h.scalegroup&&-1===n.indexOf(h.scalegroup)&&n.push(h.scalegroup)}for(f=0;f<n.length;f++){for(m=1/0,l=n[f],e=0;e<a.length;e++)g=a[e][0],g.trace.scalegroup===l&&(m=Math.min(m,g.r*g.r/g.vTotal));for(e=0;e<a.length;e++)g=a[e][0],g.trace.scalegroup===l&&(g.r=Math.sqrt(m*g.vTotal))}}function i(a){function b(a){var b=l.r*Math.sin(a),c=-l.r*Math.cos(a);return n?[b*(1-h*d*d)+c*g*h,b*g*h+c*(1-h*e*e),Math.sin(f)*(c*e-b*d)]:[b,c]}var c,d,e,f,g,h,i,j,k,l=a[0],m=l.trace,n=m.tilt,o=m.rotation*Math.PI/180,p=2*Math.PI/l.vTotal,q="px0",r="px1";if("counterclockwise"===m.direction){for(i=0;i<a.length&&a[i].hidden;i++);if(i===a.length)return;o+=p*a[i].v,p*=-1,q="px1",r="px0"}for(n&&(f=n*Math.PI/180,c=m.tiltaxis*Math.PI/180,g=Math.sin(c)*Math.cos(c),h=1-Math.cos(f),d=Math.sin(c),e=Math.cos(c)),k=b(o),i=0;i<a.length;i++)j=a[i],j.hidden||(j[q]=k,o+=p*j.v/2,j.pxmid=b(o),j.midangle=o,o+=p*j.v/2,k=b(o),j[r]=k,j.largeArc=j.v>l.vTotal/2?1:0)}function j(a,b,c){if(!a)return 1;var d=Math.sin(a*Math.PI/180);return Math.max(.01,c*d*Math.abs(b)+2*Math.sqrt(1-d*d*b*b))}var k=a("d3"),l=a("../../components/fx"),m=a("../../components/color"),n=a("../../components/drawing"),o=a("../../lib/svg_text_utils"),p=a("./helpers");b.exports=function(a,b){var c=a._fullLayout;h(b,c._size);var j=c._pielayer.selectAll("g.trace").data(b);j.enter().append("g").attr({"stroke-linejoin":"round","class":"trace"}),j.exit().remove(),j.order(),j.each(function(b){var h=k.select(this),j=b[0],q=j.trace,r=(q.depth||0)*j.r*Math.sin(0)/2,s=q.tiltaxis||0,t=s*Math.PI/180,u=[r*Math.sin(t),r*Math.cos(t)],v=j.r*Math.cos(0),w=h.selectAll("g.part").data(q.tilt?["top","sides"]:["top"]);w.enter().append("g").attr("class",function(a){return a+" part"}),w.exit().remove(),w.order(),i(b),h.selectAll(".top").each(function(){var h=k.select(this).selectAll("g.slice").data(b);h.enter().append("g").classed("slice",!0),h.exit().remove();var i=[[[],[]],[[],[]]],r=!1;h.each(function(b){function g(d){d.originalEvent=k.event;var f=a._fullLayout,g=a._fullData[q.index],h=g.hoverinfo;if("all"===h&&(h="label+text+value+percent+name"),
a._dragging||!1===f.hovermode||"none"===h||"skip"===h||!h)return void l.hover(a,d,"pie");var i=e(b,j),m=w+b.pxmid[0]*(1-i),n=x+b.pxmid[1]*(1-i),o=c.separators,r=[];-1!==h.indexOf("label")&&r.push(b.label),-1!==h.indexOf("text")&&(g.hovertext?r.push(Array.isArray(g.hovertext)?g.hovertext[b.i]:g.hovertext):g.text&&g.text[b.i]&&r.push(g.text[b.i])),-1!==h.indexOf("value")&&r.push(p.formatPieValue(b.v,o)),-1!==h.indexOf("percent")&&r.push(p.formatPiePercent(b.v/j.vTotal,o));var s=g.hoverlabel;l.loneHover({x0:m-i*j.r,x1:m+i*j.r,y:n,text:r.join("<br>"),name:-1!==h.indexOf("name")?g.name:void 0,idealAlign:b.pxmid[0]<0?"left":"right",color:b.hbg||s.bgcolor||b.color,borderColor:b.hbc||s.bordercolor,fontFamily:b.htf||s.font.family,fontSize:b.hts||s.font.size,fontColor:b.htc||s.font.color},{container:f._hoverlayer.node(),outerContainer:f._paper.node()}),l.hover(a,d,"pie"),A=!0}function h(b){b.originalEvent=k.event,a.emit("plotly_unhover",{event:k.event,points:[b]}),A&&(l.loneUnhover(c._hoverlayer.node()),A=!1)}function m(){a._hoverdata=[b],a._hoverdata.trace=j.trace,l.click(a,k.event)}function t(a,c,d,e){return"a"+e*j.r+","+e*v+" "+s+" "+b.largeArc+(d?" 1 ":" 0 ")+e*(c[0]-a[0])+","+e*(c[1]-a[1])}if(b.hidden)return void k.select(this).selectAll("path,g").remove();i[b.pxmid[1]<0?0:1][b.pxmid[0]<0?0:1].push(b);var w=j.cx+u[0],x=j.cy+u[1],y=k.select(this),z=y.selectAll("path.surface").data([b]),A=!1;if(z.enter().append("path").classed("surface",!0).style({"pointer-events":"all"}),y.select("path.textline").remove(),y.on("mouseover",g).on("mouseout",h).on("click",m),q.pull){var B=+(Array.isArray(q.pull)?q.pull[b.i]:q.pull)||0;B>0&&(w+=B*b.pxmid[0],x+=B*b.pxmid[1])}b.cxFinal=w,b.cyFinal=x;var C=q.hole;if(b.v===j.vTotal){var D="M"+(w+b.px0[0])+","+(x+b.px0[1])+t(b.px0,b.pxmid,!0,1)+t(b.pxmid,b.px0,!0,1)+"Z";C?z.attr("d","M"+(w+C*b.px0[0])+","+(x+C*b.px0[1])+t(b.px0,b.pxmid,!1,C)+t(b.pxmid,b.px0,!1,C)+"Z"+D):z.attr("d",D)}else{var E=t(b.px0,b.px1,!0,1);if(C){var F=1-C;z.attr("d","M"+(w+C*b.px1[0])+","+(x+C*b.px1[1])+t(b.px1,b.px0,!1,C)+"l"+F*b.px0[0]+","+F*b.px0[1]+E+"Z")}else z.attr("d","M"+w+","+x+"l"+b.px0[0]+","+b.px0[1]+E+"Z")}var G=Array.isArray(q.textposition)?q.textposition[b.i]:q.textposition,H=y.selectAll("g.slicetext").data(b.text&&"none"!==G?[0]:[]);H.enter().append("g").classed("slicetext",!0),H.exit().remove(),H.each(function(){var a=k.select(this).selectAll("text").data([0]);a.enter().append("text").attr("data-notex",1),a.exit().remove(),a.text(b.text).attr({"class":"slicetext",transform:"","data-bb":"","text-anchor":"middle",x:0,y:0}).call(n.font,"outside"===G?q.outsidetextfont:q.insidetextfont).call(o.convertToTspans),a.selectAll("tspan.line").attr({x:0,y:0});var c,e=n.bBox(a.node());"outside"===G?c=f(e,b):(c=d(e,b,j),"auto"===G&&c.scale<1&&(a.call(n.font,q.outsidetextfont),q.outsidetextfont.family===q.insidetextfont.family&&q.outsidetextfont.size===q.insidetextfont.size||(a.attr({"data-bb":""}),e=n.bBox(a.node())),c=f(e,b)));var g=w+b.pxmid[0]*c.rCenter+(c.x||0),h=x+b.pxmid[1]*c.rCenter+(c.y||0);c.outside&&(b.yLabelMin=h-e.height/2,b.yLabelMid=h,b.yLabelMax=h+e.height/2,b.labelExtraX=0,b.labelExtraY=0,r=!0),a.attr("transform","translate("+g+","+h+")"+(c.scale<1?"scale("+c.scale+")":"")+(c.rotate?"rotate("+c.rotate+")":"")+"translate("+-(e.left+e.right)/2+","+-(e.top+e.bottom)/2+")")})}),r&&g(i,q),h.each(function(a){if(a.labelExtraX||a.labelExtraY){var b=k.select(this),c=b.select("g.slicetext text");c.attr("transform","translate("+a.labelExtraX+","+a.labelExtraY+")"+c.attr("transform"));var d=a.cxFinal+a.pxmid[0],e=a.cyFinal+a.pxmid[1],f="M"+d+","+e,g=(a.yLabelMax-a.yLabelMin)*(a.pxmid[0]<0?-1:1)/4;if(a.labelExtraX){var h=a.labelExtraX*a.pxmid[1]/a.pxmid[0],i=a.yLabelMid+a.labelExtraY-(a.cyFinal+a.pxmid[1]);f+=Math.abs(h)>Math.abs(i)?"l"+i*a.pxmid[0]/a.pxmid[1]+","+i+"H"+(d+a.labelExtraX+g):"l"+a.labelExtraX+","+h+"v"+(i-h)+"h"+g}else f+="V"+(a.yLabelMid+a.labelExtraY)+"h"+g;b.append("path").classed("textline",!0).call(m.stroke,q.outsidetextfont.color).attr({"stroke-width":Math.min(2,q.outsidetextfont.size/8),d:f,fill:"none"})}})})}),setTimeout(function(){j.selectAll("tspan").each(function(){var a=k.select(this);a.attr("dy")&&a.attr("dy",a.attr("dy"))})},0)}},{"../../components/color":534,"../../components/drawing":558,"../../components/fx":575,"../../lib/svg_text_utils":662,"./helpers":741,d3:256}],746:[function(a,b,c){"use strict";var d=a("d3"),e=a("./style_one");b.exports=function(a){a._fullLayout._pielayer.selectAll(".trace").each(function(a){var b=a[0],c=b.trace,f=d.select(this);f.style({opacity:c.opacity}),f.selectAll(".top path.surface").each(function(a){d.select(this).call(e,a,c)})})}},{"./style_one":747,d3:256}],747:[function(a,b,c){"use strict";var d=a("../../components/color");b.exports=function(a,b,c){var e=c.marker.line.color;Array.isArray(e)&&(e=e[b.i]||d.defaultLine);var f=c.marker.line.width||0;Array.isArray(f)&&(f=f[b.i]||0),a.style({"stroke-width":f}).call(d.fill,b.color).call(d.stroke,e)}},{"../../components/color":534}],748:[function(a,b,c){"use strict";var d=a("../../lib");b.exports=function(a,b){for(var c=0;c<a.length;c++)a[c].i=c;d.mergeArray(b.text,a,"tx"),d.mergeArray(b.hovertext,a,"htx"),d.mergeArray(b.customdata,a,"data"),d.mergeArray(b.textposition,a,"tp"),b.textfont&&(d.mergeArray(b.textfont.size,a,"ts"),d.mergeArray(b.textfont.color,a,"tc"),d.mergeArray(b.textfont.family,a,"tf"));var e=b.marker;if(e){d.mergeArray(e.size,a,"ms"),d.mergeArray(e.opacity,a,"mo"),d.mergeArray(e.symbol,a,"mx"),d.mergeArray(e.color,a,"mc");var f=e.line;e.line&&(d.mergeArray(f.color,a,"mlc"),d.mergeArray(f.width,a,"mlw"));var g=e.gradient;g&&"none"!==g.type&&(d.mergeArray(g.type,a,"mgt"),d.mergeArray(g.color,a,"mgc"))}}},{"../../lib":645}],749:[function(a,b,c){"use strict";var d=a("../../components/colorscale/color_attributes"),e=a("../../components/errorbars/attributes"),f=a("../../components/colorbar/attributes"),g=a("../../components/drawing/attributes").dash,h=a("../../components/drawing"),i=a("./constants"),j=a("../../lib/extend").extendFlat;b.exports={x:{valType:"data_array",description:"Sets the x coordinates."},x0:{valType:"any",dflt:0,role:"info",description:["Alternate to `x`.","Builds a linear space of x coordinates.","Use with `dx`","where `x0` is the starting coordinate and `dx` the step."].join(" ")},dx:{valType:"number",dflt:1,role:"info",description:["Sets the x coordinate step.","See `x0` for more info."].join(" ")},y:{valType:"data_array",description:"Sets the y coordinates."},y0:{valType:"any",dflt:0,role:"info",description:["Alternate to `y`.","Builds a linear space of y coordinates.","Use with `dy`","where `y0` is the starting coordinate and `dy` the step."].join(" ")},customdata:{valType:"data_array",description:"Assigns extra data to each scatter point DOM element"},dy:{valType:"number",dflt:1,role:"info",description:["Sets the y coordinate step.","See `y0` for more info."].join(" ")},ids:{valType:"data_array",description:"A list of keys for object constancy of data points during animation"},text:{valType:"string",role:"info",dflt:"",arrayOk:!0,description:["Sets text elements associated with each (x,y) pair.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (x,y) coordinates.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")},hovertext:{valType:"string",role:"info",dflt:"",arrayOk:!0,description:["Sets hover text elements associated with each (x,y) pair.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (x,y) coordinates.","To be seen, trace `hoverinfo` must contain a *text* flag."].join(" ")},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],role:"info",description:["Determines the drawing mode for this scatter trace.","If the provided `mode` includes *text* then the `text` elements","appear at the coordinates. Otherwise, the `text` elements","appear on hover.","If there are less than "+i.PTS_LINESONLY+" points,","then the default is *lines+markers*. Otherwise, *lines*."].join(" ")},hoveron:{valType:"flaglist",flags:["points","fills"],role:"info",description:["Do the hover effects highlight individual points (markers or","line points) or do they highlight filled regions?","If the fill is *toself* or *tonext* and there are no markers","or text, then the default is *fills*, otherwise it is *points*."].join(" ")},line:{color:{valType:"color",role:"style",description:"Sets the line color."},width:{valType:"number",min:0,dflt:2,role:"style",description:"Sets the line width (in px)."},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",role:"style",description:["Determines the line shape.","With *spline* the lines are drawn using spline interpolation.","The other available values correspond to step-wise line shapes."].join(" ")},smoothing:{valType:"number",min:0,max:1.3,dflt:1,role:"style",description:["Has an effect only if `shape` is set to *spline*","Sets the amount of smoothing.","*0* corresponds to no smoothing (equivalent to a *linear* shape)."].join(" ")},dash:g,simplify:{valType:"boolean",dflt:!0,role:"info",description:["Simplifies lines by removing nearly-collinear points. When transitioning","lines, it may be desirable to disable this so that the number of points","along the resulting SVG path is unaffected."].join(" ")}},connectgaps:{valType:"boolean",dflt:!1,role:"info",description:["Determines whether or not gaps","(i.e. {nan} or missing values)","in the provided data arrays are connected."].join(" ")},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],dflt:"none",role:"style",description:["Sets the area to fill with a solid color.","Use with `fillcolor` if not *none*.","*tozerox* and *tozeroy* fill to x=0 and y=0 respectively.","*tonextx* and *tonexty* fill between the endpoints of this","trace and the endpoints of the trace before it, connecting those","endpoints with straight lines (to make a stacked area graph);","if there is no trace before it, they behave like *tozerox* and","*tozeroy*.","*toself* connects the endpoints of the trace (or each segment","of the trace if it has gaps) into a closed shape.","*tonext* fills the space between two traces if one completely","encloses the other (eg consecutive contour lines), and behaves like","*toself* if there is no trace before it. *tonext* should not be","used if one trace does not enclose the other."].join(" ")},fillcolor:{valType:"color",role:"style",description:["Sets the fill color.","Defaults to a half-transparent variant of the line color,","marker color, or marker line color, whichever is available."].join(" ")},marker:j({},{symbol:{valType:"enumerated",values:h.symbolList,dflt:"circle",arrayOk:!0,role:"style",description:["Sets the marker symbol type.","Adding 100 is equivalent to appending *-open* to a symbol name.","Adding 200 is equivalent to appending *-dot* to a symbol name.","Adding 300 is equivalent to appending *-open-dot*","or *dot-open* to a symbol name."].join(" ")},opacity:{valType:"number",min:0,max:1,arrayOk:!0,role:"style",description:"Sets the marker opacity."},size:{valType:"number",min:0,dflt:6,arrayOk:!0,role:"style",description:"Sets the marker size (in px)."},maxdisplayed:{valType:"number",min:0,dflt:0,role:"style",description:["Sets a maximum number of points to be drawn on the graph.","*0* corresponds to no limit."].join(" ")},sizeref:{valType:"number",dflt:1,role:"style",description:["Has an effect only if `marker.size` is set to a numerical array.","Sets the scale factor used to determine the rendered size of","marker points. Use with `sizemin` and `sizemode`."].join(" ")},sizemin:{valType:"number",min:0,dflt:0,role:"style",description:["Has an effect only if `marker.size` is set to a numerical array.","Sets the minimum size (in px) of the rendered marker points."].join(" ")},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",role:"info",description:["Has an effect only if `marker.size` is set to a numerical array.","Sets the rule for which the data in `size` is converted","to pixels."].join(" ")},showscale:{valType:"boolean",role:"info",dflt:!1,description:["Has an effect only if `marker.color` is set to a numerical array.","Determines whether or not a colorbar is displayed."].join(" ")},colorbar:f,line:j({},{width:{valType:"number",min:0,arrayOk:!0,role:"style",description:"Sets the width (in px) of the lines bounding the marker points."}},d("marker.line")),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",role:"style",description:["Sets the type of gradient used to fill the markers"].join(" ")},color:{valType:"color",arrayOk:!0,role:"style",description:["Sets the final color of the gradient fill:","the center color for radial, the right for horizontal,","or the bottom for vertical."].join(" ")}}},d("marker")),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,role:"style",description:["Sets the positions of the `text` elements","with respects to the (x,y) coordinates."].join(" ")},textfont:{family:{valType:"string",role:"style",noBlank:!0,strict:!0,arrayOk:!0},size:{valType:"number",role:"style",min:1,arrayOk:!0},color:{valType:"color",role:"style",arrayOk:!0},description:"Sets the text font."},r:{valType:"data_array",description:["For polar chart only.","Sets the radial coordinates."].join("")},t:{valType:"data_array",description:["For polar chart only.","Sets the angular coordinates."].join("")},error_y:e,error_x:e}},{"../../components/colorbar/attributes":535,"../../components/colorscale/color_attributes":541,"../../components/drawing":558,"../../components/drawing/attributes":557,"../../components/errorbars/attributes":560,"../../lib/extend":641,"./constants":754}],750:[function(a,b,c){"use strict";var d=a("fast-isnumeric"),e=a("../../plots/cartesian/axes"),f=a("../../constants/numerical").BADNUM,g=a("./subtypes"),h=a("./colorscale_calc"),i=a("./arrays_to_calcdata");b.exports=function(a,b){var c,j,k,l=e.getFromId(a,b.xaxis||"x"),m=e.getFromId(a,b.yaxis||"y"),n=l.makeCalcdata(b,"x"),o=m.makeCalcdata(b,"y"),p=Math.min(n.length,o.length);l._minDtick=0,m._minDtick=0,n.length>p&&n.splice(p,n.length-p),o.length>p&&o.splice(p,o.length-p);var q={padded:!0},r={padded:!0};if(g.hasMarkers(b)){if(c=b.marker,j=c.size,Array.isArray(j)){var s={type:"linear"};e.setConvert(s),j=s.makeCalcdata(b.marker,"size"),j.length>p&&j.splice(p,j.length-p)}var t,u=1.6*(b.marker.sizeref||1);t="area"===b.marker.sizemode?function(a){return Math.max(Math.sqrt((a||0)/u),3)}:function(a){return Math.max((a||0)/u,3)},q.ppad=r.ppad=Array.isArray(j)?j.map(t):t(j)}h(b),!("tozerox"===b.fill||"tonextx"===b.fill&&a.firstscatter)||n[0]===n[p-1]&&o[0]===o[p-1]?b.error_y.visible||-1===["tonexty","tozeroy"].indexOf(b.fill)&&(g.hasMarkers(b)||g.hasText(b))||(q.padded=!1,q.ppad=0):q.tozero=!0,!("tozeroy"===b.fill||"tonexty"===b.fill&&a.firstscatter)||n[0]===n[p-1]&&o[0]===o[p-1]?-1!==["tonextx","tozerox"].indexOf(b.fill)&&(r.padded=!1):r.tozero=!0,e.expand(l,n,q),e.expand(m,o,r);var v=new Array(p);for(k=0;p>k;k++)v[k]=d(n[k])&&d(o[k])?{x:n[k],y:o[k]}:{x:f,y:f},b.ids&&(v[k].id=String(b.ids[k]));return i(v,b),a.firstscatter=!1,v}},{"../../constants/numerical":631,"../../plots/cartesian/axes":680,"./arrays_to_calcdata":748,"./colorscale_calc":753,"./subtypes":769,"fast-isnumeric":259}],751:[function(a,b,c){"use strict";b.exports=function(a){for(var b=0;b<a.length;b++){var c=a[b];if("scatter"===c.type){var d=c.fill;if("none"!==d&&"toself"!==d&&(c.opacity=void 0,"tonexty"===d||"tonextx"===d))for(var e=b-1;e>=0;e--){var f=a[e];if("scatter"===f.type&&f.xaxis===c.xaxis&&f.yaxis===c.yaxis){f.opacity=void 0;break}}}}}},{}],752:[function(a,b,c){"use strict";var d=a("fast-isnumeric"),e=a("../../lib"),f=a("../../plots/plots"),g=a("../../components/colorscale"),h=a("../../components/colorbar/draw");b.exports=function(a,b){var c=b[0].trace,i=c.marker,j="cb"+c.uid;if(a._fullLayout._infolayer.selectAll("."+j).remove(),void 0===i||!i.showscale)return void f.autoMargin(a,j);var k=i.color,l=i.cmin,m=i.cmax;d(l)||(l=e.aggNums(Math.min,null,k)),d(m)||(m=e.aggNums(Math.max,null,k));var n=b[0].t.cb=h(a,j),o=g.makeColorScaleFunc(g.extractScale(i.colorscale,l,m),{noNumericCheck:!0});n.fillcolor(o).filllevels({start:l,end:m,size:(m-l)/254}).options(i.colorbar)()}},{"../../components/colorbar/draw":537,"../../components/colorscale":548,"../../lib":645,"../../plots/plots":708,"fast-isnumeric":259}],753:[function(a,b,c){"use strict";var d=a("../../components/colorscale/has_colorscale"),e=a("../../components/colorscale/calc"),f=a("./subtypes");b.exports=function(a){f.hasLines(a)&&d(a,"line")&&e(a,a.line.color,"line","c"),f.hasMarkers(a)&&(d(a,"marker")&&e(a,a.marker.color,"marker","c"),d(a,"marker.line")&&e(a,a.marker.line.color,"marker.line","c"))}},{"../../components/colorscale/calc":540,"../../components/colorscale/has_colorscale":547,"./subtypes":769}],754:[function(a,b,c){"use strict";b.exports={PTS_LINESONLY:20}},{}],755:[function(a,b,c){"use strict";var d=a("../../lib"),e=a("./attributes"),f=a("./constants"),g=a("./subtypes"),h=a("./xy_defaults"),i=a("./marker_defaults"),j=a("./line_defaults"),k=a("./line_shape_defaults"),l=a("./text_defaults"),m=a("./fillcolor_defaults"),n=a("../../components/errorbars/defaults");b.exports=function(a,b,c,o){function p(c,f){return d.coerce(a,b,e,c,f)}var q=h(a,b,o,p),r=q<f.PTS_LINESONLY?"lines+markers":"lines";if(!q)return void(b.visible=!1);p("customdata"),p("text"),p("hovertext"),p("mode",r),p("ids"),g.hasLines(b)&&(j(a,b,c,o,p),k(a,b,p),p("connectgaps"),p("line.simplify")),g.hasMarkers(b)&&i(a,b,c,o,p,{gradient:!0}),g.hasText(b)&&l(a,b,o,p);var s=[];(g.hasMarkers(b)||g.hasText(b))&&(p("marker.maxdisplayed"),s.push("points")),p("fill"),"none"!==b.fill&&(m(a,b,c,p),g.hasLines(b)||k(a,b,p)),"tonext"!==b.fill&&"toself"!==b.fill||s.push("fills"),p("hoveron",s.join("+")||"points"),n(a,b,c,{axis:"y"}),n(a,b,c,{axis:"x",inherit:"y"})}},{"../../components/errorbars/defaults":563,"../../lib":645,"./attributes":749,"./constants":754,"./fillcolor_defaults":756,"./line_defaults":760,"./line_shape_defaults":762,"./marker_defaults":765,"./subtypes":769,"./text_defaults":770,"./xy_defaults":771}],756:[function(a,b,c){"use strict";var d=a("../../components/color");b.exports=function(a,b,c,e){var f=!1;if(b.marker){var g=b.marker.color,h=(b.marker.line||{}).color;g&&!Array.isArray(g)?f=g:h&&!Array.isArray(h)&&(f=h)}e("fillcolor",d.addOpacity((b.line||{}).color||f||c,.5))}},{"../../components/color":534}],757:[function(a,b,c){"use strict";var d=a("../../components/color"),e=a("./subtypes");b.exports=function(a,b){var c,f;if("lines"===a.mode)return c=a.line.color,c&&d.opacity(c)?c:a.fillcolor;if("none"===a.mode)return a.fill?a.fillcolor:"";var g=b.mcc||(a.marker||{}).color,h=b.mlcc||((a.marker||{}).line||{}).color;return f=g&&d.opacity(g)?g:h&&d.opacity(h)&&(b.mlw||((a.marker||{}).line||{}).width)?h:"",f?d.opacity(f)<.3?d.addOpacity(f,.3):f:(c=(a.line||{}).color,c&&d.opacity(c)&&e.hasLines(a)&&a.line.width?c:a.fillcolor)}},{"../../components/color":534,"./subtypes":769}],758:[function(a,b,c){"use strict";var d=a("../../lib"),e=a("../../components/fx"),f=a("../../components/errorbars"),g=a("./get_trace_color"),h=a("../../components/color"),i=e.constants.MAXDIST;b.exports=function(a,b,c,j){var k=a.cd,l=k[0].trace,m=a.xa,n=a.ya,o=m.c2p(b),p=n.c2p(c),q=[o,p];if(-1!==l.hoveron.indexOf("points")){var r=function(a){var b=Math.max(3,a.mrc||0);return Math.max(Math.abs(m.c2p(a.x)-o)-b,1-3/b)},s=function(a){var b=Math.max(3,a.mrc||0);return Math.max(Math.abs(n.c2p(a.y)-p)-b,1-3/b)},t=function(a){var b=Math.max(3,a.mrc||0),c=m.c2p(a.x)-o,d=n.c2p(a.y)-p;return Math.max(Math.sqrt(c*c+d*d)-b,1-3/b)},u=e.getDistanceFunction(j,r,s,t);if(e.getClosest(k,u,a),!1!==a.index){var v=k[a.index],w=m.c2p(v.x,!0),x=n.c2p(v.y,!0),y=v.mrc||1;return d.extendFlat(a,{color:g(l,v),x0:w-y,x1:w+y,xLabelVal:v.x,y0:x-y,y1:x+y,yLabelVal:v.y}),v.htx?a.text=v.htx:l.hovertext?a.text=l.hovertext:v.tx?a.text=v.tx:l.text&&(a.text=l.text),f.hoverInfo(v,l,a),[a]}}if(-1!==l.hoveron.indexOf("fills")&&l._polygons){var z,A,B,C,D,E,F,G,H,I=l._polygons,J=[],K=!1,L=1/0,M=-1/0,N=1/0,O=-1/0;for(z=0;z<I.length;z++)B=I[z],B.contains(q)&&(K=!K,J.push(B),N=Math.min(N,B.ymin),O=Math.max(O,B.ymax));if(K){N=Math.max(N,0),O=Math.min(O,n._length);var P=(N+O)/2;for(z=0;z<J.length;z++)for(C=J[z].pts,A=1;A<C.length;A++)G=C[A-1][1],H=C[A][1],G>P!=H>=P&&(E=C[A-1][0],F=C[A][0],D=E+(F-E)*(P-G)/(H-G),L=Math.min(L,D),M=Math.max(M,D));L=Math.max(L,0),M=Math.min(M,m._length);var Q=h.defaultLine;return h.opacity(l.fillcolor)?Q=l.fillcolor:h.opacity((l.line||{}).color)&&(Q=l.line.color),d.extendFlat(a,{distance:i+10,x0:L,x1:M,y0:P,y1:P,color:Q}),delete a.index,l.text&&!Array.isArray(l.text)?a.text=String(l.text):a.text=l.name,[a]}}}},{"../../components/color":534,"../../components/errorbars":564,"../../components/fx":575,"../../lib":645,"./get_trace_color":757}],759:[function(a,b,c){"use strict";var d={},e=a("./subtypes");d.hasLines=e.hasLines,d.hasMarkers=e.hasMarkers,d.hasText=e.hasText,d.isBubble=e.isBubble,d.attributes=a("./attributes"),d.supplyDefaults=a("./defaults"),d.cleanData=a("./clean_data"),d.calc=a("./calc"),d.arraysToCalcdata=a("./arrays_to_calcdata"),d.plot=a("./plot"),d.colorbar=a("./colorbar"),d.style=a("./style"),d.hoverPoints=a("./hover"),d.selectPoints=a("./select"),d.animatable=!0,d.moduleType="trace",d.name="scatter",d.basePlotModule=a("../../plots/cartesian"),d.categories=["cartesian","symbols","markerColorscale","errorBarsOK","showLegend"],d.meta={description:["The scatter trace type encompasses line charts, scatter charts, text charts, and bubble charts.","The data visualized as scatter point or lines is set in `x` and `y`.","Text (appearing either on the chart or on hover only) is via `text`.","Bubble charts are achieved by setting `marker.size` and/or `marker.color`","to numerical arrays."].join(" ")},b.exports=d},{"../../plots/cartesian":690,"./arrays_to_calcdata":748,"./attributes":749,"./calc":750,"./clean_data":751,"./colorbar":752,"./defaults":755,"./hover":758,"./plot":766,"./select":767,"./style":768,"./subtypes":769}],760:[function(a,b,c){"use strict";var d=a("../../components/colorscale/has_colorscale"),e=a("../../components/colorscale/defaults");b.exports=function(a,b,c,f,g,h){var i=(a.marker||{}).color;g("line.color",c),d(a,"line")?e(a,b,f,g,{prefix:"line.",cLetter:"c"}):g("line.color",!Array.isArray(i)&&i||c),g("line.width"),(h||{}).noDash||g("line.dash")}},{"../../components/colorscale/defaults":543,"../../components/colorscale/has_colorscale":547}],761:[function(a,b,c){"use strict";var d=a("../../constants/numerical").BADNUM;b.exports=function(a,b){function c(b){var c=v.c2p(a[b].x),e=w.c2p(a[b].y);return c!==d&&e!==d&&[c,e]}function e(a){var b=a[0]/v._length,c=a[1]/w._length;return(1+10*Math.max(0,-b,b-1,-c,c-1))*z}var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=b.xaxis,w=b.yaxis,x=b.simplify,y=b.connectGaps,z=b.baseTolerance,A=b.linear,B=[],C=.2,D=new Array(a.length),E=0;for(x||(z=C=-1),f=0;f<a.length;f++)if(g=c(f)){for(E=0,D[E++]=g,f++;f<a.length;f++){if(!(i=c(f))){if(y)continue;break}if(A){if(!((l=function(a,b){var c=a[0]-b[0],d=a[1]-b[1];return Math.sqrt(c*c+d*d)}(i,g))<e(i)*C)){for(n=[(i[0]-g[0])/l,(i[1]-g[1])/l],j=g,p=l,q=s=t=0,m=!1,h=i,f++;f<a.length;f++){if(!(k=c(f))){if(y)continue;break}if(o=[k[0]-g[0],k[1]-g[1]],u=o[0]*n[1]-o[1]*n[0],s=Math.min(s,u),(t=Math.max(t,u))-s>e(k))break;h=k,r=o[0]*n[0]+o[1]*n[1],r>p?(p=r,i=k,m=!1):q>r&&(q=r,j=k,m=!0)}if(m?(D[E++]=i,h!==j&&(D[E++]=j)):(j!==g&&(D[E++]=j),h!==i&&(D[E++]=i)),D[E++]=h,f>=a.length||!k)break;D[E++]=k,g=k}}else D[E++]=i}B.push(D.slice(0,E))}return B}},{"../../constants/numerical":631}],762:[function(a,b,c){"use strict";b.exports=function(a,b,c){"spline"===c("line.shape")&&c("line.smoothing")}},{}],763:[function(a,b,c){"use strict";b.exports=function(a,b,c){for(var d,e,f=null,g=0;g<c.length;++g)d=c[g],e=d[0].trace,!0===e.visible?(e._nexttrace=null,-1!==["tonextx","tonexty","tonext"].indexOf(e.fill)&&(e._prevtrace=f,f&&(f._nexttrace=e)),f=e):e._prevtrace=e._nexttrace=null}},{}],764:[function(a,b,c){"use strict";var d=a("fast-isnumeric");b.exports=function(a){var b=a.marker,c=b.sizeref||1,e=b.sizemin||0,f="area"===b.sizemode?function(a){return Math.sqrt(a/c)}:function(a){return a/c};return function(a){var b=f(a/2);return d(b)&&b>0?Math.max(b,e):0}}},{"fast-isnumeric":259}],765:[function(a,b,c){"use strict";var d=a("../../components/color"),e=a("../../components/colorscale/has_colorscale"),f=a("../../components/colorscale/defaults"),g=a("./subtypes");b.exports=function(a,b,c,h,i,j){var k,l=g.isBubble(a),m=(a.line||{}).color;j=j||{},m&&(c=m),i("marker.symbol"),i("marker.opacity",l?.7:1),i("marker.size"),i("marker.color",c),e(a,"marker")&&f(a,b,h,i,{prefix:"marker.",cLetter:"c"}),j.noLine||(k=m&&!Array.isArray(m)&&b.marker.color!==m?m:l?d.background:d.defaultLine,i("marker.line.color",k),e(a,"marker.line")&&f(a,b,h,i,{prefix:"marker.line.",cLetter:"c"}),i("marker.line.width",l?1:0)),l&&(i("marker.sizeref"),i("marker.sizemin"),i("marker.sizemode")),j.gradient&&"none"!==i("marker.gradient.type")&&i("marker.gradient.color")}},{"../../components/color":534,"../../components/colorscale/defaults":543,"../../components/colorscale/has_colorscale":547,"./subtypes":769}],766:[function(a,b,c){"use strict";function d(a,b){var c;b.selectAll("g.trace").each(function(a){var b=g.select(this);if(c=a[0].trace,c._nexttrace){if(c._nextFill=b.select(".js-fill.js-tonext"),!c._nextFill.size()){var d=":first-child";b.select(".js-fill.js-tozero").size()&&(d+=" + *"),c._nextFill=b.insert("path",d).attr("class","js-fill js-tonext")}}else b.selectAll(".js-fill.js-tonext").remove(),c._nextFill=null;c.fill&&("tozero"===c.fill.substr(0,6)||"toself"===c.fill||"to"===c.fill.substr(0,2)&&!c._prevtrace)?(c._ownFill=b.select(".js-fill.js-tozero"),c._ownFill.size()||(c._ownFill=b.insert("path",":first-child").attr("class","js-fill js-tozero"))):(b.selectAll(".js-fill.js-tozero").remove(),c._ownFill=null)})}function e(a,b,c,d,e,m,o){function p(a){return x?a.transition():a}function q(a){return a.filter(function(a){return a.vis})}function r(a){return a.id}function s(a){return a.ids?r:void 0}function t(){return!1}function u(b){var c,d,e,f=b[0].trace,j=g.select(this),l=k.hasMarkers(f),m=k.hasText(f),n=s(f),o=t,r=t;l&&(o=f.marker.maxdisplayed||f._needsCull?q:h.identity),m&&(r=f.marker.maxdisplayed||f._needsCull?q:h.identity),d=j.selectAll("path.point"),c=d.data(o,n);var u=c.enter().append("path").classed("point",!0);u.call(i.pointStyle,f).call(i.translatePoints,y,z,f),x&&u.style("opacity",0).transition().style("opacity",1);var v=l&&i.tryColorscale(f.marker,""),w=l&&i.tryColorscale(f.marker,"line");c.each(function(b){var c=g.select(this),d=p(c);(e=i.translatePoint(b,d,y,z))&&(i.singlePointStyle(b,d,f,v,w,a),f.customdata&&c.classed("plotly-customdata",null!==b.data&&void 0!==b.data))}),x?c.exit().transition().style("opacity",0).remove():c.exit().remove(),d=j.selectAll("g"),c=d.data(r,n),c.enter().append("g").classed("textpoint",!0).append("text"),c.each(function(a){var b=g.select(this),c=p(b.select("text"));(e=i.translatePoint(a,c,y,z))||b.remove()}),c.selectAll("text").call(i.textPointStyle,f).each(function(a){var b=a.xp||y.c2p(a.x),c=a.yp||z.c2p(a.y);g.select(this).selectAll("tspan.line").each(function(){p(g.select(this)).attr({x:b,y:c})})}),c.exit().remove()}var v,w;f(a,b,c,d,e);var x=!!o&&o.duration>0,y=c.xaxis,z=c.yaxis,A=d[0].trace,B=A.line,C=g.select(m);if(C.call(j.plot,c,o),!0===A.visible){p(C).style("opacity",A.opacity);var D,E,F=A.fill.charAt(A.fill.length-1);"x"!==F&&"y"!==F&&(F=""),d[0].node3=C;var G="",H=[],I=A._prevtrace;I&&(G=I._prevRevpath||"",E=I._nextFill,H=I._polygons);var J,K,L,M,N,O,P,Q,R,S="",T="",U=[],V=[],W=h.noop;if(D=A._ownFill,k.hasLines(A)||"none"!==A.fill){for(E&&E.datum(d),-1!==["hv","vh","hvh","vhv"].indexOf(B.shape)?(L=i.steps(B.shape),M=i.steps(B.shape.split("").reverse().join(""))):L=M="spline"===B.shape?function(a){var b=a[a.length-1];return a[0][0]===b[0]&&a[0][1]===b[1]?i.smoothclosed(a.slice(1),B.smoothing):i.smoothopen(a,B.smoothing)}:function(a){return"M"+a.join("L")},N=function(a){return M(a.reverse())},U=l(d,{xaxis:y,yaxis:z,connectGaps:A.connectgaps,baseTolerance:Math.max(B.width||1,3)/4,linear:"linear"===B.shape,simplify:B.simplify}),R=A._polygons=new Array(U.length),w=0;w<U.length;w++)A._polygons[w]=n(U[w]);U.length&&(O=U[0][0],P=U[U.length-1],Q=P[P.length-1]),V=U.filter(function(a){return a.length>1}),W=function(a){return function(b){if(J=L(b),K=N(b),S?F?(S+="L"+J.substr(1),T=K+"L"+T.substr(1)):(S+="Z"+J,T=K+"Z"+T):(S=J,T=K),k.hasLines(A)&&b.length>1){var c=g.select(this);if(c.datum(d),a)p(c.style("opacity",0).attr("d",J).call(i.lineGroupStyle)).style("opacity",1);else{var e=p(c);e.attr("d",J),i.singleLineStyle(d,e)}}}}}var X=C.selectAll(".js-line").data(V);p(X.exit()).style("opacity",0).remove(),X.each(W(!1)),X.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(i.lineGroupStyle).each(W(!0)),U.length&&(D?O&&Q&&(F?("y"===F?O[1]=Q[1]=z.c2p(0,!0):"x"===F&&(O[0]=Q[0]=y.c2p(0,!0)),p(D).attr("d","M"+Q+"L"+O+"L"+S.substr(1))):p(D).attr("d",S+"Z")):"tonext"===A.fill.substr(0,6)&&S&&G&&("tonext"===A.fill?p(E).attr("d",S+"Z"+G+"Z"):p(E).attr("d",S+"L"+G.substr(1)+"Z"),A._polygons=A._polygons.concat(H)),A._prevRevpath=T,A._prevPolygons=R);var Y=C.selectAll(".points");v=Y.data([d]),Y.each(u),v.enter().append("g").classed("points",!0).each(u),v.exit().remove()}}function f(a,b,c,d,e){var f=c.xaxis,i=c.yaxis,j=g.extent(h.simpleMap(f.range,f.r2c)),l=g.extent(h.simpleMap(i.range,i.r2c)),m=d[0].trace;if(k.hasMarkers(m)){var n=m.marker.maxdisplayed;if(0!==n){var o=d.filter(function(a){return a.x>=j[0]&&a.x<=j[1]&&a.y>=l[0]&&a.y<=l[1]}),p=Math.ceil(o.length/n),q=0;e.forEach(function(a,c){var d=a[0].trace;k.hasMarkers(d)&&d.marker.maxdisplayed>0&&b>c&&q++});var r=Math.round(q*p/3+Math.floor(q/3)*p/7.1);d.forEach(function(a){delete a.vis}),o.forEach(function(a,b){0===Math.round((b+r)%p)&&(a.vis=!0)})}}}var g=a("d3"),h=a("../../lib"),i=a("../../components/drawing"),j=a("../../components/errorbars"),k=a("./subtypes"),l=a("./line_points"),m=a("./link_traces"),n=a("../../lib/polygon").tester;b.exports=function(a,b,c,f,h){var i,j,k,l,n,o=b.plot.select("g.scatterlayer"),p=!f,q=!!f&&f.duration>0;for(k=o.selectAll("g.trace"),l=k.data(c,function(a){return a[0].trace.uid}),l.enter().append("g").attr("class",function(a){return"trace scatter trace"+a[0].trace.uid}).style("stroke-miterlimit",2),m(a,b,c),d(a,o),i=0,j={};i<c.length;i++)j[c[i][0].trace.uid]=i;o.selectAll("g.trace").sort(function(a,b){return j[a[0].trace.uid]>j[b[0].trace.uid]?1:-1}),q?(h&&(n=h()),g.transition().duration(f.duration).ease(f.easing).each("end",function(){n&&n()}).each("interrupt",function(){n&&n()}).each(function(){o.selectAll("g.trace").each(function(d,g){e(a,g,b,d,c,this,f)})})):o.selectAll("g.trace").each(function(d,g){e(a,g,b,d,c,this,f)}),p&&l.exit().remove(),o.selectAll("path:not([d])").remove()}},{"../../components/drawing":558,"../../components/errorbars":564,"../../lib":645,"../../lib/polygon":655,"./line_points":761,"./link_traces":763,"./subtypes":769,d3:256}],767:[function(a,b,c){"use strict";var d=a("./subtypes");b.exports=function(a,b){var c,e,f,g,h=a.cd,i=a.xaxis,j=a.yaxis,k=[],l=h[0].trace,m=l.index,n=l.marker,o=!d.hasMarkers(l)&&!d.hasText(l);if(!0===l.visible&&!o){var p=Array.isArray(n.opacity)?1:n.opacity;if(!1===b)for(c=0;c<h.length;c++)h[c].dim=0;else for(c=0;c<h.length;c++)e=h[c],
f=i.c2p(e.x),g=j.c2p(e.y),b.contains([f,g])?(k.push({curveNumber:m,pointNumber:c,x:e.x,y:e.y,id:e.id}),e.dim=0):e.dim=1;return h[0].node3.selectAll("path.point").style("opacity",function(a){return((a.mo+1||p+1)-1)*(a.dim?.2:1)}),h[0].node3.selectAll("text").style("opacity",function(a){return a.dim?.2:1}),k}}},{"./subtypes":769}],768:[function(a,b,c){"use strict";var d=a("d3"),e=a("../../components/drawing"),f=a("../../components/errorbars");b.exports=function(a){var b=d.select(a).selectAll("g.trace.scatter");b.style("opacity",function(a){return a[0].trace.opacity}),b.selectAll("g.points").each(function(a){var b=d.select(this),c=b.selectAll("path.point"),f=a.trace||a[0].trace;c.call(e.pointStyle,f),b.selectAll("text").call(e.textPointStyle,f)}),b.selectAll("g.trace path.js-line").call(e.lineGroupStyle),b.selectAll("g.trace path.js-fill").call(e.fillGroupStyle),b.call(f.style)}},{"../../components/drawing":558,"../../components/errorbars":564,d3:256}],769:[function(a,b,c){"use strict";var d=a("../../lib");b.exports={hasLines:function(a){return a.visible&&a.mode&&-1!==a.mode.indexOf("lines")},hasMarkers:function(a){return a.visible&&a.mode&&-1!==a.mode.indexOf("markers")},hasText:function(a){return a.visible&&a.mode&&-1!==a.mode.indexOf("text")},isBubble:function(a){return d.isPlainObject(a.marker)&&Array.isArray(a.marker.size)}}},{"../../lib":645}],770:[function(a,b,c){"use strict";var d=a("../../lib");b.exports=function(a,b,c,e){e("textposition"),d.coerceFont(e,"textfont",c.font)}},{"../../lib":645}],771:[function(a,b,c){"use strict";var d=a("../../registry");b.exports=function(a,b,c,e){var f,g=e("x"),h=e("y");if(d.getComponentMethod("calendars","handleTraceDefaults")(a,b,["x","y"],c),g)h?(f=Math.min(g.length,h.length),f<g.length&&(b.x=g.slice(0,f)),f<h.length&&(b.y=h.slice(0,f))):(f=g.length,e("y0"),e("dy"));else{if(!h)return 0;f=b.y.length,e("x0"),e("dx")}return f}},{"../../registry":715}],772:[function(a,b,c){function d(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function f(a){if(l===setTimeout)return setTimeout(a,0);if((l===d||!l)&&setTimeout)return l=setTimeout,setTimeout(a,0);try{return l(a,0)}catch(b){try{return l.call(null,a,0)}catch(b){return l.call(this,a,0)}}}function g(a){if(m===clearTimeout)return clearTimeout(a);if((m===e||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(a);try{return m(a)}catch(b){try{return m.call(null,a)}catch(b){return m.call(this,a)}}}function h(){q&&o&&(q=!1,o.length?p=o.concat(p):r=-1,p.length&&i())}function i(){if(!q){var a=f(h);q=!0;for(var b=p.length;b;){for(o=p,p=[];++r<b;)o&&o[r].run();r=-1,b=p.length}o=null,q=!1,g(a)}}function j(a,b){this.fun=a,this.array=b}function k(){}var l,m,n=b.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:d}catch(a){l=d}try{m="function"==typeof clearTimeout?clearTimeout:e}catch(a){m=e}}();var o,p=[],q=!1,r=-1;n.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];p.push(new j(a,b)),1!==p.length||q||f(i)},j.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=k,n.addListener=k,n.once=k,n.off=k,n.removeListener=k,n.removeAllListeners=k,n.emit=k,n.prependListener=k,n.prependOnceListener=k,n.listeners=function(a){return[]},n.binding=function(a){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(a){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],773:[function(a,b,c){!function(a){function c(a,b){if(a=a||"",b=b||{},a instanceof c)return a;if(!(this instanceof c))return new c(a,b);var e=d(a);this._originalInput=a,this._r=e.r,this._g=e.g,this._b=e.b,this._a=e.a,this._roundA=P(100*this._a)/100,this._format=b.format||e.format,this._gradientType=b.gradientType,this._r<1&&(this._r=P(this._r)),this._g<1&&(this._g=P(this._g)),this._b<1&&(this._b=P(this._b)),this._ok=e.ok,this._tc_id=O++}function d(a){var b={r:0,g:0,b:0},c=1,d=null,f=null,h=null,j=!1,k=!1;return"string"==typeof a&&(a=K(a)),"object"==(void 0===a?"undefined":_typeof(a))&&(J(a.r)&&J(a.g)&&J(a.b)?(b=e(a.r,a.g,a.b),j=!0,k="%"===String(a.r).substr(-1)?"prgb":"rgb"):J(a.h)&&J(a.s)&&J(a.v)?(d=G(a.s),f=G(a.v),b=i(a.h,d,f),j=!0,k="hsv"):J(a.h)&&J(a.s)&&J(a.l)&&(d=G(a.s),h=G(a.l),b=g(a.h,d,h),j=!0,k="hsl"),a.hasOwnProperty("a")&&(c=a.a)),c=z(c),{ok:j,format:a.format||k,r:Q(255,R(b.r,0)),g:Q(255,R(b.g,0)),b:Q(255,R(b.b,0)),a:c}}function e(a,b,c){return{r:255*A(a,255),g:255*A(b,255),b:255*A(c,255)}}function f(a,b,c){a=A(a,255),b=A(b,255),c=A(c,255);var d,e,f=R(a,b,c),g=Q(a,b,c),h=(f+g)/2;if(f==g)d=e=0;else{var i=f-g;switch(e=h>.5?i/(2-f-g):i/(f+g),f){case a:d=(b-c)/i+(c>b?6:0);break;case b:d=(c-a)/i+2;break;case c:d=(a-b)/i+4}d/=6}return{h:d,s:e,l:h}}function g(a,b,c){function d(a,b,c){return 0>c&&(c+=1),c>1&&(c-=1),1/6>c?a+6*(b-a)*c:.5>c?b:2/3>c?a+(b-a)*(2/3-c)*6:a}var e,f,g;if(a=A(a,360),b=A(b,100),c=A(c,100),0===b)e=f=g=c;else{var h=.5>c?c*(1+b):c+b-c*b,i=2*c-h;e=d(i,h,a+1/3),f=d(i,h,a),g=d(i,h,a-1/3)}return{r:255*e,g:255*f,b:255*g}}function h(a,b,c){a=A(a,255),b=A(b,255),c=A(c,255);var d,e,f=R(a,b,c),g=Q(a,b,c),h=f,i=f-g;if(e=0===f?0:i/f,f==g)d=0;else{switch(f){case a:d=(b-c)/i+(c>b?6:0);break;case b:d=(c-a)/i+2;break;case c:d=(a-b)/i+4}d/=6}return{h:d,s:e,v:h}}function i(b,c,d){b=6*A(b,360),c=A(c,100),d=A(d,100);var e=a.floor(b),f=b-e,g=d*(1-c),h=d*(1-f*c),i=d*(1-(1-f)*c),j=e%6;return{r:255*[d,h,g,g,i,d][j],g:255*[i,d,d,h,g,g][j],b:255*[g,g,i,d,d,h][j]}}function j(a,b,c,d){var e=[F(P(a).toString(16)),F(P(b).toString(16)),F(P(c).toString(16))];return d&&e[0].charAt(0)==e[0].charAt(1)&&e[1].charAt(0)==e[1].charAt(1)&&e[2].charAt(0)==e[2].charAt(1)?e[0].charAt(0)+e[1].charAt(0)+e[2].charAt(0):e.join("")}function k(a,b,c,d,e){var f=[F(P(a).toString(16)),F(P(b).toString(16)),F(P(c).toString(16)),F(H(d))];return e&&f[0].charAt(0)==f[0].charAt(1)&&f[1].charAt(0)==f[1].charAt(1)&&f[2].charAt(0)==f[2].charAt(1)&&f[3].charAt(0)==f[3].charAt(1)?f[0].charAt(0)+f[1].charAt(0)+f[2].charAt(0)+f[3].charAt(0):f.join("")}function l(a,b,c,d){return[F(H(d)),F(P(a).toString(16)),F(P(b).toString(16)),F(P(c).toString(16))].join("")}function m(a,b){b=0===b?0:b||10;var d=c(a).toHsl();return d.s-=b/100,d.s=B(d.s),c(d)}function n(a,b){b=0===b?0:b||10;var d=c(a).toHsl();return d.s+=b/100,d.s=B(d.s),c(d)}function o(a){return c(a).desaturate(100)}function p(a,b){b=0===b?0:b||10;var d=c(a).toHsl();return d.l+=b/100,d.l=B(d.l),c(d)}function q(a,b){b=0===b?0:b||10;var d=c(a).toRgb();return d.r=R(0,Q(255,d.r-P(-b/100*255))),d.g=R(0,Q(255,d.g-P(-b/100*255))),d.b=R(0,Q(255,d.b-P(-b/100*255))),c(d)}function r(a,b){b=0===b?0:b||10;var d=c(a).toHsl();return d.l-=b/100,d.l=B(d.l),c(d)}function s(a,b){var d=c(a).toHsl(),e=(d.h+b)%360;return d.h=0>e?360+e:e,c(d)}function t(a){var b=c(a).toHsl();return b.h=(b.h+180)%360,c(b)}function u(a){var b=c(a).toHsl(),d=b.h;return[c(a),c({h:(d+120)%360,s:b.s,l:b.l}),c({h:(d+240)%360,s:b.s,l:b.l})]}function v(a){var b=c(a).toHsl(),d=b.h;return[c(a),c({h:(d+90)%360,s:b.s,l:b.l}),c({h:(d+180)%360,s:b.s,l:b.l}),c({h:(d+270)%360,s:b.s,l:b.l})]}function w(a){var b=c(a).toHsl(),d=b.h;return[c(a),c({h:(d+72)%360,s:b.s,l:b.l}),c({h:(d+216)%360,s:b.s,l:b.l})]}function x(a,b,d){b=b||6,d=d||30;var e=c(a).toHsl(),f=360/d,g=[c(a)];for(e.h=(e.h-(f*b>>1)+720)%360;--b;)e.h=(e.h+f)%360,g.push(c(e));return g}function y(a,b){b=b||6;for(var d=c(a).toHsv(),e=d.h,f=d.s,g=d.v,h=[],i=1/b;b--;)h.push(c({h:e,s:f,v:g})),g=(g+i)%1;return h}function z(a){return a=parseFloat(a),(isNaN(a)||0>a||a>1)&&(a=1),a}function A(b,c){D(b)&&(b="100%");var d=E(b);return b=Q(c,R(0,parseFloat(b))),d&&(b=parseInt(b*c,10)/100),a.abs(b-c)<1e-6?1:b%c/parseFloat(c)}function B(a){return Q(1,R(0,a))}function C(a){return parseInt(a,16)}function D(a){return"string"==typeof a&&-1!=a.indexOf(".")&&1===parseFloat(a)}function E(a){return"string"==typeof a&&-1!=a.indexOf("%")}function F(a){return 1==a.length?"0"+a:""+a}function G(a){return 1>=a&&(a=100*a+"%"),a}function H(b){return a.round(255*parseFloat(b)).toString(16)}function I(a){return C(a)/255}function J(a){return!!V.CSS_UNIT.exec(a)}function K(a){a=a.replace(M,"").replace(N,"").toLowerCase();var b=!1;if(T[a])a=T[a],b=!0;else if("transparent"==a)return{r:0,g:0,b:0,a:0,format:"name"};var c;return(c=V.rgb.exec(a))?{r:c[1],g:c[2],b:c[3]}:(c=V.rgba.exec(a))?{r:c[1],g:c[2],b:c[3],a:c[4]}:(c=V.hsl.exec(a))?{h:c[1],s:c[2],l:c[3]}:(c=V.hsla.exec(a))?{h:c[1],s:c[2],l:c[3],a:c[4]}:(c=V.hsv.exec(a))?{h:c[1],s:c[2],v:c[3]}:(c=V.hsva.exec(a))?{h:c[1],s:c[2],v:c[3],a:c[4]}:(c=V.hex8.exec(a))?{r:C(c[1]),g:C(c[2]),b:C(c[3]),a:I(c[4]),format:b?"name":"hex8"}:(c=V.hex6.exec(a))?{r:C(c[1]),g:C(c[2]),b:C(c[3]),format:b?"name":"hex"}:(c=V.hex4.exec(a))?{r:C(c[1]+""+c[1]),g:C(c[2]+""+c[2]),b:C(c[3]+""+c[3]),a:I(c[4]+""+c[4]),format:b?"name":"hex8"}:!!(c=V.hex3.exec(a))&&{r:C(c[1]+""+c[1]),g:C(c[2]+""+c[2]),b:C(c[3]+""+c[3]),format:b?"name":"hex"}}function L(a){var b,c;return a=a||{level:"AA",size:"small"},b=(a.level||"AA").toUpperCase(),c=(a.size||"small").toLowerCase(),"AA"!==b&&"AAA"!==b&&(b="AA"),"small"!==c&&"large"!==c&&(c="small"),{level:b,size:c}}var M=/^\s+/,N=/\s+$/,O=0,P=a.round,Q=a.min,R=a.max,S=a.random;c.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var a=this.toRgb();return(299*a.r+587*a.g+114*a.b)/1e3},getLuminance:function(){var b,c,d,e,f,g,h=this.toRgb();return b=h.r/255,c=h.g/255,d=h.b/255,e=.03928>=b?b/12.92:a.pow((b+.055)/1.055,2.4),f=.03928>=c?c/12.92:a.pow((c+.055)/1.055,2.4),g=.03928>=d?d/12.92:a.pow((d+.055)/1.055,2.4),.2126*e+.7152*f+.0722*g},setAlpha:function(a){return this._a=z(a),this._roundA=P(100*this._a)/100,this},toHsv:function(){var a=h(this._r,this._g,this._b);return{h:360*a.h,s:a.s,v:a.v,a:this._a}},toHsvString:function(){var a=h(this._r,this._g,this._b),b=P(360*a.h),c=P(100*a.s),d=P(100*a.v);return 1==this._a?"hsv("+b+", "+c+"%, "+d+"%)":"hsva("+b+", "+c+"%, "+d+"%, "+this._roundA+")"},toHsl:function(){var a=f(this._r,this._g,this._b);return{h:360*a.h,s:a.s,l:a.l,a:this._a}},toHslString:function(){var a=f(this._r,this._g,this._b),b=P(360*a.h),c=P(100*a.s),d=P(100*a.l);return 1==this._a?"hsl("+b+", "+c+"%, "+d+"%)":"hsla("+b+", "+c+"%, "+d+"%, "+this._roundA+")"},toHex:function(a){return j(this._r,this._g,this._b,a)},toHexString:function(a){return"#"+this.toHex(a)},toHex8:function(a){return k(this._r,this._g,this._b,this._a,a)},toHex8String:function(a){return"#"+this.toHex8(a)},toRgb:function(){return{r:P(this._r),g:P(this._g),b:P(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+P(this._r)+", "+P(this._g)+", "+P(this._b)+")":"rgba("+P(this._r)+", "+P(this._g)+", "+P(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:P(100*A(this._r,255))+"%",g:P(100*A(this._g,255))+"%",b:P(100*A(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+P(100*A(this._r,255))+"%, "+P(100*A(this._g,255))+"%, "+P(100*A(this._b,255))+"%)":"rgba("+P(100*A(this._r,255))+"%, "+P(100*A(this._g,255))+"%, "+P(100*A(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(U[j(this._r,this._g,this._b,!0)]||!1)},toFilter:function(a){var b="#"+l(this._r,this._g,this._b,this._a),d=b,e=this._gradientType?"GradientType = 1, ":"";if(a){var f=c(a);d="#"+l(f._r,f._g,f._b,f._a)}return"progid:DXImageTransform.Microsoft.gradient("+e+"startColorstr="+b+",endColorstr="+d+")"},toString:function(a){var b=!!a;a=a||this._format;var c=!1,d=this._a<1&&this._a>=0;return b||!d||"hex"!==a&&"hex6"!==a&&"hex3"!==a&&"hex4"!==a&&"hex8"!==a&&"name"!==a?("rgb"===a&&(c=this.toRgbString()),"prgb"===a&&(c=this.toPercentageRgbString()),"hex"!==a&&"hex6"!==a||(c=this.toHexString()),"hex3"===a&&(c=this.toHexString(!0)),"hex4"===a&&(c=this.toHex8String(!0)),"hex8"===a&&(c=this.toHex8String()),"name"===a&&(c=this.toName()),"hsl"===a&&(c=this.toHslString()),"hsv"===a&&(c=this.toHsvString()),c||this.toHexString()):"name"===a&&0===this._a?this.toName():this.toRgbString()},clone:function(){return c(this.toString())},_applyModification:function(a,b){var c=a.apply(null,[this].concat([].slice.call(b)));return this._r=c._r,this._g=c._g,this._b=c._b,this.setAlpha(c._a),this},lighten:function(){return this._applyModification(p,arguments)},brighten:function(){return this._applyModification(q,arguments)},darken:function(){return this._applyModification(r,arguments)},desaturate:function(){return this._applyModification(m,arguments)},saturate:function(){return this._applyModification(n,arguments)},greyscale:function(){return this._applyModification(o,arguments)},spin:function(){return this._applyModification(s,arguments)},_applyCombination:function(a,b){return a.apply(null,[this].concat([].slice.call(b)))},analogous:function(){return this._applyCombination(x,arguments)},complement:function(){return this._applyCombination(t,arguments)},monochromatic:function(){return this._applyCombination(y,arguments)},splitcomplement:function(){return this._applyCombination(w,arguments)},triad:function(){return this._applyCombination(u,arguments)},tetrad:function(){return this._applyCombination(v,arguments)}},c.fromRatio=function(a,b){if("object"==(void 0===a?"undefined":_typeof(a))){var d={};for(var e in a)a.hasOwnProperty(e)&&(d[e]="a"===e?a[e]:G(a[e]));a=d}return c(a,b)},c.equals=function(a,b){return!(!a||!b)&&c(a).toRgbString()==c(b).toRgbString()},c.random=function(){return c.fromRatio({r:S(),g:S(),b:S()})},c.mix=function(a,b,d){d=0===d?0:d||50;var e=c(a).toRgb(),f=c(b).toRgb(),g=d/100;return c({r:(f.r-e.r)*g+e.r,g:(f.g-e.g)*g+e.g,b:(f.b-e.b)*g+e.b,a:(f.a-e.a)*g+e.a})},c.readability=function(b,d){var e=c(b),f=c(d);return(a.max(e.getLuminance(),f.getLuminance())+.05)/(a.min(e.getLuminance(),f.getLuminance())+.05)},c.isReadable=function(a,b,d){var e,f,g=c.readability(a,b);switch(f=!1,e=L(d),e.level+e.size){case"AAsmall":case"AAAlarge":f=g>=4.5;break;case"AAlarge":f=g>=3;break;case"AAAsmall":f=g>=7}return f},c.mostReadable=function(a,b,d){var e,f,g,h,i=null,j=0;d=d||{},f=d.includeFallbackColors,g=d.level,h=d.size;for(var k=0;k<b.length;k++)(e=c.readability(a,b[k]))>j&&(j=e,i=c(b[k]));return c.isReadable(a,i,{level:g,size:h})||!f?i:(d.includeFallbackColors=!1,c.mostReadable(a,["#fff","#000"],d))};var T=c.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},U=c.hexNames=function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[a[c]]=c);return b}(T),V=function(){var a="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",b="[\\s|\\(]+("+a+")[,|\\s]+("+a+")[,|\\s]+("+a+")\\s*\\)?",c="[\\s|\\(]+("+a+")[,|\\s]+("+a+")[,|\\s]+("+a+")[,|\\s]+("+a+")\\s*\\)?";return{CSS_UNIT:new RegExp(a),rgb:new RegExp("rgb"+b),rgba:new RegExp("rgba"+c),hsl:new RegExp("hsl"+b),hsla:new RegExp("hsla"+c),hsv:new RegExp("hsv"+b),hsva:new RegExp("hsva"+c),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();void 0!==b&&b.exports?b.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):window.tinycolor=c}(Math)},{}],774:[function(a,b,c){!function(a,d){"use strict";"object"===(void 0===c?"undefined":_typeof(c))?b.exports=d():"function"==typeof define&&define.amd?define(d):a.IPv6=d(a)}(this,function(a){"use strict";function b(a){var b=a.toLowerCase(),c=b.split(":"),d=c.length,e=8;""===c[0]&&""===c[1]&&""===c[2]?(c.shift(),c.shift()):""===c[0]&&""===c[1]?c.shift():""===c[d-1]&&""===c[d-2]&&c.pop(),d=c.length,-1!==c[d-1].indexOf(".")&&(e=7);var f;for(f=0;d>f&&""!==c[f];f++);if(e>f){for(c.splice(f,1,"0000");c.length<e;)c.splice(f,0,"0000");d=c.length}for(var g,h=0;e>h;h++){g=c[h].split("");for(var i=0;3>i&&"0"===g[0]&&g.length>1;i++)g.splice(0,1);c[h]=g.join("")}var j=-1,k=0,l=0,m=-1,n=!1;for(h=0;e>h;h++)n?"0"===c[h]?l+=1:(n=!1,l>k&&(j=m,k=l)):"0"===c[h]&&(n=!0,m=h,l=1);l>k&&(j=m,k=l),k>1&&c.splice(j,k,""),d=c.length;var o="";for(""===c[0]&&(o=":"),h=0;d>h&&(o+=c[h],h!==d-1);h++)o+=":";return""===c[d-1]&&(o+=":"),o}function c(){return a.IPv6===this&&(a.IPv6=d),this}var d=a&&a.IPv6;return{best:b,noConflict:c}})},{}],775:[function(a,b,c){!function(a,d){"use strict";"object"===(void 0===c?"undefined":_typeof(c))?b.exports=d():"function"==typeof define&&define.amd?define(d):a.SecondLevelDomains=d(a)}(this,function(a){"use strict";var b=a&&a.SecondLevelDomains,c={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ","do":" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ","in":" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch "},has:function(a){var b=a.lastIndexOf(".");if(0>=b||b>=a.length-1)return!1;var d=a.lastIndexOf(".",b-1);if(0>=d||d>=b-1)return!1;var e=c.list[a.slice(b+1)];return!!e&&e.indexOf(" "+a.slice(d+1,b)+" ")>=0},is:function(a){var b=a.lastIndexOf(".");if(0>=b||b>=a.length-1)return!1;if(a.lastIndexOf(".",b-1)>=0)return!1;var d=c.list[a.slice(b+1)];return!!d&&d.indexOf(" "+a.slice(0,b)+" ")>=0},get:function(a){var b=a.lastIndexOf(".");if(0>=b||b>=a.length-1)return null;var d=a.lastIndexOf(".",b-1);if(0>=d||d>=b-1)return null;var e=c.list[a.slice(b+1)];return e?e.indexOf(" "+a.slice(d+1,b)+" ")<0?null:a.slice(d+1):null},noConflict:function(){return a.SecondLevelDomains===this&&(a.SecondLevelDomains=b),this}};return c})},{}],776:[function(a,b,c){!function(d,e){"use strict";"object"===(void 0===c?"undefined":_typeof(c))?b.exports=e(a("./punycode"),a("./IPv6"),a("./SecondLevelDomains")):"function"==typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],e):d.URI=e(d.punycode,d.IPv6,d.SecondLevelDomains,d)}(this,function(a,b,c,d){"use strict";function e(a,b){var c=arguments.length>=1,d=arguments.length>=2;if(!(this instanceof e))return c?d?new e(a,b):new e(a):new e;if(void 0===a){if(c)throw new TypeError("undefined is not a valid argument for URI");a="undefined"!=typeof location?location.href+"":""}return this.href(a),void 0!==b?this.absoluteTo(b):this}function f(a){return a.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function g(a){return void 0===a?"Undefined":String(Object.prototype.toString.call(a)).slice(8,-1)}function h(a){return"Array"===g(a)}function i(a,b){var c,d,e={};if("RegExp"===g(b))e=null;else if(h(b))for(c=0,d=b.length;d>c;c++)e[b[c]]=!0;else e[b]=!0;for(c=0,d=a.length;d>c;c++)(e&&void 0!==e[a[c]]||!e&&b.test(a[c]))&&(a.splice(c,1),d--,c--);return a}function j(a,b){var c,d;if(h(b)){for(c=0,d=b.length;d>c;c++)if(!j(a,b[c]))return!1;return!0}var e=g(b);for(c=0,d=a.length;d>c;c++)if("RegExp"===e){if("string"==typeof a[c]&&a[c].match(b))return!0}else if(a[c]===b)return!0;return!1}function k(a,b){if(!h(a)||!h(b))return!1;if(a.length!==b.length)return!1;a.sort(),b.sort();for(var c=0,d=a.length;d>c;c++)if(a[c]!==b[c])return!1;return!0}function l(a){return a.replace(/^\/+|\/+$/g,"")}function m(a){return escape(a)}function n(a){return encodeURIComponent(a).replace(/[!'()*]/g,m).replace(/\*/g,"%2A")}function o(a){return function(b,c){return void 0===b?this._parts[a]||"":(this._parts[a]=b||null,this.build(!c),this)}}function p(a,b){return function(c,d){return void 0===c?this._parts[a]||"":(null!==c&&(c+="",c.charAt(0)===b&&(c=c.substring(1))),this._parts[a]=c,this.build(!d),this)}}var q=d&&d.URI;e.version="1.17.1";var r=e.prototype,s=Object.prototype.hasOwnProperty;e._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:e.duplicateQueryParameters,escapeQuerySpace:e.escapeQuerySpace}},e.duplicateQueryParameters=!1,e.escapeQuerySpace=!0,e.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,e.idn_expression=/[^a-z0-9\.-]/i,e.punycode_expression=/(xn--)/i,e.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,e.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,e.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/},e.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},e.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,e.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},e.getDomAttribute=function(a){if(a&&a.nodeName){var b=a.nodeName.toLowerCase();if("input"!==b||"image"===a.type)return e.domAttributes[b]}},e.encode=n,e.decode=decodeURIComponent,e.iso8859=function(){e.encode=escape,e.decode=unescape;
},e.unicode=function(){e.encode=n,e.decode=decodeURIComponent},e.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},e.encodeQuery=function(a,b){var c=e.encode(a+"");return void 0===b&&(b=e.escapeQuerySpace),b?c.replace(/%20/g,"+"):c},e.decodeQuery=function(a,b){a+="",void 0===b&&(b=e.escapeQuerySpace);try{return e.decode(b?a.replace(/\+/g,"%20"):a)}catch(b){return a}};var t,u={encode:"encode",decode:"decode"},v=function(a,b){return function(a){try{return e[b](a+"").replace(e.characters[c][b].expression,function(a){return e.characters[c][b].map[a]})}catch(c){return a}}};for(t in u)e[t+"PathSegment"]=v("pathname",u[t]),e[t+"UrnPathSegment"]=v("urnpath",u[t]);var w=function(a,b,c){return function(d){var f;f=c?function(a){return e[b](e[c](a))}:e[b];for(var g=(d+"").split(a),h=0,i=g.length;i>h;h++)g[h]=f(g[h]);return g.join(a)}};e.decodePath=w("/","decodePathSegment"),e.decodeUrnPath=w(":","decodeUrnPathSegment"),e.recodePath=w("/","encodePathSegment","decode"),e.recodeUrnPath=w(":","encodeUrnPathSegment","decode"),e.encodeReserved=v("reserved","encode"),e.parse=function(a,b){var c;return b||(b={}),c=a.indexOf("#"),c>-1&&(b.fragment=a.substring(c+1)||null,a=a.substring(0,c)),c=a.indexOf("?"),c>-1&&(b.query=a.substring(c+1)||null,a=a.substring(0,c)),"//"===a.substring(0,2)?(b.protocol=null,a=a.substring(2),a=e.parseAuthority(a,b)):(c=a.indexOf(":"))>-1&&(b.protocol=a.substring(0,c)||null,b.protocol&&!b.protocol.match(e.protocol_expression)?b.protocol=void 0:"//"===a.substring(c+1,c+3)?(a=a.substring(c+3),a=e.parseAuthority(a,b)):(a=a.substring(c+1),b.urn=!0)),b.path=a,b},e.parseHost=function(a,b){a=a.replace(/\\/g,"/");var c,d,e=a.indexOf("/");if(-1===e&&(e=a.length),"["===a.charAt(0))c=a.indexOf("]"),b.hostname=a.substring(1,c)||null,b.port=a.substring(c+2,e)||null,"/"===b.port&&(b.port=null);else{var f=a.indexOf(":"),g=a.indexOf("/"),h=a.indexOf(":",f+1);-1!==h&&(-1===g||g>h)?(b.hostname=a.substring(0,e)||null,b.port=null):(d=a.substring(0,e).split(":"),b.hostname=d[0]||null,b.port=d[1]||null)}return b.hostname&&"/"!==a.substring(e).charAt(0)&&(e++,a="/"+a),a.substring(e)||"/"},e.parseAuthority=function(a,b){return a=e.parseUserinfo(a,b),e.parseHost(a,b)},e.parseUserinfo=function(a,b){var c,d=a.indexOf("/"),f=a.lastIndexOf("@",d>-1?d:a.length-1);return f>-1&&(-1===d||d>f)?(c=a.substring(0,f).split(":"),b.username=c[0]?e.decode(c[0]):null,c.shift(),b.password=c[0]?e.decode(c.join(":")):null,a=a.substring(f+1)):(b.username=null,b.password=null),a},e.parseQuery=function(a,b){if(!a)return{};if(!(a=a.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var c,d,f,g={},h=a.split("&"),i=h.length,j=0;i>j;j++)c=h[j].split("="),d=e.decodeQuery(c.shift(),b),f=c.length?e.decodeQuery(c.join("="),b):null,s.call(g,d)?("string"!=typeof g[d]&&null!==g[d]||(g[d]=[g[d]]),g[d].push(f)):g[d]=f;return g},e.build=function(a){var b="";return a.protocol&&(b+=a.protocol+":"),a.urn||!b&&!a.hostname||(b+="//"),b+=e.buildAuthority(a)||"","string"==typeof a.path&&("/"!==a.path.charAt(0)&&"string"==typeof a.hostname&&(b+="/"),b+=a.path),"string"==typeof a.query&&a.query&&(b+="?"+a.query),"string"==typeof a.fragment&&a.fragment&&(b+="#"+a.fragment),b},e.buildHost=function(a){var b="";return a.hostname?(b+=e.ip6_expression.test(a.hostname)?"["+a.hostname+"]":a.hostname,a.port&&(b+=":"+a.port),b):""},e.buildAuthority=function(a){return e.buildUserinfo(a)+e.buildHost(a)},e.buildUserinfo=function(a){var b="";return a.username&&(b+=e.encode(a.username),a.password&&(b+=":"+e.encode(a.password)),b+="@"),b},e.buildQuery=function(a,b,c){var d,f,g,i,j="";for(f in a)if(s.call(a,f)&&f)if(h(a[f]))for(d={},g=0,i=a[f].length;i>g;g++)void 0!==a[f][g]&&void 0===d[a[f][g]+""]&&(j+="&"+e.buildQueryParameter(f,a[f][g],c),!0!==b&&(d[a[f][g]+""]=!0));else void 0!==a[f]&&(j+="&"+e.buildQueryParameter(f,a[f],c));return j.substring(1)},e.buildQueryParameter=function(a,b,c){return e.encodeQuery(a,c)+(null!==b?"="+e.encodeQuery(b,c):"")},e.addQuery=function(a,b,c){if("object"===(void 0===b?"undefined":_typeof(b)))for(var d in b)s.call(b,d)&&e.addQuery(a,d,b[d]);else{if("string"!=typeof b)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===a[b])return void(a[b]=c);"string"==typeof a[b]&&(a[b]=[a[b]]),h(c)||(c=[c]),a[b]=(a[b]||[]).concat(c)}},e.removeQuery=function(a,b,c){var d,f,j;if(h(b))for(d=0,f=b.length;f>d;d++)a[b[d]]=void 0;else if("RegExp"===g(b))for(j in a)b.test(j)&&(a[j]=void 0);else if("object"===(void 0===b?"undefined":_typeof(b)))for(j in b)s.call(b,j)&&e.removeQuery(a,j,b[j]);else{if("string"!=typeof b)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==c?"RegExp"===g(c)?!h(a[b])&&c.test(a[b])?a[b]=void 0:a[b]=i(a[b],c):a[b]!==String(c)||h(c)&&1!==c.length?h(a[b])&&(a[b]=i(a[b],c)):a[b]=void 0:a[b]=void 0}},e.hasQuery=function(a,b,c,d){switch(g(b)){case"String":break;case"RegExp":for(var f in a)if(s.call(a,f)&&b.test(f)&&(void 0===c||e.hasQuery(a,f,c)))return!0;return!1;case"Object":for(var i in b)if(s.call(b,i)&&!e.hasQuery(a,i,b[i]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(g(c)){case"Undefined":return b in a;case"Boolean":return c===Boolean(h(a[b])?a[b].length:a[b]);case"Function":return!!c(a[b],b,a);case"Array":return h(a[b])?(d?j:k)(a[b],c):!1;case"RegExp":return h(a[b])?!!d&&j(a[b],c):Boolean(a[b]&&a[b].match(c));case"Number":c=String(c);case"String":return h(a[b])?!!d&&j(a[b],c):a[b]===c;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},e.commonPath=function(a,b){var c,d=Math.min(a.length,b.length);for(c=0;d>c;c++)if(a.charAt(c)!==b.charAt(c)){c--;break}return 1>c?a.charAt(0)===b.charAt(0)&&"/"===a.charAt(0)?"/":"":("/"===a.charAt(c)&&"/"===b.charAt(c)||(c=a.substring(0,c).lastIndexOf("/")),a.substring(0,c+1))},e.withinString=function(a,b,c){c||(c={});var d=c.start||e.findUri.start,f=c.end||e.findUri.end,g=c.trim||e.findUri.trim,h=/[a-z0-9-]=["']?$/i;for(d.lastIndex=0;;){var i=d.exec(a);if(!i)break;var j=i.index;if(c.ignoreHtml){var k=a.slice(Math.max(j-3,0),j);if(k&&h.test(k))continue}var l=j+a.slice(j).search(f),m=a.slice(j,l).replace(g,"");if(!c.ignore||!c.ignore.test(m)){l=j+m.length;var n=b(m,j,l,a);a=a.slice(0,j)+n+a.slice(l),d.lastIndex=j+n.length}}return d.lastIndex=0,a},e.ensureValidHostname=function(b){if(b.match(e.invalid_hostname_characters)){if(!a)throw new TypeError('Hostname "'+b+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(a.toASCII(b).match(e.invalid_hostname_characters))throw new TypeError('Hostname "'+b+'" contains characters other than [A-Z0-9.-]')}},e.noConflict=function(a){if(a){var b={URI:this.noConflict()};return d.URITemplate&&"function"==typeof d.URITemplate.noConflict&&(b.URITemplate=d.URITemplate.noConflict()),d.IPv6&&"function"==typeof d.IPv6.noConflict&&(b.IPv6=d.IPv6.noConflict()),d.SecondLevelDomains&&"function"==typeof d.SecondLevelDomains.noConflict&&(b.SecondLevelDomains=d.SecondLevelDomains.noConflict()),b}return d.URI===this&&(d.URI=q),this},r.build=function(a){return!0===a?this._deferred_build=!0:(void 0===a||this._deferred_build)&&(this._string=e.build(this._parts),this._deferred_build=!1),this},r.clone=function(){return new e(this)},r.valueOf=r.toString=function(){return this.build(!1)._string},r.protocol=o("protocol"),r.username=o("username"),r.password=o("password"),r.hostname=o("hostname"),r.port=o("port"),r.query=p("query","?"),r.fragment=p("fragment","#"),r.search=function(a,b){var c=this.query(a,b);return"string"==typeof c&&c.length?"?"+c:c},r.hash=function(a,b){var c=this.fragment(a,b);return"string"==typeof c&&c.length?"#"+c:c},r.pathname=function(a,b){if(void 0===a||!0===a){var c=this._parts.path||(this._parts.hostname?"/":"");return a?(this._parts.urn?e.decodeUrnPath:e.decodePath)(c):c}return this._parts.urn?this._parts.path=a?e.recodeUrnPath(a):"":this._parts.path=a?e.recodePath(a):"/",this.build(!b),this},r.path=r.pathname,r.href=function(a,b){var c;if(void 0===a)return this.toString();this._string="",this._parts=e._parts();var d=a instanceof e,f="object"===(void 0===a?"undefined":_typeof(a))&&(a.hostname||a.path||a.pathname);if(a.nodeName&&(a=a[e.getDomAttribute(a)]||"",f=!1),!d&&f&&void 0!==a.pathname&&(a=a.toString()),"string"==typeof a||a instanceof String)this._parts=e.parse(String(a),this._parts);else{if(!d&&!f)throw new TypeError("invalid input");var g=d?a._parts:a;for(c in g)s.call(this._parts,c)&&(this._parts[c]=g[c])}return this.build(!b),this},r.is=function(a){var b=!1,d=!1,f=!1,g=!1,h=!1,i=!1,j=!1,k=!this._parts.urn;switch(this._parts.hostname&&(k=!1,d=e.ip4_expression.test(this._parts.hostname),f=e.ip6_expression.test(this._parts.hostname),b=d||f,g=!b,h=g&&c&&c.has(this._parts.hostname),i=g&&e.idn_expression.test(this._parts.hostname),j=g&&e.punycode_expression.test(this._parts.hostname)),a.toLowerCase()){case"relative":return k;case"absolute":return!k;case"domain":case"name":return g;case"sld":return h;case"ip":return b;case"ip4":case"ipv4":case"inet4":return d;case"ip6":case"ipv6":case"inet6":return f;case"idn":return i;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return j}return null};var x=r.protocol,y=r.port,z=r.hostname;r.protocol=function(a,b){if(void 0!==a&&a&&(a=a.replace(/:(\/\/)?$/,""),!a.match(e.protocol_expression)))throw new TypeError('Protocol "'+a+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return x.call(this,a,b)},r.scheme=r.protocol,r.port=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0!==a&&(0===a&&(a=null),a&&(a+="",":"===a.charAt(0)&&(a=a.substring(1)),a.match(/[^0-9]/))))throw new TypeError('Port "'+a+'" contains characters other than [0-9]');return y.call(this,a,b)},r.hostname=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0!==a){var c={};if("/"!==e.parseHost(a,c))throw new TypeError('Hostname "'+a+'" contains characters other than [A-Z0-9.-]');a=c.hostname}return z.call(this,a,b)},r.origin=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a){var c=this.protocol();return this.authority()?(c?c+"://":"")+this.authority():""}var d=e(a);return this.protocol(d.protocol()).authority(d.authority()).build(!b),this},r.host=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a)return this._parts.hostname?e.buildHost(this._parts):"";if("/"!==e.parseHost(a,this._parts))throw new TypeError('Hostname "'+a+'" contains characters other than [A-Z0-9.-]');return this.build(!b),this},r.authority=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a)return this._parts.hostname?e.buildAuthority(this._parts):"";if("/"!==e.parseAuthority(a,this._parts))throw new TypeError('Hostname "'+a+'" contains characters other than [A-Z0-9.-]');return this.build(!b),this},r.userinfo=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a){if(!this._parts.username)return"";var c=e.buildUserinfo(this._parts);return c.substring(0,c.length-1)}return"@"!==a[a.length-1]&&(a+="@"),e.parseUserinfo(a,this._parts),this.build(!b),this},r.resource=function(a,b){var c;return void 0===a?this.path()+this.search()+this.hash():(c=e.parse(a),this._parts.path=c.path,this._parts.query=c.query,this._parts.fragment=c.fragment,this.build(!b),this)},r.subdomain=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a){if(!this._parts.hostname||this.is("IP"))return"";var c=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,c)||""}var d=this._parts.hostname.length-this.domain().length,g=this._parts.hostname.substring(0,d),h=new RegExp("^"+f(g));return a&&"."!==a.charAt(a.length-1)&&(a+="."),a&&e.ensureValidHostname(a),this._parts.hostname=this._parts.hostname.replace(h,a),this.build(!b),this},r.domain=function(a,b){if(this._parts.urn)return void 0===a?"":this;if("boolean"==typeof a&&(b=a,a=void 0),void 0===a){if(!this._parts.hostname||this.is("IP"))return"";var c=this._parts.hostname.match(/\./g);if(c&&c.length<2)return this._parts.hostname;var d=this._parts.hostname.length-this.tld(b).length-1;return d=this._parts.hostname.lastIndexOf(".",d-1)+1,this._parts.hostname.substring(d)||""}if(!a)throw new TypeError("cannot set domain empty");if(e.ensureValidHostname(a),!this._parts.hostname||this.is("IP"))this._parts.hostname=a;else{var g=new RegExp(f(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(g,a)}return this.build(!b),this},r.tld=function(a,b){if(this._parts.urn)return void 0===a?"":this;if("boolean"==typeof a&&(b=a,a=void 0),void 0===a){if(!this._parts.hostname||this.is("IP"))return"";var d=this._parts.hostname.lastIndexOf("."),e=this._parts.hostname.substring(d+1);return!0!==b&&c&&c.list[e.toLowerCase()]?c.get(this._parts.hostname)||e:e}var g;if(!a)throw new TypeError("cannot set TLD empty");if(a.match(/[^a-zA-Z0-9-]/)){if(!c||!c.is(a))throw new TypeError('TLD "'+a+'" contains characters other than [A-Z0-9]');g=new RegExp(f(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(g,a)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");g=new RegExp(f(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(g,a)}return this.build(!b),this},r.directory=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||!0===a){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var c=this._parts.path.length-this.filename().length-1,d=this._parts.path.substring(0,c)||(this._parts.hostname?"/":"");return a?e.decodePath(d):d}var g=this._parts.path.length-this.filename().length,h=this._parts.path.substring(0,g),i=new RegExp("^"+f(h));return this.is("relative")||(a||(a="/"),"/"!==a.charAt(0)&&(a="/"+a)),a&&"/"!==a.charAt(a.length-1)&&(a+="/"),a=e.recodePath(a),this._parts.path=this._parts.path.replace(i,a),this.build(!b),this},r.filename=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||!0===a){if(!this._parts.path||"/"===this._parts.path)return"";var c=this._parts.path.lastIndexOf("/"),d=this._parts.path.substring(c+1);return a?e.decodePathSegment(d):d}var g=!1;"/"===a.charAt(0)&&(a=a.substring(1)),a.match(/\.?\//)&&(g=!0);var h=new RegExp(f(this.filename())+"$");return a=e.recodePath(a),this._parts.path=this._parts.path.replace(h,a),g?this.normalizePath(b):this.build(!b),this},r.suffix=function(a,b){if(this._parts.urn)return void 0===a?"":this;if(void 0===a||!0===a){if(!this._parts.path||"/"===this._parts.path)return"";var c,d,g=this.filename(),h=g.lastIndexOf(".");return-1===h?"":(c=g.substring(h+1),d=/^[a-z0-9%]+$/i.test(c)?c:"",a?e.decodePathSegment(d):d)}"."===a.charAt(0)&&(a=a.substring(1));var i,j=this.suffix();if(j)i=a?new RegExp(f(j)+"$"):new RegExp(f("."+j)+"$");else{if(!a)return this;this._parts.path+="."+e.recodePath(a)}return i&&(a=e.recodePath(a),this._parts.path=this._parts.path.replace(i,a)),this.build(!b),this},r.segment=function(a,b,c){var d=this._parts.urn?":":"/",e=this.path(),f="/"===e.substring(0,1),g=e.split(d);if(void 0!==a&&"number"!=typeof a&&(c=b,b=a,a=void 0),void 0!==a&&"number"!=typeof a)throw new Error('Bad segment "'+a+'", must be 0-based integer');if(f&&g.shift(),0>a&&(a=Math.max(g.length+a,0)),void 0===b)return void 0===a?g:g[a];if(null===a||void 0===g[a])if(h(b)){g=[];for(var i=0,j=b.length;j>i;i++)(b[i].length||g.length&&g[g.length-1].length)&&(g.length&&!g[g.length-1].length&&g.pop(),g.push(l(b[i])))}else(b||"string"==typeof b)&&(b=l(b),""===g[g.length-1]?g[g.length-1]=b:g.push(b));else b?g[a]=l(b):g.splice(a,1);return f&&g.unshift(""),this.path(g.join(d),c)},r.segmentCoded=function(a,b,c){var d,f,g;if("number"!=typeof a&&(c=b,b=a,a=void 0),void 0===b){if(d=this.segment(a,b,c),h(d))for(f=0,g=d.length;g>f;f++)d[f]=e.decode(d[f]);else d=void 0!==d?e.decode(d):void 0;return d}if(h(b))for(f=0,g=b.length;g>f;f++)b[f]=e.encode(b[f]);else b="string"==typeof b||b instanceof String?e.encode(b):b;return this.segment(a,b,c)};var A=r.query;return r.query=function(a,b){if(!0===a)return e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof a){var c=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace),d=a.call(this,c);return this._parts.query=e.buildQuery(d||c,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!b),this}return void 0!==a&&"string"!=typeof a?(this._parts.query=e.buildQuery(a,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!b),this):A.call(this,a,b)},r.setQuery=function(a,b,c){var d=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof a||a instanceof String)d[a]=void 0!==b?b:null;else{if("object"!==(void 0===a?"undefined":_typeof(a)))throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var f in a)s.call(a,f)&&(d[f]=a[f])}return this._parts.query=e.buildQuery(d,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof a&&(c=b),this.build(!c),this},r.addQuery=function(a,b,c){var d=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return e.addQuery(d,a,void 0===b?null:b),this._parts.query=e.buildQuery(d,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof a&&(c=b),this.build(!c),this},r.removeQuery=function(a,b,c){var d=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return e.removeQuery(d,a,b),this._parts.query=e.buildQuery(d,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof a&&(c=b),this.build(!c),this},r.hasQuery=function(a,b,c){var d=e.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return e.hasQuery(d,a,b,c)},r.setSearch=r.setQuery,r.addSearch=r.addQuery,r.removeSearch=r.removeQuery,r.hasSearch=r.hasQuery,r.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},r.normalizeProtocol=function(a){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!a)),this},r.normalizeHostname=function(c){return this._parts.hostname&&(this.is("IDN")&&a?this._parts.hostname=a.toASCII(this._parts.hostname):this.is("IPv6")&&b&&(this._parts.hostname=b.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!c)),this},r.normalizePort=function(a){return"string"==typeof this._parts.protocol&&this._parts.port===e.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!a)),this},r.normalizePath=function(a){var b=this._parts.path;if(!b)return this;if(this._parts.urn)return this._parts.path=e.recodeUrnPath(this._parts.path),this.build(!a),this;if("/"===this._parts.path)return this;b=e.recodePath(b);var c,d,f,g="";for("/"!==b.charAt(0)&&(c=!0,b="/"+b),"/.."!==b.slice(-3)&&"/."!==b.slice(-2)||(b+="/"),b=b.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),c&&(g=b.substring(1).match(/^(\.\.\/)+/)||"")&&(g=g[0]);-1!==(d=b.search(/\/\.\.(\/|$)/));)0!==d?(f=b.substring(0,d).lastIndexOf("/"),-1===f&&(f=d),b=b.substring(0,f)+b.substring(d+3)):b=b.substring(3);return c&&this.is("relative")&&(b=g+b.substring(1)),this._parts.path=b,this.build(!a),this},r.normalizePathname=r.normalizePath,r.normalizeQuery=function(a){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(e.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!a)),this},r.normalizeFragment=function(a){return this._parts.fragment||(this._parts.fragment=null,this.build(!a)),this},r.normalizeSearch=r.normalizeQuery,r.normalizeHash=r.normalizeFragment,r.iso8859=function(){var a=e.encode,b=e.decode;e.encode=escape,e.decode=decodeURIComponent;try{this.normalize()}finally{e.encode=a,e.decode=b}return this},r.unicode=function(){var a=e.encode,b=e.decode;e.encode=n,e.decode=unescape;try{this.normalize()}finally{e.encode=a,e.decode=b}return this},r.readable=function(){var b=this.clone();b.username("").password("").normalize();var c="";if(b._parts.protocol&&(c+=b._parts.protocol+"://"),b._parts.hostname&&(b.is("punycode")&&a?(c+=a.toUnicode(b._parts.hostname),b._parts.port&&(c+=":"+b._parts.port)):c+=b.host()),b._parts.hostname&&b._parts.path&&"/"!==b._parts.path.charAt(0)&&(c+="/"),c+=b.path(!0),b._parts.query){for(var d="",f=0,g=b._parts.query.split("&"),h=g.length;h>f;f++){var i=(g[f]||"").split("=");d+="&"+e.decodeQuery(i[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==i[1]&&(d+="="+e.decodeQuery(i[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}c+="?"+d.substring(1)}return c+=e.decodeQuery(b.hash(),!0)},r.absoluteTo=function(a){var b,c,d,f=this.clone(),g=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(a instanceof e||(a=new e(a)),f._parts.protocol||(f._parts.protocol=a._parts.protocol),this._parts.hostname)return f;for(c=0;d=g[c];c++)f._parts[d]=a._parts[d];return f._parts.path?".."===f._parts.path.substring(-2)&&(f._parts.path+="/"):(f._parts.path=a._parts.path,f._parts.query||(f._parts.query=a._parts.query)),"/"!==f.path().charAt(0)&&(b=a.directory(),b=b||(0===a.path().indexOf("/")?"/":""),f._parts.path=(b?b+"/":"")+f._parts.path,f.normalizePath()),f.build(),f},r.relativeTo=function(a){var b,c,d,f,g,h=this.clone().normalize();if(h._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(a=new e(a).normalize(),b=h._parts,c=a._parts,f=h.path(),g=a.path(),"/"!==f.charAt(0))throw new Error("URI is already relative");if("/"!==g.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(b.protocol===c.protocol&&(b.protocol=null),b.username!==c.username||b.password!==c.password)return h.build();if(null!==b.protocol||null!==b.username||null!==b.password)return h.build();if(b.hostname!==c.hostname||b.port!==c.port)return h.build();if(b.hostname=null,b.port=null,f===g)return b.path="",h.build();if(!(d=e.commonPath(f,g)))return h.build();var i=c.path.substring(d.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return b.path=i+b.path.substring(d.length)||"./",h.build()},r.equals=function(a){var b,c,d,f=this.clone(),g=new e(a),i={},j={},l={};if(f.normalize(),g.normalize(),f.toString()===g.toString())return!0;if(b=f.query(),c=g.query(),f.query(""),g.query(""),f.toString()!==g.toString())return!1;if(b.length!==c.length)return!1;i=e.parseQuery(b,this._parts.escapeQuerySpace),j=e.parseQuery(c,this._parts.escapeQuerySpace);for(d in i)if(s.call(i,d)){if(h(i[d])){if(!k(i[d],j[d]))return!1}else if(i[d]!==j[d])return!1;l[d]=!0}for(d in j)if(s.call(j,d)&&!l[d])return!1;return!0},r.duplicateQueryParameters=function(a){return this._parts.duplicateQueryParameters=!!a,this},r.escapeQuerySpace=function(a){return this._parts.escapeQuerySpace=!!a,this},e})},{"./IPv6":774,"./SecondLevelDomains":775,"./punycode":777}],777:[function(a,b,c){(function(a){!function(d){function e(a){throw new RangeError(H[a])}function f(a,b){for(var c=a.length,d=[];c--;)d[c]=b(a[c]);return d}function g(a,b){var c=a.split("@"),d="";return c.length>1&&(d=c[0]+"@",a=c[1]),a=a.replace(G,"."),d+f(a.split("."),b).join(".")}function h(a){for(var b,c,d=[],e=0,f=a.length;f>e;)b=a.charCodeAt(e++),b>=55296&&56319>=b&&f>e?(c=a.charCodeAt(e++),56320==(64512&c)?d.push(((1023&b)<<10)+(1023&c)+65536):(d.push(b),e--)):d.push(b);return d}function i(a){return f(a,function(a){var b="";return a>65535&&(a-=65536,b+=K(a>>>10&1023|55296),a=56320|1023&a),b+=K(a)}).join("")}function j(a){return 10>a-48?a-22:26>a-65?a-65:26>a-97?a-97:w}function k(a,b){return a+22+75*(26>a)-((0!=b)<<5)}function l(a,b,c){var d=0;for(a=c?J(a/A):a>>1,a+=J(a/b);a>I*y>>1;d+=w)a=J(a/I);return J(d+(I+1)*a/(a+z))}function m(a){var b,c,d,f,g,h,k,m,n,o,p=[],q=a.length,r=0,s=C,t=B;for(c=a.lastIndexOf(D),0>c&&(c=0),d=0;c>d;++d)a.charCodeAt(d)>=128&&e("not-basic"),p.push(a.charCodeAt(d));for(f=c>0?c+1:0;q>f;){for(g=r,h=1,k=w;f>=q&&e("invalid-input"),m=j(a.charCodeAt(f++)),(m>=w||m>J((v-r)/h))&&e("overflow"),r+=m*h,n=t>=k?x:k>=t+y?y:k-t,!(n>m);k+=w)o=w-n,h>J(v/o)&&e("overflow"),h*=o;b=p.length+1,t=l(r-g,b,0==g),J(r/b)>v-s&&e("overflow"),s+=J(r/b),r%=b,p.splice(r++,0,s)}return i(p)}function n(a){var b,c,d,f,g,i,j,m,n,o,p,q,r,s,t,u=[];for(a=h(a),q=a.length,b=C,c=0,g=B,i=0;q>i;++i)(p=a[i])<128&&u.push(K(p));for(d=f=u.length,f&&u.push(D);q>d;){for(j=v,i=0;q>i;++i)(p=a[i])>=b&&j>p&&(j=p);for(r=d+1,j-b>J((v-c)/r)&&e("overflow"),c+=(j-b)*r,b=j,i=0;q>i;++i)if(p=a[i],b>p&&++c>v&&e("overflow"),p==b){for(m=c,n=w;o=g>=n?x:n>=g+y?y:n-g,!(o>m);n+=w)t=m-o,s=w-o,u.push(K(k(o+t%s,0))),m=J(t/s);u.push(K(k(m,0))),g=l(c,r,d==f),c=0,++d}++c,++b}return u.join("")}function o(a){return g(a,function(a){return E.test(a)?m(a.slice(4).toLowerCase()):a})}function p(a){return g(a,function(a){return F.test(a)?"xn--"+n(a):a})}var q="object"==(void 0===c?"undefined":_typeof(c))&&c&&!c.nodeType&&c,r="object"==(void 0===b?"undefined":_typeof(b))&&b&&!b.nodeType&&b,s="object"==(void 0===a?"undefined":_typeof(a))&&a;s.global!==s&&s.window!==s&&s.self!==s||(d=s);var t,u,v=2147483647,w=36,x=1,y=26,z=38,A=700,B=72,C=128,D="-",E=/^xn--/,F=/[^\x20-\x7E]/,G=/[\x2E\u3002\uFF0E\uFF61]/g,H={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},I=w-x,J=Math.floor,K=String.fromCharCode;if(t={version:"1.3.2",ucs2:{decode:h,encode:i},decode:m,encode:n,toASCII:p,toUnicode:o},"function"==typeof define&&"object"==_typeof(define.amd)&&define.amd)define("punycode",function(){return t});else if(q&&r)if(b.exports==q)r.exports=t;else for(u in t)t.hasOwnProperty(u)&&(q[u]=t[u]);else d.punycode=t}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[180]),angular.module("ui.ace",[]).constant("uiAceConfig",{}).directive("uiAce",["uiAceConfig",function(a){if(angular.isUndefined(window.ace))throw new Error("ui-ace need ace to work... (o rly?)");var b=function(a,b,c){if(angular.isDefined(c.workerPath)){var d=window.ace.require("ace/config");d.set("workerPath",c.workerPath)}angular.isDefined(c.require)&&c.require.forEach(function(a){window.ace.require(a)}),angular.isDefined(c.showGutter)&&a.renderer.setShowGutter(c.showGutter),angular.isDefined(c.useWrapMode)&&b.setUseWrapMode(c.useWrapMode),angular.isDefined(c.showInvisibles)&&a.renderer.setShowInvisibles(c.showInvisibles),angular.isDefined(c.showIndentGuides)&&a.renderer.setDisplayIndentGuides(c.showIndentGuides),angular.isDefined(c.useSoftTabs)&&b.setUseSoftTabs(c.useSoftTabs),angular.isDefined(c.showPrintMargin)&&a.setShowPrintMargin(c.showPrintMargin),angular.isDefined(c.disableSearch)&&c.disableSearch&&a.commands.addCommands([{name:"unfind",bindKey:{win:"Ctrl-F",mac:"Command-F"},exec:function(){return!1},readOnly:!0}]),angular.isString(c.theme)&&a.setTheme("ace/theme/"+c.theme),angular.isString(c.mode)&&b.setMode("ace/mode/"+c.mode),angular.isDefined(c.firstLineNumber)&&(angular.isNumber(c.firstLineNumber)?b.setOption("firstLineNumber",c.firstLineNumber):angular.isFunction(c.firstLineNumber)&&b.setOption("firstLineNumber",c.firstLineNumber()));var e,f;if(angular.isDefined(c.advanced))for(e in c.advanced)f={name:e,value:c.advanced[e]},a.setOption(f.name,f.value);if(angular.isDefined(c.rendererOptions))for(e in c.rendererOptions)f={name:e,value:c.rendererOptions[e]},a.renderer.setOption(f.name,f.value);angular.forEach(c.callbacks,function(b){angular.isFunction(b)&&b(a)})};return{restrict:"EA",require:"?ngModel",link:function(c,d,e,f){var g,h,i=a.ace||{},j=angular.extend({},i,c.$eval(e.uiAce)),k=window.ace.edit(d[0]),l=k.getSession(),m=function(){var a=arguments[0],b=Array.prototype.slice.call(arguments,1);angular.isDefined(a)&&c.$evalAsync(function(){if(!angular.isFunction(a))throw new Error("ui-ace use a function as callback.");a(b)})},n={onChange:function(a){return function(b){var d=l.getValue();!f||d===f.$viewValue||c.$$phase||c.$root.$$phase||c.$evalAsync(function(){f.$setViewValue(d)}),m(a,b,k)}},onBlur:function(a){return function(){m(a,k)}}};e.$observe("readonly",function(a){k.setReadOnly(!!a||""===a)}),f&&(f.$formatters.push(function(a){if(angular.isUndefined(a)||null===a)return"";if(angular.isObject(a)||angular.isArray(a))throw new Error("ui-ace cannot use an object or an array as a model");return a}),f.$render=function(){l.setValue(f.$viewValue)});var o=function(a,d){a!==d&&(j=angular.extend({},i,c.$eval(e.uiAce)),j.callbacks=[j.onLoad],j.onLoad!==i.onLoad&&j.callbacks.unshift(i.onLoad),l.removeListener("change",g),g=n.onChange(j.onChange),l.on("change",g),k.removeListener("blur",h),h=n.onBlur(j.onBlur),k.on("blur",h),b(k,l,j))};c.$watch(e.uiAce,o,!0),o(i),d.on("$destroy",function(){k.session.$stopWorker(),k.destroy()}),c.$watch(function(){return[d[0].offsetWidth,d[0].offsetHeight]},function(){k.resize(),k.renderer.updateFull()},!0)}}}]),function(){function a(a){var b=c;a&&(c[a]||(c[a]={}),b=c[a]),b.define&&b.define.packaged||(d.original=b.define,b.define=d,b.define.packaged=!0),b.require&&b.require.packaged||(f.original=b.require,b.require=f,b.require.packaged=!0)}var b="",c=function(){return this}();if(c||"undefined"==typeof window||(c=window),b||"undefined"==typeof requirejs){var d=function(a,b,c){return"string"!=typeof a?void(d.original?d.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())):(2==arguments.length&&(c=b),void(d.modules[a]||(d.payloads[a]=c,d.modules[a]=null)))};d.modules={},d.payloads={};var e=function(a,b,c){if("string"==typeof b){var d=h(a,b);if(void 0!=d)return c&&c(),d}else if("[object Array]"===Object.prototype.toString.call(b)){for(var e=[],g=0,i=b.length;i>g;++g){var j=h(a,b[g]);if(void 0==j&&f.original)return;e.push(j)}return c&&c.apply(null,e)||!0}},f=function(a,b){var c=e("",a,b);return void 0==c&&f.original?f.original.apply(this,arguments):c},g=function(a,b){if(-1!==b.indexOf("!")){var c=b.split("!");return g(a,c[0])+"!"+g(a,c[1])}if("."==b.charAt(0)){var d=a.split("/").slice(0,-1).join("/");for(b=d+"/"+b;-1!==b.indexOf(".")&&e!=b;){var e=b;b=b.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return b},h=function(a,b){b=g(a,b);var c=d.modules[b];if(!c){if(c=d.payloads[b],"function"==typeof c){var f={},h={id:b,uri:"",exports:f,packaged:!0},i=function(a,c){return e(b,a,c)},j=c(i,f,h);f=j||h.exports,d.modules[b]=f,delete d.payloads[b]}c=d.modules[b]=f||c}return c};a(b)}}(),define("ace/lib/regexp",["require","exports","module"],function(a,b,c){"use strict";function d(a){return(a.global?"g":"")+(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.extended?"x":"")+(a.sticky?"y":"")}function e(a,b,c){if(Array.prototype.indexOf)return a.indexOf(b,c);for(var d=c||0;d<a.length;d++)if(a[d]===b)return d;return-1}var f={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,
split:String.prototype.split},g=void 0===f.exec.call(/()??/,"")[1],h=function(){var a=/^/g;return f.test.call(a,""),!a.lastIndex}();h&&g||(RegExp.prototype.exec=function(a){var b,c,i=f.exec.apply(this,arguments);if("string"==typeof a&&i){if(!g&&i.length>1&&e(i,"")>-1&&(c=RegExp(this.source,f.replace.call(d(this),"g","")),f.replace.call(a.slice(i.index),c,function(){for(var a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),this._xregexp&&this._xregexp.captureNames)for(var j=1;j<i.length;j++)b=this._xregexp.captureNames[j-1],b&&(i[b]=i[j]);!h&&this.global&&!i[0].length&&this.lastIndex>i.index&&this.lastIndex--}return i},h||(RegExp.prototype.test=function(a){var b=f.exec.call(this,a);return b&&this.global&&!b[0].length&&this.lastIndex>b.index&&this.lastIndex--,!!b}))}),define("ace/lib/es5-shim",["require","exports","module"],function(a,b,c){function d(){}function e(a){try{return Object.defineProperty(a,"sentinel",{}),"sentinel"in a}catch(b){}}function f(a){return a=+a,a!==a?a=0:0!==a&&a!==1/0&&a!==-(1/0)&&(a=(a>0||-1)*Math.floor(Math.abs(a))),a}Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError("Function.prototype.bind called on incompatible "+b);var c=o.call(arguments,1),e=function(){if(this instanceof e){var d=b.apply(this,c.concat(o.call(arguments)));return Object(d)===d?d:this}return b.apply(a,c.concat(o.call(arguments)))};return b.prototype&&(d.prototype=b.prototype,e.prototype=new d,d.prototype=null),e});var g,h,i,j,k,l=Function.prototype.call,m=Array.prototype,n=Object.prototype,o=m.slice,p=l.bind(n.toString),q=l.bind(n.hasOwnProperty);if((k=q(n,"__defineGetter__"))&&(g=l.bind(n.__defineGetter__),h=l.bind(n.__defineSetter__),i=l.bind(n.__lookupGetter__),j=l.bind(n.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function a(a){var b=new Array(a+2);return b[0]=b[1]=0,b}var b,c=[];return c.splice.apply(c,a(20)),c.splice.apply(c,a(26)),b=c.length,c.splice(5,0,"XXX"),b+1==c.length,b+1==c.length?!0:void 0}()){var r=Array.prototype.splice;Array.prototype.splice=function(a,b){return arguments.length?r.apply(this,[void 0===a?0:a,void 0===b?this.length-a:b].concat(o.call(arguments,2))):[]}}else Array.prototype.splice=function(a,b){var c=this.length;a>0?a>c&&(a=c):void 0==a?a=0:0>a&&(a=Math.max(c+a,0)),c>a+b||(b=c-a);var d=this.slice(a,a+b),e=o.call(arguments,2),f=e.length;if(a===c)f&&this.push.apply(this,e);else{var g=Math.min(b,c-a),h=a+g,i=h+f-g,j=c-h,k=c-g;if(h>i)for(var l=0;j>l;++l)this[i+l]=this[h+l];else if(i>h)for(l=j;l--;)this[i+l]=this[h+l];if(f&&a===k)this.length=k,this.push.apply(this,e);else for(this.length=k+f,l=0;f>l;++l)this[a+l]=e[l]}return d};Array.isArray||(Array.isArray=function(a){return"[object Array]"==p(a)});var s=Object("a"),t="a"!=s[0]||!(0 in s);if(Array.prototype.forEach||(Array.prototype.forEach=function(a){var b=K(this),c=t&&"[object String]"==p(this)?this.split(""):b,d=arguments[1],e=-1,f=c.length>>>0;if("[object Function]"!=p(a))throw new TypeError;for(;++e<f;)e in c&&a.call(d,c[e],e,b)}),Array.prototype.map||(Array.prototype.map=function(a){var b=K(this),c=t&&"[object String]"==p(this)?this.split(""):b,d=c.length>>>0,e=Array(d),f=arguments[1];if("[object Function]"!=p(a))throw new TypeError(a+" is not a function");for(var g=0;d>g;g++)g in c&&(e[g]=a.call(f,c[g],g,b));return e}),Array.prototype.filter||(Array.prototype.filter=function(a){var b,c=K(this),d=t&&"[object String]"==p(this)?this.split(""):c,e=d.length>>>0,f=[],g=arguments[1];if("[object Function]"!=p(a))throw new TypeError(a+" is not a function");for(var h=0;e>h;h++)h in d&&(b=d[h],a.call(g,b,h,c)&&f.push(b));return f}),Array.prototype.every||(Array.prototype.every=function(a){var b=K(this),c=t&&"[object String]"==p(this)?this.split(""):b,d=c.length>>>0,e=arguments[1];if("[object Function]"!=p(a))throw new TypeError(a+" is not a function");for(var f=0;d>f;f++)if(f in c&&!a.call(e,c[f],f,b))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(a){var b=K(this),c=t&&"[object String]"==p(this)?this.split(""):b,d=c.length>>>0,e=arguments[1];if("[object Function]"!=p(a))throw new TypeError(a+" is not a function");for(var f=0;d>f;f++)if(f in c&&a.call(e,c[f],f,b))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(a){var b=K(this),c=t&&"[object String]"==p(this)?this.split(""):b,d=c.length>>>0;if("[object Function]"!=p(a))throw new TypeError(a+" is not a function");if(!d&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var e,f=0;if(arguments.length>=2)e=arguments[1];else for(;;){if(f in c){e=c[f++];break}if(++f>=d)throw new TypeError("reduce of empty array with no initial value")}for(;d>f;f++)f in c&&(e=a.call(void 0,e,c[f],f,b));return e}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(a){var b=K(this),c=t&&"[object String]"==p(this)?this.split(""):b,d=c.length>>>0;if("[object Function]"!=p(a))throw new TypeError(a+" is not a function");if(!d&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var e,f=d-1;if(arguments.length>=2)e=arguments[1];else for(;;){if(f in c){e=c[f--];break}if(--f<0)throw new TypeError("reduceRight of empty array with no initial value")}do f in this&&(e=a.call(void 0,e,c[f],f,b));while(f--);return e}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(a){var b=t&&"[object String]"==p(this)?this.split(""):K(this),c=b.length>>>0;if(!c)return-1;var d=0;for(arguments.length>1&&(d=f(arguments[1])),d=d>=0?d:Math.max(0,c+d);c>d;d++)if(d in b&&b[d]===a)return d;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(a){var b=t&&"[object String]"==p(this)?this.split(""):K(this),c=b.length>>>0;if(!c)return-1;var d=c-1;for(arguments.length>1&&(d=Math.min(d,f(arguments[1]))),d=d>=0?d:c-Math.abs(d);d>=0;d--)if(d in b&&a===b[d])return d;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(a){return a.__proto__||(a.constructor?a.constructor.prototype:n)}),!Object.getOwnPropertyDescriptor){var u="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(a,b){if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError(u+a);if(q(a,b)){var c,d,e;if(c={enumerable:!0,configurable:!0},k){var f=a.__proto__;a.__proto__=n;var d=i(a,b),e=j(a,b);if(a.__proto__=f,d||e)return d&&(c.get=d),e&&(c.set=e),c}return c.value=a[b],c}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(a){return Object.keys(a)}),!Object.create){var v;v=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var a={};for(var b in a)a[b]=null;return a.constructor=a.hasOwnProperty=a.propertyIsEnumerable=a.isPrototypeOf=a.toLocaleString=a.toString=a.valueOf=a.__proto__=null,a},Object.create=function(a,b){var c;if(null===a)c=v();else{if("object"!=typeof a)throw new TypeError("typeof prototype["+typeof a+"] != 'object'");var d=function(){};d.prototype=a,c=new d,c.__proto__=a}return void 0!==b&&Object.defineProperties(c,b),c}}if(Object.defineProperty){var w=e({}),x="undefined"==typeof document||e(document.createElement("div"));if(!w||!x)var y=Object.defineProperty}if(!Object.defineProperty||y){var z="Property description must be an object: ",A="Object.defineProperty called on non-object: ",B="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(a,b,c){if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError(A+a);if("object"!=typeof c&&"function"!=typeof c||null===c)throw new TypeError(z+c);if(y)try{return y.call(Object,a,b,c)}catch(d){}if(q(c,"value"))if(k&&(i(a,b)||j(a,b))){var e=a.__proto__;a.__proto__=n,delete a[b],a[b]=c.value,a.__proto__=e}else a[b]=c.value;else{if(!k)throw new TypeError(B);q(c,"get")&&g(a,b,c.get),q(c,"set")&&h(a,b,c.set)}return a}}Object.defineProperties||(Object.defineProperties=function(a,b){for(var c in b)q(b,c)&&Object.defineProperty(a,c,b[c]);return a}),Object.seal||(Object.seal=function(a){return a}),Object.freeze||(Object.freeze=function(a){return a});try{Object.freeze(function(){})}catch(C){Object.freeze=function(a){return function(b){return"function"==typeof b?b:a(b)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(a){return a}),Object.isSealed||(Object.isSealed=function(a){return!1}),Object.isFrozen||(Object.isFrozen=function(a){return!1}),Object.isExtensible||(Object.isExtensible=function(a){if(Object(a)===a)throw new TypeError;for(var b="";q(a,b);)b+="?";a[b]=!0;var c=q(a,b);return delete a[b],c}),!Object.keys){var D=!0,E=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],F=E.length;for(var G in{toString:null})D=!1;Object.keys=function L(a){if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError("Object.keys called on a non-object");var L=[];for(var b in a)q(a,b)&&L.push(b);if(D)for(var c=0,d=F;d>c;c++){var e=E[c];q(a,e)&&L.push(e)}return L}}Date.now||(Date.now=function(){return(new Date).getTime()});var H="	\n\f\r   ᠎             　\u2028\u2029\ufeff";if(!String.prototype.trim||H.trim()){H="["+H+"]";var I=new RegExp("^"+H+H+"*"),J=new RegExp(H+H+"*$");String.prototype.trim=function(){return String(this).replace(I,"").replace(J,"")}}var K=function(a){if(null==a)throw new TypeError("can't convert "+a+" to object");return Object(a)}}),define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(a,b,c){"use strict";a("./regexp"),a("./es5-shim")}),define("ace/lib/dom",["require","exports","module"],function(a,b,c){"use strict";var d="http://www.w3.org/1999/xhtml";return b.getDocumentHead=function(a){return a||(a=document),a.head||a.getElementsByTagName("head")[0]||a.documentElement},b.createElement=function(a,b){return document.createElementNS?document.createElementNS(b||d,a):document.createElement(a)},b.hasCssClass=function(a,b){var c=(a.className+"").split(/\s+/g);return-1!==c.indexOf(b)},b.addCssClass=function(a,c){b.hasCssClass(a,c)||(a.className+=" "+c)},b.removeCssClass=function(a,b){for(var c=a.className.split(/\s+/g);;){var d=c.indexOf(b);if(-1==d)break;c.splice(d,1)}a.className=c.join(" ")},b.toggleCssClass=function(a,b){for(var c=a.className.split(/\s+/g),d=!0;;){var e=c.indexOf(b);if(-1==e)break;d=!1,c.splice(e,1)}return d&&c.push(b),a.className=c.join(" "),d},b.setCssClass=function(a,c,d){d?b.addCssClass(a,c):b.removeCssClass(a,c)},b.hasCssString=function(a,b){var c,d=0;if(b=b||document,b.createStyleSheet&&(c=b.styleSheets)){for(;d<c.length;)if(c[d++].owningElement.id===a)return!0}else if(c=b.getElementsByTagName("style"))for(;d<c.length;)if(c[d++].id===a)return!0;return!1},b.importCssString=function(a,c,d){if(d=d||document,c&&b.hasCssString(c,d))return null;var e;c&&(a+="\n/*# sourceURL=ace/css/"+c+" */"),d.createStyleSheet?(e=d.createStyleSheet(),e.cssText=a,c&&(e.owningElement.id=c)):(e=b.createElement("style"),e.appendChild(d.createTextNode(a)),c&&(e.id=c),b.getDocumentHead(d).appendChild(e))},b.importCssStylsheet=function(a,c){if(c.createStyleSheet)c.createStyleSheet(a);else{var d=b.createElement("link");d.rel="stylesheet",d.href=a,b.getDocumentHead(c).appendChild(d)}},b.getInnerWidth=function(a){return parseInt(b.computedStyle(a,"paddingLeft"),10)+parseInt(b.computedStyle(a,"paddingRight"),10)+a.clientWidth},b.getInnerHeight=function(a){return parseInt(b.computedStyle(a,"paddingTop"),10)+parseInt(b.computedStyle(a,"paddingBottom"),10)+a.clientHeight},b.scrollbarWidth=function(a){var c=b.createElement("ace_inner");c.style.width="100%",c.style.minWidth="0px",c.style.height="200px",c.style.display="block";var d=b.createElement("ace_outer"),e=d.style;e.position="absolute",e.left="-10000px",e.overflow="hidden",e.width="200px",e.minWidth="0px",e.height="150px",e.display="block",d.appendChild(c);var f=a.documentElement;f.appendChild(d);var g=c.offsetWidth;e.overflow="scroll";var h=c.offsetWidth;return g==h&&(h=d.clientWidth),f.removeChild(d),g-h},"undefined"==typeof document?void(b.importCssString=function(){}):(void 0!==window.pageYOffset?(b.getPageScrollTop=function(){return window.pageYOffset},b.getPageScrollLeft=function(){return window.pageXOffset}):(b.getPageScrollTop=function(){return document.body.scrollTop},b.getPageScrollLeft=function(){return document.body.scrollLeft}),window.getComputedStyle?b.computedStyle=function(a,b){return b?(window.getComputedStyle(a,"")||{})[b]||"":window.getComputedStyle(a,"")||{}}:b.computedStyle=function(a,b){return b?a.currentStyle[b]:a.currentStyle},b.setInnerHtml=function(a,b){var c=a.cloneNode(!1);return c.innerHTML=b,a.parentNode.replaceChild(c,a),c},"textContent"in document.documentElement?(b.setInnerText=function(a,b){a.textContent=b},b.getInnerText=function(a){return a.textContent}):(b.setInnerText=function(a,b){a.innerText=b},b.getInnerText=function(a){return a.innerText}),void(b.getParentWindow=function(a){return a.defaultView||a.parentWindow}))}),define("ace/lib/oop",["require","exports","module"],function(a,b,c){"use strict";b.inherits=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})},b.mixin=function(a,b){for(var c in b)a[c]=b[c];return a},b.implement=function(a,c){b.mixin(a,c)}}),define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],function(a,b,c){"use strict";a("./fixoldbrowsers");var d=a("./oop"),e=function(){var a,b,c={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,"super":8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(b in c.FUNCTION_KEYS)a=c.FUNCTION_KEYS[b].toLowerCase(),c[a]=parseInt(b,10);for(b in c.PRINTABLE_KEYS)a=c.PRINTABLE_KEYS[b].toLowerCase(),c[a]=parseInt(b,10);return d.mixin(c,c.MODIFIER_KEYS),d.mixin(c,c.PRINTABLE_KEYS),d.mixin(c,c.FUNCTION_KEYS),c.enter=c["return"],c.escape=c.esc,c.del=c["delete"],c[173]="-",function(){for(var a=["cmd","ctrl","alt","shift"],b=Math.pow(2,a.length);b--;)c.KEY_MODS[b]=a.filter(function(a){return b&c.KEY_MODS[a]}).join("-")+"-"}(),c.KEY_MODS[0]="",c.KEY_MODS[-1]="input-",c}();d.mixin(b,e),b.keyCodeToString=function(a){var b=e[a];return"string"!=typeof b&&(b=String.fromCharCode(a)),b.toLowerCase()}}),define("ace/lib/useragent",["require","exports","module"],function(a,b,c){"use strict";if(b.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},b.getOS=function(){return b.isMac?b.OS.MAC:b.isLinux?b.OS.LINUX:b.OS.WINDOWS},"object"==typeof navigator){var d=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),e=navigator.userAgent;b.isWin="win"==d,b.isMac="mac"==d,b.isLinux="linux"==d,b.isIE="Microsoft Internet Explorer"==navigator.appName||navigator.appName.indexOf("MSAppHost")>=0?parseFloat((e.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((e.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),b.isOldIE=b.isIE&&b.isIE<9,b.isGecko=b.isMozilla=(window.Controllers||window.controllers)&&"Gecko"===window.navigator.product,b.isOldGecko=b.isGecko&&parseInt((e.match(/rv:(\d+)/)||[])[1],10)<4,b.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),b.isWebKit=parseFloat(e.split("WebKit/")[1])||void 0,b.isChrome=parseFloat(e.split(" Chrome/")[1])||void 0,b.isAIR=e.indexOf("AdobeAIR")>=0,b.isIPad=e.indexOf("iPad")>=0,b.isTouchPad=e.indexOf("TouchPad")>=0,b.isChromeOS=e.indexOf(" CrOS ")>=0}}),define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(a,b,c){"use strict";function d(a,b,c){var d=j(b);if(!g.isMac&&h){if(b.getModifierState&&(b.getModifierState("OS")||b.getModifierState("Win"))&&(d|=8),h.altGr){if(3==(3&d))return;h.altGr=0}if(18===c||17===c){var e="location"in b?b.location:b.keyLocation;if(17===c&&1===e)1==h[c]&&(i=b.timeStamp);else if(18===c&&3===d&&2===e){var k=b.timeStamp-i;50>k&&(h.altGr=!0)}}}if(c in f.MODIFIER_KEYS&&(c=-1),8&d&&c>=91&&93>=c&&(c=-1),!d&&13===c){var e="location"in b?b.location:b.keyLocation;if(3===e&&(a(b,d,-c),b.defaultPrevented))return}if(g.isChromeOS&&8&d){if(a(b,d,c),b.defaultPrevented)return;d&=-9}return d||c in f.FUNCTION_KEYS||c in f.PRINTABLE_KEYS?a(b,d,c):!1}function e(){h=Object.create(null)}var f=a("./keys"),g=a("./useragent"),h=null,i=0;b.addListener=function(a,b,c){if(a.addEventListener)return a.addEventListener(b,c,!1);if(a.attachEvent){var d=function(){c.call(a,window.event)};c._wrapper=d,a.attachEvent("on"+b,d)}},b.removeListener=function(a,b,c){return a.removeEventListener?a.removeEventListener(b,c,!1):void(a.detachEvent&&a.detachEvent("on"+b,c._wrapper||c))},b.stopEvent=function(a){return b.stopPropagation(a),b.preventDefault(a),!1},b.stopPropagation=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},b.preventDefault=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},b.getButton=function(a){return"dblclick"==a.type?0:"contextmenu"==a.type||g.isMac&&a.ctrlKey&&!a.altKey&&!a.shiftKey?2:a.preventDefault?a.button:{1:0,2:2,4:1}[a.button]},b.capture=function(a,c,d){function e(a){c&&c(a),d&&d(a),b.removeListener(document,"mousemove",c,!0),b.removeListener(document,"mouseup",e,!0),b.removeListener(document,"dragstart",e,!0)}return b.addListener(document,"mousemove",c,!0),b.addListener(document,"mouseup",e,!0),b.addListener(document,"dragstart",e,!0),e},b.addTouchMoveListener=function(a,c){if("ontouchmove"in a){var d,e;b.addListener(a,"touchstart",function(a){var b=a.changedTouches[0];d=b.clientX,e=b.clientY}),b.addListener(a,"touchmove",function(a){var b=1,f=a.changedTouches[0];a.wheelX=-(f.clientX-d)/b,a.wheelY=-(f.clientY-e)/b,d=f.clientX,e=f.clientY,c(a)})}},b.addMouseWheelListener=function(a,c){"onmousewheel"in a?b.addListener(a,"mousewheel",function(a){var b=8;void 0!==a.wheelDeltaX?(a.wheelX=-a.wheelDeltaX/b,a.wheelY=-a.wheelDeltaY/b):(a.wheelX=0,a.wheelY=-a.wheelDelta/b),c(a)}):"onwheel"in a?b.addListener(a,"wheel",function(a){var b=.35;switch(a.deltaMode){case a.DOM_DELTA_PIXEL:a.wheelX=a.deltaX*b||0,a.wheelY=a.deltaY*b||0;break;case a.DOM_DELTA_LINE:case a.DOM_DELTA_PAGE:a.wheelX=5*(a.deltaX||0),a.wheelY=5*(a.deltaY||0)}c(a)}):b.addListener(a,"DOMMouseScroll",function(a){a.axis&&a.axis==a.HORIZONTAL_AXIS?(a.wheelX=5*(a.detail||0),a.wheelY=0):(a.wheelX=0,a.wheelY=5*(a.detail||0)),c(a)})},b.addMultiMouseDownListener=function(a,c,d,e){function f(a){if(0!==b.getButton(a)?l=0:a.detail>1?(l++,l>4&&(l=1)):l=1,g.isIE){var f=Math.abs(a.clientX-i)>5||Math.abs(a.clientY-j)>5;(!k||f)&&(l=1),k&&clearTimeout(k),k=setTimeout(function(){k=null},c[l-1]||600),1==l&&(i=a.clientX,j=a.clientY)}if(a._clicks=l,d[e]("mousedown",a),l>4)l=0;else if(l>1)return d[e](m[l],a)}function h(a){l=2,k&&clearTimeout(k),k=setTimeout(function(){k=null},c[l-1]||600),d[e]("mousedown",a),d[e](m[l],a)}var i,j,k,l=0,m={2:"dblclick",3:"tripleclick",4:"quadclick"};Array.isArray(a)||(a=[a]),a.forEach(function(a){b.addListener(a,"mousedown",f),g.isOldIE&&b.addListener(a,"dblclick",h)})};var j=!g.isMac||!g.isOpera||"KeyboardEvent"in window?function(a){return 0|(a.ctrlKey?1:0)|(a.altKey?2:0)|(a.shiftKey?4:0)|(a.metaKey?8:0)}:function(a){return 0|(a.metaKey?1:0)|(a.altKey?2:0)|(a.shiftKey?4:0)|(a.ctrlKey?8:0)};if(b.getModifierString=function(a){return f.KEY_MODS[j(a)]},b.addCommandKeyListener=function(a,c){var f=b.addListener;if(g.isOldGecko||g.isOpera&&!("KeyboardEvent"in window)){var i=null;f(a,"keydown",function(a){i=a.keyCode}),f(a,"keypress",function(a){return d(c,a,i)})}else{var j=null;f(a,"keydown",function(a){h[a.keyCode]=(h[a.keyCode]||0)+1;var b=d(c,a,a.keyCode);return j=a.defaultPrevented,b}),f(a,"keypress",function(a){j&&(a.ctrlKey||a.altKey||a.shiftKey||a.metaKey)&&(b.stopEvent(a),j=null)}),f(a,"keyup",function(a){h[a.keyCode]=null}),h||(e(),f(window,"focus",e))}},"object"==typeof window&&window.postMessage&&!g.isOldIE){var k=1;b.nextTick=function(a,c){c=c||window;var d="zero-timeout-message-"+k;b.addListener(c,"message",function e(f){f.data==d&&(b.stopPropagation(f),b.removeListener(c,"message",e),a())}),c.postMessage(d,"*")}}b.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),b.nextFrame?b.nextFrame=b.nextFrame.bind(window):b.nextFrame=function(a){setTimeout(a,17)}}),define("ace/lib/lang",["require","exports","module"],function(a,b,c){"use strict";b.last=function(a){return a[a.length-1]},b.stringReverse=function(a){return a.split("").reverse().join("")},b.stringRepeat=function(a,b){for(var c="";b>0;)1&b&&(c+=a),(b>>=1)&&(a+=a);return c};var d=/^\s\s*/,e=/\s\s*$/;b.stringTrimLeft=function(a){return a.replace(d,"")},b.stringTrimRight=function(a){return a.replace(e,"")},b.copyObject=function(a){var b={};for(var c in a)b[c]=a[c];return b},b.copyArray=function(a){for(var b=[],c=0,d=a.length;d>c;c++)a[c]&&"object"==typeof a[c]?b[c]=this.copyObject(a[c]):b[c]=a[c];return b},b.deepCopy=function f(a){if("object"!=typeof a||!a)return a;var b;if(Array.isArray(a)){b=[];for(var c=0;c<a.length;c++)b[c]=f(a[c]);return b}if("[object Object]"!==Object.prototype.toString.call(a))return a;b={};for(var c in a)b[c]=f(a[c]);return b},b.arrayToMap=function(a){for(var b={},c=0;c<a.length;c++)b[a[c]]=1;return b},b.createMap=function(a){var b=Object.create(null);for(var c in a)b[c]=a[c];return b},b.arrayRemove=function(a,b){for(var c=0;c<=a.length;c++)b===a[c]&&a.splice(c,1)},b.escapeRegExp=function(a){return a.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},b.escapeHTML=function(a){return a.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},b.getMatchOffsets=function(a,b){var c=[];return a.replace(b,function(a){c.push({offset:arguments[arguments.length-2],length:a.length})}),c},b.deferredCall=function(a){var b=null,c=function(){b=null,a()},d=function(a){return d.cancel(),b=setTimeout(c,a||0),d};return d.schedule=d,d.call=function(){return this.cancel(),a(),d},d.cancel=function(){return clearTimeout(b),b=null,d},d.isPending=function(){return b},d},b.delayedCall=function(a,b){var c=null,d=function(){c=null,a()},e=function(a){null==c&&(c=setTimeout(d,a||b))};return e.delay=function(a){c&&clearTimeout(c),c=setTimeout(d,a||b)},e.schedule=e,e.call=function(){this.cancel(),a()},e.cancel=function(){c&&clearTimeout(c),c=null},e.isPending=function(){return c},e}}),define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang"],function(a,b,c){"use strict";var d=a("../lib/event"),e=a("../lib/useragent"),f=a("../lib/dom"),g=a("../lib/lang"),h=e.isChrome<18,i=e.isIE,j=function(a,b){function c(a){if(!p){if(p=!0,C)b=0,c=a?0:l.value.length-1;else var b=a?2:1,c=2;try{l.setSelectionRange(b,c)}catch(d){}p=!1}}function j(){p||(l.value=m,e.isWebKit&&v.schedule())}function k(){clearTimeout(P),P=setTimeout(function(){q&&(l.style.cssText=q,q=""),null==b.renderer.$keepTextAreaAtCursor&&(b.renderer.$keepTextAreaAtCursor=!0,b.renderer.$moveTextAreaToCursor())},e.isOldIE?200:0)}var l=f.createElement("textarea");l.className="ace_text-input",e.isTouchPad&&l.setAttribute("x-palm-disable-auto-cap",!0),l.setAttribute("wrap","off"),l.setAttribute("autocorrect","off"),l.setAttribute("autocapitalize","off"),l.setAttribute("spellcheck",!1),l.style.opacity="0",e.isOldIE&&(l.style.top="-1000px"),a.insertBefore(l,a.firstChild);var m="",n=!1,o=!1,p=!1,q="",r=!0;try{var s=document.activeElement===l}catch(t){}d.addListener(l,"blur",function(a){b.onBlur(a),s=!1}),d.addListener(l,"focus",function(a){s=!0,b.onFocus(a),c()}),this.focus=function(){if(q)return l.focus();var a=l.style.top;l.style.position="fixed",l.style.top="0px",l.focus(),setTimeout(function(){l.style.position="","0px"==l.style.top&&(l.style.top=a)},0)},this.blur=function(){l.blur()},this.isFocused=function(){return s};var u=g.delayedCall(function(){s&&c(r)}),v=g.delayedCall(function(){p||(l.value=m,s&&c())});e.isWebKit||b.addEventListener("changeSelection",function(){b.selection.isEmpty()!=r&&(r=!r,u.schedule())}),j(),s&&b.onFocus();var w=function(a){return 0===a.selectionStart&&a.selectionEnd===a.value.length};if(!l.setSelectionRange&&l.createTextRange&&(l.setSelectionRange=function(a,b){var c=this.createTextRange();c.collapse(!0),c.moveStart("character",a),c.moveEnd("character",b),c.select()},w=function(a){try{var b=a.ownerDocument.selection.createRange()}catch(c){}return b&&b.parentElement()==a?b.text==a.value:!1}),e.isOldIE){var x=!1,y=function(a){if(!x){var b=l.value;if(!p&&b&&b!=m){if(a&&b==m[0])return z.schedule();E(b),x=!0,j(),x=!1}}},z=g.delayedCall(y);d.addListener(l,"propertychange",y);var A={13:1,27:1};d.addListener(l,"keyup",function(a){return!p||l.value&&!A[a.keyCode]||setTimeout(N,0),(l.value.charCodeAt(0)||0)<129?z.call():void(p?M():L())}),d.addListener(l,"keydown",function(a){z.schedule(50)})}var B=function(a){n?n=!1:w(l)?(b.selectAll(),c()):C&&c(b.selection.isEmpty())},C=null;this.setInputHandler=function(a){C=a},this.getInputHandler=function(){return C};var D=!1,E=function(a){C&&(a=C(a),C=null),o?(c(),a&&b.onPaste(a),o=!1):a==m.charAt(0)?D?b.execCommand("del",{source:"ace"}):b.execCommand("backspace",{source:"ace"}):(a.substring(0,2)==m?a=a.substr(2):a.charAt(0)==m.charAt(0)?a=a.substr(1):a.charAt(a.length-1)==m.charAt(0)&&(a=a.slice(0,-1)),a.charAt(a.length-1)==m.charAt(0)&&(a=a.slice(0,-1)),a&&b.onTextInput(a)),D&&(D=!1)},F=function(a){if(!p){var b=l.value;E(b),j()}},G=function(a,b,c){var d=a.clipboardData||window.clipboardData;if(d&&!h){var e=i||c?"Text":"text/plain";try{return b?d.setData(e,b)!==!1:d.getData(e)}catch(a){if(!c)return G(a,b,!0)}}},H=function(a,e){var f=b.getCopyText();return f?void(G(a,f)?(e?b.onCut():b.onCopy(),d.preventDefault(a)):(n=!0,l.value=f,l.select(),setTimeout(function(){n=!1,j(),c(),e?b.onCut():b.onCopy()}))):d.preventDefault(a)},I=function(a){H(a,!0)},J=function(a){H(a,!1)},K=function(a){var f=G(a);"string"==typeof f?(f&&b.onPaste(f,a),e.isIE&&setTimeout(c),d.preventDefault(a)):(l.value="",o=!0)};d.addCommandKeyListener(l,b.onCommandKey.bind(b)),d.addListener(l,"select",B),d.addListener(l,"input",F),d.addListener(l,"cut",I),d.addListener(l,"copy",J),d.addListener(l,"paste",K),"oncut"in l&&"oncopy"in l&&"onpaste"in l||d.addListener(a,"keydown",function(a){if((!e.isMac||a.metaKey)&&a.ctrlKey)switch(a.keyCode){case 67:J(a);break;case 86:K(a);break;case 88:I(a)}});var L=function(a){p||!b.onCompositionStart||b.$readOnly||(p={},p.canUndo=b.session.$undoManager,b.onCompositionStart(),setTimeout(M,0),b.on("mousedown",N),p.canUndo&&!b.selection.isEmpty()&&(b.insert(""),b.session.markUndoGroup(),b.selection.clearSelection()),b.session.markUndoGroup())},M=function(){if(p&&b.onCompositionUpdate&&!b.$readOnly){var a=l.value.replace(/\x01/g,"");if(p.lastValue!==a&&(b.onCompositionUpdate(a),p.lastValue&&b.undo(),p.canUndo&&(p.lastValue=a),p.lastValue)){var c=b.selection.getRange();b.insert(p.lastValue),b.session.markUndoGroup(),p.range=b.selection.getRange(),b.selection.setRange(c),b.selection.clearSelection()}}},N=function(a){if(b.onCompositionEnd&&!b.$readOnly){var c=p;p=!1;var d=setTimeout(function(){d=null;var a=l.value.replace(/\x01/g,"");p||(a==c.lastValue?j():!c.lastValue&&a&&(j(),E(a)))});C=function(a){return d&&clearTimeout(d),a=a.replace(/\x01/g,""),a==c.lastValue?"":(c.lastValue&&d&&b.undo(),a)},b.onCompositionEnd(),b.removeListener("mousedown",N),"compositionend"==a.type&&c.range&&b.selection.setRange(c.range),e.isChrome&&e.isChrome>=53&&F()}},O=g.delayedCall(M,50);d.addListener(l,"compositionstart",L),e.isGecko?d.addListener(l,"text",function(){O.schedule()}):(d.addListener(l,"keyup",function(){O.schedule()}),d.addListener(l,"keydown",function(){O.schedule()})),d.addListener(l,"compositionend",N),this.getElement=function(){return l},this.setReadOnly=function(a){l.readOnly=a},this.onContextMenu=function(a){D=!0,c(b.selection.isEmpty()),b._emit("nativecontextmenu",{target:b,domEvent:a}),this.moveToMouse(a,!0)},this.moveToMouse=function(a,c){if(c||!e.isOldIE){q||(q=l.style.cssText),l.style.cssText=(c?"z-index:100000;":"")+"height:"+l.style.height+";"+(e.isIE?"opacity:0.1;":"");var g=b.container.getBoundingClientRect(),h=f.computedStyle(b.container),i=g.top+(parseInt(h.borderTopWidth)||0),j=g.left+(parseInt(g.borderLeftWidth)||0),m=g.bottom-i-l.clientHeight-2,n=function(a){l.style.left=a.clientX-j-2+"px",l.style.top=Math.min(a.clientY-i-2,m)+"px"};n(a),"mousedown"==a.type&&(b.renderer.$keepTextAreaAtCursor&&(b.renderer.$keepTextAreaAtCursor=null),clearTimeout(P),e.isWin&&!e.isOldIE&&d.capture(b.container,n,k))}},this.onContextMenuClose=k;var P,Q=function(a){b.textInput.onContextMenu(a),k()};d.addListener(l,"mouseup",Q),d.addListener(l,"mousedown",function(a){a.preventDefault(),k()}),d.addListener(b.renderer.scroller,"contextmenu",Q),d.addListener(l,"contextmenu",Q)};b.TextInput=j}),define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(a,b,c){"use strict";function d(a){a.$clickSelection=null;var b=a.editor;b.setDefaultHandler("mousedown",this.onMouseDown.bind(a)),b.setDefaultHandler("dblclick",this.onDoubleClick.bind(a)),b.setDefaultHandler("tripleclick",this.onTripleClick.bind(a)),b.setDefaultHandler("quadclick",this.onQuadClick.bind(a)),b.setDefaultHandler("mousewheel",this.onMouseWheel.bind(a)),b.setDefaultHandler("touchmove",this.onTouchMove.bind(a));var c=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];c.forEach(function(b){a[b]=this[b]},this),a.selectByLines=this.extendSelectionBy.bind(a,"getLineRange"),a.selectByWords=this.extendSelectionBy.bind(a,"getWordRange")}function e(a,b,c,d){return Math.sqrt(Math.pow(c-a,2)+Math.pow(d-b,2))}function f(a,b){if(a.start.row==a.end.row)var c=2*b.column-a.start.column-a.end.column;else if(a.start.row!=a.end.row-1||a.start.column||a.end.column)var c=2*b.row-a.start.row-a.end.row;else var c=b.column-4;return 0>c?{cursor:a.start,anchor:a.end}:{cursor:a.end,anchor:a.start}}var g=(a("../lib/dom"),a("../lib/event"),a("../lib/useragent"),0);(function(){this.onMouseDown=function(a){var b=a.inSelection(),c=a.getDocumentPosition();this.mousedownEvent=a;var d=this.editor,e=a.getButton();if(0!==e){var f=d.getSelectionRange(),g=f.isEmpty();return d.$blockScrolling++,(g||1==e)&&d.selection.moveToPosition(c),d.$blockScrolling--,void(2==e&&d.textInput.onContextMenu(a.domEvent))}return this.mousedownEvent.time=Date.now(),!b||d.isFocused()||(d.focus(),!this.$focusTimout||this.$clickSelection||d.inMultiSelectMode)?(this.captureMouse(a),this.startSelect(c,a.domEvent._clicks>1),a.preventDefault()):(this.setState("focusWait"),void this.captureMouse(a))},this.startSelect=function(a,b){a=a||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var c=this.editor;c.$blockScrolling++,this.mousedownEvent.getShiftKey()?c.selection.selectToPosition(a):b||c.selection.moveToPosition(a),b||this.select(),
c.renderer.scroller.setCapture&&c.renderer.scroller.setCapture(),c.setStyle("ace_selecting"),this.setState("select"),c.$blockScrolling--},this.select=function(){var a,b=this.editor,c=b.renderer.screenToTextCoordinates(this.x,this.y);if(b.$blockScrolling++,this.$clickSelection){var d=this.$clickSelection.comparePoint(c);if(-1==d)a=this.$clickSelection.end;else if(1==d)a=this.$clickSelection.start;else{var e=f(this.$clickSelection,c);c=e.cursor,a=e.anchor}b.selection.setSelectionAnchor(a.row,a.column)}b.selection.selectToPosition(c),b.$blockScrolling--,b.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(a){var b,c=this.editor,d=c.renderer.screenToTextCoordinates(this.x,this.y),e=c.selection[a](d.row,d.column);if(c.$blockScrolling++,this.$clickSelection){var g=this.$clickSelection.comparePoint(e.start),h=this.$clickSelection.comparePoint(e.end);if(-1==g&&0>=h)b=this.$clickSelection.end,(e.end.row!=d.row||e.end.column!=d.column)&&(d=e.start);else if(1==h&&g>=0)b=this.$clickSelection.start,(e.start.row!=d.row||e.start.column!=d.column)&&(d=e.end);else if(-1==g&&1==h)d=e.end,b=e.start;else{var i=f(this.$clickSelection,d);d=i.cursor,b=i.anchor}c.selection.setSelectionAnchor(b.row,b.column)}c.selection.selectToPosition(d),c.$blockScrolling--,c.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var a=e(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),b=Date.now();(a>g||b-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(a){var b=a.getDocumentPosition(),c=this.editor,d=c.session,e=d.getBracketRange(b);e?(e.isEmpty()&&(e.start.column--,e.end.column++),this.setState("select")):(e=c.selection.getWordRange(b.row,b.column),this.setState("selectByWords")),this.$clickSelection=e,this.select()},this.onTripleClick=function(a){var b=a.getDocumentPosition(),c=this.editor;this.setState("selectByLines");var d=c.getSelectionRange();d.isMultiLine()&&d.contains(b.row,b.column)?(this.$clickSelection=c.selection.getLineRange(d.start.row),this.$clickSelection.end=c.selection.getLineRange(d.end.row).end):this.$clickSelection=c.selection.getLineRange(b.row),this.select()},this.onQuadClick=function(a){var b=this.editor;b.selectAll(),this.$clickSelection=b.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(a){if(!a.getAccelKey()){a.getShiftKey()&&a.wheelY&&!a.wheelX&&(a.wheelX=a.wheelY,a.wheelY=0);var b=a.domEvent.timeStamp,c=b-(this.$lastScrollTime||0),d=this.editor,e=d.renderer.isScrollableBy(a.wheelX*a.speed,a.wheelY*a.speed);return e||200>c?(this.$lastScrollTime=b,d.renderer.scrollBy(a.wheelX*a.speed,a.wheelY*a.speed),a.stop()):void 0}},this.onTouchMove=function(a){var b=a.domEvent.timeStamp,c=b-(this.$lastScrollTime||0),d=this.editor,e=d.renderer.isScrollableBy(a.wheelX*a.speed,a.wheelY*a.speed);return e||200>c?(this.$lastScrollTime=b,d.renderer.scrollBy(a.wheelX*a.speed,a.wheelY*a.speed),a.stop()):void 0}}).call(d.prototype),b.DefaultHandlers=d}),define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(a,b,c){"use strict";function d(a){this.isOpen=!1,this.$element=null,this.$parentNode=a}var e=(a("./lib/oop"),a("./lib/dom"));(function(){this.$init=function(){return this.$element=e.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(a){e.setInnerText(this.getElement(),a)},this.setHtml=function(a){this.getElement().innerHTML=a},this.setPosition=function(a,b){this.getElement().style.left=a+"px",this.getElement().style.top=b+"px"},this.setClassName=function(a){e.addCssClass(this.getElement(),a)},this.show=function(a,b,c){null!=a&&this.setText(a),null!=b&&null!=c&&this.setPosition(b,c),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth}}).call(d.prototype),b.Tooltip=d}),define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(a,b,c){"use strict";function d(a){function b(){var b=l.getDocumentPosition().row,e=i.$annotations[b];if(!e)return c();var f=g.session.getLength();if(b==f){var h=g.renderer.pixelToScreenCoordinates(0,l.y).row,k=l.$pos;if(h>g.session.documentToScreenRow(k.row,k.column))return c()}if(m!=e)if(m=e.text.join("<br/>"),j.setHtml(m),j.show(),g._signal("showGutterTooltip",j),g.on("mousewheel",c),a.$tooltipFollowsMouse)d(l);else{var n=l.domEvent.target,o=n.getBoundingClientRect(),p=j.getElement().style;p.left=o.right+"px",p.top=o.bottom+"px"}}function c(){k&&(k=clearTimeout(k)),m&&(j.hide(),m=null,g._signal("hideGutterTooltip",j),g.removeEventListener("mousewheel",c))}function d(a){j.setPosition(a.x,a.y)}var g=a.editor,i=g.renderer.$gutterLayer,j=new e(g.container);a.editor.setDefaultHandler("guttermousedown",function(b){if(g.isFocused()&&0==b.getButton()){var c=i.getRegion(b);if("foldWidgets"!=c){var d=b.getDocumentPosition().row,e=g.session.selection;if(b.getShiftKey())e.selectTo(d,0);else{if(2==b.domEvent.detail)return g.selectAll(),b.preventDefault();a.$clickSelection=g.selection.getLineRange(d)}return a.setState("selectByLines"),a.captureMouse(b),b.preventDefault()}}});var k,l,m;a.editor.setDefaultHandler("guttermousemove",function(e){var g=e.domEvent.target||e.domEvent.srcElement;return f.hasCssClass(g,"ace_fold-widget")?c():(m&&a.$tooltipFollowsMouse&&d(e),l=e,void(k||(k=setTimeout(function(){k=null,l&&!a.isMousePressed?b():c()},50))))}),h.addListener(g.renderer.$gutter,"mouseout",function(a){l=null,m&&!k&&(k=setTimeout(function(){k=null,c()},50))}),g.on("changeSession",c)}function e(a){i.call(this,a)}var f=a("../lib/dom"),g=a("../lib/oop"),h=a("../lib/event"),i=a("../tooltip").Tooltip;g.inherits(e,i),function(){this.setPosition=function(a,b){var c=window.innerWidth||document.documentElement.clientWidth,d=window.innerHeight||document.documentElement.clientHeight,e=this.getWidth(),f=this.getHeight();a+=15,b+=15,a+e>c&&(a-=a+e-c),b+f>d&&(b-=20+f),i.prototype.setPosition.call(this,a,b)}}.call(e.prototype),b.GutterHandler=d}),define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(a,b,c){"use strict";var d=a("../lib/event"),e=a("../lib/useragent"),f=b.MouseEvent=function(a,b){this.domEvent=a,this.editor=b,this.x=this.clientX=a.clientX,this.y=this.clientY=a.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){d.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){d.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var a=this.editor,b=a.getSelectionRange();if(b.isEmpty())this.$inSelection=!1;else{var c=this.getDocumentPosition();this.$inSelection=b.contains(c.row,c.column)}return this.$inSelection},this.getButton=function(){return d.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=e.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(f.prototype)}),define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(a,b,c){"use strict";function d(a){function b(a,b){var c=Date.now(),d=!b||a.row!=b.row,f=!b||a.column!=b.column;if(!C||d||f)q.$blockScrolling+=1,q.moveCursorToPosition(a),q.$blockScrolling-=1,C=c,D={x:u,y:v};else{var g=e(D.x,D.y,u,v);g>k?C=null:c-C>=j&&(q.renderer.scrollCursorIntoView(),C=null)}}function c(a,b){var c=Date.now(),d=q.renderer.layerConfig.lineHeight,e=q.renderer.layerConfig.characterWidth,f=q.renderer.scroller.getBoundingClientRect(),g={x:{left:u-f.left,right:f.right-u},y:{top:v-f.top,bottom:f.bottom-v}},h=Math.min(g.x.left,g.x.right),j=Math.min(g.y.top,g.y.bottom),k={row:a.row,column:a.column};2>=h/e&&(k.column+=g.x.left<g.x.right?-3:2),1>=j/d&&(k.row+=g.y.top<g.y.bottom?-1:1);var l=a.row!=k.row,m=a.column!=k.column,n=!b||a.row!=b.row;l||m&&!n?B?c-B>=i&&q.renderer.scrollCursorIntoView(k):B=c:B=null}function d(){var a=y;y=q.renderer.screenToTextCoordinates(u,v),b(y,a),c(y,a)}function l(){x=q.selection.toOrientedRange(),t=q.session.addMarker(x,"ace_selection",q.getSelectionStyle()),q.clearSelection(),q.isFocused()&&q.renderer.$cursorLayer.setBlinking(!1),clearInterval(w),d(),w=setInterval(d,20),F=0,g.addListener(document,"mousemove",n)}function m(){clearInterval(w),q.session.removeMarker(t),t=null,q.$blockScrolling+=1,q.selection.fromOrientedRange(x),q.$blockScrolling-=1,q.isFocused()&&!A&&q.renderer.$cursorLayer.setBlinking(!q.getReadOnly()),x=null,y=null,F=0,B=null,C=null,g.removeListener(document,"mousemove",n)}function n(){null==G&&(G=setTimeout(function(){null!=G&&t&&m()},20))}function o(a){var b=a.types;return!b||Array.prototype.some.call(b,function(a){return"text/plain"==a||"Text"==a})}function p(a){var b=["copy","copymove","all","uninitialized"],c=["move","copymove","linkmove","all","uninitialized"],d=h.isMac?a.altKey:a.ctrlKey,e="uninitialized";try{e=a.dataTransfer.effectAllowed.toLowerCase()}catch(a){}var f="none";return d&&b.indexOf(e)>=0?f="copy":c.indexOf(e)>=0?f="move":b.indexOf(e)>=0&&(f="copy"),f}var q=a.editor,r=f.createElement("img");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",h.isOpera&&(r.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");var s=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];s.forEach(function(b){a[b]=this[b]},this),q.addEventListener("mousedown",this.onMouseDown.bind(a));var t,u,v,w,x,y,z,A,B,C,D,E=q.container,F=0;this.onDragStart=function(a){if(this.cancelDrag||!E.draggable){var b=this;return setTimeout(function(){b.startSelect(),b.captureMouse(a)},0),a.preventDefault()}x=q.getSelectionRange();var c=a.dataTransfer;c.effectAllowed=q.getReadOnly()?"copy":"copyMove",h.isOpera&&(q.container.appendChild(r),r.scrollTop=0),c.setDragImage&&c.setDragImage(r,0,0),h.isOpera&&q.container.removeChild(r),c.clearData(),c.setData("Text",q.session.getTextRange()),A=!0,this.setState("drag")},this.onDragEnd=function(a){if(E.draggable=!1,A=!1,this.setState(null),!q.getReadOnly()){var b=a.dataTransfer.dropEffect;z||"move"!=b||q.session.remove(q.getSelectionRange()),q.renderer.$cursorLayer.setBlinking(!0)}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(a){return!q.getReadOnly()&&o(a.dataTransfer)?(u=a.clientX,v=a.clientY,t||l(),F++,a.dataTransfer.dropEffect=z=p(a),g.preventDefault(a)):void 0},this.onDragOver=function(a){return!q.getReadOnly()&&o(a.dataTransfer)?(u=a.clientX,v=a.clientY,t||(l(),F++),null!==G&&(G=null),a.dataTransfer.dropEffect=z=p(a),g.preventDefault(a)):void 0},this.onDragLeave=function(a){return F--,0>=F&&t?(m(),z=null,g.preventDefault(a)):void 0},this.onDrop=function(a){if(y){var b=a.dataTransfer;if(A)switch(z){case"move":x=x.contains(y.row,y.column)?{start:y,end:y}:q.moveText(x,y);break;case"copy":x=q.moveText(x,y,!0)}else{var c=b.getData("Text");x={start:y,end:q.session.insert(y,c)},q.focus(),z=null}return m(),g.preventDefault(a)}},g.addListener(E,"dragstart",this.onDragStart.bind(a)),g.addListener(E,"dragend",this.onDragEnd.bind(a)),g.addListener(E,"dragenter",this.onDragEnter.bind(a)),g.addListener(E,"dragover",this.onDragOver.bind(a)),g.addListener(E,"dragleave",this.onDragLeave.bind(a)),g.addListener(E,"drop",this.onDrop.bind(a));var G=null}function e(a,b,c,d){return Math.sqrt(Math.pow(c-a,2)+Math.pow(d-b,2))}var f=a("../lib/dom"),g=a("../lib/event"),h=a("../lib/useragent"),i=200,j=200,k=5;(function(){this.dragWait=function(){var a=Date.now()-this.mousedownEvent.time;a>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var a=this.editor.container;a.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(a){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var a=this.editor,b=a.container;b.draggable=!0,a.renderer.$cursorLayer.setBlinking(!1),a.setStyle("ace_dragging");var c=h.isWin?"default":"move";a.renderer.setCursorStyle(c),this.setState("dragReady")},this.onMouseDrag=function(a){var b=this.editor.container;if(h.isIE&&"dragReady"==this.state){var c=e(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);c>3&&b.dragDrop()}if("dragWait"===this.state){var c=e(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);c>0&&(b.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(a){if(this.$dragEnabled){this.mousedownEvent=a;var b=this.editor,c=a.inSelection(),d=a.getButton(),e=a.domEvent.detail||1;if(1===e&&0===d&&c){if(a.editor.inMultiSelectMode&&(a.getAccelKey()||a.getShiftKey()))return;this.mousedownEvent.time=Date.now();var f=a.domEvent.target||a.domEvent.srcElement;if("unselectable"in f&&(f.unselectable="on"),b.getDragDelay()){if(h.isWebKit){this.cancelDrag=!0;var g=b.container;g.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(a,this.onMouseDrag.bind(this)),a.defaultPrevented=!0}}}}).call(d.prototype),b.DragdropHandler=d}),define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(a,b,c){"use strict";var d=a("./dom");b.get=function(a,b){var c=new XMLHttpRequest;c.open("GET",a,!0),c.onreadystatechange=function(){4===c.readyState&&b(c.responseText)},c.send(null)},b.loadScript=function(a,b){var c=d.getDocumentHead(),e=document.createElement("script");e.src=a,c.appendChild(e),e.onload=e.onreadystatechange=function(a,c){(c||!e.readyState||"loaded"==e.readyState||"complete"==e.readyState)&&(e=e.onload=e.onreadystatechange=null,c||b())}},b.qualifyURL=function(a){var b=document.createElement("a");return b.href=a,b.href}}),define("ace/lib/event_emitter",["require","exports","module"],function(a,b,c){"use strict";var d={},e=function(){this.propagationStopped=!0},f=function(){this.defaultPrevented=!0};d._emit=d._dispatchEvent=function(a,b){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var c=this._eventRegistry[a]||[],d=this._defaultHandlers[a];if(c.length||d){"object"==typeof b&&b||(b={}),b.type||(b.type=a),b.stopPropagation||(b.stopPropagation=e),b.preventDefault||(b.preventDefault=f),c=c.slice();for(var g=0;g<c.length&&(c[g](b,this),!b.propagationStopped);g++);return d&&!b.defaultPrevented?d(b,this):void 0}},d._signal=function(a,b){var c=(this._eventRegistry||{})[a];if(c){c=c.slice();for(var d=0;d<c.length;d++)c[d](b,this)}},d.once=function(a,b){var c=this;b&&this.addEventListener(a,function d(){c.removeEventListener(a,d),b.apply(null,arguments)})},d.setDefaultHandler=function(a,b){var c=this._defaultHandlers;if(c||(c=this._defaultHandlers={_disabled_:{}}),c[a]){var d=c[a],e=c._disabled_[a];e||(c._disabled_[a]=e=[]),e.push(d);var f=e.indexOf(b);-1!=f&&e.splice(f,1)}c[a]=b},d.removeDefaultHandler=function(a,b){var c=this._defaultHandlers;if(c){var d=c._disabled_[a];if(c[a]==b){c[a];d&&this.setDefaultHandler(a,d.pop())}else if(d){var e=d.indexOf(b);-1!=e&&d.splice(e,1)}}},d.on=d.addEventListener=function(a,b,c){this._eventRegistry=this._eventRegistry||{};var d=this._eventRegistry[a];return d||(d=this._eventRegistry[a]=[]),-1==d.indexOf(b)&&d[c?"unshift":"push"](b),b},d.off=d.removeListener=d.removeEventListener=function(a,b){this._eventRegistry=this._eventRegistry||{};var c=this._eventRegistry[a];if(c){var d=c.indexOf(b);-1!==d&&c.splice(d,1)}},d.removeAllListeners=function(a){this._eventRegistry&&(this._eventRegistry[a]=[])},b.EventEmitter=d}),define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(a,b,c){"no use strict";function d(a){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function e(a,b){var c=new Error(a);c.data=b,"object"==typeof console&&console.error&&console.error(c),setTimeout(function(){throw c})}var f=a("./oop"),g=a("./event_emitter").EventEmitter,h={setOptions:function(a){Object.keys(a).forEach(function(b){this.setOption(b,a[b])},this)},getOptions:function(a){var b={};return a?Array.isArray(a)||(b=a,a=Object.keys(b)):a=Object.keys(this.$options),a.forEach(function(a){b[a]=this.getOption(a)},this),b},setOption:function(a,b){if(this["$"+a]!==b){var c=this.$options[a];if(!c)return d('misspelled option "'+a+'"');if(c.forwardTo)return this[c.forwardTo]&&this[c.forwardTo].setOption(a,b);c.handlesSet||(this["$"+a]=b),c&&c.set&&c.set.call(this,b)}},getOption:function(a){var b=this.$options[a];return b?b.forwardTo?this[b.forwardTo]&&this[b.forwardTo].getOption(a):b&&b.get?b.get.call(this):this["$"+a]:d('misspelled option "'+a+'"')}},i=function(){this.$defaultOptions={}};(function(){f.implement(this,g),this.defineOptions=function(a,b,c){return a.$options||(this.$defaultOptions[b]=a.$options={}),Object.keys(c).forEach(function(b){var d=c[b];"string"==typeof d&&(d={forwardTo:d}),d.name||(d.name=b),a.$options[d.name]=d,"initialValue"in d&&(a["$"+d.name]=d.initialValue)}),f.implement(a,h),this},this.resetOptions=function(a){Object.keys(a.$options).forEach(function(b){var c=a.$options[b];"value"in c&&a.setOption(b,c.value)})},this.setDefaultValue=function(a,b,c){var d=this.$defaultOptions[a]||(this.$defaultOptions[a]={});d[b]&&(d.forwardTo?this.setDefaultValue(d.forwardTo,b,c):d[b].value=c)},this.setDefaultValues=function(a,b){Object.keys(b).forEach(function(c){this.setDefaultValue(a,c,b[c])},this)},this.warn=d,this.reportError=e}).call(i.prototype),b.AppConfig=i}),define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],function(a,b,c){"no use strict";function d(d){if(i&&i.document){j.packaged=d||a.packaged||c.packaged||i.define&&define.packaged;for(var f={},g="",h=document.currentScript||document._currentScript,k=h&&h.ownerDocument||document,l=k.getElementsByTagName("script"),m=0;m<l.length;m++){var n=l[m],o=n.src||n.getAttribute("src");if(o){for(var p=n.attributes,q=0,r=p.length;r>q;q++){var s=p[q];0===s.name.indexOf("data-ace-")&&(f[e(s.name.replace(/^data-ace-/,""))]=s.value)}var t=o.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);t&&(g=t[1])}}g&&(f.base=f.base||g,f.packaged=!0),f.basePath=f.base,f.workerPath=f.workerPath||f.base,f.modePath=f.modePath||f.base,f.themePath=f.themePath||f.base,delete f.base;for(var u in f)"undefined"!=typeof f[u]&&b.set(u,f[u])}}function e(a){return a.replace(/-(.)/g,function(a,b){return b.toUpperCase()})}var f=a("./lib/lang"),g=(a("./lib/oop"),a("./lib/net")),h=a("./lib/app_config").AppConfig;c.exports=b=new h;var i=function(){return this||"undefined"!=typeof window&&window}(),j={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};b.get=function(a){if(!j.hasOwnProperty(a))throw new Error("Unknown config key: "+a);return j[a]},b.set=function(a,b){if(!j.hasOwnProperty(a))throw new Error("Unknown config key: "+a);j[a]=b},b.all=function(){return f.copyObject(j)},b.moduleUrl=function(a,b){if(j.$moduleUrls[a])return j.$moduleUrls[a];var c=a.split("/");b=b||c[c.length-2]||"";var d="snippets"==b?"/":"-",e=c[c.length-1];if("worker"==b&&"-"==d){var f=new RegExp("^"+b+"[\\-_]|[\\-_]"+b+"$","g");e=e.replace(f,"")}(!e||e==b)&&c.length>1&&(e=c[c.length-2]);var g=j[b+"Path"];return null==g?g=j.basePath:"/"==d&&(b=d=""),g&&"/"!=g.slice(-1)&&(g+="/"),g+b+d+e+this.get("suffix")},b.setModuleUrl=function(a,b){return j.$moduleUrls[a]=b},b.$loading={},b.loadModule=function(c,d){var e,f;Array.isArray(c)&&(f=c[0],c=c[1]);try{e=a(c)}catch(h){}if(e&&!b.$loading[c])return d&&d(e);if(b.$loading[c]||(b.$loading[c]=[]),b.$loading[c].push(d),!(b.$loading[c].length>1)){var i=function(){a([c],function(a){b._emit("load.module",{name:c,module:a});var d=b.$loading[c];b.$loading[c]=null,d.forEach(function(b){b&&b(a)})})};return b.get("packaged")?void g.loadScript(b.moduleUrl(c,f),i):i()}},d(!0),b.init=d}),define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],function(a,b,c){"use strict";var d=a("../lib/event"),e=a("../lib/useragent"),f=a("./default_handlers").DefaultHandlers,g=a("./default_gutter_handler").GutterHandler,h=a("./mouse_event").MouseEvent,i=a("./dragdrop_handler").DragdropHandler,j=a("../config"),k=function(a){var b=this;this.editor=a,new f(this),new g(this),new i(this);var c=function(b){var c=!document.hasFocus||!document.hasFocus()||!a.isFocused()&&document.activeElement==(a.textInput&&a.textInput.getElement());c&&window.focus(),a.focus()},h=a.renderer.getMouseEventTarget();d.addListener(h,"click",this.onMouseEvent.bind(this,"click")),d.addListener(h,"mousemove",this.onMouseMove.bind(this,"mousemove")),d.addMultiMouseDownListener([h,a.renderer.scrollBarV&&a.renderer.scrollBarV.inner,a.renderer.scrollBarH&&a.renderer.scrollBarH.inner,a.textInput&&a.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent"),d.addMouseWheelListener(a.container,this.onMouseWheel.bind(this,"mousewheel")),d.addTouchMoveListener(a.container,this.onTouchMove.bind(this,"touchmove"));var j=a.renderer.$gutter;d.addListener(j,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),d.addListener(j,"click",this.onMouseEvent.bind(this,"gutterclick")),d.addListener(j,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),d.addListener(j,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),d.addListener(h,"mousedown",c),d.addListener(j,"mousedown",c),e.isIE&&a.renderer.scrollBarV&&(d.addListener(a.renderer.scrollBarV.element,"mousedown",c),d.addListener(a.renderer.scrollBarH.element,"mousedown",c)),a.on("mousemove",function(c){if(!b.state&&!b.$dragDelay&&b.$dragEnabled){var d=a.renderer.screenToTextCoordinates(c.x,c.y),e=a.session.selection.getRange(),f=a.renderer;!e.isEmpty()&&e.insideStart(d.row,d.column)?f.setCursorStyle("default"):f.setCursorStyle("")}})};(function(){this.onMouseEvent=function(a,b){this.editor._emit(a,new h(b,this.editor))},this.onMouseMove=function(a,b){var c=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;c&&c.length&&this.editor._emit(a,new h(b,this.editor))},this.onMouseWheel=function(a,b){var c=new h(b,this.editor);c.speed=2*this.$scrollSpeed,c.wheelX=b.wheelX,c.wheelY=b.wheelY,this.editor._emit(a,c)},this.onTouchMove=function(a,b){var c=new h(b,this.editor);c.speed=1,c.wheelX=b.wheelX,c.wheelY=b.wheelY,this.editor._emit(a,c)},this.setState=function(a){this.state=a},this.captureMouse=function(a,b){this.x=a.x,this.y=a.y,this.isMousePressed=!0;var c=this.editor.renderer;c.$keepTextAreaAtCursor&&(c.$keepTextAreaAtCursor=null);var f=this,g=function(a){if(a){if(e.isWebKit&&!a.which&&f.releaseMouse)return f.releaseMouse();f.x=a.clientX,f.y=a.clientY,b&&b(a),f.mouseEvent=new h(a,f.editor),f.$mouseMoved=!0}},i=function(a){clearInterval(k),j(),f[f.state+"End"]&&f[f.state+"End"](a),f.state="",null==c.$keepTextAreaAtCursor&&(c.$keepTextAreaAtCursor=!0,c.$moveTextAreaToCursor()),f.isMousePressed=!1,f.$onCaptureMouseMove=f.releaseMouse=null,a&&f.onMouseEvent("mouseup",a)},j=function(){f[f.state]&&f[f.state](),f.$mouseMoved=!1};if(e.isOldIE&&"dblclick"==a.domEvent.type)return setTimeout(function(){i(a)});f.$onCaptureMouseMove=g,f.releaseMouse=d.capture(this.editor.container,g,i);var k=setInterval(j,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var a=function(b){b&&b.domEvent&&"contextmenu"!=b.domEvent.type||(this.editor.off("nativecontextmenu",a),b&&b.domEvent&&d.stopEvent(b.domEvent))}.bind(this);setTimeout(a,10),this.editor.on("nativecontextmenu",a)}}).call(k.prototype),j.defineOptions(k.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:e.isMac?150:0},dragEnabled:{initialValue:!0},focusTimout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),b.MouseHandler=k}),define("ace/mouse/fold_handler",["require","exports","module"],function(a,b,c){"use strict";function d(a){a.on("click",function(b){var c=b.getDocumentPosition(),d=a.session,e=d.getFoldAt(c.row,c.column,1);e&&(b.getAccelKey()?d.removeFold(e):d.expandFold(e),b.stop())}),a.on("gutterclick",function(b){var c=a.renderer.$gutterLayer.getRegion(b);if("foldWidgets"==c){var d=b.getDocumentPosition().row,e=a.session;e.foldWidgets&&e.foldWidgets[d]&&a.session.onFoldWidgetClick(d,b),a.isFocused()||a.focus(),b.stop()}}),a.on("gutterdblclick",function(b){var c=a.renderer.$gutterLayer.getRegion(b);if("foldWidgets"==c){var d=b.getDocumentPosition().row,e=a.session,f=e.getParentFoldRangeData(d,!0),g=f.range||f.firstRange;if(g){d=g.start.row;var h=e.getFoldAt(d,e.getLine(d).length,1);h?e.removeFold(h):(e.addFold("...",g),a.renderer.scrollCursorIntoView({row:g.start.row,column:0}))}b.stop()}})}b.FoldHandler=d}),define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(a,b,c){"use strict";var d=a("../lib/keys"),e=a("../lib/event"),f=function(a){this.$editor=a,this.$data={editor:a},this.$handlers=[],this.setDefaultHandler(a.commands)};(function(){this.setDefaultHandler=function(a){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=a,this.addKeyboardHandler(a,0)},this.setKeyboardHandler=function(a){var b=this.$handlers;if(b[b.length-1]!=a){for(;b[b.length-1]&&b[b.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(b[b.length-1]);this.addKeyboardHandler(a,1)}},this.addKeyboardHandler=function(a,b){if(a){"function"!=typeof a||a.handleKeyboard||(a.handleKeyboard=a);var c=this.$handlers.indexOf(a);-1!=c&&this.$handlers.splice(c,1),void 0==b?this.$handlers.push(a):this.$handlers.splice(b,0,a),-1==c&&a.attach&&a.attach(this.$editor)}},this.removeKeyboardHandler=function(a){var b=this.$handlers.indexOf(a);return-1==b?!1:(this.$handlers.splice(b,1),a.detach&&a.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var a=this.$data,b=a.editor;return this.$handlers.map(function(c){return c.getStatusText&&c.getStatusText(b,a)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(a,b,c,d){for(var f,g=!1,h=this.$editor.commands,i=this.$handlers.length;i--&&(f=this.$handlers[i].handleKeyboard(this.$data,a,b,c,d),!(f&&f.command&&(g="null"==f.command?!0:h.exec(f.command,this.$editor,f.args,d),g&&d&&-1!=a&&1!=f.passEvent&&1!=f.command.passEvent&&e.stopEvent(d),g))););return g||-1!=a||(f={command:"insertstring"},g=h.exec("insertstring",this.$editor,b)),g&&this.$editor._signal&&this.$editor._signal("keyboardActivity",f),g},this.onCommandKey=function(a,b,c){var e=d.keyCodeToString(c);this.$callKeyboardHandlers(b,e,c,a)},this.onTextInput=function(a){this.$callKeyboardHandlers(-1,a)}}).call(f.prototype),b.KeyBinding=f}),define("ace/range",["require","exports","module"],function(a,b,c){"use strict";var d=function(a,b){return a.row-b.row||a.column-b.column},e=function(a,b,c,d){this.start={row:a,column:b},this.end={row:c,column:d}};(function(){this.isEqual=function(a){return this.start.row===a.start.row&&this.end.row===a.end.row&&this.start.column===a.start.column&&this.end.column===a.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(a,b){return 0==this.compare(a,b)},this.compareRange=function(a){var b,c=a.end,d=a.start;return b=this.compare(c.row,c.column),1==b?(b=this.compare(d.row,d.column),1==b?2:0==b?1:0):-1==b?-2:(b=this.compare(d.row,d.column),-1==b?-1:1==b?42:0)},this.comparePoint=function(a){return this.compare(a.row,a.column)},this.containsRange=function(a){return 0==this.comparePoint(a.start)&&0==this.comparePoint(a.end)},this.intersects=function(a){var b=this.compareRange(a);return-1==b||0==b||1==b},this.isEnd=function(a,b){return this.end.row==a&&this.end.column==b},this.isStart=function(a,b){return this.start.row==a&&this.start.column==b},this.setStart=function(a,b){"object"==typeof a?(this.start.column=a.column,this.start.row=a.row):(this.start.row=a,this.start.column=b)},this.setEnd=function(a,b){"object"==typeof a?(this.end.column=a.column,this.end.row=a.row):(this.end.row=a,this.end.column=b)},this.inside=function(a,b){return 0==this.compare(a,b)?this.isEnd(a,b)||this.isStart(a,b)?!1:!0:!1},this.insideStart=function(a,b){return 0==this.compare(a,b)?this.isEnd(a,b)?!1:!0:!1},this.insideEnd=function(a,b){return 0==this.compare(a,b)?this.isStart(a,b)?!1:!0:!1},this.compare=function(a,b){return this.isMultiLine()||a!==this.start.row?a<this.start.row?-1:a>this.end.row?1:this.start.row===a?b>=this.start.column?0:-1:this.end.row===a?b<=this.end.column?0:1:0:b<this.start.column?-1:b>this.end.column?1:0},this.compareStart=function(a,b){return this.start.row==a&&this.start.column==b?-1:this.compare(a,b)},this.compareEnd=function(a,b){return this.end.row==a&&this.end.column==b?1:this.compare(a,b)},this.compareInside=function(a,b){return this.end.row==a&&this.end.column==b?1:this.start.row==a&&this.start.column==b?-1:this.compare(a,b)},this.clipRows=function(a,b){if(this.end.row>b)var c={row:b+1,column:0};else if(this.end.row<a)var c={row:a,column:0};if(this.start.row>b)var d={row:b+1,column:0};else if(this.start.row<a)var d={row:a,column:0};return e.fromPoints(d||this.start,c||this.end)},this.extend=function(a,b){var c=this.compare(a,b);if(0==c)return this;if(-1==c)var d={row:a,column:b};else var f={row:a,column:b};return e.fromPoints(d||this.start,f||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return e.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new e(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new e(this.start.row,0,this.end.row,0)},this.toScreenRange=function(a){var b=a.documentToScreenPosition(this.start),c=a.documentToScreenPosition(this.end);return new e(b.row,b.column,c.row,c.column)},this.moveBy=function(a,b){this.start.row+=a,this.start.column+=b,this.end.row+=a,this.end.column+=b}}).call(e.prototype),e.fromPoints=function(a,b){return new e(a.row,a.column,b.row,b.column)},e.comparePoints=d,e.comparePoints=function(a,b){return a.row-b.row||a.column-b.column},b.Range=e}),define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(a,b,c){"use strict";var d=a("./lib/oop"),e=a("./lib/lang"),f=a("./lib/event_emitter").EventEmitter,g=a("./range").Range,h=function(a){this.session=a,this.doc=a.getDocument(),this.clearSelection(),this.lead=this.selectionLead=this.doc.createAnchor(0,0),this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var b=this;this.lead.on("change",function(a){b._emit("changeCursor"),b.$isEmpty||b._emit("changeSelection"),b.$keepDesiredColumnOnChange||a.old.column==a.value.column||(b.$desiredColumn=null)}),
this.selectionAnchor.on("change",function(){b.$isEmpty||b._emit("changeSelection")})};(function(){d.implement(this,f),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return this.isEmpty()?!1:this.getRange().isMultiLine()},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(a,b){this.anchor.setPosition(a,b),this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))},this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.shiftSelection=function(a){if(this.$isEmpty)return void this.moveCursorTo(this.lead.row,this.lead.column+a);var b=this.getSelectionAnchor(),c=this.getSelectionLead(),d=this.isBackwards();d&&0===b.column||this.setSelectionAnchor(b.row,b.column+a),(d||0!==c.column)&&this.$moveSelection(function(){this.moveCursorTo(c.row,c.column+a)})},this.isBackwards=function(){var a=this.anchor,b=this.lead;return a.row>b.row||a.row==b.row&&a.column>b.column},this.getRange=function(){var a=this.anchor,b=this.lead;return this.isEmpty()?g.fromPoints(b,b):this.isBackwards()?g.fromPoints(b,a):g.fromPoints(a,b)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){var a=this.doc.getLength()-1;this.setSelectionAnchor(0,0),this.moveCursorTo(a,this.doc.getLine(a).length)},this.setRange=this.setSelectionRange=function(a,b){b?(this.setSelectionAnchor(a.end.row,a.end.column),this.selectTo(a.start.row,a.start.column)):(this.setSelectionAnchor(a.start.row,a.start.column),this.selectTo(a.end.row,a.end.column)),this.getRange().isEmpty()&&(this.$isEmpty=!0),this.$desiredColumn=null},this.$moveSelection=function(a){var b=this.lead;this.$isEmpty&&this.setSelectionAnchor(b.row,b.column),a.call(this)},this.selectTo=function(a,b){this.$moveSelection(function(){this.moveCursorTo(a,b)})},this.selectToPosition=function(a){this.$moveSelection(function(){this.moveCursorToPosition(a)})},this.moveTo=function(a,b){this.clearSelection(),this.moveCursorTo(a,b)},this.moveToPosition=function(a){this.clearSelection(),this.moveCursorToPosition(a)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(a,b){if("undefined"==typeof b){var c=a||this.lead;a=c.row,b=c.column}return this.session.getWordRange(a,b)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var a=this.getCursor(),b=this.session.getAWordRange(a.row,a.column);this.setSelectionRange(b)},this.getLineRange=function(a,b){var c,d="number"==typeof a?a:this.lead.row,e=this.session.getFoldLine(d);return e?(d=e.start.row,c=e.end.row):c=d,b===!0?new g(d,0,c,this.session.getLine(c).length):new g(d,0,c+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.moveCursorLeft=function(){var a,b=this.lead.getPosition();if(a=this.session.getFoldAt(b.row,b.column,-1))this.moveCursorTo(a.start.row,a.start.column);else if(0===b.column)b.row>0&&this.moveCursorTo(b.row-1,this.doc.getLine(b.row-1).length);else{var c=this.session.getTabSize();this.session.isTabStop(b)&&this.doc.getLine(b.row).slice(b.column-c,b.column).split(" ").length-1==c?this.moveCursorBy(0,-c):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var a,b=this.lead.getPosition();if(a=this.session.getFoldAt(b.row,b.column,1))this.moveCursorTo(a.end.row,a.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var c=this.session.getTabSize(),b=this.lead;this.session.isTabStop(b)&&this.doc.getLine(b.row).slice(b.column,b.column+c).split(" ").length-1==c?this.moveCursorBy(0,c):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var a=this.lead.row,b=this.lead.column,c=this.session.documentToScreenRow(a,b),d=this.session.screenToDocumentPosition(c,0),e=this.session.getDisplayLine(a,null,d.row,d.column),f=e.match(/^\s*/);f[0].length==b||this.session.$useEmacsStyleLineStart||(d.column+=f[0].length),this.moveCursorToPosition(d)},this.moveCursorLineEnd=function(){var a=this.lead,b=this.session.getDocumentLastRowColumnPosition(a.row,a.column);if(this.lead.column==b.column){var c=this.session.getLine(b.row);if(b.column==c.length){var d=c.search(/\s+$/);d>0&&(b.column=d)}}this.moveCursorTo(b.row,b.column)},this.moveCursorFileEnd=function(){var a=this.doc.getLength()-1,b=this.doc.getLine(a).length;this.moveCursorTo(a,b)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var a,b=this.lead.row,c=this.lead.column,d=this.doc.getLine(b),e=d.substring(c);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var f=this.session.getFoldAt(b,c,1);return f?void this.moveCursorTo(f.end.row,f.end.column):((a=this.session.nonTokenRe.exec(e))&&(c+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,e=d.substring(c)),c>=d.length?(this.moveCursorTo(b,d.length),this.moveCursorRight(),void(b<this.doc.getLength()-1&&this.moveCursorWordRight())):((a=this.session.tokenRe.exec(e))&&(c+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),void this.moveCursorTo(b,c)))},this.moveCursorLongWordLeft=function(){var a,b=this.lead.row,c=this.lead.column;if(a=this.session.getFoldAt(b,c,-1))return void this.moveCursorTo(a.start.row,a.start.column);var d=this.session.getFoldStringAt(b,c,-1);null==d&&(d=this.doc.getLine(b).substring(0,c));var f,g=e.stringReverse(d);return this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,(f=this.session.nonTokenRe.exec(g))&&(c-=this.session.nonTokenRe.lastIndex,g=g.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),0>=c?(this.moveCursorTo(b,0),this.moveCursorLeft(),void(b>0&&this.moveCursorWordLeft())):((f=this.session.tokenRe.exec(g))&&(c-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),void this.moveCursorTo(b,c))},this.$shortWordEndIndex=function(a){var b,c,d=0,e=/\s/,f=this.session.tokenRe;if(f.lastIndex=0,b=this.session.tokenRe.exec(a))d=this.session.tokenRe.lastIndex;else{for(;(c=a[d])&&e.test(c);)d++;if(1>d)for(f.lastIndex=0;(c=a[d])&&!f.test(c);)if(f.lastIndex=0,d++,e.test(c)){if(d>2){d--;break}for(;(c=a[d])&&e.test(c);)d++;if(d>2)break}}return f.lastIndex=0,d},this.moveCursorShortWordRight=function(){var a=this.lead.row,b=this.lead.column,c=this.doc.getLine(a),d=c.substring(b),e=this.session.getFoldAt(a,b,1);if(e)return this.moveCursorTo(e.end.row,e.end.column);if(b==c.length){var f=this.doc.getLength();do a++,d=this.doc.getLine(a);while(f>a&&/^\s*$/.test(d));/^\s+/.test(d)||(d=""),b=0}var g=this.$shortWordEndIndex(d);this.moveCursorTo(a,b+g)},this.moveCursorShortWordLeft=function(){var a,b=this.lead.row,c=this.lead.column;if(a=this.session.getFoldAt(b,c,-1))return this.moveCursorTo(a.start.row,a.start.column);var d=this.session.getLine(b).substring(0,c);if(0===c){do b--,d=this.doc.getLine(b);while(b>0&&/^\s*$/.test(d));c=d.length,/\s+$/.test(d)||(d="")}var f=e.stringReverse(d),g=this.$shortWordEndIndex(f);return this.moveCursorTo(b,c-g)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(a,b){var c=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===b&&(this.$desiredColumn?c.column=this.$desiredColumn:this.$desiredColumn=c.column);var d=this.session.screenToDocumentPosition(c.row+a,c.column);0!==a&&0===b&&d.row===this.lead.row&&d.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[d.row]&&(d.row>0||a>0)&&d.row++,this.moveCursorTo(d.row,d.column+b,0===b)},this.moveCursorToPosition=function(a){this.moveCursorTo(a.row,a.column)},this.moveCursorTo=function(a,b,c){var d=this.session.getFoldAt(a,b,1);d&&(a=d.start.row,b=d.start.column),this.$keepDesiredColumnOnChange=!0,this.lead.setPosition(a,b),this.$keepDesiredColumnOnChange=!1,c||(this.$desiredColumn=null)},this.moveCursorToScreen=function(a,b,c){var d=this.session.screenToDocumentPosition(a,b);this.moveCursorTo(d.row,d.column,c)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(a){this.setSelectionRange(a,a.cursor==a.start),this.$desiredColumn=a.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(a){var b=this.getRange();return a?(a.start.column=b.start.column,a.start.row=b.start.row,a.end.column=b.end.column,a.end.row=b.end.row):a=b,a.cursor=this.isBackwards()?a.start:a.end,a.desiredColumn=this.$desiredColumn,a},this.getRangeOfMovements=function(a){var b=this.getCursor();try{a(this);var c=this.getCursor();return g.fromPoints(b,c)}catch(d){return g.fromPoints(b,b)}finally{this.moveCursorToPosition(b)}},this.toJSON=function(){if(this.rangeCount)var a=this.ranges.map(function(a){var b=a.clone();return b.isBackwards=a.cursor==a.start,b});else{var a=this.getRange();a.isBackwards=this.isBackwards()}return a},this.fromJSON=function(a){if(void 0==a.start){if(this.rangeList){this.toSingleRange(a[0]);for(var b=a.length;b--;){var c=g.fromPoints(a[b].start,a[b].end);a[b].isBackwards&&(c.cursor=c.start),this.addRange(c,!0)}return}a=a[0]}this.rangeList&&this.toSingleRange(a),this.setSelectionRange(a,a.isBackwards)},this.isEqual=function(a){if((a.length||this.rangeCount)&&a.length!=this.rangeCount)return!1;if(!a.length||!this.ranges)return this.getRange().isEqual(a);for(var b=this.ranges.length;b--;)if(!this.ranges[b].isEqual(a[b]))return!1;return!0}}).call(h.prototype),b.Selection=h}),define("ace/tokenizer",["require","exports","module","ace/config"],function(a,b,c){"use strict";var d=a("./config"),e=2e3,f=function(a){this.states=a,this.regExps={},this.matchMappings={};for(var b in this.states){for(var c=this.states[b],d=[],e=0,f=this.matchMappings[b]={defaultToken:"text"},g="g",h=[],i=0;i<c.length;i++){var j=c[i];if(j.defaultToken&&(f.defaultToken=j.defaultToken),j.caseInsensitive&&(g="gi"),null!=j.regex){j.regex instanceof RegExp&&(j.regex=j.regex.toString().slice(1,-1));var k=j.regex,l=new RegExp("(?:("+k+")|(.))").exec("a").length-2;Array.isArray(j.token)?1==j.token.length||1==l?j.token=j.token[0]:l-1!=j.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:j,groupCount:l-1}),j.token=j.token[0]):(j.tokenArray=j.token,j.token=null,j.onMatch=this.$arrayTokens):"function"!=typeof j.token||j.onMatch||(l>1?j.onMatch=this.$applyToken:j.onMatch=j.token),l>1&&(/\\\d/.test(j.regex)?k=j.regex.replace(/\\([0-9]+)/g,function(a,b){return"\\"+(parseInt(b,10)+e+1)}):(l=1,k=this.removeCapturingGroups(j.regex)),j.splitRegex||"string"==typeof j.token||h.push(j)),f[e]=i,e+=l,d.push(k),j.onMatch||(j.onMatch=null)}}d.length||(f[0]=0,d.push("$")),h.forEach(function(a){a.splitRegex=this.createSplitterRegexp(a.regex,g)},this),this.regExps[b]=new RegExp("("+d.join(")|(")+")|($)",g)}};(function(){this.$setMaxTokenCount=function(a){e=0|a},this.$applyToken=function(a){var b=this.splitRegex.exec(a).slice(1),c=this.token.apply(this,b);if("string"==typeof c)return[{type:c,value:a}];for(var d=[],e=0,f=c.length;f>e;e++)b[e]&&(d[d.length]={type:c[e],value:b[e]});return d},this.$arrayTokens=function(a){if(!a)return[];var b=this.splitRegex.exec(a);if(!b)return"text";for(var c=[],d=this.tokenArray,e=0,f=d.length;f>e;e++)b[e+1]&&(c[c.length]={type:d[e],value:b[e+1]});return c},this.removeCapturingGroups=function(a){var b=a.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,function(a,b){return b?"(?:":a});return b},this.createSplitterRegexp=function(a,b){if(-1!=a.indexOf("(?=")){var c=0,d=!1,e={};a.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(a,b,f,g,h,i){return d?d="]"!=h:h?d=!0:g?(c==e.stack&&(e.end=i+1,e.stack=-1),c--):f&&(c++,1!=f.length&&(e.stack=c,e.start=i)),a}),null!=e.end&&/^\)*$/.test(a.substr(e.end))&&(a=a.substring(0,e.start)+a.substr(e.end))}return"^"!=a.charAt(0)&&(a="^"+a),"$"!=a.charAt(a.length-1)&&(a+="$"),new RegExp(a,(b||"").replace("g",""))},this.getLineTokens=function(a,b){if(b&&"string"!=typeof b){var c=b.slice(0);b=c[0],"#tmp"===b&&(c.shift(),b=c.shift())}else var c=[];var d=b||"start",f=this.states[d];f||(d="start",f=this.states[d]);var g=this.matchMappings[d],h=this.regExps[d];h.lastIndex=0;for(var i,j=[],k=0,l=0,m={type:null,value:""};i=h.exec(a);){var n=g.defaultToken,o=null,p=i[0],q=h.lastIndex;if(q-p.length>k){var r=a.substring(k,q-p.length);m.type==n?m.value+=r:(m.type&&j.push(m),m={type:n,value:r})}for(var s=0;s<i.length-2;s++)if(void 0!==i[s+1]){o=f[g[s]],n=o.onMatch?o.onMatch(p,d,c):o.token,o.next&&(d="string"==typeof o.next?o.next:o.next(d,c),f=this.states[d],f||(this.reportError("state doesn't exist",d),d="start",f=this.states[d]),g=this.matchMappings[d],k=q,h=this.regExps[d],h.lastIndex=q);break}if(p)if("string"==typeof n)o&&o.merge===!1||m.type!==n?(m.type&&j.push(m),m={type:n,value:p}):m.value+=p;else if(n){m.type&&j.push(m),m={type:null,value:""};for(var s=0;s<n.length;s++)j.push(n[s])}if(k==a.length)break;if(k=q,l++>e){for(l>2*a.length&&this.reportError("infinite loop with in ace tokenizer",{startState:b,line:a});k<a.length;)m.type&&j.push(m),m={value:a.substring(k,k+=2e3),type:"overflow"};d="start",c=[];break}}return m.type&&j.push(m),c.length>1&&c[0]!==d&&c.unshift("#tmp",d),{tokens:j,state:c.length?c:d}},this.reportError=d.reportError}).call(f.prototype),b.Tokenizer=f}),define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(a,b,c){"use strict";var d=a("../lib/lang"),e=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(a,b){if(b)for(var c in a){for(var d=a[c],e=0;e<d.length;e++){var f=d[e];(f.next||f.onMatch)&&("string"==typeof f.next&&0!==f.next.indexOf(b)&&(f.next=b+f.next),f.nextState&&0!==f.nextState.indexOf(b)&&(f.nextState=b+f.nextState))}this.$rules[b+c]=d}else for(var c in a)this.$rules[c]=a[c]},this.getRules=function(){return this.$rules},this.embedRules=function(a,b,c,e,f){var g="function"==typeof a?(new a).getRules():a;if(e)for(var h=0;h<e.length;h++)e[h]=b+e[h];else{e=[];for(var i in g)e.push(b+i)}if(this.addRules(g,b),c)for(var j=Array.prototype[f?"push":"unshift"],h=0;h<e.length;h++)j.apply(this.$rules[e[h]],d.deepCopy(c));this.$embeds||(this.$embeds=[]),this.$embeds.push(b)},this.getEmbeds=function(){return this.$embeds};var a=function(a,b){return("start"!=a||b.length)&&b.unshift(this.nextState,a),this.nextState},b=function(a,b){return b.shift(),b.shift()||"start"};this.normalizeRules=function(){function c(f){var g=e[f];g.processed=!0;for(var h=0;h<g.length;h++){var i=g[h],j=null;Array.isArray(i)&&(j=i,i={}),!i.regex&&i.start&&(i.regex=i.start,i.next||(i.next=[]),i.next.push({defaultToken:i.token},{token:i.token+".end",regex:i.end||i.start,next:"pop"}),i.token=i.token+".start",i.push=!0);var k=i.next||i.push;if(k&&Array.isArray(k)){var l=i.stateName;l||(l=i.token,"string"!=typeof l&&(l=l[0]||""),e[l]&&(l+=d++)),e[l]=k,i.next=l,c(l)}else"pop"==k&&(i.next=b);if(i.push&&(i.nextState=i.next||i.push,i.next=a,delete i.push),i.rules)for(var m in i.rules)e[m]?e[m].push&&e[m].push.apply(e[m],i.rules[m]):e[m]=i.rules[m];var n="string"==typeof i?i:"string"==typeof i.include?i.include:"";if(n&&(j=e[n]),j){var o=[h,1].concat(j);i.noEscape&&(o=o.filter(function(a){return!a.next})),g.splice.apply(g,o),h--}i.keywordMap&&(i.token=this.createKeywordMapper(i.keywordMap,i.defaultToken||"text",i.caseInsensitive),delete i.defaultToken)}}var d=0,e=this.$rules;Object.keys(e).forEach(c,this)},this.createKeywordMapper=function(a,b,c,d){var e=Object.create(null);return Object.keys(a).forEach(function(b){var f=a[b];c&&(f=f.toLowerCase());for(var g=f.split(d||"|"),h=g.length;h--;)e[g[h]]=b}),Object.getPrototypeOf(e)&&(e.__proto__=null),this.$keywordList=Object.keys(e),a=null,c?function(a){return e[a.toLowerCase()]||b}:function(a){return e[a]||b}},this.getKeywords=function(){return this.$keywords}}).call(e.prototype),b.TextHighlightRules=e}),define("ace/mode/behaviour",["require","exports","module"],function(a,b,c){"use strict";var d=function(){this.$behaviours={}};(function(){this.add=function(a,b,c){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[a]:this.$behaviours[a]={}}this.$behaviours[a][b]=c},this.addBehaviours=function(a){for(var b in a)for(var c in a[b])this.add(b,c,a[b][c])},this.remove=function(a){this.$behaviours&&this.$behaviours[a]&&delete this.$behaviours[a]},this.inherit=function(a,b){if("function"==typeof a)var c=(new a).getBehaviours(b);else var c=a.getBehaviours(b);this.addBehaviours(c)},this.getBehaviours=function(a){if(a){for(var b={},c=0;c<a.length;c++)this.$behaviours[a[c]]&&(b[a[c]]=this.$behaviours[a[c]]);return b}return this.$behaviours}}).call(d.prototype),b.Behaviour=d}),define("ace/token_iterator",["require","exports","module"],function(a,b,c){"use strict";var d=function(a,b,c){this.$session=a,this.$row=b,this.$rowTokens=a.getTokens(b);var d=a.getTokenAt(b,c);this.$tokenIndex=d?d.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){this.$tokenIndex+=1;for(var a;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,a||(a=this.$session.getLength()),this.$row>=a)return this.$row=a-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var a=this.$rowTokens,b=this.$tokenIndex,c=a[b].start;if(void 0!==c)return c;for(c=0;b>0;)b-=1,c+=a[b].value.length;return c},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}}}).call(d.prototype),b.TokenIterator=d}),define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(a,b,c){"use strict";var d,e=a("../../lib/oop"),f=a("../behaviour").Behaviour,g=a("../../token_iterator").TokenIterator,h=a("../../lib/lang"),i=["text","paren.rparen","punctuation.operator"],j=["text","paren.rparen","punctuation.operator","comment"],k={},l=function(a){var b=-1;return a.multiSelect&&(b=a.selection.index,k.rangeCount!=a.multiSelect.rangeCount&&(k={rangeCount:a.multiSelect.rangeCount})),k[b]?d=k[b]:void(d=k[b]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""})},m=function(a,b,c,d){var e=a.end.row-a.start.row;return{text:c+b+d,selection:[0,a.start.column+1,e,a.end.column+(e?0:1)]}},n=function(){this.add("braces","insertion",function(a,b,c,e,f){var g=c.getCursorPosition(),i=e.doc.getLine(g.row);if("{"==f){l(c);var j=c.getSelectionRange(),k=e.doc.getTextRange(j);if(""!==k&&"{"!==k&&c.getWrapBehavioursEnabled())return m(j,k,"{","}");if(n.isSaneInsertion(c,e))return/[\]\}\)]/.test(i[g.column])||c.inMultiSelectMode?(n.recordAutoInsert(c,e,"}"),{text:"{}",selection:[1,1]}):(n.recordMaybeInsert(c,e,"{"),{text:"{",selection:[1,1]})}else if("}"==f){l(c);var o=i.substring(g.column,g.column+1);if("}"==o){var p=e.$findOpeningBracket("}",{column:g.column+1,row:g.row});if(null!==p&&n.isAutoInsertedClosing(g,i,f))return n.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else{if("\n"==f||"\r\n"==f){l(c);var q="";n.isMaybeInsertedClosing(g,i)&&(q=h.stringRepeat("}",d.maybeInsertedBrackets),n.clearMaybeInsertedClosing());var o=i.substring(g.column,g.column+1);if("}"===o){var r=e.findMatchingBracket({row:g.row,column:g.column+1},"}");if(!r)return null;var s=this.$getIndent(e.getLine(r.row))}else{if(!q)return void n.clearMaybeInsertedClosing();var s=this.$getIndent(i)}var t=s+e.getTabString();return{text:"\n"+t+"\n"+s+q,selection:[1,t.length,1,t.length]}}n.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(a,b,c,e,f){var g=e.doc.getTextRange(f);if(!f.isMultiLine()&&"{"==g){l(c);var h=e.doc.getLine(f.start.row),i=h.substring(f.end.column,f.end.column+1);if("}"==i)return f.end.column++,f;d.maybeInsertedBrackets--}}),this.add("parens","insertion",function(a,b,c,d,e){if("("==e){l(c);var f=c.getSelectionRange(),g=d.doc.getTextRange(f);if(""!==g&&c.getWrapBehavioursEnabled())return m(f,g,"(",")");if(n.isSaneInsertion(c,d))return n.recordAutoInsert(c,d,")"),{text:"()",selection:[1,1]}}else if(")"==e){l(c);var h=c.getCursorPosition(),i=d.doc.getLine(h.row),j=i.substring(h.column,h.column+1);if(")"==j){var k=d.$findOpeningBracket(")",{column:h.column+1,row:h.row});if(null!==k&&n.isAutoInsertedClosing(h,i,e))return n.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(a,b,c,d,e){var f=d.doc.getTextRange(e);if(!e.isMultiLine()&&"("==f){l(c);var g=d.doc.getLine(e.start.row),h=g.substring(e.start.column+1,e.start.column+2);if(")"==h)return e.end.column++,e}}),this.add("brackets","insertion",function(a,b,c,d,e){if("["==e){l(c);var f=c.getSelectionRange(),g=d.doc.getTextRange(f);if(""!==g&&c.getWrapBehavioursEnabled())return m(f,g,"[","]");if(n.isSaneInsertion(c,d))return n.recordAutoInsert(c,d,"]"),{text:"[]",selection:[1,1]}}else if("]"==e){l(c);var h=c.getCursorPosition(),i=d.doc.getLine(h.row),j=i.substring(h.column,h.column+1);if("]"==j){var k=d.$findOpeningBracket("]",{column:h.column+1,row:h.row});if(null!==k&&n.isAutoInsertedClosing(h,i,e))return n.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(a,b,c,d,e){var f=d.doc.getTextRange(e);if(!e.isMultiLine()&&"["==f){l(c);var g=d.doc.getLine(e.start.row),h=g.substring(e.start.column+1,e.start.column+2);if("]"==h)return e.end.column++,e}}),this.add("string_dquotes","insertion",function(a,b,c,d,e){if('"'==e||"'"==e){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(e))return;l(c);var f=e,g=c.getSelectionRange(),h=d.doc.getTextRange(g);if(""!==h&&"'"!==h&&'"'!=h&&c.getWrapBehavioursEnabled())return m(g,h,f,f);if(!h){var i=c.getCursorPosition(),j=d.doc.getLine(i.row),k=j.substring(i.column-1,i.column),n=j.substring(i.column,i.column+1),o=d.getTokenAt(i.row,i.column),p=d.getTokenAt(i.row,i.column+1);if("\\"==k&&o&&/escape/.test(o.type))return null;var q,r=o&&/string|escape/.test(o.type),s=!p||/string|escape/.test(p.type);if(n==f)q=r!==s,q&&/string\.end/.test(p.type)&&(q=!1);else{if(r&&!s)return null;if(r&&s)return null;var t=d.$mode.tokenRe;t.lastIndex=0;var u=t.test(k);t.lastIndex=0;var v=t.test(k);if(u||v)return null;if(n&&!/[\s;,.})\]\\]/.test(n))return null;q=!0}return{text:q?f+f:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(a,b,c,d,e){var f=d.doc.getTextRange(e);if(!e.isMultiLine()&&('"'==f||"'"==f)){l(c);var g=d.doc.getLine(e.start.row),h=g.substring(e.start.column+1,e.start.column+2);if(h==f)return e.end.column++,e}})};n.isSaneInsertion=function(a,b){var c=a.getCursorPosition(),d=new g(b,c.row,c.column);if(!this.$matchTokenType(d.getCurrentToken()||"text",i)){var e=new g(b,c.row,c.column+1);if(!this.$matchTokenType(e.getCurrentToken()||"text",i))return!1}return d.stepForward(),d.getCurrentTokenRow()!==c.row||this.$matchTokenType(d.getCurrentToken()||"text",j)},n.$matchTokenType=function(a,b){return b.indexOf(a.type||a)>-1},n.recordAutoInsert=function(a,b,c){var e=a.getCursorPosition(),f=b.doc.getLine(e.row);this.isAutoInsertedClosing(e,f,d.autoInsertedLineEnd[0])||(d.autoInsertedBrackets=0),d.autoInsertedRow=e.row,d.autoInsertedLineEnd=c+f.substr(e.column),d.autoInsertedBrackets++},n.recordMaybeInsert=function(a,b,c){var e=a.getCursorPosition(),f=b.doc.getLine(e.row);this.isMaybeInsertedClosing(e,f)||(d.maybeInsertedBrackets=0),d.maybeInsertedRow=e.row,d.maybeInsertedLineStart=f.substr(0,e.column)+c,d.maybeInsertedLineEnd=f.substr(e.column),d.maybeInsertedBrackets++},n.isAutoInsertedClosing=function(a,b,c){return d.autoInsertedBrackets>0&&a.row===d.autoInsertedRow&&c===d.autoInsertedLineEnd[0]&&b.substr(a.column)===d.autoInsertedLineEnd},n.isMaybeInsertedClosing=function(a,b){return d.maybeInsertedBrackets>0&&a.row===d.maybeInsertedRow&&b.substr(a.column)===d.maybeInsertedLineEnd&&b.substr(0,a.column)==d.maybeInsertedLineStart},n.popAutoInsertedClosing=function(){d.autoInsertedLineEnd=d.autoInsertedLineEnd.substr(1),d.autoInsertedBrackets--},n.clearMaybeInsertedClosing=function(){d&&(d.maybeInsertedBrackets=0,d.maybeInsertedRow=-1)},e.inherits(n,f),b.CstyleBehaviour=n}),define("ace/unicode",["require","exports","module"],function(a,b,c){"use strict";function d(a){var c=/\w{4}/g;for(var d in a)b.packages[d]=a[d].replace(c,"\\u$&")}b.packages={},d({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",
Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"})}),define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(a,b,c){"use strict";var d=a("../tokenizer").Tokenizer,e=a("./text_highlight_rules").TextHighlightRules,f=a("./behaviour/cstyle").CstyleBehaviour,g=a("../unicode"),h=a("../lib/lang"),i=a("../token_iterator").TokenIterator,j=a("../range").Range,k=function(){this.HighlightRules=e};(function(){this.$defaultBehaviour=new f,this.tokenRe=new RegExp("^["+g.packages.L+g.packages.Mn+g.packages.Mc+g.packages.Nd+g.packages.Pc+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+g.packages.L+g.packages.Mn+g.packages.Mc+g.packages.Nd+g.packages.Pc+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new d(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(a,b,c,d){function e(a){for(var b=c;d>=b;b++)a(f.getLine(b),b)}var f=b.doc,g=!0,i=!0,j=1/0,k=b.getTabSize(),l=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var m=this.lineCommentStart.map(h.escapeRegExp).join("|"),n=this.lineCommentStart[0];else var m=h.escapeRegExp(this.lineCommentStart),n=this.lineCommentStart;m=new RegExp("^(\\s*)(?:"+m+") ?"),l=b.getUseSoftTabs();var o=function(a,b){var c=a.match(m);if(c){var d=c[1].length,e=c[0].length;s(a,d,e)||" "!=c[0][e-1]||e--,f.removeInLine(b,d,e)}},p=n+" ",q=function(a,b){(!g||/\S/.test(a))&&(s(a,j,j)?f.insertInLine({row:b,column:j},p):f.insertInLine({row:b,column:j},n))},r=function(a,b){return m.test(a)},s=function(a,b,c){for(var d=0;b--&&" "==a.charAt(b);)d++;if(d%k!=0)return!1;for(var d=0;" "==a.charAt(c++);)d++;return k>2?d%k!=k-1:d%k==0}}else{if(!this.blockComment)return!1;var n=this.blockComment.start,t=this.blockComment.end,m=new RegExp("^(\\s*)(?:"+h.escapeRegExp(n)+")"),u=new RegExp("(?:"+h.escapeRegExp(t)+")\\s*$"),q=function(a,b){r(a,b)||(!g||/\S/.test(a))&&(f.insertInLine({row:b,column:a.length},t),f.insertInLine({row:b,column:j},n))},o=function(a,b){var c;(c=a.match(u))&&f.removeInLine(b,a.length-c[0].length,a.length),(c=a.match(m))&&f.removeInLine(b,c[1].length,c[0].length)},r=function(a,c){if(m.test(a))return!0;for(var d=b.getTokens(c),e=0;e<d.length;e++)if("comment"===d[e].type)return!0}}var v=1/0;e(function(a,b){var c=a.search(/\S/);-1!==c?(j>c&&(j=c),i&&!r(a,b)&&(i=!1)):v>a.length&&(v=a.length)}),j==1/0&&(j=v,g=!1,i=!1),l&&j%k!=0&&(j=Math.floor(j/k)*k),e(i?o:q)},this.toggleBlockComment=function(a,b,c,d){var e=this.blockComment;if(e){!e.start&&e[0]&&(e=e[0]);var f,g,h=new i(b,d.row,d.column),k=h.getCurrentToken(),l=(b.selection,b.selection.toOrientedRange());if(k&&/comment/.test(k.type)){for(var m,n;k&&/comment/.test(k.type);){var o=k.value.indexOf(e.start);if(-1!=o){var p=h.getCurrentTokenRow(),q=h.getCurrentTokenColumn()+o;m=new j(p,q,p,q+e.start.length);break}k=h.stepBackward()}for(var h=new i(b,d.row,d.column),k=h.getCurrentToken();k&&/comment/.test(k.type);){var o=k.value.indexOf(e.end);if(-1!=o){var p=h.getCurrentTokenRow(),q=h.getCurrentTokenColumn()+o;n=new j(p,q,p,q+e.end.length);break}k=h.stepForward()}n&&b.remove(n),m&&(b.remove(m),f=m.start.row,g=-e.start.length)}else g=e.start.length,f=c.start.row,b.insert(c.end,e.end),b.insert(c.start,e.start);l.start.row==f&&(l.start.column+=g),l.end.row==f&&(l.end.column+=g),b.selection.fromOrientedRange(l)}},this.getNextLineIndent=function(a,b,c){return this.$getIndent(b)},this.checkOutdent=function(a,b,c){return!1},this.autoOutdent=function(a,b,c){},this.$getIndent=function(a){return a.match(/^\s*/)[0]},this.createWorker=function(a){return null},this.createModeDelegates=function(a){this.$embeds=[],this.$modes={};for(var b in a)a[b]&&(this.$embeds.push(b),this.$modes[b]=new a[b]);for(var c=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],b=0;b<c.length;b++)!function(a){var d=c[b],e=a[d];a[c[b]]=function(){return this.$delegator(d,arguments,e)}}(this)},this.$delegator=function(a,b,c){var d=b[0];"string"!=typeof d&&(d=d[0]);for(var e=0;e<this.$embeds.length;e++)if(this.$modes[this.$embeds[e]]){var f=d.split(this.$embeds[e]);if(!f[0]&&f[1]){b[0]=f[1];var g=this.$modes[this.$embeds[e]];return g[a].apply(g,b)}}var h=c.apply(this,b);return c?h:void 0},this.transformAction=function(a,b,c,d,e){if(this.$behaviour){var f=this.$behaviour.getBehaviours();for(var g in f)if(f[g][b]){var h=f[g][b].apply(this,arguments);if(h)return h}}},this.getKeywords=function(a){if(!this.completionKeywords){var b=this.$tokenizer.rules,c=[];for(var d in b)for(var e=b[d],f=0,g=e.length;g>f;f++)if("string"==typeof e[f].token)/keyword|support|storage/.test(e[f].token)&&c.push(e[f].regex);else if("object"==typeof e[f].token)for(var h=0,i=e[f].token.length;i>h;h++)if(/keyword|support|storage/.test(e[f].token[h])){var d=e[f].regex.match(/\(.+?\)/g)[h];c.push(d.substr(1,d.length-2))}this.completionKeywords=c}return a?c.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(a,b,c,d){var e=this.$keywordList||this.$createKeywordList();return e.map(function(a){return{name:a,value:a,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(k.prototype),b.Mode=k}),define("ace/apply_delta",["require","exports","module"],function(a,b,c){"use strict";b.applyDelta=function(a,b,c){var d=b.start.row,e=b.start.column,f=a[d]||"";switch(b.action){case"insert":var g=b.lines;if(1===g.length)a[d]=f.substring(0,e)+b.lines[0]+f.substring(e);else{var h=[d,1].concat(b.lines);a.splice.apply(a,h),a[d]=f.substring(0,e)+a[d],a[d+b.lines.length-1]+=f.substring(e)}break;case"remove":var i=b.end.column,j=b.end.row;d===j?a[d]=f.substring(0,e)+f.substring(i):a.splice(d,j-d+1,f.substring(0,e)+a[j].substring(i))}}}),define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(a,b,c){"use strict";var d=a("./lib/oop"),e=a("./lib/event_emitter").EventEmitter,f=b.Anchor=function(a,b,c){this.$onChange=this.onChange.bind(this),this.attach(a),"undefined"==typeof c?this.setPosition(b.row,b.column):this.setPosition(b,c)};(function(){function a(a,b,c){var d=c?a.column<=b.column:a.column<b.column;return a.row<b.row||a.row==b.row&&d}function b(b,c,d){var e="insert"==b.action,f=(e?1:-1)*(b.end.row-b.start.row),g=(e?1:-1)*(b.end.column-b.start.column),h=b.start,i=e?h:b.end;return a(c,h,d)?{row:c.row,column:c.column}:a(i,c,!d)?{row:c.row+f,column:c.column+(c.row==i.row?g:0)}:{row:h.row,column:h.column}}d.implement(this,e),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(a){if(!(a.start.row==a.end.row&&a.start.row!=this.row||a.start.row>this.row)){var c=b(a,{row:this.row,column:this.column},this.$insertRight);this.setPosition(c.row,c.column,!0)}},this.setPosition=function(a,b,c){var d;if(d=c?{row:a,column:b}:this.$clipPositionToDocument(a,b),this.row!=d.row||this.column!=d.column){var e={row:this.row,column:this.column};this.row=d.row,this.column=d.column,this._signal("change",{old:e,value:d})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(a){this.document=a||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(a,b){var c={};return a>=this.document.getLength()?(c.row=Math.max(0,this.document.getLength()-1),c.column=this.document.getLine(c.row).length):0>a?(c.row=0,c.column=0):(c.row=a,c.column=Math.min(this.document.getLine(c.row).length,Math.max(0,b))),0>b&&(c.column=0),c}}).call(f.prototype)}),define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(a,b,c){"use strict";var d=a("./lib/oop"),e=a("./apply_delta").applyDelta,f=a("./lib/event_emitter").EventEmitter,g=a("./range").Range,h=a("./anchor").Anchor,i=function(a){this.$lines=[""],0===a.length?this.$lines=[""]:Array.isArray(a)?this.insertMergedLines({row:0,column:0},a):this.insert({row:0,column:0},a)};(function(){d.implement(this,f),this.setValue=function(a){var b=this.getLength()-1;this.remove(new g(0,0,b,this.getLine(b).length)),this.insert({row:0,column:0},a)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(a,b){return new h(this,a,b)},0==="aaa".split(/a/).length?this.$split=function(a){return a.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(a){return a.split(/\r\n|\r|\n/)},this.$detectNewLine=function(a){var b=a.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=b?b[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(a){this.$newLineMode!==a&&(this.$newLineMode=a,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(a){return"\r\n"==a||"\r"==a||"\n"==a},this.getLine=function(a){return this.$lines[a]||""},this.getLines=function(a,b){return this.$lines.slice(a,b+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(a){return this.getLinesForRange(a).join(this.getNewLineCharacter())},this.getLinesForRange=function(a){var b;if(a.start.row===a.end.row)b=[this.getLine(a.start.row).substring(a.start.column,a.end.column)];else{b=this.getLines(a.start.row,a.end.row),b[0]=(b[0]||"").substring(a.start.column);var c=b.length-1;a.end.row-a.start.row==c&&(b[c]=b[c].substring(0,a.end.column))}return b},this.insertLines=function(a,b){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(a,b)},this.removeLines=function(a,b){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(a,b)},this.insertNewLine=function(a){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(a,["",""])},this.insert=function(a,b){return this.getLength()<=1&&this.$detectNewLine(b),this.insertMergedLines(a,this.$split(b))},this.insertInLine=function(a,b){var c=this.clippedPos(a.row,a.column),d=this.pos(a.row,a.column+b.length);return this.applyDelta({start:c,end:d,action:"insert",lines:[b]},!0),this.clonePos(d)},this.clippedPos=function(a,b){var c=this.getLength();void 0===a?a=c:0>a?a=0:a>=c&&(a=c-1,b=void 0);var d=this.getLine(a);return void 0==b&&(b=d.length),b=Math.min(Math.max(b,0),d.length),{row:a,column:b}},this.clonePos=function(a){return{row:a.row,column:a.column}},this.pos=function(a,b){return{row:a,column:b}},this.$clipPosition=function(a){var b=this.getLength();return a.row>=b?(a.row=Math.max(0,b-1),a.column=this.getLine(b-1).length):(a.row=Math.max(0,a.row),a.column=Math.min(Math.max(a.column,0),this.getLine(a.row).length)),a},this.insertFullLines=function(a,b){a=Math.min(Math.max(a,0),this.getLength());var c=0;a<this.getLength()?(b=b.concat([""]),c=0):(b=[""].concat(b),a--,c=this.$lines[a].length),this.insertMergedLines({row:a,column:c},b)},this.insertMergedLines=function(a,b){var c=this.clippedPos(a.row,a.column),d={row:c.row+b.length-1,column:(1==b.length?c.column:0)+b[b.length-1].length};return this.applyDelta({start:c,end:d,action:"insert",lines:b}),this.clonePos(d)},this.remove=function(a){var b=this.clippedPos(a.start.row,a.start.column),c=this.clippedPos(a.end.row,a.end.column);return this.applyDelta({start:b,end:c,action:"remove",lines:this.getLinesForRange({start:b,end:c})}),this.clonePos(b)},this.removeInLine=function(a,b,c){var d=this.clippedPos(a,b),e=this.clippedPos(a,c);return this.applyDelta({start:d,end:e,action:"remove",lines:this.getLinesForRange({start:d,end:e})},!0),this.clonePos(d)},this.removeFullLines=function(a,b){a=Math.min(Math.max(0,a),this.getLength()-1),b=Math.min(Math.max(0,b),this.getLength()-1);var c=b==this.getLength()-1&&a>0,d=b<this.getLength()-1,e=c?a-1:a,f=c?this.getLine(e).length:0,h=d?b+1:b,i=d?0:this.getLine(h).length,j=new g(e,f,h,i),k=this.$lines.slice(a,b+1);return this.applyDelta({start:j.start,end:j.end,action:"remove",lines:this.getLinesForRange(j)}),k},this.removeNewLine=function(a){a<this.getLength()-1&&a>=0&&this.applyDelta({start:this.pos(a,this.getLine(a).length),end:this.pos(a+1,0),action:"remove",lines:["",""]})},this.replace=function(a,b){if(a instanceof g||(a=g.fromPoints(a.start,a.end)),0===b.length&&a.isEmpty())return a.start;if(b==this.getTextRange(a))return a.end;this.remove(a);var c;return c=b?this.insert(a.start,b):a.start},this.applyDeltas=function(a){for(var b=0;b<a.length;b++)this.applyDelta(a[b])},this.revertDeltas=function(a){for(var b=a.length-1;b>=0;b--)this.revertDelta(a[b])},this.applyDelta=function(a,b){var c="insert"==a.action;(c?a.lines.length<=1&&!a.lines[0]:!g.comparePoints(a.start,a.end))||(c&&a.lines.length>2e4&&this.$splitAndapplyLargeDelta(a,2e4),e(this.$lines,a,b),this._signal("change",a))},this.$splitAndapplyLargeDelta=function(a,b){for(var c=a.lines,d=c.length,e=a.start.row,f=a.start.column,g=0,h=0;;){g=h,h+=b-1;var i=c.slice(g,h);if(h>d){a.lines=i,a.start.row=e+g,a.start.column=f;break}i.push(""),this.applyDelta({start:this.pos(e+g,f),end:this.pos(e+h,f=0),action:a.action,lines:i},!0)}},this.revertDelta=function(a){this.applyDelta({start:this.clonePos(a.start),end:this.clonePos(a.end),action:"insert"==a.action?"remove":"insert",lines:a.lines.slice()})},this.indexToPosition=function(a,b){for(var c=this.$lines||this.getAllLines(),d=this.getNewLineCharacter().length,e=b||0,f=c.length;f>e;e++)if(a-=c[e].length+d,0>a)return{row:e,column:a+c[e].length+d};return{row:f-1,column:c[f-1].length}},this.positionToIndex=function(a,b){for(var c=this.$lines||this.getAllLines(),d=this.getNewLineCharacter().length,e=0,f=Math.min(a.row,c.length),g=b||0;f>g;++g)e+=c[g].length+d;return e+a.column}}).call(i.prototype),
b.Document=i}),define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(a,b,c){"use strict";var d=a("./lib/oop"),e=a("./lib/event_emitter").EventEmitter,f=function(a,b){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=a;var c=this;this.$worker=function(){if(c.running){for(var a=new Date,b=c.currentLine,d=-1,e=c.doc,f=b;c.lines[b];)b++;var g=e.getLength(),h=0;for(c.running=!1;g>b;){c.$tokenizeRow(b),d=b;do b++;while(c.lines[b]);if(h++,h%5===0&&new Date-a>20){c.running=setTimeout(c.$worker,20);break}}c.currentLine=b,d>=f&&c.fireUpdateEvent(f,d)}}};(function(){d.implement(this,e),this.setTokenizer=function(a){this.tokenizer=a,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(a){this.doc=a,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(a,b){var c={first:a,last:b};this._signal("update",{data:c})},this.start=function(a){this.currentLine=Math.min(a||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(a){var b=a.start.row,c=a.end.row-b;if(0===c)this.lines[b]=null;else if("remove"==a.action)this.lines.splice(b,c+1,null),this.states.splice(b,c+1,null);else{var d=Array(c+1);d.unshift(b,1),this.lines.splice.apply(this.lines,d),this.states.splice.apply(this.states,d)}this.currentLine=Math.min(b,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(a){return this.lines[a]||this.$tokenizeRow(a)},this.getState=function(a){return this.currentLine==a&&this.$tokenizeRow(a),this.states[a]||"start"},this.$tokenizeRow=function(a){var b=this.doc.getLine(a),c=this.states[a-1],d=this.tokenizer.getLineTokens(b,c,a);return this.states[a]+""!=d.state+""?(this.states[a]=d.state,this.lines[a+1]=null,this.currentLine>a+1&&(this.currentLine=a+1)):this.currentLine==a&&(this.currentLine=a+1),this.lines[a]=d.tokens}}).call(f.prototype),b.BackgroundTokenizer=f}),define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(a,b,c){"use strict";var d=a("./lib/lang"),e=(a("./lib/oop"),a("./range").Range),f=function(a,b,c){this.setRegexp(a),this.clazz=b,this.type=c||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(a){this.regExp+""!=a+""&&(this.regExp=a,this.cache=[])},this.update=function(a,b,c,f){if(this.regExp)for(var g=f.firstRow,h=f.lastRow,i=g;h>=i;i++){var j=this.cache[i];null==j&&(j=d.getMatchOffsets(c.getLine(i),this.regExp),j.length>this.MAX_RANGES&&(j=j.slice(0,this.MAX_RANGES)),j=j.map(function(a){return new e(i,a.offset,i,a.offset+a.length)}),this.cache[i]=j.length?j:"");for(var k=j.length;k--;)b.drawSingleLineMarker(a,j[k].toScreenRange(c),this.clazz,f)}}}).call(f.prototype),b.SearchHighlight=f}),define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(a,b,c){"use strict";function d(a,b){this.foldData=a,Array.isArray(b)?this.folds=b:b=this.folds=[b];var c=b[b.length-1];this.range=new e(b[0].start.row,b[0].start.column,c.end.row,c.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(a){a.setFoldLine(this)},this)}var e=a("../range").Range;(function(){this.shiftRow=function(a){this.start.row+=a,this.end.row+=a,this.folds.forEach(function(b){b.start.row+=a,b.end.row+=a})},this.addFold=function(a){if(a.sameRow){if(a.start.row<this.startRow||a.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(a),this.folds.sort(function(a,b){return-a.range.compareEnd(b.start.row,b.start.column)}),this.range.compareEnd(a.start.row,a.start.column)>0?(this.end.row=a.end.row,this.end.column=a.end.column):this.range.compareStart(a.end.row,a.end.column)<0&&(this.start.row=a.start.row,this.start.column=a.start.column)}else if(a.start.row==this.end.row)this.folds.push(a),this.end.row=a.end.row,this.end.column=a.end.column;else{if(a.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(a),this.start.row=a.start.row,this.start.column=a.start.column}a.foldLine=this},this.containsRow=function(a){return a>=this.start.row&&a<=this.end.row},this.walk=function(a,b,c){var d,e,f,g=0,h=this.folds,i=!0;null==b&&(b=this.end.row,c=this.end.column);for(var j=0;j<h.length;j++){if(d=h[j],e=d.range.compareStart(b,c),-1==e)return void a(null,b,c,g,i);if(f=a(null,d.start.row,d.start.column,g,i),f=!f&&a(d.placeholder,d.start.row,d.start.column,g),f||0===e)return;i=!d.sameRow,g=d.end.column}a(null,b,c,g,i)},this.getNextFoldTo=function(a,b){for(var c,d,e=0;e<this.folds.length;e++){if(c=this.folds[e],d=c.range.compareEnd(a,b),-1==d)return{fold:c,kind:"after"};if(0===d)return{fold:c,kind:"inside"}}return null},this.addRemoveChars=function(a,b,c){var d,e,f=this.getNextFoldTo(a,b);if(f)if(d=f.fold,"inside"==f.kind&&d.start.column!=b&&d.start.row!=a)window.console&&window.console.log(a,b,d);else if(d.start.row==a){e=this.folds;var g=e.indexOf(d);for(0===g&&(this.start.column+=c),g;g<e.length;g++){if(d=e[g],d.start.column+=c,!d.sameRow)return;d.end.column+=c}this.end.column+=c}},this.split=function(a,b){var c=this.getNextFoldTo(a,b);if(!c||"inside"==c.kind)return null;var e=c.fold,f=this.folds,g=this.foldData,h=f.indexOf(e),i=f[h-1];this.end.row=i.end.row,this.end.column=i.end.column,f=f.splice(h,f.length-h);var j=new d(g,f);return g.splice(g.indexOf(this)+1,0,j),j},this.merge=function(a){for(var b=a.folds,c=0;c<b.length;c++)this.addFold(b[c]);var d=this.foldData;d.splice(d.indexOf(a),1)},this.toString=function(){var a=[this.range.toString()+": ["];return this.folds.forEach(function(b){a.push("  "+b.toString())}),a.push("]"),a.join("\n")},this.idxToPosition=function(a){for(var b=0,c=0;c<this.folds.length;c++){var d=this.folds[c];if(a-=d.start.column-b,0>a)return{row:d.start.row,column:d.start.column+a};if(a-=d.placeholder.length,0>a)return d.start;b=d.end.column}return{row:this.end.row,column:this.end.column+a}}}).call(d.prototype),b.FoldLine=d}),define("ace/range_list",["require","exports","module","ace/range"],function(a,b,c){"use strict";var d=a("./range").Range,e=d.comparePoints,f=function(){this.ranges=[]};(function(){this.comparePoints=e,this.pointIndex=function(a,b,c){for(var d=this.ranges,f=c||0;f<d.length;f++){var g=d[f],h=e(a,g.end);if(!(h>0)){var i=e(a,g.start);return 0===h?b&&0!==i?-f-2:f:i>0||0===i&&!b?f:-f-1}}return-f-1},this.add=function(a){var b=!a.isEmpty(),c=this.pointIndex(a.start,b);0>c&&(c=-c-1);var d=this.pointIndex(a.end,b,c);return 0>d?d=-d-1:d++,this.ranges.splice(c,d-c,a)},this.addList=function(a){for(var b=[],c=a.length;c--;)b.push.apply(b,this.add(a[c]));return b},this.substractPoint=function(a){var b=this.pointIndex(a);return b>=0?this.ranges.splice(b,1):void 0},this.merge=function(){var a=[],b=this.ranges;b=b.sort(function(a,b){return e(a.start,b.start)});for(var c,d=b[0],f=1;f<b.length;f++){c=d,d=b[f];var g=e(c.end,d.start);0>g||(0!=g||c.isEmpty()||d.isEmpty())&&(e(c.end,d.end)<0&&(c.end.row=d.end.row,c.end.column=d.end.column),b.splice(f,1),a.push(d),d=c,f--)}return this.ranges=b,a},this.contains=function(a,b){return this.pointIndex({row:a,column:b})>=0},this.containsPoint=function(a){return this.pointIndex(a)>=0},this.rangeAtPoint=function(a){var b=this.pointIndex(a);return b>=0?this.ranges[b]:void 0},this.clipRows=function(a,b){var c=this.ranges;if(c[0].start.row>b||c[c.length-1].start.row<a)return[];var d=this.pointIndex({row:a,column:0});0>d&&(d=-d-1);var e=this.pointIndex({row:b,column:0},d);0>e&&(e=-e-1);for(var f=[],g=d;e>g;g++)f.push(c[g]);return f},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(a){this.session&&this.detach(),this.session=a,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(a){if("insert"==a.action)var b=a.start,c=a.end;else var c=a.start,b=a.end;for(var d=b.row,e=c.row,f=e-d,g=-b.column+c.column,h=this.ranges,i=0,j=h.length;j>i;i++){var k=h[i];if(!(k.end.row<d)){if(k.start.row>d)break;if(k.start.row==d&&k.start.column>=b.column&&(k.start.column==b.column&&this.$insertRight||(k.start.column+=g,k.start.row+=f)),k.end.row==d&&k.end.column>=b.column){if(k.end.column==b.column&&this.$insertRight)continue;k.end.column==b.column&&g>0&&j-1>i&&k.end.column>k.start.column&&k.end.column==h[i+1].start.column&&(k.end.column-=g),k.end.column+=g,k.end.row+=f}}}if(0!=f&&j>i)for(;j>i;i++){var k=h[i];k.start.row+=f,k.end.row+=f}}}).call(f.prototype),b.RangeList=f}),define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],function(a,b,c){"use strict";function d(a,b){a.row-=b.row,0==a.row&&(a.column-=b.column)}function e(a,b){d(a.start,b),d(a.end,b)}function f(a,b){0==a.row&&(a.column+=b.column),a.row+=b.row}function g(a,b){f(a.start,b),f(a.end,b)}var h=(a("../range").Range,a("../range_list").RangeList),i=a("../lib/oop"),j=b.Fold=function(a,b){this.foldLine=null,this.placeholder=b,this.range=a,this.start=a.start,this.end=a.end,this.sameRow=a.start.row==a.end.row,this.subFolds=this.ranges=[]};i.inherits(j,h),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(a){this.foldLine=a,this.subFolds.forEach(function(b){b.setFoldLine(a)})},this.clone=function(){var a=this.range.clone(),b=new j(a,this.placeholder);return this.subFolds.forEach(function(a){b.subFolds.push(a.clone())}),b.collapseChildren=this.collapseChildren,b},this.addSubFold=function(a){if(!this.range.isEqual(a)){if(!this.range.containsRange(a))throw new Error("A fold can't intersect already existing fold"+a.range+this.range);e(a,this.start);for(var b=a.start.row,c=a.start.column,d=0,f=-1;d<this.subFolds.length&&(f=this.subFolds[d].range.compare(b,c),1==f);d++);var g=this.subFolds[d];if(0==f)return g.addSubFold(a);for(var b=a.range.end.row,c=a.range.end.column,h=d,f=-1;h<this.subFolds.length&&(f=this.subFolds[h].range.compare(b,c),1==f);h++);this.subFolds[h];if(0==f)throw new Error("A fold can't intersect already existing fold"+a.range+this.range);this.subFolds.splice(d,h-d,a);return a.setFoldLine(this.foldLine),a}},this.restoreRange=function(a){return g(a,this.start)}}.call(j.prototype)}),define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(a,b,c){"use strict";function d(){this.getFoldAt=function(a,b,c){var d=this.getFoldLine(a);if(!d)return null;for(var e=d.folds,f=0;f<e.length;f++){var g=e[f];if(g.range.contains(a,b)){if(1==c&&g.range.isEnd(a,b))continue;if(-1==c&&g.range.isStart(a,b))continue;return g}}},this.getFoldsInRange=function(a){var b=a.start,c=a.end,d=this.$foldData,e=[];b.column+=1,c.column-=1;for(var f=0;f<d.length;f++){var g=d[f].range.compareRange(a);if(2!=g){if(-2==g)break;for(var h=d[f].folds,i=0;i<h.length;i++){var j=h[i];if(g=j.range.compareRange(a),-2==g)break;if(2!=g){if(42==g)break;e.push(j)}}}}return b.column-=1,c.column+=1,e},this.getFoldsInRangeList=function(a){if(Array.isArray(a)){var b=[];a.forEach(function(a){b=b.concat(this.getFoldsInRange(a))},this)}else var b=this.getFoldsInRange(a);return b},this.getAllFolds=function(){for(var a=[],b=this.$foldData,c=0;c<b.length;c++)for(var d=0;d<b[c].folds.length;d++)a.push(b[c].folds[d]);return a},this.getFoldStringAt=function(a,b,c,d){if(d=d||this.getFoldLine(a),!d)return null;for(var e,f,g={end:{column:0}},h=0;h<d.folds.length;h++){f=d.folds[h];var i=f.range.compareEnd(a,b);if(-1==i){e=this.getLine(f.start.row).substring(g.end.column,f.start.column);break}if(0===i)return null;g=f}return e||(e=this.getLine(f.start.row).substring(g.end.column)),-1==c?e.substring(0,b-g.end.column):1==c?e.substring(b-g.end.column):e},this.getFoldLine=function(a,b){var c=this.$foldData,d=0;for(b&&(d=c.indexOf(b)),-1==d&&(d=0),d;d<c.length;d++){var e=c[d];if(e.start.row<=a&&e.end.row>=a)return e;if(e.end.row>a)return null}return null},this.getNextFoldLine=function(a,b){var c=this.$foldData,d=0;for(b&&(d=c.indexOf(b)),-1==d&&(d=0),d;d<c.length;d++){var e=c[d];if(e.end.row>=a)return e}return null},this.getFoldedRowCount=function(a,b){for(var c=this.$foldData,d=b-a+1,e=0;e<c.length;e++){var f=c[e],g=f.end.row,h=f.start.row;if(g>=b){b>h&&(h>=a?d-=b-h:d=0);break}g>=a&&(d-=h>=a?g-h:g-a+1)}return d},this.$addFoldLine=function(a){return this.$foldData.push(a),this.$foldData.sort(function(a,b){return a.start.row-b.start.row}),a},this.addFold=function(a,b){var c,d=this.$foldData,e=!1;a instanceof g?c=a:(c=new g(b,a),c.collapseChildren=b.collapseChildren),this.$clipRangeToDocument(c.range);var h=c.start.row,i=c.start.column,j=c.end.row,k=c.end.column;if(!(j>h||h==j&&k-2>=i))throw new Error("The range has to be at least 2 characters width");var l=this.getFoldAt(h,i,1),m=this.getFoldAt(j,k,-1);if(l&&m==l)return l.addSubFold(c);l&&!l.range.isStart(h,i)&&this.removeFold(l),m&&!m.range.isEnd(j,k)&&this.removeFold(m);var n=this.getFoldsInRange(c.range);n.length>0&&(this.removeFolds(n),n.forEach(function(a){c.addSubFold(a)}));for(var o=0;o<d.length;o++){var p=d[o];if(j==p.start.row){p.addFold(c),e=!0;break}if(h==p.end.row){if(p.addFold(c),e=!0,!c.sameRow){var q=d[o+1];if(q&&q.start.row==j){p.merge(q);break}}break}if(j<=p.start.row)break}return e||(p=this.$addFoldLine(new f(this.$foldData,c))),this.$useWrapMode?this.$updateWrapData(p.start.row,p.start.row):this.$updateRowLengthCache(p.start.row,p.start.row),this.$modified=!0,this._signal("changeFold",{data:c,action:"add"}),c},this.addFolds=function(a){a.forEach(function(a){this.addFold(a)},this)},this.removeFold=function(a){var b=a.foldLine,c=b.start.row,d=b.end.row,e=this.$foldData,f=b.folds;if(1==f.length)e.splice(e.indexOf(b),1);else if(b.range.isEnd(a.end.row,a.end.column))f.pop(),b.end.row=f[f.length-1].end.row,b.end.column=f[f.length-1].end.column;else if(b.range.isStart(a.start.row,a.start.column))f.shift(),b.start.row=f[0].start.row,b.start.column=f[0].start.column;else if(a.sameRow)f.splice(f.indexOf(a),1);else{var g=b.split(a.start.row,a.start.column);f=g.folds,f.shift(),g.start.row=f[0].start.row,g.start.column=f[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(c,d):this.$updateRowLengthCache(c,d)),this.$modified=!0,this._signal("changeFold",{data:a,action:"remove"})},this.removeFolds=function(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c]);b.forEach(function(a){this.removeFold(a)},this),this.$modified=!0},this.expandFold=function(a){this.removeFold(a),a.subFolds.forEach(function(b){a.restoreRange(b),this.addFold(b)},this),a.collapseChildren>0&&this.foldAll(a.start.row+1,a.end.row,a.collapseChildren-1),a.subFolds=[]},this.expandFolds=function(a){a.forEach(function(a){this.expandFold(a)},this)},this.unfold=function(a,b){var c,d;if(null==a?(c=new e(0,0,this.getLength(),0),b=!0):c="number"==typeof a?new e(a,0,a,this.getLine(a).length):"row"in a?e.fromPoints(a,a):a,d=this.getFoldsInRangeList(c),b)this.removeFolds(d);else for(var f=d;f.length;)this.expandFolds(f),f=this.getFoldsInRangeList(c);return d.length?d:void 0},this.isRowFolded=function(a,b){return!!this.getFoldLine(a,b)},this.getRowFoldEnd=function(a,b){var c=this.getFoldLine(a,b);return c?c.end.row:a},this.getRowFoldStart=function(a,b){var c=this.getFoldLine(a,b);return c?c.start.row:a},this.getFoldDisplayLine=function(a,b,c,d,e){null==d&&(d=a.start.row),null==e&&(e=0),null==b&&(b=a.end.row),null==c&&(c=this.getLine(b).length);var f=this.doc,g="";return a.walk(function(a,b,c,h){if(!(d>b)){if(b==d){if(e>c)return;h=Math.max(e,h)}g+=null!=a?a:f.getLine(b).substring(h,c)}},b,c),g},this.getDisplayLine=function(a,b,c,d){var e=this.getFoldLine(a);if(e)return this.getFoldDisplayLine(e,a,b,c,d);var f;return f=this.doc.getLine(a),f.substring(d||0,b||f.length)},this.$cloneFoldData=function(){var a=[];return a=this.$foldData.map(function(b){var c=b.folds.map(function(a){return a.clone()});return new f(a,c)})},this.toggleFold=function(a){var b,c,d=this.selection,e=d.getRange();if(e.isEmpty()){var f=e.start;if(b=this.getFoldAt(f.row,f.column))return void this.expandFold(b);(c=this.findMatchingBracket(f))?1==e.comparePoint(c)?e.end=c:(e.start=c,e.start.column++,e.end.column--):(c=this.findMatchingBracket({row:f.row,column:f.column+1}))?(1==e.comparePoint(c)?e.end=c:e.start=c,e.start.column++):e=this.getCommentFoldRange(f.row,f.column)||e}else{var g=this.getFoldsInRange(e);if(a&&g.length)return void this.expandFolds(g);1==g.length&&(b=g[0])}if(b||(b=this.getFoldAt(e.start.row,e.start.column)),b&&b.range.toString()==e.toString())return void this.expandFold(b);var h="...";if(!e.isMultiLine()){if(h=this.getTextRange(e),h.length<4)return;h=h.trim().substring(0,2)+".."}this.addFold(h,e)},this.getCommentFoldRange=function(a,b,c){var d=new h(this,a,b),f=d.getCurrentToken();if(f&&/^comment|string/.test(f.type)){var g=new e,i=new RegExp(f.type.replace(/\..*/,"\\."));if(1!=c){do f=d.stepBackward();while(f&&i.test(f.type));d.stepForward()}if(g.start.row=d.getCurrentTokenRow(),g.start.column=d.getCurrentTokenColumn()+2,d=new h(this,a,b),-1!=c){do f=d.stepForward();while(f&&i.test(f.type));f=d.stepBackward()}else f=d.getCurrentToken();return g.end.row=d.getCurrentTokenRow(),g.end.column=d.getCurrentTokenColumn()+f.value.length-2,g}},this.foldAll=function(a,b,c){void 0==c&&(c=1e5);var d=this.foldWidgets;if(d){b=b||this.getLength(),a=a||0;for(var e=a;b>e;e++)if(null==d[e]&&(d[e]=this.getFoldWidget(e)),"start"==d[e]){var f=this.getFoldWidgetRange(e);if(f&&f.isMultiLine()&&f.end.row<=b&&f.start.row>=a){e=f.end.row;try{var g=this.addFold("...",f);g&&(g.collapseChildren=c)}catch(h){}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(a){if(!this.$foldStyles[a])throw new Error("invalid fold style: "+a+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=a){this.$foldStyle=a,"manual"==a&&this.unfold();var b=this.$foldMode;this.$setFolding(null),this.$setFolding(b)}},this.$setFolding=function(a){if(this.$foldMode!=a){if(this.$foldMode=a,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!a||"manual"==this.$foldStyle)return void(this.foldWidgets=null);this.foldWidgets=[],this.getFoldWidget=a.getFoldWidget.bind(a,this,this.$foldStyle),this.getFoldWidgetRange=a.getFoldWidgetRange.bind(a,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(a,b){var c=this.foldWidgets;if(!c||b&&c[a])return{};for(var d,e=a-1;e>=0;){var f=c[e];if(null==f&&(f=c[e]=this.getFoldWidget(e)),"start"==f){var g=this.getFoldWidgetRange(e);if(d||(d=g),g&&g.end.row>=a)break}e--}return{range:-1!==e&&g,firstRange:d}},this.onFoldWidgetClick=function(a,b){b=b.domEvent;var c={children:b.shiftKey,all:b.ctrlKey||b.metaKey,siblings:b.altKey},d=this.$toggleFoldWidget(a,c);if(!d){var e=b.target||b.srcElement;e&&/ace_fold-widget/.test(e.className)&&(e.className+=" ace_invalid")}},this.$toggleFoldWidget=function(a,b){if(this.getFoldWidget){var c=this.getFoldWidget(a),d=this.getLine(a),e="end"===c?-1:1,f=this.getFoldAt(a,-1===e?0:d.length,e);if(f)return b.children||b.all?this.removeFold(f):this.expandFold(f),f;var g=this.getFoldWidgetRange(a,!0);if(g&&!g.isMultiLine()&&(f=this.getFoldAt(g.start.row,g.start.column,1),f&&g.isEqual(f.range)))return this.removeFold(f),f;if(b.siblings){var h=this.getParentFoldRangeData(a);if(h.range)var i=h.range.start.row+1,j=h.range.end.row;this.foldAll(i,j,b.all?1e4:0)}else b.children?(j=g?g.end.row:this.getLength(),this.foldAll(a+1,j,b.all?1e4:0)):g&&(b.all&&(g.collapseChildren=1e4),this.addFold("...",g));return g}},this.toggleFoldWidget=function(a){var b=this.selection.getCursor().row;b=this.getRowFoldStart(b);var c=this.$toggleFoldWidget(b,{});if(!c){var d=this.getParentFoldRangeData(b,!0);if(c=d.range||d.firstRange){b=c.start.row;var e=this.getFoldAt(b,this.getLine(b).length,1);e?this.removeFold(e):this.addFold("...",c)}}},this.updateFoldWidgets=function(a){var b=a.start.row,c=a.end.row-b;if(0===c)this.foldWidgets[b]=null;else if("remove"==a.action)this.foldWidgets.splice(b,c+1,null);else{var d=Array(c+1);d.unshift(b,1),this.foldWidgets.splice.apply(this.foldWidgets,d)}},this.tokenizerUpdateFoldWidgets=function(a){var b=a.data;b.first!=b.last&&this.foldWidgets.length>b.first&&this.foldWidgets.splice(b.first,this.foldWidgets.length)}}var e=a("../range").Range,f=a("./fold_line").FoldLine,g=a("./fold").Fold,h=a("../token_iterator").TokenIterator;b.Folding=d}),define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(a,b,c){"use strict";function d(){this.findMatchingBracket=function(a,b){if(0==a.column)return null;var c=b||this.getLine(a.row).charAt(a.column-1);if(""==c)return null;var d=c.match(/([\(\[\{])|([\)\]\}])/);return d?d[1]?this.$findClosingBracket(d[1],a):this.$findOpeningBracket(d[2],a):null},this.getBracketRange=function(a){var b,c=this.getLine(a.row),d=!0,e=c.charAt(a.column-1),g=e&&e.match(/([\(\[\{])|([\)\]\}])/);if(g||(e=c.charAt(a.column),a={row:a.row,column:a.column+1},g=e&&e.match(/([\(\[\{])|([\)\]\}])/),d=!1),!g)return null;if(g[1]){var h=this.$findClosingBracket(g[1],a);if(!h)return null;b=f.fromPoints(a,h),d||(b.end.column++,b.start.column--),b.cursor=b.end}else{var h=this.$findOpeningBracket(g[2],a);if(!h)return null;b=f.fromPoints(h,a),d||(b.start.column++,b.end.column--),b.cursor=b.start}return b},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(a,b,c){var d=this.$brackets[a],f=1,g=new e(this,b.row,b.column),h=g.getCurrentToken();if(h||(h=g.stepForward()),h){c||(c=new RegExp("(\\.?"+h.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var i=b.column-g.getCurrentTokenColumn()-2,j=h.value;;){for(;i>=0;){var k=j.charAt(i);if(k==d){if(f-=1,0==f)return{row:g.getCurrentTokenRow(),column:i+g.getCurrentTokenColumn()}}else k==a&&(f+=1);i-=1}do h=g.stepBackward();while(h&&!c.test(h.type));if(null==h)break;j=h.value,i=j.length-1}return null}},this.$findClosingBracket=function(a,b,c){var d=this.$brackets[a],f=1,g=new e(this,b.row,b.column),h=g.getCurrentToken();if(h||(h=g.stepForward()),h){c||(c=new RegExp("(\\.?"+h.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var i=b.column-g.getCurrentTokenColumn();;){for(var j=h.value,k=j.length;k>i;){var l=j.charAt(i);if(l==d){if(f-=1,0==f)return{row:g.getCurrentTokenRow(),column:i+g.getCurrentTokenColumn()}}else l==a&&(f+=1);i+=1}do h=g.stepForward();while(h&&!c.test(h.type));if(null==h)break;i=0}return null}}}var e=a("../token_iterator").TokenIterator,f=a("../range").Range;b.BracketMatch=d}),define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(a,b,c){"use strict";var d=a("./lib/oop"),e=a("./lib/lang"),f=a("./config"),g=a("./lib/event_emitter").EventEmitter,h=a("./selection").Selection,i=a("./mode/text").Mode,j=a("./range").Range,k=a("./document").Document,l=a("./background_tokenizer").BackgroundTokenizer,m=a("./search_highlight").SearchHighlight,n=function(a,b){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++n.$uid,this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof a&&a.getLine||(a=new k(a)),this.setDocument(a),this.selection=new h(this),f.resetOptions(this),this.setMode(b),f._signal("session",this)};(function(){function a(a){return 4352>a?!1:a>=4352&&4447>=a||a>=4515&&4519>=a||a>=4602&&4607>=a||a>=9001&&9002>=a||a>=11904&&11929>=a||a>=11931&&12019>=a||a>=12032&&12245>=a||a>=12272&&12283>=a||a>=12288&&12350>=a||a>=12353&&12438>=a||a>=12441&&12543>=a||a>=12549&&12589>=a||a>=12593&&12686>=a||a>=12688&&12730>=a||a>=12736&&12771>=a||a>=12784&&12830>=a||a>=12832&&12871>=a||a>=12880&&13054>=a||a>=13056&&19903>=a||a>=19968&&42124>=a||a>=42128&&42182>=a||a>=43360&&43388>=a||a>=44032&&55203>=a||a>=55216&&55238>=a||a>=55243&&55291>=a||a>=63744&&64255>=a||a>=65040&&65049>=a||a>=65072&&65106>=a||a>=65108&&65126>=a||a>=65128&&65131>=a||a>=65281&&65376>=a||a>=65504&&65510>=a}d.implement(this,g),this.setDocument=function(a){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=a,a.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(a){if(!a)return this.$docRowCache=[],void(this.$screenRowCache=[]);var b=this.$docRowCache.length,c=this.$getRowCacheIndex(this.$docRowCache,a)+1;b>c&&(this.$docRowCache.splice(c,b),this.$screenRowCache.splice(c,b))},this.$getRowCacheIndex=function(a,b){for(var c=0,d=a.length-1;d>=c;){var e=c+d>>1,f=a[e];if(b>f)c=e+1;else{if(!(f>b))return e;d=e-1}}return c-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(a){var b=a.data;this.$resetRowCache(b.start.row)},this.onChange=function(a){this.$modified=!0,this.$resetRowCache(a.start.row);var b=this.$updateInternalDataOnChange(a);this.$fromUndo||!this.$undoManager||a.ignore||(this.$deltasDoc.push(a),b&&0!=b.length&&this.$deltasFold.push({action:"removeFolds",folds:b}),this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(a),this._signal("change",a)},this.setValue=function(a){this.doc.setValue(a),this.selection.moveTo(0,0),this.$resetRowCache(0),this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(a){return this.bgTokenizer.getState(a)},this.getTokens=function(a){return this.bgTokenizer.getTokens(a)},this.getTokenAt=function(a,b){var c,d=this.bgTokenizer.getTokens(a),e=0;if(null==b)f=d.length-1,e=this.getLine(a).length;else for(var f=0;f<d.length&&(e+=d[f].value.length,!(e>=b));f++);return(c=d[f])?(c.index=f,c.start=e-c.value.length,c):null},this.setUndoManager=function(a){if(this.$undoManager=a,this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel(),a){var b=this;this.$syncInformUndoManager=function(){b.$informUndoManager.cancel(),b.$deltasFold.length&&(b.$deltas.push({group:"fold",deltas:b.$deltasFold}),b.$deltasFold=[]),b.$deltasDoc.length&&(b.$deltas.push({group:"doc",deltas:b.$deltasDoc}),b.$deltasDoc=[]),b.$deltas.length>0&&a.execute({action:"aceupdate",args:[b.$deltas,b],merge:b.mergeUndoDeltas}),b.mergeUndoDeltas=!1,b.$deltas=[]},this.$informUndoManager=e.delayedCall(this.$syncInformUndoManager)}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?e.stringRepeat(" ",this.getTabSize()):"	"},this.setUseSoftTabs=function(a){this.setOption("useSoftTabs",a)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(a){this.setOption("tabSize",a)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(a){return this.$useSoftTabs&&a.column%this.$tabSize===0},this.$overwrite=!1,this.setOverwrite=function(a){this.setOption("overwrite",a)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(a,b){this.$decorations[a]||(this.$decorations[a]=""),this.$decorations[a]+=" "+b,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(a,b){this.$decorations[a]=(this.$decorations[a]||"").replace(" "+b,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(a){this.$breakpoints=[];for(var b=0;b<a.length;b++)this.$breakpoints[a[b]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(a,b){void 0===b&&(b="ace_breakpoint"),b?this.$breakpoints[a]=b:delete this.$breakpoints[a],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(a){delete this.$breakpoints[a],this._signal("changeBreakpoint",{})},this.addMarker=function(a,b,c,d){var e=this.$markerId++,f={range:a,type:c||"line",renderer:"function"==typeof c?c:null,clazz:b,inFront:!!d,id:e};return d?(this.$frontMarkers[e]=f,this._signal("changeFrontMarker")):(this.$backMarkers[e]=f,this._signal("changeBackMarker")),e},this.addDynamicMarker=function(a,b){if(a.update){var c=this.$markerId++;return a.id=c,a.inFront=!!b,b?(this.$frontMarkers[c]=a,this._signal("changeFrontMarker")):(this.$backMarkers[c]=a,this._signal("changeBackMarker")),a}},this.removeMarker=function(a){var b=this.$frontMarkers[a]||this.$backMarkers[a];if(b){var c=b.inFront?this.$frontMarkers:this.$backMarkers;b&&(delete c[a],this._signal(b.inFront?"changeFrontMarker":"changeBackMarker"))}},this.getMarkers=function(a){return a?this.$frontMarkers:this.$backMarkers},this.highlight=function(a){if(!this.$searchHighlight){var b=new m(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(b)}this.$searchHighlight.setRegexp(a)},this.highlightLines=function(a,b,c,d){"number"!=typeof b&&(c=b,b=a),c||(c="ace_step");var e=new j(a,0,b,1/0);return e.id=this.addMarker(e,c,"fullLine",d),e},this.setAnnotations=function(a){this.$annotations=a,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(a){var b=a.match(/^.*?(\r?\n)/m);b?this.$autoNewLine=b[1]:this.$autoNewLine="\n"},this.getWordRange=function(a,b){var c=this.getLine(a),d=!1;if(b>0&&(d=!!c.charAt(b-1).match(this.tokenRe)),d||(d=!!c.charAt(b).match(this.tokenRe)),d)var e=this.tokenRe;else if(/^\s+$/.test(c.slice(b-1,b+1)))var e=/\s/;else var e=this.nonTokenRe;var f=b;if(f>0){do f--;while(f>=0&&c.charAt(f).match(e));f++}for(var g=b;g<c.length&&c.charAt(g).match(e);)g++;return new j(a,f,a,g)},this.getAWordRange=function(a,b){for(var c=this.getWordRange(a,b),d=this.getLine(c.end.row);d.charAt(c.end.column).match(/[ \t]/);)c.end.column+=1;return c},this.setNewLineMode=function(a){this.doc.setNewLineMode(a)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(a){this.setOption("useWorker",a)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(a){var b=a.data;this.bgTokenizer.start(b.first),this._signal("tokenizerUpdate",a)},this.$modes={},this.$mode=null,this.$modeId=null,this.setMode=function(a,b){
if(a&&"object"==typeof a){if(a.getTokenizer)return this.$onChangeMode(a);var c=a,d=c.path}else d=a||"ace/mode/text";return this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new i),this.$modes[d]&&!c?(this.$onChangeMode(this.$modes[d]),void(b&&b())):(this.$modeId=d,f.loadModule(["mode",d],function(a){return this.$modeId!==d?b&&b():(this.$modes[d]&&!c?this.$onChangeMode(this.$modes[d]):a&&a.Mode&&(a=new a.Mode(c),c||(this.$modes[d]=a,a.$id=d),this.$onChangeMode(a)),void(b&&b()))}.bind(this)),void(this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)))},this.$onChangeMode=function(a,b){if(b||(this.$modeId=a.$id),this.$mode!==a){this.$mode=a,this.$stopWorker(),this.$useWorker&&this.$startWorker();var c=a.getTokenizer();if(void 0!==c.addEventListener){var d=this.onReloadTokenizer.bind(this);c.addEventListener("update",d)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(c);else{this.bgTokenizer=new l(c);var e=this;this.bgTokenizer.addEventListener("update",function(a){e._signal("tokenizerUpdate",a)})}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=a.tokenRe,this.nonTokenRe=a.nonTokenRe,b||(a.attachToSession&&a.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(a.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(a){f.warn("Could not load worker",a),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(a){this.$scrollTop===a||isNaN(a)||(this.$scrollTop=a,this._signal("changeScrollTop",a))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(a){this.$scrollLeft===a||isNaN(a)||(this.$scrollLeft=a,this._signal("changeScrollLeft",a))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var a=0;return this.lineWidgets.forEach(function(b){b&&b.screenWidth>a&&(a=b.screenWidth)}),this.lineWidgetWidth=a},this.$computeWidth=function(a){if(this.$modified||a){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var b=this.doc.getAllLines(),c=this.$rowLengthCache,d=0,e=0,f=this.$foldData[e],g=f?f.start.row:1/0,h=b.length,i=0;h>i;i++){if(i>g){if(i=f.end.row+1,i>=h)break;f=this.$foldData[e++],g=f?f.start.row:1/0}null==c[i]&&(c[i]=this.$getStringScreenWidth(b[i])[0]),c[i]>d&&(d=c[i])}this.screenWidth=d}},this.getLine=function(a){return this.doc.getLine(a)},this.getLines=function(a,b){return this.doc.getLines(a,b)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(a){return this.doc.getTextRange(a||this.selection.getRange())},this.insert=function(a,b){return this.doc.insert(a,b)},this.remove=function(a){return this.doc.remove(a)},this.removeFullLines=function(a,b){return this.doc.removeFullLines(a,b)},this.undoChanges=function(a,b){if(a.length){this.$fromUndo=!0;for(var c=null,d=a.length-1;-1!=d;d--){var e=a[d];"doc"==e.group?(this.doc.revertDeltas(e.deltas),c=this.$getUndoSelection(e.deltas,!0,c)):e.deltas.forEach(function(a){this.addFolds(a.folds)},this)}return this.$fromUndo=!1,c&&this.$undoSelect&&!b&&this.selection.setSelectionRange(c),c}},this.redoChanges=function(a,b){if(a.length){this.$fromUndo=!0;for(var c=null,d=0;d<a.length;d++){var e=a[d];"doc"==e.group&&(this.doc.applyDeltas(e.deltas),c=this.$getUndoSelection(e.deltas,!1,c))}return this.$fromUndo=!1,c&&this.$undoSelect&&!b&&this.selection.setSelectionRange(c),c}},this.setUndoSelect=function(a){this.$undoSelect=a},this.$getUndoSelection=function(a,b,c){function d(a){return b?"insert"!==a.action:"insert"===a.action}var e,f,g=a[0],h=!1;d(g)?(e=j.fromPoints(g.start,g.end),h=!0):(e=j.fromPoints(g.start,g.start),h=!1);for(var i=1;i<a.length;i++)g=a[i],d(g)?(f=g.start,-1==e.compare(f.row,f.column)&&e.setStart(f),f=g.end,1==e.compare(f.row,f.column)&&e.setEnd(f),h=!0):(f=g.start,-1==e.compare(f.row,f.column)&&(e=j.fromPoints(g.start,g.start)),h=!1);if(null!=c){0===j.comparePoints(c.start,e.start)&&(c.start.column+=e.end.column-e.start.column,c.end.column+=e.end.column-e.start.column);var k=c.compareRange(e);1==k?e.setStart(c.start):-1==k&&e.setEnd(c.end)}return e},this.replace=function(a,b){return this.doc.replace(a,b)},this.moveText=function(a,b,c){var d=this.getTextRange(a),e=this.getFoldsInRange(a),f=j.fromPoints(b,b);if(!c){this.remove(a);var g=a.start.row-a.end.row,h=g?-a.end.column:a.start.column-a.end.column;h&&(f.start.row==a.end.row&&f.start.column>a.end.column&&(f.start.column+=h),f.end.row==a.end.row&&f.end.column>a.end.column&&(f.end.column+=h)),g&&f.start.row>=a.end.row&&(f.start.row+=g,f.end.row+=g)}if(f.end=this.insert(f.start,d),e.length){var i=a.start,k=f.start,g=k.row-i.row,h=k.column-i.column;this.addFolds(e.map(function(a){return a=a.clone(),a.start.row==i.row&&(a.start.column+=h),a.end.row==i.row&&(a.end.column+=h),a.start.row+=g,a.end.row+=g,a}))}return f},this.indentRows=function(a,b,c){c=c.replace(/\t/g,this.getTabString());for(var d=a;b>=d;d++)this.doc.insertInLine({row:d,column:0},c)},this.outdentRows=function(a){for(var b=a.collapseRows(),c=new j(0,0,0,0),d=this.getTabSize(),e=b.start.row;e<=b.end.row;++e){var f=this.getLine(e);c.start.row=e,c.end.row=e;for(var g=0;d>g&&" "==f.charAt(g);++g);d>g&&"	"==f.charAt(g)?(c.start.column=g,c.end.column=g+1):(c.start.column=0,c.end.column=g),this.remove(c)}},this.$moveLines=function(a,b,c){if(a=this.getRowFoldStart(a),b=this.getRowFoldEnd(b),0>c){var d=this.getRowFoldStart(a+c);if(0>d)return 0;var e=d-a}else if(c>0){var d=this.getRowFoldEnd(b+c);if(d>this.doc.getLength()-1)return 0;var e=d-b}else{a=this.$clipRowToDocument(a),b=this.$clipRowToDocument(b);var e=b-a+1}var f=new j(a,0,b,Number.MAX_VALUE),g=this.getFoldsInRange(f).map(function(a){return a=a.clone(),a.start.row+=e,a.end.row+=e,a}),h=0==c?this.doc.getLines(a,b):this.doc.removeFullLines(a,b);return this.doc.insertFullLines(a+e,h),g.length&&this.addFolds(g),e},this.moveLinesUp=function(a,b){return this.$moveLines(a,b,-1)},this.moveLinesDown=function(a,b){return this.$moveLines(a,b,1)},this.duplicateLines=function(a,b){return this.$moveLines(a,b,0)},this.$clipRowToDocument=function(a){return Math.max(0,Math.min(a,this.doc.getLength()-1))},this.$clipColumnToRow=function(a,b){return 0>b?0:Math.min(this.doc.getLine(a).length,b)},this.$clipPositionToDocument=function(a,b){if(b=Math.max(0,b),0>a)a=0,b=0;else{var c=this.doc.getLength();a>=c?(a=c-1,b=this.doc.getLine(c-1).length):b=Math.min(this.doc.getLine(a).length,b)}return{row:a,column:b}},this.$clipRangeToDocument=function(a){a.start.row<0?(a.start.row=0,a.start.column=0):a.start.column=this.$clipColumnToRow(a.start.row,a.start.column);var b=this.doc.getLength()-1;return a.end.row>b?(a.end.row=b,a.end.column=this.doc.getLine(b).length):a.end.column=this.$clipColumnToRow(a.end.row,a.end.column),a},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(a){if(a!=this.$useWrapMode){if(this.$useWrapMode=a,this.$modified=!0,this.$resetRowCache(0),a){var b=this.getLength();this.$wrapData=Array(b),this.$updateWrapData(0,b-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(a,b){(this.$wrapLimitRange.min!==a||this.$wrapLimitRange.max!==b)&&(this.$wrapLimitRange={min:a,max:b},this.$modified=!0,this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(a,b){var c=this.$wrapLimitRange;c.max<0&&(c={min:b,max:b});var d=this.$constrainWrapLimit(a,c.min,c.max);return d!=this.$wrapLimit&&d>1?(this.$wrapLimit=d,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},this.$constrainWrapLimit=function(a,b,c){return b&&(a=Math.max(b,a)),c&&(a=Math.min(c,a)),a},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(a){this.setWrapLimitRange(a,a)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(a){var b=this.$useWrapMode,c=a.action,d=a.start,e=a.end,f=d.row,g=e.row,h=g-f,i=null;if(this.$updating=!0,0!=h)if("remove"===c){this[b?"$wrapData":"$rowLengthCache"].splice(f,h);var j=this.$foldData;i=this.getFoldsInRange(a),this.removeFolds(i);var k=this.getFoldLine(e.row),l=0;if(k){k.addRemoveChars(e.row,e.column,d.column-e.column),k.shiftRow(-h);var m=this.getFoldLine(f);m&&m!==k&&(m.merge(k),k=m),l=j.indexOf(k)+1}for(l;l<j.length;l++){var k=j[l];k.start.row>=e.row&&k.shiftRow(-h)}g=f}else{var n=Array(h);n.unshift(f,0);var o=b?this.$wrapData:this.$rowLengthCache;o.splice.apply(o,n);var j=this.$foldData,k=this.getFoldLine(f),l=0;if(k){var p=k.range.compareInside(d.row,d.column);0==p?(k=k.split(d.row,d.column),k&&(k.shiftRow(h),k.addRemoveChars(g,0,e.column-d.column))):-1==p&&(k.addRemoveChars(f,0,e.column-d.column),k.shiftRow(h)),l=j.indexOf(k)+1}for(l;l<j.length;l++){var k=j[l];k.start.row>=f&&k.shiftRow(h)}}else{h=Math.abs(a.start.column-a.end.column),"remove"===c&&(i=this.getFoldsInRange(a),this.removeFolds(i),h=-h);var k=this.getFoldLine(f);k&&k.addRemoveChars(f,d.column,h)}return b&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,b?this.$updateWrapData(f,g):this.$updateRowLengthCache(f,g),i},this.$updateRowLengthCache=function(a,b,c){this.$rowLengthCache[a]=null,this.$rowLengthCache[b]=null},this.$updateWrapData=function(a,b){var c,d,e=this.doc.getAllLines(),f=this.getTabSize(),g=this.$wrapData,i=this.$wrapLimit,j=a;for(b=Math.min(b,e.length-1);b>=j;)d=this.getFoldLine(j,d),d?(c=[],d.walk(function(a,b,d,f){var g;if(null!=a){g=this.$getDisplayTokens(a,c.length),g[0]=h;for(var i=1;i<g.length;i++)g[i]=k}else g=this.$getDisplayTokens(e[b].substring(f,d),c.length);c=c.concat(g)}.bind(this),d.end.row,e[d.end.row].length+1),g[d.start.row]=this.$computeWrapSplits(c,i,f),j=d.end.row+1):(c=this.$getDisplayTokens(e[j]),g[j]=this.$computeWrapSplits(c,i,f),j++)};var b=1,c=2,h=3,k=4,n=9,o=10,p=11,q=12;this.$computeWrapSplits=function(a,b,d){function e(){var b=0;if(0===s)return b;if(r)for(var c=0;c<a.length;c++){var e=a[c];if(e==o)b+=1;else{if(e!=p){if(e==q)continue;break}b+=d}}return m&&r!==!1&&(b+=d),Math.min(b,s)}function f(b){var c=a.slice(j,b),d=c.length;c.join("").replace(/12/g,function(){d-=1}).replace(/2/g,function(){d-=1}),g.length||(t=e(),g.indent=t),l+=d,g.push(l),j=b}if(0==a.length)return[];for(var g=[],i=a.length,j=0,l=0,m=this.$wrapAsCode,r=this.$indentedSoftWrap,s=b<=Math.max(2*d,8)||r===!1?0:Math.floor(b/2),t=0;i-j>b-t;){var u=j+b-t;if(a[u-1]>=o&&a[u]>=o)f(u);else if(a[u]!=h&&a[u]!=k){for(var v=Math.max(u-(b-(b>>2)),j-1);u>v&&a[u]<h;)u--;if(m){for(;u>v&&a[u]<h;)u--;for(;u>v&&a[u]==n;)u--}else for(;u>v&&a[u]<o;)u--;u>v?f(++u):(u=j+b,a[u]==c&&u--,f(u-t))}else{for(u;u!=j-1&&a[u]!=h;u--);if(u>j){f(u);continue}for(u=j+b;u<a.length&&a[u]==k;u++);if(u==a.length)break;f(u)}}return g},this.$getDisplayTokens=function(d,e){var f,g=[];e=e||0;for(var h=0;h<d.length;h++){var i=d.charCodeAt(h);if(9==i){f=this.getScreenTabSize(g.length+e),g.push(p);for(var j=1;f>j;j++)g.push(q)}else 32==i?g.push(o):i>39&&48>i||i>57&&64>i?g.push(n):i>=4352&&a(i)?g.push(b,c):g.push(b)}return g},this.$getStringScreenWidth=function(b,c,d){if(0==c)return[0,0];null==c&&(c=1/0),d=d||0;var e,f;for(f=0;f<b.length&&(e=b.charCodeAt(f),d+=9==e?this.getScreenTabSize(d):e>=4352&&a(e)?2:1,!(d>c));f++);return[d,f]},this.lineWidgets=null,this.getRowLength=function(a){if(this.lineWidgets)var b=this.lineWidgets[a]&&this.lineWidgets[a].rowCount||0;else b=0;return this.$useWrapMode&&this.$wrapData[a]?this.$wrapData[a].length+1+b:1+b},this.getRowLineCount=function(a){return this.$useWrapMode&&this.$wrapData[a]?this.$wrapData[a].length+1:1},this.getRowWrapIndent=function(a){if(this.$useWrapMode){var b=this.screenToDocumentPosition(a,Number.MAX_VALUE),c=this.$wrapData[b.row];return c.length&&c[0]<b.column?c.indent:0}return 0},this.getScreenLastRowColumn=function(a){var b=this.screenToDocumentPosition(a,Number.MAX_VALUE);return this.documentToScreenColumn(b.row,b.column)},this.getDocumentLastRowColumn=function(a,b){var c=this.documentToScreenRow(a,b);return this.getScreenLastRowColumn(c)},this.getDocumentLastRowColumnPosition=function(a,b){var c=this.documentToScreenRow(a,b);return this.screenToDocumentPosition(c,Number.MAX_VALUE/10)},this.getRowSplitData=function(a){return this.$useWrapMode?this.$wrapData[a]:void 0},this.getScreenTabSize=function(a){return this.$tabSize-a%this.$tabSize},this.screenToDocumentRow=function(a,b){return this.screenToDocumentPosition(a,b).row},this.screenToDocumentColumn=function(a,b){return this.screenToDocumentPosition(a,b).column},this.screenToDocumentPosition=function(a,b){if(0>a)return{row:0,column:0};var c,d,e=0,f=0,g=0,h=0,i=this.$screenRowCache,j=this.$getRowCacheIndex(i,a),k=i.length;if(k&&j>=0)var g=i[j],e=this.$docRowCache[j],l=a>i[k-1];else var l=!k;for(var m=this.getLength()-1,n=this.getNextFoldLine(e),o=n?n.start.row:1/0;a>=g&&(h=this.getRowLength(e),!(g+h>a||e>=m));)g+=h,e++,e>o&&(e=n.end.row+1,n=this.getNextFoldLine(e,n),o=n?n.start.row:1/0),l&&(this.$docRowCache.push(e),this.$screenRowCache.push(g));if(n&&n.start.row<=e)c=this.getFoldDisplayLine(n),e=n.start.row;else{if(a>=g+h||e>m)return{row:m,column:this.getLine(m).length};c=this.getLine(e),n=null}var p=0;if(this.$useWrapMode){var q=this.$wrapData[e];if(q){var r=Math.floor(a-g);d=q[r],r>0&&q.length&&(p=q.indent,f=q[r-1]||q[q.length-1],c=c.substring(f))}}return f+=this.$getStringScreenWidth(c,b-p)[1],this.$useWrapMode&&f>=d&&(f=d-1),n?n.idxToPosition(f):{row:e,column:f}},this.documentToScreenPosition=function(a,b){if("undefined"==typeof b)var c=this.$clipPositionToDocument(a.row,a.column);else c=this.$clipPositionToDocument(a,b);a=c.row,b=c.column;var d=0,e=null,f=null;f=this.getFoldAt(a,b,1),f&&(a=f.start.row,b=f.start.column);var g,h=0,i=this.$docRowCache,j=this.$getRowCacheIndex(i,a),k=i.length;if(k&&j>=0)var h=i[j],d=this.$screenRowCache[j],l=a>i[k-1];else var l=!k;for(var m=this.getNextFoldLine(h),n=m?m.start.row:1/0;a>h;){if(h>=n){if(g=m.end.row+1,g>a)break;m=this.getNextFoldLine(g,m),n=m?m.start.row:1/0}else g=h+1;d+=this.getRowLength(h),h=g,l&&(this.$docRowCache.push(h),this.$screenRowCache.push(d))}var o="";m&&h>=n?(o=this.getFoldDisplayLine(m,a,b),e=m.start.row):(o=this.getLine(a).substring(0,b),e=a);var p=0;if(this.$useWrapMode){var q=this.$wrapData[e];if(q){for(var r=0;o.length>=q[r];)d++,r++;o=o.substring(q[r-1]||0,o.length),p=r>0?q.indent:0}}return{row:d,column:p+this.$getStringScreenWidth(o)[0]}},this.documentToScreenColumn=function(a,b){return this.documentToScreenPosition(a,b).column},this.documentToScreenRow=function(a,b){return this.documentToScreenPosition(a,b).row},this.getScreenLength=function(){var a=0,b=null;if(this.$useWrapMode)for(var c=this.$wrapData.length,d=0,e=0,b=this.$foldData[e++],f=b?b.start.row:1/0;c>d;){var g=this.$wrapData[d];a+=g?g.length+1:1,d++,d>f&&(d=b.end.row+1,b=this.$foldData[e++],f=b?b.start.row:1/0)}else{a=this.getLength();for(var h=this.$foldData,e=0;e<h.length;e++)b=h[e],a-=b.end.row-b.start.row}return this.lineWidgets&&(a+=this.$getWidgetScreenLength()),a},this.$setFontMetrics=function(a){this.$enableVarChar&&(this.$getStringScreenWidth=function(b,c,d){if(0===c)return[0,0];c||(c=1/0),d=d||0;var e,f;for(f=0;f<b.length&&(e=b.charAt(f),d+="	"===e?this.getScreenTabSize(d):a.getCharacterWidth(e),!(d>c));f++);return[d,f]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker()}}).call(n.prototype),a("./edit_session/folding").Folding.call(n.prototype),a("./edit_session/bracket_match").BracketMatch.call(n.prototype),f.defineOptions(n.prototype,"session",{wrap:{set:function(a){if(a&&"off"!=a?"free"==a?a=!0:"printMargin"==a?a=-1:"string"==typeof a&&(a=parseInt(a,10)||!1):a=!1,this.$wrap!=a)if(this.$wrap=a,a){var b="number"==typeof a?a:null;this.setWrapLimitRange(b,b),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(a){a="auto"==a?"text"!=this.$mode.type:"text"!=a,a!=this.$wrapAsCode&&(this.$wrapAsCode=a,this.$useWrapMode&&(this.$modified=!0,this.$resetRowCache(0),this.$updateWrapData(0,this.getLength()-1)))},initialValue:"auto"},indentedSoftWrap:{initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(a){this.$useWorker=a,this.$stopWorker(),a&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(a){isNaN(a)||this.$tabSize===a||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=a,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},overwrite:{set:function(a){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(a){this.doc.setNewLineMode(a)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(a){this.setMode(a)},get:function(){return this.$modeId}}}),b.EditSession=n}),define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(a,b,c){"use strict";function d(a,b){function c(a){return/\w/.test(a)||b.regExp?"\\b":""}return c(a[0])+a+c(a[a.length-1])}var e=a("./lib/lang"),f=a("./lib/oop"),g=a("./range").Range,h=function(){this.$options={}};(function(){this.set=function(a){return f.mixin(this.$options,a),this},this.getOptions=function(){return e.copyObject(this.$options)},this.setOptions=function(a){this.$options=a},this.find=function(a){var b=this.$options,c=this.$matchIterator(a,b);if(!c)return!1;var d=null;return c.forEach(function(a,c,e){if(a.start)d=a;else{var f=a.offset+(e||0);if(d=new g(c,f,c,f+a.length),!a.length&&b.start&&b.start.start&&0!=b.skipCurrent&&d.isEqual(b.start))return d=null,!1}return!0}),d},this.findAll=function(a){var b=this.$options;if(!b.needle)return[];this.$assembleRegExp(b);var c=b.range,d=c?a.getLines(c.start.row,c.end.row):a.doc.getAllLines(),f=[],h=b.re;if(b.$isMultiLine){var i,j=h.length,k=d.length-j;a:for(var l=h.offset||0;k>=l;l++){for(var m=0;j>m;m++)if(-1==d[l+m].search(h[m]))continue a;var n=d[l],o=d[l+j-1],p=n.length-n.match(h[0])[0].length,q=o.match(h[j-1])[0].length;i&&i.end.row===l&&i.end.column>p||(f.push(i=new g(l,p,l+j-1,q)),j>2&&(l=l+j-2))}}else for(var r=0;r<d.length;r++)for(var s=e.getMatchOffsets(d[r],h),m=0;m<s.length;m++){var t=s[m];f.push(new g(r,t.offset,r,t.offset+t.length))}if(c){for(var u=c.start.column,v=c.start.column,r=0,m=f.length-1;m>r&&f[r].start.column<u&&f[r].start.row==c.start.row;)r++;for(;m>r&&f[m].end.column>v&&f[m].end.row==c.end.row;)m--;for(f=f.slice(r,m+1),r=0,m=f.length;m>r;r++)f[r].start.row+=c.start.row,f[r].end.row+=c.start.row}return f},this.replace=function(a,b){var c=this.$options,d=this.$assembleRegExp(c);if(c.$isMultiLine)return b;if(d){var e=d.exec(a);if(!e||e[0].length!=a.length)return null;if(b=a.replace(d,b),c.preserveCase){b=b.split("");for(var f=Math.min(a.length,a.length);f--;){var g=a[f];g&&g.toLowerCase()!=g?b[f]=b[f].toUpperCase():b[f]=b[f].toLowerCase()}b=b.join("")}return b}},this.$matchIterator=function(a,b){var c=this.$assembleRegExp(b);if(!c)return!1;var d;if(b.$isMultiLine)var f=c.length,h=function(b,e,h){var i=b.search(c[0]);if(-1!=i){for(var j=1;f>j;j++)if(b=a.getLine(e+j),-1==b.search(c[j]))return;var k=b.match(c[f-1])[0].length,l=new g(e,i,e+f-1,k);return 1==c.offset?(l.start.row--,l.start.column=Number.MAX_VALUE):h&&(l.start.column+=h),d(l)?!0:void 0}};else if(b.backwards)var h=function(a,b,f){for(var g=e.getMatchOffsets(a,c),h=g.length-1;h>=0;h--)if(d(g[h],b,f))return!0};else var h=function(a,b,f){for(var g=e.getMatchOffsets(a,c),h=0;h<g.length;h++)if(d(g[h],b,f))return!0};var i=this.$lineIterator(a,b);return{forEach:function(a){d=a,i.forEach(h)}}},this.$assembleRegExp=function(a,b){if(a.needle instanceof RegExp)return a.re=a.needle;var c=a.needle;if(!a.needle)return a.re=!1;a.regExp||(c=e.escapeRegExp(c)),a.wholeWord&&(c=d(c,a));var f=a.caseSensitive?"gm":"gmi";if(a.$isMultiLine=!b&&/[\n\r]/.test(c),a.$isMultiLine)return a.re=this.$assembleMultilineRegExp(c,f);try{var g=new RegExp(c,f)}catch(h){g=!1}return a.re=g},this.$assembleMultilineRegExp=function(a,b){for(var c=a.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),d=[],e=0;e<c.length;e++)try{d.push(new RegExp(c[e],b))}catch(f){return!1}return""==c[0]?(d.shift(),d.offset=1):d.offset=0,d},this.$lineIterator=function(a,b){var c=1==b.backwards,d=0!=b.skipCurrent,e=b.range,f=b.start;f||(f=e?e[c?"end":"start"]:a.selection.getRange()),f.start&&(f=f[d!=c?"end":"start"]);var g=e?e.start.row:0,h=e?e.end.row:a.getLength()-1,i=c?function(c){var d=f.row,e=a.getLine(d).substring(0,f.column);if(!c(e,d)){for(d--;d>=g;d--)if(c(a.getLine(d),d))return;if(0!=b.wrap)for(d=h,g=f.row;d>=g;d--)if(c(a.getLine(d),d))return}}:function(c){var d=f.row,e=a.getLine(d).substr(f.column);if(!c(e,d,f.column)){for(d+=1;h>=d;d++)if(c(a.getLine(d),d))return;if(0!=b.wrap)for(d=g,h=f.row;h>=d;d++)if(c(a.getLine(d),d))return}};return{forEach:i}}}).call(h.prototype),b.Search=h}),define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(a,b,c){"use strict";function d(a,b){this.platform=b||(g.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(a),this.$singleCommand=!0}function e(a,b){d.call(this,a,b),this.$singleCommand=!1}var f=a("../lib/keys"),g=a("../lib/useragent"),h=f.KEY_MODS;e.prototype=d.prototype,function(){function a(a){return"object"==typeof a&&a.bindKey&&a.bindKey.position||0}this.addCommand=function(a){this.commands[a.name]&&this.removeCommand(a),this.commands[a.name]=a,a.bindKey&&this._buildKeyHash(a)},this.removeCommand=function(a,b){var c=a&&("string"==typeof a?a:a.name);a=this.commands[c],b||delete this.commands[c];var d=this.commandKeyBinding;for(var e in d){var f=d[e];if(f==a)delete d[e];else if(Array.isArray(f)){var g=f.indexOf(a);-1!=g&&(f.splice(g,1),1==f.length&&(d[e]=f[0]))}}},this.bindKey=function(a,b,c){return"object"==typeof a&&a&&(void 0==c&&(c=a.position),a=a[this.platform]),a?"function"==typeof b?this.addCommand({exec:b,bindKey:a,name:b.name||a}):void a.split("|").forEach(function(a){var d="";if(-1!=a.indexOf(" ")){var e=a.split(/\s+/);a=e.pop(),e.forEach(function(a){var b=this.parseKeys(a),c=h[b.hashId]+b.key;d+=(d?" ":"")+c,this._addCommandToBinding(d,"chainKeys")},this),d+=" "}var f=this.parseKeys(a),g=h[f.hashId]+f.key;this._addCommandToBinding(d+g,b,c)},this):void 0},this._addCommandToBinding=function(b,c,d){var e,f=this.commandKeyBinding;if(c)if(!f[b]||this.$singleCommand)f[b]=c;else{Array.isArray(f[b])?-1!=(e=f[b].indexOf(c))&&f[b].splice(e,1):f[b]=[f[b]],"number"!=typeof d&&(d=d||c.isDefault?-100:a(c));var g=f[b];for(e=0;e<g.length;e++){var h=g[e],i=a(h);if(i>d)break}g.splice(e,0,c)}else delete f[b]},this.addCommands=function(a){a&&Object.keys(a).forEach(function(b){var c=a[b];if(c){if("string"==typeof c)return this.bindKey(c,b);"function"==typeof c&&(c={exec:c}),"object"==typeof c&&(c.name||(c.name=b),this.addCommand(c))}},this)},this.removeCommands=function(a){Object.keys(a).forEach(function(b){this.removeCommand(a[b])},this)},this.bindKeys=function(a){Object.keys(a).forEach(function(b){this.bindKey(b,a[b])},this)},this._buildKeyHash=function(a){this.bindKey(a.bindKey,a)},this.parseKeys=function(a){var b=a.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(a){return a}),c=b.pop(),d=f[c];if(f.FUNCTION_KEYS[d])c=f.FUNCTION_KEYS[d].toLowerCase();else{if(!b.length)return{key:c,hashId:-1};if(1==b.length&&"shift"==b[0])return{key:c.toUpperCase(),hashId:-1}}for(var e=0,g=b.length;g--;){var h=f.KEY_MODS[b[g]];if(null==h)return"undefined"!=typeof console&&console.error("invalid modifier "+b[g]+" in "+a),!1;e|=h}return{key:c,hashId:e}},this.findKeyCommand=function(a,b){var c=h[a]+b;return this.commandKeyBinding[c]},this.handleKeyboard=function(a,b,c,d){if(!(0>d)){var e=h[b]+c,f=this.commandKeyBinding[e];return a.$keyChain&&(a.$keyChain+=" "+e,f=this.commandKeyBinding[a.$keyChain]||f),!f||"chainKeys"!=f&&"chainKeys"!=f[f.length-1]?(a.$keyChain&&(b&&4!=b||1!=c.length?(-1==b||d>0)&&(a.$keyChain=""):a.$keyChain=a.$keyChain.slice(0,-e.length-1)),{command:f}):(a.$keyChain=a.$keyChain||e,{command:"null"})}},this.getStatusText=function(a,b){return b.$keyChain||""}}.call(d.prototype),b.HashHandler=d,b.MultiHashHandler=e}),define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(a,b,c){"use strict";var d=a("../lib/oop"),e=a("../keyboard/hash_handler").MultiHashHandler,f=a("../lib/event_emitter").EventEmitter,g=function(a,b){e.call(this,b,a),this.byName=this.commands,this.setDefaultHandler("exec",function(a){return a.command.exec(a.editor,a.args||{})})};d.inherits(g,e),function(){d.implement(this,f),this.exec=function(a,b,c){if(Array.isArray(a)){for(var d=a.length;d--;)if(this.exec(a[d],b,c))return!0;return!1}if("string"==typeof a&&(a=this.commands[a]),!a)return!1;if(b&&b.$readOnly&&!a.readOnly)return!1;var e={editor:b,command:a,args:c};return e.returnValue=this._emit("exec",e),this._signal("afterExec",e),e.returnValue===!1?!1:!0},this.toggleRecording=function(a){return this.$inReplay?void 0:(a&&a._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(a){this.macro.push([a.command,a.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0))},this.replay=function(a){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(a);try{this.$inReplay=!0,this.macro.forEach(function(b){"string"==typeof b?this.exec(b,a):this.exec(b[0],a,b[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(a){return a.map(function(a){return"string"!=typeof a[0]&&(a[0]=a[0].name),a[1]||(a=a[0]),a})}}.call(g.prototype),b.CommandManager=g}),define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(a,b,c){"use strict";function d(a,b){return{win:a,mac:b}}var e=a("../lib/lang"),f=a("../config"),g=a("../range").Range;b.commands=[{name:"showSettingsMenu",bindKey:d("Ctrl-,","Command-,"),exec:function(a){f.loadModule("ace/ext/settings_menu",function(b){b.init(a),a.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:d("Alt-E","F4"),exec:function(a){f.loadModule("ace/ext/error_marker",function(b){b.showErrorMarker(a,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:d("Alt-Shift-E","Shift-F4"),exec:function(a){f.loadModule("ace/ext/error_marker",function(b){b.showErrorMarker(a,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:d("Ctrl-A","Command-A"),exec:function(a){a.selectAll()},readOnly:!0},{name:"centerselection",bindKey:d(null,"Ctrl-L"),exec:function(a){a.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:d("Ctrl-L","Command-L"),exec:function(a){var b=parseInt(prompt("Enter line number:"),10);isNaN(b)||a.gotoLine(b)},readOnly:!0},{name:"fold",bindKey:d("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(a){a.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:d("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(a){a.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:d("F2","F2"),exec:function(a){a.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:d("Alt-F2","Alt-F2"),exec:function(a){a.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:d(null,"Ctrl-Command-Option-0"),exec:function(a){a.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:d("Alt-0","Command-Option-0"),exec:function(a){a.session.foldAll(),a.session.unfold(a.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:d("Alt-Shift-0","Command-Option-Shift-0"),exec:function(a){a.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:d("Ctrl-K","Command-G"),exec:function(a){a.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:d("Ctrl-Shift-K","Command-Shift-G"),exec:function(a){a.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",bindKey:d("Alt-K","Ctrl-G"),exec:function(a){a.selection.isEmpty()?a.selection.selectWord():a.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:d("Alt-Shift-K","Ctrl-Shift-G"),exec:function(a){a.selection.isEmpty()?a.selection.selectWord():a.findPrevious()},readOnly:!0},{name:"find",bindKey:d("Ctrl-F","Command-F"),exec:function(a){f.loadModule("ace/ext/searchbox",function(b){b.Search(a)})},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(a){a.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:d("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(a){a.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:d("Ctrl-Home","Command-Home|Command-Up"),exec:function(a){a.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:d("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(a){a.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",bindKey:d("Up","Up|Ctrl-P"),exec:function(a,b){a.navigateUp(b.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",bindKey:d("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(a){a.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",bindKey:d("Ctrl-End","Command-End|Command-Down"),exec:function(a){a.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:d("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(a){a.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:d("Down","Down|Ctrl-N"),exec:function(a,b){a.navigateDown(b.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",bindKey:d("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(a){a.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:d("Ctrl-Left","Option-Left"),exec:function(a){a.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:d("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(a){a.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:d("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(a){a.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",
bindKey:d("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(a){a.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:d("Left","Left|Ctrl-B"),exec:function(a,b){a.navigateLeft(b.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:d("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(a){a.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:d("Ctrl-Right","Option-Right"),exec:function(a){a.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:d("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(a){a.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:d("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(a){a.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:d("Shift-Right","Shift-Right"),exec:function(a){a.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:d("Right","Right|Ctrl-F"),exec:function(a,b){a.navigateRight(b.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(a){a.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:d(null,"Option-PageDown"),exec:function(a){a.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:d("PageDown","PageDown|Ctrl-V"),exec:function(a){a.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(a){a.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:d(null,"Option-PageUp"),exec:function(a){a.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(a){a.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:d("Ctrl-Up",null),exec:function(a){a.renderer.scrollBy(0,-2*a.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:d("Ctrl-Down",null),exec:function(a){a.renderer.scrollBy(0,2*a.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(a){a.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(a){a.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:d("Ctrl-Alt-E","Command-Option-E"),exec:function(a){a.commands.toggleRecording(a)},readOnly:!0},{name:"replaymacro",bindKey:d("Ctrl-Shift-E","Command-Shift-E"),exec:function(a){a.commands.replay(a)},readOnly:!0},{name:"jumptomatching",bindKey:d("Ctrl-P","Ctrl-P"),exec:function(a){a.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",bindKey:d("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(a){a.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",bindKey:d("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(a){a.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",bindKey:d(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",exec:function(a){},readOnly:!0},{name:"cut",exec:function(a){var b=a.getSelectionRange();a._emit("cut",b),a.selection.isEmpty()||(a.session.remove(b),a.clearSelection())},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",exec:function(a,b){a.$handlePaste(b)},scrollIntoView:"cursor"},{name:"removeline",bindKey:d("Ctrl-D","Command-D"),exec:function(a){a.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:d("Ctrl-Shift-D","Command-Shift-D"),exec:function(a){a.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:d("Ctrl-Alt-S","Command-Alt-S"),exec:function(a){a.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:d("Ctrl-/","Command-/"),exec:function(a){a.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",bindKey:d("Ctrl-Shift-/","Command-Shift-/"),exec:function(a){a.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:d("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(a){a.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:d("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(a){a.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",bindKey:d("Ctrl-H","Command-Option-F"),exec:function(a){f.loadModule("ace/ext/searchbox",function(b){b.Search(a,!0)})}},{name:"undo",bindKey:d("Ctrl-Z","Command-Z"),exec:function(a){a.undo()}},{name:"redo",bindKey:d("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(a){a.redo()}},{name:"copylinesup",bindKey:d("Alt-Shift-Up","Command-Option-Up"),exec:function(a){a.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:d("Alt-Up","Option-Up"),exec:function(a){a.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:d("Alt-Shift-Down","Command-Option-Down"),exec:function(a){a.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:d("Alt-Down","Option-Down"),exec:function(a){a.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:d("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(a){a.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:d("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(a){a.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:d("Shift-Delete",null),exec:function(a){return a.selection.isEmpty()?void a.remove("left"):!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:d("Alt-Backspace","Command-Backspace"),exec:function(a){a.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:d("Alt-Delete","Ctrl-K"),exec:function(a){a.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",bindKey:d("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(a){a.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:d("Ctrl-Delete","Alt-Delete"),exec:function(a){a.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:d("Shift-Tab","Shift-Tab"),exec:function(a){a.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:d("Tab","Tab"),exec:function(a){a.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:d("Ctrl-[","Ctrl-["),exec:function(a){a.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:d("Ctrl-]","Ctrl-]"),exec:function(a){a.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(a,b){a.insert(b)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",exec:function(a,b){a.insert(e.stringRepeat(b.text||"",b.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:d(null,"Ctrl-O"),exec:function(a){a.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:d("Ctrl-T","Ctrl-T"),exec:function(a){a.transposeLetters()},multiSelectAction:function(a){a.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:d("Ctrl-U","Ctrl-U"),exec:function(a){a.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:d("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(a){a.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:d("Ctrl-Shift-L","Command-Shift-L"),exec:function(a){var b=a.selection.getRange();b.start.column=b.end.column=0,b.end.row++,a.selection.setRange(b,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:d(null,null),exec:function(a){for(var b=a.selection.isBackwards(),c=b?a.selection.getSelectionLead():a.selection.getSelectionAnchor(),d=b?a.selection.getSelectionAnchor():a.selection.getSelectionLead(),f=a.session.doc.getLine(c.row).length,h=a.session.doc.getTextRange(a.selection.getRange()),i=h.replace(/\n\s*/," ").length,j=a.session.doc.getLine(c.row),k=c.row+1;k<=d.row+1;k++){var l=e.stringTrimLeft(e.stringTrimRight(a.session.doc.getLine(k)));0!==l.length&&(l=" "+l),j+=l}d.row+1<a.session.doc.getLength()-1&&(j+=a.session.doc.getNewLineCharacter()),a.clearSelection(),a.session.doc.replace(new g(c.row,0,d.row+2,0),j),i>0?(a.selection.moveCursorTo(c.row,c.column),a.selection.selectTo(c.row,c.column+i)):(f=a.session.doc.getLine(c.row).length>f?f+1:f,a.selection.moveCursorTo(c.row,f))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:d(null,null),exec:function(a){var b=a.session.doc.getLength()-1,c=a.session.doc.getLine(b).length,d=a.selection.rangeList.ranges,e=[];d.length<1&&(d=[a.selection.getRange()]);for(var f=0;f<d.length;f++)f==d.length-1&&(d[f].end.row!==b||d[f].end.column!==c)&&e.push(new g(d[f].end.row,d[f].end.column,b,c)),0===f?(0!==d[f].start.row||0!==d[f].start.column)&&e.push(new g(0,0,d[f].start.row,d[f].start.column)):e.push(new g(d[f-1].end.row,d[f-1].end.column,d[f].start.row,d[f].start.column));a.exitMultiSelectMode(),a.clearSelection();for(var f=0;f<e.length;f++)a.selection.addRange(e[f],!1)},readOnly:!0,scrollIntoView:"none"}]}),define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator"],function(a,b,c){"use strict";a("./lib/fixoldbrowsers");var d=a("./lib/oop"),e=a("./lib/dom"),f=a("./lib/lang"),g=a("./lib/useragent"),h=a("./keyboard/textinput").TextInput,i=a("./mouse/mouse_handler").MouseHandler,j=a("./mouse/fold_handler").FoldHandler,k=a("./keyboard/keybinding").KeyBinding,l=a("./edit_session").EditSession,m=a("./search").Search,n=a("./range").Range,o=a("./lib/event_emitter").EventEmitter,p=a("./commands/command_manager").CommandManager,q=a("./commands/default_commands").commands,r=a("./config"),s=a("./token_iterator").TokenIterator,t=function(a,b){var c=a.getContainerElement();this.container=c,this.renderer=a,this.commands=new p(g.isMac?"mac":"win",q),this.textInput=new h(a.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.keyBinding=new k(this),this.$mouseHandler=new i(this),new j(this),this.$blockScrolling=0,this.$search=(new m).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=f.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(a,b){b._$emitInputEvent.schedule(31)}),this.setSession(b||new l("")),r.resetOptions(this),r._signal("editor",this)};(function(){d.implement(this,o),this.$initOperationListeners=function(){this.selections=[],this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=f.delayedCall(this.endOperation.bind(this)),this.on("change",function(){this.curOp||this.startOperation(),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||this.startOperation(),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(a){if(this.curOp){if(!a||this.curOp.command)return;this.prevOp=this.curOp}a||(this.previousCommand=null,a={}),this.$opResetTimer.schedule(),this.curOp={command:a.command||{},args:a.args,scrollTop:this.renderer.scrollTop},this.curOp.command.name&&void 0!==this.curOp.command.scrollIntoView&&this.$blockScrolling++},this.endOperation=function(a){if(this.curOp){if(a&&a.returnValue===!1)return this.curOp=null;this._signal("beforeEndOperation");var b=this.curOp.command;b.name&&this.$blockScrolling>0&&this.$blockScrolling--;var c=b&&b.scrollIntoView;if(c){switch(c){case"center-animate":c="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var d=this.selection.getRange(),e=this.renderer.layerConfig;(d.start.row>=e.lastRow||d.end.row<=e.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==c&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(a){if(this.$mergeUndoDeltas){var b=this.prevOp,c=this.$mergeableCommands,d=b.command&&a.command.name==b.command.name;if("insertstring"==a.command.name){var e=a.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),d=d&&this.mergeNextCommand&&(!/\s/.test(e)||/\s/.test(b.args)),this.mergeNextCommand=!0}else d=d&&-1!==c.indexOf(a.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(d=!1),d?this.session.mergeUndoDeltas=!0:-1!==c.indexOf(a.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(a,b){if(a&&"string"==typeof a){this.$keybindingId=a;var c=this;r.loadModule(["keybinding",a],function(d){c.$keybindingId==a&&c.keyBinding.setKeyboardHandler(d&&d.handler),b&&b()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(a),b&&b()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(a){if(this.session!=a){this.curOp&&this.endOperation(),this.curOp={};var b=this.session;if(b){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var c=this.session.getSelection();c.off("changeCursor",this.$onCursorChange),c.off("changeSelection",this.$onSelectionChange)}this.session=a,a?(this.$onDocumentChange=this.onDocumentChange.bind(this),a.on("change",this.$onDocumentChange),this.renderer.setSession(a),this.$onChangeMode=this.onChangeMode.bind(this),a.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),a.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),a.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),a.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),a.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),a.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=a.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),this.$blockScrolling-=1,this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(a)),this._signal("changeSession",{session:a,oldSession:b}),this.curOp=null,b&&b._signal("changeEditor",{oldEditor:this}),a&&a._signal("changeEditor",{editor:this})}},this.getSession=function(){return this.session},this.setValue=function(a,b){return this.session.doc.setValue(a),b?1==b?this.navigateFileEnd():-1==b&&this.navigateFileStart():this.selectAll(),a},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(a){this.renderer.onResize(a)},this.setTheme=function(a,b){this.renderer.setTheme(a,b)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(a){this.renderer.setStyle(a)},this.unsetStyle=function(a){this.renderer.unsetStyle(a)},this.getFontSize=function(){return this.getOption("fontSize")||e.computedStyle(this.container,"fontSize")},this.setFontSize=function(a){this.setOption("fontSize",a)},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var a=this;this.$highlightPending=!0,setTimeout(function(){a.$highlightPending=!1;var b=a.session;if(b&&b.bgTokenizer){var c=b.findMatchingBracket(a.getCursorPosition());if(c)var d=new n(c.row,c.column,c.row,c.column+1);else if(b.$mode.getMatching)var d=b.$mode.getMatching(a.session);d&&(b.$bracketHighlight=b.addMarker(d,"ace_bracket","text"))}},50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var a=this;this.$highlightTagPending=!0,setTimeout(function(){a.$highlightTagPending=!1;var b=a.session;if(b&&b.bgTokenizer){var c=a.getCursorPosition(),d=new s(a.session,c.row,c.column),e=d.getCurrentToken();if(!e||!/\b(?:tag-open|tag-name)/.test(e.type))return b.removeMarker(b.$tagHighlight),void(b.$tagHighlight=null);if(-1==e.type.indexOf("tag-open")||(e=d.stepForward())){var f=e.value,g=0,h=d.stepBackward();if("<"==h.value){do h=e,e=d.stepForward(),e&&e.value===f&&-1!==e.type.indexOf("tag-name")&&("<"===h.value?g++:"</"===h.value&&g--);while(e&&g>=0)}else{do e=h,h=d.stepBackward(),e&&e.value===f&&-1!==e.type.indexOf("tag-name")&&("<"===h.value?g++:"</"===h.value&&g--);while(h&&0>=g);d.stepForward()}if(!e)return b.removeMarker(b.$tagHighlight),void(b.$tagHighlight=null);var i=d.getCurrentTokenRow(),j=d.getCurrentTokenColumn(),k=new n(i,j,i,j+e.value.length),l=b.$backMarkers[b.$tagHighlight];b.$tagHighlight&&void 0!=l&&0!==k.compareRange(l.range)&&(b.removeMarker(b.$tagHighlight),b.$tagHighlight=null),k&&!b.$tagHighlight&&(b.$tagHighlight=b.addMarker(k,"ace_bracket","text"))}}},50)}},this.focus=function(){var a=this;setTimeout(function(){a.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(a){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",a))},this.onBlur=function(a){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",a))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(a){var b=this.session.$useWrapMode,c=a.start.row==a.end.row?a.end.row:1/0;this.renderer.updateLines(a.start.row,c,b),this._signal("change",a),this.$cursorChange(),this.$updateHighlightActiveLine()},this.onTokenizerUpdate=function(a){var b=a.data;this.renderer.updateLines(b.first,b.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$blockScrolling||(r.warn("Automatically scrolling cursor into view after selection change","this will be disabled in the next version","set editor.$blockScrolling = Infinity to disable this message"),this.renderer.scrollCursorIntoView()),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var a,b=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(a=this.getCursorPosition()),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(a=!1)),b.$highlightLineMarker&&!a)b.removeMarker(b.$highlightLineMarker.id),b.$highlightLineMarker=null;else if(!b.$highlightLineMarker&&a){var c=new n(a.row,a.column,a.row,1/0);c.id=b.addMarker(c,"ace_active-line","screenLine"),b.$highlightLineMarker=c}else a&&(b.$highlightLineMarker.start.row=a.row,b.$highlightLineMarker.end.row=a.row,b.$highlightLineMarker.start.column=a.column,b._signal("changeBackMarker"))},this.onSelectionChange=function(a){var b=this.session;if(b.$selectionMarker&&b.removeMarker(b.$selectionMarker),b.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var c=this.selection.getRange(),d=this.getSelectionStyle();b.$selectionMarker=b.addMarker(c,"ace_selection",d)}var e=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(e),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var a=this.session,b=this.getSelectionRange();if(!b.isEmpty()&&!b.isMultiLine()){var c=b.start.column-1,d=b.end.column+1,e=a.getLine(b.start.row),f=e.length,g=e.substring(Math.max(c,0),Math.min(d,f));if(!(c>=0&&/^[\w\d]/.test(g)||f>=d&&/[\w\d]$/.test(g))&&(g=e.substring(b.start.column,b.end.column),/^[\w\d]+$/.test(g))){var h=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:g});return h}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(a){this.renderer.updateText(),this._emit("changeMode",a)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var a=this.getSelectedText();return this._signal("copy",a),a},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(a,b){var c={text:a,event:b};this.commands.exec("paste",this,c)},this.$handlePaste=function(a){"string"==typeof a&&(a={text:a}),this._signal("paste",a);var b=a.text;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)this.insert(b);else{var c=b.split(/\r\n|\r|\n/),d=this.selection.rangeList.ranges;if(c.length>d.length||c.length<2||!c[1])return this.commands.exec("insertstring",this,b);for(var e=d.length;e--;){var f=d[e];f.isEmpty()||this.session.remove(f),this.session.insert(f.start,c[e])}}},this.execCommand=function(a,b){return this.commands.exec(a,this,b)},this.insert=function(a,b){var c=this.session,d=c.getMode(),e=this.getCursorPosition();if(this.getBehavioursEnabled()&&!b){var f=d.transformAction(c.getState(e.row),"insertion",this,c,a);f&&(a!==f.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=!1),a=f.text)}if("	"==a&&(a=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()){var g=new n.fromPoints(e,e);g.end.column+=a.length,this.session.remove(g)}}else{var g=this.getSelectionRange();e=this.session.remove(g),this.clearSelection()}if("\n"==a||"\r\n"==a){var h=c.getLine(e.row);if(e.column>h.search(/\S|$/)){var i=h.substr(e.column).search(/\S|$/);c.doc.removeInLine(e.row,e.column,e.column+i)}}this.clearSelection();var j=e.column,k=c.getState(e.row),h=c.getLine(e.row),l=d.checkOutdent(k,h,a);c.insert(e,a);if(f&&f.selection&&(2==f.selection.length?this.selection.setSelectionRange(new n(e.row,j+f.selection[0],e.row,j+f.selection[1])):this.selection.setSelectionRange(new n(e.row+f.selection[0],f.selection[1],e.row+f.selection[2],f.selection[3]))),c.getDocument().isNewLine(a)){var m=d.getNextLineIndent(k,h.slice(0,e.column),c.getTabString());c.insert({row:e.row+1,column:0},m)}l&&d.autoOutdent(k,c,e.row)},this.onTextInput=function(a){this.keyBinding.onTextInput(a)},this.onCommandKey=function(a,b,c){this.keyBinding.onCommandKey(a,b,c)},this.setOverwrite=function(a){this.session.setOverwrite(a)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(a){this.setOption("scrollSpeed",a)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(a){this.setOption("dragDelay",a)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(a){this.setOption("selectionStyle",a)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(a){this.setOption("highlightActiveLine",a)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(a){this.setOption("highlightGutterLine",a)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(a){this.setOption("highlightSelectedWord",a)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(a){this.renderer.setAnimatedScroll(a)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(a){this.renderer.setShowInvisibles(a)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(a){this.renderer.setDisplayIndentGuides(a)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(a){this.renderer.setShowPrintMargin(a)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(a){this.renderer.setPrintMarginColumn(a)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(a){this.setOption("readOnly",a)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(a){this.setOption("behavioursEnabled",a)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(a){this.setOption("wrapBehavioursEnabled",a)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(a){this.setOption("showFoldWidgets",a)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(a){this.setOption("fadeFoldWidgets",a)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(a){this.selection.isEmpty()&&("left"==a?this.selection.selectLeft():this.selection.selectRight());var b=this.getSelectionRange();if(this.getBehavioursEnabled()){var c=this.session,d=c.getState(b.start.row),e=c.getMode().transformAction(d,"deletion",this,c,b);if(0===b.end.column){var f=c.getTextRange(b);if("\n"==f[f.length-1]){var g=c.getLine(b.end.row);/^\s+$/.test(g)&&(b.end.column=g.length)}}e&&(b=e)}this.session.remove(b),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var a=this.getSelectionRange();a.start.column==a.end.column&&a.start.row==a.end.row&&(a.end.column=0,a.end.row++),this.session.remove(a),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var a=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(a)},this.transposeLetters=function(){if(this.selection.isEmpty()){var a=this.getCursorPosition(),b=a.column;if(0!==b){var c,d,e=this.session.getLine(a.row);b<e.length?(c=e.charAt(b)+e.charAt(b-1),d=new n(a.row,b-1,a.row,b+1)):(c=e.charAt(b-1)+e.charAt(b-2),d=new n(a.row,b-2,a.row,b)),this.session.replace(d,c)}}},this.toLowerCase=function(){var a=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var b=this.getSelectionRange(),c=this.session.getTextRange(b);this.session.replace(b,c.toLowerCase()),this.selection.setSelectionRange(a)},this.toUpperCase=function(){var a=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var b=this.getSelectionRange(),c=this.session.getTextRange(b);this.session.replace(b,c.toUpperCase()),this.selection.setSelectionRange(a)},this.indent=function(){var a=this.session,b=this.getSelectionRange();if(b.start.row<b.end.row){var c=this.$getSelectedRows();return void a.indentRows(c.first,c.last,"	")}if(b.start.column<b.end.column){var d=a.getTextRange(b);if(!/^\s+$/.test(d)){var c=this.$getSelectedRows();return void a.indentRows(c.first,c.last,"	")}}var e=a.getLine(b.start.row),g=b.start,h=a.getTabSize(),i=a.documentToScreenColumn(g.row,g.column);if(this.session.getUseSoftTabs())var j=h-i%h,k=f.stringRepeat(" ",j);else{for(var j=i%h;" "==e[b.start.column-1]&&j;)b.start.column--,j--;this.selection.setSelectionRange(b),k="	"}return this.insert(k)},this.blockIndent=function(){var a=this.$getSelectedRows();this.session.indentRows(a.first,a.last,"	")},this.blockOutdent=function(){var a=this.session.getSelection();this.session.outdentRows(a.getRange())},this.sortLines=function(){var a=this.$getSelectedRows(),b=this.session,c=[];for(e=a.first;e<=a.last;e++)c.push(b.getLine(e));c.sort(function(a,b){return a.toLowerCase()<b.toLowerCase()?-1:a.toLowerCase()>b.toLowerCase()?1:0});for(var d=new n(0,0,0,0),e=a.first;e<=a.last;e++){
var f=b.getLine(e);d.start.row=e,d.end.row=e,d.end.column=f.length,b.replace(d,c[e-a.first])}},this.toggleCommentLines=function(){var a=this.session.getState(this.getCursorPosition().row),b=this.$getSelectedRows();this.session.getMode().toggleCommentLines(a,this.session,b.first,b.last)},this.toggleBlockComment=function(){var a=this.getCursorPosition(),b=this.session.getState(a.row),c=this.getSelectionRange();this.session.getMode().toggleBlockComment(b,this.session,c,a)},this.getNumberAt=function(a,b){var c=/[\-]?[0-9]+(?:\.[0-9]+)?/g;c.lastIndex=0;for(var d=this.session.getLine(a);c.lastIndex<b;){var e=c.exec(d);if(e.index<=b&&e.index+e[0].length>=b){var f={value:e[0],start:e.index,end:e.index+e[0].length};return f}}return null},this.modifyNumber=function(a){var b=this.selection.getCursor().row,c=this.selection.getCursor().column,d=new n(b,c-1,b,c),e=this.session.getTextRange(d);if(!isNaN(parseFloat(e))&&isFinite(e)){var f=this.getNumberAt(b,c);if(f){var g=f.value.indexOf(".")>=0?f.start+f.value.indexOf(".")+1:f.end,h=f.start+f.value.length-g,i=parseFloat(f.value);i*=Math.pow(10,h),a*=g!==f.end&&g>c?Math.pow(10,f.end-c-1):Math.pow(10,f.end-c),i+=a,i/=Math.pow(10,h);var j=i.toFixed(h),k=new n(b,f.start,b,f.end);this.session.replace(k,j),this.moveCursorTo(b,Math.max(f.start+1,c+j.length-f.value.length))}}},this.removeLines=function(){var a=this.$getSelectedRows();this.session.removeFullLines(a.first,a.last),this.clearSelection()},this.duplicateSelection=function(){var a=this.selection,b=this.session,c=a.getRange(),d=a.isBackwards();if(c.isEmpty()){var e=c.start.row;b.duplicateLines(e,e)}else{var f=d?c.start:c.end,g=b.insert(f,b.getTextRange(c),!1);c.start=f,c.end=g,a.setSelectionRange(c,d)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(a,b,c){return this.session.moveText(a,b,c)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(a,b){var c,d,e=this.selection;if(!e.inMultiSelectMode||this.inVirtualSelectionMode){var f=e.toOrientedRange();c=this.$getSelectedRows(f),d=this.session.$moveLines(c.first,c.last,b?0:a),b&&-1==a&&(d=0),f.moveBy(d,0),e.fromOrientedRange(f)}else{var g=e.rangeList.ranges;e.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var h=0,i=0,j=g.length,k=0;j>k;k++){var l=k;g[k].moveBy(h,0),c=this.$getSelectedRows(g[k]);for(var m=c.first,n=c.last;++k<j;){i&&g[k].moveBy(i,0);var o=this.$getSelectedRows(g[k]);if(b&&o.first!=n)break;if(!b&&o.first>n+1)break;n=o.last}for(k--,h=this.session.$moveLines(m,n,b?0:a),b&&-1==a&&(l=k+1);k>=l;)g[l].moveBy(h,0),l++;b||(h=0),i+=h}e.fromOrientedRange(e.ranges[0]),e.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(a){return a=(a||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(a.start.row),last:this.session.getRowFoldEnd(a.end.row)}},this.onCompositionStart=function(a){this.renderer.showComposition(this.getCursorPosition())},this.onCompositionUpdate=function(a){this.renderer.setCompositionText(a)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(a){return a>=this.getFirstVisibleRow()&&a<=this.getLastVisibleRow()},this.isRowFullyVisible=function(a){return a>=this.renderer.getFirstFullyVisibleRow()&&a<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(a,b){var c=this.renderer,d=this.renderer.layerConfig,e=a*Math.floor(d.height/d.lineHeight);this.$blockScrolling++,b===!0?this.selection.$moveSelection(function(){this.moveCursorBy(e,0)}):b===!1&&(this.selection.moveCursorBy(e,0),this.selection.clearSelection()),this.$blockScrolling--;var f=c.scrollTop;c.scrollBy(0,e*d.lineHeight),null!=b&&c.scrollCursorIntoView(null,.5),c.animateScrolling(f)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(a){this.renderer.scrollToRow(a)},this.scrollToLine=function(a,b,c,d){this.renderer.scrollToLine(a,b,c,d)},this.centerSelection=function(){var a=this.getSelectionRange(),b={row:Math.floor(a.start.row+(a.end.row-a.start.row)/2),column:Math.floor(a.start.column+(a.end.column-a.start.column)/2)};this.renderer.alignCursor(b,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.$blockScrolling+=1,this.selection.selectAll(),this.$blockScrolling-=1},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(a,b){this.selection.moveCursorTo(a,b)},this.moveCursorToPosition=function(a){this.selection.moveCursorToPosition(a)},this.jumpToMatching=function(a,b){var c=this.getCursorPosition(),d=new s(this.session,c.row,c.column),e=d.getCurrentToken(),f=e||d.stepForward();if(f){var g,h,i=!1,j={},k=c.column-f.start,l={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(f.value.match(/[{}()\[\]]/g)){for(;k<f.value.length&&!i;k++)if(l[f.value[k]])switch(h=l[f.value[k]]+"."+f.type.replace("rparen","lparen"),isNaN(j[h])&&(j[h]=0),f.value[k]){case"(":case"[":case"{":j[h]++;break;case")":case"]":case"}":j[h]--,-1===j[h]&&(g="bracket",i=!0)}}else f&&-1!==f.type.indexOf("tag-name")&&(isNaN(j[f.value])&&(j[f.value]=0),"<"===e.value?j[f.value]++:"</"===e.value&&j[f.value]--,-1===j[f.value]&&(g="tag",i=!0));i||(e=f,f=d.stepForward(),k=0)}while(f&&!i);if(g){var m,o;if("bracket"===g)m=this.session.getBracketRange(c),m||(m=new n(d.getCurrentTokenRow(),d.getCurrentTokenColumn()+k-1,d.getCurrentTokenRow(),d.getCurrentTokenColumn()+k-1),o=m.start,(b||o.row===c.row&&Math.abs(o.column-c.column)<2)&&(m=this.session.getBracketRange(o)));else if("tag"===g){if(!f||-1===f.type.indexOf("tag-name"))return;var p=f.value;if(m=new n(d.getCurrentTokenRow(),d.getCurrentTokenColumn()-2,d.getCurrentTokenRow(),d.getCurrentTokenColumn()-2),0===m.compare(c.row,c.column)){i=!1;do f=e,e=d.stepBackward(),e&&(-1!==e.type.indexOf("tag-close")&&m.setEnd(d.getCurrentTokenRow(),d.getCurrentTokenColumn()+1),f.value===p&&-1!==f.type.indexOf("tag-name")&&("<"===e.value?j[p]++:"</"===e.value&&j[p]--,0===j[p]&&(i=!0)));while(e&&!i)}f&&f.type.indexOf("tag-name")&&(o=m.start,o.row==c.row&&Math.abs(o.column-c.column)<2&&(o=m.end))}o=m&&m.cursor||o,o&&(a?m&&b?this.selection.setRange(m):m&&m.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(o.row,o.column):this.selection.moveTo(o.row,o.column))}}},this.gotoLine=function(a,b,c){this.selection.clearSelection(),this.session.unfold({row:a-1,column:b||0}),this.$blockScrolling+=1,this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(a-1,b||0),this.$blockScrolling-=1,this.isRowFullyVisible(a-1)||this.scrollToLine(a-1,!0,c)},this.navigateTo=function(a,b){this.selection.moveTo(a,b)},this.navigateUp=function(a){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var b=this.selection.anchor.getPosition();return this.moveCursorToPosition(b)}this.selection.clearSelection(),this.selection.moveCursorBy(-a||-1,0)},this.navigateDown=function(a){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var b=this.selection.anchor.getPosition();return this.moveCursorToPosition(b)}this.selection.clearSelection(),this.selection.moveCursorBy(a||1,0)},this.navigateLeft=function(a){if(this.selection.isEmpty())for(a=a||1;a--;)this.selection.moveCursorLeft();else{var b=this.getSelectionRange().start;this.moveCursorToPosition(b)}this.clearSelection()},this.navigateRight=function(a){if(this.selection.isEmpty())for(a=a||1;a--;)this.selection.moveCursorRight();else{var b=this.getSelectionRange().end;this.moveCursorToPosition(b)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(a,b){b&&this.$search.set(b);var c=this.$search.find(this.session),d=0;return c?(this.$tryReplace(c,a)&&(d=1),null!==c&&(this.selection.setSelectionRange(c),this.renderer.scrollSelectionIntoView(c.start,c.end)),d):d},this.replaceAll=function(a,b){b&&this.$search.set(b);var c=this.$search.findAll(this.session),d=0;if(!c.length)return d;this.$blockScrolling+=1;var e=this.getSelectionRange();this.selection.moveTo(0,0);for(var f=c.length-1;f>=0;--f)this.$tryReplace(c[f],a)&&d++;return this.selection.setSelectionRange(e),this.$blockScrolling-=1,d},this.$tryReplace=function(a,b){var c=this.session.getTextRange(a);return b=this.$search.replace(c,b),null!==b?(a.end=this.session.replace(a,b),a):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(a,b,c){b||(b={}),"string"==typeof a||a instanceof RegExp?b.needle=a:"object"==typeof a&&d.mixin(b,a);var e=this.selection.getRange();null==b.needle&&(a=this.session.getTextRange(e)||this.$search.$options.needle,a||(e=this.session.getWordRange(e.start.row,e.start.column),a=this.session.getTextRange(e)),this.$search.set({needle:a})),this.$search.set(b),b.start||this.$search.set({start:e});var f=this.$search.find(this.session);return b.preventScroll?f:f?(this.revealRange(f,c),f):(b.backwards?e.start=e.end:e.end=e.start,void this.selection.setRange(e))},this.findNext=function(a,b){this.find({skipCurrent:!0,backwards:!1},a,b)},this.findPrevious=function(a,b){this.find(a,{skipCurrent:!0,backwards:!0},b)},this.revealRange=function(a,b){this.$blockScrolling+=1,this.session.unfold(a),this.selection.setSelectionRange(a),this.$blockScrolling-=1;var c=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(a.start,a.end,.5),b!==!1&&this.renderer.animateScrolling(c)},this.undo=function(){this.$blockScrolling++,this.session.getUndoManager().undo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.$blockScrolling++,this.session.getUndoManager().redo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy()},this.setAutoScrollEditorIntoView=function(a){if(a){var b,c=this,d=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var e=this.$scrollAnchor;e.style.cssText="position:absolute",this.container.insertBefore(e,this.container.firstChild);var f=this.on("changeSelection",function(){d=!0}),g=this.renderer.on("beforeRender",function(){d&&(b=c.renderer.container.getBoundingClientRect())}),h=this.renderer.on("afterRender",function(){if(d&&b&&(c.isFocused()||c.searchBox&&c.searchBox.isFocused())){var a=c.renderer,f=a.$cursorLayer.$pixelPos,g=a.layerConfig,h=f.top-g.offset;d=f.top>=0&&h+b.top<0?!0:f.top<g.height&&f.top+b.top+g.lineHeight>window.innerHeight?!1:null,null!=d&&(e.style.top=h+"px",e.style.left=f.left+"px",e.style.height=g.lineHeight+"px",e.scrollIntoView(d)),d=b=null}});this.setAutoScrollEditorIntoView=function(a){a||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",f),this.renderer.off("afterRender",h),this.renderer.off("beforeRender",g))}}},this.$resetCursorStyle=function(){var a=this.$cursorStyle||"ace",b=this.renderer.$cursorLayer;b&&(b.setSmoothBlinking(/smooth/.test(a)),b.isBlinking=!this.$readOnly&&"wide"!=a,e.setCssClass(b.element,"ace_slim-cursors",/slim/.test(a)))}}).call(t.prototype),r.defineOptions(t.prototype,"editor",{selectionStyle:{set:function(a){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:a})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(a){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(a){this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(a){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(a){this.setAutoScrollEditorIntoView(a)}},keyboardHandler:{set:function(a){this.setKeyboardHandler(a)},get:function(){return this.keybindingId},handlesSet:!0},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showLineNumbers:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"}),b.Editor=t}),define("ace/undomanager",["require","exports","module"],function(a,b,c){"use strict";var d=function(){this.reset()};(function(){function a(a){return{action:a.action,start:a.start,end:a.end,lines:1==a.lines.length?null:a.lines,text:1==a.lines.length?a.lines[0]:null}}function b(a){return{action:a.action,start:a.start,end:a.end,lines:a.lines||[a.text]}}function c(a,b){for(var c=new Array(a.length),d=0;d<a.length;d++){for(var e=a[d],f={group:e.group,deltas:new Array(e.length)},g=0;g<e.deltas.length;g++){var h=e.deltas[g];f.deltas[g]=b(h)}c[d]=f}return c}this.execute=function(a){var b=a.args[0];this.$doc=a.args[1],a.merge&&this.hasUndo()&&(this.dirtyCounter--,b=this.$undoStack.pop().concat(b)),this.$undoStack.push(b),this.$redoStack=[],this.dirtyCounter<0&&(this.dirtyCounter=NaN),this.dirtyCounter++},this.undo=function(a){var b=this.$undoStack.pop(),c=null;return b&&(c=this.$doc.undoChanges(b,a),this.$redoStack.push(b),this.dirtyCounter--),c},this.redo=function(a){var b=this.$redoStack.pop(),c=null;return b&&(c=this.$doc.redoChanges(this.$deserializeDeltas(b),a),this.$undoStack.push(b),this.dirtyCounter++),c},this.reset=function(){this.$undoStack=[],this.$redoStack=[],this.dirtyCounter=0},this.hasUndo=function(){return this.$undoStack.length>0},this.hasRedo=function(){return this.$redoStack.length>0},this.markClean=function(){this.dirtyCounter=0},this.isClean=function(){return 0===this.dirtyCounter},this.$serializeDeltas=function(b){return c(b,a)},this.$deserializeDeltas=function(a){return c(a,b)}}).call(d.prototype),b.UndoManager=d}),define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"],function(a,b,c){"use strict";var d=a("../lib/dom"),e=a("../lib/oop"),f=a("../lib/lang"),g=a("../lib/event_emitter").EventEmitter,h=function(a){this.element=d.createElement("div"),this.element.className="ace_layer ace_gutter-layer",a.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$cells=[]};(function(){e.implement(this,g),this.setSession=function(a){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=a,a&&a.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(a,b){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(a,b)},this.removeGutterDecoration=function(a,b){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(a,b)},this.setAnnotations=function(a){this.$annotations=[];for(var b=0;b<a.length;b++){var c=a[b],d=c.row,e=this.$annotations[d];e||(e=this.$annotations[d]={text:[]});var g=c.text;g=g?f.escapeHTML(g):c.html||"",-1===e.text.indexOf(g)&&e.text.push(g);var h=c.type;"error"==h?e.className=" ace_error":"warning"==h&&" ace_error"!=e.className?e.className=" ace_warning":"info"!=h||e.className||(e.className=" ace_info")}},this.$updateAnnotations=function(a){if(this.$annotations.length){var b=a.start.row,c=a.end.row-b;if(0===c);else if("remove"==a.action)this.$annotations.splice(b,c+1,null);else{var d=new Array(c+1);d.unshift(b,1),this.$annotations.splice.apply(this.$annotations,d)}}},this.update=function(a){for(var b=this.session,c=a.firstRow,e=Math.min(a.lastRow+a.gutterOffset,b.getLength()-1),f=b.getNextFoldLine(c),g=f?f.start.row:1/0,h=this.$showFoldWidgets&&b.foldWidgets,i=b.$breakpoints,j=b.$decorations,k=b.$firstLineNumber,l=0,m=b.gutterRenderer||this.$renderer,n=null,o=-1,p=c;;){if(p>g&&(p=f.end.row+1,f=b.getNextFoldLine(p,f),g=f?f.start.row:1/0),p>e){for(;this.$cells.length>o+1;)n=this.$cells.pop(),this.element.removeChild(n.element);break}n=this.$cells[++o],n||(n={element:null,textNode:null,foldWidget:null},n.element=d.createElement("div"),n.textNode=document.createTextNode(""),n.element.appendChild(n.textNode),this.element.appendChild(n.element),this.$cells[o]=n);var q="ace_gutter-cell ";i[p]&&(q+=i[p]),j[p]&&(q+=j[p]),this.$annotations[p]&&(q+=this.$annotations[p].className),n.element.className!=q&&(n.element.className=q);var r=b.getRowLength(p)*a.lineHeight+"px";if(r!=n.element.style.height&&(n.element.style.height=r),h){var s=h[p];null==s&&(s=h[p]=b.getFoldWidget(p))}if(s){n.foldWidget||(n.foldWidget=d.createElement("span"),n.element.appendChild(n.foldWidget));var q="ace_fold-widget ace_"+s;q+="start"==s&&p==g&&p<f.end.row?" ace_closed":" ace_open",n.foldWidget.className!=q&&(n.foldWidget.className=q);var r=a.lineHeight+"px";n.foldWidget.style.height!=r&&(n.foldWidget.style.height=r)}else n.foldWidget&&(n.element.removeChild(n.foldWidget),n.foldWidget=null);var t=l=m?m.getText(b,p):p+k;t!=n.textNode.data&&(n.textNode.data=t),p++}this.element.style.height=a.minHeight+"px",(this.$fixedWidth||b.$useWrapMode)&&(l=b.getLength()+k);var u=m?m.getWidth(b,l,a):l.toString().length*a.characterWidth,v=this.$padding||this.$computePadding();u+=v.left+v.right,u===this.gutterWidth||isNaN(u)||(this.gutterWidth=u,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",u))},this.$fixedWidth=!1,this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(a){this.$renderer=!a&&{getWidth:function(){return""},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(a){a?d.addCssClass(this.element,"ace_folding-enabled"):d.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=a,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var a=d.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(a.paddingLeft)+1||0,this.$padding.right=parseInt(a.paddingRight)||0,this.$padding},this.getRegion=function(a){var b=this.$padding||this.$computePadding(),c=this.element.getBoundingClientRect();return a.x<b.left+c.left?"markers":this.$showFoldWidgets&&a.x>c.right-b.right?"foldWidgets":void 0}}).call(h.prototype),b.Gutter=h}),define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(a,b,c){"use strict";var d=a("../range").Range,e=a("../lib/dom"),f=function(a){this.element=e.createElement("div"),this.element.className="ace_layer ace_marker-layer",a.appendChild(this.element)};(function(){function a(a,b,c,d){return(a?1:0)|(b?2:0)|(c?4:0)|(d?8:0)}this.$padding=0,this.setPadding=function(a){this.$padding=a},this.setSession=function(a){this.session=a},this.setMarkers=function(a){this.markers=a},this.update=function(a){var a=a||this.config;if(a){this.config=a;var b=[];for(var c in this.markers){var d=this.markers[c];if(d.range){var e=d.range.clipRows(a.firstRow,a.lastRow);if(!e.isEmpty())if(e=e.toScreenRange(this.session),d.renderer){var f=this.$getTop(e.start.row,a),g=this.$padding+e.start.column*a.characterWidth;d.renderer(b,e,g,f,a)}else"fullLine"==d.type?this.drawFullLineMarker(b,e,d.clazz,a):"screenLine"==d.type?this.drawScreenLineMarker(b,e,d.clazz,a):e.isMultiLine()?"text"==d.type?this.drawTextMarker(b,e,d.clazz,a):this.drawMultiLineMarker(b,e,d.clazz,a):this.drawSingleLineMarker(b,e,d.clazz+" ace_start ace_br15",a)}else d.update(b,this,this.session,a)}this.element.innerHTML=b.join("")}},this.$getTop=function(a,b){return(a-b.firstRowScreen)*b.lineHeight},this.drawTextMarker=function(b,c,e,f,g){for(var h=this.session,i=c.start.row,j=c.end.row,k=i,l=0,m=0,n=h.getScreenLastRowColumn(k),o=new d(k,c.start.column,k,m);j>=k;k++)o.start.row=o.end.row=k,o.start.column=k==i?c.start.column:h.getRowWrapIndent(k),o.end.column=n,l=m,m=n,n=j>k+1?h.getScreenLastRowColumn(k+1):k==j?0:c.end.column,this.drawSingleLineMarker(b,o,e+(k==i?" ace_start":"")+" ace_br"+a(k==i||k==i+1&&c.start.column,m>l,m>n,k==j),f,k==j?0:1,g)},this.drawMultiLineMarker=function(a,b,c,d,e){var f=this.$padding,g=d.lineHeight,h=this.$getTop(b.start.row,d),i=f+b.start.column*d.characterWidth;e=e||"",a.push("<div class='",c," ace_br1 ace_start' style='","height:",g,"px;","right:0;","top:",h,"px;","left:",i,"px;",e,"'></div>"),h=this.$getTop(b.end.row,d);var j=b.end.column*d.characterWidth;if(a.push("<div class='",c," ace_br12' style='","height:",g,"px;","width:",j,"px;","top:",h,"px;","left:",f,"px;",e,"'></div>"),g=(b.end.row-b.start.row-1)*d.lineHeight,!(0>=g)){h=this.$getTop(b.start.row+1,d);var k=(b.start.column?1:0)|(b.end.column?0:8);a.push("<div class='",c,k?" ace_br"+k:"","' style='","height:",g,"px;","right:0;","top:",h,"px;","left:",f,"px;",e,"'></div>")}},this.drawSingleLineMarker=function(a,b,c,d,e,f){var g=d.lineHeight,h=(b.end.column+(e||0)-b.start.column)*d.characterWidth,i=this.$getTop(b.start.row,d),j=this.$padding+b.start.column*d.characterWidth;a.push("<div class='",c,"' style='","height:",g,"px;","width:",h,"px;","top:",i,"px;","left:",j,"px;",f||"","'></div>")},this.drawFullLineMarker=function(a,b,c,d,e){var f=this.$getTop(b.start.row,d),g=d.lineHeight;b.start.row!=b.end.row&&(g+=this.$getTop(b.end.row,d)-f),a.push("<div class='",c,"' style='","height:",g,"px;","top:",f,"px;","left:0;right:0;",e||"","'></div>")},this.drawScreenLineMarker=function(a,b,c,d,e){var f=this.$getTop(b.start.row,d),g=d.lineHeight;a.push("<div class='",c,"' style='","height:",g,"px;","top:",f,"px;","left:0;right:0;",e||"","'></div>")}}).call(f.prototype),b.Marker=f}),define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(a,b,c){"use strict";var d=a("../lib/oop"),e=a("../lib/dom"),f=a("../lib/lang"),g=(a("../lib/useragent"),a("../lib/event_emitter").EventEmitter),h=function(a){this.element=e.createElement("div"),this.element.className="ace_layer ace_text-layer",a.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this)};(function(){d.implement(this,g),this.EOF_CHAR="¶",this.EOL_CHAR_LF="¬",this.EOL_CHAR_CRLF="¤",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="—",this.SPACE_CHAR="·",this.$padding=0,this.$updateEolChar=function(){var a="\n"==this.session.doc.getNewLineCharacter()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;return this.EOL_CHAR!=a?(this.EOL_CHAR=a,!0):void 0},this.setPadding=function(a){this.$padding=a,this.element.style.padding="0 "+a+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(a){this.$fontMetrics=a,this.$fontMetrics.on("changeCharacterSize",function(a){this._signal("changeCharacterSize",a)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(a){this.session=a,a&&this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(a){return this.showInvisibles==a?!1:(this.showInvisibles=a,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(a){return this.displayIndentGuides==a?!1:(this.displayIndentGuides=a,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var a=this.session.getTabSize();this.tabSize=a;for(var b=this.$tabStrings=[0],c=1;a+1>c;c++)this.showInvisibles?b.push("<span class='ace_invisible ace_invisible_tab'>"+f.stringRepeat(this.TAB_CHAR,c)+"</span>"):b.push(f.stringRepeat(" ",c));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var d="ace_indent-guide",e="",g="";if(this.showInvisibles){d+=" ace_invisible",e=" ace_invisible_space",g=" ace_invisible_tab";var h=f.stringRepeat(this.SPACE_CHAR,this.tabSize),i=f.stringRepeat(this.TAB_CHAR,this.tabSize)}else var h=f.stringRepeat(" ",this.tabSize),i=h;this.$tabStrings[" "]="<span class='"+d+e+"'>"+h+"</span>",this.$tabStrings["	"]="<span class='"+d+g+"'>"+i+"</span>"}},this.updateLines=function(a,b,c){(this.config.lastRow!=a.lastRow||this.config.firstRow!=a.firstRow)&&this.scrollLines(a),this.config=a;for(var d=Math.max(b,a.firstRow),e=Math.min(c,a.lastRow),f=this.element.childNodes,g=0,h=a.firstRow;d>h;h++){var i=this.session.getFoldLine(h);if(i){if(i.containsRow(d)){d=i.start.row;break}h=i.end.row}g++}for(var h=d,i=this.session.getNextFoldLine(h),j=i?i.start.row:1/0;;){if(h>j&&(h=i.end.row+1,i=this.session.getNextFoldLine(h,i),j=i?i.start.row:1/0),h>e)break;var k=f[g++];if(k){var l=[];this.$renderLine(l,h,!this.$useLineGroups(),h==j?i:!1),k.style.height=a.lineHeight*this.session.getRowLength(h)+"px",k.innerHTML=l.join("")}h++}},this.scrollLines=function(a){var b=this.config;if(this.config=a,!b||b.lastRow<a.firstRow)return this.update(a);if(a.lastRow<b.firstRow)return this.update(a);var c=this.element;if(b.firstRow<a.firstRow)for(var d=this.session.getFoldedRowCount(b.firstRow,a.firstRow-1);d>0;d--)c.removeChild(c.firstChild);if(b.lastRow>a.lastRow)for(var d=this.session.getFoldedRowCount(a.lastRow+1,b.lastRow);d>0;d--)c.removeChild(c.lastChild);if(a.firstRow<b.firstRow){var e=this.$renderLinesFragment(a,a.firstRow,b.firstRow-1);c.firstChild?c.insertBefore(e,c.firstChild):c.appendChild(e)}if(a.lastRow>b.lastRow){var e=this.$renderLinesFragment(a,b.lastRow+1,a.lastRow);c.appendChild(e)}},this.$renderLinesFragment=function(a,b,c){for(var d=this.element.ownerDocument.createDocumentFragment(),f=b,g=this.session.getNextFoldLine(f),h=g?g.start.row:1/0;;){if(f>h&&(f=g.end.row+1,g=this.session.getNextFoldLine(f,g),h=g?g.start.row:1/0),f>c)break;var i=e.createElement("div"),j=[];if(this.$renderLine(j,f,!1,f==h?g:!1),i.innerHTML=j.join(""),this.$useLineGroups())i.className="ace_line_group",d.appendChild(i),i.style.height=a.lineHeight*this.session.getRowLength(f)+"px";else for(;i.firstChild;)d.appendChild(i.firstChild);f++}return d},this.update=function(a){this.config=a;for(var b=[],c=a.firstRow,d=a.lastRow,e=c,f=this.session.getNextFoldLine(e),g=f?f.start.row:1/0;;){if(e>g&&(e=f.end.row+1,f=this.session.getNextFoldLine(e,f),g=f?f.start.row:1/0),e>d)break;this.$useLineGroups()&&b.push("<div class='ace_line_group' style='height:",a.lineHeight*this.session.getRowLength(e),"px'>"),this.$renderLine(b,e,!1,e==g?f:!1),this.$useLineGroups()&&b.push("</div>"),e++}this.element.innerHTML=b.join("")},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(a,b,c,d){var e=this,g=/\t|&|<|>|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF\uFFF9-\uFFFC])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]/g,h=function(a,c,d,g,h){if(c)return e.showInvisibles?"<span class='ace_invisible ace_invisible_space'>"+f.stringRepeat(e.SPACE_CHAR,a.length)+"</span>":a;if("&"==a)return"&#38;";if("<"==a)return"&#60;";if(">"==a)return"&#62;";if("	"==a){var i=e.session.getScreenTabSize(b+g);return b+=i-1,e.$tabStrings[i]}if("　"==a){var j=e.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",k=e.showInvisibles?e.SPACE_CHAR:"";return b+=1,"<span class='"+j+"' style='width:"+2*e.config.characterWidth+"px'>"+k+"</span>"}return d?"<span class='ace_invisible ace_invisible_space ace_invalid'>"+e.SPACE_CHAR+"</span>":(b+=1,"<span class='ace_cjk' style='width:"+2*e.config.characterWidth+"px'>"+a+"</span>")},i=d.replace(g,h);if(this.$textToken[c.type])a.push(i);else{var j="ace_"+c.type.replace(/\./g," ace_"),k="";"fold"==c.type&&(k=" style='width:"+c.value.length*this.config.characterWidth+"px;' "),a.push("<span class='",j,"'",k,">",i,"</span>")}return b+d.length},this.renderIndentGuide=function(a,b,c){var d=b.search(this.$indentGuideRe);return 0>=d||d>=c?b:" "==b[0]?(d-=d%this.tabSize,a.push(f.stringRepeat(this.$tabStrings[" "],d/this.tabSize)),b.substr(d)):"	"==b[0]?(a.push(f.stringRepeat(this.$tabStrings["	"],d)),b.substr(d)):b},this.$renderWrappedLine=function(a,b,c,d){for(var e=0,g=0,h=c[0],i=0,j=0;j<b.length;j++){var k=b[j],l=k.value;if(0==j&&this.displayIndentGuides){if(e=l.length,l=this.renderIndentGuide(a,l,h),!l)continue;e-=l.length}if(e+l.length<h)i=this.$renderToken(a,i,k,l),e+=l.length;else{for(;e+l.length>=h;)i=this.$renderToken(a,i,k,l.substring(0,h-e)),l=l.substring(h-e),e=h,d||a.push("</div>","<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),a.push(f.stringRepeat(" ",c.indent)),g++,i=0,h=c[g]||Number.MAX_VALUE;0!=l.length&&(e+=l.length,i=this.$renderToken(a,i,k,l))}}},this.$renderSimpleLine=function(a,b){var c=0,d=b[0],e=d.value;this.displayIndentGuides&&(e=this.renderIndentGuide(a,e)),e&&(c=this.$renderToken(a,c,d,e));for(var f=1;f<b.length;f++)d=b[f],e=d.value,c=this.$renderToken(a,c,d,e)},this.$renderLine=function(a,b,c,d){if(d||0==d||(d=this.session.getFoldLine(b)),d)var e=this.$getFoldLineTokens(b,d);else var e=this.session.getTokens(b);if(c||a.push("<div class='ace_line' style='height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(b)),"px'>"),e.length){var f=this.session.getRowSplitData(b);f&&f.length?this.$renderWrappedLine(a,e,f,c):this.$renderSimpleLine(a,e)}this.showInvisibles&&(d&&(b=d.end.row),a.push("<span class='ace_invisible ace_invisible_eol'>",b==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>")),c||a.push("</div>")},this.$getFoldLineTokens=function(a,b){function c(a,b,c){for(var d=0,f=0;f+a[d].value.length<b;)if(f+=a[d].value.length,d++,d==a.length)return;if(f!=b){var g=a[d].value.substring(b-f);
g.length>c-b&&(g=g.substring(0,c-b)),e.push({type:a[d].type,value:g}),f=b+g.length,d+=1}for(;c>f&&d<a.length;){var g=a[d].value;g.length+f>c?e.push({type:a[d].type,value:g.substring(0,c-f)}):e.push(a[d]),f+=g.length,d+=1}}var d=this.session,e=[],f=d.getTokens(a);return b.walk(function(a,b,g,h,i){null!=a?e.push({type:"fold",value:a}):(i&&(f=d.getTokens(b)),f.length&&c(f,h,g))},b.end.row,this.session.getLine(b.end.row).length),e},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode),delete this.$measureNode}}).call(h.prototype),b.Text=h}),define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(a,b,c){"use strict";var d,e=a("../lib/dom"),f=function(a){this.element=e.createElement("div"),this.element.className="ace_layer ace_cursor-layer",a.appendChild(this.element),void 0===d&&(d=!("opacity"in this.element.style)),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),e.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=(d?this.$updateVisibility:this.$updateOpacity).bind(this)};(function(){this.$updateVisibility=function(a){for(var b=this.cursors,c=b.length;c--;)b[c].style.visibility=a?"":"hidden"},this.$updateOpacity=function(a){for(var b=this.cursors,c=b.length;c--;)b[c].style.opacity=a?"":"0"},this.$padding=0,this.setPadding=function(a){this.$padding=a},this.setSession=function(a){this.session=a},this.setBlinking=function(a){a!=this.isBlinking&&(this.isBlinking=a,this.restartTimer())},this.setBlinkInterval=function(a){a!=this.blinkInterval&&(this.blinkInterval=a,this.restartTimer())},this.setSmoothBlinking=function(a){a==this.smoothBlinking||d||(this.smoothBlinking=a,e.setCssClass(this.element,"ace_smooth-blinking",a),this.$updateCursors(!0),this.$updateCursors=this.$updateOpacity.bind(this),this.restartTimer())},this.addCursor=function(){var a=e.createElement("div");return a.className="ace_cursor",this.element.appendChild(a),this.cursors.push(a),a},this.removeCursor=function(){if(this.cursors.length>1){var a=this.cursors.pop();return a.parentNode.removeChild(a),a}},this.hideCursor=function(){this.isVisible=!1,e.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,e.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var a=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.smoothBlinking&&e.removeCssClass(this.element,"ace_smooth-blinking"),a(!0),this.isBlinking&&this.blinkInterval&&this.isVisible){this.smoothBlinking&&setTimeout(function(){e.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));var b=function(){this.timeoutId=setTimeout(function(){a(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){a(!0),b()},this.blinkInterval),b()}},this.getPixelPosition=function(a,b){if(!this.config||!this.session)return{left:0,top:0};a||(a=this.session.selection.getCursor());var c=this.session.documentToScreenPosition(a),d=this.$padding+c.column*this.config.characterWidth,e=(c.row-(b?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:d,top:e}},this.update=function(a){this.config=a;var b=this.session.$selectionMarkers,c=0,d=0;(void 0===b||0===b.length)&&(b=[{cursor:null}]);for(var c=0,e=b.length;e>c;c++){var f=this.getPixelPosition(b[c].cursor,!0);if(!((f.top>a.height+a.offset||f.top<0)&&c>1)){var g=(this.cursors[d++]||this.addCursor()).style;this.drawCursor?this.drawCursor(g,f,a,b[c],this.session):(g.left=f.left+"px",g.top=f.top+"px",g.width=a.characterWidth+"px",g.height=a.lineHeight+"px")}}for(;this.cursors.length>d;)this.removeCursor();var h=this.session.getOverwrite();this.$setOverwrite(h),this.$pixelPos=f,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(a){a!=this.overwrite&&(this.overwrite=a,a?e.addCssClass(this.element,"ace_overwrite-cursors"):e.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(f.prototype),b.Cursor=f}),define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(a,b,c){"use strict";var d=a("./lib/oop"),e=a("./lib/dom"),f=a("./lib/event"),g=a("./lib/event_emitter").EventEmitter,h=32768,i=function(a){this.element=e.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=e.createElement("div"),this.inner.className="ace_scrollbar-inner",this.element.appendChild(this.inner),a.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,f.addListener(this.element,"scroll",this.onScroll.bind(this)),f.addListener(this.element,"mousedown",f.preventDefault)};(function(){d.implement(this,g),this.setVisible=function(a){this.element.style.display=a?"":"none",this.isVisible=a,this.coeff=1}}).call(i.prototype);var j=function(a,b){i.call(this,a),this.scrollTop=0,this.scrollHeight=0,b.$scrollbarWidth=this.width=e.scrollbarWidth(a.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px"};d.inherits(j,i),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var a=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-a)/(this.coeff-a)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return this.isVisible?this.width:0},this.setHeight=function(a){this.element.style.height=a+"px"},this.setInnerHeight=this.setScrollHeight=function(a){this.scrollHeight=a,a>h?(this.coeff=h/a,a=h):1!=this.coeff&&(this.coeff=1),this.inner.style.height=a+"px"},this.setScrollTop=function(a){this.scrollTop!=a&&(this.skipEvent=!0,this.scrollTop=a,this.element.scrollTop=a*this.coeff)}}.call(j.prototype);var k=function(a,b){i.call(this,a),this.scrollLeft=0,this.height=b.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};d.inherits(k,i),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(a){this.element.style.width=a+"px"},this.setInnerWidth=function(a){this.inner.style.width=a+"px"},this.setScrollWidth=function(a){this.inner.style.width=a+"px"},this.setScrollLeft=function(a){this.scrollLeft!=a&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=a)}}.call(k.prototype),b.ScrollBar=j,b.ScrollBarV=j,b.ScrollBarH=k,b.VScrollBar=j,b.HScrollBar=k}),define("ace/renderloop",["require","exports","module","ace/lib/event"],function(a,b,c){"use strict";var d=a("./lib/event"),e=function(a,b){this.onRender=a,this.pending=!1,this.changes=0,this.window=b||window};(function(){this.schedule=function(a){if(this.changes=this.changes|a,!this.pending&&this.changes){this.pending=!0;var b=this;d.nextFrame(function(){b.pending=!1;for(var a;a=b.changes;)b.changes=0,b.onRender(a)},this.window)}}}).call(e.prototype),b.RenderLoop=e}),define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(a,b,c){var d=a("../lib/oop"),e=a("../lib/dom"),f=a("../lib/lang"),g=a("../lib/useragent"),h=a("../lib/event_emitter").EventEmitter,i=0,j=b.FontMetrics=function(a){this.el=e.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=e.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=e.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),a.appendChild(this.el),i||this.$testFractionalRect(),this.$measureNode.innerHTML=f.stringRepeat("X",i),this.$characterSize={width:0,height:0},this.checkForSizeChanges()};(function(){d.implement(this,h),this.$characterSize={width:0,height:0},this.$testFractionalRect=function(){var a=e.createElement("div");this.$setMeasureNodeStyles(a.style),a.style.width="0.2px",document.documentElement.appendChild(a);var b=a.getBoundingClientRect().width;i=b>0&&1>b?50:100,a.parentNode.removeChild(a)},this.$setMeasureNodeStyles=function(a,b){a.width=a.height="auto",a.left=a.top="0px",a.visibility="hidden",a.position="absolute",a.whiteSpace="pre",g.isIE<8?a["font-family"]="inherit":a.font="inherit",a.overflow=b?"hidden":"visible"},this.checkForSizeChanges=function(){var a=this.$measureSizes();if(a&&(this.$characterSize.width!==a.width||this.$characterSize.height!==a.height)){this.$measureNode.style.fontWeight="bold";var b=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=a,this.charSizes=Object.create(null),this.allowBoldFonts=b&&b.width===a.width&&b.height===a.height,this._emit("changeCharacterSize",{data:a})}},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;var a=this;return this.$pollSizeChangesTimer=setInterval(function(){a.checkForSizeChanges()},500)},this.setPolling=function(a){a?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(){if(50===i){var a=null;try{a=this.$measureNode.getBoundingClientRect()}catch(b){a={width:0,height:0}}var c={height:a.height,width:a.width/i}}else var c={height:this.$measureNode.clientHeight,width:this.$measureNode.clientWidth/i};return 0===c.width||0===c.height?null:c},this.$measureCharWidth=function(a){this.$main.innerHTML=f.stringRepeat(a,i);var b=this.$main.getBoundingClientRect();return b.width/i},this.getCharacterWidth=function(a){var b=this.charSizes[a];return void 0===b&&(b=this.charSizes[a]=this.$measureCharWidth(a)/this.$characterSize.width),b},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}).call(j.prototype)}),define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/lib/useragent","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter"],function(a,b,c){"use strict";var d=a("./lib/oop"),e=a("./lib/dom"),f=a("./config"),g=a("./lib/useragent"),h=a("./layer/gutter").Gutter,i=a("./layer/marker").Marker,j=a("./layer/text").Text,k=a("./layer/cursor").Cursor,l=a("./scrollbar").HScrollBar,m=a("./scrollbar").VScrollBar,n=a("./renderloop").RenderLoop,o=a("./layer/font_metrics").FontMetrics,p=a("./lib/event_emitter").EventEmitter,q='.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-webkit-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_editor.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-webkit-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-webkit-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}';e.importCssString(q,"ace_editor.css");var r=function(a,b){var c=this;this.container=a||e.createElement("div"),this.$keepTextAreaAtCursor=!g.isOldIE,e.addCssClass(this.container,"ace_editor"),this.setTheme(b),this.$gutter=e.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.scroller=e.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=e.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new h(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new i(this.content);var d=this.$textLayer=new j(this.content);this.canvas=d.element,this.$markerFront=new i(this.content),this.$cursorLayer=new k(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new m(this.container,this),this.scrollBarH=new l(this.container,this),this.scrollBarV.addEventListener("scroll",function(a){c.$scrollAnimation||c.session.setScrollTop(a.data-c.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(a){c.$scrollAnimation||c.session.setScrollLeft(a.data-c.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new o(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener("changeCharacterSize",function(a){c.updateCharacterSize(),c.onResize(!0,c.gutterWidth,c.$size.width,c.$size.height),c._signal("changeCharacterSize",a)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$loop=new n(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),f.resetOptions(this),f._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,d.implement(this,p),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin()},this.setSession=function(a){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=a,a&&this.scrollMargin.top&&a.getScrollTop()<=0&&a.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(a),this.$markerBack.setSession(a),this.$markerFront.setSession(a),this.$gutterLayer.setSession(a),this.$textLayer.setSession(a),a&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(a,b,c){if(void 0===b&&(b=1/0),this.$changedLines?(this.$changedLines.firstRow>a&&(this.$changedLines.firstRow=a),this.$changedLines.lastRow<b&&(this.$changedLines.lastRow=b)):this.$changedLines={firstRow:a,lastRow:b},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!c)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar()},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(a){a?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(a,b,c,d){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=a?1:0;var e=this.container;d||(d=e.clientHeight||e.scrollHeight),c||(c=e.clientWidth||e.scrollWidth);var f=this.$updateCachedSize(a,b,c,d);if(!this.$size.scrollerHeight||!c&&!d)return this.resizing=0;a&&(this.$gutterLayer.$padding=null),a?this.$renderChanges(f|this.$changes,!0):this.$loop.schedule(f|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(a,b,c,d){d-=this.$extraHeight||0;var e=0,f=this.$size,g={width:f.width,height:f.height,scrollerHeight:f.scrollerHeight,scrollerWidth:f.scrollerWidth};return d&&(a||f.height!=d)&&(f.height=d,e|=this.CHANGE_SIZE,f.scrollerHeight=f.height,this.$horizScroll&&(f.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",e|=this.CHANGE_SCROLL),c&&(a||f.width!=c)&&(e|=this.CHANGE_SIZE,f.width=c,null==b&&(b=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=b,this.scrollBarH.element.style.left=this.scroller.style.left=b+"px",f.scrollerWidth=Math.max(0,c-b-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px",(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||a)&&(e|=this.CHANGE_FULL)),f.$dirty=!c||!d,e&&this._signal("resize",g),e},this.onGutterResize=function(){var a=this.$showGutter?this.$gutter.offsetWidth:0;a!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,a,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))},this.adjustWrapLimit=function(){var a=this.$size.scrollerWidth-2*this.$padding,b=Math.floor(a/this.characterWidth);return this.session.adjustWrapLimit(b,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(a){this.setOption("animatedScroll",a)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(a){this.setOption("showInvisibles",a)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(a){this.setOption("displayIndentGuides",a)},this.setShowPrintMargin=function(a){this.setOption("showPrintMargin",a)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(a){this.setOption("printMarginColumn",a)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(a){return this.setOption("showGutter",a)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(a){this.setOption("fadeFoldWidgets",a)},this.setHighlightGutterLine=function(a){this.setOption("highlightGutterLine",a)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updateGutterLineHighlight=function(){var a=this.$cursorLayer.$pixelPos,b=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var c=this.session.selection.getCursor();c.column=0,a=this.$cursorLayer.getPixelPosition(c,!0),b*=this.session.getRowLength(c.row)}this.$gutterLineHighlight.style.top=a.top-this.layerConfig.offset+"px",this.$gutterLineHighlight.style.height=b+"px"},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var a=e.createElement("div");a.className="ace_layer ace_print-margin-layer",this.$printMarginEl=e.createElement("div"),this.$printMarginEl.className="ace_print-margin",a.appendChild(this.$printMarginEl),this.content.insertBefore(a,this.content.firstChild)}var b=this.$printMarginEl.style;b.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px",b.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(this.$keepTextAreaAtCursor){var a=this.layerConfig,b=this.$cursorLayer.$pixelPos.top,c=this.$cursorLayer.$pixelPos.left;
b-=a.offset;var d=this.textarea.style,e=this.lineHeight;if(0>b||b>a.height-e)return void(d.top=d.left="0");var f=this.characterWidth;if(this.$composition){var g=this.textarea.value.replace(/^\x01+/,"");f*=this.session.$getStringScreenWidth(g)[0]+2,e+=2}c-=this.scrollLeft,c>this.$size.scrollerWidth-f&&(c=this.$size.scrollerWidth-f),c+=this.gutterWidth,d.height=e+"px",d.width=f+"px",d.left=Math.min(c,this.$size.scrollerWidth-f)+"px",d.top=Math.min(b,this.$size.height-e)+"px"}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var a=this.layerConfig,b=a.lastRow,c=this.session.documentToScreenRow(b,0)*a.lineHeight;return c-this.session.getScrollTop()>a.height-a.lineHeight?b-1:b},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(a){this.$padding=a,this.$textLayer.setPadding(a),this.$cursorLayer.setPadding(a),this.$markerFront.setPadding(a),this.$markerBack.setPadding(a),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(a,b,c,d){var e=this.scrollMargin;e.top=0|a,e.bottom=0|b,e.right=0|d,e.left=0|c,e.v=e.top+e.bottom,e.h=e.left+e.right,e.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-e.top),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(a){this.setOption("hScrollBarAlwaysVisible",a)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(a){this.setOption("vScrollBarAlwaysVisible",a)},this.$updateScrollBarV=function(){var a=this.layerConfig.maxHeight,b=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(a-=(b-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>a-b&&(a=this.scrollTop+b,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(a+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(a,b){if(this.$changes&&(a|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!a&&!b)return void(this.$changes|=a);if(this.$size.$dirty)return this.$changes|=a,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender");var c=this.layerConfig;if(a&this.CHANGE_FULL||a&this.CHANGE_SIZE||a&this.CHANGE_TEXT||a&this.CHANGE_LINES||a&this.CHANGE_SCROLL||a&this.CHANGE_H_SCROLL){if(a|=this.$computeLayerConfig(),c.firstRow!=this.layerConfig.firstRow&&c.firstRowScreen==this.layerConfig.firstRowScreen){var d=this.scrollTop+(c.firstRow-this.layerConfig.firstRow)*this.lineHeight;d>0&&(this.scrollTop=d,a|=this.CHANGE_SCROLL,a|=this.$computeLayerConfig())}c=this.layerConfig,this.$updateScrollBarV(),a&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),this.$gutterLayer.element.style.marginTop=-c.offset+"px",this.content.style.marginTop=-c.offset+"px",this.content.style.width=c.width+2*this.$padding+"px",this.content.style.height=c.minHeight+"px"}return a&this.CHANGE_H_SCROLL&&(this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),a&this.CHANGE_FULL?(this.$textLayer.update(c),this.$showGutter&&this.$gutterLayer.update(c),this.$markerBack.update(c),this.$markerFront.update(c),this.$cursorLayer.update(c),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),void this._signal("afterRender")):a&this.CHANGE_SCROLL?(a&this.CHANGE_TEXT||a&this.CHANGE_LINES?this.$textLayer.update(c):this.$textLayer.scrollLines(c),this.$showGutter&&this.$gutterLayer.update(c),this.$markerBack.update(c),this.$markerFront.update(c),this.$cursorLayer.update(c),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this.$moveTextAreaToCursor(),void this._signal("afterRender")):(a&this.CHANGE_TEXT?(this.$textLayer.update(c),this.$showGutter&&this.$gutterLayer.update(c)):a&this.CHANGE_LINES?(this.$updateLines()||a&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(c):(a&this.CHANGE_TEXT||a&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(c),a&this.CHANGE_CURSOR&&(this.$cursorLayer.update(c),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),a&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(c),a&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(c),void this._signal("afterRender"))},this.$autosize=function(){var a=this.session.getScreenLength()*this.lineHeight,b=this.$maxLines*this.lineHeight,c=Math.min(b,Math.max((this.$minLines||1)*this.lineHeight,a))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(c+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&c>this.$maxPixelHeight&&(c=this.$maxPixelHeight);var d=a>b;if(c!=this.desiredHeight||this.$size.height!=this.desiredHeight||d!=this.$vScroll){d!=this.$vScroll&&(this.$vScroll=d,this.scrollBarV.setVisible(d));var e=this.container.clientWidth;this.container.style.height=c+"px",this.$updateCachedSize(!0,this.$gutterWidth,e,c),this.desiredHeight=c,this._signal("autosize")}},this.$computeLayerConfig=function(){var a=this.session,b=this.$size,c=b.height<=2*this.lineHeight,d=this.session.getScreenLength(),e=d*this.lineHeight,f=this.$getLongestLine(),g=!c&&(this.$hScrollBarAlwaysVisible||b.scrollerWidth-f-2*this.$padding<0),h=this.$horizScroll!==g;h&&(this.$horizScroll=g,this.scrollBarH.setVisible(g));var i=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var j=this.scrollTop%this.lineHeight,k=b.scrollerHeight+this.lineHeight,l=!this.$maxLines&&this.$scrollPastEnd?(b.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;e+=l;var m=this.scrollMargin;this.session.setScrollTop(Math.max(-m.top,Math.min(this.scrollTop,e-b.scrollerHeight+m.bottom))),this.session.setScrollLeft(Math.max(-m.left,Math.min(this.scrollLeft,f+2*this.$padding-b.scrollerWidth+m.right)));var n=!c&&(this.$vScrollBarAlwaysVisible||b.scrollerHeight-e+l<0||this.scrollTop>m.top),o=i!==n;o&&(this.$vScroll=n,this.scrollBarV.setVisible(n));var p,q,r=Math.ceil(k/this.lineHeight)-1,s=Math.max(0,Math.round((this.scrollTop-j)/this.lineHeight)),t=s+r,u=this.lineHeight;s=a.screenToDocumentRow(s,0);var v=a.getFoldLine(s);v&&(s=v.start.row),p=a.documentToScreenRow(s,0),q=a.getRowLength(s)*u,t=Math.min(a.screenToDocumentRow(t,0),a.getLength()-1),k=b.scrollerHeight+a.getRowLength(t)*u+q,j=this.scrollTop-p*u;var w=0;return this.layerConfig.width!=f&&(w=this.CHANGE_H_SCROLL),(h||o)&&(w=this.$updateCachedSize(!0,this.gutterWidth,b.width,b.height),this._signal("scrollbarVisibilityChanged"),o&&(f=this.$getLongestLine())),this.layerConfig={width:f,padding:this.$padding,firstRow:s,firstRowScreen:p,lastRow:t,lineHeight:u,characterWidth:this.characterWidth,minHeight:k,maxHeight:e,offset:j,gutterOffset:u?Math.max(0,Math.ceil((j+b.height-b.scrollerHeight)/u)):0,height:this.$size.scrollerHeight},w},this.$updateLines=function(){var a=this.$changedLines.firstRow,b=this.$changedLines.lastRow;this.$changedLines=null;var c=this.layerConfig;return a>c.lastRow+1||b<c.firstRow?void 0:b===1/0?(this.$showGutter&&this.$gutterLayer.update(c),void this.$textLayer.update(c)):(this.$textLayer.updateLines(c,a,b),!0)},this.$getLongestLine=function(){var a=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(a+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(a*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(a,b){this.$gutterLayer.addGutterDecoration(a,b)},this.removeGutterDecoration=function(a,b){this.$gutterLayer.removeGutterDecoration(a,b)},this.updateBreakpoints=function(a){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(a){this.$gutterLayer.setAnnotations(a),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(a,b,c){this.scrollCursorIntoView(a,c),this.scrollCursorIntoView(b,c)},this.scrollCursorIntoView=function(a,b,c){if(0!==this.$size.scrollerHeight){var d=this.$cursorLayer.getPixelPosition(a),e=d.left,f=d.top,g=c&&c.top||0,h=c&&c.bottom||0,i=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;i+g>f?(b&&i+g>f+this.lineHeight&&(f-=b*this.$size.scrollerHeight),0===f&&(f=-this.scrollMargin.top),this.session.setScrollTop(f)):i+this.$size.scrollerHeight-h<f+this.lineHeight&&(b&&i+this.$size.scrollerHeight-h<f-this.lineHeight&&(f+=b*this.$size.scrollerHeight),this.session.setScrollTop(f+this.lineHeight-this.$size.scrollerHeight));var j=this.scrollLeft;j>e?(e<this.$padding+2*this.layerConfig.characterWidth&&(e=-this.scrollMargin.left),this.session.setScrollLeft(e)):j+this.$size.scrollerWidth<e+this.characterWidth?this.session.setScrollLeft(Math.round(e+this.characterWidth-this.$size.scrollerWidth)):j<=this.$padding&&e-j<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(a){this.session.setScrollTop(a*this.lineHeight)},this.alignCursor=function(a,b){"number"==typeof a&&(a={row:a,column:0});var c=this.$cursorLayer.getPixelPosition(a),d=this.$size.scrollerHeight-this.lineHeight,e=c.top-d*(b||0);return this.session.setScrollTop(e),e},this.STEPS=8,this.$calcSteps=function(a,b){var c=0,d=this.STEPS,e=[],f=function(a,b,c){return c*(Math.pow(a-1,3)+1)+b};for(c=0;d>c;++c)e.push(f(c/this.STEPS,a,b-a));return e},this.scrollToLine=function(a,b,c,d){var e=this.$cursorLayer.getPixelPosition({row:a,column:0}),f=e.top;b&&(f-=this.$size.scrollerHeight/2);var g=this.scrollTop;this.session.setScrollTop(f),c!==!1&&this.animateScrolling(g,d)},this.animateScrolling=function(a,b){var c=this.scrollTop;if(this.$animatedScroll){var d=this;if(a!=c){if(this.$scrollAnimation){var e=this.$scrollAnimation.steps;if(e.length&&(a=e[0],a==c))return}var f=d.$calcSteps(a,c);this.$scrollAnimation={from:a,to:c,steps:f},clearInterval(this.$timer),d.session.setScrollTop(f.shift()),d.session.$scrollTop=c,this.$timer=setInterval(function(){f.length?(d.session.setScrollTop(f.shift()),d.session.$scrollTop=c):null!=c?(d.session.$scrollTop=-1,d.session.setScrollTop(c),c=null):(d.$timer=clearInterval(d.$timer),d.$scrollAnimation=null,b&&b())},10)}}},this.scrollToY=function(a){this.scrollTop!==a&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=a)},this.scrollToX=function(a){this.scrollLeft!==a&&(this.scrollLeft=a),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(a,b){this.session.setScrollTop(b),this.session.setScrollLeft(b)},this.scrollBy=function(a,b){b&&this.session.setScrollTop(this.session.getScrollTop()+b),a&&this.session.setScrollLeft(this.session.getScrollLeft()+a)},this.isScrollableBy=function(a,b){return 0>b&&this.session.getScrollTop()>=1-this.scrollMargin.top?!0:b>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom?!0:0>a&&this.session.getScrollLeft()>=1-this.scrollMargin.left?!0:a>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right?!0:void 0},this.pixelToScreenCoordinates=function(a,b){var c=this.scroller.getBoundingClientRect(),d=(a+this.scrollLeft-c.left-this.$padding)/this.characterWidth,e=Math.floor((b+this.scrollTop-c.top)/this.lineHeight),f=Math.round(d);return{row:e,column:f,side:d-f>0?1:-1}},this.screenToTextCoordinates=function(a,b){var c=this.scroller.getBoundingClientRect(),d=Math.round((a+this.scrollLeft-c.left-this.$padding)/this.characterWidth),e=(b+this.scrollTop-c.top)/this.lineHeight;return this.session.screenToDocumentPosition(e,Math.max(d,0))},this.textToScreenCoordinates=function(a,b){var c=this.scroller.getBoundingClientRect(),d=this.session.documentToScreenPosition(a,b),e=this.$padding+Math.round(d.column*this.characterWidth),f=d.row*this.lineHeight;return{pageX:c.left+e-this.scrollLeft,pageY:c.top+f-this.scrollTop}},this.visualizeFocus=function(){e.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){e.removeCssClass(this.container,"ace_focus")},this.showComposition=function(a){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText}),this.$keepTextAreaAtCursor=!0,e.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor()},this.setCompositionText=function(a){this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(e.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)},this.setTheme=function(a,b){function c(c){if(d.$themeId!=a)return b&&b();if(!c||!c.cssClass)throw new Error("couldn't load module "+a+" or it didn't call define");e.importCssString(c.cssText,c.cssClass,d.container.ownerDocument),d.theme&&e.removeCssClass(d.container,d.theme.cssClass);var f="padding"in c?c.padding:"padding"in(d.theme||{})?4:d.$padding;d.$padding&&f!=d.$padding&&d.setPadding(f),d.$theme=c.cssClass,d.theme=c,e.addCssClass(d.container,c.cssClass),e.setCssClass(d.container,"ace_dark",c.isDark),d.$size&&(d.$size.width=0,d.$updateSizeAsync()),d._dispatchEvent("themeLoaded",{theme:c}),b&&b()}var d=this;if(this.$themeId=a,d._dispatchEvent("themeChange",{theme:a}),a&&"string"!=typeof a)c(a);else{var g=a||this.$options.theme.initialValue;f.loadModule(["theme",g],c)}},this.getTheme=function(){return this.$themeId},this.setStyle=function(a,b){e.setCssClass(this.container,a,b!==!1)},this.unsetStyle=function(a){e.removeCssClass(this.container,a)},this.setCursorStyle=function(a){this.scroller.style.cursor!=a&&(this.scroller.style.cursor=a)},this.setMouseCursor=function(a){this.scroller.style.cursor=a},this.destroy=function(){this.$textLayer.destroy(),this.$cursorLayer.destroy()}}).call(r.prototype),f.defineOptions(r.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(a){this.$textLayer.setShowInvisibles(a)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(a){"number"==typeof a&&(this.$printMarginColumn=a),this.$showPrintMargin=!!a,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(a){this.$gutter.style.display=a?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(a){e.setCssClass(this.$gutter,"ace_fade-fold-widgets",a)},initialValue:!1},showFoldWidgets:{set:function(a){this.$gutterLayer.setShowFoldWidgets(a)},initialValue:!0},showLineNumbers:{set:function(a){this.$gutterLayer.setShowLineNumbers(a),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(a){this.$textLayer.setDisplayIndentGuides(a)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(a){return this.$gutterLineHighlight?(this.$gutterLineHighlight.style.display=a?"":"none",void(this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight())):(this.$gutterLineHighlight=e.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",void this.$gutter.appendChild(this.$gutterLineHighlight))},initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(a){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(a){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(a){"number"==typeof a&&(a+="px"),this.container.style.fontSize=a,this.updateFontSize()},initialValue:12},fontFamily:{set:function(a){this.container.style.fontFamily=a,this.updateFontSize()}},maxLines:{set:function(a){this.updateFull()}},minLines:{set:function(a){this.updateFull()}},maxPixelHeight:{set:function(a){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(a){a=+a||0,this.$scrollPastEnd!=a&&(this.$scrollPastEnd=a,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(a){this.$gutterLayer.$fixedWidth=!!a,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(a){this.setTheme(a)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0}}),b.VirtualRenderer=r}),define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(a,b,c){"use strict";var d=a("../lib/oop"),e=a("../lib/net"),f=a("../lib/event_emitter").EventEmitter,g=a("../config"),h=function(b,c,d,e){if(this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),a.nameToUrl&&!a.toUrl&&(a.toUrl=a.nameToUrl),g.get("packaged")||!a.toUrl)e=e||g.moduleUrl(c,"worker");else{var f=this.$normalizePath;e=e||f(a.toUrl("ace/worker/worker.js",null,"_"));var h={};b.forEach(function(b){h[b]=f(a.toUrl(b,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}try{this.$worker=new Worker(e)}catch(i){if(!(i instanceof window.DOMException))throw i;var j=this.$workerBlob(e),k=window.URL||window.webkitURL,l=k.createObjectURL(j);this.$worker=new Worker(l),k.revokeObjectURL(l)}this.$worker.postMessage({init:!0,tlns:h,module:c,classname:d}),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){d.implement(this,f),this.onMessage=function(a){var b=a.data;switch(b.type){case"event":this._signal(b.name,{data:b.data});break;case"call":var c=this.callbacks[b.id];c&&(c(b.data),delete this.callbacks[b.id]);break;case"error":this.reportError(b.data);break;case"log":window.console&&console.log&&console.log.apply(console,b.data)}},this.reportError=function(a){window.console&&console.error&&console.error(a)},this.$normalizePath=function(a){return e.qualifyURL(a)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(a,b){this.$worker.postMessage({command:a,args:b})},this.call=function(a,b,c){if(c){var d=this.callbackId++;this.callbacks[d]=c,b.push(d)}this.send(a,b)},this.emit=function(a,b){try{this.$worker.postMessage({event:a,data:{data:b.data}})}catch(c){console.error(c.stack)}},this.attachToDocument=function(a){this.$doc&&this.terminate(),this.$doc=a,this.call("setValue",[a.getValue()]),a.on("change",this.changeListener)},this.changeListener=function(a){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==a.action?this.deltaQueue.push(a.start,a.lines):this.deltaQueue.push(a.start,a.end)},this.$sendDeltaQueue=function(){var a=this.deltaQueue;a&&(this.deltaQueue=null,a.length>50&&a.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:a}))},this.$workerBlob=function(a){var b="importScripts('"+e.qualifyURL(a)+"');";try{return new Blob([b],{type:"application/javascript"})}catch(c){var d=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,f=new d;return f.append(b),f.getBlob("application/javascript")}}}).call(h.prototype);var i=function(a,b,c){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.callbackId=1,this.callbacks={},this.messageBuffer=[];var d=null,e=!1,h=Object.create(f),i=this;this.$worker={},this.$worker.terminate=function(){},this.$worker.postMessage=function(a){i.messageBuffer.push(a),d&&(e?setTimeout(j):j())},this.setEmitSync=function(a){e=a};var j=function(){var a=i.messageBuffer.shift();a.command?d[a.command].apply(d,a.args):a.event&&h._signal(a.event,a.data)};h.postMessage=function(a){i.onMessage({data:a})},h.callback=function(a,b){this.postMessage({type:"call",id:b,data:a})},h.emit=function(a,b){this.postMessage({type:"event",name:a,data:b})},g.loadModule(["worker",b],function(a){for(d=new a[c](h);i.messageBuffer.length;)j()})};i.prototype=h.prototype,b.UIWorkerClient=i,b.WorkerClient=h}),define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(a,b,c){"use strict";var d=a("./range").Range,e=a("./lib/event_emitter").EventEmitter,f=a("./lib/oop"),g=function(a,b,c,d,e,f){var g=this;this.length=b,this.session=a,this.doc=a.getDocument(),this.mainClass=e,this.othersClass=f,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=d,this.$onCursorChange=function(){setTimeout(function(){g.onCursorChange()})},this.$pos=c;var h=a.getUndoManager().$undoStack||a.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=h.length,this.setup(),a.selection.on("changeCursor",this.$onCursorChange)};(function(){f.implement(this,e),this.setup=function(){var a=this,b=this.doc,c=this.session;this.selectionBefore=c.selection.toJSON(),c.selection.inMultiSelectMode&&c.selection.toSingleRange(),this.pos=b.createAnchor(this.$pos.row,this.$pos.column);var e=this.pos;e.$insertRight=!0,e.detach(),e.markerId=c.addMarker(new d(e.row,e.column,e.row,e.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(c){var d=b.createAnchor(c.row,c.column);d.$insertRight=!0,d.detach(),a.others.push(d)}),c.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var a=this.session,b=this;this.othersActive=!0,this.others.forEach(function(c){c.markerId=a.addMarker(new d(c.row,c.column,c.row,c.column+b.length),b.othersClass,null,!1)})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var a=0;a<this.others.length;a++)this.session.removeMarker(this.others[a].markerId)}},this.onUpdate=function(a){if(this.$updating)return this.updateAnchors(a);var b=a;if(b.start.row===b.end.row&&b.start.row===this.pos.row){this.$updating=!0;var c="insert"===a.action?b.end.column-b.start.column:b.start.column-b.end.column,e=b.start.column>=this.pos.column&&b.start.column<=this.pos.column+this.length+1,f=b.start.column-this.pos.column;if(this.updateAnchors(a),e&&(this.length+=c),e&&!this.session.$fromUndo)if("insert"===a.action)for(var g=this.others.length-1;g>=0;g--){var h=this.others[g],i={row:h.row,column:h.column+f};this.doc.insertMergedLines(i,a.lines)}else if("remove"===a.action)for(var g=this.others.length-1;g>=0;g--){var h=this.others[g],i={row:h.row,column:h.column+f};this.doc.remove(new d(i.row,i.column,i.row,i.column-c))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(a){this.pos.onChange(a);for(var b=this.others.length;b--;)this.others[b].onChange(a);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var a=this,b=this.session,c=function(c,e){b.removeMarker(c.markerId),c.markerId=b.addMarker(new d(c.row,c.column,c.row,c.column+a.length),e,null,!1)};c(this.pos,this.mainClass);for(var e=this.others.length;e--;)c(this.others[e],this.othersClass)}},this.onCursorChange=function(a){if(!this.$updating&&this.session){var b=this.session.selection.getCursor();b.row===this.pos.row&&b.column>=this.pos.column&&b.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",a)):(this.hideOtherMarkers(),this._emit("cursorLeave",a))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var a=this.session.getUndoManager(),b=(a.$undoStack||a.$undostack).length-this.$undoStackDepth,c=0;b>c;c++)a.undo(!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(g.prototype),b.PlaceHolder=g}),define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(a,b,c){function d(a,b){return a.row==b.row&&a.column==b.column}function e(a){var b=a.domEvent,c=b.altKey,e=b.shiftKey,h=b.ctrlKey,i=a.getAccelKey(),j=a.getButton();if(h&&g.isMac&&(j=b.button),a.editor.inMultiSelectMode&&2==j)return void a.editor.textInput.onContextMenu(a.domEvent);if(!h&&!c&&!i)return void(0===j&&a.editor.inMultiSelectMode&&a.editor.exitMultiSelectMode());if(0===j){var k,l=a.editor,m=l.selection,n=l.inMultiSelectMode,o=a.getDocumentPosition(),p=m.getCursor(),q=a.inSelection()||m.isEmpty()&&d(o,p),r=a.x,s=a.y,t=function(a){r=a.clientX,s=a.clientY},u=l.session,v=l.renderer.pixelToScreenCoordinates(r,s),w=v;if(l.$mouseHandler.$enableJumpToDef)h&&c||i&&c?k=e?"block":"add":c&&l.$blockSelectEnabled&&(k="block");else if(i&&!c){if(k="add",!n&&e)return}else c&&l.$blockSelectEnabled&&(k="block");if(k&&g.isMac&&b.ctrlKey&&l.$mouseHandler.cancelContextMenu(),"add"==k){if(!n&&q)return;if(!n){var x=m.toOrientedRange();l.addSelectionMarker(x)}var y=m.rangeList.rangeAtPoint(o);l.$blockScrolling++,l.inVirtualSelectionMode=!0,e&&(y=null,x=m.ranges[0]||x,l.removeSelectionMarker(x)),l.once("mouseup",function(){var a=m.toOrientedRange();y&&a.isEmpty()&&d(y.cursor,a.cursor)?m.substractPoint(a.cursor):(e?m.substractPoint(x.cursor):x&&(l.removeSelectionMarker(x),m.addRange(x)),m.addRange(a)),l.$blockScrolling--,l.inVirtualSelectionMode=!1})}else if("block"==k){a.stop(),l.inVirtualSelectionMode=!0;var z,A=[],B=function(){var a=l.renderer.pixelToScreenCoordinates(r,s),b=u.screenToDocumentPosition(a.row,a.column);d(w,a)&&d(b,m.lead)||(w=a,l.$blockScrolling++,l.selection.moveToPosition(b),l.renderer.scrollCursorIntoView(),l.removeSelectionMarkers(A),A=m.rectangularRangeBlock(w,v),l.$mouseHandler.$clickSelection&&1==A.length&&A[0].isEmpty()&&(A[0]=l.$mouseHandler.$clickSelection.clone()),A.forEach(l.addSelectionMarker,l),l.updateSelectionMarkers(),l.$blockScrolling--)};l.$blockScrolling++,n&&!i?m.toSingleRange():!n&&i&&(z=m.toOrientedRange(),l.addSelectionMarker(z)),e?v=u.documentToScreenPosition(m.lead):m.moveToPosition(o),l.$blockScrolling--,w={row:-1,column:-1};var C=function(a){clearInterval(E),l.removeSelectionMarkers(A),A.length||(A=[m.toOrientedRange()]),l.$blockScrolling++,z&&(l.removeSelectionMarker(z),m.toSingleRange(z));for(var b=0;b<A.length;b++)m.addRange(A[b]);l.inVirtualSelectionMode=!1,l.$mouseHandler.$clickSelection=null,l.$blockScrolling--},D=B;f.capture(l.container,t,C);var E=setInterval(function(){D()},20);return a.preventDefault()}}}var f=a("../lib/event"),g=a("../lib/useragent");b.onMouseDown=e}),define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(a,b,c){b.defaultCommands=[{name:"addCursorAbove",exec:function(a){a.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",exec:function(a){a.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",exec:function(a){a.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",exec:function(a){a.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",exec:function(a){a.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",exec:function(a){a.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",exec:function(a){a.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",exec:function(a){a.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"splitIntoLines",exec:function(a){a.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"alignCursors",exec:function(a){a.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(a){a.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],b.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(a){a.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(a){return a&&a.inMultiSelectMode}}];var d=a("../keyboard/hash_handler").HashHandler;b.keyboardHandler=new d(b.multiSelectCommands)}),define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(a,b,c){function d(a,b,c){return p.$options.wrap=!0,p.$options.needle=b,p.$options.backwards=-1==c,p.find(a)}function e(a,b){return a.row==b.row&&a.column==b.column}function f(a){a.$multiselectOnSessionChange||(a.$onAddRange=a.$onAddRange.bind(a),a.$onRemoveRange=a.$onRemoveRange.bind(a),a.$onMultiSelect=a.$onMultiSelect.bind(a),a.$onSingleSelect=a.$onSingleSelect.bind(a),a.$multiselectOnSessionChange=b.onSessionChange.bind(a),a.$checkMultiselectChange=a.$checkMultiselectChange.bind(a),a.$multiselectOnSessionChange(a),a.on("changeSession",a.$multiselectOnSessionChange),a.on("mousedown",k),a.commands.addCommands(n.defaultCommands),g(a))}function g(a){function b(b){d&&(a.renderer.setMouseCursor(""),d=!1)}var c=a.textInput.getElement(),d=!1;l.addListener(c,"keydown",function(c){var e=18==c.keyCode&&!(c.ctrlKey||c.shiftKey||c.metaKey);a.$blockSelectEnabled&&e?d||(a.renderer.setMouseCursor("crosshair"),d=!0):d&&b()}),l.addListener(c,"keyup",b),l.addListener(c,"blur",b)}var h=a("./range_list").RangeList,i=a("./range").Range,j=a("./selection").Selection,k=a("./mouse/multi_select_handler").onMouseDown,l=a("./lib/event"),m=a("./lib/lang"),n=a("./commands/multi_select_commands");b.commands=n.defaultCommands.concat(n.multiSelectCommands);var o=a("./search").Search,p=new o,q=a("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(q.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(a,b){if(a){if(!this.inMultiSelectMode&&0===this.rangeCount){var c=this.toOrientedRange();if(this.rangeList.add(c),this.rangeList.add(a),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),b||this.fromOrientedRange(a);this.rangeList.removeAll(),this.rangeList.add(c),this.$onAddRange(c)}a.cursor||(a.cursor=a.end);var d=this.rangeList.add(a);
return this.$onAddRange(a),d.length&&this.$onRemoveRange(d),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),b||this.fromOrientedRange(a)}},this.toSingleRange=function(a){a=a||this.ranges[0];var b=this.rangeList.removeAll();b.length&&this.$onRemoveRange(b),a&&this.fromOrientedRange(a)},this.substractPoint=function(a){var b=this.rangeList.substractPoint(a);return b?(this.$onRemoveRange(b),b[0]):void 0},this.mergeOverlappingRanges=function(){var a=this.rangeList.merge();a.length?this.$onRemoveRange(a):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])},this.$onAddRange=function(a){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(a),this._signal("addRange",{range:a})},this.$onRemoveRange=function(a){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var b=this.rangeList.ranges.pop();a.push(b),this.rangeCount=0}for(var c=a.length;c--;){var d=this.ranges.indexOf(a[c]);this.ranges.splice(d,1)}this._signal("removeRange",{ranges:a}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),b=b||this.ranges[0],b&&!b.isEqual(this.getRange())&&this.fromOrientedRange(b)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new h,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(this.rangeCount>1){var a=this.rangeList.ranges,b=a[a.length-1],c=i.fromPoints(a[0].start,b.end);this.toSingleRange(),this.setSelectionRange(c,b.cursor==b.start)}else{var c=this.getRange(),d=this.isBackwards(),e=c.start.row,f=c.end.row;if(e==f){if(d)var g=c.end,h=c.start;else var g=c.start,h=c.end;return this.addRange(i.fromPoints(h,h)),void this.addRange(i.fromPoints(g,g))}var j=[],k=this.getLineRange(e,!0);k.start.column=c.start.column,j.push(k);for(var l=e+1;f>l;l++)j.push(this.getLineRange(l,!0));k=this.getLineRange(f,!0),k.end.column=c.end.column,j.push(k),j.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var a=this.rangeList.ranges,b=a[a.length-1],c=i.fromPoints(a[0].start,b.end);this.toSingleRange(),this.setSelectionRange(c,b.cursor==b.start)}else{var d=this.session.documentToScreenPosition(this.selectionLead),e=this.session.documentToScreenPosition(this.selectionAnchor),f=this.rectangularRangeBlock(d,e);f.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(a,b,c){var d=[],f=a.column<b.column;if(f)var g=a.column,h=b.column;else var g=b.column,h=a.column;var j=a.row<b.row;if(j)var k=a.row,l=b.row;else var k=b.row,l=a.row;0>g&&(g=0),0>k&&(k=0),k==l&&(c=!0);for(var m=k;l>=m;m++){var n=i.fromPoints(this.session.screenToDocumentPosition(m,g),this.session.screenToDocumentPosition(m,h));if(n.isEmpty()){if(o&&e(n.end,o))break;var o=n.end}n.cursor=f?n.start:n.end,d.push(n)}if(j&&d.reverse(),!c){for(var p=d.length-1;d[p].isEmpty()&&p>0;)p--;if(p>0)for(var q=0;d[q].isEmpty();)q++;for(var r=p;r>=q;r--)d[r].isEmpty()&&d.splice(r,1)}return d}}.call(j.prototype);var r=a("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(a){a.cursor||(a.cursor=a.end);var b=this.getSelectionStyle();return a.marker=this.session.addMarker(a,"ace_selection",b),this.session.$selectionMarkers.push(a),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,a},this.removeSelectionMarker=function(a){if(a.marker){this.session.removeMarker(a.marker);var b=this.session.$selectionMarkers.indexOf(a);-1!=b&&this.session.$selectionMarkers.splice(b,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(a){for(var b=this.session.$selectionMarkers,c=a.length;c--;){var d=a[c];if(d.marker){this.session.removeMarker(d.marker);var e=b.indexOf(d);-1!=e&&b.splice(e,1)}}this.session.selectionMarkerCount=b.length},this.$onAddRange=function(a){this.addSelectionMarker(a.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(a){this.removeSelectionMarkers(a.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(a){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(n.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(a){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(n.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(a){var b=a.command,c=a.editor;if(c.multiSelect){if(b.multiSelectAction)"forEach"==b.multiSelectAction?d=c.forEachSelection(b,a.args):"forEachLine"==b.multiSelectAction?d=c.forEachSelection(b,a.args,!0):"single"==b.multiSelectAction?(c.exitMultiSelectMode(),d=b.exec(c,a.args||{})):d=b.multiSelectAction(c,a.args||{});else{var d=b.exec(c,a.args||{});c.multiSelect.addRange(c.multiSelect.toOrientedRange()),c.multiSelect.mergeOverlappingRanges()}return d}},this.forEachSelection=function(a,b,c){if(!this.inVirtualSelectionMode){var d,e=c&&c.keepOrder,f=1==c||c&&c.$byLines,g=this.session,h=this.selection,i=h.rangeList,k=(e?h:i).ranges;if(!k.length)return a.exec?a.exec(this,b||{}):a(this,b||{});var l=h._eventRegistry;h._eventRegistry={};var m=new j(g);this.inVirtualSelectionMode=!0;for(var n=k.length;n--;){if(f)for(;n>0&&k[n].start.row==k[n-1].end.row;)n--;m.fromOrientedRange(k[n]),m.index=n,this.selection=g.selection=m;var o=a.exec?a.exec(this,b||{}):a(this,b||{});d||void 0===o||(d=o),m.toOrientedRange(k[n])}m.detach(),this.selection=g.selection=h,this.inVirtualSelectionMode=!1,h._eventRegistry=l,h.mergeOverlappingRanges();var p=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),p&&p.from==p.to&&this.renderer.animateScrolling(p.from),d}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var a="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var b=this.multiSelect.rangeList.ranges,c=[],d=0;d<b.length;d++)c.push(this.session.getTextRange(b[d]));var e=this.session.getDocument().getNewLineCharacter();a=c.join(e),a.length==(c.length-1)*e.length&&(a="")}else this.selection.isEmpty()||(a=this.session.getTextRange(this.getSelectionRange()));return a},this.$checkMultiselectChange=function(a,b){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var c=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&b==this.multiSelect.anchor)return;var d=b==this.multiSelect.anchor?c.cursor==c.start?c.end:c.start:c.cursor;(d.row!=b.row||this.session.$clipPositionToDocument(d.row,d.column).column!=b.column)&&this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())}},this.findAll=function(a,b,c){if(b=b||{},b.needle=a||b.needle,void 0==b.needle){var d=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();b.needle=this.session.getTextRange(d)}this.$search.set(b);var e=this.$search.findAll(this.session);if(!e.length)return 0;this.$blockScrolling+=1;var f=this.multiSelect;c||f.toSingleRange(e[0]);for(var g=e.length;g--;)f.addRange(e[g],!0);return d&&f.rangeList.rangeAtPoint(d.start)&&f.addRange(d,!0),this.$blockScrolling-=1,e.length},this.selectMoreLines=function(a,b){var c=this.selection.toOrientedRange(),d=c.cursor==c.end,e=this.session.documentToScreenPosition(c.cursor);this.selection.$desiredColumn&&(e.column=this.selection.$desiredColumn);var f=this.session.screenToDocumentPosition(e.row+a,e.column);if(c.isEmpty())var g=f;else var h=this.session.documentToScreenPosition(d?c.end:c.start),g=this.session.screenToDocumentPosition(h.row+a,h.column);if(d){var j=i.fromPoints(f,g);j.cursor=j.start}else{var j=i.fromPoints(g,f);j.cursor=j.end}if(j.desiredColumn=e.column,this.selection.inMultiSelectMode){if(b)var k=c.cursor}else this.selection.addRange(c);this.selection.addRange(j),k&&this.selection.substractPoint(k)},this.transposeSelections=function(a){for(var b=this.session,c=b.multiSelect,d=c.ranges,e=d.length;e--;){var f=d[e];if(f.isEmpty()){var g=b.getWordRange(f.start.row,f.start.column);f.start.row=g.start.row,f.start.column=g.start.column,f.end.row=g.end.row,f.end.column=g.end.column}}c.mergeOverlappingRanges();for(var h=[],e=d.length;e--;){var f=d[e];h.unshift(b.getTextRange(f))}0>a?h.unshift(h.pop()):h.push(h.shift());for(var e=d.length;e--;){var f=d[e],g=f.clone();b.replace(f,h[e]),f.start.row=g.start.row,f.start.column=g.start.column}},this.selectMore=function(a,b,c){var e=this.session,f=e.multiSelect,g=f.toOrientedRange();if(!g.isEmpty()||(g=e.getWordRange(g.start.row,g.start.column),g.cursor=-1==a?g.start:g.end,this.multiSelect.addRange(g),!c)){var h=e.getTextRange(g),i=d(e,h,a);i&&(i.cursor=-1==a?i.start:i.end,this.$blockScrolling+=1,this.session.unfold(i),this.multiSelect.addRange(i),this.$blockScrolling-=1,this.renderer.scrollCursorIntoView(null,.5)),b&&this.multiSelect.substractPoint(g.cursor)}},this.alignCursors=function(){var a=this.session,b=a.multiSelect,c=b.ranges,d=-1,e=c.filter(function(a){return a.cursor.row==d?!0:void(d=a.cursor.row)});if(c.length&&e.length!=c.length-1){e.forEach(function(a){b.substractPoint(a.cursor)});var f=0,g=1/0,h=c.map(function(b){var c=b.cursor,d=a.getLine(c.row),e=d.substr(c.column).search(/\S/g);return-1==e&&(e=0),c.column>f&&(f=c.column),g>e&&(g=e),e});c.forEach(function(b,c){var d=b.cursor,e=f-d.column,j=h[c]-g;e>j?a.insert(d,m.stringRepeat(" ",e-j)):a.remove(new i(d.row,d.column,d.row,d.column-e+j)),b.start.column=b.end.column=f,b.start.row=b.end.row=d.row,b.cursor=b.end}),b.fromOrientedRange(c[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var j=this.selection.getRange(),k=j.start.row,l=j.end.row,n=k==l;if(n){var o,p=this.session.getLength();do o=this.session.getLine(l);while(/[=:]/.test(o)&&++l<p);do o=this.session.getLine(k);while(/[=:]/.test(o)&&--k>0);0>k&&(k=0),l>=p&&(l=p-1)}var q=this.session.removeFullLines(k,l);q=this.$reAlignText(q,n),this.session.insert({row:k,column:0},q.join("\n")+"\n"),n||(j.start.column=0,j.end.column=q[q.length-1].length),this.selection.setRange(j)}},this.$reAlignText=function(a,b){function c(a){return m.stringRepeat(" ",a)}function d(a){return a[2]?c(g)+a[2]+c(h-a[2].length+i)+a[4].replace(/^([=:])\s+/,"$1 "):a[0]}function e(a){return a[2]?c(g+h-a[2].length)+a[2]+c(i," ")+a[4].replace(/^([=:])\s+/,"$1 "):a[0]}function f(a){return a[2]?c(g)+a[2]+c(i)+a[4].replace(/^([=:])\s+/,"$1 "):a[0]}var g,h,i,j=!0,k=!0;return a.map(function(a){var b=a.match(/(\s*)(.*?)(\s*)([=:].*)/);return b?null==g?(g=b[1].length,h=b[2].length,i=b[3].length,b):(g+h+i!=b[1].length+b[2].length+b[3].length&&(k=!1),g!=b[1].length&&(j=!1),g>b[1].length&&(g=b[1].length),h<b[2].length&&(h=b[2].length),i>b[3].length&&(i=b[3].length),b):[a]}).map(b?d:j?k?e:d:f)}}).call(r.prototype),b.onSessionChange=function(a){var b=a.session;b&&!b.multiSelect&&(b.$selectionMarkers=[],b.selection.$initRangeList(),b.multiSelect=b.selection),this.multiSelect=b&&b.multiSelect;var c=a.oldSession;c&&(c.multiSelect.off("addRange",this.$onAddRange),c.multiSelect.off("removeRange",this.$onRemoveRange),c.multiSelect.off("multiSelect",this.$onMultiSelect),c.multiSelect.off("singleSelect",this.$onSingleSelect),c.multiSelect.lead.off("change",this.$checkMultiselectChange),c.multiSelect.anchor.off("change",this.$checkMultiselectChange)),b&&(b.multiSelect.on("addRange",this.$onAddRange),b.multiSelect.on("removeRange",this.$onRemoveRange),b.multiSelect.on("multiSelect",this.$onMultiSelect),b.multiSelect.on("singleSelect",this.$onSingleSelect),b.multiSelect.lead.on("change",this.$checkMultiselectChange),b.multiSelect.anchor.on("change",this.$checkMultiselectChange)),b&&this.inMultiSelectMode!=b.selection.inMultiSelectMode&&(b.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},b.MultiSelect=f,a("./config").defineOptions(r.prototype,"editor",{enableMultiselect:{set:function(a){f(this),a?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",k)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",k))},value:!0},enableBlockSelect:{set:function(a){this.$blockSelectEnabled=a},value:!0}})}),define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(a,b,c){"use strict";var d=a("../../range").Range,e=b.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(a,b,c){var d=a.getLine(c);return this.foldingStartMarker.test(d)?"start":"markbeginend"==b&&this.foldingStopMarker&&this.foldingStopMarker.test(d)?"end":""},this.getFoldWidgetRange=function(a,b,c){return null},this.indentationBlock=function(a,b,c){var e=/\S/,f=a.getLine(b),g=f.search(e);if(-1!=g){for(var h=c||f.length,i=a.getLength(),j=b,k=b;++b<i;){var l=a.getLine(b).search(e);if(-1!=l){if(g>=l)break;k=b}}if(k>j){var m=a.getLine(k).length;return new d(j,h,k,m)}}},this.openingBracketBlock=function(a,b,c,e,f){var g={row:c,column:e+1},h=a.$findClosingBracket(b,g,f);if(h){var i=a.foldWidgets[h.row];return null==i&&(i=a.getFoldWidget(h.row)),"start"==i&&h.row>g.row&&(h.row--,h.column=a.getLine(h.row).length),d.fromPoints(g,h)}},this.closingBracketBlock=function(a,b,c,e,f){var g={row:c,column:e},h=a.$findOpeningBracket(b,g);return h?(h.column++,g.column--,d.fromPoints(h,g)):void 0}}).call(e.prototype)}),define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(a,b,c){"use strict";b.isDark=!1,b.cssClass="ace-tm",b.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}';var d=a("../lib/dom");d.importCssString(b.cssText,b.cssClass)}),define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],function(a,b,c){"use strict";function d(a){this.session=a,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}var e=(a("./lib/oop"),a("./lib/dom"));a("./range").Range;(function(){this.getRowLength=function(a){var b;return b=this.lineWidgets?this.lineWidgets[a]&&this.lineWidgets[a].rowCount||0:0,this.$useWrapMode&&this.$wrapData[a]?this.$wrapData[a].length+1+b:1+b},this.$getWidgetScreenLength=function(){var a=0;return this.lineWidgets.forEach(function(b){b&&b.rowCount&&!b.hidden&&(a+=b.rowCount)}),a},this.$onChangeEditor=function(a){this.attach(a.editor)},this.attach=function(a){a&&a.widgetManager&&a.widgetManager!=this&&a.widgetManager.detach(),this.editor!=a&&(this.detach(),this.editor=a,a&&(a.widgetManager=this,a.renderer.on("beforeRender",this.measureWidgets),a.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(a){var b=this.editor;if(b){this.editor=null,b.widgetManager=null,b.renderer.off("beforeRender",this.measureWidgets),b.renderer.off("afterRender",this.renderWidgets);var c=this.session.lineWidgets;c&&c.forEach(function(a){a&&a.el&&a.el.parentNode&&(a._inDocument=!1,a.el.parentNode.removeChild(a.el))})}},this.updateOnFold=function(a,b){var c=b.lineWidgets;if(c&&a.action){for(var d=a.data,e=d.start.row,f=d.end.row,g="add"==a.action,h=e+1;f>h;h++)c[h]&&(c[h].hidden=g);c[f]&&(g?c[e]?c[f].hidden=g:c[e]=c[f]:(c[e]==c[f]&&(c[e]=void 0),c[f].hidden=g))}},this.updateOnChange=function(a){var b=this.session.lineWidgets;if(b){var c=a.start.row,d=a.end.row-c;if(0===d);else if("remove"==a.action){var e=b.splice(c+1,d);e.forEach(function(a){a&&this.removeLineWidget(a)},this),this.$updateRows()}else{var f=new Array(d);f.unshift(c,0),b.splice.apply(b,f),this.$updateRows()}}},this.$updateRows=function(){var a=this.session.lineWidgets;if(a){var b=!0;a.forEach(function(a,c){if(a)for(b=!1,a.row=c;a.$oldWidget;)a.$oldWidget.row=c,a=a.$oldWidget}),b&&(this.session.lineWidgets=null)}},this.addLineWidget=function(a){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var b=this.session.lineWidgets[a.row];b&&(a.$oldWidget=b,b.el&&b.el.parentNode&&(b.el.parentNode.removeChild(b.el),b._inDocument=!1)),this.session.lineWidgets[a.row]=a,a.session=this.session;var c=this.editor.renderer;a.html&&!a.el&&(a.el=e.createElement("div"),a.el.innerHTML=a.html),a.el&&(e.addCssClass(a.el,"ace_lineWidgetContainer"),a.el.style.position="absolute",a.el.style.zIndex=5,c.container.appendChild(a.el),a._inDocument=!0),a.coverGutter||(a.el.style.zIndex=3),null==a.pixelHeight&&(a.pixelHeight=a.el.offsetHeight),null==a.rowCount&&(a.rowCount=a.pixelHeight/c.layerConfig.lineHeight);var d=this.session.getFoldAt(a.row,0);if(a.$fold=d,d){var f=this.session.lineWidgets;a.row!=d.end.row||f[d.start.row]?a.hidden=!0:f[d.start.row]=a}return this.session._emit("changeFold",{data:{start:{row:a.row}}}),this.$updateRows(),this.renderWidgets(null,c),this.onWidgetChanged(a),a},this.removeLineWidget=function(a){if(a._inDocument=!1,a.session=null,a.el&&a.el.parentNode&&a.el.parentNode.removeChild(a.el),a.editor&&a.editor.destroy)try{a.editor.destroy()}catch(b){}if(this.session.lineWidgets){var c=this.session.lineWidgets[a.row];if(c==a)this.session.lineWidgets[a.row]=a.$oldWidget,a.$oldWidget&&this.onWidgetChanged(a.$oldWidget);else for(;c;){if(c.$oldWidget==a){c.$oldWidget=a.$oldWidget;break}c=c.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:a.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(a){for(var b=this.session.lineWidgets,c=b&&b[a],d=[];c;)d.push(c),c=c.$oldWidget;return d},this.onWidgetChanged=function(a){this.session._changedWidgets.push(a),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(a,b){var c=this.session._changedWidgets,d=b.layerConfig;if(c&&c.length){for(var e=1/0,f=0;f<c.length;f++){var g=c[f];if(g&&g.el&&g.session==this.session){if(!g._inDocument){if(this.session.lineWidgets[g.row]!=g)continue;g._inDocument=!0,b.container.appendChild(g.el)}g.h=g.el.offsetHeight,g.fixedWidth||(g.w=g.el.offsetWidth,g.screenWidth=Math.ceil(g.w/d.characterWidth));var h=g.h/d.lineHeight;g.coverLine&&(h-=this.session.getRowLineCount(g.row),0>h&&(h=0)),g.rowCount!=h&&(g.rowCount=h,g.row<e&&(e=g.row))}}e!=1/0&&(this.session._emit("changeFold",{data:{start:{row:e}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(a,b){var c=b.layerConfig,d=this.session.lineWidgets;if(d){for(var e=Math.min(this.firstRow,c.firstRow),f=Math.max(this.lastRow,c.lastRow,d.length);e>0&&!d[e];)e--;this.firstRow=c.firstRow,this.lastRow=c.lastRow,b.$cursorLayer.config=c;for(var g=e;f>=g;g++){var h=d[g];if(h&&h.el)if(h.hidden)h.el.style.top=-100-(h.pixelHeight||0)+"px";else{h._inDocument||(h._inDocument=!0,b.container.appendChild(h.el));var i=b.$cursorLayer.getPixelPosition({row:g,column:0},!0).top;h.coverLine||(i+=c.lineHeight*this.session.getRowLineCount(h.row)),h.el.style.top=i-c.offset+"px";var j=h.coverGutter?0:b.gutterWidth;h.fixedWidth||(j-=b.scrollLeft),h.el.style.left=j+"px",h.fullWidth&&h.screenWidth&&(h.el.style.minWidth=c.width+2*c.padding+"px"),h.fixedWidth?h.el.style.right=b.scrollBar.getWidth()+"px":h.el.style.right=""}}}}}).call(d.prototype),b.LineWidgets=d}),define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(a,b,c){"use strict";function d(a,b,c){for(var d=0,e=a.length-1;e>=d;){var f=d+e>>1,g=c(b,a[f]);if(g>0)d=f+1;else{if(!(0>g))return f;e=f-1}}return-(d+1)}function e(a,b,c){var e=a.getAnnotations().sort(h.comparePoints);if(e.length){var f=d(e,{row:b,column:-1},h.comparePoints);0>f&&(f=-f-1),f>=e.length?f=c>0?0:e.length-1:0===f&&0>c&&(f=e.length-1);var g=e[f];if(g&&c){if(g.row===b){do g=e[f+=c];while(g&&g.row===b);if(!g)return e.slice()}var i=[];b=g.row;do i[0>c?"unshift":"push"](g),g=e[f+=c];while(g&&g.row==b);return i.length&&i}}}var f=a("../line_widgets").LineWidgets,g=a("../lib/dom"),h=a("../range").Range;b.showErrorMarker=function(a,b){var c=a.session;c.widgetManager||(c.widgetManager=new f(c),c.widgetManager.attach(a));var d=a.getCursorPosition(),h=d.row,i=c.widgetManager.getWidgetsAtRow(h).filter(function(a){return"errorMarker"==a.type})[0];i?i.destroy():h-=b;var j,k=e(c,h,b);if(k){var l=k[0];d.column=(l.pos&&"number"!=typeof l.column?l.pos.sc:l.column)||0,d.row=l.row,j=a.renderer.$gutterLayer.$annotations[d.row]}else{if(i)return;j={text:["Looks good!"],className:"ace_ok"}}a.session.unfold(d.row),a.selection.moveToPosition(d);var m={row:d.row,fixedWidth:!0,coverGutter:!0,el:g.createElement("div"),type:"errorMarker"},n=m.el.appendChild(g.createElement("div")),o=m.el.appendChild(g.createElement("div"));o.className="error_widget_arrow "+j.className;var p=a.renderer.$cursorLayer.getPixelPosition(d).left;o.style.left=p+a.renderer.gutterWidth-5+"px",m.el.className="error_widget_wrapper",n.className="error_widget "+j.className,n.innerHTML=j.text.join("<br>"),n.appendChild(g.createElement("div"));var q=function(a,b,c){return 0!==b||"esc"!==c&&"return"!==c?void 0:(m.destroy(),{command:"null"})};m.destroy=function(){a.$mouseHandler.isMousePressed||(a.keyBinding.removeKeyboardHandler(q),c.widgetManager.removeLineWidget(m),a.off("changeSelection",m.destroy),a.off("changeSession",m.destroy),a.off("mouseup",m.destroy),a.off("change",m.destroy))},a.keyBinding.addKeyboardHandler(q),a.on("changeSelection",m.destroy),a.on("changeSession",m.destroy),a.on("mouseup",m.destroy),a.on("change",m.destroy),a.session.widgetManager.addLineWidget(m),m.el.onmousedown=a.focus.bind(a),a.renderer.scrollCursorIntoView(null,.5,{bottom:m.el.offsetHeight})},g.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")}),define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(a,b,c){"use strict";a("./lib/fixoldbrowsers");var d=a("./lib/dom"),e=a("./lib/event"),f=a("./editor").Editor,g=a("./edit_session").EditSession,h=a("./undomanager").UndoManager,i=a("./virtual_renderer").VirtualRenderer;a("./worker/worker_client"),a("./keyboard/hash_handler"),a("./placeholder"),a("./multi_select"),a("./mode/folding/fold_mode"),a("./theme/textmate"),a("./ext/error_marker"),b.config=a("./config"),b.require=a,"function"==typeof define&&(b.define=define),b.edit=function(a){if("string"==typeof a){var c=a;if(a=document.getElementById(c),!a)throw new Error("ace.edit can't find div #"+c)}if(a&&a.env&&a.env.editor instanceof f)return a.env.editor;var g="";if(a&&/input|textarea/i.test(a.tagName)){var h=a;g=h.value,a=d.createElement("pre"),h.parentNode.replaceChild(a,h)}else a&&(g=d.getInnerText(a),a.innerHTML="");var j=b.createEditSession(g),k=new f(new i(a));k.setSession(j);var l={document:j,editor:k,onResize:k.resize.bind(k,null)};return h&&(l.textarea=h),e.addListener(window,"resize",l.onResize),k.on("destroy",function(){e.removeListener(window,"resize",l.onResize),l.editor.container.env=null}),k.container.env=k.env=l,k},b.createEditSession=function(a,b){var c=new g(a,b);return c.setUndoManager(new h),c},b.EditSession=g,b.UndoManager=h,b.version="1.2.6"}),function(){window.require(["ace/ace"],function(a){a&&(a.config.init(!0),a.define=window.define),window.ace||(window.ace=a);for(var b in a)a.hasOwnProperty(b)&&(window.ace[b]=a[b])})}(),angular.module("sat5TelemetryApp",["insights","ui.indeterminate","ui.ace"]).config(["$urlRouterProvider","$locationProvider","$stateProvider","$provide","$httpProvider","SAT5_ROOT_URLS","TELEMETRY_URLS","InsightsConfigProvider","SYSTEM_DETAILS_PAGE_URLS",function(a,b,c,d,e,f,g,h,i){h.setGettingStartedLink("https://access.redhat.com/insights/getting-started/satellite/5/"),h.setFetchRelatedSolution(!1),h.setAllowExport(!0),h.setGetSystemStatus(!0),h.setPlannerEnabled(!1),h.setOverviewKey("overview-satellite6"),h.setApiPrefix("/"+f.PROXY+g.API_ROOT+"/"),h.setSystemShowSystem(function(a){window.location="/"+f.RHN+"/"+i.INSIGHTS+"?sid="+a.remote_leaf}),h.setGetReportsErrorCallback(function(a,b,c,d){return 404===b?'<p>This system is not registered with Red Hat Insights. First install the redhat-access-insights RPM using the <a href="/rhn/systems/Insights.do#/setup">Setup page</a>. Then register this system with Red Hat Insights by following <a href="https://access.redhat.com/insights/getting-started/satellite/5/#register">these instructions</a>.</p>':void 0}),a.otherwise(function(){}),b.html5Mode({enabled:!1,requireBase:!1,rewriteLinks:!1}),c.state("rhaInsightsSat5Setup",{url:"/setup",templateUrl:"scripts/views/setupState.html"}),c.state("rhaInsightsSat5General",{url:"/general",templateUrl:"scripts/views/generalState.html"}),d.factory("AuthInterceptor",["$injector",function(a){return{responseError:function(b){var c=a.get("$q"),d=a.get("$window");return(401===b.status||403===b.status)&&d.location.reload(),c.reject(b)}}}]),e.interceptors.push("AuthInterceptor")}]).run(["$rootScope","$state","Sat5TelemetrySystems","SystemOverviewService","Util","Admin","SYSTEM_PAGE_URLS","EVENTS","SAT5_ROOT_URLS","ADMIN_PAGE_URLS","SYSTEM_DETAILS_PAGE_URLS","RHA_INSIGHTS","TELEMETRY_URLS","_",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){if(l.UTILS.isOnSystemListPage()){var o=1;$('<th id="rha-insights-system-health-col-head" class="ng-hide">Insights</th>').insertAfter($(".table > thead > tr > th:eq("+o+")"));var p=$(".list-sizeselector > select").val();if(e.thereAreSystemsOnOverviewPage())for(var q=0;p>q;q++){var r=$(".table > tbody > tr:eq("+q+")");if(0===r.length)break;var s=$(".table > tbody > tr:eq("+q+") > td:eq(1) > a")[0].href,t=e.getSidFromUrl(s);$('<td class="rha-insights-system-health-col ng-hide"><health-icon sid="'+t+'"/></td>').insertAfter($(".table > tbody > tr:eq("+q+") > td:eq("+o+")"))}}else l.UTILS.isOnSystemDetailsPage()?($('<li id="rha-insights-system-details" class="ng-hide"><a href="/rhn/systems/details/Insights.do?sid='+e.getSidFromUrl(window.location.search)+'">Insights</a></li>').insertAfter($("#spacewalk-content > div.spacewalk-content-nav > ul.nav-tabs-pf > li:last")),l.UTILS.isOnPage(k.INSIGHTS)&&($("#spacewalk-content > div.spacewalk-content-nav > ul.nav-tabs-pf > li").removeClass("active"),$("#spacewalk-content > div.spacewalk-content-nav > ul.nav-tabs-pf > li:last").addClass("active"),$("#spacewalk-content").append("<h2>Red Hat Insights</h2>"),$("#spacewalk-content").append('<div class="main-content insights-main-content"><div class="rule-summaries" loading="{isLoading: true}" machine-id="'+e.getSidFromUrl(window.location.search)+'" rule="" system="{}"/></div>'),f.getSystemDetails(e.getSidFromUrl()).then(function(a){var b="spacewalk-icon-virtual-host";"guest"===a.data.type&&(b="spacewalk-icon-virtual-guest"),$("#spacewalk-content > .spacewalk-toolbar-h1 > h1").html('<i class="fa '+b+'" />'),$("#spacewalk-content > .spacewalk-toolbar-h1 > h1").append(a.data.name);var c=$("#spacewalk-content > .spacewalk-toolbar-h1 > .spacewalk-toolbar > a:eq(0)");c.attr("href",c.attr("href")+a.data.id);var d=$("#spacewalk-content > .spacewalk-toolbar-h1 > .spacewalk-toolbar > a:eq(1)");d.attr("href",d.attr("href")+a.data.id),$("#spacewalk-content > .spacewalk-toolbar > a:eq(0)").text(a.data.name)}))):l.UTILS.isOnInsightsOverviewPage()?$("#rha-insights-sidenav").after('<li class="rha-insights-sidenav-sub"><ul class="nav nav-pills nav-stacked"><li id="rha-insights-sat5-systems-overview-tab" class="active"><a ng-click="SystemOverviewService.switchToOverviewTab()">Overview</a></li><li id="rha-insights-sat5-systems-setup-tab"><a ng-click="SystemOverviewService.switchToSetupTab()">Setup</a></li></ul></li>'):l.UTILS.isOnHelpPage()&&($("#help-url-list").append('<li><a style="font-size:12pt" href="https://access.redhat.com/insights/info">Red Hat Insights Info</a><br/>Information about Red Hat Insights</li>'),$("#help-url-list").append('<li><a style="font-size:12pt" href="https://access.redhat.com/insights/getting-started/satellite/5/">Red Hat Insights Getting Started Guide</a><br/>Using and administering Red Hat Insights</li>'));
f.setEnabled(window.RHA_INSIGHTS.config.enabled),f.setDebug(window.RHA_INSIGHTS.config.debug),f.setConfigLoaded(!0),a.$broadcast(h.GENERAL_CONFIG_LOADED),window.RHA_INSIGHTS.config.enabled&&($(".rha-insights-system-health-col").removeClass("ng-hide"),$("#rha-insights-system-health-col-head").removeClass("ng-hide"),l.UTILS.isOnSystemListPage()&&e.thereAreSystemsOnOverviewPage()&&c.populate())}]),angular.module("sat5TelemetryApp").constant("EVENTS",{SYSTEMS_POPULATED:"systems_populated",GENERAL_CONFIG_LOADED:"general_config_loaded"}).constant("HTTP_CONST",{ACCEPT:"accept",APPLICATION_JSON:"application/json",TEXT_PLAIN:"text/plain",CONTENT_TYPE:"Content-Type",GET:"GET",POST:"POST"}).constant("CONFIG_KEYS",{USERNAME:"username",PASSWORD:"password",SATELLITE_USER:"satellite_user",ENABLED:"enabled",DEBUG:"debug",SYSTEMS:"systems",TIMESTAMP:"timestamp"}).constant("TELEMETRY_API_KEYS",{REMOTE_LEAF:"remote_leaf"}).constant("CONFIG_URLS",{GENERAL:"/redhat_access/config/general",SYSTEMS:"/redhat_access/config/systems",STATUS:"/redhat_access/config/status",SOFTWARE_CHANNELS:"/redhat_access/config/channels/software",CONNECTION:"/redhat_access/config/connection",LOG:"/redhat_access/config/log"}).constant("TELEMETRY_URLS",{SYSTEMS_SUMMARY:"/redhat_access/r/insights/v3/systems?summary=true",API_ROOT:"/r/insights"}).constant("ADMIN_TABS",{GENERAL:"general",SYSTEMS:"systems",RULES:"rules"}).constant("ALERT_TYPES",{DANGER:"danger",WARNING:"warning",INFO:"info",SUCCESS:"success"}).constant("RPM_SCHEDULE_CONST",{INSTALL:"install",UNINSTALL:"uninstall",NOT_SCHEDULED:"no"}).constant("_",window._).constant("RHA_INSIGHTS",window.RHA_INSIGHTS).constant("SYSTEM_DETAILS_PAGE_URLS",window.SYSTEM_DETAILS_PAGE_URLS).constant("SAT5_ROOT_URLS",window.SAT5_ROOT_URLS).constant("ADMIN_PAGE_URLS",window.ADMIN_PAGE_URLS).constant("SYSTEM_PAGE_URLS",window.SYSTEM_PAGE_URLS),angular.module("sat5TelemetryApp").controller("GeneralTab",["_","$scope","$http","Admin","Alert","EVENTS",function(a,b,c,d,e,f){b.softwareChannels=[],b.enabled=!1,b.connectionStatus="unknown",b.loading=!0,b.log="",b.debug=!1,b.initialDebug=!1,b.initialEnabled=!1,b.disableUpdateButton=function(){var a=!1;return(b.loading||b.initialDebug===b.debug&&b.initialEnabled===b.enabled)&&(a=!0),a},b.doUpdate=function(){b.loading=!0,d.postConfig(b.enabled,b.debug).success(function(a){b.loading=!1,b.initialDebug=b.debug,b.initialEnabled=b.enabled,d.setEnabled(b.enabled),e.success("Insights configuration was successfully updated.",!0)}).error(function(a){e.danger("Error while updating insights config. Please try again or contact support.",!1),b.loading=!1})},b.setValues=function(){b.enabled=d.getEnabled(),b.debug=d.getDebug(),b.initialDebug=b.debug,b.initialEnabled=b.enabled,b.loading=!1},b.getLog=function(a){d.getLog(a).success(function(a){b.log=a}).error(function(a){console.log(a),e.danger("Unable to retrieve rhai.log.")})},b.doTestConnection=function(){b.connectionStatus="loading",d.testConnection().success(function(a){a.connected?b.connectionStatus="success":(b.connectionStatus="fail",e.danger("Unable to connect to Red Hat Servers. Please view the Test Connection Log below for more info."),b.getLog(a.timestamp))}).error(function(a){b.connectionStatus="unknown",e.danger("Unable to test connection to Red Hat Insights API.")})},b.getLoadingTooltip=function(){return"Trying to connect to Red Hat Insights API..."},b.getSuccessTooltip=function(){return"Connection to Red Hat Insights API was successful."},b.getUnknownTooltip=function(){return"Press the button to test connection between Satellite and Red Hat Insights API."},b.getFailTooltip=function(){return"Unable to connect to Red Hat Insights API."},b.onAceLoad=function(a){a.$blockScrolling=1/0},d.getConfigLoaded()?b.setValues():b.$on(f.GENERAL_CONFIG_LOADED,function(){b.setValues()})}]),angular.module("sat5TelemetryApp").directive("healthIcon",function(){return{controller:"HealthIcon",templateUrl:"scripts/views/healthIcon.html",restrict:"E",scope:{sid:"="},link:function(a,b,c){}}}),angular.module("sat5TelemetryApp").directive("rhaInsightsSat5GeneralTab",function(){return{controller:"GeneralTab",templateUrl:"scripts/views/generalTab.html",restrict:"EA",link:function(a,b,c){}}}),angular.module("sat5TelemetryApp").factory("Admin",["_","$http","EVENTS","CONFIG_URLS","HTTP_CONST","CONFIG_KEYS","ADMIN_TABS",function(a,b,c,d,e,f,g){var h=g.GENERAL,i=!1,j=!1,k="",l=!1,m=[],n=[],o=10,p=0,q=0,r=[],s=!1,t=!1,u=function(a){s=a},v=function(){return s},w=function(){return t},x=function(a){h=a},y=function(){return h},z=function(){return h===g.GENERAL},A=function(){return h===g.SYSTEMS},B=function(){return h===g.RULES},C=function(){return i},D=function(a){i=a},E=function(){return j},F=function(a){j=a},G=function(){return l},H=function(a){l=a},I=function(){return k},J=function(a){k=a},K=function(a){m=a},L=function(){return m},M=function(a){o=a},N=function(){return o},O=function(a){p=a},P=function(){return p},Q=function(){return q},R=function(a){q=a},S=function(){return P()*N()},T=function(b){n=a.union(n,b)},U=function(b){var c=a.where(n,{id:b.id});return c[0]},V=function(){return n},W=function(b){a.isEqual(a.pluck(b,"id"),a.pluck(r,"id"))||(r=b,ea()),r=b},X=function(){return r},Y=function(){return $('nav.navbar-pf > div.navbar-collapse > ul.navbar-nav > li > a[href="/rhn/account/UserDetails.do"]').text().trim()},Z=function(b){var c=a.difference(a.pluck(b,"id"),a.pluck(V(),"id"));return c},_=function(a,c){var g={};g[e.ACCEPT]=e.APPLICATION_JSON,g[e.CONTENT_TYPE]=e.APPLICATION_JSON;var h={};h[f.SATELLITE_USER]=Y();var i={};i[f.ENABLED]=a,i[f.DEBUG]=c;var j=b({method:e.POST,url:d.GENERAL,headers:g,data:i,params:h});return j},aa=function(){var a={};a[e.ACCEPT]=e.APPLICATION_JSON;var c={};c[f.SATELLITE_USER]=Y();var g=b({method:e.GET,url:d.GENERAL,headers:a,params:c});return g},ba=function(a){var c={};c[e.ACCEPT]=e.APPLICATION_JSON,c[e.CONTENT_TYPE]=e.APPLICATION_JSON;var g={};g[f.SATELLITE_USER]=Y();var h=a,i=b({method:e.POST,url:d.SYSTEMS,headers:c,params:g,data:h});return i},ca=function(a){var c={};c[e.ACCEPT]=e.APPLICATION_JSON;var f=b({method:e.GET,url:d.SYSTEMS+"/"+a,headers:c});return f},da=function(){var a={};a[e.ACCEPT]=e.APPLICATION_JSON;var c={};c[f.SATELLITE_USER]=Y();var g=b({method:e.GET,url:d.SYSTEMS,headers:a,params:c});return g},ea=function(){var b=X(),c=Z(b),d=null;return a.isEmpty(c)||(t=!0,d=ha(c).then(function(a){t=!1,T(a.data),fa(c)})),d},fa=function(b){a.forEach(b,function(b){var c=a.findIndex(m,{id:b});m[c].enabled=a.find(n,{id:b}).enabled})},ga=function(){n=[];var a=ea();return a},ha=function(a){var c={};c[e.ACCEPT]=e.APPLICATION_JSON,c[e.CONTENT_TYPE]=e.APPLICATION_JSON;var g={};g[f.SATELLITE_USER]=Y(),g[f.SYSTEMS]=a.join();var h=b({method:e.GET,url:d.STATUS,headers:c,params:g});return h},ia=function(b){var c=a.findIndex(m,{id:b.id});m[c].enabled=b.enabled,m[c].indeterminate=!1},ja=function(b){var c=a.findIndex(n,{id:b.id});n[c].enabled=b.enabled},ka=function(){var a={};a[e.ACCEPT]=e.APPLICATION_JSON;var c={};c[f.SATELLITE_USER]=Y();var g=b({method:e.GET,url:d.CONNECTION,headers:a,params:c});return g},la=function(a){var c={};c[e.ACCEPT]=e.TEXT_PLAIN;var g={};g[f.SATELLITE_USER]=Y(),g[f.TIMESTAMP]=a;var h=b({method:e.GET,url:d.LOG,headers:c,params:g});return h};return{postConfig:_,getConfig:aa,setTab:x,getTab:y,generalTabSelected:z,systemsTabSelected:A,getSystemsPromise:da,postSystems:ba,getEnabled:C,setEnabled:D,getDebug:E,setDebug:F,setUsername:J,getUsername:I,getSystems:L,setSystems:K,getPageSize:N,setPageSize:M,getPage:P,setPage:O,getNumSystems:Q,getPageStart:S,updateSystemLength:R,getStatusPromise:ha,getSystemStatus:U,getStatuses:ea,setFilteredSystems:W,getFilteredSystems:X,getSystemStatuses:V,updateSystemStatus:ja,getSystemDetails:ca,updateStatuses:ga,getPasswordSet:G,setPasswordSet:H,rulesTabSelected:B,getConfigLoaded:v,setConfigLoaded:u,updateSystem:ia,testConnection:ka,getLog:la,getLoadingStatuses:w}}]),angular.module("sat5TelemetryApp").service("Sat5TelemetrySystems",["$http","$rootScope","EVENTS","HTTP_CONST","TELEMETRY_URLS",function(a,b,c,d,e){this.systems=[],this.populate=function(){var f={};f[d.ACCEPT]=d.APPLICATION_JSON;var g=a({method:d.GET,url:e.SYSTEMS_SUMMARY,headers:f});return g.success(angular.bind(this,function(a){var d=$("#rha-insights-sat5-loading-alert");d&&d.remove(),this.systems=a.systems,b.$broadcast(c.SYSTEMS_POPULATED)})),g.error(function(a){console.log(a)}),g}}]),angular.module("sat5TelemetryApp").service("Util",["SYSTEM_DETAILS_PAGE_URLS","SYSTEM_PAGE_URLS","SAT5_ROOT_URLS",function(a,b,c){this.getSidFromUrl=function(a){var b=new URI(a).query(!0);return b.sid},this.thereAreSystemsOnOverviewPage=function(){var a=!0;return"No systems."===$(".table > tbody > tr > td > div").text()&&(a=!1),a}}]),angular.module("sat5TelemetryApp").controller("HealthIcon",["_","$scope","EVENTS","Sat5TelemetrySystems","SAT5_ROOT_URLS","SYSTEM_DETAILS_PAGE_URLS","TELEMETRY_API_KEYS",function(a,b,c,d,e,f,g){b.STATUSES={LOADING:"loading",GOOD:"good",BAD:"bad",UNKNOWN:"unknown"},b.system=null,b.system_status=b.STATUSES.LOADING,b.$on(c.SYSTEMS_POPULATED,function(){var c={};c[g.REMOTE_LEAF]=b.sid.toString(),b.system=a.find(d.systems,c),a.isEmpty(b.system)?b.system_status=b.STATUSES.UNKNOWN:a.isEmpty(b.system.reports)?b.system_status=b.STATUSES.GOOD:b.system_status=b.STATUSES.BAD}),b.getTooltip=function(){if(b.system_status===b.STATUSES.UNKNOWN)tooltip="System is not registered with Insights.";else if(b.system_status===b.STATUSES.GOOD)tooltip="0 Actions";else if(b.system_status===b.STATUSES.BAD){var a=" Action";b.system.reports.length>1&&(a+="s"),tooltip=b.system.reports.length+a}else b.system_status===b.STATUSES.LOADING&&(tooltip="Loading...");return tooltip},b.getSystemUrl=function(){return"/"+e.RHN+"/"+f.INSIGHTS+"?sid="+b.system.remote_leaf}}]),angular.module("sat5TelemetryApp").controller("SystemDetails",["_","$scope",function(a,b){}]),angular.module("sat5TelemetryApp").directive("rhaInsightsSystemDetails",function(){return{controller:"SystemDetails",templateUrl:"scripts/views/systemDetails.html",restrict:"E",link:function(a,b,c){}}}),angular.module("sat5TelemetryApp").controller("Overview",["_","$scope",function(a,b){}]),angular.module("sat5TelemetryApp").directive("rhaInsightsSat5Admin",function(){return{controller:"Admin",templateUrl:"scripts/views/admin.html",restrict:"E",link:function(a,b,c){}}}),angular.module("sat5TelemetryApp").controller("Admin",["$scope","Admin",function(a,b){a.generalTabSelected=b.generalTabSelected,a.systemsTabSelected=b.systemsTabSelected,a.rulesTabSelected=b.rulesTabSelected,a.toggleServiceIsEnabled=function(){b.setServiceIsEnabled(!b.getServiceIsEnabled())}}]),angular.module("sat5TelemetryApp").directive("rhaInsightsSat5AdminNav",function(){return{controller:"AdminNav",templateUrl:"scripts/views/adminNav.html",restrict:"E",link:function(a,b,c){}}}),angular.module("sat5TelemetryApp").controller("AdminNav",["$scope","Admin","ADMIN_TABS","$state",function(a,b,c,d){a.generalTabSelected=b.generalTabSelected,a.systemsTabSelected=b.systemsTabSelected,a.rulesTabSelected=b.rulesTabSelected,a.selectGeneralTab=function(){b.setTab(c.GENERAL),d.go("rhaInsightsSat5General")},a.selectSystemsTab=function(){b.setTab(c.SYSTEMS),d.go("rhaInsightsSat5Setup")},a.selectRulesTab=function(){d.go("app.rules",{},{reload:!0}),b.setTab(c.RULES)};var e=window.location.pathname.split("/");"general"===e[1]?a.selectGeneralTab():"setup"===e[1]?a.selectSystemsTab():"rules"===e[1]?a.selectRulesTab():a.selectGeneralTab()}]),angular.module("sat5TelemetryApp").controller("SystemTab",["$scope","Admin",function(a,b){a.getEnabled=b.getEnabled}]),angular.module("sat5TelemetryApp").directive("rhaInsightsSat5SystemTab",function(){return{controller:"SystemTab",templateUrl:"scripts/views/systemTab.html",restrict:"EA",link:function(a,b,c){}}}),angular.module("sat5TelemetryApp").directive("rhaInsightsSat5Alert",function(){return{controller:"Alert",templateUrl:"scripts/views/alert.html",restrict:"E",link:function(a,b,c){}}}),angular.module("sat5TelemetryApp").controller("Alert",["$scope","Alert","ALERT_TYPES",function(a,b,c){a.getMessage=b.getMessage,a.isDanger=function(){return b.getType()===c.DANGER},a.isSuccess=function(){return b.getType()===c.SUCCESS},a.isInfo=function(){return b.getType()===c.INFO},a.isWarning=function(){return b.getType()===c.WARNING}}]),angular.module("sat5TelemetryApp").factory("Alert",["ALERT_TYPES","$timeout",function(a,b){var c=null,d=null,e=function(e,f){c=a.INFO,d=e,f&&b(function(){k()},15e3)},f=function(e,f){c=a.WARNING,d=e,f&&b(function(){k()},15e3)},g=function(e,f){c=a.DANGER,d=e,f&&b(function(){k()},15e3)},h=function(e,f){c=a.SUCCESS,d=e,f&&b(function(){k()},15e3)},i=function(){return c},j=function(){return d},k=function(){d=null,c=null};return{info:e,success:h,danger:g,warning:f,getType:i,getMessage:j,clear:k}}]),angular.module("sat5TelemetryApp").directive("rhaInsightsSat5SystemTable",function(){return{controller:"SystemTable",templateUrl:"scripts/views/systemTable.html",restrict:"EA",link:function(a,b,c){}}}),angular.module("sat5TelemetryApp").controller("SystemTable",["_","$scope","Admin","Alert","Sat5TelemetrySystems","RPM_SCHEDULE_CONST","SAT5_ROOT_URLS","SYSTEM_DETAILS_PAGE_URLS",function(a,b,c,d,e,f,g,h){b.loadingSystems=!0,b.filter="",b.systems=[],b.orderBy="name",b.pageSizes=[{value:5},{value:10},{value:20},{value:50},{value:100},{value:250},{value:500}],b.alphas=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],b.alpha="",b.filteredSystems=[],b.getSystems=c.getSystems,b.getPageSize=c.getPageSize,b.getPage=c.getPage,b.getPageStart=c.getPageStart,b.getSystemStatus=c.getSystemStatus,b.updateSystemStatus=c.updateSystemStatus,b.getLoadingStatuses=c.getLoadingStatuses,b.updatingSystems=!1,b.disableAlphabarElement=function(b){return!a.some(c.getSystems(),function(c){return a.startsWith(c.name.toLowerCase(),b.toLowerCase())})},b.alphabarFilter=function(a){c.setPage(0),b.alpha===a?b.alpha="":b.alpha=a},b.doFilter=function(){c.setPage(0)},b.setPageSize=function(a){c.setPage(0),c.setPageSize(a)},b.toggleStatusSort=function(){"status"===b.orderBy?b.orderBy="-status":b.orderBy="status"},b.toggleNameSort=function(){"name"===b.orderBy?b.orderBy="-name":b.orderBy="name"},b.toggleAll=function(){var d=b.allSelected();a.forEach(c.getFilteredSystems(),function(a){a.enabled=!d,c.updateSystem(a),c.updateSystemStatus(a)})},b.allSelected=function(){return!a.some(c.getSystems(),{enabled:!1})},b.allPartiallySelected=function(){var d=!1,e=a.some(c.getSystems(),{enabled:!0});return b.allSelected()?d=!1:e&&(d=!0),d},b.systemPartiallySelected=function(a){var d=!1;return a.indeterminate!==!1&&b.getInstallationStatus(c.getSystemStatus(a))===k&&(d=!0),d},b.getNumSelected=function(){return a.where(c.getSystems(),{enabled:!0}).length},b.getSystemUrl=function(a){return"/"+g.RHN+"/"+h.OVERVIEW+"?sid="+a.id},b.doApply=function(){b.updatingSystems=!0,d.info("Applying changes to systems..."),c.postSystems(c.getSystemStatuses()).success(function(a){b.updatingSystems=!1,d.success("Successfully applied changes to systems.",!0),c.updateStatuses()}).error(function(a){b.updatingSystems=!1,d.danger("Problem updating systems. Please try again.",!0),c.updateStatuses()})},b.disableSystemCheckbox=function(a){var c=!1;return(b.loadingStatus(b.getSystemStatus(a))||b.installationPending(b.getSystemStatus(a))||b.noChannel(b.getSystemStatus(a))||b.isLoading())&&(c=!0),c},b.installStatusTooltip=function(d){var e="",g=c.getSystemStatus(d),h=b.getInstallationStatus(g);return h===j?e="Red Hat Insights RPM is not available to this server.":h===k?(e="Red Hat Insights RPM is scheduled to be ",e+=a.startsWith(g.installationStatus.rpmScheduled,f.INSTALL)?"installed.":"uninstalled."):h===l?e="Red Hat Insights RPM is not installed":h===m&&(e="Red Hat Insights RPM is installed"),e};var i=-1,j=0,k=1,l=2,m=3,n=4;b.getInstallationStatus=function(b){var c=-1;if(!a.isEmpty(b)){var d=b.installationStatus;c=d.rpmInstalled||d.rpmScheduled!==f.NOT_SCHEDULED||d.rpmAvailable?!d.rpmInstalled&&d.rpmScheduled===f.NOT_SCHEDULED&&d.rpmAvailable?l:d.rpmScheduled!==f.NOT_SCHEDULED?k:m:j}return c},b.noInstallation=function(a){var c=b.getInstallationStatus(a);return c===l?!0:!1},b.installationPending=function(a){var c=b.getInstallationStatus(a);return c===k?!0:!1},b.installationSuccess=function(a){var c=b.getInstallationStatus(a);return c===m?!0:!1},b.noChannel=function(a){var c=b.getInstallationStatus(a);return c===j?!0:!1},b.invalidType=function(a){var c=b.getInstallationStatus(a);return c===n?!0:!1},b.loadingStatus=function(a){var c=b.getInstallationStatus(a);return c===i?!0:!1},b.setSelectionState=function(){a.forEach(c.getSystems(),function(a){b.installationSuccess(a)?a.enabled=!0:b.noInstallation(a)?a.enabled=!1:a.enabled=!1})},b.isLoading=function(){var a=!1;return(b.loadingSystems||b.getLoadingStatuses()||b.updatingSystems)&&(a=!0),a},b.getLoadingMessage=function(){var a="Loading ";return b.updatingSystems?a="Applying changes...":b.loadingSystems?a+="systems":b.getLoadingStatuses()?a+="statuses":b.loadingInsightsSystems&&(a+="Red Hat Insights statuses"),a+"..."},b.getSystemLastCheckIn=function(b){var c=a.find(e.systems,{remote_leaf:b.id.toString()}),d="never";return a.isEmpty(c)||(d=c.last_check_in),d},b.getPendingActionUrl=function(b){var d="/rhn/schedule/InProgressSystems.do?aid=",e=c.getSystemStatus(b),f="";if(a.isEmpty(e)||a.isEmpty(e.installationStatus)||(f=e.installationStatus.rpmScheduled),!a.isEmpty(f)){var g=f.split(":");g.length>1&&(d+=g[1])}return d},b.populateSystems=function(){b.loadingSystems=!0,c.getSystemsPromise().success(function(a){b.loadingSystems=!1,c.setSystems(a)}).error(function(a){b.loadingSystems=!1,d.danger("Problem loading systems. Please try again.")}),b.loadingInsightsSystems=!0,e.populate().success(function(a){b.loadingInsightsSystems=!1}).error(function(a){b.loadingInsightsSystems=!1,d.danger("Unable to load last check in times. Please validate the connection to Red Hat Insights and try again.")})},b.populateSystems()}]),angular.module("sat5TelemetryApp").directive("rhaInsightsSat5Pagination",function(){return{controller:"Pagination",templateUrl:"scripts/views/pagination.html",restrict:"A"}}),angular.module("sat5TelemetryApp").controller("Pagination",["_","$scope","Admin",function(a,b,c){b.getNumSystems=c.getNumSystems,b.setPage=c.setPage,b.getPage=c.getPage,b.getPageStart=c.getPageStart,b.getPageSize=c.getPageSize,b.getNumSystems=c.getNumSystems,b.getPageEnd=function(){var a=c.getPageStart()+c.getPageSize();return a>c.getNumSystems()&&(a=c.getNumSystems()),a},b.pageBack=function(){c.setPage(c.getPage()-1)},b.pageForward=function(){c.setPage(c.getPage()+1)},b.pageEnd=function(){var a=c.getNumSystems()/c.getPageSize();a%1===0?a-=1:a=Math.floor(a),c.setPage(a)},b.pageStart=function(){c.setPage(0)},b.disablePageBack=function(){return 0===c.getPage()},b.disablePageForward=function(){return c.getPageStart()+c.getPageSize()>=c.getNumSystems()}}]),angular.module("sat5TelemetryApp").filter("systemsFilter",["_","$filter","Admin",function(a,b,c){return function(d,e,f,g,h){return d=a.filter(d,function(b){return a.startsWith(b.name.toLowerCase(),h.toLowerCase())}),d=b("filter")(d,e),c.updateSystemLength(d.length),d=b("orderBy")(d,f),g=parseInt(g),d=d.slice(g),d=b("limitTo")(d,c.getPageSize()),c.setFilteredSystems(d),d}}]),angular.module("sat5TelemetryApp").service("SystemOverviewService",["$state",function(a){this.tab="overview",this.switchToSetupTab=function(){a.go("rhaInsightsSat5Setup"),this.tab="setup",$("#rha-insights-sat5-systems-setup-tab").addClass("active"),$("#rha-insights-sat5-systems-overview-tab").removeClass("active"),$("#rha-insights-sat5-systems-rules-tab").removeClass("active")},this.switchToOverviewTab=function(b){a.go("app.overview",b),this.tab="overview",$("#rha-insights-sat5-systems-setup-tab").removeClass("active"),$("#rha-insights-sat5-systems-overview-tab").addClass("active"),$("#rha-insights-sat5-systems-rules-tab").removeClass("active")}}]),angular.module("sat5TelemetryApp").controller("SystemsOverview",["_","$state","$scope","SystemOverviewService",function(a,b,c,d){c.isOnOverviewTab=function(){return"overview"===d.tab};var e=window.location.pathname.split("/");if("overview"===e[1]){var f=e[2];d.switchToOverviewTab({category:f})}else"setup"===e[1]?d.switchToSetupTab():d.switchToOverviewTab();c.SystemOverviewService=d}]),angular.module("sat5TelemetryApp").directive("rhaInsightsSat5SystemsOverview",function(){return{controller:"SystemsOverview",templateUrl:"scripts/views/systemsOverview.html",restrict:"A",link:function(a,b,c){}}}),angular.module("sat5TelemetryApp").controller("RulesTab",["$scope","Admin",function(a,b){a.getEnabled=b.getEnabled}]),angular.module("sat5TelemetryApp").directive("rhaInsightsSat5RulesTab",function(){return{controller:"RulesTab",templateUrl:"scripts/views/rulesTab.html",restrict:"A",link:function(a,b,c){}}}),angular.module("sat5TelemetryApp").run(["$templateCache",function(a){"use strict";a.put("scripts/views/admin.html",'<rha-insights-sat5-alert></rha-insights-sat5-alert><div class=spacewalk-toolbar-h1><h1><i class="fa fa-group"></i>Red Hat Insights Configuration</h1></div><p>Configure the Red Hat Insights service below. Use the Setup tab to select which systems to enable. Use the Rules tab to hide and show rules. See the&nbsp;<a href="https://access.redhat.com/insights/getting-started/satellite/5/">getting started guide</a>&nbsp;for help and the&nbsp;<a href="https://access.redhat.com/insights/info/">info page</a>&nbsp;for details on the service.</p><rha-insights-sat5-admin-nav></rha-insights-sat5-admin-nav><div ng-class="{&quot;insights-main-content&quot;: rulesTabSelected()}" ui-view=""></div>'),a.put("scripts/views/adminNav.html",'<div class=spacewalk-content-nav><ul class="nav nav-tabs"><li ng-class="{active: generalTabSelected()}"><a href="" ng-click=selectGeneralTab()>General</a></li><li ng-class="{active: systemsTabSelected()}"><a href="" ng-click=selectSystemsTab()>Setup</a></li><li ng-class="{active: rulesTabSelected()}"><a href="" ng-click=selectRulesTab()>Rules</a></li></ul></div>'),a.put("scripts/views/alert.html",'<div ng-if=isInfo() class="alert alert-info">{{getMessage()}}</div><div ng-if=isWarning() class="alert alert-warning">{{getMessage()}}</div><div ng-if=isSuccess() class="alert alert-success">{{getMessage()}}</div><div ng-if=isDanger() class="alert alert-danger">{{getMessage()}}</div>'),a.put("scripts/views/generalState.html",'<div rha-insights-sat5-general-tab=""></div>'),a.put("scripts/views/generalTab.html",'<div class="panel panel-default"><div class=panel-heading><h4>General Configuration&nbsp;&nbsp;<i ng-show=loading class="fa fa-spinner fa-spin fa-1-5x"></i></h4></div><div class=panel-body><form class=form-horizontal><div class=form-group><div class="col-lg-offset-3 col-lg-6"><input style="margin-right: 10px" type=button value="Test Connection to Red Hat Insights API" ng-click=doTestConnection() class="btn btn-primary"><i ng-if="connectionStatus === &quot;loading&quot;" tooltip={{getLoadingTooltip()}} tooltip-trigger=mouseenter tooltip-append-to-body=true tooltip-placement=top class="fa fa-spinner fa-spin fa-1-5x"></i><i ng-if="connectionStatus === &quot;success&quot;" tooltip={{getSuccessTooltip()}} tooltip-trigger=mouseenter tooltip-append-to-body=true tooltip-placement=top class="fa fa-check-circle fa-1-5x text-success"></i><i ng-if="connectionStatus === &quot;unknown&quot;" tooltip={{getUnknownTooltip()}} tooltip-trigger=mouseenter tooltip-append-to-body=true tooltip-placement=top class="fa fa-question-circle fa-1-5x"></i><i ng-if="connectionStatus === &quot;fail&quot;" tooltip={{getFailTooltip()}} tooltip-trigger=mouseenter tooltip-append-to-body=true tooltip-placement=top class="fa fa-exclamation-circle fa-1-5x text-danger"></i></div></div><div class=form-group><label for=rha-insights-sat5-enabled class="col-lg-3 control-label">Enable Red Hat Insights Service</label><div class=col-lg-6><div class=checkbox><input id=rha-insights-sat5-enabled type=checkbox ng-model=enabled ng-disabled="loading"></div></div></div><div class=form-group><label for=rha-insights-sat5-enabled class="col-lg-3 control-label">Debug Mode</label><div class=col-lg-6><div class=checkbox><input id=rha-insights-sat5-debug type=checkbox ng-model=debug ng-disabled="loading"></div></div></div><div class=form-group><div class="col-lg-offset-3 col-lg-6"><input type=submit value=Update ng-click=doUpdate() ng-disabled=disableUpdateButton() class="btn btn-success"></div></div></form></div></div><div ng-if="connectionStatus === &quot;fail&quot;" class="panel panel-default"><div class=panel-heading><h4>Test Connection Log</h4></div><div class="panel-body rha-insights-sat5-log"><div ui-ace="{onLoad: onAceLoad, useWrapMode: true, showGutter: true, them: &quot;twilight&quot;, firstLineNumber: 1}" readonly ng-model=log></div></div></div>'),a.put("scripts/views/healthIcon.html",'<i tooltip={{getTooltip()}} tooltip-trigger=mouseenter tooltip-append-to-body=true tooltip-placement=top ng-if="system_status === &quot;good&quot;" class="fa fa-check-circle fa-1-5x text-success"></i><i ng-if="system_status === &quot;loading&quot;" tooltip={{getTooltip()}} tooltip-trigger=mouseenter tooltip-append-to-body=true tooltip-placement=top class="fa fa-spinner fa-spin fa-1-5x"></i><i ng-if="system_status === &quot;unknown&quot;" tooltip={{getTooltip()}} tooltip-trigger=mouseenter tooltip-append-to-body=true tooltip-placement=top class="fa fa-question-circle fa-1-5x"></i><a ng-if="system_status === &quot;bad&quot;" ng-href={{getSystemUrl()}}><i tooltip={{getTooltip()}} tooltip-trigger=mouseenter tooltip-append-to-body=true tooltip-placement=top class="fa fa-exclamation-circle fa-1-5x text-danger"></i></a>'),a.put("scripts/views/pagination.html",'<div class=spacewalk-list-pagination>{{getPageStart() + 1}} - {{getPageEnd()}} of {{getNumSystems()}}&nbsp; <button ng-disabled=disablePageBack() ng-click=pageStart() class="btn btn-default btn-xs fa fa-angle-double-left"></button> <button ng-disabled=disablePageBack() ng-click=pageBack() class="btn btn-default btn-xs fa fa-angle-left"></button> <button ng-disabled=disablePageForward() ng-click=pageForward() class="btn btn-default btn-xs fa fa-angle-right"></button> <button ng-disabled=disablePageForward() ng-click=pageEnd() class="btn btn-default btn-xs fa fa-angle-double-right"></button></div>'),a.put("scripts/views/rulesTab.html",'<div ui-view="" ng-if=getEnabled() class="wrapper ng-cloak main-content insights-main-content"></div><div ng-if=!getEnabled()>Insights is disabled.</div>'),a.put("scripts/views/setupState.html",'<div rha-insights-sat5-system-table=""></div>'),a.put("scripts/views/systemDetails.html",'<error-info-summary machineid="" error-info=""></error-info-summary>'),a.put("scripts/views/systemTab.html",'<div rha-insights-sat5-system-table="" ng-if=getEnabled()></div><div ng-if=!getEnabled()>Insights is disabled.</div>'),a.put("scripts/views/systemTable.html",'<div class=page-summary><p>Select the systems which will report data to Red Hat Insights. After clicking apply, the redhat-access-insights RPM will be installed on the newly selected system. Deselecting a system with the RPM already installed will unregister the system from Red Hat Insights and schedule the RPM to be uninstalled.</p></div><div ng-if="getSystems().length &lt; 1 &amp;&amp; !loadingSystems"><strong>No systems are registered.</strong></div><div ng-if="getSystems().length &lt; 1 &amp;&amp; loadingSystems"><strong>Loading systems...</strong></div><form ng-if="getSystems().length &gt; 0"><div class="spacewalk-list list"><div class=spacewalk-list-top-addons><div class=spacewalk-list-alphabar><ul class="spacewalk-alphabar pagination pagination-sm"><li ng-repeat="a in alphas" ng-class="{active: a === alpha, disabled: disableAlphabarElement(a)}"><a ng-click=alphabarFilter(a) ng-disabled=disableAlphabarElement(a)>{{a}}</a></li></ul></div><div rha-insights-sat5-pagination=rha-insights-sat5-pagination></div></div><div class=spacewalk-list-top-extra></div><div class="panel panel-default"><div class=panel-heading><div class=spacewalk-list-head-addons><div class=spacewalk-list-filter><div class="input-group input-group-sm"><input ng-model=filter ng-change=doFilter() ng-disabled=isLoading() placeholder="Filter by System Name" class="form-control"><span class=input-group-btn><button type=submit ng-disabled=isLoading() class="btn btn-default spacewalk-button-filter"><i class="fa fa-eye"></i></button></span></div></div><div class=spacewalk-list-head-addons-extra><div class=list-sizeselector><select ng-init="pageSize = 10" ng-disabled=isLoading() ng-options="s.value as s.value for s in pageSizes" ng-change=setPageSize(pageSize) ng-model=pageSize class=display-number></select></div></div></div></div><div ng-show=isLoading() class=panel-heading><i class="fa fa-spinner fa-spin fa-1-5x"></i>{{getLoadingMessage()}}</div><div class=table-responsive><table class="table table-striped"><thead><tr><th><input ui-indeterminate=allPartiallySelected() ng-checked=allSelected() type=checkbox ng-disabled=isLoading() ng-click="toggleAll()"></th><th ng-class="{ascSort: orderBy === &quot;name&quot;, descSort: orderBy === &quot;-name&quot;}"><a ng-disabled=isLoading() ng-click=toggleNameSort()>System</a></th><th>Last Check In</th><th>RPM Status</th></tr></thead><tbody><tr ng-repeat="system in filteredSystems = (getSystems() | systemsFilter:filter:orderBy:getPageStart():alpha)" ng-class="{&quot;list-row-odd&quot;: $index % 2 === 0, &quot;list-row-even&quot;: $index % 2 === 1}"><td width=20px><input ui-indeterminate=systemPartiallySelected(system) type=checkbox ng-model=system.enabled ng-change=updateSystemStatus(system) ng-disabled=disableSystemCheckbox(system) ng-if="!invalidType(getSystemStatus(system))"></td><td class=sortedCol><a ng-href={{getSystemUrl(system)}}>{{system.name}}</a></td><td width=150px><span ng-if="getSystemLastCheckIn(system) !== null &amp;&amp; getSystemLastCheckIn(system) !== &quot;never&quot;">{{getSystemLastCheckIn(system) | timeAgo }}</span><span ng-if="getSystemLastCheckIn(system) === null">Pending</span><span ng-if="getSystemLastCheckIn(system) === &quot;never&quot;">Not registered</span></td><td width=100px class=text-center><div tooltip={{installStatusTooltip(system)}} tooltip-trigger=mouseenter tooltip-append-to-body=true tooltip-placement=top><i ng-if=loadingStatus(getSystemStatus(system)) class="fa fa-question-circle fa-1-5x"></i><i ng-if=noInstallation(getSystemStatus(system)) class="fa fa-minus-circle fa-1-5x"></i><i ng-if=noChannel(getSystemStatus(system)) class="fa fa-ban fa-1-5x"></i><i ng-if=installationSuccess(getSystemStatus(system)) class="fa fa-check-circle fa-1-5x success"></i><a ng-href={{getPendingActionUrl(system)}}><i ng-if=installationPending(getSystemStatus(system)) class="fa fa-clock-o fa-1-5x"></i></a></div></td></tr></tbody></table></div><div class=panel-footer><div class=spacewalk-list-footer-addons><div class=spacewalk-list-footer-addons-extra><span class=spacewalk-list-selection-btns><button type=submit value="Select All" ng-disabled=isLoading() ng-click=toggleAll() class="btn btn-default">Select All</button></span></div></div></div></div><div class=spacewalk-list-bottom-addons><div rha-insights-sat5-pagination=rha-insights-sat5-pagination></div></div><div class=text-right><hr><div class=row><div class=col-md-12><input type=submit value=Apply ng-disabled=isLoading() ng-click=doApply() class="btn btn-default"></div></div></div></div></form>'),a.put("scripts/views/systemsOverview.html",'<div class=spacewalk-toolbar-h1><h1 ng-if="SystemOverviewService.tab === &quot;overview&quot;">Red Hat Insights Overview</h1><h1 ng-if="SystemOverviewService.tab === &quot;setup&quot;">Red Hat Insights Setup</h1></div><div ng-class="{&quot;insights-main-content&quot;: isOnOverviewTab()}" ui-view="" class="wrapper ng-cloak main-content"></div><div ng-if=isOnOverviewTab() class="row row-short"><div class=col-xs-12><actionbar></actionbar></div></div>');
}]);
//# sourceMappingURL=insights.app.js.map